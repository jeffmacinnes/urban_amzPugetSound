import{S as S1,b as x1,a as C1,m as eu,p as tu,q as qu,k as za,u as $u,f as bh,H as iu,M as g3,N as a5,n as yh,O as l5,P as _5,w as u5,c as nd,x as c5,d as rd,y as h5,A as q3,C as hh,D as dh,E as ph,j as mh,g as fh,F as gh,L as Al,Q as vh,o as d5,R as p5}from"../chunks/index.3f4b33d2.mjs";import{r as A2,d as P1,w as vp}from"../chunks/index.b2491f1e.mjs";function m5(k,H){let g,L;if(H===void 0)for(const G of k)G!=null&&(g===void 0?G>=G&&(g=L=G):(g>G&&(g=G),L<G&&(L=G)));else{let G=-1;for(let J of k)(J=H(J,++G,k))!=null&&(g===void 0?J>=J&&(g=L=J):(g>J&&(g=J),L<J&&(L=J)))}return[g,L]}var a2=Math.sqrt(50),l2=Math.sqrt(10),_2=Math.sqrt(2);function f5(k,H,g){var L,G=-1,J,O,a;if(H=+H,k=+k,g=+g,k===H&&g>0)return[k];if((L=H<k)&&(J=k,k=H,H=J),(a=$3(k,H,g))===0||!isFinite(a))return[];if(a>0){let j=Math.round(k/a),Z=Math.round(H/a);for(j*a<k&&++j,Z*a>H&&--Z,O=new Array(J=Z-j+1);++G<J;)O[G]=(j+G)*a}else{a=-a;let j=Math.round(k*a),Z=Math.round(H*a);for(j/a<k&&++j,Z/a>H&&--Z,O=new Array(J=Z-j+1);++G<J;)O[G]=(j+G)/a}return L&&O.reverse(),O}function $3(k,H,g){var L=(H-k)/Math.max(0,g),G=Math.floor(Math.log(L)/Math.LN10),J=L/Math.pow(10,G);return G>=0?(J>=a2?10:J>=l2?5:J>=_2?2:1)*Math.pow(10,G):-Math.pow(10,-G)/(J>=a2?10:J>=l2?5:J>=_2?2:1)}function g5(k,H,g){var L=Math.abs(H-k)/Math.max(0,g),G=Math.pow(10,Math.floor(Math.log(L)/Math.LN10)),J=L/G;return J>=a2?G*=10:J>=l2?G*=5:J>=_2&&(G*=2),H<k?-G:G}function b2(k,H,g){k.prototype=H.prototype=g,g.constructor=k}function Z3(k,H){var g=Object.create(k.prototype);for(var L in H)g[L]=H[L];return g}function N1(){}var T1=.7,hp=1/T1,sd="\\s*([+-]?\\d+)\\s*",y1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T5=/^#([0-9a-f]{3,8})$/,y5=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),A5=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),b5=new RegExp(`^rgba\\(${sd},${sd},${sd},${y1}\\)$`),v5=new RegExp(`^rgba\\(${nu},${nu},${nu},${y1}\\)$`),S5=new RegExp(`^hsl\\(${y1},${nu},${nu}\\)$`),x5=new RegExp(`^hsla\\(${y1},${nu},${nu},${y1}\\)$`),T3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b2(N1,A1,{copy(k){return Object.assign(new this.constructor,this,k)},displayable(){return this.rgb().displayable()},hex:y3,formatHex:y3,formatHex8:C5,formatHsl:P5,formatRgb:A3,toString:A3});function y3(){return this.rgb().formatHex()}function C5(){return this.rgb().formatHex8()}function P5(){return X3(this).formatHsl()}function A3(){return this.rgb().formatRgb()}function A1(k){var H,g;return k=(k+"").trim().toLowerCase(),(H=T5.exec(k))?(g=H[1].length,H=parseInt(H[1],16),g===6?b3(H):g===3?new Y0(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):g===8?lp(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):g===4?lp(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=y5.exec(k))?new Y0(H[1],H[2],H[3],1):(H=A5.exec(k))?new Y0(H[1]*255/100,H[2]*255/100,H[3]*255/100,1):(H=b5.exec(k))?lp(H[1],H[2],H[3],H[4]):(H=v5.exec(k))?lp(H[1]*255/100,H[2]*255/100,H[3]*255/100,H[4]):(H=S5.exec(k))?x3(H[1],H[2]/100,H[3]/100,1):(H=x5.exec(k))?x3(H[1],H[2]/100,H[3]/100,H[4]):T3.hasOwnProperty(k)?b3(T3[k]):k==="transparent"?new Y0(NaN,NaN,NaN,0):null}function b3(k){return new Y0(k>>16&255,k>>8&255,k&255,1)}function lp(k,H,g,L){return L<=0&&(k=H=g=NaN),new Y0(k,H,g,L)}function N5(k){return k instanceof N1||(k=A1(k)),k?(k=k.rgb(),new Y0(k.r,k.g,k.b,k.opacity)):new Y0}function dp(k,H,g,L){return arguments.length===1?N5(k):new Y0(k,H,g,L??1)}function Y0(k,H,g,L){this.r=+k,this.g=+H,this.b=+g,this.opacity=+L}b2(Y0,dp,Z3(N1,{brighter(k){return k=k==null?hp:Math.pow(hp,k),new Y0(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=k==null?T1:Math.pow(T1,k),new Y0(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Y0(Ah(this.r),Ah(this.g),Ah(this.b),pp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v3,formatHex:v3,formatHex8:w5,formatRgb:S3,toString:S3}));function v3(){return`#${Th(this.r)}${Th(this.g)}${Th(this.b)}`}function w5(){return`#${Th(this.r)}${Th(this.g)}${Th(this.b)}${Th((isNaN(this.opacity)?1:this.opacity)*255)}`}function S3(){const k=pp(this.opacity);return`${k===1?"rgb(":"rgba("}${Ah(this.r)}, ${Ah(this.g)}, ${Ah(this.b)}${k===1?")":`, ${k})`}`}function pp(k){return isNaN(k)?1:Math.max(0,Math.min(1,k))}function Ah(k){return Math.max(0,Math.min(255,Math.round(k)||0))}function Th(k){return k=Ah(k),(k<16?"0":"")+k.toString(16)}function x3(k,H,g,L){return L<=0?k=H=g=NaN:g<=0||g>=1?k=H=NaN:H<=0&&(k=NaN),new A_(k,H,g,L)}function X3(k){if(k instanceof A_)return new A_(k.h,k.s,k.l,k.opacity);if(k instanceof N1||(k=A1(k)),!k)return new A_;if(k instanceof A_)return k;k=k.rgb();var H=k.r/255,g=k.g/255,L=k.b/255,G=Math.min(H,g,L),J=Math.max(H,g,L),O=NaN,a=J-G,j=(J+G)/2;return a?(H===J?O=(g-L)/a+(g<L)*6:g===J?O=(L-H)/a+2:O=(H-g)/a+4,a/=j<.5?J+G:2-J-G,O*=60):a=j>0&&j<1?0:O,new A_(O,a,j,k.opacity)}function E5(k,H,g,L){return arguments.length===1?X3(k):new A_(k,H,g,L??1)}function A_(k,H,g,L){this.h=+k,this.s=+H,this.l=+g,this.opacity=+L}b2(A_,E5,Z3(N1,{brighter(k){return k=k==null?hp:Math.pow(hp,k),new A_(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=k==null?T1:Math.pow(T1,k),new A_(this.h,this.s,this.l*k,this.opacity)},rgb(){var k=this.h%360+(this.h<0)*360,H=isNaN(k)||isNaN(this.s)?0:this.s,g=this.l,L=g+(g<.5?g:1-g)*H,G=2*g-L;return new Y0(i2(k>=240?k-240:k+120,G,L),i2(k,G,L),i2(k<120?k+240:k-120,G,L),this.opacity)},clamp(){return new A_(C3(this.h),_p(this.s),_p(this.l),pp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const k=pp(this.opacity);return`${k===1?"hsl(":"hsla("}${C3(this.h)}, ${_p(this.s)*100}%, ${_p(this.l)*100}%${k===1?")":`, ${k})`}`}}));function C3(k){return k=(k||0)%360,k<0?k+360:k}function _p(k){return Math.max(0,Math.min(1,k||0))}function i2(k,H,g){return(k<60?H+(g-H)*k/60:k<180?g:k<240?H+(g-H)*(240-k)/60:H)*255}function M5(k,H,g,L,G){var J=k*k,O=J*k;return((1-3*k+3*J-O)*H+(4-6*J+3*O)*g+(1+3*k+3*J-3*O)*L+O*G)/6}function I5(k){var H=k.length-1;return function(g){var L=g<=0?g=0:g>=1?(g=1,H-1):Math.floor(g*H),G=k[L],J=k[L+1],O=L>0?k[L-1]:2*G-J,a=L<H-1?k[L+2]:2*J-G;return M5((g-L/H)*H,O,G,J,a)}}const v2=k=>()=>k;function k5(k,H){return function(g){return k+g*H}}function L5(k,H,g){return k=Math.pow(k,g),H=Math.pow(H,g)-k,g=1/g,function(L){return Math.pow(k+L*H,g)}}function D5(k){return(k=+k)==1?K3:function(H,g){return g-H?L5(H,g,k):v2(isNaN(H)?g:H)}}function K3(k,H){var g=H-k;return g?k5(k,g):v2(isNaN(k)?H:k)}const P3=function k(H){var g=D5(H);function L(G,J){var O=g((G=dp(G)).r,(J=dp(J)).r),a=g(G.g,J.g),j=g(G.b,J.b),Z=K3(G.opacity,J.opacity);return function(ye){return G.r=O(ye),G.g=a(ye),G.b=j(ye),G.opacity=Z(ye),G+""}}return L.gamma=k,L}(1);function R5(k){return function(H){var g=H.length,L=new Array(g),G=new Array(g),J=new Array(g),O,a;for(O=0;O<g;++O)a=dp(H[O]),L[O]=a.r||0,G[O]=a.g||0,J[O]=a.b||0;return L=k(L),G=k(G),J=k(J),a.opacity=1,function(j){return a.r=L(j),a.g=G(j),a.b=J(j),a+""}}}var H5=R5(I5);function F5(k,H){H||(H=[]);var g=k?Math.min(H.length,k.length):0,L=H.slice(),G;return function(J){for(G=0;G<g;++G)L[G]=k[G]*(1-J)+H[G]*J;return L}}function O5(k){return ArrayBuffer.isView(k)&&!(k instanceof DataView)}function B5(k,H){var g=H?H.length:0,L=k?Math.min(g,k.length):0,G=new Array(L),J=new Array(g),O;for(O=0;O<L;++O)G[O]=S2(k[O],H[O]);for(;O<g;++O)J[O]=H[O];return function(a){for(O=0;O<L;++O)J[O]=G[O](a);return J}}function G5(k,H){var g=new Date;return k=+k,H=+H,function(L){return g.setTime(k*(1-L)+H*L),g}}function u2(k,H){return k=+k,H=+H,function(g){return k*(1-g)+H*g}}function W5(k,H){var g={},L={},G;(k===null||typeof k!="object")&&(k={}),(H===null||typeof H!="object")&&(H={});for(G in H)G in k?g[G]=S2(k[G],H[G]):L[G]=H[G];return function(J){for(G in g)L[G]=g[G](J);return L}}var c2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n2=new RegExp(c2.source,"g");function U5(k){return function(){return k}}function z5(k){return function(H){return k(H)+""}}function V5(k,H){var g=c2.lastIndex=n2.lastIndex=0,L,G,J,O=-1,a=[],j=[];for(k=k+"",H=H+"";(L=c2.exec(k))&&(G=n2.exec(H));)(J=G.index)>g&&(J=H.slice(g,J),a[O]?a[O]+=J:a[++O]=J),(L=L[0])===(G=G[0])?a[O]?a[O]+=G:a[++O]=G:(a[++O]=null,j.push({i:O,x:u2(L,G)})),g=n2.lastIndex;return g<H.length&&(J=H.slice(g),a[O]?a[O]+=J:a[++O]=J),a.length<2?j[0]?z5(j[0].x):U5(H):(H=j.length,function(Z){for(var ye=0,me;ye<H;++ye)a[(me=j[ye]).i]=me.x(Z);return a.join("")})}function S2(k,H){var g=typeof H,L;return H==null||g==="boolean"?v2(H):(g==="number"?u2:g==="string"?(L=A1(H))?(H=L,P3):V5:H instanceof A1?P3:H instanceof Date?G5:O5(H)?F5:Array.isArray(H)?B5:typeof H.valueOf!="function"&&typeof H.toString!="function"||isNaN(H)?W5:u2)(k,H)}function J5(k,H){return k=+k,H=+H,function(g){return Math.round(k*(1-g)+H*g)}}function j5(k){return Math.abs(k=Math.round(k))>=1e21?k.toLocaleString("en").replace(/,/g,""):k.toString(10)}function mp(k,H){if((g=(k=H?k.toExponential(H-1):k.toExponential()).indexOf("e"))<0)return null;var g,L=k.slice(0,g);return[L.length>1?L[0]+L.slice(2):L,+k.slice(g+1)]}function od(k){return k=mp(Math.abs(k)),k?k[1]:NaN}function Y5(k,H){return function(g,L){for(var G=g.length,J=[],O=0,a=k[0],j=0;G>0&&a>0&&(j+a+1>L&&(a=Math.max(1,L-j)),J.push(g.substring(G-=a,G+a)),!((j+=a+1)>L));)a=k[O=(O+1)%k.length];return J.reverse().join(H)}}function q5(k){return function(H){return H.replace(/[0-9]/g,function(g){return k[+g]})}}var $5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(k){if(!(H=$5.exec(k)))throw new Error("invalid format: "+k);var H;return new x2({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}fp.prototype=x2.prototype;function x2(k){this.fill=k.fill===void 0?" ":k.fill+"",this.align=k.align===void 0?">":k.align+"",this.sign=k.sign===void 0?"-":k.sign+"",this.symbol=k.symbol===void 0?"":k.symbol+"",this.zero=!!k.zero,this.width=k.width===void 0?void 0:+k.width,this.comma=!!k.comma,this.precision=k.precision===void 0?void 0:+k.precision,this.trim=!!k.trim,this.type=k.type===void 0?"":k.type+""}x2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Z5(k){e:for(var H=k.length,g=1,L=-1,G;g<H;++g)switch(k[g]){case".":L=G=g;break;case"0":L===0&&(L=g),G=g;break;default:if(!+k[g])break e;L>0&&(L=0);break}return L>0?k.slice(0,L)+k.slice(G+1):k}var Q3;function X5(k,H){var g=mp(k,H);if(!g)return k+"";var L=g[0],G=g[1],J=G-(Q3=Math.max(-8,Math.min(8,Math.floor(G/3)))*3)+1,O=L.length;return J===O?L:J>O?L+new Array(J-O+1).join("0"):J>0?L.slice(0,J)+"."+L.slice(J):"0."+new Array(1-J).join("0")+mp(k,Math.max(0,H+J-1))[0]}function N3(k,H){var g=mp(k,H);if(!g)return k+"";var L=g[0],G=g[1];return G<0?"0."+new Array(-G).join("0")+L:L.length>G+1?L.slice(0,G+1)+"."+L.slice(G+1):L+new Array(G-L.length+2).join("0")}const w3={"%":(k,H)=>(k*100).toFixed(H),b:k=>Math.round(k).toString(2),c:k=>k+"",d:j5,e:(k,H)=>k.toExponential(H),f:(k,H)=>k.toFixed(H),g:(k,H)=>k.toPrecision(H),o:k=>Math.round(k).toString(8),p:(k,H)=>N3(k*100,H),r:N3,s:X5,X:k=>Math.round(k).toString(16).toUpperCase(),x:k=>Math.round(k).toString(16)};function E3(k){return k}var M3=Array.prototype.map,I3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function K5(k){var H=k.grouping===void 0||k.thousands===void 0?E3:Y5(M3.call(k.grouping,Number),k.thousands+""),g=k.currency===void 0?"":k.currency[0]+"",L=k.currency===void 0?"":k.currency[1]+"",G=k.decimal===void 0?".":k.decimal+"",J=k.numerals===void 0?E3:q5(M3.call(k.numerals,String)),O=k.percent===void 0?"%":k.percent+"",a=k.minus===void 0?"−":k.minus+"",j=k.nan===void 0?"NaN":k.nan+"";function Z(me){me=fp(me);var rt=me.fill,ht=me.align,Ht=me.sign,Se=me.symbol,Be=me.zero,Gt=me.width,xt=me.comma,fi=me.precision,Fi=me.trim,Me=me.type;Me==="n"?(xt=!0,Me="g"):w3[Me]||(fi===void 0&&(fi=12),Fi=!0,Me="g"),(Be||rt==="0"&&ht==="=")&&(Be=!0,rt="0",ht="=");var it=Se==="$"?g:Se==="#"&&/[boxX]/.test(Me)?"0"+Me.toLowerCase():"",ri=Se==="$"?L:/[%p]/.test(Me)?O:"",Mi=w3[Me],si=/[defgprs%]/.test(Me);fi=fi===void 0?6:/[gprs]/.test(Me)?Math.max(1,Math.min(21,fi)):Math.max(0,Math.min(20,fi));function Ze(ze){var Kt=it,ji=ri,oi,Y,ce;if(Me==="c")ji=Mi(ze)+ji,ze="";else{ze=+ze;var de=ze<0||1/ze<0;if(ze=isNaN(ze)?j:Mi(Math.abs(ze),fi),Fi&&(ze=Z5(ze)),de&&+ze==0&&Ht!=="+"&&(de=!1),Kt=(de?Ht==="("?Ht:a:Ht==="-"||Ht==="("?"":Ht)+Kt,ji=(Me==="s"?I3[8+Q3/3]:"")+ji+(de&&Ht==="("?")":""),si){for(oi=-1,Y=ze.length;++oi<Y;)if(ce=ze.charCodeAt(oi),48>ce||ce>57){ji=(ce===46?G+ze.slice(oi+1):ze.slice(oi))+ji,ze=ze.slice(0,oi);break}}}xt&&!Be&&(ze=H(ze,1/0));var be=Kt.length+ze.length+ji.length,xe=be<Gt?new Array(Gt-be+1).join(rt):"";switch(xt&&Be&&(ze=H(xe+ze,xe.length?Gt-ji.length:1/0),xe=""),ht){case"<":ze=Kt+ze+ji+xe;break;case"=":ze=Kt+xe+ze+ji;break;case"^":ze=xe.slice(0,be=xe.length>>1)+Kt+ze+ji+xe.slice(be);break;default:ze=xe+Kt+ze+ji;break}return J(ze)}return Ze.toString=function(){return me+""},Ze}function ye(me,rt){var ht=Z((me=fp(me),me.type="f",me)),Ht=Math.max(-8,Math.min(8,Math.floor(od(rt)/3)))*3,Se=Math.pow(10,-Ht),Be=I3[8+Ht/3];return function(Gt){return ht(Se*Gt)+Be}}return{format:Z,formatPrefix:ye}}var up,em,tm;Q5({thousands:",",grouping:[3],currency:["$",""]});function Q5(k){return up=K5(k),em=up.format,tm=up.formatPrefix,up}function ef(k){return Math.max(0,-od(Math.abs(k)))}function tf(k,H){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(od(H)/3)))*3-od(Math.abs(k)))}function nf(k,H){return k=Math.abs(k),H=Math.abs(H)-k,Math.max(0,od(H)-od(k))+1}function rf(k,H){switch(arguments.length){case 0:break;case 1:{typeof k=="function"?this.interpolator(k):this.range(k);break}default:{this.domain(k),typeof H=="function"?this.interpolator(H):this.range(H);break}}return this}function im(k){return k}function sf(k,H,g,L){var G=g5(k,H,g),J;switch(L=fp(L??",f"),L.type){case"s":{var O=Math.max(Math.abs(k),Math.abs(H));return L.precision==null&&!isNaN(J=tf(G,O))&&(L.precision=J),tm(L,O)}case"":case"e":case"g":case"p":case"r":{L.precision==null&&!isNaN(J=nf(G,Math.max(Math.abs(k),Math.abs(H))))&&(L.precision=J-(L.type==="e"));break}case"f":case"%":{L.precision==null&&!isNaN(J=ef(G))&&(L.precision=J-(L.type==="%")*2);break}}return em(L)}function of(k){var H=k.domain;return k.ticks=function(g){var L=H();return f5(L[0],L[L.length-1],g??10)},k.tickFormat=function(g,L){var G=H();return sf(G[0],G[G.length-1],g??10,L)},k.nice=function(g){g==null&&(g=10);var L=H(),G=0,J=L.length-1,O=L[G],a=L[J],j,Z,ye=10;for(a<O&&(Z=O,O=a,a=Z,Z=G,G=J,J=Z);ye-- >0;){if(Z=$3(O,a,g),Z===j)return L[G]=O,L[J]=a,H(L);if(Z>0)O=Math.floor(O/Z)*Z,a=Math.ceil(a/Z)*Z;else if(Z<0)O=Math.ceil(O*Z)/Z,a=Math.floor(a*Z)/Z;else break;j=Z}return k},k}function af(){var k=0,H=1,g,L,G,J,O=im,a=!1,j;function Z(me){return me==null||isNaN(me=+me)?j:O(G===0?.5:(me=(J(me)-g)*G,a?Math.max(0,Math.min(1,me)):me))}Z.domain=function(me){return arguments.length?([k,H]=me,g=J(k=+k),L=J(H=+H),G=g===L?0:1/(L-g),Z):[k,H]},Z.clamp=function(me){return arguments.length?(a=!!me,Z):a},Z.interpolator=function(me){return arguments.length?(O=me,Z):O};function ye(me){return function(rt){var ht,Ht;return arguments.length?([ht,Ht]=rt,O=me(ht,Ht),Z):[O(0),O(1)]}}return Z.range=ye(S2),Z.rangeRound=ye(J5),Z.unknown=function(me){return arguments.length?(j=me,Z):j},function(me){return J=me,g=me(k),L=me(H),G=g===L?0:1/(L-g),Z}}function lf(k,H){return H.domain(k.domain()).interpolator(k.interpolator()).clamp(k.clamp()).unknown(k.unknown())}function nm(){var k=of(af()(im));return k.copy=function(){return lf(k,nm())},rf.apply(k,arguments)}function _f(k){for(var H=k.length/6|0,g=new Array(H),L=0;L<H;)g[L]="#"+k.slice(L*6,++L*6);return g}const uf=k=>H5(k[k.length-1]);var cf=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(_f);const hf=uf(cf);function id(k,H,g){this.k=k,this.x=H,this.y=g}id.prototype={constructor:id,scale:function(k){return k===1?this:new id(this.k*k,this.x,this.y)},translate:function(k,H){return k===0&H===0?this:new id(this.k,this.x+this.k*k,this.y+this.k*H)},apply:function(k){return[k[0]*this.k+this.x,k[1]*this.k+this.y]},applyX:function(k){return k*this.k+this.x},applyY:function(k){return k*this.k+this.y},invert:function(k){return[(k[0]-this.x)/this.k,(k[1]-this.y)/this.k]},invertX:function(k){return(k-this.x)/this.k},invertY:function(k){return(k-this.y)/this.k},rescaleX:function(k){return k.copy().domain(k.range().map(this.invertX,this).map(k.invert,k))},rescaleY:function(k){return k.copy().domain(k.range().map(this.invertY,this).map(k.invert,k))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new id(1,0,0);id.prototype;const df=[{JURISDICTION_ID:"G53003180",name:"Auburn",lat:"47.30383630831077",lng:"-122.21082596788582"},{JURISDICTION_ID:"G53005210",name:"Bellevue",lat:"47.595759038312764",lng:"-122.15126397764314"},{JURISDICTION_ID:"G53007380",name:"Bothell",lat:"47.773530183728134",lng:"-122.20437638098404"},{JURISDICTION_ID:"G53008850",name:"Burien",lat:"47.47626739445383",lng:"-122.339398053768"},{JURISDICTION_ID:"G53017635",name:"Des Moines",lat:"47.391363416952785",lng:"-122.31546390508132"},{JURISDICTION_ID:"G53018965",name:"DuPont",lat:"47.10772313157154",lng:"-122.64948172472126"},{JURISDICTION_ID:"G53020645",name:"Edgewood",lat:"47.23091268264862",lng:"-122.28312392177924"},{JURISDICTION_ID:"G53020750",name:"Edmonds",lat:"47.81149686666552",lng:"-122.3531948129148"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"47.95469021615774",lng:"-121.80104755769395"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"47.960834276991626",lng:"-121.79533097984653"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"47.955418994317036",lng:"-121.8800017407289"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"47.94826968410418",lng:"-121.83615544643165"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"48.007667202491206",lng:"-122.2272637944921"},{JURISDICTION_ID:"G53022640",name:"Everett",lat:"47.950541832136125",lng:"-122.22068531005316"},{JURISDICTION_ID:"G53023515",name:"Federal Way",lat:"47.30908750986168",lng:"-122.33571885793766"},{JURISDICTION_ID:"G53023795",name:"Fife",lat:"47.23291703434517",lng:"-122.3516921429724"},{JURISDICTION_ID:"G53023970",name:"Fircrest",lat:"47.23071618810969",lng:"-122.51570377252392"},{JURISDICTION_ID:"G53033805",name:"Issaquah",lat:"47.543963739009214",lng:"-122.0470796425184"},{JURISDICTION_ID:"G53035170",name:"Kenmore",lat:"47.75326145981039",lng:"-122.25717063379874"},{JURISDICTION_ID:"G53035170",name:"Kenmore",lat:"47.753217579162865",lng:"-122.24580697155207"},{JURISDICTION_ID:"G53035415",name:"Kent",lat:"47.34541260552689",lng:"-122.04855636744878"},{JURISDICTION_ID:"G53035415",name:"Kent",lat:"47.3616730318292",lng:"-122.00567986002616"},{JURISDICTION_ID:"G53035415",name:"Kent",lat:"47.35434825361593",lng:"-122.10674834937524"},{JURISDICTION_ID:"G53035415",name:"Kent",lat:"47.3367203968578",lng:"-122.17934319808292"},{JURISDICTION_ID:"G53035415",name:"Kent",lat:"47.38977165436442",lng:"-122.21699738683427"},{JURISDICTION_ID:"G53035940",name:"Kirkland",lat:"47.69962402921821",lng:"-122.19814816976896"},{JURISDICTION_ID:"G53037270",name:"Lake Forest Park",lat:"47.75971049449975",lng:"-122.28804366596782"},{JURISDICTION_ID:"G53038038",name:"Lakewood",lat:"47.16276101830885",lng:"-122.52990215024263"},{JURISDICTION_ID:"G53040840",name:"Lynnwood",lat:"47.84630247347831",lng:"-122.3391422301251"},{JURISDICTION_ID:"G53040840",name:"Lynnwood",lat:"47.82837425438308",lng:"-122.3032253482964"},{JURISDICTION_ID:"G53045005",name:"Mercer Island",lat:"47.562571244976645",lng:"-122.22648420714712"},{JURISDICTION_ID:"G53045865",name:"Mill Creek",lat:"47.86309586202787",lng:"-122.20372658838619"},{JURISDICTION_ID:"G53046020",name:"Milton",lat:"47.252421367541125",lng:"-122.31534223698927"},{JURISDICTION_ID:"G53047490",name:"Mountlake Terrace",lat:"47.79210077719913",lng:"-122.30764029200833"},{JURISDICTION_ID:"G53047735",name:"Mukilteo",lat:"47.9094211946825",lng:"-122.30332118932316"},{JURISDICTION_ID:"G53048645",name:"Newcastle",lat:"47.53036506193558",lng:"-122.16333238398674"},{JURISDICTION_ID:"G53049415",name:"Normandy Park",lat:"47.434507612714334",lng:"-122.34349807080972"},{JURISDICTION_ID:"G53056695",name:"Puyallup",lat:"47.20851100195676",lng:"-122.28333499064964"},{JURISDICTION_ID:"G53056695",name:"Puyallup",lat:"47.17933133381622",lng:"-122.29019432652933"},{JURISDICTION_ID:"G53057535",name:"Redmond",lat:"47.6953156940329",lng:"-122.08131979381191"},{JURISDICTION_ID:"G53057535",name:"Redmond",lat:"47.7071671539583",lng:"-122.04736635451259"},{JURISDICTION_ID:"G53057535",name:"Redmond",lat:"47.67358307316252",lng:"-122.12279750373628"},{JURISDICTION_ID:"G53057745",name:"Renton",lat:"47.48986530713223",lng:"-122.23084098522011"},{JURISDICTION_ID:"G53057745",name:"Renton",lat:"47.47569187420682",lng:"-122.19028633964491"},{JURISDICTION_ID:"G53062288",name:"SeaTac",lat:"47.44437866589289",lng:"-122.29859334907474"},{JURISDICTION_ID:"G53063000",name:"Seattle",lat:"47.57778624734346",lng:"-122.33577509522918"},{JURISDICTION_ID:"G53063000",name:"Seattle",lat:"47.6902776115618",lng:"-122.32872768455995"},{JURISDICTION_ID:"G53063960",name:"Shoreline",lat:"47.75635130310366",lng:"-122.34246897612469"},{JURISDICTION_ID:"G53068435",name:"Sumner",lat:"47.18431291047598",lng:"-122.20173361414543"},{JURISDICTION_ID:"G53068435",name:"Sumner",lat:"47.187744898837906",lng:"-122.20017276079646"},{JURISDICTION_ID:"G53068435",name:"Sumner",lat:"47.19005897168267",lng:"-122.197496234693"},{JURISDICTION_ID:"G53068435",name:"Sumner",lat:"47.20345004832142",lng:"-122.26512676481238"},{JURISDICTION_ID:"G53068435",name:"Sumner",lat:"47.21930570308859",lng:"-122.2336997173087"},{JURISDICTION_ID:"G53070000",name:"Tacoma",lat:"47.226389633200114",lng:"-122.51031835637158"},{JURISDICTION_ID:"G53070000",name:"Tacoma",lat:"47.24245832920352",lng:"-122.4542106327496"},{JURISDICTION_ID:"G53072625",name:"Tukwila",lat:"47.47493127940666",lng:"-122.27271855079915"},{JURISDICTION_ID:"G53073465",name:"University Place",lat:"47.21452785946213",lng:"-122.54564746713743"}],pf=[{JURISDICTION_ID:"G53003180",STATEFP:"53",PLACEFP:"3180",PLACENS:"2409755",GEOID:"5303180",NAME:"Auburn",NAMELSAD:"Auburn city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"76603160",ALAND_sq_mi:"29.57664543",AWATER:"751472",INTPTLAT:"47.303773",INTPTLON:"-122.2100001",Shape_Leng:"72201.5595",Shape_Area:"77354618.39",NHPD_Units:"2109",Permits:"8742",Pop:"80914",Pop_density:"2735.739596",Non_white_share:"0.479200138",White_non_hisp:"0.520799862",Black_non_hisp:"0.070717058",Asian_non_Hisp:"0.115591863",Hispanic:"0.165014707",Workers:"39778",Transit_to_work:"0.055734326",Walk_to_Work:"0.015058575",Bike_to_work:"0.001860325",Green_commute_share:"0.072653225",BA_plus_25_plus:"0.267764396",Med_HH_inc:"76410",Cost_burdened:"0.472147154",Very_cost_burdened:"0.24845262",Med_housing_value:"356200",Jobs:"48826",Job_density:"1650.829541",Housing_units:"30828",Housing_density:"651.7027722",Permit_density:"295.5710451",Permits_per_capita:"108.0406357",Subsidized_hsg_share:"0.068411833"},{JURISDICTION_ID:"G53005210",STATEFP:"53",PLACEFP:"5210",PLACENS:"2409821",GEOID:"5305210",NAME:"Bellevue",NAMELSAD:"Bellevue city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"86663751",ALAND_sq_mi:"33.46106133",AWATER:"10472194",INTPTLAT:"47.597837",INTPTLON:"-122.1564797",Shape_Leng:"61211.9962",Shape_Area:"92989429.84",NHPD_Units:"2116",Permits:"13501",Pop:"146145",Pop_density:"4367.614003",Non_white_share:"0.52341168",White_non_hisp:"0.47658832",Black_non_hisp:"0.025707345",Asian_non_Hisp:"0.37427897",Hispanic:"0.073591296",Workers:"75115",Transit_to_work:"0.108167477",Walk_to_Work:"0.051600879",Bike_to_work:"0.006044066",Green_commute_share:"0.165812421",BA_plus_25_plus:"0.690680469",Med_HH_inc:"129497",Cost_burdened:"0.331525244",Very_cost_burdened:"0.154572697",Med_housing_value:"887700",Jobs:"157810",Job_density:"4716.228169",Housing_units:"62486",Housing_density:"1312.790747",Permit_density:"403.4839143",Permits_per_capita:"92.38085463",Subsidized_hsg_share:"0.033863585"},{JURISDICTION_ID:"G53007380",STATEFP:"53",PLACEFP:"7380",PLACENS:"2409882",GEOID:"5307380",NAME:"Bothell",NAMELSAD:"Bothell city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"35314926",ALAND_sq_mi:"13.63516916",AWATER:"0",INTPTLAT:"47.7735312",INTPTLON:"-122.204376",Shape_Leng:"33790.65981",Shape_Area:"35314925.89",NHPD_Units:"306",Permits:"5428",Pop:"46386",Pop_density:"3401.937993",Non_white_share:"0.354999353",White_non_hisp:"0.645000647",Black_non_hisp:"0.013107403",Asian_non_Hisp:"0.171689734",Hispanic:"0.114280171",Workers:"23969",Transit_to_work:"0.077850557",Walk_to_Work:"0.014518753",Bike_to_work:"0.005048187",Green_commute_share:"0.097417498",BA_plus_25_plus:"0.531777434",Med_HH_inc:"107651",Cost_burdened:"0.453924346",Very_cost_burdened:"0.233794368",Med_housing_value:"587900",Jobs:"32420",Job_density:"2377.674939",Housing_units:"18732",Housing_density:"392.0999669",Permit_density:"398.0882039",Permits_per_capita:"117.0180658",Subsidized_hsg_share:"0.016335682"},{JURISDICTION_ID:"G53008850",STATEFP:"53",PLACEFP:"8850",PLACENS:"2409940",GEOID:"5308850",NAME:"Burien",NAMELSAD:"Burien city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"26000610",ALAND_sq_mi:"10.03889164",AWATER:"2981436",INTPTLAT:"47.4756052",INTPTLON:"-122.3446615",Shape_Leng:"34468.53636",Shape_Area:"26170544.33",NHPD_Units:"1255",Permits:"2040",Pop:"51588",Pop_density:"5138.814306",Non_white_share:"0.521439094",White_non_hisp:"0.478560906",Black_non_hisp:"0.100100799",Asian_non_Hisp:"0.132046212",Hispanic:"0.229103668",Workers:"25711",Transit_to_work:"0.09968496",Walk_to_Work:"0.011318113",Bike_to_work:"0.003344872",Green_commute_share:"0.114347944",BA_plus_25_plus:"0.278683567",Med_HH_inc:"71233",Cost_burdened:"0.535450868",Very_cost_burdened:"0.258029979",Med_housing_value:"419500",Jobs:"15029",Job_density:"1497.077619",Housing_units:"20301",Housing_density:"427.6090829",Permit_density:"203.2096841",Permits_per_capita:"39.54408002",Subsidized_hsg_share:"0.061819615"},{JURISDICTION_ID:"G53017635",STATEFP:"53",PLACEFP:"17635",PLACENS:"2410327",GEOID:"5317635",NAME:"Des Moines",NAMELSAD:"Des Moines city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"16605956",ALAND_sq_mi:"6.411595456",AWATER:"2580245",INTPTLAT:"47.3887085",INTPTLON:"-122.3175807",Shape_Leng:"31642.55172",Shape_Area:"16605968.74",NHPD_Units:"683",Permits:"1792",Pop:"31983",Pop_density:"4988.305987",Non_white_share:"0.502516962",White_non_hisp:"0.497483038",Black_non_hisp:"0.092267767",Asian_non_Hisp:"0.11834412",Hispanic:"0.185192133",Workers:"15084",Transit_to_work:"0.062980642",Walk_to_Work:"0.007889154",Bike_to_work:"0.001657385",Green_commute_share:"0.072527181",BA_plus_25_plus:"0.289210137",Med_HH_inc:"70268",Cost_burdened:"0.567806841",Very_cost_burdened:"0.232394366",Med_housing_value:"379300",Jobs:"5247",Job_density:"818.3610516",Housing_units:"12950",Housing_density:"273.2718491",Permit_density:"279.4936162",Permits_per_capita:"56.02976581",Subsidized_hsg_share:"0.052741313"},{JURISDICTION_ID:"G53018965",STATEFP:"53",PLACEFP:"18965",PLACENS:"2410373",GEOID:"5318965",NAME:"DuPont",NAMELSAD:"DuPont city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"15075921",ALAND_sq_mi:"5.82084564",AWATER:"79487",INTPTLAT:"47.1073508",INTPTLON:"-122.6475757",Shape_Leng:"20615.98778",Shape_Area:"15155408.45",NHPD_Units:"0",Permits:"2621",Pop:"9514",Pop_density:"1634.470417",Non_white_share:"0.365566534",White_non_hisp:"0.634433466",Black_non_hisp:"0.082404877",Asian_non_Hisp:"0.073680891",Hispanic:"0.136220307",Workers:"4787",Transit_to_work:"0.008564863",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.008564863",BA_plus_25_plus:"0.607014682",Med_HH_inc:"93405",Cost_burdened:"0.34604599",Very_cost_burdened:"0.107122827",Med_housing_value:"343400",Jobs:"3259",Job_density:"559.8842851",Housing_units:"4123",Housing_density:"87.52349538",Permit_density:"450.2782176",Permits_per_capita:"275.4887534",Subsidized_hsg_share:"0"},{JURISDICTION_ID:"G53020750",STATEFP:"53",PLACEFP:"20750",PLACENS:"2410403",GEOID:"5320750",NAME:"Edmonds",NAMELSAD:"Edmonds city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"23093351",ALAND_sq_mi:"8.916392669",AWATER:"2823712",INTPTLAT:"47.8136037",INTPTLON:"-122.3533299",Shape_Leng:"38393.03819",Shape_Area:"23229395.36",NHPD_Units:"225",Permits:"2315",Pop:"42347",Pop_density:"4749.342203",Non_white_share:"0.251706142",White_non_hisp:"0.748293858",Black_non_hisp:"0.015892507",Asian_non_Hisp:"0.092899143",Hispanic:"0.07948615",Workers:"21563",Transit_to_work:"0.08407921",Walk_to_Work:"0.02360525",Bike_to_work:"0.007049112",Green_commute_share:"0.114733571",BA_plus_25_plus:"0.489292955",Med_HH_inc:"91499",Cost_burdened:"0.456154796",Very_cost_burdened:"0.193906958",Med_housing_value:"587200",Jobs:"13769",Job_density:"1544.234368",Housing_units:"18847",Housing_density:"394.1765218",Permit_density:"259.6341464",Permits_per_capita:"54.66739084",Subsidized_hsg_share:"0.01193824"},{JURISDICTION_ID:"G53022640",STATEFP:"53",PLACEFP:"22640",PLACENS:"2410469",GEOID:"5322640",NAME:"Everett",NAMELSAD:"Everett city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"85964420",ALAND_sq_mi:"33.19104812",AWATER:"38111441",INTPTLAT:"47.95113",INTPTLON:"-122.193002",Shape_Leng:"119506.7006",Shape_Area:"91039073.26",NHPD_Units:"4364",Permits:"8011",Pop:"110840",Pop_density:"3339.45465",Non_white_share:"0.380476362",White_non_hisp:"0.619523638",Black_non_hisp:"0.055043306",Asian_non_Hisp:"0.094234933",Hispanic:"0.164940455",Workers:"56045",Transit_to_work:"0.054081542",Walk_to_Work:"0.048193416",Bike_to_work:"0.004639129",Green_commute_share:"0.106914087",BA_plus_25_plus:"0.236951889",Med_HH_inc:"66023",Cost_burdened:"0.526726261",Very_cost_burdened:"0.25011402",Med_housing_value:"359900",Jobs:"98156",Job_density:"2957.303416",Housing_units:"45853",Housing_density:"956.2444097",Permit_density:"241.3602599",Permits_per_capita:"72.27535186",Subsidized_hsg_share:"0.095173707"},{JURISDICTION_ID:"G53023515",STATEFP:"53",PLACEFP:"23515",PLACENS:"2410494",GEOID:"5323515",NAME:"Federal Way",NAMELSAD:"Federal Way city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"57744826",ALAND_sq_mi:"22.29540196",AWATER:"3640215",INTPTLAT:"47.311596",INTPTLON:"-122.3377572",Shape_Leng:"41597.74656",Shape_Area:"58261384.04",NHPD_Units:"2545",Permits:"3843",Pop:"96812",Pop_density:"4342.240618",Non_white_share:"0.56871049",White_non_hisp:"0.43128951",Black_non_hisp:"0.152140231",Asian_non_Hisp:"0.13919762",Hispanic:"0.1746581",Workers:"47315",Transit_to_work:"0.074859981",Walk_to_Work:"0.015407376",Bike_to_work:"0.001289232",Green_commute_share:"0.091556589",BA_plus_25_plus:"0.294011957",Med_HH_inc:"68672",Cost_burdened:"0.55739175",Very_cost_burdened:"0.253010505",Med_housing_value:"359000",Jobs:"30325",Job_density:"1360.145919",Housing_units:"36726",Housing_density:"776.2578967",Permit_density:"172.367379",Permits_per_capita:"39.69549229",Subsidized_hsg_share:"0.069296956"},{JURISDICTION_ID:"G53023795",STATEFP:"53",PLACEFP:"23795",PLACENS:"2410502",GEOID:"5323795",NAME:"Fife",NAMELSAD:"Fife city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"14913093",ALAND_sq_mi:"5.757977398",AWATER:"336136",INTPTLAT:"47.231623",INTPTLON:"-122.3516479",Shape_Leng:"23881.91172",Shape_Area:"15249227.66",NHPD_Units:"114",Permits:"2001",Pop:"10345",Pop_density:"1796.637827",Non_white_share:"0.562783954",White_non_hisp:"0.437216046",Black_non_hisp:"0.094248429",Asian_non_Hisp:"0.152924118",Hispanic:"0.151184147",Workers:"5657",Transit_to_work:"0.032526074",Walk_to_Work:"0.025278416",Bike_to_work:"0",Green_commute_share:"0.05780449",BA_plus_25_plus:"0.265321047",Med_HH_inc:"75151",Cost_burdened:"0.445374245",Very_cost_burdened:"0.185495119",Med_housing_value:"325500",Jobs:"19563",Job_density:"3397.547202",Housing_units:"4088",Housing_density:"86.55218136",Permit_density:"347.5178629",Permits_per_capita:"193.4267762",Subsidized_hsg_share:"0.027886497"},{JURISDICTION_ID:"G53023970",STATEFP:"53",PLACEFP:"23970",PLACENS:"2410506",GEOID:"5323970",NAME:"Fircrest",NAMELSAD:"Fircrest city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"4101100",ALAND_sq_mi:"1.583443562",AWATER:"0",INTPTLAT:"47.2307163",INTPTLON:"-122.5157038",Shape_Leng:"12408.54134",Shape_Area:"4101099.949",NHPD_Units:"0",Permits:"373",Pop:"6844",Pop_density:"4322.225409",Non_white_share:"0.274985389",White_non_hisp:"0.725014611",Black_non_hisp:"0.01899474",Asian_non_Hisp:"0.09585038",Hispanic:"0.039158387",Workers:"3379",Transit_to_work:"0.013021604",Walk_to_Work:"0.016868896",Bike_to_work:"0",Green_commute_share:"0.0298905",BA_plus_25_plus:"0.425005244",Med_HH_inc:"82578",Cost_burdened:"0.397820163",Very_cost_burdened:"0.166212534",Med_housing_value:"375600",Jobs:"1214",Job_density:"766.6834669",Housing_units:"2864",Housing_density:"60.63850444",Permit_density:"235.5625479",Permits_per_capita:"54.50029223",Subsidized_hsg_share:"0"},{JURISDICTION_ID:"G53033805",STATEFP:"53",PLACEFP:"33805",PLACENS:"2410123",GEOID:"5333805",NAME:"Issaquah",NAMELSAD:"Issaquah city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"31415493",ALAND_sq_mi:"12.12958966",AWATER:"2720353",INTPTLAT:"47.5444883",INTPTLON:"-122.0490853",Shape_Leng:"53833.28577",Shape_Area:"34135831.54",NHPD_Units:"701",Permits:"9411",Pop:"38707",Pop_density:"3191.121966",Non_white_share:"0.406928979",White_non_hisp:"0.593071021",Black_non_hisp:"0.013175911",Asian_non_Hisp:"0.245588653",Hispanic:"0.095279924",Workers:"21389",Transit_to_work:"0.099350133",Walk_to_Work:"0.031324513",Bike_to_work:"0.005002571",Green_commute_share:"0.135677217",BA_plus_25_plus:"0.666915264",Med_HH_inc:"122053",Cost_burdened:"0.431796502",Very_cost_burdened:"0.186486486",Med_housing_value:"677500",Jobs:"31060",Job_density:"2560.680194",Housing_units:"16797",Housing_density:"353.2901626",Permit_density:"775.871259",Permits_per_capita:"243.1343168",Subsidized_hsg_share:"0.041733643"},{JURISDICTION_ID:"G53035170",STATEFP:"53",PLACEFP:"35170",PLACENS:"2410181",GEOID:"5335170",NAME:"Kenmore",NAMELSAD:"Kenmore city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"15924537",ALAND_sq_mi:"6.14849811",AWATER:"2770456",INTPTLAT:"47.7498584",INTPTLON:"-122.2472442",Shape_Leng:"23989.11704",Shape_Area:"15939379.37",NHPD_Units:"238",Permits:"2491",Pop:"22969",Pop_density:"3735.709045",Non_white_share:"0.26601071",White_non_hisp:"0.73398929",Black_non_hisp:"0.015020245",Asian_non_Hisp:"0.140406635",Hispanic:"0.066002003",Workers:"12356",Transit_to_work:"0.116380706",Walk_to_Work:"0.021285206",Bike_to_work:"0.004370346",Green_commute_share:"0.142036258",BA_plus_25_plus:"0.571428571",Med_HH_inc:"115093",Cost_burdened:"0.414542415",Very_cost_burdened:"0.139155871",Med_housing_value:"617000",Jobs:"3495",Job_density:"568.4314995",Housing_units:"9666",Housing_density:"202.4299197",Permit_density:"405.1395895",Permits_per_capita:"108.4505203",Subsidized_hsg_share:"0.024622388"},{JURISDICTION_ID:"G53035415",STATEFP:"53",PLACEFP:"35415",PLACENS:"2410185",GEOID:"5335415",NAME:"Kent",NAMELSAD:"Kent city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"87411126",ALAND_sq_mi:"33.74962443",AWATER:"1726257",INTPTLAT:"47.3879703",INTPTLON:"-122.2127275",Shape_Leng:"87540.1556",Shape_Area:"89137389.51",NHPD_Units:"3386",Permits:"7935",Pop:"130038",Pop_density:"3853.020654",Non_white_share:"0.584944401",White_non_hisp:"0.415055599",Black_non_hisp:"0.117427214",Asian_non_Hisp:"0.215821529",Hispanic:"0.159791753",Workers:"63546",Transit_to_work:"0.075551569",Walk_to_Work:"0.011424795",Bike_to_work:"0.003320429",Green_commute_share:"0.090296793",BA_plus_25_plus:"0.271499529",Med_HH_inc:"73891",Cost_burdened:"0.534623062",Very_cost_burdened:"0.255591381",Med_housing_value:"378800",Jobs:"77724",Job_density:"2302.958961",Housing_units:"46779",Housing_density:"987.1492639",Permit_density:"235.1137275",Permits_per_capita:"61.02062474",Subsidized_hsg_share:"0.072382907"},{JURISDICTION_ID:"G53035940",STATEFP:"53",PLACEFP:"35940",PLACENS:"2411552",GEOID:"5335940",NAME:"Kirkland",NAMELSAD:"Kirkland city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"46117521",ALAND_sq_mi:"17.8060744",AWATER:"12575358",INTPTLAT:"47.6966579",INTPTLON:"-122.2041702",Shape_Leng:"44930.81393",Shape_Area:"46151429.79",NHPD_Units:"615",Permits:"9711",Pop:"91146",Pop_density:"5118.814958",Non_white_share:"0.310611546",White_non_hisp:"0.689388454",Black_non_hisp:"0.018958594",Asian_non_Hisp:"0.152798806",Hispanic:"0.077019288",Workers:"49584",Transit_to_work:"0.086560181",Walk_to_Work:"0.030695386",Bike_to_work:"0.004255405",Green_commute_share:"0.121510971",BA_plus_25_plus:"0.622604698",Med_HH_inc:"116595",Cost_burdened:"0.403945304",Very_cost_burdened:"0.197937682",Med_housing_value:"724700",Jobs:"51312",Job_density:"2881.713219",Housing_units:"39594",Housing_density:"830.1210555",Permit_density:"545.3756836",Permits_per_capita:"106.543348",Subsidized_hsg_share:"0.015532656"},{JURISDICTION_ID:"G53037270",STATEFP:"53",PLACEFP:"37270",PLACENS:"2411603",GEOID:"5337270",NAME:"Lake Forest Park",NAMELSAD:"Lake Forest Park city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"9108864",ALAND_sq_mi:"3.516952052",AWATER:"1631503",INTPTLAT:"47.7589112",INTPTLON:"-122.2917288",Shape_Leng:"17693.07701",Shape_Area:"9158777.015",NHPD_Units:"0",Permits:"266",Pop:"13455",Pop_density:"3825.755882",Non_white_share:"0.233296172",White_non_hisp:"0.766703828",Black_non_hisp:"0.030100334",Asian_non_Hisp:"0.068599034",Hispanic:"0.063693794",Workers:"7273",Transit_to_work:"0.107933452",Walk_to_Work:"0.014986938",Bike_to_work:"0.013886979",Green_commute_share:"0.13680737",BA_plus_25_plus:"0.608175271",Med_HH_inc:"138043",Cost_burdened:"0.50798722",Very_cost_burdened:"0.16400426",Med_housing_value:"676400",Jobs:"1469",Job_density:"417.6912219",Housing_units:"5325",Housing_density:"111.4975167",Permit_density:"75.63367258",Permits_per_capita:"19.76960238",Subsidized_hsg_share:"0"},{JURISDICTION_ID:"G53038038",STATEFP:"53",PLACEFP:"38038",PLACENS:"2411615",GEOID:"5338038",NAME:"Lakewood",NAMELSAD:"Lakewood city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"44184014",ALAND_sq_mi:"17.05954318",AWATER:"4744533",INTPTLAT:"47.1640919",INTPTLON:"-122.5281062",Shape_Leng:"43550.88463",Shape_Area:"48928550.79",NHPD_Units:"471",Permits:"1609",Pop:"60564",Pop_density:"3550.15368",Non_white_share:"0.519186315",White_non_hisp:"0.480813685",Black_non_hisp:"0.125338485",Asian_non_Hisp:"0.076497589",Hispanic:"0.185341127",Workers:"27831",Transit_to_work:"0.042758076",Walk_to_Work:"0.016672056",Bike_to_work:"0.003161942",Green_commute_share:"0.062592074",BA_plus_25_plus:"0.22224602",Med_HH_inc:"55723",Cost_burdened:"0.537256344",Very_cost_burdened:"0.249356381",Med_housing_value:"309600",Jobs:"26862",Job_density:"1574.602539",Housing_units:"26830",Housing_density:"568.8649759",Permit_density:"94.31671078",Permits_per_capita:"26.56693745",Subsidized_hsg_share:"0.017554976"},{JURISDICTION_ID:"G53040840",STATEFP:"53",PLACEFP:"40840",PLACENS:"2410900",GEOID:"5340840",NAME:"Lynnwood",NAMELSAD:"Lynnwood city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"20400256",ALAND_sq_mi:"7.876582877",AWATER:"40853",INTPTLAT:"47.8289794",INTPTLON:"-122.3006719",Shape_Leng:"28088.55911",Shape_Area:"20434537.73",NHPD_Units:"2033",Permits:"2786",Pop:"38538",Pop_density:"4892.730846",Non_white_share:"0.463776013",White_non_hisp:"0.536223987",Black_non_hisp:"0.076210494",Asian_non_Hisp:"0.178628886",Hispanic:"0.13371218",Workers:"18284",Transit_to_work:"0.101017283",Walk_to_Work:"0.03122949",Bike_to_work:"0.008914898",Green_commute_share:"0.141161671",BA_plus_25_plus:"0.292192073",Med_HH_inc:"62926",Cost_burdened:"0.599394856",Very_cost_burdened:"0.320121029",Med_housing_value:"443100",Jobs:"30785",Job_density:"3908.420756",Housing_units:"15309",Housing_density:"320.0779149",Permit_density:"353.7066827",Permits_per_capita:"72.29228294",Subsidized_hsg_share:"0.132797701"},{JURISDICTION_ID:"G53045005",STATEFP:"53",PLACEFP:"45005",PLACENS:"2411082",GEOID:"5345005",NAME:"Mercer Island",NAMELSAD:"Mercer Island city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"16530954",ALAND_sq_mi:"6.382637022",AWATER:"16881611",INTPTLAT:"47.5640042",INTPTLON:"-122.2312143",Shape_Leng:"21886.158",Shape_Area:"16530953.75",NHPD_Units:"89",Permits:"1928",Pop:"25820",Pop_density:"4045.349894",Non_white_share:"0.306429125",White_non_hisp:"0.693570875",Black_non_hisp:"0.009101472",Asian_non_Hisp:"0.196979086",Hispanic:"0.03489543",Workers:"12313",Transit_to_work:"0.096320962",Walk_to_Work:"0.037440104",Bike_to_work:"0.003411029",Green_commute_share:"0.137172095",BA_plus_25_plus:"0.761700277",Med_HH_inc:"150506",Cost_burdened:"0.528423773",Very_cost_burdened:"0.304586563",Med_housing_value:"1386300",Jobs:"7071",Job_density:"1107.849307",Housing_units:"10886",Housing_density:"228.8705542",Permit_density:"302.0695041",Permits_per_capita:"74.67079783",Subsidized_hsg_share:"0.008175638"},{JURISDICTION_ID:"G53045865",STATEFP:"53",PLACEFP:"45865",PLACENS:"2411108",GEOID:"5345865",NAME:"Mill Creek",NAMELSAD:"Mill Creek city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"12026737",ALAND_sq_mi:"4.643549116",AWATER:"37933",INTPTLAT:"47.8651883",INTPTLON:"-122.2105658",Shape_Leng:"19074.07267",Shape_Area:"12064674.05",NHPD_Units:"266",Permits:"3166",Pop:"20750",Pop_density:"4468.564773",Non_white_share:"0.383662651",White_non_hisp:"0.616337349",Black_non_hisp:"0.041686747",Asian_non_Hisp:"0.189060241",Hispanic:"0.080674699",Workers:"11046",Transit_to_work:"0.059388014",Walk_to_Work:"0.003349629",Bike_to_work:"0.000633714",Green_commute_share:"0.063371356",BA_plus_25_plus:"0.499410418",Med_HH_inc:"104951",Cost_burdened:"0.456953642",Very_cost_burdened:"0.246136865",Med_housing_value:"584400",Jobs:"6672",Job_density:"1436.832008",Housing_units:"8810",Housing_density:"184.0586095",Permit_density:"681.8060757",Permits_per_capita:"152.5783133",Subsidized_hsg_share:"0.030192963"},{JURISDICTION_ID:"G53046020",STATEFP:"53",PLACEFP:"46020",PLACENS:"2411114",GEOID:"5346020",NAME:"Milton",NAMELSAD:"Milton city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"7199242",ALAND_sq_mi:"2.779642876",AWATER:"103929",INTPTLAT:"47.2519937",INTPTLON:"-122.3172889",Shape_Leng:"18727.66631",Shape_Area:"7303173.676",NHPD_Units:"151",Permits:"602",Pop:"8211",Pop_density:"2953.976596",Non_white_share:"0.280599196",White_non_hisp:"0.719400804",Black_non_hisp:"0.013762027",Asian_non_Hisp:"0.084764341",Hispanic:"0.113384484",Workers:"4241",Transit_to_work:"0.019335062",Walk_to_Work:"0.00754539",Bike_to_work:"0.003065315",Green_commute_share:"0.029945768",BA_plus_25_plus:"0.219058984",Med_HH_inc:"77064",Cost_burdened:"0.511231603",Very_cost_burdened:"0.286599535",Med_housing_value:"340600",Jobs:"1709",Job_density:"614.8271833",Housing_units:"3317",Housing_density:"70.19809621",Permit_density:"216.5745842",Permits_per_capita:"73.31628303",Subsidized_hsg_share:"0.045523063"},{JURISDICTION_ID:"G53047490",STATEFP:"53",PLACEFP:"47490",PLACENS:"2411187",GEOID:"5347490",NAME:"Mountlake Terrace",NAMELSAD:"Mountlake Terrace city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"10504511",ALAND_sq_mi:"4.055814372",AWATER:"271166",INTPTLAT:"47.7943292",INTPTLON:"-122.3026073",Shape_Leng:"16331.84894",Shape_Area:"10775670.7",NHPD_Units:"180",Permits:"1235",Pop:"21328",Pop_density:"5258.623311",Non_white_share:"0.338006377",White_non_hisp:"0.661993623",Black_non_hisp:"0.060999625",Asian_non_Hisp:"0.094992498",Hispanic:"0.102306827",Workers:"11554",Transit_to_work:"0.114938549",Walk_to_Work:"0.016617622",Bike_to_work:"0.000952051",Green_commute_share:"0.132508222",BA_plus_25_plus:"0.374249201",Med_HH_inc:"80738",Cost_burdened:"0.476836447",Very_cost_burdened:"0.172510878",Med_housing_value:"424700",Jobs:"6860",Job_density:"1691.398908",Housing_units:"8954",Housing_density:"187.3444015",Permit_density:"304.5011154",Permits_per_capita:"57.90510128",Subsidized_hsg_share:"0.020102747"},{JURISDICTION_ID:"G53047735",STATEFP:"53",PLACEFP:"47735",PLACENS:"2411192",GEOID:"5347735",NAME:"Mukilteo",NAMELSAD:"Mukilteo city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"16204735",ALAND_sq_mi:"6.256683162",AWATER:"3059416",INTPTLAT:"47.9130177",INTPTLON:"-122.3022531",Shape_Leng:"25591.94329",Shape_Area:"16204736.13",NHPD_Units:"0",Permits:"1480",Pop:"21414",Pop_density:"3422.580215",Non_white_share:"0.350705146",White_non_hisp:"0.649294854",Black_non_hisp:"0.016204352",Asian_non_Hisp:"0.176426637",Hispanic:"0.077892967",Workers:"10941",Transit_to_work:"0.057398775",Walk_to_Work:"0.008591536",Bike_to_work:"0.004204369",Green_commute_share:"0.070194681",BA_plus_25_plus:"0.497856952",Med_HH_inc:"102903",Cost_burdened:"0.504293521",Very_cost_burdened:"0.221311475",Med_housing_value:"624900",Jobs:"11257",Job_density:"1799.196109",Housing_units:"8700",Housing_density:"181.5790451",Permit_density:"236.5470588",Permits_per_capita:"69.11366396",Subsidized_hsg_share:"0"},{JURISDICTION_ID:"G53048645",STATEFP:"53",PLACEFP:"48645",PLACENS:"2411243",GEOID:"5348645",NAME:"Newcastle",NAMELSAD:"Newcastle city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"11522379",ALAND_sq_mi:"4.448815404",AWATER:"28798",INTPTLAT:"47.5316644",INTPTLON:"-122.1655662",Shape_Leng:"18798.87188",Shape_Area:"11551168.85",NHPD_Units:"0",Permits:"2514",Pop:"12078",Pop_density:"2714.880008",Non_white_share:"0.539907269",White_non_hisp:"0.460092731",Black_non_hisp:"0.027074019",Asian_non_Hisp:"0.341198874",Hispanic:"0.038499752",Workers:"6130",Transit_to_work:"0.045513866",Walk_to_Work:"0.013539967",Bike_to_work:"0.001305057",Green_commute_share:"0.060358891",BA_plus_25_plus:"0.73722216",Med_HH_inc:"155933",Cost_burdened:"0.450704225",Very_cost_burdened:"0.25258216",Med_housing_value:"780100",Jobs:"2423",Job_density:"544.6393658",Housing_units:"5107",Housing_density:"107.4441652",Permit_density:"565.0942491",Permits_per_capita:"208.1470442",Subsidized_hsg_share:"0"},{JURISDICTION_ID:"G53049415",STATEFP:"53",PLACEFP:"49415",PLACENS:"2411268",GEOID:"5349415",NAME:"Normandy Park",NAMELSAD:"Normandy Park city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"6437429",ALAND_sq_mi:"2.485505232",AWATER:"2153762",INTPTLAT:"47.4329749",INTPTLON:"-122.3446892",Shape_Leng:"16657.30887",Shape_Area:"6455935.076",NHPD_Units:"105",Permits:"288",Pop:"6643",Pop_density:"2672.696043",Non_white_share:"0.183350896",White_non_hisp:"0.816649104",Black_non_hisp:"0.00752672",Asian_non_Hisp:"0.05855788",Hispanic:"0.057353605",Workers:"3323",Transit_to_work:"0.033403551",Walk_to_Work:"0.006921457",Bike_to_work:"0.004513993",Green_commute_share:"0.044839001",BA_plus_25_plus:"0.520054253",Med_HH_inc:"102212",Cost_burdened:"0.618677043",Very_cost_burdened:"0.190661479",Med_housing_value:"685800",Jobs:"834",Job_density:"335.5454614",Housing_units:"2924",Housing_density:"61.64487904",Permit_density:"115.871814",Permits_per_capita:"43.35390637",Subsidized_hsg_share:"0.035909713"},{JURISDICTION_ID:"G53056695",STATEFP:"53",PLACEFP:"56695",PLACENS:"2411504",GEOID:"5356695",NAME:"Puyallup",NAMELSAD:"Puyallup city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"36610495",ALAND_sq_mi:"14.13539115",AWATER:"278481",INTPTLAT:"47.1792231",INTPTLON:"-122.2891914",Shape_Leng:"37102.94611",Shape_Area:"36888984.68",NHPD_Units:"609",Permits:"3766",Pop:"41666",Pop_density:"2947.636862",Non_white_share:"0.237075793",White_non_hisp:"0.762924207",Black_non_hisp:"0.033912543",Asian_non_Hisp:"0.059424951",Hispanic:"0.062184995",Workers:"20316",Transit_to_work:"0.050649734",Walk_to_Work:"0.015308132",Bike_to_work:"0",Green_commute_share:"0.065957866",BA_plus_25_plus:"0.267504855",Med_HH_inc:"76565",Cost_burdened:"0.47736405",Very_cost_burdened:"0.177873024",Med_housing_value:"352800",Jobs:"30197",Job_density:"2136.269148",Housing_units:"16845",Housing_density:"357.0427594",Permit_density:"266.4234729",Permits_per_capita:"90.38544617",Subsidized_hsg_share:"0.036153161"},{JURISDICTION_ID:"G53057535",STATEFP:"53",PLACEFP:"57535",PLACENS:"2411534",GEOID:"5357535",NAME:"Redmond",NAMELSAD:"Redmond city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"42908262",ALAND_sq_mi:"16.56697258",AWATER:"1732419",INTPTLAT:"47.6779241",INTPTLON:"-122.1153356",Shape_Leng:"57143.13281",Shape_Area:"44640687.55",NHPD_Units:"775",Permits:"10840",Pop:"67959",Pop_density:"4102.077171",Non_white_share:"0.508586059",White_non_hisp:"0.491413941",Black_non_hisp:"0.015730073",Asian_non_Hisp:"0.367177269",Hispanic:"0.076340146",Workers:"35706",Transit_to_work:"0.102223716",Walk_to_Work:"0.032599563",Bike_to_work:"0.00943819",Green_commute_share:"0.144261469",BA_plus_25_plus:"0.717732207",Med_HH_inc:"132770",Cost_burdened:"0.323479988",Very_cost_burdened:"0.151772075",Med_housing_value:"788500",Jobs:"99687",Job_density:"6017.212833",Housing_units:"28606",Housing_density:"599.9841759",Permit_density:"654.3138735",Permits_per_capita:"159.5079386",Subsidized_hsg_share:"0.027092218"},{JURISDICTION_ID:"G53057745",STATEFP:"53",PLACEFP:"57745",PLACENS:"2410926",GEOID:"5357745",NAME:"Renton",NAMELSAD:"Renton city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"60796849",ALAND_sq_mi:"23.47379463",AWATER:"4561455",INTPTLAT:"47.4791902",INTPTLON:"-122.1946129",Shape_Leng:"70459.99178",Shape_Area:"61084532.45",NHPD_Units:"2038",Permits:"12279",Pop:"101871",Pop_density:"4339.77555",Non_white_share:"0.557705333",White_non_hisp:"0.442294667",Black_non_hisp:"0.086992373",Asian_non_Hisp:"0.237614238",Hispanic:"0.148334659",Workers:"54959",Transit_to_work:"0.068178096",Walk_to_Work:"0.01926891",Bike_to_work:"0.001128114",Green_commute_share:"0.08857512",BA_plus_25_plus:"0.350322994",Med_HH_inc:"79824",Cost_burdened:"0.473978306",Very_cost_burdened:"0.212227457",Med_housing_value:"442600",Jobs:"64324",Job_density:"2740.247199",Housing_units:"40922",Housing_density:"861.8933859",Permit_density:"523.0939519",Permits_per_capita:"120.534794",Subsidized_hsg_share:"0.049802062"},{JURISDICTION_ID:"G53062288",STATEFP:"53",PLACEFP:"62288",PLACENS:"2411855",GEOID:"5362288",NAME:"SeaTac",NAMELSAD:"SeaTac city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"26066425",ALAND_sq_mi:"10.06430296",AWATER:"453909",INTPTLAT:"47.4434029",INTPTLON:"-122.298287",Shape_Leng:"30972.15488",Shape_Area:"26520329.93",NHPD_Units:"1546",Permits:"1259",Pop:"29102",Pop_density:"2891.606117",Non_white_share:"0.666002337",White_non_hisp:"0.333997663",Black_non_hisp:"0.233557831",Asian_non_Hisp:"0.117174077",Hispanic:"0.210844615",Workers:"14681",Transit_to_work:"0.093249779",Walk_to_Work:"0.036850351",Bike_to_work:"0.001770997",Green_commute_share:"0.131871126",BA_plus_25_plus:"0.218232595",Med_HH_inc:"66131",Cost_burdened:"0.513840156",Very_cost_burdened:"0.195126706",Med_housing_value:"338000",Jobs:"33334",Job_density:"3312.102203",Housing_units:"11010",Housing_density:"232.0659845",Permit_density:"125.0955983",Permits_per_capita:"43.2616315",Subsidized_hsg_share:"0.140417802"},{JURISDICTION_ID:"G53063000",STATEFP:"53",PLACEFP:"63000",PLACENS:"2411856",GEOID:"5363000",NAME:"Seattle",NAMELSAD:"Seattle city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"217119656",ALAND_sq_mi:"83.83036784",AWATER:"150846139",INTPTLAT:"47.6193387",INTPTLON:"-122.3515649",Shape_Leng:"166017.3476",Shape_Area:"219632330.5",NHPD_Units:"28956",Permits:"141554",Pop:"741251",Pop_density:"8842.273022",Non_white_share:"0.374256493",White_non_hisp:"0.625743507",Black_non_hisp:"0.069127731",Asian_non_Hisp:"0.161874992",Hispanic:"0.071186413",Workers:"447820",Transit_to_work:"0.205488812",Walk_to_Work:"0.107505248",Bike_to_work:"0.031351882",Green_commute_share:"0.344345943",BA_plus_25_plus:"0.650128846",Med_HH_inc:"97185",Cost_burdened:"0.436448716",Very_cost_burdened:"0.191902958",Med_housing_value:"713600",Jobs:"582361",Job_density:"6946.897824",Housing_units:"367337",Housing_density:"7714.029846",Permit_density:"1688.57663",Permits_per_capita:"190.9663528",Subsidized_hsg_share:"0.078826799"},{JURISDICTION_ID:"G53063960",STATEFP:"53",PLACEFP:"63960",PLACENS:"2411893",GEOID:"5363960",NAME:"Shoreline",NAMELSAD:"Shoreline city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"30133850",ALAND_sq_mi:"11.63474453",AWATER:"2077937",INTPTLAT:"47.7569166",INTPTLON:"-122.3455045",Shape_Leng:"27859.90104",Shape_Area:"30193252.17",NHPD_Units:"1242",Permits:"3891",Pop:"56835",Pop_density:"4884.937512",Non_white_share:"0.356136184",White_non_hisp:"0.643863816",Black_non_hisp:"0.059822293",Asian_non_Hisp:"0.152318114",Hispanic:"0.077311516",Workers:"29207",Transit_to_work:"0.126921628",Walk_to_Work:"0.019618585",Bike_to_work:"0.006402575",Green_commute_share:"0.152942788",BA_plus_25_plus:"0.510737496",Med_HH_inc:"91524",Cost_burdened:"0.556291391",Very_cost_burdened:"0.26950763",Med_housing_value:"582000",Jobs:"18243",Job_density:"1567.975984",Housing_units:"22761",Housing_density:"476.6011213",Permit_density:"334.4293456",Permits_per_capita:"68.46133544",Subsidized_hsg_share:"0.054567023"},{JURISDICTION_ID:"G53068435",STATEFP:"53",PLACEFP:"68435",PLACENS:"2412001",GEOID:"5368435",NAME:"Sumner",NAMELSAD:"Sumner city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"19507000",ALAND_sq_mi:"7.531694807",AWATER:"310283",INTPTLAT:"47.2272148",INTPTLON:"-122.2362644",Shape_Leng:"33365.3646",Shape_Area:"19817277.88",NHPD_Units:"86",Permits:"927",Pop:"10246",Pop_density:"1360.384384",Non_white_share:"0.225844232",White_non_hisp:"0.774155768",Black_non_hisp:"0.010540699",Asian_non_Hisp:"0.012395081",Hispanic:"0.152254538",Workers:"4773",Transit_to_work:"0.038131154",Walk_to_Work:"0.028074586",Bike_to_work:"0.004818772",Green_commute_share:"0.071024513",BA_plus_25_plus:"0.266684571",Med_HH_inc:"68447",Cost_burdened:"0.541053631",Very_cost_burdened:"0.181300427",Med_housing_value:"347500",Jobs:"16046",Job_density:"2130.463383",Housing_units:"4439",Housing_density:"93.99241558",Permit_density:"123.0798676",Permits_per_capita:"90.47433145",Subsidized_hsg_share:"0.019373733"},{JURISDICTION_ID:"G53070000",STATEFP:"53",PLACEFP:"70000",PLACENS:"2412025",GEOID:"5370000",NAME:"Tacoma",NAMELSAD:"Tacoma city",LSAD:"25",CLASSFP:"C1",PCICBSA:"Y",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"128759844",ALAND_sq_mi:"49.7144537",AWATER:"32921338",INTPTLAT:"47.2521991",INTPTLON:"-122.4598318",Shape_Leng:"127664.3269",Shape_Area:"129298000.5",NHPD_Units:"4813",Permits:"13723",Pop:"215766",Pop_density:"4340.106024",Non_white_share:"0.424483005",White_non_hisp:"0.575516995",Black_non_hisp:"0.103218301",Asian_non_Hisp:"0.085787381",Hispanic:"0.118929767",Workers:"107216",Transit_to_work:"0.064962319",Walk_to_Work:"0.025742427",Bike_to_work:"0.005335025",Green_commute_share:"0.09603977",BA_plus_25_plus:"0.301693879",Med_HH_inc:"64457",Cost_burdened:"0.521044917",Very_cost_burdened:"0.245497854",Med_housing_value:"311700",Jobs:"116248",Job_density:"2338.313938",Housing_units:"91813",Housing_density:"1943.041842",Permit_density:"276.0364236",Permits_per_capita:"63.60130883",Subsidized_hsg_share:"0.05242177"},{JURISDICTION_ID:"G53072625",STATEFP:"53",PLACEFP:"72625",PLACENS:"2412106",GEOID:"5372625",NAME:"Tukwila",NAMELSAD:"Tukwila city",LSAD:"25",CLASSFP:"C1",PCICBSA:"N",PCINECTA:"N",MTFCC:"G4110",FUNCSTAT:"A",ALAND:"23788091",ALAND_sq_mi:"9.184633283",AWATER:"1069363",INTPTLAT:"47.476289",INTPTLON:"-122.2757402",Shape_Leng:"38353.20932",Shape_Area:"24857461.44",NHPD_Units:"604",Permits:"559",Pop:"20265",Pop_density:"2206.402736",Non_white_share:"0.722378485",White_non_hisp:"0.277621515",Black_non_hisp:"0.201085616",Asian_non_Hisp:"0.260991858",Hispanic:"0.175622995",Workers:"11043",Transit_to_work:"0.113193878",Walk_to_Work:"0.020556008",Bike_to_work:"0.002535543",Green_commute_share:"0.13628543",BA_plus_25_plus:"0.24137931",Med_HH_inc:"63053",Cost_burdened:"0.507421786",Very_cost_burdened:"0.222425211",Med_housing_value:"314200",Jobs:"46277",Job_density:"5038.52452",Housing_units:"7726",Housing_density:"162.7338649",Permit_density:"60.86252796",Permits_per_capita:"27.5845053",Subsidized_hsg_share:"0.078177582"}],k3=[{TRACT_ID:"G5300330000101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"101",GEOID:"53033000101",NAME:"1.01",NAMELSAD:"Census Tract 1.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"414848",AWATER:"0",INTPTLAT:"47.730115",INTPTLON:"-122.2930741",Shape_Leng:"2636.057684",Shape_Area:"414848.5869",NHPD_Units:"193",Permits:"705",Pop:"3659",Pop_density:"22843.94886",Non_white_share:"0.579666576",White_non_hisp:"0.420333424",Black_non_hisp:"0.191855698",Asian_non_Hisp:"0.154687073",Hispanic:"0.104126811",Workers:"2087",Transit_to_work:"0.221370388",Walk_to_Work:"0.020603737",Bike_to_work:"0",Green_commute_share:"0.241974126",BA_plus_25_plus:"0.495584989",Med_HH_inc:"57862",Cost_burdened:"0.457760314",Very_cost_burdened:"0.210870989",Med_housing_value:"475000",Jobs:"312",Job_density:"1947.885226",Housing_units:"1996",Housing_density:"12461.47087",Permit_density:"4401.471425",Permits_per_capita:"192.6755944",Subsidized_hsg_share:"0.096693387"},{TRACT_ID:"G5300330000102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"102",GEOID:"53033000102",NAME:"1.02",NAMELSAD:"Census Tract 1.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1495019",AWATER:"918878",INTPTLAT:"47.7247297",INTPTLON:"-122.2845705",Shape_Leng:"5739.392827",Shape_Area:"1495017.252",NHPD_Units:"465",Permits:"1193",Pop:"4539",Pop_density:"7863.415805",Non_white_share:"0.340163032",White_non_hisp:"0.659836968",Black_non_hisp:"0.067195417",Asian_non_Hisp:"0.151575237",Hispanic:"0.085701696",Workers:"2577",Transit_to_work:"0.161816065",Walk_to_Work:"0.034148234",Bike_to_work:"0.031431898",Green_commute_share:"0.227396197",BA_plus_25_plus:"0.536612633",Med_HH_inc:"66589",Cost_burdened:"0.645502646",Very_cost_burdened:"0.223985891",Med_housing_value:"672800",Jobs:"1087",Job_density:"1883.131302",Housing_units:"2330",Housing_density:"4036.518798",Permit_density:"2066.766921",Permits_per_capita:"262.8332232",Subsidized_hsg_share:"0.199570815"},{TRACT_ID:"G5300330000201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"201",GEOID:"53033000201",NAME:"2.01",NAMELSAD:"Census Tract 2.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1806749",AWATER:"0",INTPTLAT:"47.7263725",INTPTLON:"-122.3160435",Shape_Leng:"5679.500647",Shape_Area:"1806748.281",NHPD_Units:"231",Permits:"219",Pop:"4680",Pop_density:"6708.814759",Non_white_share:"0.39957265",White_non_hisp:"0.60042735",Black_non_hisp:"0.088461538",Asian_non_Hisp:"0.153205128",Hispanic:"0.117307692",Workers:"2868",Transit_to_work:"0.265341702",Walk_to_Work:"0.019177127",Bike_to_work:"0.018479777",Green_commute_share:"0.302998605",BA_plus_25_plus:"0.621128319",Med_HH_inc:"80730",Cost_burdened:"0.603588907",Very_cost_burdened:"0.241435563",Med_housing_value:"582100",Jobs:"440",Job_density:"630.7432679",Housing_units:"2535",Housing_density:"3633.941328",Permit_density:"313.9381265",Permits_per_capita:"46.79487179",Subsidized_hsg_share:"0.09112426"},{TRACT_ID:"G5300330000202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"202",GEOID:"53033000202",NAME:"2.02",NAMELSAD:"Census Tract 2.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1480085",AWATER:"0",INTPTLAT:"47.7269637",INTPTLON:"-122.3026174",Shape_Leng:"5260.469167",Shape_Area:"1480087.383",NHPD_Units:"70",Permits:"211",Pop:"4194",Pop_density:"7339.044808",Non_white_share:"0.388888889",White_non_hisp:"0.611111111",Black_non_hisp:"0.057224607",Asian_non_Hisp:"0.169527897",Hispanic:"0.087982833",Workers:"2203",Transit_to_work:"0.166591012",Walk_to_Work:"0.040399455",Bike_to_work:"0.0154335",Green_commute_share:"0.222423967",BA_plus_25_plus:"0.597996243",Med_HH_inc:"103750",Cost_burdened:"0.445843829",Very_cost_burdened:"0.146095718",Med_housing_value:"526300",Jobs:"422",Job_density:"738.4541986",Housing_units:"1566",Housing_density:"2740.330036",Permit_density:"369.2270993",Permits_per_capita:"50.30996662",Subsidized_hsg_share:"0.044699872"},{TRACT_ID:"G5300330000300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"300",GEOID:"53033000300",NAME:"3",NAMELSAD:"Census Tract 3",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1211013",AWATER:"0",INTPTLAT:"47.7305259",INTPTLON:"-122.3329277",Shape_Leng:"5279.085234",Shape_Area:"1211014.053",NHPD_Units:"0",Permits:"174",Pop:"2943",Pop_density:"6294.180994",Non_white_share:"0.335372069",White_non_hisp:"0.664627931",Black_non_hisp:"0.038056405",Asian_non_Hisp:"0.182466871",Hispanic:"0.032619776",Workers:"1795",Transit_to_work:"0.113649025",Walk_to_Work:"0.057938719",Bike_to_work:"0.008913649",Green_commute_share:"0.180501393",BA_plus_25_plus:"0.530263839",Med_HH_inc:"101897",Cost_burdened:"0.422960725",Very_cost_burdened:"0.238670695",Med_housing_value:"520300",Jobs:"772",Job_density:"1651.072962",Housing_units:"1249",Housing_density:"2671.230738",Permit_density:"372.1330252",Permits_per_capita:"59.12334353",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"402",GEOID:"53033000402",NAME:"4.02",NAMELSAD:"Census Tract 4.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1798938",AWATER:"0",INTPTLAT:"47.7168585",INTPTLON:"-122.3523664",Shape_Leng:"6509.940887",Shape_Area:"1798937.332",NHPD_Units:"0",Permits:"210",Pop:"5374",Pop_density:"7737.118291",Non_white_share:"0.178451805",White_non_hisp:"0.821548195",Black_non_hisp:"0.014700409",Asian_non_Hisp:"0.07406029",Hispanic:"0.047450689",Workers:"2895",Transit_to_work:"0.192400691",Walk_to_Work:"0.034887737",Bike_to_work:"0.023488774",Green_commute_share:"0.250777202",BA_plus_25_plus:"0.446379468",Med_HH_inc:"75472",Cost_burdened:"0.449207281",Very_cost_burdened:"0.169700528",Med_housing_value:"634900",Jobs:"1338",Job_density:"1926.361048",Housing_units:"2970",Housing_density:"4276.003224",Permit_density:"302.3436623",Permits_per_capita:"39.07703759",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"403",GEOID:"53033000403",NAME:"4.03",NAMELSAD:"Census Tract 4.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"669384",AWATER:"62871",INTPTLAT:"47.7279716",INTPTLON:"-122.3536298",Shape_Leng:"4293.927219",Shape_Area:"732257.6417",NHPD_Units:"651",Permits:"152",Pop:"3347",Pop_density:"12950.25009",Non_white_share:"0.318195399",White_non_hisp:"0.681804601",Black_non_hisp:"0.078577831",Asian_non_Hisp:"0.121003884",Hispanic:"0.026590977",Workers:"1487",Transit_to_work:"0.120376597",Walk_to_Work:"0.075319435",Bike_to_work:"0",Green_commute_share:"0.195696032",BA_plus_25_plus:"0.432559969",Med_HH_inc:"37432",Cost_burdened:"0.547024952",Very_cost_burdened:"0.265834933",Med_housing_value:"446700",Jobs:"259",Job_density:"1002.125716",Housing_units:"1772",Housing_density:"6856.242353",Permit_density:"588.1201116",Permits_per_capita:"45.41380341",Subsidized_hsg_share:"0.36738149"},{TRACT_ID:"G5300330000404",STATEFP:"53",COUNTYFP:"33",TRACTCE:"404",GEOID:"53033000404",NAME:"4.04",NAMELSAD:"Census Tract 4.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"599476",AWATER:"31541",INTPTLAT:"47.7329839",INTPTLON:"-122.3497477",Shape_Leng:"3945.65212",Shape_Area:"631016.7778",NHPD_Units:"1314",Permits:"1643",Pop:"3739",Pop_density:"16154.05044",Non_white_share:"0.5956138",White_non_hisp:"0.4043862",Black_non_hisp:"0.384594811",Asian_non_Hisp:"0.113934207",Hispanic:"0.077025943",Workers:"2222",Transit_to_work:"0.178667867",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.178667867",BA_plus_25_plus:"0.235086594",Med_HH_inc:"33089",Cost_burdened:"0.702356557",Very_cost_burdened:"0.335040984",Med_housing_value:"361900",Jobs:"802",Job_density:"3464.976854",Housing_units:"2428",Housing_density:"10489.9798",Permit_density:"7098.450088",Permits_per_capita:"439.4223054",Subsidized_hsg_share:"0.541186161"},{TRACT_ID:"G5300330000500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"500",GEOID:"53033000500",NAME:"5",NAMELSAD:"Census Tract 5",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2898252",AWATER:"953717",INTPTLAT:"47.7224094",INTPTLON:"-122.3710555",Shape_Leng:"8266.879383",Shape_Area:"2898256.846",NHPD_Units:"0",Permits:"66",Pop:"3143",Pop_density:"2808.704223",Non_white_share:"0.195991091",White_non_hisp:"0.804008909",Black_non_hisp:"0.003818008",Asian_non_Hisp:"0.076678333",Hispanic:"0.020680878",Workers:"1488",Transit_to_work:"0.095430108",Walk_to_Work:"0.028225806",Bike_to_work:"0.025537634",Green_commute_share:"0.149193548",BA_plus_25_plus:"0.761006289",Med_HH_inc:"158068",Cost_burdened:"0.642857143",Very_cost_burdened:"0.371428571",Med_housing_value:"912600",Jobs:"150",Job_density:"134.0456995",Housing_units:"1343",Housing_density:"1200.155829",Permit_density:"58.98010776",Permits_per_capita:"20.9990455",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"601",GEOID:"53033000601",NAME:"6.01",NAMELSAD:"Census Tract 6.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1431268",AWATER:"0",INTPTLAT:"47.7167031",INTPTLON:"-122.3232436",Shape_Leng:"6121.592972",Shape_Area:"1431268.617",NHPD_Units:"0",Permits:"217",Pop:"4758",Pop_density:"8609.962235",Non_white_share:"0.385456074",White_non_hisp:"0.614543926",Black_non_hisp:"0.130306852",Asian_non_Hisp:"0.161202186",Hispanic:"0.033837747",Workers:"2574",Transit_to_work:"0.137529138",Walk_to_Work:"0.032245532",Bike_to_work:"0.013597514",Green_commute_share:"0.183372183",BA_plus_25_plus:"0.49091941",Med_HH_inc:"81004",Cost_burdened:"0.386338186",Very_cost_burdened:"0.128779395",Med_housing_value:"623700",Jobs:"415",Job_density:"750.9740075",Housing_units:"2070",Housing_density:"3745.822158",Permit_density:"392.677975",Permits_per_capita:"45.60739807",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"602",GEOID:"53033000602",NAME:"6.02",NAMELSAD:"Census Tract 6.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2355577",AWATER:"55191",INTPTLAT:"47.7188129",INTPTLON:"-122.3363779",Shape_Leng:"7061.234668",Shape_Area:"2410775.045",NHPD_Units:"124",Permits:"415",Pop:"3883",Pop_density:"4269.409929",Non_white_share:"0.444244141",White_non_hisp:"0.555755859",Black_non_hisp:"0.084213237",Asian_non_Hisp:"0.177440124",Hispanic:"0.104815864",Workers:"2178",Transit_to_work:"0.1271809",Walk_to_Work:"0.061983471",Bike_to_work:"0.012855831",Green_commute_share:"0.202020202",BA_plus_25_plus:"0.475502291",Med_HH_inc:"79850",Cost_burdened:"0.520833333",Very_cost_burdened:"0.222222222",Med_housing_value:"544000",Jobs:"6524",Job_density:"7173.224408",Housing_units:"1556",Housing_density:"1710.842609",Permit_density:"456.2979965",Permits_per_capita:"106.8761267",Subsidized_hsg_share:"0.079691517"},{TRACT_ID:"G5300330000700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"700",GEOID:"53033000700",NAME:"7",NAMELSAD:"Census Tract 7",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1294438",AWATER:"0",INTPTLAT:"47.7156896",INTPTLON:"-122.3018611",Shape_Leng:"4930.278677",Shape_Area:"1294439.239",NHPD_Units:"0",Permits:"769",Pop:"5529",Pop_density:"11062.75021",Non_white_share:"0.441490324",White_non_hisp:"0.558509676",Black_non_hisp:"0.09495388",Asian_non_Hisp:"0.1835775",Hispanic:"0.105444022",Workers:"3518",Transit_to_work:"0.145821489",Walk_to_Work:"0.016770893",Bike_to_work:"0.049175668",Green_commute_share:"0.21176805",BA_plus_25_plus:"0.505384423",Med_HH_inc:"76888",Cost_burdened:"0.492151431",Very_cost_burdened:"0.104339797",Med_housing_value:"541300",Jobs:"1404",Job_density:"2809.20624",Housing_units:"2472",Housing_density:"4946.123807",Permit_density:"1538.660683",Permits_per_capita:"139.0848255",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"800",GEOID:"53033000800",NAME:"8",NAMELSAD:"Census Tract 8",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1141931",AWATER:"0",INTPTLAT:"47.7112517",INTPTLON:"-122.2860818",Shape_Leng:"4656.514301",Shape_Area:"1141932.972",NHPD_Units:"0",Permits:"86",Pop:"2849",Pop_density:"6461.753054",Non_white_share:"0.24956125",White_non_hisp:"0.75043875",Black_non_hisp:"0.021762022",Asian_non_Hisp:"0.12987013",Hispanic:"0.025623026",Workers:"1707",Transit_to_work:"0.110720562",Walk_to_Work:"0.001757469",Bike_to_work:"0.014059754",Green_commute_share:"0.126537786",BA_plus_25_plus:"0.669847328",Med_HH_inc:"109300",Cost_burdened:"0.527972028",Very_cost_burdened:"0.234265734",Med_housing_value:"644200",Jobs:"107",Job_density:"242.6843021",Housing_units:"1204",Housing_density:"2730.765418",Permit_density:"195.0546727",Permits_per_capita:"30.18603019",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330000900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"900",GEOID:"53033000900",NAME:"9",NAMELSAD:"Census Tract 9",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1004853",AWATER:"1849039",INTPTLAT:"47.7080031",INTPTLON:"-122.2748976",Shape_Leng:"6178.357813",Shape_Area:"1004850.676",NHPD_Units:"0",Permits:"67",Pop:"2203",Pop_density:"5678.187563",Non_white_share:"0.25283704",White_non_hisp:"0.74716296",Black_non_hisp:"0.044484793",Asian_non_Hisp:"0.137539719",Hispanic:"0.032682705",Workers:"1075",Transit_to_work:"0.149767442",Walk_to_Work:"0.013023256",Bike_to_work:"0.00744186",Green_commute_share:"0.170232558",BA_plus_25_plus:"0.778026906",Med_HH_inc:"128250",Cost_burdened:"0.364779874",Very_cost_burdened:"0.06918239",Med_housing_value:"954100",Jobs:"169",Job_density:"435.5940527",Housing_units:"991",Housing_density:"2554.282285",Permit_density:"172.6911333",Permits_per_capita:"30.41307308",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330001000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1000",GEOID:"53033001000",NAME:"10",NAMELSAD:"Census Tract 10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"954203",AWATER:"0",INTPTLAT:"47.7064073",INTPTLON:"-122.2960632",Shape_Leng:"4002.112549",Shape_Area:"954204.8362",NHPD_Units:"50",Permits:"124",Pop:"2037",Pop_density:"5529.018228",Non_white_share:"0.273932253",White_non_hisp:"0.726067747",Black_non_hisp:"0.063819342",Asian_non_Hisp:"0.11143839",Hispanic:"0.019145803",Workers:"1045",Transit_to_work:"0.180861244",Walk_to_Work:"0.007655502",Bike_to_work:"0.083253589",Green_commute_share:"0.271770335",BA_plus_25_plus:"0.671641791",Med_HH_inc:"106964",Cost_burdened:"0.575892857",Very_cost_burdened:"0.272321429",Med_housing_value:"657000",Jobs:"517",Job_density:"1403.290341",Housing_units:"758",Housing_density:"2057.435355",Permit_density:"336.5725382",Permits_per_capita:"60.87383407",Subsidized_hsg_share:"0.065963061"},{TRACT_ID:"G5300330001100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1100",GEOID:"53033001100",NAME:"11",NAMELSAD:"Census Tract 11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1060685",AWATER:"0",INTPTLAT:"47.7065465",INTPTLON:"-122.306806",Shape_Leng:"4310.026065",Shape_Area:"1060690.902",NHPD_Units:"0",Permits:"65",Pop:"2713",Pop_density:"6624.622525",Non_white_share:"0.43899742",White_non_hisp:"0.56100258",Black_non_hisp:"0.006266126",Asian_non_Hisp:"0.313306303",Hispanic:"0.0508662",Workers:"1496",Transit_to_work:"0.143048128",Walk_to_Work:"0.034090909",Bike_to_work:"0.011363636",Green_commute_share:"0.188502674",BA_plus_25_plus:"0.700335089",Med_HH_inc:"119583",Cost_burdened:"0.69023569",Very_cost_burdened:"0.373737374",Med_housing_value:"668300",Jobs:"401",Job_density:"979.1646268",Housing_units:"1123",Housing_density:"2742.149317",Permit_density:"158.7174582",Permits_per_capita:"23.95871729",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330001201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1201",GEOID:"53033001201",NAME:"12.01",NAMELSAD:"Census Tract 12.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1008240",AWATER:"0",INTPTLAT:"47.7079921",INTPTLON:"-122.3273315",Shape_Leng:"4846.626211",Shape_Area:"1008240.495",NHPD_Units:"237",Permits:"139",Pop:"4135",Pop_density:"10622.07494",Non_white_share:"0.379201935",White_non_hisp:"0.620798065",Black_non_hisp:"0.089721886",Asian_non_Hisp:"0.178718259",Hispanic:"0.065054414",Workers:"2010",Transit_to_work:"0.274626866",Walk_to_Work:"0.056218905",Bike_to_work:"0.017910448",Green_commute_share:"0.348756219",BA_plus_25_plus:"0.379502292",Med_HH_inc:"47924",Cost_burdened:"0.553660983",Very_cost_burdened:"0.317452357",Med_housing_value:"335800",Jobs:"4387",Job_density:"11269.41784",Housing_units:"2537",Housing_density:"6517.098941",Permit_density:"357.0661225",Permits_per_capita:"33.61547763",Subsidized_hsg_share:"0.093417422"},{TRACT_ID:"G5300330001202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1202",GEOID:"53033001202",NAME:"12.02",NAMELSAD:"Census Tract 12.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"821426",AWATER:"0",INTPTLAT:"47.7060217",INTPTLON:"-122.3172561",Shape_Leng:"4056.047483",Shape_Area:"821425.584",NHPD_Units:"0",Permits:"771",Pop:"3111",Pop_density:"9809.103938",Non_white_share:"0.447123112",White_non_hisp:"0.552876888",Black_non_hisp:"0.156541305",Asian_non_Hisp:"0.145290903",Hispanic:"0.075538412",Workers:"1818",Transit_to_work:"0.292079208",Walk_to_Work:"0.0220022",Bike_to_work:"0.02860286",Green_commute_share:"0.342684268",BA_plus_25_plus:"0.605741627",Med_HH_inc:"72660",Cost_burdened:"0.596846847",Very_cost_burdened:"0.364864865",Med_housing_value:"637400",Jobs:"1421",Job_density:"4480.46824",Housing_units:"1588",Housing_density:"5007.025732",Permit_density:"2430.992972",Permits_per_capita:"247.8302797",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330001300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1300",GEOID:"53033001300",NAME:"13",NAMELSAD:"Census Tract 13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1180877",AWATER:"0",INTPTLAT:"47.7022935",INTPTLON:"-122.3421875",Shape_Leng:"4537.684022",Shape_Area:"1180880.933",NHPD_Units:"424",Permits:"653",Pop:"4998",Pop_density:"10961.98891",Non_white_share:"0.457182873",White_non_hisp:"0.542817127",Black_non_hisp:"0.044617847",Asian_non_Hisp:"0.163465386",Hispanic:"0.171868747",Workers:"3207",Transit_to_work:"0.249454319",Walk_to_Work:"0.019956345",Bike_to_work:"0.021203617",Green_commute_share:"0.290614281",BA_plus_25_plus:"0.532943271",Med_HH_inc:"77791",Cost_burdened:"0.384142174",Very_cost_burdened:"0.187286398",Med_housing_value:"606500",Jobs:"1378",Job_density:"3022.333076",Housing_units:"2572",Housing_density:"5641.103536",Permit_density:"1432.208635",Permits_per_capita:"130.6522609",Subsidized_hsg_share:"0.164852255"},{TRACT_ID:"G5300330001400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1400",GEOID:"53033001400",NAME:"14",NAMELSAD:"Census Tract 14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2152767",AWATER:"213389",INTPTLAT:"47.7078795",INTPTLON:"-122.3674088",Shape_Leng:"9368.481707",Shape_Area:"2152766.775",NHPD_Units:"72",Permits:"348",Pop:"5517",Pop_density:"6637.487663",Non_white_share:"0.276055827",White_non_hisp:"0.723944173",Black_non_hisp:"0.009787928",Asian_non_Hisp:"0.096791735",Hispanic:"0.043501903",Workers:"3599",Transit_to_work:"0.183384273",Walk_to_Work:"0.00277855",Bike_to_work:"0.047235343",Green_commute_share:"0.233398166",BA_plus_25_plus:"0.645680147",Med_HH_inc:"104095",Cost_burdened:"0.482076638",Very_cost_burdened:"0.232385661",Med_housing_value:"621100",Jobs:"886",Job_density:"1065.944185",Housing_units:"2475",Housing_density:"2977.665754",Permit_density:"418.6778515",Permits_per_capita:"63.07775965",Subsidized_hsg_share:"0.029090909"},{TRACT_ID:"G5300330001500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1500",GEOID:"53033001500",NAME:"15",NAMELSAD:"Census Tract 15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1167711",AWATER:"526885",INTPTLAT:"47.6979702",INTPTLON:"-122.3952683",Shape_Leng:"4490.424035",Shape_Area:"1167711.483",NHPD_Units:"0",Permits:"97",Pop:"2873",Pop_density:"6372.326578",Non_white_share:"0.205012182",White_non_hisp:"0.794987818",Black_non_hisp:"0.022624434",Asian_non_Hisp:"0.07831535",Hispanic:"0.012182388",Workers:"1708",Transit_to_work:"0.144613583",Walk_to_Work:"0.016393443",Bike_to_work:"0.015222482",Green_commute_share:"0.176229508",BA_plus_25_plus:"0.618820468",Med_HH_inc:"142063",Cost_burdened:"0.141221374",Very_cost_burdened:"0.072519084",Med_housing_value:"904100",Jobs:"121",Job_density:"268.3785297",Housing_units:"1203",Housing_density:"2668.259267",Permit_density:"215.1464247",Permits_per_capita:"33.76261747",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330001600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1600",GEOID:"53033001600",NAME:"16",NAMELSAD:"Census Tract 16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2020358",AWATER:"320118",INTPTLAT:"47.7004649",INTPTLON:"-122.3798699",Shape_Leng:"7065.649545",Shape_Area:"2020355.015",NHPD_Units:"20",Permits:"308",Pop:"4903",Pop_density:"6285.377",Non_white_share:"0.271466449",White_non_hisp:"0.728533551",Black_non_hisp:"0.007342443",Asian_non_Hisp:"0.150112176",Hispanic:"0.044258617",Workers:"2745",Transit_to_work:"0.150455373",Walk_to_Work:"0.012750455",Bike_to_work:"0.010564663",Green_commute_share:"0.173770492",BA_plus_25_plus:"0.78172738",Med_HH_inc:"172232",Cost_burdened:"0.363867684",Very_cost_burdened:"0.170483461",Med_housing_value:"940000",Jobs:"634",Job_density:"812.753216",Housing_units:"1923",Housing_density:"2465.180496",Permit_density:"394.8391018",Permits_per_capita:"62.81868244",Subsidized_hsg_share:"0.010400416"},{TRACT_ID:"G5300330001701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1701",GEOID:"53033001701",NAME:"17.01",NAMELSAD:"Census Tract 17.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"892768",AWATER:"0",INTPTLAT:"47.6963619",INTPTLON:"-122.3544843",Shape_Leng:"5223.408132",Shape_Area:"892766.8189",NHPD_Units:"61",Permits:"845",Pop:"4442",Pop_density:"12886.58104",Non_white_share:"0.379558757",White_non_hisp:"0.620441243",Black_non_hisp:"0.093201261",Asian_non_Hisp:"0.086222422",Hispanic:"0.109410176",Workers:"3315",Transit_to_work:"0.330618401",Walk_to_Work:"0.009954751",Bike_to_work:"0.030769231",Green_commute_share:"0.371342383",BA_plus_25_plus:"0.614417435",Med_HH_inc:"83456",Cost_burdened:"0.373961219",Very_cost_burdened:"0.172437673",Med_housing_value:"459400",Jobs:"1379",Job_density:"4000.584255",Housing_units:"2206",Housing_density:"6399.774377",Permit_density:"2451.409496",Permits_per_capita:"190.2296263",Subsidized_hsg_share:"0.027651859"},{TRACT_ID:"G5300330001702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1702",GEOID:"53033001702",NAME:"17.02",NAMELSAD:"Census Tract 17.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1280220",AWATER:"0",INTPTLAT:"47.6965211",INTPTLON:"-122.3639488",Shape_Leng:"5325.23786",Shape_Area:"1280221.379",NHPD_Units:"51",Permits:"837",Pop:"5121",Pop_density:"10360.19521",Non_white_share:"0.289591877",White_non_hisp:"0.710408123",Black_non_hisp:"0.044132005",Asian_non_Hisp:"0.10388596",Hispanic:"0.076352275",Workers:"3166",Transit_to_work:"0.23436513",Walk_to_Work:"0.035691725",Bike_to_work:"0.029058749",Green_commute_share:"0.299115603",BA_plus_25_plus:"0.602755722",Med_HH_inc:"92361",Cost_burdened:"0.368902439",Very_cost_burdened:"0.12804878",Med_housing_value:"648600",Jobs:"843",Job_density:"1705.456857",Housing_units:"2584",Housing_density:"5227.639997",Permit_density:"1693.318374",Permits_per_capita:"163.4446397",Subsidized_hsg_share:"0.019736842"},{TRACT_ID:"G5300330001800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1800",GEOID:"53033001800",NAME:"18",NAMELSAD:"Census Tract 18",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"946085",AWATER:"0",INTPTLAT:"47.6940568",INTPTLON:"-122.3419681",Shape_Leng:"4256.15037",Shape_Area:"946082.7676",NHPD_Units:"6",Permits:"908",Pop:"5059",Pop_density:"13849.44254",Non_white_share:"0.355208539",White_non_hisp:"0.644791461",Black_non_hisp:"0.013046057",Asian_non_Hisp:"0.219806286",Hispanic:"0.058904922",Workers:"3547",Transit_to_work:"0.239357203",Walk_to_Work:"0.047927826",Bike_to_work:"0.027628982",Green_commute_share:"0.314914012",BA_plus_25_plus:"0.694624773",Med_HH_inc:"95885",Cost_burdened:"0.417030568",Very_cost_burdened:"0.163027656",Med_housing_value:"657700",Jobs:"495",Job_density:"1355.104578",Housing_units:"2479",Housing_density:"6786.47323",Permit_density:"2485.727185",Permits_per_capita:"179.4821111",Subsidized_hsg_share:"0.002420331"},{TRACT_ID:"G5300330001900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"1900",GEOID:"53033001900",NAME:"19",NAMELSAD:"Census Tract 19",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1667272",AWATER:"0",INTPTLAT:"47.6965229",INTPTLON:"-122.3262226",Shape_Leng:"5770.935512",Shape_Area:"1667271.169",NHPD_Units:"210",Permits:"717",Pop:"5100",Pop_density:"7922.486171",Non_white_share:"0.278235294",White_non_hisp:"0.721764706",Black_non_hisp:"0.041764706",Asian_non_Hisp:"0.161764706",Hispanic:"0.021960784",Workers:"3190",Transit_to_work:"0.218181818",Walk_to_Work:"0.025705329",Bike_to_work:"0.007836991",Green_commute_share:"0.251724138",BA_plus_25_plus:"0.701714574",Med_HH_inc:"108542",Cost_burdened:"0.469034608",Very_cost_burdened:"0.20856102",Med_housing_value:"652900",Jobs:"3503",Job_density:"5441.660599",Housing_units:"2352",Housing_density:"3653.66421",Permit_density:"1113.80835",Permits_per_capita:"140.5882353",Subsidized_hsg_share:"0.089285714"},{TRACT_ID:"G5300330002000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2000",GEOID:"53033002000",NAME:"20",NAMELSAD:"Census Tract 20",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1103313",AWATER:"28680",INTPTLAT:"47.695331",INTPTLON:"-122.3108025",Shape_Leng:"4722.324574",Shape_Area:"1131993.81",NHPD_Units:"12",Permits:"269",Pop:"4120",Pop_density:"9671.553779",Non_white_share:"0.219417476",White_non_hisp:"0.780582524",Black_non_hisp:"0.008252427",Asian_non_Hisp:"0.105582524",Hispanic:"0.038834951",Workers:"2245",Transit_to_work:"0.157238307",Walk_to_Work:"0.018262806",Bike_to_work:"0.042316258",Green_commute_share:"0.217817372",BA_plus_25_plus:"0.59865686",Med_HH_inc:"124205",Cost_burdened:"0.486792453",Very_cost_burdened:"0.101886792",Med_housing_value:"679400",Jobs:"485",Job_density:"1138.520287",Housing_units:"1626",Housing_density:"3816.977292",Permit_density:"631.467953",Permits_per_capita:"65.29126214",Subsidized_hsg_share:"0.007380074"},{TRACT_ID:"G5300330002100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2100",GEOID:"53033002100",NAME:"21",NAMELSAD:"Census Tract 21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1365468",AWATER:"0",INTPTLAT:"47.6953673",INTPTLON:"-122.2980453",Shape_Leng:"4919.23102",Shape_Area:"1365466.796",NHPD_Units:"0",Permits:"279",Pop:"4584",Pop_density:"8694.825142",Non_white_share:"0.205497382",White_non_hisp:"0.794502618",Black_non_hisp:"0.016579407",Asian_non_Hisp:"0.120636998",Hispanic:"0.044502618",Workers:"2749",Transit_to_work:"0.198253911",Walk_to_Work:"0.025827574",Bike_to_work:"0.03746817",Green_commute_share:"0.261549654",BA_plus_25_plus:"0.687938931",Med_HH_inc:"122984",Cost_burdened:"0.435240964",Very_cost_burdened:"0.207831325",Med_housing_value:"780200",Jobs:"667",Job_density:"1265.150168",Housing_units:"1967",Housing_density:"3730.960091",Permit_density:"529.2007449",Permits_per_capita:"60.86387435",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2200",GEOID:"53033002200",NAME:"22",NAMELSAD:"Census Tract 22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2804076",AWATER:"1154953",INTPTLAT:"47.6941159",INTPTLON:"-122.2754574",Shape_Leng:"8557.294724",Shape_Area:"2804074.431",NHPD_Units:"0",Permits:"241",Pop:"6147",Pop_density:"5677.683812",Non_white_share:"0.2814381",White_non_hisp:"0.7185619",Black_non_hisp:"0.001952172",Asian_non_Hisp:"0.154872295",Hispanic:"0.054823491",Workers:"3174",Transit_to_work:"0.133900441",Walk_to_Work:"0.006616257",Bike_to_work:"0.034971645",Green_commute_share:"0.175488343",BA_plus_25_plus:"0.769265846",Med_HH_inc:"140769",Cost_burdened:"0.33463035",Very_cost_burdened:"0.19844358",Med_housing_value:"888400",Jobs:"639",Job_density:"590.213105",Housing_units:"2495",Housing_density:"2304.509698",Permit_density:"222.5999347",Permits_per_capita:"39.2061168",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2400",GEOID:"53033002400",NAME:"24",NAMELSAD:"Census Tract 24",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"962528",AWATER:"0",INTPTLAT:"47.6866167",INTPTLON:"-122.2879303",Shape_Leng:"4014.715501",Shape_Area:"962528.9848",NHPD_Units:"0",Permits:"75",Pop:"3311",Pop_density:"8909.29992",Non_white_share:"0.211718514",White_non_hisp:"0.788281486",Black_non_hisp:"0.002718212",Asian_non_Hisp:"0.131984295",Hispanic:"0.052552099",Workers:"2095",Transit_to_work:"0.192362768",Walk_to_Work:"0.039618138",Bike_to_work:"0.031026253",Green_commute_share:"0.26300716",BA_plus_25_plus:"0.754008604",Med_HH_inc:"145391",Cost_burdened:"0.203208556",Very_cost_burdened:"0.042780749",Med_housing_value:"819900",Jobs:"367",Job_density:"987.5303747",Housing_units:"1452",Housing_density:"3907.068403",Permit_density:"201.8113845",Permits_per_capita:"22.65176684",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2500",GEOID:"53033002500",NAME:"25",NAMELSAD:"Census Tract 25",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"984334",AWATER:"0",INTPTLAT:"47.6838969",INTPTLON:"-122.3022793",Shape_Leng:"4999.466653",Shape_Area:"984335.3704",NHPD_Units:"39",Permits:"216",Pop:"3561",Pop_density:"9369.733912",Non_white_share:"0.191519236",White_non_hisp:"0.808480764",Black_non_hisp:"0.00533558",Asian_non_Hisp:"0.092108958",Hispanic:"0.033698399",Workers:"2080",Transit_to_work:"0.177403846",Walk_to_Work:"0.025961538",Bike_to_work:"0.059615385",Green_commute_share:"0.262980769",BA_plus_25_plus:"0.77704918",Med_HH_inc:"132898",Cost_burdened:"0.278728606",Very_cost_burdened:"0.11002445",Med_housing_value:"775000",Jobs:"936",Job_density:"2462.811273",Housing_units:"1375",Housing_density:"3617.911859",Permit_density:"568.3410629",Permits_per_capita:"60.65711879",Subsidized_hsg_share:"0.028363636"},{TRACT_ID:"G5300330002600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2600",GEOID:"53033002600",NAME:"26",NAMELSAD:"Census Tract 26",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1216627",AWATER:"28175",INTPTLAT:"47.6822031",INTPTLON:"-122.3113993",Shape_Leng:"4845.580243",Shape_Area:"1244796.412",NHPD_Units:"0",Permits:"849",Pop:"5598",Pop_density:"11917.17218",Non_white_share:"0.220971776",White_non_hisp:"0.779028224",Black_non_hisp:"0.006609503",Asian_non_Hisp:"0.103251161",Hispanic:"0.055555556",Workers:"3481",Transit_to_work:"0.162309681",Walk_to_Work:"0.035621948",Bike_to_work:"0.092502155",Green_commute_share:"0.290433783",BA_plus_25_plus:"0.797310757",Med_HH_inc:"135000",Cost_burdened:"0.461325967",Very_cost_burdened:"0.227900552",Med_housing_value:"791700",Jobs:"849",Job_density:"1807.373916",Housing_units:"2126",Housing_density:"4525.885684",Permit_density:"1807.373916",Permits_per_capita:"151.6613076",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2700",GEOID:"53033002700",NAME:"27",NAMELSAD:"Census Tract 27",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1584847",AWATER:"0",INTPTLAT:"47.6868572",INTPTLON:"-122.3310895",Shape_Leng:"6694.326526",Shape_Area:"1584848.2",NHPD_Units:"0",Permits:"314",Pop:"6129",Pop_density:"10016.13224",Non_white_share:"0.236743351",White_non_hisp:"0.763256649",Black_non_hisp:"0.014521129",Asian_non_Hisp:"0.113395334",Hispanic:"0.047316039",Workers:"3744",Transit_to_work:"0.150641026",Walk_to_Work:"0.022168803",Bike_to_work:"0.049145299",Green_commute_share:"0.221955128",BA_plus_25_plus:"0.789740051",Med_HH_inc:"149239",Cost_burdened:"0.339705882",Very_cost_burdened:"0.108823529",Med_housing_value:"891000",Jobs:"913",Job_density:"1492.042541",Housing_units:"2474",Housing_density:"4043.059415",Permit_density:"513.1449702",Permits_per_capita:"51.23184859",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2800",GEOID:"53033002800",NAME:"28",NAMELSAD:"Census Tract 28",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"988287",AWATER:"0",INTPTLAT:"47.6851257",INTPTLON:"-122.3498985",Shape_Leng:"4018.051395",Shape_Area:"988286.1765",NHPD_Units:"0",Permits:"283",Pop:"5205",Pop_density:"13640.66118",Non_white_share:"0.265129683",White_non_hisp:"0.734870317",Black_non_hisp:"0.039000961",Asian_non_Hisp:"0.052065322",Hispanic:"0.070317003",Workers:"3546",Transit_to_work:"0.213479977",Walk_to_Work:"0.043429216",Bike_to_work:"0.017766497",Green_commute_share:"0.274675691",BA_plus_25_plus:"0.706424242",Med_HH_inc:"122813",Cost_burdened:"0.216350947",Very_cost_burdened:"0.167497507",Med_housing_value:"768300",Jobs:"1601",Job_density:"4195.715379",Housing_units:"2449",Housing_density:"6418.055567",Permit_density:"741.6536241",Permits_per_capita:"54.37079731",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330002900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"2900",GEOID:"53033002900",NAME:"29",NAMELSAD:"Census Tract 29",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"986209",AWATER:"0",INTPTLAT:"47.6850872",INTPTLON:"-122.3606466",Shape_Leng:"4068.363434",Shape_Area:"986208.8142",NHPD_Units:"0",Permits:"252",Pop:"4744",Pop_density:"12458.72183",Non_white_share:"0.153246206",White_non_hisp:"0.846753794",Black_non_hisp:"0.000210793",Asian_non_Hisp:"0.045109612",Hispanic:"0.046374368",Workers:"2749",Transit_to_work:"0.176064023",Walk_to_Work:"0.032739178",Bike_to_work:"0.063659513",Green_commute_share:"0.272462714",BA_plus_25_plus:"0.695023631",Med_HH_inc:"107578",Cost_burdened:"0.392011834",Very_cost_burdened:"0.134615385",Med_housing_value:"780900",Jobs:"728",Job_density:"1911.878055",Housing_units:"2217",Housing_density:"5822.298966",Permit_density:"661.803942",Permits_per_capita:"53.11973019",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3000",GEOID:"53033003000",NAME:"30",NAMELSAD:"Census Tract 30",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1493249",AWATER:"0",INTPTLAT:"47.6850958",INTPTLON:"-122.3740444",Shape_Leng:"4895.781757",Shape_Area:"1493252.787",NHPD_Units:"0",Permits:"482",Pop:"6509",Pop_density:"11289.63261",Non_white_share:"0.192809955",White_non_hisp:"0.807190045",Black_non_hisp:"0.001382701",Asian_non_Hisp:"0.072668613",Hispanic:"0.069749578",Workers:"3915",Transit_to_work:"0.120561941",Walk_to_Work:"0.021200511",Bike_to_work:"0.0651341",Green_commute_share:"0.206896552",BA_plus_25_plus:"0.722810591",Med_HH_inc:"109941",Cost_burdened:"0.339690107",Very_cost_burdened:"0.151370679",Med_housing_value:"757800",Jobs:"885",Job_density:"1535.001515",Housing_units:"2843",Housing_density:"4931.083964",Permit_density:"836.0121247",Permits_per_capita:"74.05131357",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3100",GEOID:"53033003100",NAME:"31",NAMELSAD:"Census Tract 31",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2236733",AWATER:"472744",INTPTLAT:"47.6877574",INTPTLON:"-122.3964308",Shape_Leng:"7708.007214",Shape_Area:"2236730.515",NHPD_Units:"54",Permits:"144",Pop:"6718",Pop_density:"7778.99737",Non_white_share:"0.152426317",White_non_hisp:"0.847573683",Black_non_hisp:"0.003721346",Asian_non_Hisp:"0.041679071",Hispanic:"0.034385234",Workers:"3818",Transit_to_work:"0.146411734",Walk_to_Work:"0.015453117",Bike_to_work:"0.043478261",Green_commute_share:"0.205343112",BA_plus_25_plus:"0.715504979",Med_HH_inc:"148884",Cost_burdened:"0.185114504",Very_cost_burdened:"0.08778626",Med_housing_value:"759700",Jobs:"514",Job_density:"595.177828",Housing_units:"2846",Housing_density:"3295.478791",Permit_density:"166.7424265",Permits_per_capita:"21.43495088",Subsidized_hsg_share:"0.018973999"},{TRACT_ID:"G5300330003201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3201",GEOID:"53033003201",NAME:"32.01",NAMELSAD:"Census Tract 32.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1152079",AWATER:"1354300",INTPTLAT:"47.6752462",INTPTLON:"-122.4040825",Shape_Leng:"8209.933446",Shape_Area:"1152081.669",NHPD_Units:"796",Permits:"848",Pop:"4508",Pop_density:"10134.4321",Non_white_share:"0.252883762",White_non_hisp:"0.747116238",Black_non_hisp:"0.003992902",Asian_non_Hisp:"0.109139308",Hispanic:"0.085181899",Workers:"2954",Transit_to_work:"0.232227488",Walk_to_Work:"0.066012187",Bike_to_work:"0.010494245",Green_commute_share:"0.30873392",BA_plus_25_plus:"0.634215992",Med_HH_inc:"98993",Cost_burdened:"0.410027473",Very_cost_burdened:"0.195054945",Med_housing_value:"918500",Jobs:"1512",Job_density:"3399.126295",Housing_units:"2594",Housing_density:"5831.569847",Permit_density:"1906.388292",Permits_per_capita:"188.1100266",Subsidized_hsg_share:"0.306861989"},{TRACT_ID:"G5300330003202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3202",GEOID:"53033003202",NAME:"32.02",NAMELSAD:"Census Tract 32.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"956016",AWATER:"0",INTPTLAT:"47.6752342",INTPTLON:"-122.3942667",Shape_Leng:"3946.866095",Shape_Area:"956013.5966",NHPD_Units:"0",Permits:"446",Pop:"4773",Pop_density:"12930.75979",Non_white_share:"0.214959145",White_non_hisp:"0.785040855",Black_non_hisp:"0.007332914",Asian_non_Hisp:"0.108527132",Hispanic:"0.048606746",Workers:"2769",Transit_to_work:"0.243048032",Walk_to_Work:"0.075117371",Bike_to_work:"0.057782593",Green_commute_share:"0.375947996",BA_plus_25_plus:"0.685448578",Med_HH_inc:"125163",Cost_burdened:"0.355817875",Very_cost_burdened:"0.15851602",Med_housing_value:"784600",Jobs:"399",Job_density:"1080.94975",Housing_units:"2347",Housing_density:"6358.368578",Permit_density:"1208.27967",Permits_per_capita:"93.44227949",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3301",GEOID:"53033003301",NAME:"33.01",NAMELSAD:"Census Tract 33.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"669207",AWATER:"0",INTPTLAT:"47.675937",INTPTLON:"-122.3820154",Shape_Leng:"3407.259684",Shape_Area:"669208.3465",NHPD_Units:"0",Permits:"877",Pop:"4671",Pop_density:"18077.86599",Non_white_share:"0.252194391",White_non_hisp:"0.747805609",Black_non_hisp:"0.01391565",Asian_non_Hisp:"0.102547634",Hispanic:"0.041746949",Workers:"2998",Transit_to_work:"0.232488326",Walk_to_Work:"0.045697131",Bike_to_work:"0.157104736",Green_commute_share:"0.435290193",BA_plus_25_plus:"0.800542741",Med_HH_inc:"116000",Cost_burdened:"0.219879518",Very_cost_burdened:"0.094879518",Med_housing_value:"864200",Jobs:"536",Job_density:"2074.445765",Housing_units:"2158",Housing_density:"8351.966345",Permit_density:"3394.195776",Permits_per_capita:"187.7542282",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3302",GEOID:"53033003302",NAME:"33.02",NAMELSAD:"Census Tract 33.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"627071",AWATER:"0",INTPTLAT:"47.676008",INTPTLON:"-122.3712585",Shape_Leng:"3216.269105",Shape_Area:"627072.1062",NHPD_Units:"0",Permits:"428",Pop:"4085",Pop_density:"16872.25439",Non_white_share:"0.146878825",White_non_hisp:"0.853121175",Black_non_hisp:"0.014443084",Asian_non_Hisp:"0.040636475",Hispanic:"0.055079559",Workers:"2590",Transit_to_work:"0.322007722",Walk_to_Work:"0.031660232",Bike_to_work:"0.048262548",Green_commute_share:"0.401930502",BA_plus_25_plus:"0.665265201",Med_HH_inc:"137917",Cost_burdened:"0.260657734",Very_cost_burdened:"0.073081608",Med_housing_value:"691100",Jobs:"240",Job_density:"991.2707596",Housing_units:"1703",Housing_density:"7033.892098",Permit_density:"1767.766188",Permits_per_capita:"104.7735618",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3400",GEOID:"53033003400",NAME:"34",NAMELSAD:"Census Tract 34",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"787161",AWATER:"0",INTPTLAT:"47.6740646",INTPTLON:"-122.3617462",Shape_Leng:"3843.17796",Shape_Area:"787165.9219",NHPD_Units:"2",Permits:"115",Pop:"3735",Pop_density:"12289.23383",Non_white_share:"0.193842035",White_non_hisp:"0.806157965",Black_non_hisp:"0.012583668",Asian_non_Hisp:"0.08647925",Hispanic:"0.039892905",Workers:"2294",Transit_to_work:"0.205318221",Walk_to_Work:"0.018308631",Bike_to_work:"0.059285092",Green_commute_share:"0.282911944",BA_plus_25_plus:"0.748729121",Med_HH_inc:"122440",Cost_burdened:"0.388709677",Very_cost_burdened:"0.177419355",Med_housing_value:"848000",Jobs:"468",Job_density:"1539.855805",Housing_units:"1625",Housing_density:"5346.721546",Permit_density:"378.383371",Permits_per_capita:"30.78982597",Subsidized_hsg_share:"0.001230769"},{TRACT_ID:"G5300330003500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3500",GEOID:"53033003500",NAME:"35",NAMELSAD:"Census Tract 35",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1284745",AWATER:"0",INTPTLAT:"47.6725466",INTPTLON:"-122.352088",Shape_Leng:"5060.922864",Shape_Area:"1284745.92",NHPD_Units:"0",Permits:"353",Pop:"4370",Pop_density:"8809.723363",Non_white_share:"0.167505721",White_non_hisp:"0.832494279",Black_non_hisp:"0.008237986",Asian_non_Hisp:"0.057665904",Hispanic:"0.034324943",Workers:"2499",Transit_to_work:"0.205282113",Walk_to_Work:"0.086834734",Bike_to_work:"0.06202481",Green_commute_share:"0.354141657",BA_plus_25_plus:"0.804885141",Med_HH_inc:"107702",Cost_burdened:"0.495915986",Very_cost_burdened:"0.295215869",Med_housing_value:"898400",Jobs:"1451",Job_density:"2925.150709",Housing_units:"2066",Housing_density:"4164.963036",Permit_density:"711.6321161",Permits_per_capita:"80.77803204",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3601",GEOID:"53033003601",NAME:"36.01",NAMELSAD:"Census Tract 36.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"674139",AWATER:"0",INTPTLAT:"47.6749093",INTPTLON:"-122.326043",Shape_Leng:"3631.299351",Shape_Area:"674133.9965",NHPD_Units:"0",Permits:"619",Pop:"4047",Pop_density:"15548.25026",Non_white_share:"0.318507536",White_non_hisp:"0.681492464",Black_non_hisp:"0.001729676",Asian_non_Hisp:"0.234741784",Hispanic:"0.03063998",Workers:"2121",Transit_to_work:"0.231023102",Walk_to_Work:"0.01980198",Bike_to_work:"0.01650165",Green_commute_share:"0.267326733",BA_plus_25_plus:"0.838174274",Med_HH_inc:"76045",Cost_burdened:"0.382536383",Very_cost_burdened:"0.185031185",Med_housing_value:"654700",Jobs:"1136",Job_density:"4364.421126",Housing_units:"2315",Housing_density:"8894.044812",Permit_density:"2378.148483",Permits_per_capita:"152.9528045",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3602",GEOID:"53033003602",NAME:"36.02",NAMELSAD:"Census Tract 36.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"522326",AWATER:"0",INTPTLAT:"47.6801362",INTPTLON:"-122.3218336",Shape_Leng:"3494.924614",Shape_Area:"522322.6491",NHPD_Units:"704",Permits:"2503",Pop:"3930",Pop_density:"19487.16563",Non_white_share:"0.319847328",White_non_hisp:"0.680152672",Black_non_hisp:"0.045801527",Asian_non_Hisp:"0.141475827",Hispanic:"0.04173028",Workers:"2798",Transit_to_work:"0.233738385",Walk_to_Work:"0.033238027",Bike_to_work:"0.035382416",Green_commute_share:"0.302358828",BA_plus_25_plus:"0.769368296",Med_HH_inc:"83367",Cost_burdened:"0.395912548",Very_cost_burdened:"0.150665399",Med_housing_value:"592400",Jobs:"1565",Job_density:"7760.156287",Housing_units:"2708",Housing_density:"13427.79759",Permit_density:"12411.29149",Permits_per_capita:"636.8956743",Subsidized_hsg_share:"0.259970458"},{TRACT_ID:"G5300330003800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3800",GEOID:"53033003800",NAME:"38",NAMELSAD:"Census Tract 38",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"624606",AWATER:"0",INTPTLAT:"47.6794093",INTPTLON:"-122.2955292",Shape_Leng:"3167.364053",Shape_Area:"624606.188",NHPD_Units:"0",Permits:"277",Pop:"2585",Pop_density:"10718.94805",Non_white_share:"0.328820116",White_non_hisp:"0.671179884",Black_non_hisp:"0.026692456",Asian_non_Hisp:"0.128433269",Hispanic:"0.062669246",Workers:"1610",Transit_to_work:"0.219875776",Walk_to_Work:"0.045962733",Bike_to_work:"0.040372671",Green_commute_share:"0.30621118",BA_plus_25_plus:"0.830083565",Med_HH_inc:"125938",Cost_burdened:"0.480113636",Very_cost_burdened:"0.090909091",Med_housing_value:"851900",Jobs:"372",Job_density:"1542.533336",Housing_units:"1006",Housing_density:"4171.47456",Permit_density:"1148.606812",Permits_per_capita:"107.1566731",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330003900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"3900",GEOID:"53033003900",NAME:"39",NAMELSAD:"Census Tract 39",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"973808",AWATER:"0",INTPTLAT:"47.6794117",INTPTLON:"-122.2823414",Shape_Leng:"4029.489205",Shape_Area:"973807.6891",NHPD_Units:"0",Permits:"64",Pop:"3110",Pop_density:"8271.510424",Non_white_share:"0.315755627",White_non_hisp:"0.684244373",Black_non_hisp:"0.007717042",Asian_non_Hisp:"0.206752412",Hispanic:"0.030546624",Workers:"1613",Transit_to_work:"0.119032858",Walk_to_Work:"0.044017359",Bike_to_work:"0.070055797",Green_commute_share:"0.233106014",BA_plus_25_plus:"0.843888071",Med_HH_inc:"141786",Cost_burdened:"0.471830986",Very_cost_burdened:"0.207746479",Med_housing_value:"920100",Jobs:"434",Job_density:"1154.28795",Housing_units:"1223",Housing_density:"3252.751527",Permit_density:"170.2175779",Permits_per_capita:"20.57877814",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4000",GEOID:"53033004000",NAME:"40",NAMELSAD:"Census Tract 40",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2574586",AWATER:"3232248",INTPTLAT:"47.681718",INTPTLON:"-122.252368",Shape_Leng:"8345.891211",Shape_Area:"2574589.983",NHPD_Units:"400",Permits:"322",Pop:"3320",Pop_density:"3339.861448",Non_white_share:"0.240060241",White_non_hisp:"0.759939759",Black_non_hisp:"0.093975904",Asian_non_Hisp:"0.077409639",Hispanic:"0.01626506",Workers:"1656",Transit_to_work:"0.112922705",Walk_to_Work:"0.016908213",Bike_to_work:"0.042874396",Green_commute_share:"0.172705314",BA_plus_25_plus:"0.724682157",Med_HH_inc:"98333",Cost_burdened:"0.482384824",Very_cost_burdened:"0.075880759",Med_housing_value:"838600",Jobs:"1362",Job_density:"1370.14798",Housing_units:"1464",Housing_density:"1472.758181",Permit_density:"323.9263212",Permits_per_capita:"96.98795181",Subsidized_hsg_share:"0.273224044"},{TRACT_ID:"G5300330004101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4101",GEOID:"53033004101",NAME:"41.01",NAMELSAD:"Census Tract 41.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1601973",AWATER:"3290570",INTPTLAT:"47.66064",INTPTLON:"-122.2694346",Shape_Leng:"7186.370382",Shape_Area:"1601974.067",NHPD_Units:"0",Permits:"79",Pop:"4398",Pop_density:"7110.46173",Non_white_share:"0.140063665",White_non_hisp:"0.859936335",Black_non_hisp:"0.014779445",Asian_non_Hisp:"0.08640291",Hispanic:"0.008185539",Workers:"1951",Transit_to_work:"0.07893388",Walk_to_Work:"0.047667863",Bike_to_work:"0.034341363",Green_commute_share:"0.160943106",BA_plus_25_plus:"0.945723684",Med_HH_inc:"250001",Cost_burdened:"0.254032258",Very_cost_burdened:"0.112903226",Med_housing_value:"1779100",Jobs:"1392",Job_density:"2250.51449",Housing_units:"1495",Housing_density:"2417.039629",Permit_density:"127.7231643",Permits_per_capita:"17.96271032",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4102",GEOID:"53033004102",NAME:"41.02",NAMELSAD:"Census Tract 41.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1689910",AWATER:"2027249",INTPTLAT:"47.6737465",INTPTLON:"-122.25175",Shape_Leng:"7074.841665",Shape_Area:"1689904.918",NHPD_Units:"0",Permits:"943",Pop:"3912",Pop_density:"5995.60538",Non_white_share:"0.218813906",White_non_hisp:"0.781186094",Black_non_hisp:"0.001278119",Asian_non_Hisp:"0.136758691",Hispanic:"0.040388548",Workers:"1930",Transit_to_work:"0.238341969",Walk_to_Work:"0.034715026",Bike_to_work:"0.062694301",Green_commute_share:"0.335751295",BA_plus_25_plus:"0.865505743",Med_HH_inc:"156667",Cost_burdened:"0.662420382",Very_cost_burdened:"0.418259023",Med_housing_value:"1127800",Jobs:"7839",Job_density:"12014.20004",Housing_units:"1679",Housing_density:"2573.267237",Permit_density:"1445.259681",Permits_per_capita:"241.0531697",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4201",GEOID:"53033004201",NAME:"42.01",NAMELSAD:"Census Tract 42.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1244114",AWATER:"0",INTPTLAT:"47.671624",INTPTLON:"-122.277599",Shape_Leng:"5576.219479",Shape_Area:"1244107.347",NHPD_Units:"113",Permits:"247",Pop:"3533",Pop_density:"7354.975504",Non_white_share:"0.167562978",White_non_hisp:"0.832437022",Black_non_hisp:"0",Asian_non_Hisp:"0.113784319",Hispanic:"0.011887914",Workers:"1831",Transit_to_work:"0.079191699",Walk_to_Work:"0.105406881",Bike_to_work:"0.046968869",Green_commute_share:"0.231567449",BA_plus_25_plus:"0.747846515",Med_HH_inc:"154211",Cost_burdened:"0.585831063",Very_cost_burdened:"0.188010899",Med_housing_value:"943900",Jobs:"503",Job_density:"1047.141998",Housing_units:"1586",Housing_density:"3301.724073",Permit_density:"514.2029293",Permits_per_capita:"69.91225587",Subsidized_hsg_share:"0.071248424"},{TRACT_ID:"G5300330004202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4202",GEOID:"53033004202",NAME:"42.02",NAMELSAD:"Census Tract 42.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1220977",AWATER:"0",INTPTLAT:"47.6687521",INTPTLON:"-122.2907266",Shape_Leng:"4760.759997",Shape_Area:"1220974.379",NHPD_Units:"44",Permits:"182",Pop:"4851",Pop_density:"10290.1466",Non_white_share:"0.167182024",White_non_hisp:"0.832817976",Black_non_hisp:"0.014223871",Asian_non_Hisp:"0.078540507",Hispanic:"0.021645022",Workers:"2834",Transit_to_work:"0.203246295",Walk_to_Work:"0.0649259",Bike_to_work:"0.060691602",Green_commute_share:"0.328863797",BA_plus_25_plus:"0.835443038",Med_HH_inc:"132386",Cost_burdened:"0.324626866",Very_cost_burdened:"0.166044776",Med_housing_value:"867600",Jobs:"849",Job_density:"1800.934748",Housing_units:"1923",Housing_density:"4079.149023",Permit_density:"386.0661061",Permits_per_capita:"37.51803752",Subsidized_hsg_share:"0.022880915"},{TRACT_ID:"G5300330004301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4301",GEOID:"53033004301",NAME:"43.01",NAMELSAD:"Census Tract 43.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"979236",AWATER:"0",INTPTLAT:"47.6694019",INTPTLON:"-122.3002215",Shape_Leng:"5231.785059",Shape_Area:"979235.2788",NHPD_Units:"0",Permits:"761",Pop:"3870",Pop_density:"10235.78993",Non_white_share:"0.373126615",White_non_hisp:"0.626873385",Black_non_hisp:"0.013436693",Asian_non_Hisp:"0.172609819",Hispanic:"0.080361757",Workers:"1918",Transit_to_work:"0.248696559",Walk_to_Work:"0.101147028",Bike_to_work:"0.032846715",Green_commute_share:"0.382690302",BA_plus_25_plus:"0.759201774",Med_HH_inc:"82697",Cost_burdened:"0.566229985",Very_cost_burdened:"0.216885007",Med_housing_value:"893100",Jobs:"3570",Job_density:"9442.317841",Housing_units:"1590",Housing_density:"4205.402064",Permit_density:"2012.774195",Permits_per_capita:"196.6408269",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4302",GEOID:"53033004302",NAME:"43.02",NAMELSAD:"Census Tract 43.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"331137",AWATER:"0",INTPTLAT:"47.6647387",INTPTLON:"-122.3035964",Shape_Leng:"2429.610998",Shape_Area:"331136.2453",NHPD_Units:"0",Permits:"790",Pop:"4212",Pop_density:"32944.15882",Non_white_share:"0.437559354",White_non_hisp:"0.562440646",Black_non_hisp:"0.036324786",Asian_non_Hisp:"0.202041785",Hispanic:"0.05674264",Workers:"1864",Transit_to_work:"0.193669528",Walk_to_Work:"0.295064378",Bike_to_work:"0.146459227",Green_commute_share:"0.635193133",BA_plus_25_plus:"0.616402116",Med_HH_inc:"38033",Cost_burdened:"0.673423423",Very_cost_burdened:"0.425675676",Med_housing_value:"893400",Jobs:"950",Job_density:"7430.425186",Housing_units:"1823",Housing_density:"14258.59486",Permit_density:"6178.985155",Permits_per_capita:"187.5593542",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4401",GEOID:"53033004401",NAME:"44.01",NAMELSAD:"Census Tract 44.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"694919",AWATER:"0",INTPTLAT:"47.671271",INTPTLON:"-122.3107454",Shape_Leng:"3941.973095",Shape_Area:"694916.1428",NHPD_Units:"0",Permits:"303",Pop:"4319",Pop_density:"16097.06836",Non_white_share:"0.270664506",White_non_hisp:"0.729335494",Black_non_hisp:"0.020606622",Asian_non_Hisp:"0.093771706",Hispanic:"0.137763371",Workers:"2846",Transit_to_work:"0.374912157",Walk_to_Work:"0.079761068",Bike_to_work:"0.021433591",Green_commute_share:"0.476106817",BA_plus_25_plus:"0.798775153",Med_HH_inc:"135329",Cost_burdened:"0.502608696",Very_cost_burdened:"0.267826087",Med_housing_value:"996300",Jobs:"870",Job_density:"3242.521295",Housing_units:"1279",Housing_density:"4766.879008",Permit_density:"1129.291899",Permits_per_capita:"70.1551285",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4402",GEOID:"53033004402",NAME:"44.02",NAMELSAD:"Census Tract 44.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"294988",AWATER:"0",INTPTLAT:"47.6681501",INTPTLON:"-122.3147285",Shape_Leng:"2277.663857",Shape_Area:"294986.4235",NHPD_Units:"0",Permits:"728",Pop:"3414",Pop_density:"29974.84443",Non_white_share:"0.44874048",White_non_hisp:"0.55125952",Black_non_hisp:"0.020796719",Asian_non_Hisp:"0.245459871",Hispanic:"0.103983597",Workers:"2226",Transit_to_work:"0.30458221",Walk_to_Work:"0.151392633",Bike_to_work:"0.039083558",Green_commute_share:"0.495058401",BA_plus_25_plus:"0.734113712",Med_HH_inc:"51213",Cost_burdened:"0.588028169",Very_cost_burdened:"0.29084507",Med_housing_value:"842500",Jobs:"762",Job_density:"6690.343133",Housing_units:"1814",Housing_density:"15926.87985",Permit_density:"6391.823885",Permits_per_capita:"213.2396016",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4500",GEOID:"53033004500",NAME:"45",NAMELSAD:"Census Tract 45",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"670997",AWATER:"0",INTPTLAT:"47.6685824",INTPTLON:"-122.3229111",Shape_Leng:"3359.583705",Shape_Area:"670995.3877",NHPD_Units:"49",Permits:"115",Pop:"3504",Pop_density:"13525.12506",Non_white_share:"0.293378995",White_non_hisp:"0.706621005",Black_non_hisp:"0.011130137",Asian_non_Hisp:"0.148687215",Hispanic:"0.061358447",Workers:"2226",Transit_to_work:"0.236298293",Walk_to_Work:"0.075471698",Bike_to_work:"0.086253369",Green_commute_share:"0.39802336",BA_plus_25_plus:"0.796125055",Med_HH_inc:"115885",Cost_burdened:"0.452322738",Very_cost_burdened:"0.163814181",Med_housing_value:"767300",Jobs:"362",Job_density:"1397.287463",Housing_units:"1107",Housing_density:"4272.920502",Permit_density:"443.8896637",Permits_per_capita:"32.8196347",Subsidized_hsg_share:"0.044263776"},{TRACT_ID:"G5300330004600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4600",GEOID:"53033004600",NAME:"46",NAMELSAD:"Census Tract 46",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1552358",AWATER:"1033232",INTPTLAT:"47.683092",INTPTLON:"-122.3378674",Shape_Leng:"7773.286631",Shape_Area:"2585588.642",NHPD_Units:"0",Permits:"124",Pop:"3660",Pop_density:"6106.424216",Non_white_share:"0.110928962",White_non_hisp:"0.889071038",Black_non_hisp:"0.015027322",Asian_non_Hisp:"0.03852459",Hispanic:"0.034153005",Workers:"2037",Transit_to_work:"0.212567501",Walk_to_Work:"0.038782523",Bike_to_work:"0.045164458",Green_commute_share:"0.296514482",BA_plus_25_plus:"0.784758364",Med_HH_inc:"136940",Cost_burdened:"0.273603083",Very_cost_burdened:"0.113680154",Med_housing_value:"956400",Jobs:"422",Job_density:"704.074049",Housing_units:"1508",Housing_density:"2515.980251",Permit_density:"206.8843177",Permits_per_capita:"33.87978142",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4701",GEOID:"53033004701",NAME:"47.01",NAMELSAD:"Census Tract 47.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"571393",AWATER:"176916",INTPTLAT:"47.6654796",INTPTLON:"-122.3828943",Shape_Leng:"4293.524904",Shape_Area:"571397.1466",NHPD_Units:"51",Permits:"2471",Pop:"3144",Pop_density:"14251.00171",Non_white_share:"0.271628499",White_non_hisp:"0.728371501",Black_non_hisp:"0.007951654",Asian_non_Hisp:"0.141857506",Hispanic:"0.076335878",Workers:"2005",Transit_to_work:"0.231421446",Walk_to_Work:"0.179052369",Bike_to_work:"0.048877805",Green_commute_share:"0.459351621",BA_plus_25_plus:"0.724137931",Med_HH_inc:"75788",Cost_burdened:"0.550277606",Very_cost_burdened:"0.311536089",Med_housing_value:"488400",Jobs:"5423",Job_density:"24581.16484",Housing_units:"2306",Housing_density:"10452.54769",Permit_density:"11200.45331",Permits_per_capita:"785.9414758",Subsidized_hsg_share:"0.022116219"},{TRACT_ID:"G5300330004702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4702",GEOID:"53033004702",NAME:"47.02",NAMELSAD:"Census Tract 47.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"266414",AWATER:"0",INTPTLAT:"47.670513",INTPTLON:"-122.3778052",Shape_Leng:"2123.771042",Shape_Area:"266415.9806",NHPD_Units:"80",Permits:"2187",Pop:"3180",Pop_density:"30914.90008",Non_white_share:"0.366352201",White_non_hisp:"0.633647799",Black_non_hisp:"0",Asian_non_Hisp:"0.261006289",Hispanic:"0.045597484",Workers:"2292",Transit_to_work:"0.336823735",Walk_to_Work:"0.04886562",Bike_to_work:"0.013089005",Green_commute_share:"0.39877836",BA_plus_25_plus:"0.861835059",Med_HH_inc:"103750",Cost_burdened:"0.521148036",Very_cost_burdened:"0.181268882",Med_housing_value:"545500",Jobs:"973",Job_density:"9459.181692",Housing_units:"2316",Housing_density:"22515.38006",Permit_density:"21261.28506",Permits_per_capita:"687.7358491",Subsidized_hsg_share:"0.034542314"},{TRACT_ID:"G5300330004703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4703",GEOID:"53033004703",NAME:"47.03",NAMELSAD:"Census Tract 47.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1188631",AWATER:"155567",INTPTLAT:"47.6643472",INTPTLON:"-122.3721352",Shape_Leng:"5496.900592",Shape_Area:"1188627.376",NHPD_Units:"55",Permits:"1101",Pop:"3968",Pop_density:"8646.142345",Non_white_share:"0.258568548",White_non_hisp:"0.741431452",Black_non_hisp:"0.0390625",Asian_non_Hisp:"0.081905242",Hispanic:"0.041078629",Workers:"2877",Transit_to_work:"0.345151199",Walk_to_Work:"0.077511296",Bike_to_work:"0.075425791",Green_commute_share:"0.498088286",BA_plus_25_plus:"0.847930703",Med_HH_inc:"105815",Cost_burdened:"0.279456193",Very_cost_burdened:"0.142749245",Med_housing_value:"689100",Jobs:"4727",Job_density:"10299.97854",Housing_units:"2067",Housing_density:"4503.92546",Permit_density:"2399.043025",Permits_per_capita:"277.4697581",Subsidized_hsg_share:"0.026608612"},{TRACT_ID:"G5300330004800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4800",GEOID:"53033004800",NAME:"48",NAMELSAD:"Census Tract 48",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1278329",AWATER:"26886",INTPTLAT:"47.6608472",INTPTLON:"-122.3601847",Shape_Leng:"5715.380935",Shape_Area:"1278332.858",NHPD_Units:"0",Permits:"450",Pop:"5452",Pop_density:"11046.15101",Non_white_share:"0.235509905",White_non_hisp:"0.764490095",Black_non_hisp:"0.007520176",Asian_non_Hisp:"0.125641966",Hispanic:"0.031181218",Workers:"3670",Transit_to_work:"0.184741144",Walk_to_Work:"0.052043597",Bike_to_work:"0.067302452",Green_commute_share:"0.304087193",BA_plus_25_plus:"0.780871947",Med_HH_inc:"119946",Cost_burdened:"0.229641694",Very_cost_burdened:"0.069218241",Med_housing_value:"815000",Jobs:"1619",Job_density:"3280.212489",Housing_units:"2676",Housing_density:"5421.771847",Permit_density:"911.7329339",Permits_per_capita:"82.53851798",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330004901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4901",GEOID:"53033004901",NAME:"49.01",NAMELSAD:"Census Tract 49.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"497144",AWATER:"0",INTPTLAT:"47.6613804",INTPTLON:"-122.3513529",Shape_Leng:"2856.169978",Shape_Area:"497142.0469",NHPD_Units:"71",Permits:"501",Pop:"4397",Pop_density:"22907.20138",Non_white_share:"0.209688424",White_non_hisp:"0.790311576",Black_non_hisp:"0.006367978",Asian_non_Hisp:"0.087787128",Hispanic:"0.088469411",Workers:"3264",Transit_to_work:"0.325367647",Walk_to_Work:"0.067401961",Bike_to_work:"0.034620098",Green_commute_share:"0.427389706",BA_plus_25_plus:"0.704572804",Med_HH_inc:"105053",Cost_burdened:"0.343272727",Very_cost_burdened:"0.077090909",Med_housing_value:"590800",Jobs:"923",Job_density:"4808.584687",Housing_units:"2196",Housing_density:"11440.57635",Permit_density:"2610.076845",Permits_per_capita:"113.9413236",Subsidized_hsg_share:"0.032331512"},{TRACT_ID:"G5300330004902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"4902",GEOID:"53033004902",NAME:"49.02",NAMELSAD:"Census Tract 49.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"597604",AWATER:"17368",INTPTLAT:"47.652783",INTPTLON:"-122.3506012",Shape_Leng:"3258.890462",Shape_Area:"597604.7152",NHPD_Units:"0",Permits:"783",Pop:"3517",Pop_density:"15242.51542",Non_white_share:"0.142166619",White_non_hisp:"0.857833381",Black_non_hisp:"0.025589991",Asian_non_Hisp:"0.038384987",Hispanic:"0.041796986",Workers:"2879",Transit_to_work:"0.255644321",Walk_to_Work:"0.083014936",Bike_to_work:"0.044112539",Green_commute_share:"0.382771796",BA_plus_25_plus:"0.811676753",Med_HH_inc:"122422",Cost_burdened:"0.312142857",Very_cost_burdened:"0.068571429",Med_housing_value:"811500",Jobs:"3831",Job_density:"16603.3769",Housing_units:"1999",Housing_density:"8663.573591",Permit_density:"3393.485804",Permits_per_capita:"222.6329258",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5000",GEOID:"53033005000",NAME:"50",NAMELSAD:"Census Tract 50",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"757380",AWATER:"0",INTPTLAT:"47.6608696",INTPTLON:"-122.3418076",Shape_Leng:"3522.254932",Shape_Area:"757383.1292",NHPD_Units:"70",Permits:"869",Pop:"4376",Pop_density:"14964.46694",Non_white_share:"0.31809872",White_non_hisp:"0.68190128",Black_non_hisp:"0.054616088",Asian_non_Hisp:"0.079753199",Hispanic:"0.101234004",Workers:"3393",Transit_to_work:"0.212496316",Walk_to_Work:"0.02858827",Bike_to_work:"0.024167403",Green_commute_share:"0.265251989",BA_plus_25_plus:"0.716392021",Med_HH_inc:"108022",Cost_burdened:"0.407672634",Very_cost_burdened:"0.138107417",Med_housing_value:"840000",Jobs:"1976",Job_density:"6757.263865",Housing_units:"2597",Housing_density:"8880.87766",Permit_density:"2971.691447",Permits_per_capita:"198.583181",Subsidized_hsg_share:"0.026954178"},{TRACT_ID:"G5300330005100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5100",GEOID:"53033005100",NAME:"51",NAMELSAD:"Census Tract 51",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"881731",AWATER:"0",INTPTLAT:"47.6585183",INTPTLON:"-122.332248",Shape_Leng:"4092.293624",Shape_Area:"881731.749",NHPD_Units:"0",Permits:"138",Pop:"3750",Pop_density:"11015.21373",Non_white_share:"0.246933333",White_non_hisp:"0.753066667",Black_non_hisp:"0.029866667",Asian_non_Hisp:"0.065333333",Hispanic:"0.074933333",Workers:"2134",Transit_to_work:"0.184629803",Walk_to_Work:"0.111059044",Bike_to_work:"0.083880037",Green_commute_share:"0.379568885",BA_plus_25_plus:"0.761182994",Med_HH_inc:"125372",Cost_burdened:"0.548571429",Very_cost_burdened:"0.264761905",Med_housing_value:"908500",Jobs:"1344",Job_density:"3947.852599",Housing_units:"1755",Housing_density:"5155.120024",Permit_density:"405.3598651",Permits_per_capita:"36.8",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5201",GEOID:"53033005201",NAME:"52.01",NAMELSAD:"Census Tract 52.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"699701",AWATER:"73218",INTPTLAT:"47.6595743",INTPTLON:"-122.3245993",Shape_Leng:"4342.049669",Shape_Area:"699702.4713",NHPD_Units:"0",Permits:"595",Pop:"3857",Pop_density:"14276.93278",Non_white_share:"0.369976666",White_non_hisp:"0.630023334",Black_non_hisp:"0.047964739",Asian_non_Hisp:"0.186155043",Hispanic:"0.049779621",Workers:"2636",Transit_to_work:"0.206373293",Walk_to_Work:"0.063732929",Bike_to_work:"0.045902883",Green_commute_share:"0.316009105",BA_plus_25_plus:"0.577801959",Med_HH_inc:"64038",Cost_burdened:"0.525838622",Very_cost_burdened:"0.173164098",Med_housing_value:"821600",Jobs:"1390",Job_density:"5145.174115",Housing_units:"1768",Housing_density:"6544.365349",Permit_density:"2202.430646",Permits_per_capita:"154.2649728",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5202",GEOID:"53033005202",NAME:"52.02",NAMELSAD:"Census Tract 52.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"269234",AWATER:"19268",INTPTLAT:"47.6567013",INTPTLON:"-122.3203201",Shape_Leng:"2594.332835",Shape_Area:"269235.225",NHPD_Units:"0",Permits:"1076",Pop:"3283",Pop_density:"31581.93603",Non_white_share:"0.598842522",White_non_hisp:"0.401157478",Black_non_hisp:"0.017666768",Asian_non_Hisp:"0.483703929",Hispanic:"0.028327749",Workers:"2168",Transit_to_work:"0.364391144",Walk_to_Work:"0.183579336",Bike_to_work:"0.014760148",Green_commute_share:"0.562730627",BA_plus_25_plus:"0.81953125",Med_HH_inc:"38344",Cost_burdened:"0.56924254",Very_cost_burdened:"0.357306809",Med_housing_value:"0",Jobs:"341",Job_density:"3280.365576",Housing_units:"1867",Housing_density:"17960.24203",Permit_density:"10350.94827",Permits_per_capita:"327.7490101",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005303",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5303",GEOID:"53033005303",NAME:"53.03",NAMELSAD:"Census Tract 53.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2432843",AWATER:"749176",INTPTLAT:"47.6540399",INTPTLON:"-122.3012544",Shape_Leng:"7541.94107",Shape_Area:"2432843.615",NHPD_Units:"0",Permits:"290",Pop:"3525",Pop_density:"3752.691024",Non_white_share:"0.563971631",White_non_hisp:"0.436028369",Black_non_hisp:"0.045106383",Asian_non_Hisp:"0.344397163",Hispanic:"0.069219858",Workers:"779",Transit_to_work:"0.292682927",Walk_to_Work:"0.462130937",Bike_to_work:"0.016688062",Green_commute_share:"0.771501926",BA_plus_25_plus:"0.478873239",Med_HH_inc:"0",Cost_burdened:"0.638888889",Very_cost_burdened:"0.638888889",Med_housing_value:"0",Jobs:"22092",Job_density:"23518.99294",Housing_units:"46",Housing_density:"48.97128712",Permit_density:"308.7320275",Permits_per_capita:"82.26950355",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005304",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5304",GEOID:"53033005304",NAME:"53.04",NAMELSAD:"Census Tract 53.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"73030",AWATER:"0",INTPTLAT:"47.6561001",INTPTLON:"-122.3150258",Shape_Leng:"1248.691957",Shape_Area:"73030.19208",NHPD_Units:"0",Permits:"1282",Pop:"3110",Pop_density:"110295.2625",Non_white_share:"0.596463023",White_non_hisp:"0.403536977",Black_non_hisp:"0.019935691",Asian_non_Hisp:"0.377813505",Hispanic:"0.082636656",Workers:"757",Transit_to_work:"0.253632761",Walk_to_Work:"0.51651255",Bike_to_work:"0.007926024",Green_commute_share:"0.778071334",BA_plus_25_plus:"0.597826087",Med_HH_inc:"22222",Cost_burdened:"0.929133858",Very_cost_burdened:"0.818897638",Med_housing_value:"0",Jobs:"138",Job_density:"4894.130621",Housing_units:"148",Housing_density:"5248.777767",Permit_density:"45465.76417",Permits_per_capita:"412.2186495",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005305",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5305",GEOID:"53033005305",NAME:"53.05",NAMELSAD:"Census Tract 53.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"212967",AWATER:"0",INTPTLAT:"47.6590644",INTPTLON:"-122.3148784",Shape_Leng:"1842.850669",Shape_Area:"212967.6869",NHPD_Units:"0",Permits:"630",Pop:"2252",Pop_density:"27387.59162",Non_white_share:"0.694493783",White_non_hisp:"0.305506217",Black_non_hisp:"0.013765542",Asian_non_Hisp:"0.540852575",Hispanic:"0.070159858",Workers:"1325",Transit_to_work:"0.27245283",Walk_to_Work:"0.34490566",Bike_to_work:"0",Green_commute_share:"0.617358491",BA_plus_25_plus:"0.651499483",Med_HH_inc:"21781",Cost_burdened:"0.810344828",Very_cost_burdened:"0.527093596",Med_housing_value:"0",Jobs:"1713",Job_density:"20832.56858",Housing_units:"1525",Housing_density:"18546.21546",Permit_density:"7661.71524",Permits_per_capita:"279.7513321",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005306",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5306",GEOID:"53033005306",NAME:"53.06",NAMELSAD:"Census Tract 53.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"200489",AWATER:"0",INTPTLAT:"47.6630891",INTPTLON:"-122.3141376",Shape_Leng:"1816.569221",Shape_Area:"200487.4603",NHPD_Units:"767",Permits:"1774",Pop:"3786",Pop_density:"48908.89269",Non_white_share:"0.714210248",White_non_hisp:"0.285789752",Black_non_hisp:"0.055467512",Asian_non_Hisp:"0.559957739",Hispanic:"0.040412044",Workers:"1671",Transit_to_work:"0.34171155",Walk_to_Work:"0.255535607",Bike_to_work:"0.032315978",Green_commute_share:"0.629563136",BA_plus_25_plus:"0.593731163",Med_HH_inc:"36798",Cost_burdened:"0.661071659",Very_cost_burdened:"0.418334409",Med_housing_value:"0",Jobs:"1816",Job_density:"23459.73299",Housing_units:"1856",Housing_density:"23976.4672",Permit_density:"22917.16208",Permits_per_capita:"468.5684099",Subsidized_hsg_share:"0.41325431"},{TRACT_ID:"G5300330005307",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5307",GEOID:"53033005307",NAME:"53.07",NAMELSAD:"Census Tract 53.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"130030",AWATER:"0",INTPTLAT:"47.66306",INTPTLON:"-122.3086776",Shape_Leng:"1449.492449",Shape_Area:"130027.7155",NHPD_Units:"0",Permits:"38",Pop:"3247",Pop_density:"64675.0088",Non_white_share:"0.405913151",White_non_hisp:"0.594086849",Black_non_hisp:"0.043732676",Asian_non_Hisp:"0.192177395",Hispanic:"0.050200185",Workers:"1322",Transit_to_work:"0.170196672",Walk_to_Work:"0.491679274",Bike_to_work:"0.015885023",Green_commute_share:"0.677760968",BA_plus_25_plus:"0.545945946",Med_HH_inc:"35519",Cost_burdened:"0.847507331",Very_cost_burdened:"0.413489736",Med_housing_value:"0",Jobs:"140",Job_density:"2788.574448",Housing_units:"434",Housing_density:"8644.580788",Permit_density:"756.8987787",Permits_per_capita:"11.70311056",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5401",GEOID:"53033005401",NAME:"54.01",NAMELSAD:"Census Tract 54.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"756239",AWATER:"615226",INTPTLAT:"47.6475292",INTPTLON:"-122.3381077",Shape_Leng:"5673.705071",Shape_Area:"756239.3546",NHPD_Units:"30",Permits:"1126",Pop:"3257",Pop_density:"11154.66311",Non_white_share:"0.325759902",White_non_hisp:"0.674240098",Black_non_hisp:"0.01811483",Asian_non_Hisp:"0.186060792",Hispanic:"0.053730427",Workers:"2589",Transit_to_work:"0.209347238",Walk_to_Work:"0.080726149",Bike_to_work:"0.069524913",Green_commute_share:"0.359598301",BA_plus_25_plus:"0.8621421",Med_HH_inc:"126380",Cost_burdened:"0.274289985",Very_cost_burdened:"0.095665172",Med_housing_value:"689800",Jobs:"5844",Job_density:"20014.69181",Housing_units:"2221",Housing_density:"7606.541838",Permit_density:"3856.355745",Permits_per_capita:"345.7169174",Subsidized_hsg_share:"0.013507429"},{TRACT_ID:"G5300330005402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5402",GEOID:"53033005402",NAME:"54.02",NAMELSAD:"Census Tract 54.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"463900",AWATER:"0",INTPTLAT:"47.654105",INTPTLON:"-122.3411359",Shape_Leng:"3069.172968",Shape_Area:"463903.4938",NHPD_Units:"0",Permits:"1015",Pop:"3401",Pop_density:"18988.03527",Non_white_share:"0.185533667",White_non_hisp:"0.814466333",Black_non_hisp:"0.005586592",Asian_non_Hisp:"0.074095854",Hispanic:"0.042046457",Workers:"2322",Transit_to_work:"0.212316968",Walk_to_Work:"0.055555556",Bike_to_work:"0.043496985",Green_commute_share:"0.311369509",BA_plus_25_plus:"0.786620531",Med_HH_inc:"98913",Cost_burdened:"0.487969201",Very_cost_burdened:"0.197305101",Med_housing_value:"869500",Jobs:"809",Job_density:"4516.707008",Housing_units:"1868",Housing_density:"10429.18256",Permit_density:"5666.820289",Permits_per_capita:"298.4416348",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5600",GEOID:"53033005600",NAME:"56",NAMELSAD:"Census Tract 56",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3022785",AWATER:"1546484",INTPTLAT:"47.6405468",INTPTLON:"-122.4071053",Shape_Leng:"8906.105273",Shape_Area:"3022785.33",NHPD_Units:"0",Permits:"203",Pop:"7112",Pop_density:"6093.716702",Non_white_share:"0.191366704",White_non_hisp:"0.808633296",Black_non_hisp:"0.008436445",Asian_non_Hisp:"0.076631046",Hispanic:"0.035995501",Workers:"3147",Transit_to_work:"0.085478233",Walk_to_Work:"0.017794725",Bike_to_work:"0.01620591",Green_commute_share:"0.119478869",BA_plus_25_plus:"0.733497257",Med_HH_inc:"171049",Cost_burdened:"0.375",Very_cost_burdened:"0.303030303",Med_housing_value:"1047500",Jobs:"1037",Job_density:"888.5242154",Housing_units:"2948",Housing_density:"2525.910691",Permit_density:"173.9348271",Permits_per_capita:"28.54330709",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5700",GEOID:"53033005700",NAME:"57",NAMELSAD:"Census Tract 57",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5085640",AWATER:"2365806",INTPTLAT:"47.6581015",INTPTLON:"-122.4137704",Shape_Leng:"13633.16364",Shape_Area:"5085641.321",NHPD_Units:"178",Permits:"379",Pop:"6920",Pop_density:"3524.181366",Non_white_share:"0.276156069",White_non_hisp:"0.723843931",Black_non_hisp:"0.012861272",Asian_non_Hisp:"0.121965318",Hispanic:"0.057514451",Workers:"3816",Transit_to_work:"0.134171908",Walk_to_Work:"0.011530398",Bike_to_work:"0.055293501",Green_commute_share:"0.200995807",BA_plus_25_plus:"0.739944245",Med_HH_inc:"143384",Cost_burdened:"0.351528384",Very_cost_burdened:"0.1430131",Med_housing_value:"846800",Jobs:"1678",Job_density:"854.5630538",Housing_units:"3307",Housing_density:"1684.171644",Permit_density:"193.0151355",Permits_per_capita:"54.76878613",Subsidized_hsg_share:"0.053825219"},{TRACT_ID:"G5300330005801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5801",GEOID:"53033005801",NAME:"58.01",NAMELSAD:"Census Tract 58.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1822365",AWATER:"260223",INTPTLAT:"47.6548926",INTPTLON:"-122.3850376",Shape_Leng:"6919.834447",Shape_Area:"1822365.829",NHPD_Units:"0",Permits:"702",Pop:"6552",Pop_density:"9311.8569",Non_white_share:"0.280525031",White_non_hisp:"0.719474969",Black_non_hisp:"0.024114774",Asian_non_Hisp:"0.144230769",Hispanic:"0.096001221",Workers:"4681",Transit_to_work:"0.187994018",Walk_to_Work:"0.013458663",Bike_to_work:"0.042725913",Green_commute_share:"0.244178594",BA_plus_25_plus:"0.741376024",Med_HH_inc:"112056",Cost_burdened:"0.225289403",Very_cost_burdened:"0.091718611",Med_housing_value:"650200",Jobs:"4286",Job_density:"6091.364266",Housing_units:"3368",Housing_density:"4786.681019",Permit_density:"997.6989535",Permits_per_capita:"107.1428571",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005803",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5803",GEOID:"53033005803",NAME:"58.03",NAMELSAD:"Census Tract 58.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"832097",AWATER:"0",INTPTLAT:"47.6424544",INTPTLON:"-122.3878383",Shape_Leng:"5210.330079",Shape_Area:"832098.8032",NHPD_Units:"0",Permits:"344",Pop:"3216",Pop_density:"10010.13315",Non_white_share:"0.399564677",White_non_hisp:"0.600435323",Black_non_hisp:"0.035758706",Asian_non_Hisp:"0.13619403",Hispanic:"0.088930348",Workers:"1892",Transit_to_work:"0.235729387",Walk_to_Work:"0.012156448",Bike_to_work:"0.061839323",Green_commute_share:"0.309725159",BA_plus_25_plus:"0.714122573",Med_HH_inc:"110962",Cost_burdened:"0.331099196",Very_cost_burdened:"0.101876676",Med_housing_value:"867000",Jobs:"178",Job_density:"554.0434392",Housing_units:"1497",Housing_density:"4659.567576",Permit_density:"1070.735635",Permits_per_capita:"106.9651741",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005804",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5804",GEOID:"53033005804",NAME:"58.04",NAMELSAD:"Census Tract 58.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2334443",AWATER:"1169687",INTPTLAT:"47.6319354",INTPTLON:"-122.3774788",Shape_Leng:"14569.9994",Shape_Area:"2334438.679",NHPD_Units:"108",Permits:"743",Pop:"2746",Pop_density:"3046.597133",Non_white_share:"0.293517844",White_non_hisp:"0.706482156",Black_non_hisp:"0.050983248",Asian_non_Hisp:"0.16824472",Hispanic:"0.06190823",Workers:"2043",Transit_to_work:"0.257953989",Walk_to_Work:"0.022515908",Bike_to_work:"0.009300049",Green_commute_share:"0.289769946",BA_plus_25_plus:"0.721958175",Med_HH_inc:"77889",Cost_burdened:"0.420792079",Very_cost_burdened:"0.085808581",Med_housing_value:"532300",Jobs:"3335",Job_density:"3700.073357",Housing_units:"1810",Housing_density:"2008.135765",Permit_density:"824.3341842",Permits_per_capita:"270.5753824",Subsidized_hsg_share:"0.059668508"},{TRACT_ID:"G5300330005901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5901",GEOID:"53033005901",NAME:"59.01",NAMELSAD:"Census Tract 59.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"778385",AWATER:"173882",INTPTLAT:"47.6530716",INTPTLON:"-122.3696366",Shape_Leng:"5091.450838",Shape_Area:"778384.7889",NHPD_Units:"0",Permits:"265",Pop:"4146",Pop_density:"13795.3464",Non_white_share:"0.346840328",White_non_hisp:"0.653159672",Black_non_hisp:"0.017366136",Asian_non_Hisp:"0.144476604",Hispanic:"0.047274481",Workers:"2535",Transit_to_work:"0.248126233",Walk_to_Work:"0.147534517",Bike_to_work:"0.022485207",Green_commute_share:"0.418145957",BA_plus_25_plus:"0.765694513",Med_HH_inc:"110242",Cost_burdened:"0.361639824",Very_cost_burdened:"0.165446559",Med_housing_value:"855200",Jobs:"2354",Job_density:"7832.668938",Housing_units:"1371",Housing_density:"4561.847542",Permit_density:"881.7575483",Permits_per_capita:"63.91702846",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330005902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"5902",GEOID:"53033005902",NAME:"59.02",NAMELSAD:"Census Tract 59.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1022976",AWATER:"0",INTPTLAT:"47.6444414",INTPTLON:"-122.3684358",Shape_Leng:"4627.492194",Shape_Area:"1022976.242",NHPD_Units:"0",Permits:"176",Pop:"4299",Pop_density:"10884.28163",Non_white_share:"0.315189579",White_non_hisp:"0.684810421",Black_non_hisp:"0.014189346",Asian_non_Hisp:"0.091649221",Hispanic:"0.060944406",Workers:"2335",Transit_to_work:"0.182441113",Walk_to_Work:"0.027408994",Bike_to_work:"0.013276231",Green_commute_share:"0.223126338",BA_plus_25_plus:"0.776470588",Med_HH_inc:"154554",Cost_burdened:"0.44646098",Very_cost_burdened:"0.08892922",Med_housing_value:"992900",Jobs:"667",Job_density:"1688.721993",Housing_units:"1823",Housing_density:"4615.502539",Permit_density:"445.5998063",Permits_per_capita:"40.93975343",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6000",GEOID:"53033006000",NAME:"60",NAMELSAD:"Census Tract 60",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1340653",AWATER:"160754",INTPTLAT:"47.6432313",INTPTLON:"-122.3527936",Shape_Leng:"5602.314531",Shape_Area:"1340655.308",NHPD_Units:"84",Permits:"667",Pop:"6460",Pop_density:"12479.98042",Non_white_share:"0.274303406",White_non_hisp:"0.725696594",Black_non_hisp:"0.019195046",Asian_non_Hisp:"0.089318885",Hispanic:"0.073529412",Workers:"4400",Transit_to_work:"0.194545455",Walk_to_Work:"0.150454545",Bike_to_work:"0.03",Green_commute_share:"0.375",BA_plus_25_plus:"0.678607366",Med_HH_inc:"97883",Cost_burdened:"0.352816153",Very_cost_burdened:"0.132837407",Med_housing_value:"1060000",Jobs:"2565",Job_density:"4955.286344",Housing_units:"3398",Housing_density:"6564.546977",Permit_density:"1288.567638",Permits_per_capita:"103.250774",Subsidized_hsg_share:"0.024720424"},{TRACT_ID:"G5300330006100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6100",GEOID:"53033006100",NAME:"61",NAMELSAD:"Census Tract 61",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1198411",AWATER:"681782",INTPTLAT:"47.6444403",INTPTLON:"-122.3222647",Shape_Leng:"6550.37583",Shape_Area:"1198409.692",NHPD_Units:"0",Permits:"900",Pop:"5743",Pop_density:"12411.68657",Non_white_share:"0.226884903",White_non_hisp:"0.773115097",Black_non_hisp:"0.009751001",Asian_non_Hisp:"0.125544141",Hispanic:"0.047884381",Workers:"3981",Transit_to_work:"0.172569706",Walk_to_Work:"0.048229088",Bike_to_work:"0.064305451",Green_commute_share:"0.285104245",BA_plus_25_plus:"0.813655761",Med_HH_inc:"123025",Cost_burdened:"0.433399602",Very_cost_burdened:"0.108681246",Med_housing_value:"926200",Jobs:"2781",Job_density:"6010.256026",Housing_units:"3369",Housing_density:"7281.032921",Permit_density:"1945.066675",Permits_per_capita:"156.7125196",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6200",GEOID:"53033006200",NAME:"62",NAMELSAD:"Census Tract 62",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2437426",AWATER:"239356",INTPTLAT:"47.6391316",INTPTLON:"-122.3012264",Shape_Leng:"10568.93445",Shape_Area:"2437426.162",NHPD_Units:"0",Permits:"104",Pop:"4543",Pop_density:"4827.353111",Non_white_share:"0.209773278",White_non_hisp:"0.790226722",Black_non_hisp:"0.014087607",Asian_non_Hisp:"0.105877174",Hispanic:"0.037860445",Workers:"2738",Transit_to_work:"0.163623083",Walk_to_Work:"0.109569028",Bike_to_work:"0.040540541",Green_commute_share:"0.313732652",BA_plus_25_plus:"0.86627566",Med_HH_inc:"217885",Cost_burdened:"0.376404494",Very_cost_burdened:"0.101123596",Med_housing_value:"1093900",Jobs:"810",Job_density:"860.699102",Housing_units:"1714",Housing_density:"1821.281803",Permit_density:"110.5095143",Permits_per_capita:"22.89236188",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6300",GEOID:"53033006300",NAME:"63",NAMELSAD:"Census Tract 63",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2610569",AWATER:"3533560",INTPTLAT:"47.6350162",INTPTLON:"-122.2767793",Shape_Leng:"8580.546509",Shape_Area:"2610567.012",NHPD_Units:"0",Permits:"195",Pop:"5856",Pop_density:"5809.833172",Non_white_share:"0.111851093",White_non_hisp:"0.888148907",Black_non_hisp:"0.011270492",Asian_non_Hisp:"0.03022541",Hispanic:"0.018271858",Workers:"2536",Transit_to_work:"0.07807571",Walk_to_Work:"0.024842271",Bike_to_work:"0.015772871",Green_commute_share:"0.118690852",BA_plus_25_plus:"0.851877608",Med_HH_inc:"130885",Cost_burdened:"0.496475327",Very_cost_burdened:"0.222557905",Med_housing_value:"1721600",Jobs:"1802",Job_density:"1787.793609",Housing_units:"3062",Housing_density:"3037.860173",Permit_density:"193.4626825",Permits_per_capita:"33.29918033",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6400",GEOID:"53033006400",NAME:"64",NAMELSAD:"Census Tract 64",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"903649",AWATER:"0",INTPTLAT:"47.6285398",INTPTLON:"-122.3048258",Shape_Leng:"4026.669162",Shape_Area:"903650.3342",NHPD_Units:"0",Permits:"50",Pop:"3732",Pop_density:"10696.4492",Non_white_share:"0.191050375",White_non_hisp:"0.808949625",Black_non_hisp:"0.006966774",Asian_non_Hisp:"0.066452304",Hispanic:"0.035101822",Workers:"1993",Transit_to_work:"0.150526844",Walk_to_Work:"0.100852985",Bike_to_work:"0.061716006",Green_commute_share:"0.313095835",BA_plus_25_plus:"0.850553506",Med_HH_inc:"162313",Cost_burdened:"0.345771144",Very_cost_burdened:"0.256218905",Med_housing_value:"1114400",Jobs:"306",Job_density:"877.0400474",Housing_units:"1516",Housing_density:"4345.074222",Permit_density:"143.3071973",Permits_per_capita:"13.39764202",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6500",GEOID:"53033006500",NAME:"65",NAMELSAD:"Census Tract 65",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1147619",AWATER:"0",INTPTLAT:"47.6309633",INTPTLON:"-122.3177579",Shape_Leng:"5455.291656",Shape_Area:"1147617.481",NHPD_Units:"0",Permits:"720",Pop:"4843",Pop_density:"10929.85775",Non_white_share:"0.277926905",White_non_hisp:"0.722073095",Black_non_hisp:"0.003923188",Asian_non_Hisp:"0.129258724",Hispanic:"0.067107165",Workers:"3435",Transit_to_work:"0.182823872",Walk_to_Work:"0.174381368",Bike_to_work:"0.030567686",Green_commute_share:"0.387772926",BA_plus_25_plus:"0.812121212",Med_HH_inc:"108160",Cost_burdened:"0.370320856",Very_cost_burdened:"0.114973262",Med_housing_value:"1029600",Jobs:"645",Job_density:"1455.659353",Housing_units:"2890",Housing_density:"6522.256636",Permit_density:"1624.922069",Permits_per_capita:"148.6681809",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6600",GEOID:"53033006600",NAME:"66",NAMELSAD:"Census Tract 66",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1109813",AWATER:"838435",INTPTLAT:"47.62809",INTPTLON:"-122.3312907",Shape_Leng:"7394.849419",Shape_Area:"1109813.53",NHPD_Units:"0",Permits:"1147",Pop:"4386",Pop_density:"10235.67741",Non_white_share:"0.234154127",White_non_hisp:"0.765845873",Black_non_hisp:"0.025763794",Asian_non_Hisp:"0.116735066",Hispanic:"0.024395805",Workers:"3533",Transit_to_work:"0.283894707",Walk_to_Work:"0.14123974",Bike_to_work:"0.037928106",Green_commute_share:"0.463062553",BA_plus_25_plus:"0.864829737",Med_HH_inc:"131196",Cost_burdened:"0.280261723",Very_cost_burdened:"0.119411123",Med_housing_value:"876600",Jobs:"8580",Job_density:"20023.28139",Housing_units:"2531",Housing_density:"5906.634638",Permit_density:"2676.771999",Permits_per_capita:"261.5139079",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6701",GEOID:"53033006701",NAME:"67.01",NAMELSAD:"Census Tract 67.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"380256",AWATER:"105441",INTPTLAT:"47.632436",INTPTLON:"-122.3407805",Shape_Leng:"3390.523605",Shape_Area:"380255.9316",NHPD_Units:"71",Permits:"2618",Pop:"3109",Pop_density:"21175.92631",Non_white_share:"0.6497266",White_non_hisp:"0.3502734",Black_non_hisp:"0.045030556",Asian_non_Hisp:"0.485365069",Hispanic:"0.119330975",Workers:"2603",Transit_to_work:"0.195159431",Walk_to_Work:"0.2823665",Bike_to_work:"0.016519401",Green_commute_share:"0.494045332",BA_plus_25_plus:"0.871506352",Med_HH_inc:"131904",Cost_burdened:"0.255626082",Very_cost_burdened:"0",Med_housing_value:"0",Jobs:"3913",Job_density:"26652.10667",Housing_units:"2226",Housing_density:"15161.66355",Permit_density:"17831.64203",Permits_per_capita:"842.0714056",Subsidized_hsg_share:"0.031895777"},{TRACT_ID:"G5300330006702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6702",GEOID:"53033006702",NAME:"67.02",NAMELSAD:"Census Tract 67.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"304748",AWATER:"0",INTPTLAT:"47.6273058",INTPTLON:"-122.3456689",Shape_Leng:"2624.733388",Shape_Area:"304750.1076",NHPD_Units:"0",Permits:"1420",Pop:"3021",Pop_density:"25674.83324",Non_white_share:"0.275074479",White_non_hisp:"0.724925521",Black_non_hisp:"0.036411784",Asian_non_Hisp:"0.198940748",Hispanic:"0.039721946",Workers:"2267",Transit_to_work:"0.087781209",Walk_to_Work:"0.3498015",Bike_to_work:"0.022937803",Green_commute_share:"0.460520512",BA_plus_25_plus:"0.829739777",Med_HH_inc:"113913",Cost_burdened:"0.201977401",Very_cost_burdened:"0.126412429",Med_housing_value:"744500",Jobs:"11086",Job_density:"94217.5443",Housing_units:"2348",Housing_density:"19955.1501",Permit_density:"12068.27647",Permits_per_capita:"470.0430321",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6703",GEOID:"53033006703",NAME:"67.03",NAMELSAD:"Census Tract 67.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"597133",AWATER:"0",INTPTLAT:"47.6345035",INTPTLON:"-122.3473591",Shape_Leng:"3298.06424",Shape_Area:"597133.1985",NHPD_Units:"0",Permits:"189",Pop:"3661",Pop_density:"15879.11985",Non_white_share:"0.198579623",White_non_hisp:"0.801420377",Black_non_hisp:"0.00464354",Asian_non_Hisp:"0.069379951",Hispanic:"0.080305927",Workers:"2352",Transit_to_work:"0.132653061",Walk_to_Work:"0.262329932",Bike_to_work:"0.051870748",Green_commute_share:"0.446853741",BA_plus_25_plus:"0.596330275",Med_HH_inc:"98776",Cost_burdened:"0.423330198",Very_cost_burdened:"0.188146754",Med_housing_value:"615700",Jobs:"230",Job_density:"997.59562",Housing_units:"2123",Housing_density:"9208.24131",Permit_density:"819.7633573",Permits_per_capita:"51.62523901",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6800",GEOID:"53033006800",NAME:"68",NAMELSAD:"Census Tract 68",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"718106",AWATER:"0",INTPTLAT:"47.6360306",INTPTLON:"-122.3564653",Shape_Leng:"3437.193645",Shape_Area:"718106.4815",NHPD_Units:"0",Permits:"490",Pop:"3323",Pop_density:"11985.04189",Non_white_share:"0.170328017",White_non_hisp:"0.829671983",Black_non_hisp:"0.017153175",Asian_non_Hisp:"0.092085465",Hispanic:"0.030093289",Workers:"2017",Transit_to_work:"0.236489836",Walk_to_Work:"0.037679722",Bike_to_work:"0.034209222",Green_commute_share:"0.30837878",BA_plus_25_plus:"0.908064516",Med_HH_inc:"145375",Cost_burdened:"0.421052632",Very_cost_burdened:"0.164912281",Med_housing_value:"1204500",Jobs:"1710",Job_density:"6167.44557",Housing_units:"1608",Housing_density:"5799.562852",Permit_density:"1767.279725",Permits_per_capita:"147.4571171",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330006900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"6900",GEOID:"53033006900",NAME:"69",NAMELSAD:"Census Tract 69",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"905121",AWATER:"0",INTPTLAT:"47.6343813",INTPTLON:"-122.3669907",Shape_Leng:"4768.291487",Shape_Area:"905122.44",NHPD_Units:"64",Permits:"373",Pop:"5159",Pop_density:"14762.38941",Non_white_share:"0.197325063",White_non_hisp:"0.802674937",Black_non_hisp:"0.001550688",Asian_non_Hisp:"0.077728242",Hispanic:"0.067648769",Workers:"3040",Transit_to_work:"0.190789474",Walk_to_Work:"0.061184211",Bike_to_work:"0.034539474",Green_commute_share:"0.286513158",BA_plus_25_plus:"0.748402556",Med_HH_inc:"124155",Cost_burdened:"0.31471536",Very_cost_burdened:"0.127819549",Med_housing_value:"1089000",Jobs:"1420",Job_density:"4063.305477",Housing_units:"2318",Housing_density:"6632.916969",Permit_density:"1067.333058",Permits_per_capita:"72.30083349",Subsidized_hsg_share:"0.027610009"},{TRACT_ID:"G5300330007001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7001",GEOID:"53033007001",NAME:"70.01",NAMELSAD:"Census Tract 70.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"358281",AWATER:"0",INTPTLAT:"47.6278767",INTPTLON:"-122.3603612",Shape_Leng:"2900.859559",Shape_Area:"358278.044",NHPD_Units:"246",Permits:"359",Pop:"3717",Pop_density:"26869.93116",Non_white_share:"0.181059995",White_non_hisp:"0.818940005",Black_non_hisp:"0.03551251",Asian_non_Hisp:"0.068065644",Hispanic:"0.031207963",Workers:"2371",Transit_to_work:"0.184732181",Walk_to_Work:"0.199493884",Bike_to_work:"0",Green_commute_share:"0.384226065",BA_plus_25_plus:"0.684965517",Med_HH_inc:"55893",Cost_burdened:"0.626760563",Very_cost_burdened:"0.182595573",Med_housing_value:"452100",Jobs:"1222",Job_density:"8833.751918",Housing_units:"3207",Housing_density:"23183.17709",Permit_density:"2595.185711",Permits_per_capita:"96.58326607",Subsidized_hsg_share:"0.076707203"},{TRACT_ID:"G5300330007002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7002",GEOID:"53033007002",NAME:"70.02",NAMELSAD:"Census Tract 70.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"441021",AWATER:"0",INTPTLAT:"47.628523",INTPTLON:"-122.3541023",Shape_Leng:"2889.178388",Shape_Area:"441019.5619",NHPD_Units:"0",Permits:"498",Pop:"3551",Pop_density:"20853.99058",Non_white_share:"0.311743171",White_non_hisp:"0.688256829",Black_non_hisp:"0.013235708",Asian_non_Hisp:"0.084764855",Hispanic:"0.079132639",Workers:"2789",Transit_to_work:"0.281821441",Walk_to_Work:"0.246324848",Bike_to_work:"0.011473646",Green_commute_share:"0.539619935",BA_plus_25_plus:"0.633845127",Med_HH_inc:"63637",Cost_burdened:"0.507514451",Very_cost_burdened:"0.141618497",Med_housing_value:"671000",Jobs:"832",Job_density:"4886.094104",Housing_units:"2596",Housing_density:"15245.55324",Permit_density:"2924.609211",Permits_per_capita:"140.2421853",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330007101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7101",GEOID:"53033007101",NAME:"71.01",NAMELSAD:"Census Tract 71.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"495054",AWATER:"0",INTPTLAT:"47.6216965",INTPTLON:"-122.3530304",Shape_Leng:"2746.487841",Shape_Area:"495053.9741",NHPD_Units:"0",Permits:"1754",Pop:"2842",Pop_density:"14868.57234",Non_white_share:"0.492258973",White_non_hisp:"0.507741027",Black_non_hisp:"0.079873329",Asian_non_Hisp:"0.260380014",Hispanic:"0.079169599",Workers:"2264",Transit_to_work:"0.284893993",Walk_to_Work:"0.292402827",Bike_to_work:"0.023409894",Green_commute_share:"0.600706714",BA_plus_25_plus:"0.690095847",Med_HH_inc:"107383",Cost_burdened:"0.366492147",Very_cost_burdened:"0.087696335",Med_housing_value:"392800",Jobs:"4622",Job_density:"24181.04903",Housing_units:"1986",Housing_density:"10390.21276",Permit_density:"9176.451752",Permits_per_capita:"617.1710063",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330007102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7102",GEOID:"53033007102",NAME:"71.02",NAMELSAD:"Census Tract 71.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"335908",AWATER:"0",INTPTLAT:"47.6231794",INTPTLON:"-122.3626414",Shape_Leng:"3505.108887",Shape_Area:"335907.4155",NHPD_Units:"0",Permits:"983",Pop:"2655",Pop_density:"20471.13624",Non_white_share:"0.488512241",White_non_hisp:"0.511487759",Black_non_hisp:"0.046704331",Asian_non_Hisp:"0.242937853",Hispanic:"0.108097928",Workers:"1982",Transit_to_work:"0.258324924",Walk_to_Work:"0.126639758",Bike_to_work:"0.054994955",Green_commute_share:"0.439959637",BA_plus_25_plus:"0.767421975",Med_HH_inc:"91076",Cost_burdened:"0.354091238",Very_cost_burdened:"0.162201303",Med_housing_value:"670300",Jobs:"5548",Job_density:"42777.34986",Housing_units:"1874",Housing_density:"14449.30671",Permit_density:"7579.332176",Permits_per_capita:"370.2448211",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330007201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7201",GEOID:"53033007201",NAME:"72.01",NAMELSAD:"Census Tract 72.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"150744",AWATER:"0",INTPTLAT:"47.6171374",INTPTLON:"-122.3460833",Shape_Leng:"1793.939531",Shape_Area:"150747.2843",NHPD_Units:"313",Permits:"2037",Pop:"5318",Pop_density:"91370.51405",Non_white_share:"0.517675818",White_non_hisp:"0.482324182",Black_non_hisp:"0.028206093",Asian_non_Hisp:"0.409552463",Hispanic:"0.050394885",Workers:"3544",Transit_to_work:"0.084650113",Walk_to_Work:"0.481094808",Bike_to_work:"0.013544018",Green_commute_share:"0.579288939",BA_plus_25_plus:"0.819015847",Med_HH_inc:"95781",Cost_burdened:"0.511676542",Very_cost_burdened:"0.393168351",Med_housing_value:"867600",Jobs:"5136",Job_density:"88243.50511",Housing_units:"3813",Housing_density:"65512.55549",Permit_density:"34998.44624",Permits_per_capita:"383.0387364",Subsidized_hsg_share:"0.082087595"},{TRACT_ID:"G5300330007202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7202",GEOID:"53033007202",NAME:"72.02",NAMELSAD:"Census Tract 72.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"280585",AWATER:"0",INTPTLAT:"47.61536",INTPTLON:"-122.340578",Shape_Leng:"2312.414764",Shape_Area:"280586.43",NHPD_Units:"199",Permits:"3110",Pop:"3088",Pop_density:"28504.31522",Non_white_share:"0.447862694",White_non_hisp:"0.552137306",Black_non_hisp:"0.020725389",Asian_non_Hisp:"0.318005181",Hispanic:"0.084520725",Workers:"2482",Transit_to_work:"0.121676068",Walk_to_Work:"0.578968574",Bike_to_work:"0",Green_commute_share:"0.700644641",BA_plus_25_plus:"0.84721717",Med_HH_inc:"148041",Cost_burdened:"0.154205607",Very_cost_burdened:"0.058744993",Med_housing_value:"829600",Jobs:"8349",Job_density:"77066.88074",Housing_units:"1901",Housing_density:"17547.50752",Permit_density:"28707.39",Permits_per_capita:"1007.124352",Subsidized_hsg_share:"0.104681746"},{TRACT_ID:"G5300330007203",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7203",GEOID:"53033007203",NAME:"72.03",NAMELSAD:"Census Tract 72.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"579631",AWATER:"0",INTPTLAT:"47.6220291",INTPTLON:"-122.3435701",Shape_Leng:"3813.653313",Shape_Area:"579630.3056",NHPD_Units:"124",Permits:"2314",Pop:"3358",Pop_density:"15004.68414",Non_white_share:"0.540500298",White_non_hisp:"0.459499702",Black_non_hisp:"0.031566409",Asian_non_Hisp:"0.380285884",Hispanic:"0.027099464",Workers:"2623",Transit_to_work:"0.123522684",Walk_to_Work:"0.70453679",Bike_to_work:"0",Green_commute_share:"0.828059474",BA_plus_25_plus:"0.759110787",Med_HH_inc:"130504",Cost_burdened:"0.245260664",Very_cost_burdened:"0.074052133",Med_housing_value:"423100",Jobs:"8394",Job_density:"37507.24202",Housing_units:"2090",Housing_density:"9338.829618",Permit_density:"10339.73767",Permits_per_capita:"689.1006552",Subsidized_hsg_share:"0.059330144"},{TRACT_ID:"G5300330007301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7301",GEOID:"53033007301",NAME:"73.01",NAMELSAD:"Census Tract 73.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"250787",AWATER:"0",INTPTLAT:"47.6219263",INTPTLON:"-122.3308665",Shape_Leng:"2258.230946",Shape_Area:"250788.6861",NHPD_Units:"447",Permits:"2854",Pop:"2619",Pop_density:"27047.56969",Non_white_share:"0.437571592",White_non_hisp:"0.562428408",Black_non_hisp:"0.038182512",Asian_non_Hisp:"0.237877052",Hispanic:"0.092019855",Workers:"1979",Transit_to_work:"0.120262759",Walk_to_Work:"0.493683679",Bike_to_work:"0.00707428",Green_commute_share:"0.621020718",BA_plus_25_plus:"0.636743215",Med_HH_inc:"86324",Cost_burdened:"0.344290657",Very_cost_burdened:"0.182814302",Med_housing_value:"0",Jobs:"4167",Job_density:"43034.44938",Housing_units:"2120",Housing_density:"21894.17631",Permit_density:"29474.51848",Permits_per_capita:"1089.728904",Subsidized_hsg_share:"0.210849057"},{TRACT_ID:"G5300330007302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7302",GEOID:"53033007302",NAME:"73.02",NAMELSAD:"Census Tract 73.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"312981",AWATER:"0",INTPTLAT:"47.6163784",INTPTLON:"-122.3341111",Shape_Leng:"2379.413455",Shape_Area:"312982.6175",NHPD_Units:"655",Permits:"5155",Pop:"4429",Pop_density:"36650.97032",Non_white_share:"0.634680515",White_non_hisp:"0.365319485",Black_non_hisp:"0.070444796",Asian_non_Hisp:"0.306841273",Hispanic:"0.148792052",Workers:"3436",Transit_to_work:"0.186554133",Walk_to_Work:"0.458381839",Bike_to_work:"0.00814901",Green_commute_share:"0.653084983",BA_plus_25_plus:"0.748313441",Med_HH_inc:"120243",Cost_burdened:"0.41173913",Very_cost_burdened:"0.098695652",Med_housing_value:"735900",Jobs:"19513",Job_density:"161474.4601",Housing_units:"3227",Housing_density:"26704.15019",Permit_density:"42658.78347",Permits_per_capita:"1163.919621",Subsidized_hsg_share:"0.202974899"},{TRACT_ID:"G5300330007303",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7303",GEOID:"53033007303",NAME:"73.03",NAMELSAD:"Census Tract 73.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"313527",AWATER:"0",INTPTLAT:"47.6219789",INTPTLON:"-122.335832",Shape_Leng:"2428.547323",Shape_Area:"313524.5172",NHPD_Units:"124",Permits:"3355",Pop:"2361",Pop_density:"19503.78095",Non_white_share:"0.49004659",White_non_hisp:"0.50995341",Black_non_hisp:"0.053367217",Asian_non_Hisp:"0.369335028",Hispanic:"0.031766201",Workers:"1567",Transit_to_work:"0.048500319",Walk_to_Work:"0.578174856",Bike_to_work:"0",Green_commute_share:"0.626675175",BA_plus_25_plus:"0.815085158",Med_HH_inc:"107224",Cost_burdened:"0.28511236",Very_cost_burdened:"0.054073034",Med_housing_value:"719400",Jobs:"5244",Job_density:"43319.7066",Housing_units:"1712",Housing_density:"14142.51291",Permit_density:"27715.02968",Permits_per_capita:"1421.008047",Subsidized_hsg_share:"0.072429907"},{TRACT_ID:"G5300330007403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7403",GEOID:"53033007403",NAME:"74.03",NAMELSAD:"Census Tract 74.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"118559",AWATER:"0",INTPTLAT:"47.6228951",INTPTLON:"-122.3227163",Shape_Leng:"1591.512029",Shape_Area:"118557.9567",NHPD_Units:"45",Permits:"623",Pop:"3107",Pop_density:"67874.16441",Non_white_share:"0.372063083",White_non_hisp:"0.627936917",Black_non_hisp:"0.030897972",Asian_non_Hisp:"0.241068555",Hispanic:"0.057933698",Workers:"2667",Transit_to_work:"0.354705662",Walk_to_Work:"0.290588676",Bike_to_work:"0.037495313",Green_commute_share:"0.682789651",BA_plus_25_plus:"0.801886792",Med_HH_inc:"74954",Cost_burdened:"0.412081985",Very_cost_burdened:"0.095469256",Med_housing_value:"349400",Jobs:"721",Job_density:"15750.65096",Housing_units:"2296",Housing_density:"50157.41278",Permit_density:"13609.78578",Permits_per_capita:"200.5149662",Subsidized_hsg_share:"0.019599303"},{TRACT_ID:"G5300330007404",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7404",GEOID:"53033007404",NAME:"74.04",NAMELSAD:"Census Tract 74.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"153725",AWATER:"0",INTPTLAT:"47.6230967",INTPTLON:"-122.3264852",Shape_Leng:"1757.95792",Shape_Area:"153722.5408",NHPD_Units:"0",Permits:"269",Pop:"2799",Pop_density:"47158.08568",Non_white_share:"0.370489461",White_non_hisp:"0.629510539",Black_non_hisp:"0.027152554",Asian_non_Hisp:"0.150053591",Hispanic:"0.076455877",Workers:"2483",Transit_to_work:"0.244865083",Walk_to_Work:"0.262988321",Bike_to_work:"0.043093033",Green_commute_share:"0.550946436",BA_plus_25_plus:"0.794303797",Med_HH_inc:"100529",Cost_burdened:"0.415983607",Very_cost_burdened:"0.12773224",Med_housing_value:"403500",Jobs:"137",Job_density:"2308.202121",Housing_units:"1912",Housing_density:"32213.74056",Permit_density:"4532.163289",Permits_per_capita:"96.10575205",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330007405",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7405",GEOID:"53033007405",NAME:"74.05",NAMELSAD:"Census Tract 74.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"131830",AWATER:"0",INTPTLAT:"47.6180293",INTPTLON:"-122.3235972",Shape_Leng:"1528.588739",Shape_Area:"131832.8366",NHPD_Units:"211",Permits:"610",Pop:"2887",Pop_density:"56719.22684",Non_white_share:"0.35053689",White_non_hisp:"0.64946311",Black_non_hisp:"0.037409075",Asian_non_Hisp:"0.126428819",Hispanic:"0.100796675",Workers:"2141",Transit_to_work:"0.308267165",Walk_to_Work:"0.392340028",Bike_to_work:"0.035964503",Green_commute_share:"0.736571695",BA_plus_25_plus:"0.522420549",Med_HH_inc:"55417",Cost_burdened:"0.479400749",Very_cost_burdened:"0.20536829",Med_housing_value:"357700",Jobs:"429",Job_density:"8428.316008",Housing_units:"2209",Housing_density:"43398.95119",Permit_density:"11984.3188",Permits_per_capita:"211.2919986",Subsidized_hsg_share:"0.095518334"},{TRACT_ID:"G5300330007406",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7406",GEOID:"53033007406",NAME:"74.06",NAMELSAD:"Census Tract 74.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"150829",AWATER:"0",INTPTLAT:"47.6193203",INTPTLON:"-122.3260062",Shape_Leng:"2062.841838",Shape_Area:"150829.5937",NHPD_Units:"255",Permits:"306",Pop:"2458",Pop_density:"42208.00227",Non_white_share:"0.460943857",White_non_hisp:"0.539056143",Black_non_hisp:"0.07078926",Asian_non_Hisp:"0.271358828",Hispanic:"0.057770545",Workers:"1892",Transit_to_work:"0.307082452",Walk_to_Work:"0.396934461",Bike_to_work:"0.041226216",Green_commute_share:"0.745243129",BA_plus_25_plus:"0.64",Med_HH_inc:"52995",Cost_burdened:"0.543037089",Very_cost_burdened:"0.234429671",Med_housing_value:"437900",Jobs:"467",Job_density:"8019.176999",Housing_units:"1974",Housing_density:"33896.90663",Permit_density:"5254.535678",Permits_per_capita:"124.4914565",Subsidized_hsg_share:"0.129179331"},{TRACT_ID:"G5300330007501",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7501",GEOID:"53033007501",NAME:"75.01",NAMELSAD:"Census Tract 75.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"298283",AWATER:"0",INTPTLAT:"47.6221056",INTPTLON:"-122.3167948",Shape_Leng:"2202.546766",Shape_Area:"298280.6575",NHPD_Units:"56",Permits:"791",Pop:"4312",Pop_density:"37441.05005",Non_white_share:"0.274814471",White_non_hisp:"0.725185529",Black_non_hisp:"0.054730983",Asian_non_Hisp:"0.038961039",Hispanic:"0.030148423",Workers:"3233",Transit_to_work:"0.291370244",Walk_to_Work:"0.198577173",Bike_to_work:"0.023198268",Green_commute_share:"0.513145685",BA_plus_25_plus:"0.64970222",Med_HH_inc:"67450",Cost_burdened:"0.417283951",Very_cost_burdened:"0.149559083",Med_housing_value:"573800",Jobs:"936",Job_density:"8127.278025",Housing_units:"3329",Housing_density:"28905.67152",Permit_density:"6868.244571",Permits_per_capita:"183.4415584",Subsidized_hsg_share:"0.016821868"},{TRACT_ID:"G5300330007502",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7502",GEOID:"53033007502",NAME:"75.02",NAMELSAD:"Census Tract 75.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"315931",AWATER:"0",INTPTLAT:"47.6176046",INTPTLON:"-122.316793",Shape_Leng:"2257.933948",Shape_Area:"315931.0165",NHPD_Units:"267",Permits:"1659",Pop:"2676",Pop_density:"21937.72749",Non_white_share:"0.291479821",White_non_hisp:"0.708520179",Black_non_hisp:"0",Asian_non_Hisp:"0.111733931",Hispanic:"0.079970105",Workers:"2166",Transit_to_work:"0.22345337",Walk_to_Work:"0.329639889",Bike_to_work:"0.040627886",Green_commute_share:"0.593721145",BA_plus_25_plus:"0.792612372",Med_HH_inc:"63106",Cost_burdened:"0.513784461",Very_cost_burdened:"0.305137845",Med_housing_value:"403000",Jobs:"973",Job_density:"7976.610182",Housing_units:"2134",Housing_density:"17494.4359",Permit_density:"13600.40729",Permits_per_capita:"619.955157",Subsidized_hsg_share:"0.125117151"},{TRACT_ID:"G5300330007503",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7503",GEOID:"53033007503",NAME:"75.03",NAMELSAD:"Census Tract 75.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"187541",AWATER:"0",INTPTLAT:"47.6138039",INTPTLON:"-122.317187",Shape_Leng:"1978.825585",Shape_Area:"187543.4505",NHPD_Units:"15",Permits:"1736",Pop:"2222",Pop_density:"30686.37568",Non_white_share:"0.263276328",White_non_hisp:"0.736723672",Black_non_hisp:"0.03690369",Asian_non_Hisp:"0.156615662",Hispanic:"0.0090009",Workers:"1809",Transit_to_work:"0.256495301",Walk_to_Work:"0.278054174",Bike_to_work:"0.05196241",Green_commute_share:"0.586511885",BA_plus_25_plus:"0.678627968",Med_HH_inc:"62426",Cost_burdened:"0.543059126",Very_cost_burdened:"0.284061697",Med_housing_value:"462500",Jobs:"4217",Job_density:"58237.82459",Housing_units:"1714",Housing_density:"23670.76864",Permit_density:"23974.59414",Permits_per_capita:"781.2781278",Subsidized_hsg_share:"0.008751459"},{TRACT_ID:"G5300330007600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7600",GEOID:"53033007600",NAME:"76",NAMELSAD:"Census Tract 76",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"571882",AWATER:"0",INTPTLAT:"47.6218678",INTPTLON:"-122.3075858",Shape_Leng:"3019.238447",Shape_Area:"571880.2433",NHPD_Units:"115",Permits:"863",Pop:"4786",Pop_density:"21675.24611",Non_white_share:"0.249477643",White_non_hisp:"0.750522357",Black_non_hisp:"0.019849561",Asian_non_Hisp:"0.087547012",Hispanic:"0.082741329",Workers:"3011",Transit_to_work:"0.408170043",Walk_to_Work:"0.094985055",Bike_to_work:"0.052474261",Green_commute_share:"0.555629359",BA_plus_25_plus:"0.801692525",Med_HH_inc:"96744",Cost_burdened:"0.389769452",Very_cost_burdened:"0.177233429",Med_housing_value:"829200",Jobs:"1613",Job_density:"7305.092348",Housing_units:"2344",Housing_density:"10615.70766",Permit_density:"3908.428206",Permits_per_capita:"180.317593",Subsidized_hsg_share:"0.049061433"},{TRACT_ID:"G5300330007700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7700",GEOID:"53033007700",NAME:"77",NAMELSAD:"Census Tract 77",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1058322",AWATER:"0",INTPTLAT:"47.6191203",INTPTLON:"-122.2973516",Shape_Leng:"4636.459428",Shape_Area:"1058324.915",NHPD_Units:"127",Permits:"847",Pop:"5562",Pop_density:"13611.65493",Non_white_share:"0.375224739",White_non_hisp:"0.624775261",Black_non_hisp:"0.09852571",Asian_non_Hisp:"0.059510967",Hispanic:"0.092952175",Workers:"3985",Transit_to_work:"0.288080301",Walk_to_Work:"0.100376412",Bike_to_work:"0.027854454",Green_commute_share:"0.416311167",BA_plus_25_plus:"0.750597436",Med_HH_inc:"113500",Cost_burdened:"0.430009149",Very_cost_burdened:"0.120768527",Med_housing_value:"843500",Jobs:"938",Job_density:"2295.529005",Housing_units:"2675",Housing_density:"6546.418004",Permit_density:"2072.82843",Permits_per_capita:"152.2833513",Subsidized_hsg_share:"0.047476636"},{TRACT_ID:"G5300330007800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7800",GEOID:"53033007800",NAME:"78",NAMELSAD:"Census Tract 78",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2097740",AWATER:"3632914",INTPTLAT:"47.6141558",INTPTLON:"-122.2810958",Shape_Leng:"8567.437234",Shape_Area:"2097735.895",NHPD_Units:"0",Permits:"280",Pop:"6178",Pop_density:"7627.707221",Non_white_share:"0.204435092",White_non_hisp:"0.795564908",Black_non_hisp:"0.05568145",Asian_non_Hisp:"0.041599223",Hispanic:"0.030754289",Workers:"3515",Transit_to_work:"0.098719772",Walk_to_Work:"0.051209104",Bike_to_work:"0.085064011",Green_commute_share:"0.234992888",BA_plus_25_plus:"0.815614618",Med_HH_inc:"166611",Cost_burdened:"0.219712526",Very_cost_burdened:"0.084188912",Med_housing_value:"1156500",Jobs:"3897",Job_density:"4811.455979",Housing_units:"2363",Housing_density:"2917.493066",Permit_density:"345.7037912",Permits_per_capita:"45.32211072",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330007901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7901",GEOID:"53033007901",NAME:"79.01",NAMELSAD:"Census Tract 79.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"267231",AWATER:"0",INTPTLAT:"47.6144349",INTPTLON:"-122.3108156",Shape_Leng:"2393.45353",Shape_Area:"267228.4402",NHPD_Units:"337",Permits:"387",Pop:"3095",Pop_density:"29996.56927",Non_white_share:"0.257835218",White_non_hisp:"0.742164782",Black_non_hisp:"0.123101777",Asian_non_Hisp:"0.05815832",Hispanic:"0.035541195",Workers:"2124",Transit_to_work:"0.274952919",Walk_to_Work:"0.260357815",Bike_to_work:"0.034369115",Green_commute_share:"0.569679849",BA_plus_25_plus:"0.690972222",Med_HH_inc:"81376",Cost_burdened:"0.371563236",Very_cost_burdened:"0.128043991",Med_housing_value:"448400",Jobs:"1476",Job_density:"14305.31058",Housing_units:"2072",Housing_density:"20081.7097",Permit_density:"3750.782651",Permits_per_capita:"125.0403877",Subsidized_hsg_share:"0.162644788"},{TRACT_ID:"G5300330007902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"7902",GEOID:"53033007902",NAME:"79.02",NAMELSAD:"Census Tract 79.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"431244",AWATER:"0",INTPTLAT:"47.6143565",INTPTLON:"-122.3057243",Shape_Leng:"2953.213413",Shape_Area:"431240.8531",NHPD_Units:"182",Permits:"1567",Pop:"3745",Pop_density:"22491.91983",Non_white_share:"0.421361816",White_non_hisp:"0.578638184",Black_non_hisp:"0.130307076",Asian_non_Hisp:"0.131375167",Hispanic:"0.056875834",Workers:"2563",Transit_to_work:"0.335154116",Walk_to_Work:"0.138509559",Bike_to_work:"0.072571206",Green_commute_share:"0.546234881",BA_plus_25_plus:"0.663515406",Med_HH_inc:"80522",Cost_burdened:"0.454738331",Very_cost_burdened:"0.17397454",Med_housing_value:"682600",Jobs:"1117",Job_density:"6708.537902",Housing_units:"2103",Housing_density:"12630.30905",Permit_density:"9411.171793",Permits_per_capita:"418.4245661",Subsidized_hsg_share:"0.086543034"},{TRACT_ID:"G5300330008002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8002",GEOID:"53033008002",NAME:"80.02",NAMELSAD:"Census Tract 80.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"234314",AWATER:"0",INTPTLAT:"47.6120898",INTPTLON:"-122.3453618",Shape_Leng:"2438.504149",Shape_Area:"234314.2327",NHPD_Units:"746",Permits:"1887",Pop:"3936",Pop_density:"43506.54763",Non_white_share:"0.46925813",White_non_hisp:"0.53074187",Black_non_hisp:"0.134400407",Asian_non_Hisp:"0.245934959",Hispanic:"0.041158537",Workers:"2368",Transit_to_work:"0.184966216",Walk_to_Work:"0.329814189",Bike_to_work:"0.021537162",Green_commute_share:"0.536317568",BA_plus_25_plus:"0.650390061",Med_HH_inc:"95391",Cost_burdened:"0.278284672",Very_cost_burdened:"0.08850365",Med_housing_value:"1019100",Jobs:"9222",Job_density:"101935.3105",Housing_units:"3475",Housing_density:"38410.88746",Permit_density:"20857.9409",Permits_per_capita:"479.4207317",Subsidized_hsg_share:"0.214676259"},{TRACT_ID:"G5300330008003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8003",GEOID:"53033008003",NAME:"80.03",NAMELSAD:"Census Tract 80.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"197152",AWATER:"0",INTPTLAT:"47.6161316",INTPTLON:"-122.3495916",Shape_Leng:"2662.87821",Shape_Area:"197152.942",NHPD_Units:"503",Permits:"2077",Pop:"4222",Pop_density:"55464.46296",Non_white_share:"0.444812885",White_non_hisp:"0.555187115",Black_non_hisp:"0.013737565",Asian_non_Hisp:"0.2460919",Hispanic:"0.052581715",Workers:"3057",Transit_to_work:"0.113509977",Walk_to_Work:"0.484789009",Bike_to_work:"0.017010141",Green_commute_share:"0.615309127",BA_plus_25_plus:"0.786714177",Med_HH_inc:"103750",Cost_burdened:"0.442735949",Very_cost_burdened:"0.283669141",Med_housing_value:"488500",Jobs:"5496",Job_density:"72201.01574",Housing_units:"3092",Housing_density:"40619.63986",Permit_density:"27285.57309",Permits_per_capita:"491.9469446",Subsidized_hsg_share:"0.162677878"},{TRACT_ID:"G5300330008004",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8004",GEOID:"53033008004",NAME:"80.04",NAMELSAD:"Census Tract 80.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"284626",AWATER:"526767",INTPTLAT:"47.6150718",INTPTLON:"-122.3552018",Shape_Leng:"4600.387623",Shape_Area:"294559.8327",NHPD_Units:"89",Permits:"2550",Pop:"3383",Pop_density:"30784.01052",Non_white_share:"0.360035471",White_non_hisp:"0.639964529",Black_non_hisp:"0.015666568",Asian_non_Hisp:"0.234998522",Hispanic:"0.070351759",Workers:"2697",Transit_to_work:"0.122728958",Walk_to_Work:"0.420837968",Bike_to_work:"0",Green_commute_share:"0.543566926",BA_plus_25_plus:"0.868615483",Med_HH_inc:"168281",Cost_burdened:"0.298983051",Very_cost_burdened:"0.179661017",Med_housing_value:"631900",Jobs:"5271",Job_density:"47964.09088",Housing_units:"2470",Housing_density:"22476.05852",Permit_density:"23204.02803",Permits_per_capita:"753.7688442",Subsidized_hsg_share:"0.036032389"},{TRACT_ID:"G5300330008101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8101",GEOID:"53033008101",NAME:"81.01",NAMELSAD:"Census Tract 81.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"270324",AWATER:"277671",INTPTLAT:"47.6074716",INTPTLON:"-122.3427956",Shape_Leng:"3614.887389",Shape_Area:"270327.5953",NHPD_Units:"256",Permits:"1235",Pop:"2721",Pop_density:"26070.04057",Non_white_share:"0.360161705",White_non_hisp:"0.639838295",Black_non_hisp:"0.05108416",Asian_non_Hisp:"0.195148842",Hispanic:"0.083425211",Workers:"1690",Transit_to_work:"0.208284024",Walk_to_Work:"0.446153846",Bike_to_work:"0",Green_commute_share:"0.65443787",BA_plus_25_plus:"0.602272727",Med_HH_inc:"83807",Cost_burdened:"0.396884735",Very_cost_burdened:"0.103426791",Med_housing_value:"720100",Jobs:"14628",Job_density:"140151.6183",Housing_units:"2236",Housing_density:"21423.2307",Permit_density:"11832.59835",Permits_per_capita:"453.877251",Subsidized_hsg_share:"0.114490161"},{TRACT_ID:"G5300330008102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8102",GEOID:"53033008102",NAME:"81.02",NAMELSAD:"Census Tract 81.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"556705",AWATER:"91220",INTPTLAT:"47.605282",INTPTLON:"-122.336012",Shape_Leng:"4490.554892",Shape_Area:"556707.9427",NHPD_Units:"803",Permits:"1700",Pop:"2448",Pop_density:"11388.95985",Non_white_share:"0.433006536",White_non_hisp:"0.566993464",Black_non_hisp:"0.087009804",Asian_non_Hisp:"0.150326797",Hispanic:"0.112336601",Workers:"1332",Transit_to_work:"0.392642643",Walk_to_Work:"0.316816817",Bike_to_work:"0",Green_commute_share:"0.709459459",BA_plus_25_plus:"0.521028037",Med_HH_inc:"101618",Cost_burdened:"0.358074223",Very_cost_burdened:"0.122367101",Med_housing_value:"692500",Jobs:"62150",Job_density:"289143.7315",Housing_units:"1650",Housing_density:"7676.382253",Permit_density:"7908.999897",Permits_per_capita:"694.4444444",Subsidized_hsg_share:"0.486666667"},{TRACT_ID:"G5300330008200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8200",GEOID:"53033008200",NAME:"82",NAMELSAD:"Census Tract 82",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"375785",AWATER:"0",INTPTLAT:"47.6102887",INTPTLON:"-122.3318896",Shape_Leng:"2771.87547",Shape_Area:"375787.5484",NHPD_Units:"212",Permits:"2438",Pop:"4509",Pop_density:"31076.9626",Non_white_share:"0.483255711",White_non_hisp:"0.516744289",Black_non_hisp:"0.043912176",Asian_non_Hisp:"0.313373253",Hispanic:"0.031270792",Workers:"3148",Transit_to_work:"0.15819568",Walk_to_Work:"0.49047014",Bike_to_work:"0",Green_commute_share:"0.64866582",BA_plus_25_plus:"0.728625541",Med_HH_inc:"108029",Cost_burdened:"0.333191489",Very_cost_burdened:"0.130212766",Med_housing_value:"493700",Jobs:"45452",Job_density:"313264.605",Housing_units:"3629",Housing_density:"25011.8202",Permit_density:"16803.20133",Permits_per_capita:"540.696385",Subsidized_hsg_share:"0.058418297"},{TRACT_ID:"G5300330008300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8300",GEOID:"53033008300",NAME:"83",NAMELSAD:"Census Tract 83",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"237955",AWATER:"0",INTPTLAT:"47.6118181",INTPTLON:"-122.3280064",Shape_Leng:"2627.95247",Shape_Area:"237960.4586",NHPD_Units:"299",Permits:"767",Pop:"3299",Pop_density:"35907.50678",Non_white_share:"0.411639891",White_non_hisp:"0.588360109",Black_non_hisp:"0.061230676",Asian_non_Hisp:"0.259472567",Hispanic:"0.054561988",Workers:"2378",Transit_to_work:"0.225820017",Walk_to_Work:"0.423465097",Bike_to_work:"0.02312868",Green_commute_share:"0.672413793",BA_plus_25_plus:"0.61635903",Med_HH_inc:"70488",Cost_burdened:"0.532341527",Very_cost_burdened:"0.267141009",Med_housing_value:"482700",Jobs:"7001",Job_density:"76201.41102",Housing_units:"2400",Housing_density:"26122.46628",Permit_density:"8348.30485",Permits_per_capita:"232.4946954",Subsidized_hsg_share:"0.124583333"},{TRACT_ID:"G5300330008401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8401",GEOID:"53033008401",NAME:"84.01",NAMELSAD:"Census Tract 84.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"250921",AWATER:"0",INTPTLAT:"47.6123725",INTPTLON:"-122.3226009",Shape_Leng:"2818.201784",Shape_Area:"250920.1206",NHPD_Units:"184",Permits:"1840",Pop:"2850",Pop_density:"29417.49042",Non_white_share:"0.443859649",White_non_hisp:"0.556140351",Black_non_hisp:"0.059649123",Asian_non_Hisp:"0.261052632",Hispanic:"0.064912281",Workers:"1958",Transit_to_work:"0.155771195",Walk_to_Work:"0.336567926",Bike_to_work:"0.04392237",Green_commute_share:"0.536261491",BA_plus_25_plus:"0.612559242",Med_HH_inc:"85739",Cost_burdened:"0.314576271",Very_cost_burdened:"0.142372881",Med_housing_value:"1106300",Jobs:"13253",Job_density:"136796.4914",Housing_units:"2071",Housing_density:"21376.70971",Permit_density:"18992.34469",Permits_per_capita:"645.6140351",Subsidized_hsg_share:"0.088845968"},{TRACT_ID:"G5300330008402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8402",GEOID:"53033008402",NAME:"84.02",NAMELSAD:"Census Tract 84.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"145446",AWATER:"0",INTPTLAT:"47.6148658",INTPTLON:"-122.3260059",Shape_Leng:"1591.144536",Shape_Area:"145446.7212",NHPD_Units:"48",Permits:"1379",Pop:"2838",Pop_density:"50536.87456",Non_white_share:"0.39217759",White_non_hisp:"0.60782241",Black_non_hisp:"0.065186751",Asian_non_Hisp:"0.130373502",Hispanic:"0.072938689",Workers:"2408",Transit_to_work:"0.279069767",Walk_to_Work:"0.248754153",Bike_to_work:"0.068521595",Green_commute_share:"0.596345515",BA_plus_25_plus:"0.726751331",Med_HH_inc:"71196",Cost_burdened:"0.493957704",Very_cost_burdened:"0.144511581",Med_housing_value:"368200",Jobs:"1893",Job_density:"33709.05692",Housing_units:"2425",Housing_density:"43182.495",Permit_density:"24556.1487",Permits_per_capita:"485.9055673",Subsidized_hsg_share:"0.019793814"},{TRACT_ID:"G5300330008500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8500",GEOID:"53033008500",NAME:"85",NAMELSAD:"Census Tract 85",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"450978",AWATER:"0",INTPTLAT:"47.6049717",INTPTLON:"-122.3249555",Shape_Leng:"2749.975841",Shape_Area:"450980.7796",NHPD_Units:"680",Permits:"1840",Pop:"4385",Pop_density:"25183.26363",Non_white_share:"0.470239453",White_non_hisp:"0.529760547",Black_non_hisp:"0.107867731",Asian_non_Hisp:"0.151881414",Hispanic:"0.125883694",Workers:"1570",Transit_to_work:"0.212738854",Walk_to_Work:"0.462420382",Bike_to_work:"0.012101911",Green_commute_share:"0.687261146",BA_plus_25_plus:"0.418269231",Med_HH_inc:"70246",Cost_burdened:"0.325653798",Very_cost_burdened:"0.118929016",Med_housing_value:"613600",Jobs:"24585",Job_density:"141192.8247",Housing_units:"2183",Housing_density:"12537.07286",Permit_density:"10567.20754",Permits_per_capita:"419.6123147",Subsidized_hsg_share:"0.311497939"},{TRACT_ID:"G5300330008600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8600",GEOID:"53033008600",NAME:"86",NAMELSAD:"Census Tract 86",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"711350",AWATER:"0",INTPTLAT:"47.6071013",INTPTLON:"-122.3166895",Shape_Leng:"3539.711744",Shape_Area:"711352.0403",NHPD_Units:"411",Permits:"2067",Pop:"6757",Pop_density:"24601.88327",Non_white_share:"0.494894184",White_non_hisp:"0.505105816",Black_non_hisp:"0.080657096",Asian_non_Hisp:"0.203788664",Hispanic:"0.125203493",Workers:"3893",Transit_to_work:"0.244027742",Walk_to_Work:"0.314667352",Bike_to_work:"0.044952479",Green_commute_share:"0.603647573",BA_plus_25_plus:"0.626891735",Med_HH_inc:"62810",Cost_burdened:"0.563028765",Very_cost_burdened:"0.354906937",Med_housing_value:"751200",Jobs:"4271",Job_density:"15550.48741",Housing_units:"3184",Housing_density:"11592.77732",Permit_density:"7525.838791",Permits_per_capita:"305.9049874",Subsidized_hsg_share:"0.129082915"},{TRACT_ID:"G5300330008700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8700",GEOID:"53033008700",NAME:"87",NAMELSAD:"Census Tract 87",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"732385",AWATER:"0",INTPTLAT:"47.6059236",INTPTLON:"-122.3077909",Shape_Leng:"3482.225543",Shape_Area:"732385.5287",NHPD_Units:"301",Permits:"756",Pop:"4599",Pop_density:"16263.78929",Non_white_share:"0.503370298",White_non_hisp:"0.496629702",Black_non_hisp:"0.217873451",Asian_non_Hisp:"0.099804305",Hispanic:"0.090889324",Workers:"3164",Transit_to_work:"0.20954488",Walk_to_Work:"0.157395702",Bike_to_work:"0.036978508",Green_commute_share:"0.40391909",BA_plus_25_plus:"0.558547655",Med_HH_inc:"109594",Cost_burdened:"0.448148148",Very_cost_burdened:"0.286111111",Med_housing_value:"742700",Jobs:"1456",Job_density:"5148.962211",Housing_units:"2080",Housing_density:"7355.660301",Permit_density:"2673.499609",Permits_per_capita:"164.3835616",Subsidized_hsg_share:"0.144711538"},{TRACT_ID:"G5300330008800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8800",GEOID:"53033008800",NAME:"88",NAMELSAD:"Census Tract 88",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"948581",AWATER:"0",INTPTLAT:"47.6073299",INTPTLON:"-122.2976324",Shape_Leng:"4017.627668",Shape_Area:"948582.349",NHPD_Units:"121",Permits:"672",Pop:"4695",Pop_density:"12819.14162",Non_white_share:"0.455165069",White_non_hisp:"0.544834931",Black_non_hisp:"0.187220447",Asian_non_Hisp:"0.062193823",Hispanic:"0.088604899",Workers:"2811",Transit_to_work:"0.268587691",Walk_to_Work:"0.053361793",Bike_to_work:"0.050160085",Green_commute_share:"0.37210957",BA_plus_25_plus:"0.697268375",Med_HH_inc:"136250",Cost_burdened:"0.354046243",Very_cost_burdened:"0.278901734",Med_housing_value:"769900",Jobs:"418",Job_density:"1141.29951",Housing_units:"1845",Housing_density:"5037.554055",Permit_density:"1834.816436",Permits_per_capita:"143.1309904",Subsidized_hsg_share:"0.065582656"},{TRACT_ID:"G5300330008900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"8900",GEOID:"53033008900",NAME:"89",NAMELSAD:"Census Tract 89",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1270033",AWATER:"1798066",INTPTLAT:"47.6010291",INTPTLON:"-122.285229",Shape_Leng:"5687.232455",Shape_Area:"1270032.989",NHPD_Units:"71",Permits:"1519",Pop:"6509",Pop_density:"13273.85399",Non_white_share:"0.467813796",White_non_hisp:"0.532186204",Black_non_hisp:"0.181748348",Asian_non_Hisp:"0.115378706",Hispanic:"0.120141343",Workers:"3971",Transit_to_work:"0.149584488",Walk_to_Work:"0.021908839",Bike_to_work:"0.038529338",Green_commute_share:"0.210022664",BA_plus_25_plus:"0.640454076",Med_HH_inc:"109684",Cost_burdened:"0.335459184",Very_cost_burdened:"0.131377551",Med_housing_value:"715100",Jobs:"2274",Job_density:"4637.385771",Housing_units:"2681",Housing_density:"5467.384016",Permit_density:"3097.708437",Permits_per_capita:"233.3691811",Subsidized_hsg_share:"0.026482656"},{TRACT_ID:"G5300330009000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9000",GEOID:"53033009000",NAME:"90",NAMELSAD:"Census Tract 90",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"855872",AWATER:"0",INTPTLAT:"47.5980274",INTPTLON:"-122.308902",Shape_Leng:"4364.951701",Shape_Area:"855871.3884",NHPD_Units:"603",Permits:"2044",Pop:"3720",Pop_density:"11257.23913",Non_white_share:"0.642473118",White_non_hisp:"0.357526882",Black_non_hisp:"0.263709677",Asian_non_Hisp:"0.179301075",Hispanic:"0.091666667",Workers:"2090",Transit_to_work:"0.280382775",Walk_to_Work:"0.102392344",Bike_to_work:"0.020574163",Green_commute_share:"0.403349282",BA_plus_25_plus:"0.520882058",Med_HH_inc:"57959",Cost_burdened:"0.507565337",Very_cost_burdened:"0.219394773",Med_housing_value:"579200",Jobs:"4140",Job_density:"12528.21774",Housing_units:"2169",Housing_density:"6563.696687",Permit_density:"6185.429243",Permits_per_capita:"549.4623656",Subsidized_hsg_share:"0.278008299"},{TRACT_ID:"G5300330009100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9100",GEOID:"53033009100",NAME:"91",NAMELSAD:"Census Tract 91",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"410621",AWATER:"0",INTPTLAT:"47.5983847",INTPTLON:"-122.3217349",Shape_Leng:"3238.633102",Shape_Area:"410617.8912",NHPD_Units:"813",Permits:"2100",Pop:"2813",Pop_density:"17742.97114",Non_white_share:"0.771773907",White_non_hisp:"0.228226093",Black_non_hisp:"0.056523285",Asian_non_Hisp:"0.619267686",Hispanic:"0.026661927",Workers:"1398",Transit_to_work:"0.371959943",Walk_to_Work:"0.201001431",Bike_to_work:"0.021459227",Green_commute_share:"0.594420601",BA_plus_25_plus:"0.335856574",Med_HH_inc:"33346",Cost_burdened:"0.53877551",Very_cost_burdened:"0.228571429",Med_housing_value:"490900",Jobs:"2745",Job_density:"17314.06178",Housing_units:"1918",Housing_density:"12097.76703",Permit_density:"13245.73032",Permits_per_capita:"746.5339495",Subsidized_hsg_share:"0.423879041"},{TRACT_ID:"G5300330009200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9200",GEOID:"53033009200",NAME:"92",NAMELSAD:"Census Tract 92",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"338451",AWATER:"154864",INTPTLAT:"47.6004609",INTPTLON:"-122.3335323",Shape_Leng:"3770.330147",Shape_Area:"338452.6128",NHPD_Units:"1247",Permits:"1447",Pop:"2762",Pop_density:"21136.13835",Non_white_share:"0.506879073",White_non_hisp:"0.493120927",Black_non_hisp:"0.113685735",Asian_non_Hisp:"0.258146271",Hispanic:"0.066256336",Workers:"1636",Transit_to_work:"0.41198044",Walk_to_Work:"0.237163814",Bike_to_work:"0",Green_commute_share:"0.649144254",BA_plus_25_plus:"0.385217051",Med_HH_inc:"31859",Cost_burdened:"0.487136465",Very_cost_burdened:"0.232662192",Med_housing_value:"535700",Jobs:"8563",Job_density:"65528.15087",Housing_units:"2190",Housing_density:"16758.92215",Permit_density:"11073.13258",Permits_per_capita:"523.8957277",Subsidized_hsg_share:"0.569406393"},{TRACT_ID:"G5300330009300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9300",GEOID:"53033009300",NAME:"93",NAMELSAD:"Census Tract 93",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9444110",AWATER:"639051",INTPTLAT:"47.5771253",INTPTLON:"-122.330936",Shape_Leng:"16784.46056",Shape_Area:"9583476.489",NHPD_Units:"0",Permits:"884",Pop:"3095",Pop_density:"848.7843959",Non_white_share:"0.457835218",White_non_hisp:"0.542164782",Black_non_hisp:"0.087560582",Asian_non_Hisp:"0.2",Hispanic:"0.078513732",Workers:"2097",Transit_to_work:"0.226990939",Walk_to_Work:"0.168812589",Bike_to_work:"0.0472103",Green_commute_share:"0.443013829",BA_plus_25_plus:"0.561826959",Med_HH_inc:"91071",Cost_burdened:"0.350372737",Very_cost_burdened:"0.138445154",Med_housing_value:"557800",Jobs:"48945",Job_density:"13422.86018",Housing_units:"1753",Housing_density:"480.7492879",Permit_density:"242.4314721",Permits_per_capita:"285.6219709",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330009400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9400",GEOID:"53033009400",NAME:"94",NAMELSAD:"Census Tract 94",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1686311",AWATER:"0",INTPTLAT:"47.5880988",INTPTLON:"-122.3099702",Shape_Leng:"5748.976399",Shape_Area:"1686306.957",NHPD_Units:"238",Permits:"1498",Pop:"7086",Pop_density:"10883.31616",Non_white_share:"0.643381315",White_non_hisp:"0.356618685",Black_non_hisp:"0.162009596",Asian_non_Hisp:"0.251481795",Hispanic:"0.17104149",Workers:"4328",Transit_to_work:"0.290203327",Walk_to_Work:"0.040434381",Bike_to_work:"0.045748614",Green_commute_share:"0.376386322",BA_plus_25_plus:"0.613909273",Med_HH_inc:"77783",Cost_burdened:"0.431525992",Very_cost_burdened:"0.091671325",Med_housing_value:"644900",Jobs:"3492",Job_density:"5363.327691",Housing_units:"3262",Housing_density:"5010.073003",Permit_density:"2300.763139",Permits_per_capita:"211.402766",Subsidized_hsg_share:"0.072961373"},{TRACT_ID:"G5300330009500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9500",GEOID:"53033009500",NAME:"95",NAMELSAD:"Census Tract 95",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2597717",AWATER:"2916270",INTPTLAT:"47.5783426",INTPTLON:"-122.2831943",Shape_Leng:"8781.017069",Shape_Area:"2597710.405",NHPD_Units:"1150",Permits:"787",Pop:"7157",Pop_density:"7135.706047",Non_white_share:"0.459969261",White_non_hisp:"0.540030739",Black_non_hisp:"0.175911695",Asian_non_Hisp:"0.168785804",Hispanic:"0.045270365",Workers:"4133",Transit_to_work:"0.218243407",Walk_to_Work:"0.051052504",Bike_to_work:"0.037744979",Green_commute_share:"0.30704089",BA_plus_25_plus:"0.677022274",Med_HH_inc:"128996",Cost_burdened:"0.384615385",Very_cost_burdened:"0.13548951",Med_housing_value:"873000",Jobs:"2202",Job_density:"2195.448472",Housing_units:"2977",Housing_density:"2968.142644",Permit_density:"784.6584685",Permits_per_capita:"109.9622747",Subsidized_hsg_share:"0.386294928"},{TRACT_ID:"G5300330009600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9600",GEOID:"53033009600",NAME:"96",NAMELSAD:"Census Tract 96",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1906922",AWATER:"1385222",INTPTLAT:"47.5899898",INTPTLON:"-122.3882351",Shape_Leng:"6458.521421",Shape_Area:"1906920.598",NHPD_Units:"0",Permits:"537",Pop:"5898",Pop_density:"8010.684168",Non_white_share:"0.185486606",White_non_hisp:"0.814513394",Black_non_hisp:"0.003051882",Asian_non_Hisp:"0.063919973",Hispanic:"0.051542896",Workers:"3257",Transit_to_work:"0.203868591",Walk_to_Work:"0.015658582",Bike_to_work:"0.015351551",Green_commute_share:"0.234878723",BA_plus_25_plus:"0.713700594",Med_HH_inc:"142768",Cost_burdened:"0.371584699",Very_cost_burdened:"0.170309654",Med_housing_value:"786400",Jobs:"1517",Job_density:"2060.39469",Housing_units:"3244",Housing_density:"4406.012113",Permit_density:"729.3552726",Permits_per_capita:"91.04781282",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330009701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9701",GEOID:"53033009701",NAME:"97.01",NAMELSAD:"Census Tract 97.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1861358",AWATER:"1607123",INTPTLAT:"47.5731929",INTPTLON:"-122.4101745",Shape_Leng:"8810.309326",Shape_Area:"1861360.221",NHPD_Units:"6",Permits:"376",Pop:"6505",Pop_density:"9051.387566",Non_white_share:"0.289623367",White_non_hisp:"0.710376633",Black_non_hisp:"0.095157571",Asian_non_Hisp:"0.07179093",Hispanic:"0.063643351",Workers:"3755",Transit_to_work:"0.069507324",Walk_to_Work:"0.025565912",Bike_to_work:"0.027430093",Green_commute_share:"0.122503329",BA_plus_25_plus:"0.686581783",Med_HH_inc:"125125",Cost_burdened:"0.421901528",Very_cost_burdened:"0.235144312",Med_housing_value:"757600",Jobs:"667",Job_density:"928.0976951",Housing_units:"3138",Housing_density:"4366.372665",Permit_density:"523.1855073",Permits_per_capita:"57.80169101",Subsidized_hsg_share:"0.001912046"},{TRACT_ID:"G5300330009702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9702",GEOID:"53033009702",NAME:"97.02",NAMELSAD:"Census Tract 97.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2220441",AWATER:"0",INTPTLAT:"47.5719337",INTPTLON:"-122.3960103",Shape_Leng:"8591.748456",Shape_Area:"2220440.484",NHPD_Units:"0",Permits:"222",Pop:"5595",Pop_density:"6526.173619",Non_white_share:"0.160857909",White_non_hisp:"0.839142091",Black_non_hisp:"0.013226095",Asian_non_Hisp:"0.021983914",Hispanic:"0.066487936",Workers:"3079",Transit_to_work:"0.153621306",Walk_to_Work:"0.031178954",Bike_to_work:"0.03799935",Green_commute_share:"0.22279961",BA_plus_25_plus:"0.662672571",Med_HH_inc:"123496",Cost_burdened:"0.464367816",Very_cost_burdened:"0.255172414",Med_housing_value:"719600",Jobs:"272",Job_density:"317.2688515",Housing_units:"2312",Housing_density:"2696.785238",Permit_density:"258.9473715",Permits_per_capita:"39.67828418",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330009801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9801",GEOID:"53033009801",NAME:"98.01",NAMELSAD:"Census Tract 98.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1004708",AWATER:"0",INTPTLAT:"47.5762555",INTPTLON:"-122.383143",Shape_Leng:"4049.377989",Shape_Area:"1004708.118",NHPD_Units:"15",Permits:"439",Pop:"3555",Pop_density:"9164.262385",Non_white_share:"0.258790436",White_non_hisp:"0.741209564",Black_non_hisp:"0.005344585",Asian_non_Hisp:"0.036005626",Hispanic:"0.062447257",Workers:"2209",Transit_to_work:"0.165685831",Walk_to_Work:"0.057944771",Bike_to_work:"0.022634676",Green_commute_share:"0.246265278",BA_plus_25_plus:"0.593478261",Med_HH_inc:"136143",Cost_burdened:"0.402640264",Very_cost_burdened:"0.270627063",Med_housing_value:"679900",Jobs:"762",Job_density:"1964.322908",Housing_units:"1796",Housing_density:"4629.821447",Permit_density:"1131.676846",Permits_per_capita:"123.488045",Subsidized_hsg_share:"0.008351893"},{TRACT_ID:"G5300330009802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9802",GEOID:"53033009802",NAME:"98.02",NAMELSAD:"Census Tract 98.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"922319",AWATER:"0",INTPTLAT:"47.5672342",INTPTLON:"-122.3830567",Shape_Leng:"3957.163207",Shape_Area:"922322.0074",NHPD_Units:"0",Permits:"444",Pop:"4165",Pop_density:"11695.84545",Non_white_share:"0.206242497",White_non_hisp:"0.793757503",Black_non_hisp:"0.066506603",Asian_non_Hisp:"0.046818727",Hispanic:"0.043457383",Workers:"2337",Transit_to_work:"0.195121951",Walk_to_Work:"0.007702182",Bike_to_work:"0.008130081",Green_commute_share:"0.210954215",BA_plus_25_plus:"0.652107977",Med_HH_inc:"93466",Cost_burdened:"0.719251337",Very_cost_burdened:"0.125668449",Med_housing_value:"655000",Jobs:"1798",Job_density:"5049.010833",Housing_units:"1860",Housing_density:"5223.114655",Permit_density:"1246.808014",Permits_per_capita:"106.6026411",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330009900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"9900",GEOID:"53033009900",NAME:"99",NAMELSAD:"Census Tract 99",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6565170",AWATER:"2370735",INTPTLAT:"47.5794536",INTPTLON:"-122.3550326",Shape_Leng:"20527.77738",Shape_Area:"6791154.635",NHPD_Units:"36",Permits:"1616",Pop:"6078",Pop_density:"2397.797427",Non_white_share:"0.29088516",White_non_hisp:"0.70911484",Black_non_hisp:"0.043270813",Asian_non_Hisp:"0.081934847",Hispanic:"0.096248766",Workers:"4025",Transit_to_work:"0.172173913",Walk_to_Work:"0.029813665",Bike_to_work:"0.00173913",Green_commute_share:"0.203726708",BA_plus_25_plus:"0.564770932",Med_HH_inc:"84351",Cost_burdened:"0.435031847",Very_cost_burdened:"0.111464968",Med_housing_value:"566400",Jobs:"6261",Job_density:"2469.991723",Housing_units:"3260",Housing_density:"1286.084174",Permit_density:"637.5190264",Permits_per_capita:"265.8769332",Subsidized_hsg_share:"0.011042945"},{TRACT_ID:"G5300330010001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10001",GEOID:"53033010001",NAME:"100.01",NAMELSAD:"Census Tract 100.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2267156",AWATER:"60359",INTPTLAT:"47.5673069",INTPTLON:"-122.3043618",Shape_Leng:"7802.504436",Shape_Area:"2327516.785",NHPD_Units:"1150",Permits:"1102",Pop:"4390",Pop_density:"5015.114886",Non_white_share:"0.697494305",White_non_hisp:"0.302505695",Black_non_hisp:"0.225512528",Asian_non_Hisp:"0.297722096",Hispanic:"0.10022779",Workers:"1964",Transit_to_work:"0.306517312",Walk_to_Work:"0.056008147",Bike_to_work:"0.021384929",Green_commute_share:"0.383910387",BA_plus_25_plus:"0.407623626",Med_HH_inc:"59529",Cost_burdened:"0.450736127",Very_cost_burdened:"0.210645527",Med_housing_value:"568000",Jobs:"4271",Job_density:"4879.169858",Housing_units:"1765",Housing_density:"2016.327511",Permit_density:"1258.9195",Permits_per_capita:"251.0250569",Subsidized_hsg_share:"0.651558074"},{TRACT_ID:"G5300330010002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10002",GEOID:"53033010002",NAME:"100.02",NAMELSAD:"Census Tract 100.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"948077",AWATER:"0",INTPTLAT:"47.5765865",INTPTLON:"-122.3095716",Shape_Leng:"4183.453676",Shape_Area:"948072.1244",NHPD_Units:"126",Permits:"418",Pop:"5095",Pop_density:"13918.68954",Non_white_share:"0.596270854",White_non_hisp:"0.403729146",Black_non_hisp:"0.09656526",Asian_non_Hisp:"0.288321884",Hispanic:"0.120117763",Workers:"2984",Transit_to_work:"0.282841823",Walk_to_Work:"0.02077748",Bike_to_work:"0.011729223",Green_commute_share:"0.315348525",BA_plus_25_plus:"0.542260692",Med_HH_inc:"78929",Cost_burdened:"0.578840285",Very_cost_burdened:"0.313326551",Med_housing_value:"638300",Jobs:"921",Job_density:"2516.018266",Housing_units:"2109",Housing_density:"5761.435964",Permit_density:"1141.906227",Permits_per_capita:"82.04121688",Subsidized_hsg_share:"0.059743954"},{TRACT_ID:"G5300330010101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10101",GEOID:"53033010101",NAME:"101.01",NAMELSAD:"Census Tract 101.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"871622",AWATER:"0",INTPTLAT:"47.5657253",INTPTLON:"-122.2906975",Shape_Leng:"4663.23254",Shape_Area:"871622.5774",NHPD_Units:"813",Permits:"1035",Pop:"4525",Pop_density:"13445.84717",Non_white_share:"0.713812155",White_non_hisp:"0.286187845",Black_non_hisp:"0.234254144",Asian_non_Hisp:"0.253259669",Hispanic:"0.113812155",Workers:"2379",Transit_to_work:"0.352248844",Walk_to_Work:"0.002522068",Bike_to_work:"0.028163094",Green_commute_share:"0.382934006",BA_plus_25_plus:"0.472125436",Med_HH_inc:"63512",Cost_burdened:"0.612723214",Very_cost_burdened:"0.183035714",Med_housing_value:"568800",Jobs:"869",Job_density:"2582.196948",Housing_units:"1668",Housing_density:"4956.39184",Permit_density:"3075.458965",Permits_per_capita:"228.7292818",Subsidized_hsg_share:"0.487410072"},{TRACT_ID:"G5300330010102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10102",GEOID:"53033010102",NAME:"101.02",NAMELSAD:"Census Tract 101.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1623225",AWATER:"2170065",INTPTLAT:"47.5660585",INTPTLON:"-122.2688521",Shape_Leng:"6669.129728",Shape_Area:"1623226.109",NHPD_Units:"151",Permits:"573",Pop:"4143",Pop_density:"6610.494997",Non_white_share:"0.447260439",White_non_hisp:"0.552739561",Black_non_hisp:"0.144098479",Asian_non_Hisp:"0.108858315",Hispanic:"0.06613565",Workers:"2374",Transit_to_work:"0.149536647",Walk_to_Work:"0.053917439",Bike_to_work:"0.034962089",Green_commute_share:"0.238416175",BA_plus_25_plus:"0.640274873",Med_HH_inc:"134063",Cost_burdened:"0.314516129",Very_cost_burdened:"0.147849462",Med_housing_value:"804200",Jobs:"832",Job_density:"1327.523977",Housing_units:"1828",Housing_density:"2916.723354",Permit_density:"914.268316",Permits_per_capita:"138.3055757",Subsidized_hsg_share:"0.082603939"},{TRACT_ID:"G5300330010200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10200",GEOID:"53033010200",NAME:"102",NAMELSAD:"Census Tract 102",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2795533",AWATER:"2076618",INTPTLAT:"47.5564564",INTPTLON:"-122.2517138",Shape_Leng:"9961.030572",Shape_Area:"2795536.152",NHPD_Units:"0",Permits:"192",Pop:"5039",Pop_density:"4668.50153",Non_white_share:"0.461004167",White_non_hisp:"0.538995833",Black_non_hisp:"0.12343719",Asian_non_Hisp:"0.188926374",Hispanic:"0.094661639",Workers:"2764",Transit_to_work:"0.195007236",Walk_to_Work:"0",Bike_to_work:"0.024602026",Green_commute_share:"0.219609262",BA_plus_25_plus:"0.682773109",Med_HH_inc:"132682",Cost_burdened:"0.196374622",Very_cost_burdened:"0.135951662",Med_housing_value:"772000",Jobs:"512",Job_density:"474.3545909",Housing_units:"2113",Housing_density:"1957.639161",Permit_density:"177.8829716",Permits_per_capita:"38.10279817",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330010301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10301",GEOID:"53033010301",NAME:"103.01",NAMELSAD:"Census Tract 103.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1002658",AWATER:"0",INTPTLAT:"47.5521545",INTPTLON:"-122.2805848",Shape_Leng:"5150.816737",Shape_Area:"1002656.878",NHPD_Units:"16",Permits:"186",Pop:"4272",Pop_density:"11035.09792",Non_white_share:"0.622191011",White_non_hisp:"0.377808989",Black_non_hisp:"0.363529963",Asian_non_Hisp:"0.174157303",Hispanic:"0.018960674",Workers:"2180",Transit_to_work:"0.127522936",Walk_to_Work:"0.016513761",Bike_to_work:"0.010550459",Green_commute_share:"0.154587156",BA_plus_25_plus:"0.450918303",Med_HH_inc:"102135",Cost_burdened:"0.694444444",Very_cost_burdened:"0.604700855",Med_housing_value:"579800",Jobs:"826",Job_density:"2133.658914",Housing_units:"1512",Housing_density:"3905.680723",Permit_density:"480.4607239",Permits_per_capita:"43.53932584",Subsidized_hsg_share:"0.010582011"},{TRACT_ID:"G5300330010302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10302",GEOID:"53033010302",NAME:"103.02",NAMELSAD:"Census Tract 103.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"632167",AWATER:"0",INTPTLAT:"47.557377",INTPTLON:"-122.2858807",Shape_Leng:"3433.621034",Shape_Area:"632166.7765",NHPD_Units:"50",Permits:"1502",Pop:"2845",Pop_density:"11655.9646",Non_white_share:"0.341300527",White_non_hisp:"0.658699473",Black_non_hisp:"0.105799649",Asian_non_Hisp:"0.10685413",Hispanic:"0.021792619",Workers:"2011",Transit_to_work:"0.426653406",Walk_to_Work:"0.002486325",Bike_to_work:"0.049726504",Green_commute_share:"0.478866236",BA_plus_25_plus:"0.80562249",Med_HH_inc:"104412",Cost_burdened:"0.378983635",Very_cost_burdened:"0.175710594",Med_housing_value:"493300",Jobs:"2382",Job_density:"9759.053666",Housing_units:"1681",Housing_density:"6887.056764",Permit_density:"6153.693789",Permits_per_capita:"527.943761",Subsidized_hsg_share:"0.0297442"},{TRACT_ID:"G5300330010401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10401",GEOID:"53033010401",NAME:"104.01",NAMELSAD:"Census Tract 104.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1629874",AWATER:"0",INTPTLAT:"47.5532095",INTPTLON:"-122.2955875",Shape_Leng:"5279.95281",Shape_Area:"1629875.083",NHPD_Units:"39",Permits:"293",Pop:"4500",Pop_density:"7150.826687",Non_white_share:"0.794888889",White_non_hisp:"0.205111111",Black_non_hisp:"0.124666667",Asian_non_Hisp:"0.443111111",Hispanic:"0.148444444",Workers:"2384",Transit_to_work:"0.203020134",Walk_to_Work:"0.021392617",Bike_to_work:"0.011325503",Green_commute_share:"0.235738255",BA_plus_25_plus:"0.382742032",Med_HH_inc:"81756",Cost_burdened:"0.503816794",Very_cost_burdened:"0.053435115",Med_housing_value:"578000",Jobs:"254",Job_density:"403.6244397",Housing_units:"1562",Housing_density:"2482.131397",Permit_density:"465.598271",Permits_per_capita:"65.11111111",Subsidized_hsg_share:"0.02496799"},{TRACT_ID:"G5300330010402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10402",GEOID:"53033010402",NAME:"104.02",NAMELSAD:"Census Tract 104.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1742871",AWATER:"0",INTPTLAT:"47.5539478",INTPTLON:"-122.3101489",Shape_Leng:"5763.551673",Shape_Area:"1742873.479",NHPD_Units:"0",Permits:"273",Pop:"4856",Pop_density:"7216.243924",Non_white_share:"0.763179572",White_non_hisp:"0.236820428",Black_non_hisp:"0.075370675",Asian_non_Hisp:"0.526359143",Hispanic:"0.106672158",Workers:"2809",Transit_to_work:"0.175507298",Walk_to_Work:"0.014239943",Bike_to_work:"0.027767889",Green_commute_share:"0.21751513",BA_plus_25_plus:"0.30564693",Med_HH_inc:"94125",Cost_burdened:"0.210682493",Very_cost_burdened:"0.106824926",Med_housing_value:"557400",Jobs:"518",Job_density:"769.7723131",Housing_units:"1703",Housing_density:"2530.737933",Permit_density:"405.6908137",Permits_per_capita:"56.21911038",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330010501",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10501",GEOID:"53033010501",NAME:"105.01",NAMELSAD:"Census Tract 105.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"742016",AWATER:"0",INTPTLAT:"47.5576235",INTPTLON:"-122.3801107",Shape_Leng:"3797.307866",Shape_Area:"742011.6588",NHPD_Units:"0",Permits:"2168",Pop:"3948",Pop_density:"13780.3943",Non_white_share:"0.281914894",White_non_hisp:"0.718085106",Black_non_hisp:"0.023049645",Asian_non_Hisp:"0.097264438",Hispanic:"0.063323202",Workers:"2460",Transit_to_work:"0.252439024",Walk_to_Work:"0.03495935",Bike_to_work:"0.034146341",Green_commute_share:"0.321544715",BA_plus_25_plus:"0.596894209",Med_HH_inc:"94301",Cost_burdened:"0.436349079",Very_cost_burdened:"0.251401121",Med_housing_value:"683000",Jobs:"1536",Job_density:"5361.369212",Housing_units:"2164",Housing_density:"7553.387354",Permit_density:"7567.349253",Permits_per_capita:"549.1388045",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330010502",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10502",GEOID:"53033010502",NAME:"105.02",NAMELSAD:"Census Tract 105.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"975912",AWATER:"0",INTPTLAT:"47.5573014",INTPTLON:"-122.3896847",Shape_Leng:"4431.482017",Shape_Area:"975910.7256",NHPD_Units:"105",Permits:"1620",Pop:"5440",Pop_density:"14437.30103",Non_white_share:"0.205882353",White_non_hisp:"0.794117647",Black_non_hisp:"0.026838235",Asian_non_Hisp:"0.030698529",Hispanic:"0.082536765",Workers:"3701",Transit_to_work:"0.254255607",Walk_to_Work:"0.018373413",Bike_to_work:"0.005403945",Green_commute_share:"0.278032964",BA_plus_25_plus:"0.646323054",Med_HH_inc:"106833",Cost_burdened:"0.272885284",Very_cost_burdened:"0.105446118",Med_housing_value:"656700",Jobs:"2991",Job_density:"7937.861649",Housing_units:"3144",Housing_density:"8343.910741",Permit_density:"4299.343321",Permits_per_capita:"297.7941176",Subsidized_hsg_share:"0.033396947"},{TRACT_ID:"G5300330010601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10601",GEOID:"53033010601",NAME:"106.01",NAMELSAD:"Census Tract 106.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1089233",AWATER:"0",INTPTLAT:"47.5459808",INTPTLON:"-122.3816984",Shape_Leng:"4399.196294",Shape_Area:"1089233.349",NHPD_Units:"690",Permits:"284",Pop:"4368",Pop_density:"10386.27003",Non_white_share:"0.199862637",White_non_hisp:"0.800137363",Black_non_hisp:"0.012362637",Asian_non_Hisp:"0.053342491",Hispanic:"0.102335165",Workers:"2947",Transit_to_work:"0.132677299",Walk_to_Work:"0.027485579",Bike_to_work:"0.015948422",Green_commute_share:"0.1761113",BA_plus_25_plus:"0.598041958",Med_HH_inc:"127448",Cost_burdened:"0.2576",Very_cost_burdened:"0.0784",Med_housing_value:"662900",Jobs:"485",Job_density:"1153.237401",Housing_units:"2070",Housing_density:"4922.064782",Permit_density:"675.2977768",Permits_per_capita:"65.01831502",Subsidized_hsg_share:"0.333333333"},{TRACT_ID:"G5300330010602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10602",GEOID:"53033010602",NAME:"106.02",NAMELSAD:"Census Tract 106.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1505061",AWATER:"817134",INTPTLAT:"47.5476919",INTPTLON:"-122.3967392",Shape_Leng:"7068.364598",Shape_Area:"1505063.01",NHPD_Units:"9",Permits:"251",Pop:"4243",Pop_density:"7301.577512",Non_white_share:"0.162149423",White_non_hisp:"0.837850577",Black_non_hisp:"0.023096865",Asian_non_Hisp:"0.042658496",Hispanic:"0.055385341",Workers:"2567",Transit_to_work:"0.15426568",Walk_to_Work:"0.025710947",Bike_to_work:"0.016751071",Green_commute_share:"0.196727698",BA_plus_25_plus:"0.63286119",Med_HH_inc:"100168",Cost_burdened:"0.561893204",Very_cost_burdened:"0.347087379",Med_housing_value:"812000",Jobs:"624",Job_density:"1073.812012",Housing_units:"2293",Housing_density:"3945.914974",Permit_density:"431.9339985",Permits_per_capita:"59.15625737",Subsidized_hsg_share:"0.003924989"},{TRACT_ID:"G5300330010701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10701",GEOID:"53033010701",NAME:"107.01",NAMELSAD:"Census Tract 107.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1457384",AWATER:"3664",INTPTLAT:"47.5451419",INTPTLON:"-122.3675265",Shape_Leng:"6479.456948",Shape_Area:"1461048.956",NHPD_Units:"318",Permits:"697",Pop:"4267",Pop_density:"7583.093589",Non_white_share:"0.634403562",White_non_hisp:"0.365596438",Black_non_hisp:"0.251230373",Asian_non_Hisp:"0.171549098",Hispanic:"0.09491446",Workers:"2212",Transit_to_work:"0.245931284",Walk_to_Work:"0.015822785",Bike_to_work:"0.018987342",Green_commute_share:"0.28074141",BA_plus_25_plus:"0.449424214",Med_HH_inc:"88929",Cost_burdened:"0.535526316",Very_cost_burdened:"0.246052632",Med_housing_value:"542500",Jobs:"780",Job_density:"1386.176002",Housing_units:"1886",Housing_density:"3351.702486",Permit_density:"1238.672658",Permits_per_capita:"163.3466135",Subsidized_hsg_share:"0.168610817"},{TRACT_ID:"G5300330010702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10702",GEOID:"53033010702",NAME:"107.02",NAMELSAD:"Census Tract 107.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"780115",AWATER:"0",INTPTLAT:"47.5467996",INTPTLON:"-122.3730587",Shape_Leng:"4541.37031",Shape_Area:"780116.7178",NHPD_Units:"745",Permits:"1518",Pop:"4866",Pop_density:"16155.15936",Non_white_share:"0.645910399",White_non_hisp:"0.354089601",Black_non_hisp:"0.378339499",Asian_non_Hisp:"0.138306617",Hispanic:"0.086313194",Workers:"2145",Transit_to_work:"0.181818182",Walk_to_Work:"0.018648019",Bike_to_work:"0.0004662",Green_commute_share:"0.200932401",BA_plus_25_plus:"0.476174152",Med_HH_inc:"54646",Cost_burdened:"0.576381365",Very_cost_burdened:"0.20368364",Med_housing_value:"550700",Jobs:"259",Job_density:"859.882095",Housing_units:"1862",Housing_density:"6181.855062",Permit_density:"5039.772279",Permits_per_capita:"311.9605425",Subsidized_hsg_share:"0.400107411"},{TRACT_ID:"G5300330010800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10800",GEOID:"53033010800",NAME:"108",NAMELSAD:"Census Tract 108",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4140525",AWATER:"322633",INTPTLAT:"47.5440342",INTPTLON:"-122.3498743",Shape_Leng:"10923.01571",Shape_Area:"4463155.624",NHPD_Units:"65",Permits:"444",Pop:"5159",Pop_density:"3227.066293",Non_white_share:"0.509982555",White_non_hisp:"0.490017445",Black_non_hisp:"0.119596821",Asian_non_Hisp:"0.225431285",Hispanic:"0.066873425",Workers:"2834",Transit_to_work:"0.094565984",Walk_to_Work:"0.026464361",Bike_to_work:"0.00388144",Green_commute_share:"0.124911785",BA_plus_25_plus:"0.555771365",Med_HH_inc:"94063",Cost_burdened:"0.663405088",Very_cost_burdened:"0.52446184",Med_housing_value:"515100",Jobs:"1218",Job_density:"761.8853934",Housing_units:"1984",Housing_density:"1241.034992",Permit_density:"277.7316212",Permits_per_capita:"86.06319054",Subsidized_hsg_share:"0.032762097"},{TRACT_ID:"G5300330010900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"10900",GEOID:"53033010900",NAME:"109",NAMELSAD:"Census Tract 109",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5389781",AWATER:"414929",INTPTLAT:"47.5408335",INTPTLON:"-122.3175563",Shape_Leng:"11336.89504",Shape_Area:"5804706.136",NHPD_Units:"42",Permits:"239",Pop:"1070",Pop_density:"514.1743752",Non_white_share:"0.371028037",White_non_hisp:"0.628971963",Black_non_hisp:"0.047663551",Asian_non_Hisp:"0.058878505",Hispanic:"0.194392523",Workers:"707",Transit_to_work:"0.185289958",Walk_to_Work:"0.00990099",Bike_to_work:"0.048090523",Green_commute_share:"0.243281471",BA_plus_25_plus:"0.463101604",Med_HH_inc:"52063",Cost_burdened:"0.485611511",Very_cost_burdened:"0.21942446",Med_housing_value:"470500",Jobs:"17917",Job_density:"8609.777832",Housing_units:"727",Housing_density:"349.350253",Permit_density:"114.848295",Permits_per_capita:"223.364486",Subsidized_hsg_share:"0.057771664"},{TRACT_ID:"G5300330011001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11001",GEOID:"53033011001",NAME:"110.01",NAMELSAD:"Census Tract 110.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1080391",AWATER:"0",INTPTLAT:"47.5384101",INTPTLON:"-122.2861704",Shape_Leng:"4957.81319",Shape_Area:"1080392.748",NHPD_Units:"1616",Permits:"1498",Pop:"5439",Pop_density:"13038.74739",Non_white_share:"0.859165288",White_non_hisp:"0.140834712",Black_non_hisp:"0.390512962",Asian_non_Hisp:"0.359992646",Hispanic:"0.041735613",Workers:"2287",Transit_to_work:"0.23567993",Walk_to_Work:"0.015303892",Bike_to_work:"0.009182335",Green_commute_share:"0.260166157",BA_plus_25_plus:"0.248754842",Med_HH_inc:"36898",Cost_burdened:"0.660041841",Very_cost_burdened:"0.349372385",Med_housing_value:"503000",Jobs:"652",Job_density:"1563.019544",Housing_units:"1849",Housing_density:"4432.550823",Permit_density:"3591.10932",Permits_per_capita:"275.4182754",Subsidized_hsg_share:"0.873985938"},{TRACT_ID:"G5300330011002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11002",GEOID:"53033011002",NAME:"110.02",NAMELSAD:"Census Tract 110.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1719569",AWATER:"0",INTPTLAT:"47.5405945",INTPTLON:"-122.2991995",Shape_Leng:"6860.816133",Shape_Area:"1719570.017",NHPD_Units:"305",Permits:"292",Pop:"4348",Pop_density:"6548.890044",Non_white_share:"0.912603496",White_non_hisp:"0.087396504",Black_non_hisp:"0.332336707",Asian_non_Hisp:"0.531278749",Hispanic:"0.029668813",Workers:"2117",Transit_to_work:"0.25649504",Walk_to_Work:"0.016060463",Bike_to_work:"0.002834199",Green_commute_share:"0.275389702",BA_plus_25_plus:"0.212649945",Med_HH_inc:"49702",Cost_burdened:"0.586864407",Very_cost_burdened:"0.23940678",Med_housing_value:"506200",Jobs:"550",Job_density:"828.4014545",Housing_units:"1335",Housing_density:"2010.756258",Permit_density:"439.8058631",Permits_per_capita:"67.15731371",Subsidized_hsg_share:"0.228464419"},{TRACT_ID:"G5300330011101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11101",GEOID:"53033011101",NAME:"111.01",NAMELSAD:"Census Tract 111.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1136851",AWATER:"0",INTPTLAT:"47.5394734",INTPTLON:"-122.2773089",Shape_Leng:"4731.737822",Shape_Area:"1136849.262",NHPD_Units:"206",Permits:"1422",Pop:"5168",Pop_density:"11773.80198",Non_white_share:"0.776702786",White_non_hisp:"0.223297214",Black_non_hisp:"0.215557276",Asian_non_Hisp:"0.390673375",Hispanic:"0.070433437",Workers:"2970",Transit_to_work:"0.25959596",Walk_to_Work:"0.009427609",Bike_to_work:"0",Green_commute_share:"0.269023569",BA_plus_25_plus:"0.317375887",Med_HH_inc:"65746",Cost_burdened:"0.675238095",Very_cost_burdened:"0.231428571",Med_housing_value:"474700",Jobs:"319",Job_density:"726.7497739",Housing_units:"2132",Housing_density:"4857.148959",Permit_density:"3239.618114",Permits_per_capita:"275.1547988",Subsidized_hsg_share:"0.096622889"},{TRACT_ID:"G5300330011102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11102",GEOID:"53033011102",NAME:"111.02",NAMELSAD:"Census Tract 111.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1303226",AWATER:"1143440",INTPTLAT:"47.5424632",INTPTLON:"-122.2604403",Shape_Leng:"6126.109807",Shape_Area:"1303226.547",NHPD_Units:"61",Permits:"330",Pop:"5643",Pop_density:"11214.71096",Non_white_share:"0.514797094",White_non_hisp:"0.485202906",Black_non_hisp:"0.1158958",Asian_non_Hisp:"0.207336523",Hispanic:"0.113946482",Workers:"3088",Transit_to_work:"0.186204663",Walk_to_Work:"0.019430052",Bike_to_work:"0.003238342",Green_commute_share:"0.208873057",BA_plus_25_plus:"0.56680932",Med_HH_inc:"108125",Cost_burdened:"0.604456825",Very_cost_burdened:"0.359331476",Med_housing_value:"787400",Jobs:"961",Job_density:"1909.859513",Housing_units:"1988",Housing_density:"3950.885237",Permit_density:"655.8310503",Permits_per_capita:"58.47953216",Subsidized_hsg_share:"0.030684105"},{TRACT_ID:"G5300330011200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11200",GEOID:"53033011200",NAME:"112",NAMELSAD:"Census Tract 112",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2483779",AWATER:"139646",INTPTLAT:"47.5296655",INTPTLON:"-122.3262393",Shape_Leng:"8076.750304",Shape_Area:"2623419.114",NHPD_Units:"25",Permits:"261",Pop:"3793",Pop_density:"3955.192834",Non_white_share:"0.653308727",White_non_hisp:"0.346691273",Black_non_hisp:"0.067756393",Asian_non_Hisp:"0.216187714",Hispanic:"0.232797258",Workers:"2035",Transit_to_work:"0.185257985",Walk_to_Work:"0.052088452",Bike_to_work:"0.004914005",Green_commute_share:"0.242260442",BA_plus_25_plus:"0.268651093",Med_HH_inc:"54412",Cost_burdened:"0.606866002",Very_cost_burdened:"0.26910299",Med_housing_value:"404000",Jobs:"6234",Job_density:"6500.572668",Housing_units:"1536",Housing_density:"1601.681042",Permit_density:"272.1606458",Permits_per_capita:"68.81096757",Subsidized_hsg_share:"0.016276042"},{TRACT_ID:"G5300330011300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11300",GEOID:"53033011300",NAME:"113",NAMELSAD:"Census Tract 113",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3419308",AWATER:"42220",INTPTLAT:"47.5273623",INTPTLON:"-122.343569",Shape_Leng:"8271.409307",Shape_Area:"3461527.963",NHPD_Units:"449",Permits:"673",Pop:"6585",Pop_density:"4987.872314",Non_white_share:"0.536218679",White_non_hisp:"0.463781321",Black_non_hisp:"0.059073652",Asian_non_Hisp:"0.107668945",Hispanic:"0.198936978",Workers:"3554",Transit_to_work:"0.137872819",Walk_to_Work:"0.021947102",Bike_to_work:"0.014350028",Green_commute_share:"0.174169949",BA_plus_25_plus:"0.354412648",Med_HH_inc:"68672",Cost_burdened:"0.630577428",Very_cost_burdened:"0.293963255",Med_housing_value:"462700",Jobs:"2403",Job_density:"1820.175728",Housing_units:"3179",Housing_density:"2407.964478",Permit_density:"509.7703975",Permits_per_capita:"102.2019742",Subsidized_hsg_share:"0.141239383"},{TRACT_ID:"G5300330011401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11401",GEOID:"53033011401",NAME:"114.01",NAMELSAD:"Census Tract 114.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1233155",AWATER:"0",INTPTLAT:"47.5297061",INTPTLON:"-122.362028",Shape_Leng:"5324.615772",Shape_Area:"1233155.215",NHPD_Units:"64",Permits:"309",Pop:"4881",Pop_density:"10251.53526",Non_white_share:"0.463634501",White_non_hisp:"0.536365499",Black_non_hisp:"0.097111248",Asian_non_Hisp:"0.189715222",Hispanic:"0.110633067",Workers:"2961",Transit_to_work:"0.196555218",Walk_to_Work:"0.007429922",Bike_to_work:"0",Green_commute_share:"0.20398514",BA_plus_25_plus:"0.356868132",Med_HH_inc:"87938",Cost_burdened:"0.51497006",Very_cost_burdened:"0.189221557",Med_housing_value:"461700",Jobs:"90",Job_density:"189.0264646",Housing_units:"1896",Housing_density:"3982.15752",Permit_density:"648.9908617",Permits_per_capita:"63.30669945",Subsidized_hsg_share:"0.033755274"},{TRACT_ID:"G5300330011402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11402",GEOID:"53033011402",NAME:"114.02",NAMELSAD:"Census Tract 114.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1186191",AWATER:"0",INTPTLAT:"47.5206654",INTPTLON:"-122.3646254",Shape_Leng:"5288.804635",Shape_Area:"1186188.059",NHPD_Units:"239",Permits:"603",Pop:"4411",Pop_density:"9631.195612",Non_white_share:"0.640444344",White_non_hisp:"0.359555656",Black_non_hisp:"0.075719791",Asian_non_Hisp:"0.167762412",Hispanic:"0.268193153",Workers:"2624",Transit_to_work:"0.192454268",Walk_to_Work:"0.021341463",Bike_to_work:"0.009146341",Green_commute_share:"0.222942073",BA_plus_25_plus:"0.363093367",Med_HH_inc:"69464",Cost_burdened:"0.43546798",Very_cost_burdened:"0.266995074",Med_housing_value:"436200",Jobs:"1263",Job_density:"2757.696681",Housing_units:"2024",Housing_density:"4419.301727",Permit_density:"1316.62003",Permits_per_capita:"136.7036953",Subsidized_hsg_share:"0.118083004"},{TRACT_ID:"G5300330011500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11500",GEOID:"53033011500",NAME:"115",NAMELSAD:"Census Tract 115",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1538373",AWATER:"0",INTPTLAT:"47.5301833",INTPTLON:"-122.375533",Shape_Leng:"6048.734745",Shape_Area:"1538373.2",NHPD_Units:"0",Permits:"78",Pop:"4464",Pop_density:"7515.54202",Non_white_share:"0.268817204",White_non_hisp:"0.731182796",Black_non_hisp:"0.024417563",Asian_non_Hisp:"0.082437276",Hispanic:"0.094086022",Workers:"2760",Transit_to_work:"0.217391304",Walk_to_Work:"0",Bike_to_work:"0.027173913",Green_commute_share:"0.244565217",BA_plus_25_plus:"0.553434027",Med_HH_inc:"98266",Cost_burdened:"0.553639847",Very_cost_burdened:"0.239463602",Med_housing_value:"569800",Jobs:"247",Job_density:"415.8465231",Housing_units:"2161",Housing_density:"3638.23618",Permit_density:"131.3199547",Permits_per_capita:"17.47311828",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330011601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11601",GEOID:"53033011601",NAME:"116.01",NAMELSAD:"Census Tract 116.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1554538",AWATER:"184845",INTPTLAT:"47.5235901",INTPTLON:"-122.3885434",Shape_Leng:"6074.444218",Shape_Area:"1554533.548",NHPD_Units:"0",Permits:"168",Pop:"3332",Pop_density:"5551.385932",Non_white_share:"0.256902761",White_non_hisp:"0.743097239",Black_non_hisp:"0.013805522",Asian_non_Hisp:"0.056122449",Hispanic:"0.135054022",Workers:"1653",Transit_to_work:"0.102843315",Walk_to_Work:"0.02722323",Bike_to_work:"0",Green_commute_share:"0.130066546",BA_plus_25_plus:"0.735935706",Med_HH_inc:"136285",Cost_burdened:"0.487889273",Very_cost_burdened:"0.15916955",Med_housing_value:"820200",Jobs:"465",Job_density:"774.7282288",Housing_units:"1501",Housing_density:"2500.789401",Permit_density:"279.9018117",Permits_per_capita:"50.42016807",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330011602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11602",GEOID:"53033011602",NAME:"116.02",NAMELSAD:"Census Tract 116.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1565825",AWATER:"786358",INTPTLAT:"47.5338344",INTPTLON:"-122.3952427",Shape_Leng:"7436.783918",Shape_Area:"1565824.122",NHPD_Units:"91",Permits:"192",Pop:"3809",Pop_density:"6300.362245",Non_white_share:"0.119453925",White_non_hisp:"0.880546075",Black_non_hisp:"0.021002888",Asian_non_Hisp:"0.021002888",Hispanic:"0.061433447",Workers:"2152",Transit_to_work:"0.132434944",Walk_to_Work:"0.021840149",Bike_to_work:"0.01394052",Green_commute_share:"0.168215613",BA_plus_25_plus:"0.726121563",Med_HH_inc:"110873",Cost_burdened:"0.329608939",Very_cost_burdened:"0.089385475",Med_housing_value:"690300",Jobs:"297",Job_density:"491.2595397",Housing_units:"1647",Housing_density:"2724.257447",Permit_density:"317.5819247",Permits_per_capita:"50.40693095",Subsidized_hsg_share:"0.055251973"},{TRACT_ID:"G5300330011700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11700",GEOID:"53033011700",NAME:"117",NAMELSAD:"Census Tract 117",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3515808",AWATER:"0",INTPTLAT:"47.5201682",INTPTLON:"-122.2828633",Shape_Leng:"8989.263253",Shape_Area:"3515810.414",NHPD_Units:"0",Permits:"327",Pop:"5761",Pop_density:"4243.952316",Non_white_share:"0.847769484",White_non_hisp:"0.152230516",Black_non_hisp:"0.23485506",Asian_non_Hisp:"0.491407742",Hispanic:"0.062489151",Workers:"2844",Transit_to_work:"0.151195499",Walk_to_Work:"0.005274262",Bike_to_work:"0.003516174",Green_commute_share:"0.159985935",BA_plus_25_plus:"0.228296574",Med_HH_inc:"80558",Cost_burdened:"0.430555556",Very_cost_burdened:"0.262152778",Med_housing_value:"460700",Jobs:"1357",Job_density:"999.6603528",Housing_units:"1786",Housing_density:"1315.691518",Permit_density:"240.8908883",Permits_per_capita:"56.760979",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330011801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11801",GEOID:"53033011801",NAME:"118.01",NAMELSAD:"Census Tract 118.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1160802",AWATER:"630417",INTPTLAT:"47.5278065",INTPTLON:"-122.2655724",Shape_Leng:"4567.816604",Shape_Area:"1160800.76",NHPD_Units:"44",Permits:"204",Pop:"3569",Pop_density:"7963.173363",Non_white_share:"0.759316335",White_non_hisp:"0.240683665",Black_non_hisp:"0.109554497",Asian_non_Hisp:"0.314093584",Hispanic:"0.19024937",Workers:"2109",Transit_to_work:"0.252252252",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.252252252",BA_plus_25_plus:"0.405652535",Med_HH_inc:"93859",Cost_burdened:"0.42",Very_cost_burdened:"0.2625",Med_housing_value:"424300",Jobs:"300",Job_density:"669.3617284",Housing_units:"1354",Housing_density:"3021.052601",Permit_density:"455.1659753",Permits_per_capita:"57.15886803",Subsidized_hsg_share:"0.032496307"},{TRACT_ID:"G5300330011802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11802",GEOID:"53033011802",NAME:"118.02",NAMELSAD:"Census Tract 118.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1139611",AWATER:"1037832",INTPTLAT:"47.5187835",INTPTLON:"-122.2586613",Shape_Leng:"5210.730252",Shape_Area:"1139608.927",NHPD_Units:"966",Permits:"98",Pop:"4833",Pop_density:"10983.93446",Non_white_share:"0.779639975",White_non_hisp:"0.220360025",Black_non_hisp:"0.458100559",Asian_non_Hisp:"0.103455411",Hispanic:"0.10821436",Workers:"2092",Transit_to_work:"0.227533461",Walk_to_Work:"0.006692161",Bike_to_work:"0",Green_commute_share:"0.234225621",BA_plus_25_plus:"0.339892665",Med_HH_inc:"50490",Cost_burdened:"0.730088496",Very_cost_burdened:"0.545353982",Med_housing_value:"476700",Jobs:"668",Job_density:"1518.160195",Housing_units:"2029",Housing_density:"4611.297957",Permit_density:"222.7241004",Permits_per_capita:"20.2772605",Subsidized_hsg_share:"0.476096599"},{TRACT_ID:"G5300330011901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11901",GEOID:"53033011901",NAME:"119.01",NAMELSAD:"Census Tract 119.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1682374",AWATER:"0",INTPTLAT:"47.5049971",INTPTLON:"-122.2650093",Shape_Leng:"6218.506172",Shape_Area:"1682370.04",NHPD_Units:"0",Permits:"119",Pop:"4323",Pop_density:"6655.189988",Non_white_share:"0.792042563",White_non_hisp:"0.207957437",Black_non_hisp:"0.172334027",Asian_non_Hisp:"0.435114504",Hispanic:"0.092297016",Workers:"2179",Transit_to_work:"0.129417164",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.129417164",BA_plus_25_plus:"0.318459069",Med_HH_inc:"125143",Cost_burdened:"0.505952381",Very_cost_burdened:"0.345238095",Med_housing_value:"460600",Jobs:"95",Job_density:"146.2509944",Housing_units:"1449",Housing_density:"2230.712536",Permit_density:"183.1986141",Permits_per_capita:"27.5271802",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330011902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"11902",GEOID:"53033011902",NAME:"119.02",NAMELSAD:"Census Tract 119.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1580686",AWATER:"1217487",INTPTLAT:"47.5100217",INTPTLON:"-122.2442425",Shape_Leng:"7476.660768",Shape_Area:"1580687.777",NHPD_Units:"0",Permits:"72",Pop:"3552",Pop_density:"5820.028625",Non_white_share:"0.522804054",White_non_hisp:"0.477195946",Black_non_hisp:"0.286880631",Asian_non_Hisp:"0.13231982",Hispanic:"0.070945946",Workers:"2151",Transit_to_work:"0.074848907",Walk_to_Work:"0",Bike_to_work:"0.005578801",Green_commute_share:"0.080427708",BA_plus_25_plus:"0.321553534",Med_HH_inc:"99201",Cost_burdened:"0.366459627",Very_cost_burdened:"0.105590062",Med_housing_value:"451200",Jobs:"110",Job_density:"180.237373",Housing_units:"1468",Housing_density:"2405.349668",Permit_density:"117.9735532",Permits_per_capita:"20.27027027",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330012000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"12000",GEOID:"53033012000",NAME:"120",NAMELSAD:"Census Tract 120",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1437048",AWATER:"0",INTPTLAT:"47.5128928",INTPTLON:"-122.3806115",Shape_Leng:"5103.597744",Shape_Area:"1437049.741",NHPD_Units:"0",Permits:"110",Pop:"3538",Pop_density:"6376.528783",Non_white_share:"0.163369135",White_non_hisp:"0.836630865",Black_non_hisp:"0.036178632",Asian_non_Hisp:"0.014980215",Hispanic:"0.081401922",Workers:"2035",Transit_to_work:"0.094348894",Walk_to_Work:"0.022113022",Bike_to_work:"0.031449631",Green_commute_share:"0.147911548",BA_plus_25_plus:"0.524422567",Med_HH_inc:"109710",Cost_burdened:"0.254612546",Very_cost_burdened:"0.162361624",Med_housing_value:"525100",Jobs:"206",Job_density:"371.2732983",Housing_units:"1600",Housing_density:"2883.676103",Permit_density:"198.2527321",Permits_per_capita:"31.09101187",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330012100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"12100",GEOID:"53033012100",NAME:"121",NAMELSAD:"Census Tract 121",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1739952",AWATER:"1380849",INTPTLAT:"47.507595",INTPTLON:"-122.3873799",Shape_Leng:"7761.788168",Shape_Area:"1739950.774",NHPD_Units:"0",Permits:"42",Pop:"2740",Pop_density:"4078.599537",Non_white_share:"0.20620438",White_non_hisp:"0.79379562",Black_non_hisp:"0.012043796",Asian_non_Hisp:"0.058029197",Hispanic:"0.114233577",Workers:"1234",Transit_to_work:"0.044570502",Walk_to_Work:"0",Bike_to_work:"0.007293355",Green_commute_share:"0.051863857",BA_plus_25_plus:"0.650140318",Med_HH_inc:"132708",Cost_burdened:"0.492957746",Very_cost_burdened:"0.197183099",Med_housing_value:"745500",Jobs:"100",Job_density:"148.8539977",Housing_units:"1312",Housing_density:"1952.96445",Permit_density:"62.51867904",Permits_per_capita:"15.32846715",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20100",GEOID:"53033020100",NAME:"201",NAMELSAD:"Census Tract 201",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1766031",AWATER:"691541",INTPTLAT:"47.7707111",INTPTLON:"-122.387361",Shape_Leng:"5571.146278",Shape_Area:"1766030.128",NHPD_Units:"0",Permits:"130",Pop:"3251",Pop_density:"4767.782302",Non_white_share:"0.225469086",White_non_hisp:"0.774530914",Black_non_hisp:"0.005536758",Asian_non_Hisp:"0.150722855",Hispanic:"0.016302676",Workers:"1437",Transit_to_work:"0.080027836",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.080027836",BA_plus_25_plus:"0.671325879",Med_HH_inc:"107900",Cost_burdened:"0.448717949",Very_cost_burdened:"0.166666667",Med_housing_value:"788800",Jobs:"375",Job_density:"549.9595088",Housing_units:"1307",Housing_density:"1916.792208",Permit_density:"190.6526297",Permits_per_capita:"39.98769609",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20200",GEOID:"53033020200",NAME:"202",NAMELSAD:"Census Tract 202",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2591500",AWATER:"0",INTPTLAT:"47.7716671",INTPTLON:"-122.3633577",Shape_Leng:"6688.524151",Shape_Area:"2591500.484",NHPD_Units:"0",Permits:"148",Pop:"5411",Pop_density:"5407.843205",Non_white_share:"0.184439106",White_non_hisp:"0.815560894",Black_non_hisp:"0.041766771",Asian_non_Hisp:"0.086120865",Hispanic:"0.020883386",Workers:"2253",Transit_to_work:"0.100754549",Walk_to_Work:"0.002663116",Bike_to_work:"0.009764758",Green_commute_share:"0.113182423",BA_plus_25_plus:"0.489201878",Med_HH_inc:"70417",Cost_burdened:"0.666153846",Very_cost_burdened:"0.441538462",Med_housing_value:"622300",Jobs:"1508",Job_density:"1507.120228",Housing_units:"2316",Housing_density:"2314.648838",Permit_density:"147.9136563",Permits_per_capita:"27.351691",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20301",GEOID:"53033020301",NAME:"203.01",NAMELSAD:"Census Tract 203.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1262275",AWATER:"35402",INTPTLAT:"47.7719079",INTPTLON:"-122.3410989",Shape_Leng:"4846.449358",Shape_Area:"1297673.402",NHPD_Units:"0",Permits:"279",Pop:"3619",Pop_density:"7425.614047",Non_white_share:"0.425255595",White_non_hisp:"0.574744405",Black_non_hisp:"0.066040343",Asian_non_Hisp:"0.176568113",Hispanic:"0.117712075",Workers:"2044",Transit_to_work:"0.159980431",Walk_to_Work:"0.029843444",Bike_to_work:"0",Green_commute_share:"0.189823875",BA_plus_25_plus:"0.519650655",Med_HH_inc:"70268",Cost_burdened:"0.582178218",Very_cost_burdened:"0.347524752",Med_housing_value:"528400",Jobs:"1968",Job_density:"4038.023886",Housing_units:"1644",Housing_density:"3373.227271",Permit_density:"572.4637522",Permits_per_capita:"77.09311965",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20302",GEOID:"53033020302",NAME:"203.02",NAMELSAD:"Census Tract 203.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1294795",AWATER:"10048",INTPTLAT:"47.767342",INTPTLON:"-122.3392599",Shape_Leng:"4850.47375",Shape_Area:"1304845.896",NHPD_Units:"200",Permits:"522",Pop:"3746",Pop_density:"7493.151782",Non_white_share:"0.411906033",White_non_hisp:"0.588093967",Black_non_hisp:"0.068873465",Asian_non_Hisp:"0.114789108",Hispanic:"0.092632141",Workers:"1721",Transit_to_work:"0.134224288",Walk_to_Work:"0.026147589",Bike_to_work:"0",Green_commute_share:"0.160371877",BA_plus_25_plus:"0.410621312",Med_HH_inc:"93379",Cost_burdened:"0.472222222",Very_cost_burdened:"0.195906433",Med_housing_value:"599300",Jobs:"588",Job_density:"1176.180792",Housing_units:"1484",Housing_density:"2968.456285",Permit_density:"1044.160499",Permits_per_capita:"139.3486385",Subsidized_hsg_share:"0.134770889"},{TRACT_ID:"G5300330020401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20401",GEOID:"53033020401",NAME:"204.01",NAMELSAD:"Census Tract 204.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2313023",AWATER:"0",INTPTLAT:"47.7708201",INTPTLON:"-122.3195433",Shape_Leng:"7649.442621",Shape_Area:"2313019.528",NHPD_Units:"0",Permits:"232",Pop:"3821",Pop_density:"4278.532712",Non_white_share:"0.290761581",White_non_hisp:"0.709238419",Black_non_hisp:"0.072494111",Asian_non_Hisp:"0.084794556",Hispanic:"0.079822036",Workers:"2198",Transit_to_work:"0.085077343",Walk_to_Work:"0.008644222",Bike_to_work:"0.008189263",Green_commute_share:"0.101910828",BA_plus_25_plus:"0.396981397",Med_HH_inc:"88839",Cost_burdened:"0.505882353",Very_cost_burdened:"0.183529412",Med_housing_value:"529300",Jobs:"2613",Job_density:"2925.884841",Housing_units:"1473",Housing_density:"1649.379399",Permit_density:"259.7800548",Permits_per_capita:"60.71708977",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20402",GEOID:"53033020402",NAME:"204.02",NAMELSAD:"Census Tract 204.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2789589",AWATER:"0",INTPTLAT:"47.7695042",INTPTLON:"-122.2970351",Shape_Leng:"7691.512239",Shape_Area:"2789589.078",NHPD_Units:"140",Permits:"114",Pop:"5326",Pop_density:"4944.913633",Non_white_share:"0.259857304",White_non_hisp:"0.740142696",Black_non_hisp:"0.024971836",Asian_non_Hisp:"0.096883214",Hispanic:"0.079984979",Workers:"2990",Transit_to_work:"0.137458194",Walk_to_Work:"0.025752508",Bike_to_work:"0.014046823",Green_commute_share:"0.177257525",BA_plus_25_plus:"0.547382199",Med_HH_inc:"106250",Cost_burdened:"0.477031802",Very_cost_burdened:"0.238515901",Med_housing_value:"587400",Jobs:"470",Job_density:"436.3705233",Housing_units:"2136",Housing_density:"1983.164761",Permit_density:"105.8430631",Permits_per_capita:"21.40443109",Subsidized_hsg_share:"0.065543071"},{TRACT_ID:"G5300330020500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20500",GEOID:"53033020500",NAME:"205",NAMELSAD:"Census Tract 205",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2722041",AWATER:"0",INTPTLAT:"47.7562524",INTPTLON:"-122.3138057",Shape_Leng:"7117.05686",Shape_Area:"2722040.561",NHPD_Units:"330",Permits:"656",Pop:"7372",Pop_density:"7014.366187",Non_white_share:"0.447504069",White_non_hisp:"0.552495931",Black_non_hisp:"0.037438958",Asian_non_Hisp:"0.194519805",Hispanic:"0.125203473",Workers:"3799",Transit_to_work:"0.040010529",Walk_to_Work:"0.037378257",Bike_to_work:"0.00368518",Green_commute_share:"0.081073967",BA_plus_25_plus:"0.487957519",Med_HH_inc:"94239",Cost_burdened:"0.585084034",Very_cost_burdened:"0.261554622",Med_housing_value:"525200",Jobs:"914",Job_density:"869.6596167",Housing_units:"2954",Housing_density:"2810.69421",Permit_density:"624.17583",Permits_per_capita:"88.98534997",Subsidized_hsg_share:"0.111712932"},{TRACT_ID:"G5300330020600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20600",GEOID:"53033020600",NAME:"206",NAMELSAD:"Census Tract 206",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1980828",AWATER:"0",INTPTLAT:"47.7559993",INTPTLON:"-122.3320996",Shape_Leng:"5821.606552",Shape_Area:"1980826.032",NHPD_Units:"0",Permits:"104",Pop:"3681",Pop_density:"4813.010637",Non_white_share:"0.477859277",White_non_hisp:"0.522140723",Black_non_hisp:"0.12741103",Asian_non_Hisp:"0.245857104",Hispanic:"0.058408041",Workers:"2073",Transit_to_work:"0.145200193",Walk_to_Work:"0.002411963",Bike_to_work:"0.002894356",Green_commute_share:"0.150506512",BA_plus_25_plus:"0.457486832",Med_HH_inc:"106066",Cost_burdened:"0.154411765",Very_cost_burdened:"0.066176471",Med_housing_value:"538200",Jobs:"128",Job_density:"167.3635864",Housing_units:"1224",Housing_density:"1600.414295",Permit_density:"135.9829139",Permits_per_capita:"28.25319207",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330020700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20700",GEOID:"53033020700",NAME:"207",NAMELSAD:"Census Tract 207",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1711190",AWATER:"0",INTPTLAT:"47.7561637",INTPTLON:"-122.3473227",Shape_Leng:"5679.732712",Shape_Area:"1711185.795",NHPD_Units:"215",Permits:"737",Pop:"4075",Pop_density:"6167.755509",Non_white_share:"0.51607362",White_non_hisp:"0.48392638",Black_non_hisp:"0.138404908",Asian_non_Hisp:"0.150674847",Hispanic:"0.148957055",Workers:"2217",Transit_to_work:"0.245376635",Walk_to_Work:"0.046008119",Bike_to_work:"0",Green_commute_share:"0.291384754",BA_plus_25_plus:"0.466373775",Med_HH_inc:"81331",Cost_burdened:"0.530120482",Very_cost_burdened:"0.180722892",Med_housing_value:"577600",Jobs:"2229",Job_density:"3373.724424",Housing_units:"1586",Housing_density:"2400.50558",Permit_density:"1115.49345",Permits_per_capita:"180.8588957",Subsidized_hsg_share:"0.13556116"},{TRACT_ID:"G5300330020800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20800",GEOID:"53033020800",NAME:"208",NAMELSAD:"Census Tract 208",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3299066",AWATER:"698711",INTPTLAT:"47.756977",INTPTLON:"-122.3716178",Shape_Leng:"9615.089336",Shape_Area:"3307280.701",NHPD_Units:"96",Permits:"78",Pop:"4363",Pop_density:"3425.247669",Non_white_share:"0.223240889",White_non_hisp:"0.776759111",Black_non_hisp:"0.029337612",Asian_non_Hisp:"0.080907632",Hispanic:"0.058216823",Workers:"2161",Transit_to_work:"0.138824618",Walk_to_Work:"0.013882462",Bike_to_work:"0.013419713",Green_commute_share:"0.166126793",BA_plus_25_plus:"0.592534504",Med_HH_inc:"120000",Cost_burdened:"0.679900744",Very_cost_burdened:"0.2382134",Med_housing_value:"728000",Jobs:"515",Job_density:"404.309546",Housing_units:"1783",Housing_density:"1399.774603",Permit_density:"61.23523222",Permits_per_capita:"17.87760715",Subsidized_hsg_share:"0.05384184"},{TRACT_ID:"G5300330020900",STATEFP:"53",COUNTYFP:"33",TRACTCE:"20900",GEOID:"53033020900",NAME:"209",NAMELSAD:"Census Tract 209",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4540884",AWATER:"636482",INTPTLAT:"47.7432786",INTPTLON:"-122.3639033",Shape_Leng:"8975.754631",Shape_Area:"4540881.231",NHPD_Units:"60",Permits:"172",Pop:"3422",Pop_density:"1951.809232",Non_white_share:"0.245762712",White_non_hisp:"0.754237288",Black_non_hisp:"0.065166569",Asian_non_Hisp:"0.123027469",Hispanic:"0.016949153",Workers:"1613",Transit_to_work:"0.185368878",Walk_to_Work:"0.017978921",Bike_to_work:"0.014259144",Green_commute_share:"0.217606944",BA_plus_25_plus:"0.672685363",Med_HH_inc:"108533",Cost_burdened:"0.517915309",Very_cost_burdened:"0.325732899",Med_housing_value:"669800",Jobs:"3940",Job_density:"2247.26136",Housing_units:"1466",Housing_density:"836.1637447",Permit_density:"98.10379542",Permits_per_capita:"50.26300409",Subsidized_hsg_share:"0.040927694"},{TRACT_ID:"G5300330021000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21000",GEOID:"53033021000",NAME:"210",NAMELSAD:"Census Tract 210",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2629269",AWATER:"5753",INTPTLAT:"47.7396007",INTPTLON:"-122.3357847",Shape_Leng:"6496.741454",Shape_Area:"2635018.565",NHPD_Units:"59",Permits:"585",Pop:"5887",Pop_density:"5799.049091",Non_white_share:"0.457788347",White_non_hisp:"0.542211653",Black_non_hisp:"0.080856124",Asian_non_Hisp:"0.188211313",Hispanic:"0.109223713",Workers:"3068",Transit_to_work:"0.129726206",Walk_to_Work:"0.015645372",Bike_to_work:"0.004889179",Green_commute_share:"0.150260756",BA_plus_25_plus:"0.459834998",Med_HH_inc:"101948",Cost_burdened:"0.720657277",Very_cost_burdened:"0.218309859",Med_housing_value:"507600",Jobs:"1409",Job_density:"1387.949749",Housing_units:"2312",Housing_density:"2277.459062",Permit_density:"576.2601866",Permits_per_capita:"99.37149652",Subsidized_hsg_share:"0.025519031"},{TRACT_ID:"G5300330021100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21100",GEOID:"53033021100",NAME:"211",NAMELSAD:"Census Tract 211",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2619718",AWATER:"0",INTPTLAT:"47.7412054",INTPTLON:"-122.3128854",Shape_Leng:"6509.367257",Shape_Area:"2619719.242",NHPD_Units:"142",Permits:"110",Pop:"4395",Pop_density:"4345.123309",Non_white_share:"0.311262799",White_non_hisp:"0.688737201",Black_non_hisp:"0.039590444",Asian_non_Hisp:"0.17519909",Hispanic:"0.04960182",Workers:"2522",Transit_to_work:"0.137589215",Walk_to_Work:"0.013481364",Bike_to_work:"0.021015067",Green_commute_share:"0.172085646",BA_plus_25_plus:"0.585300269",Med_HH_inc:"98806",Cost_burdened:"0.387024609",Very_cost_burdened:"0.241610738",Med_housing_value:"564900",Jobs:"1518",Job_density:"1500.772965",Housing_units:"1654",Housing_density:"1635.229568",Permit_density:"108.7516642",Permits_per_capita:"25.02844141",Subsidized_hsg_share:"0.085852479"},{TRACT_ID:"G5300330021300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21300",GEOID:"53033021300",NAME:"213",NAMELSAD:"Census Tract 213",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1784010",AWATER:"1204136",INTPTLAT:"47.7402939",INTPTLON:"-122.286956",Shape_Leng:"7478.55605",Shape_Area:"1784008.948",NHPD_Units:"0",Permits:"139",Pop:"4189",Pop_density:"6081.501894",Non_white_share:"0.362855097",White_non_hisp:"0.637144903",Black_non_hisp:"0.06254476",Asian_non_Hisp:"0.133206016",Hispanic:"0.090475054",Workers:"2317",Transit_to_work:"0.16745792",Walk_to_Work:"0.018126888",Bike_to_work:"0.007337074",Green_commute_share:"0.192921882",BA_plus_25_plus:"0.526977822",Med_HH_inc:"92273",Cost_burdened:"0.579915134",Very_cost_burdened:"0.271570014",Med_housing_value:"623500",Jobs:"700",Job_density:"1016.245244",Housing_units:"1867",Housing_density:"2710.471243",Permit_density:"201.7972698",Permits_per_capita:"33.18214371",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21400",GEOID:"53033021400",NAME:"214",NAMELSAD:"Census Tract 214",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3136342",AWATER:"265701",INTPTLAT:"47.7507662",INTPTLON:"-122.2924491",Shape_Leng:"9777.920526",Shape_Area:"3136343.806",NHPD_Units:"0",Permits:"63",Pop:"3868",Pop_density:"3194.19056",Non_white_share:"0.180713547",White_non_hisp:"0.819286453",Black_non_hisp:"0",Asian_non_Hisp:"0.066184074",Hispanic:"0.026628749",Workers:"1941",Transit_to_work:"0.061823802",Walk_to_Work:"0.020092736",Bike_to_work:"0.00927357",Green_commute_share:"0.091190108",BA_plus_25_plus:"0.639914009",Med_HH_inc:"144676",Cost_burdened:"0.575396825",Very_cost_burdened:"0.130952381",Med_housing_value:"678900",Jobs:"706",Job_density:"583.0140992",Housing_units:"1495",Housing_density:"1234.569516",Permit_density:"52.02533746",Permits_per_capita:"16.28748707",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21500",GEOID:"53033021500",NAME:"215",NAMELSAD:"Census Tract 215",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3457612",AWATER:"438417",INTPTLAT:"47.7643848",INTPTLON:"-122.2737863",Shape_Leng:"8628.449705",Shape_Area:"3507522.057",NHPD_Units:"0",Permits:"92",Pop:"4658",Pop_density:"3489.160906",Non_white_share:"0.209102619",White_non_hisp:"0.790897381",Black_non_hisp:"0.021683126",Asian_non_Hisp:"0.07878918",Hispanic:"0.051738944",Workers:"2557",Transit_to_work:"0.101290575",Walk_to_Work:"0.004301916",Bike_to_work:"0.012123582",Green_commute_share:"0.117716074",BA_plus_25_plus:"0.671308384",Med_HH_inc:"152852",Cost_burdened:"0.408450704",Very_cost_burdened:"0.070422535",Med_housing_value:"672900",Jobs:"341",Job_density:"255.4323463",Housing_units:"1663",Housing_density:"1245.700856",Permit_density:"68.9142987",Permits_per_capita:"19.75096608",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21600",GEOID:"53033021600",NAME:"216",NAMELSAD:"Census Tract 216",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2863323",AWATER:"163654",INTPTLAT:"47.7670311",INTPTLON:"-122.2582787",Shape_Leng:"8689.005039",Shape_Area:"2863324.882",NHPD_Units:"24",Permits:"522",Pop:"5112",Pop_density:"4624.004773",Non_white_share:"0.262128326",White_non_hisp:"0.737871674",Black_non_hisp:"0.013302034",Asian_non_Hisp:"0.133998435",Hispanic:"0.045774648",Workers:"2780",Transit_to_work:"0.107194245",Walk_to_Work:"0.014748201",Bike_to_work:"0.002877698",Green_commute_share:"0.124820144",BA_plus_25_plus:"0.57385356",Med_HH_inc:"107950",Cost_burdened:"0.404661017",Very_cost_burdened:"0.103813559",Med_housing_value:"612100",Jobs:"950",Job_density:"859.3123112",Housing_units:"2229",Housing_density:"2016.218044",Permit_density:"472.1695015",Permits_per_capita:"102.1126761",Subsidized_hsg_share:"0.01076716"},{TRACT_ID:"G5300330021701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21701",GEOID:"53033021701",NAME:"217.01",NAMELSAD:"Census Tract 217.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2573147",AWATER:"0",INTPTLAT:"47.7709407",INTPTLON:"-122.2375721",Shape_Leng:"8610.990972",Shape_Area:"2573143.916",NHPD_Units:"21",Permits:"907",Pop:"4080",Pop_density:"4106.703383",Non_white_share:"0.281372549",White_non_hisp:"0.718627451",Black_non_hisp:"0",Asian_non_Hisp:"0.204411765",Hispanic:"0.025735294",Workers:"2204",Transit_to_work:"0.159255898",Walk_to_Work:"0.014519056",Bike_to_work:"0",Green_commute_share:"0.173774955",BA_plus_25_plus:"0.650512911",Med_HH_inc:"131528",Cost_burdened:"0.563245823",Very_cost_burdened:"0.252983294",Med_housing_value:"663800",Jobs:"212",Job_density:"213.3875287",Housing_units:"1601",Housing_density:"1611.47846",Permit_density:"912.9362668",Permits_per_capita:"222.3039216",Subsidized_hsg_share:"0.013116802"},{TRACT_ID:"G5300330021702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21702",GEOID:"53033021702",NAME:"217.02",NAMELSAD:"Census Tract 217.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3048769",AWATER:"0",INTPTLAT:"47.7587336",INTPTLON:"-122.2334798",Shape_Leng:"9855.050692",Shape_Area:"3048770.57",NHPD_Units:"193",Permits:"500",Pop:"5093",Pop_density:"4326.601801",Non_white_share:"0.342823483",White_non_hisp:"0.657176517",Black_non_hisp:"0.033575496",Asian_non_Hisp:"0.157274691",Hispanic:"0.126840762",Workers:"2712",Transit_to_work:"0.152286136",Walk_to_Work:"0.027654867",Bike_to_work:"0.011061947",Green_commute_share:"0.19100295",BA_plus_25_plus:"0.507513841",Med_HH_inc:"71564",Cost_burdened:"0.338602329",Very_cost_burdened:"0.084026622",Med_housing_value:"496300",Jobs:"1331",Job_density:"1130.71019",Housing_units:"2477",Housing_density:"2104.259309",Permit_density:"424.7596506",Permits_per_capita:"98.17396426",Subsidized_hsg_share:"0.077916835"},{TRACT_ID:"G5300330021802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21802",GEOID:"53033021802",NAME:"218.02",NAMELSAD:"Census Tract 218.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4892727",AWATER:"0",INTPTLAT:"47.7674671",INTPTLON:"-122.1726224",Shape_Leng:"9280.519716",Shape_Area:"4892727.847",NHPD_Units:"0",Permits:"614",Pop:"6065",Pop_density:"3210.536351",Non_white_share:"0.361088211",White_non_hisp:"0.638911789",Black_non_hisp:"0.00362737",Asian_non_Hisp:"0.177081616",Hispanic:"0.131904369",Workers:"3381",Transit_to_work:"0.050576752",Walk_to_Work:"0.017154688",Bike_to_work:"0",Green_commute_share:"0.06773144",BA_plus_25_plus:"0.535297105",Med_HH_inc:"110341",Cost_burdened:"0.344129555",Very_cost_burdened:"0.172739541",Med_housing_value:"615100",Jobs:"10258",Job_density:"5430.120674",Housing_units:"2311",Housing_density:"1223.338748",Permit_density:"325.0237955",Permits_per_capita:"101.2366035",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021803",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21803",GEOID:"53033021803",NAME:"218.03",NAMELSAD:"Census Tract 218.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3273126",AWATER:"0",INTPTLAT:"47.7644399",INTPTLON:"-122.2145092",Shape_Leng:"9275.527318",Shape_Area:"3273129.279",NHPD_Units:"214",Permits:"1203",Pop:"5565",Pop_density:"4403.522453",Non_white_share:"0.231446541",White_non_hisp:"0.768553459",Black_non_hisp:"0.026055705",Asian_non_Hisp:"0.120575022",Hispanic:"0.047259659",Workers:"3131",Transit_to_work:"0.045672309",Walk_to_Work:"0.045991696",Bike_to_work:"0.028425423",Green_commute_share:"0.120089428",BA_plus_25_plus:"0.479076479",Med_HH_inc:"103871",Cost_burdened:"0.286749482",Very_cost_burdened:"0.154244306",Med_housing_value:"605200",Jobs:"5441",Job_density:"4305.402636",Housing_units:"2549",Housing_density:"2016.99528",Permit_density:"951.9204872",Permits_per_capita:"216.1725067",Subsidized_hsg_share:"0.083954492"},{TRACT_ID:"G5300330021804",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21804",GEOID:"53033021804",NAME:"218.04",NAMELSAD:"Census Tract 218.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3100405",AWATER:"0",INTPTLAT:"47.7657296",INTPTLON:"-122.1963089",Shape_Leng:"7625.875436",Shape_Area:"3100404.966",NHPD_Units:"0",Permits:"1013",Pop:"5321",Pop_density:"4445.00855",Non_white_share:"0.436947942",White_non_hisp:"0.563052058",Black_non_hisp:"0.03025747",Asian_non_Hisp:"0.12178162",Hispanic:"0.228340537",Workers:"2821",Transit_to_work:"0.092520383",Walk_to_Work:"0.015597306",Bike_to_work:"0.003544842",Green_commute_share:"0.111662531",BA_plus_25_plus:"0.578245406",Med_HH_inc:"79223",Cost_burdened:"0.582056893",Very_cost_burdened:"0.401531729",Med_housing_value:"608900",Jobs:"1610",Job_density:"1344.947146",Housing_units:"2455",Housing_density:"2050.835556",Permit_density:"846.2307201",Permits_per_capita:"190.3777485",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021903",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21903",GEOID:"53033021903",NAME:"219.03",NAMELSAD:"Census Tract 219.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3175189",AWATER:"10680",INTPTLAT:"47.7176653",INTPTLON:"-122.1788517",Shape_Leng:"9494.671863",Shape_Area:"3185874.982",NHPD_Units:"152",Permits:"1577",Pop:"6409",Pop_density:"5227.793936",Non_white_share:"0.253705726",White_non_hisp:"0.746294274",Black_non_hisp:"0.031518178",Asian_non_Hisp:"0.077391169",Hispanic:"0.072242159",Workers:"3319",Transit_to_work:"0.118710455",Walk_to_Work:"0.024404941",Bike_to_work:"0",Green_commute_share:"0.143115396",BA_plus_25_plus:"0.536257439",Med_HH_inc:"94071",Cost_burdened:"0.503875969",Very_cost_burdened:"0.286821705",Med_housing_value:"591300",Jobs:"9492",Job_density:"7742.583872",Housing_units:"2627",Housing_density:"2142.832684",Permit_density:"1286.352167",Permits_per_capita:"246.0602278",Subsidized_hsg_share:"0.057860678"},{TRACT_ID:"G5300330021904",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21904",GEOID:"53033021904",NAME:"219.04",NAMELSAD:"Census Tract 219.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3419305",AWATER:"0",INTPTLAT:"47.7229154",INTPTLON:"-122.1615736",Shape_Leng:"8725.355861",Shape_Area:"3419303.16",NHPD_Units:"23",Permits:"424",Pop:"5508",Pop_density:"4172.091847",Non_white_share:"0.474945534",White_non_hisp:"0.525054466",Black_non_hisp:"0.018336964",Asian_non_Hisp:"0.28140886",Hispanic:"0.105664488",Workers:"2781",Transit_to_work:"0.067601582",Walk_to_Work:"0.026968716",Bike_to_work:"0.006472492",Green_commute_share:"0.10104279",BA_plus_25_plus:"0.525565124",Med_HH_inc:"111667",Cost_burdened:"0.399598394",Very_cost_burdened:"0.210843373",Med_housing_value:"621600",Jobs:"3170",Job_density:"2401.149447",Housing_units:"1983",Housing_density:"1502.04396",Permit_density:"321.1632068",Permits_per_capita:"76.97893972",Subsidized_hsg_share:"0.011598588"},{TRACT_ID:"G5300330021905",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21905",GEOID:"53033021905",NAME:"219.05",NAMELSAD:"Census Tract 219.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2683422",AWATER:"0",INTPTLAT:"47.7430044",INTPTLON:"-122.1814339",Shape_Leng:"9853.332578",Shape_Area:"2683420.182",NHPD_Units:"0",Permits:"189",Pop:"5806",Pop_density:"5603.841277",Non_white_share:"0.474681364",White_non_hisp:"0.525318636",Black_non_hisp:"0",Asian_non_Hisp:"0.202204616",Hispanic:"0.151567344",Workers:"2830",Transit_to_work:"0.093639576",Walk_to_Work:"0.012367491",Bike_to_work:"0",Green_commute_share:"0.106007067",BA_plus_25_plus:"0.520074697",Med_HH_inc:"101911",Cost_burdened:"0.522613065",Very_cost_burdened:"0.314070352",Med_housing_value:"474900",Jobs:"974",Job_density:"940.0863597",Housing_units:"2274",Housing_density:"2194.821747",Permit_density:"182.4192217",Permits_per_capita:"32.55253186",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330021906",STATEFP:"53",COUNTYFP:"33",TRACTCE:"21906",GEOID:"53033021906",NAME:"219.06",NAMELSAD:"Census Tract 219.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3783792",AWATER:"0",INTPTLAT:"47.7406439",INTPTLON:"-122.1648554",Shape_Leng:"10407.00739",Shape_Area:"3783795.031",NHPD_Units:"14",Permits:"280",Pop:"4695",Pop_density:"3213.705769",Non_white_share:"0.408519702",White_non_hisp:"0.591480298",Black_non_hisp:"0.020447284",Asian_non_Hisp:"0.223216187",Hispanic:"0.115654952",Workers:"2474",Transit_to_work:"0.076394503",Walk_to_Work:"0.025464834",Bike_to_work:"0.007275667",Green_commute_share:"0.109135004",BA_plus_25_plus:"0.586936801",Med_HH_inc:"113800",Cost_burdened:"0.584474886",Very_cost_burdened:"0.210045662",Med_housing_value:"640200",Jobs:"3463",Job_density:"2370.407471",Housing_units:"1836",Housing_density:"1256.733502",Permit_density:"191.658704",Permits_per_capita:"59.63791267",Subsidized_hsg_share:"0.007625272"},{TRACT_ID:"G5300330022001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22001",GEOID:"53033022001",NAME:"220.01",NAMELSAD:"Census Tract 220.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4477540",AWATER:"0",INTPTLAT:"47.7453001",INTPTLON:"-122.1988962",Shape_Leng:"9710.857672",Shape_Area:"4477538.964",NHPD_Units:"92",Permits:"530",Pop:"5367",Pop_density:"3104.487327",Non_white_share:"0.296068567",White_non_hisp:"0.703931433",Black_non_hisp:"0.0039128",Asian_non_Hisp:"0.098378983",Hispanic:"0.119060928",Workers:"2735",Transit_to_work:"0.070201097",Walk_to_Work:"0",Bike_to_work:"0.006215722",Green_commute_share:"0.076416819",BA_plus_25_plus:"0.562189055",Med_HH_inc:"111979",Cost_burdened:"0.44295302",Very_cost_burdened:"0.25950783",Med_housing_value:"672300",Jobs:"915",Job_density:"529.272574",Housing_units:"2335",Housing_density:"1350.657334",Permit_density:"306.5731849",Permits_per_capita:"98.75163033",Subsidized_hsg_share:"0.039400428"},{TRACT_ID:"G5300330022003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22003",GEOID:"53033022003",NAME:"220.03",NAMELSAD:"Census Tract 220.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2254686",AWATER:"0",INTPTLAT:"47.7257721",INTPTLON:"-122.1984943",Shape_Leng:"6256.551531",Shape_Area:"2254682.847",NHPD_Units:"0",Permits:"82",Pop:"5488",Pop_density:"6304.139357",Non_white_share:"0.329446064",White_non_hisp:"0.670553936",Black_non_hisp:"0.029336735",Asian_non_Hisp:"0.107142857",Hispanic:"0.108600583",Workers:"3073",Transit_to_work:"0.144809632",Walk_to_Work:"0.022779043",Bike_to_work:"0",Green_commute_share:"0.167588676",BA_plus_25_plus:"0.578506285",Med_HH_inc:"114912",Cost_burdened:"0.484168865",Very_cost_burdened:"0.077836412",Med_housing_value:"592700",Jobs:"1639",Job_density:"1882.741328",Housing_units:"2145",Housing_density:"2463.990328",Permit_density:"94.19450205",Permits_per_capita:"14.94169096",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022005",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22005",GEOID:"53033022005",NAME:"220.05",NAMELSAD:"Census Tract 220.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2421648",AWATER:"0",INTPTLAT:"47.7116198",INTPTLON:"-122.1938925",Shape_Leng:"6879.814701",Shape_Area:"2421644.862",NHPD_Units:"0",Permits:"464",Pop:"4862",Pop_density:"5199.980423",Non_white_share:"0.378445084",White_non_hisp:"0.621554916",Black_non_hisp:"0.015631427",Asian_non_Hisp:"0.221308104",Hispanic:"0.081242287",Workers:"2539",Transit_to_work:"0.076014179",Walk_to_Work:"0.063016936",Bike_to_work:"0",Green_commute_share:"0.139031115",BA_plus_25_plus:"0.583888728",Med_HH_inc:"88361",Cost_burdened:"0.419806243",Very_cost_burdened:"0.143164693",Med_housing_value:"542600",Jobs:"4359",Job_density:"4662.014534",Housing_units:"2380",Housing_density:"2545.444962",Permit_density:"496.2548162",Permits_per_capita:"95.43397779",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022006",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22006",GEOID:"53033022006",NAME:"220.06",NAMELSAD:"Census Tract 220.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1409940",AWATER:"0",INTPTLAT:"47.7043423",INTPTLON:"-122.1992669",Shape_Leng:"6401.950274",Shape_Area:"1409940.656",NHPD_Units:"20",Permits:"290",Pop:"4377",Pop_density:"8040.326509",Non_white_share:"0.234407128",White_non_hisp:"0.765592872",Black_non_hisp:"0",Asian_non_Hisp:"0.147361206",Hispanic:"0.055974412",Workers:"2653",Transit_to_work:"0.061816811",Walk_to_Work:"0.032039201",Bike_to_work:"0",Green_commute_share:"0.093856012",BA_plus_25_plus:"0.643328551",Med_HH_inc:"109719",Cost_burdened:"0.177474403",Very_cost_burdened:"0.030716724",Med_housing_value:"572000",Jobs:"684",Job_density:"1256.473231",Housing_units:"1945",Housing_density:"3572.866132",Permit_density:"532.7152588",Permits_per_capita:"66.25542609",Subsidized_hsg_share:"0.010282776"},{TRACT_ID:"G5300330022101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22101",GEOID:"53033022101",NAME:"221.01",NAMELSAD:"Census Tract 221.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3593797",AWATER:"1650543",INTPTLAT:"47.7418845",INTPTLON:"-122.255917",Shape_Leng:"11239.94671",Shape_Area:"3593796.558",NHPD_Units:"0",Permits:"239",Pop:"4971",Pop_density:"3582.514788",Non_white_share:"0.204787769",White_non_hisp:"0.795212231",Black_non_hisp:"0.017099175",Asian_non_Hisp:"0.103399718",Hispanic:"0.041641521",Workers:"2622",Transit_to_work:"0.111746758",Walk_to_Work:"0.018306636",Bike_to_work:"0.006102212",Green_commute_share:"0.136155606",BA_plus_25_plus:"0.586486486",Med_HH_inc:"145750",Cost_burdened:"0.742647059",Very_cost_burdened:"0.319852941",Med_housing_value:"627400",Jobs:"525",Job_density:"378.3585322",Housing_units:"2044",Housing_density:"1473.075885",Permit_density:"172.2432175",Permits_per_capita:"48.07885737",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22102",GEOID:"53033022102",NAME:"221.02",NAMELSAD:"Census Tract 221.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4679991",AWATER:"0",INTPTLAT:"47.7424731",INTPTLON:"-122.225926",Shape_Leng:"11198.86083",Shape_Area:"4679989.138",NHPD_Units:"0",Permits:"610",Pop:"6647",Pop_density:"3678.564974",Non_white_share:"0.320896645",White_non_hisp:"0.679103355",Black_non_hisp:"0.000300888",Asian_non_Hisp:"0.188355649",Hispanic:"0.096885813",Workers:"3531",Transit_to_work:"0.037949589",Walk_to_Work:"0.016709148",Bike_to_work:"0",Green_commute_share:"0.054658737",BA_plus_25_plus:"0.585349462",Med_HH_inc:"137570",Cost_burdened:"0.330666667",Very_cost_burdened:"0.090666667",Med_housing_value:"674900",Jobs:"283",Job_density:"156.6171036",Housing_units:"2383",Housing_density:"1318.793491",Permit_density:"337.5845696",Permits_per_capita:"91.77072363",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22201",GEOID:"53033022201",NAME:"222.01",NAMELSAD:"Census Tract 222.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2290376",AWATER:"0",INTPTLAT:"47.7263403",INTPTLON:"-122.2320467",Shape_Leng:"6970.41217",Shape_Area:"2290373.881",NHPD_Units:"0",Permits:"85",Pop:"4685",Pop_density:"5297.861267",Non_white_share:"0.22945571",White_non_hisp:"0.77054429",Black_non_hisp:"0.011099253",Asian_non_Hisp:"0.110565635",Hispanic:"0.051013874",Workers:"2647",Transit_to_work:"0.068379297",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.068379297",BA_plus_25_plus:"0.429440742",Med_HH_inc:"111250",Cost_burdened:"0.514767932",Very_cost_burdened:"0.303797468",Med_housing_value:"593300",Jobs:"436",Job_density:"493.0346878",Housing_units:"1790",Housing_density:"2024.156172",Permit_density:"96.11914785",Permits_per_capita:"18.14300961",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022203",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22203",GEOID:"53033022203",NAME:"222.03",NAMELSAD:"Census Tract 222.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3134027",AWATER:"691133",INTPTLAT:"47.7078701",INTPTLON:"-122.2247809",Shape_Leng:"9337.732825",Shape_Area:"3134031.686",NHPD_Units:"0",Permits:"443",Pop:"5185",Pop_density:"4284.930651",Non_white_share:"0.278495661",White_non_hisp:"0.721504339",Black_non_hisp:"0.018707811",Asian_non_Hisp:"0.187270974",Hispanic:"0.036644166",Workers:"2766",Transit_to_work:"0.057483731",Walk_to_Work:"0.00253073",Bike_to_work:"0.022053507",Green_commute_share:"0.082067968",BA_plus_25_plus:"0.704042082",Med_HH_inc:"138798",Cost_burdened:"0.450934579",Very_cost_burdened:"0.378504673",Med_housing_value:"779300",Jobs:"756",Job_density:"624.7652019",Housing_units:"2111",Housing_density:"1744.549393",Permit_density:"366.0991858",Permits_per_capita:"85.43876567",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022204",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22204",GEOID:"53033022204",NAME:"222.04",NAMELSAD:"Census Tract 222.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1603105",AWATER:"0",INTPTLAT:"47.7259013",INTPTLON:"-122.2150408",Shape_Leng:"5436.859006",Shape_Area:"1603102.578",NHPD_Units:"0",Permits:"78",Pop:"3316",Pop_density:"5357.353744",Non_white_share:"0.244270205",White_non_hisp:"0.755729795",Black_non_hisp:"0.018094089",Asian_non_Hisp:"0.118516285",Hispanic:"0.060615199",Workers:"1589",Transit_to_work:"0.053492763",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.053492763",BA_plus_25_plus:"0.544554455",Med_HH_inc:"109911",Cost_burdened:"0.425837321",Very_cost_burdened:"0.28708134",Med_housing_value:"637700",Jobs:"357",Job_density:"576.7717993",Housing_units:"1325",Housing_density:"2140.679647",Permit_density:"126.0173679",Permits_per_capita:"23.52231604",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022205",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22205",GEOID:"53033022205",NAME:"222.05",NAMELSAD:"Census Tract 222.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1010783",AWATER:"0",INTPTLAT:"47.7124231",INTPTLON:"-122.2132077",Shape_Leng:"5806.188896",Shape_Area:"1010779.784",NHPD_Units:"80",Permits:"556",Pop:"4047",Pop_density:"10369.86364",Non_white_share:"0.290091426",White_non_hisp:"0.709908574",Black_non_hisp:"0.03063998",Asian_non_Hisp:"0.135161848",Hispanic:"0.063256733",Workers:"2452",Transit_to_work:"0.116231648",Walk_to_Work:"0.008972268",Bike_to_work:"0.013050571",Green_commute_share:"0.138254486",BA_plus_25_plus:"0.610488127",Med_HH_inc:"91307",Cost_burdened:"0.434210526",Very_cost_burdened:"0.226151316",Med_housing_value:"444900",Jobs:"913",Job_density:"2339.433038",Housing_units:"2198",Housing_density:"5632.063328",Permit_density:"1424.67116",Permits_per_capita:"137.3857178",Subsidized_hsg_share:"0.036396724"},{TRACT_ID:"G5300330022300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22300",GEOID:"53033022300",NAME:"223",NAMELSAD:"Census Tract 223",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5071395",AWATER:"5537735",INTPTLAT:"47.7138279",INTPTLON:"-122.2495245",Shape_Leng:"12509.36083",Shape_Area:"5086239.244",NHPD_Units:"0",Permits:"363",Pop:"2569",Pop_density:"1312.001817",Non_white_share:"0.206695212",White_non_hisp:"0.793304788",Black_non_hisp:"0.012066952",Asian_non_Hisp:"0.101985208",Hispanic:"0.029972752",Workers:"1193",Transit_to_work:"0.040234702",Walk_to_Work:"0.015088013",Bike_to_work:"0",Green_commute_share:"0.055322716",BA_plus_25_plus:"0.703011423",Med_HH_inc:"152798",Cost_burdened:"0.390909091",Very_cost_burdened:"0.063636364",Med_housing_value:"926900",Jobs:"537",Job_density:"274.2487255",Housing_units:"1171",Housing_density:"598.0358614",Permit_density:"185.38601",Permits_per_capita:"141.3001168",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22401",GEOID:"53033022401",NAME:"224.01",NAMELSAD:"Census Tract 224.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2402491",AWATER:"0",INTPTLAT:"47.6938359",INTPTLON:"-122.1997778",Shape_Leng:"8147.538555",Shape_Area:"2402489.425",NHPD_Units:"0",Permits:"323",Pop:"3413",Pop_density:"3679.360056",Non_white_share:"0.231760914",White_non_hisp:"0.768239086",Black_non_hisp:"0.003515968",Asian_non_Hisp:"0.08555523",Hispanic:"0.088192206",Workers:"1818",Transit_to_work:"0.064906491",Walk_to_Work:"0.01870187",Bike_to_work:"0",Green_commute_share:"0.083608361",BA_plus_25_plus:"0.787033399",Med_HH_inc:"145819",Cost_burdened:"0.394366197",Very_cost_burdened:"0.104627767",Med_housing_value:"1018200",Jobs:"702",Job_density:"756.7860414",Housing_units:"1571",Housing_density:"1693.605229",Permit_density:"348.2078225",Permits_per_capita:"94.63814826",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22402",GEOID:"53033022402",NAME:"224.02",NAMELSAD:"Census Tract 224.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2219492",AWATER:"4175839",INTPTLAT:"47.6839644",INTPTLON:"-122.2157333",Shape_Leng:"9493.056076",Shape_Area:"2219495.955",NHPD_Units:"33",Permits:"1080",Pop:"5413",Pop_density:"6316.583092",Non_white_share:"0.21411417",White_non_hisp:"0.78588583",Black_non_hisp:"0.003694809",Asian_non_Hisp:"0.124699797",Hispanic:"0.051912064",Workers:"2892",Transit_to_work:"0.092669433",Walk_to_Work:"0.031811895",Bike_to_work:"0.008298755",Green_commute_share:"0.132780083",BA_plus_25_plus:"0.770027114",Med_HH_inc:"112237",Cost_burdened:"0.4536",Very_cost_burdened:"0.3304",Med_housing_value:"1459100",Jobs:"4086",Job_density:"4768.069188",Housing_units:"2826",Housing_density:"3297.739483",Permit_density:"1260.282605",Permits_per_capita:"199.5196749",Subsidized_hsg_share:"0.011677282"},{TRACT_ID:"G5300330022501",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22501",GEOID:"53033022501",NAME:"225.01",NAMELSAD:"Census Tract 225.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2472567",AWATER:"0",INTPTLAT:"47.6842794",INTPTLON:"-122.1881832",Shape_Leng:"9743.208134",Shape_Area:"2472564.233",NHPD_Units:"0",Permits:"348",Pop:"4659",Pop_density:"4880.253844",Non_white_share:"0.350933677",White_non_hisp:"0.649066323",Black_non_hisp:"0.069328182",Asian_non_Hisp:"0.117836446",Hispanic:"0.071474565",Workers:"2522",Transit_to_work:"0.064234734",Walk_to_Work:"0.059476606",Bike_to_work:"0",Green_commute_share:"0.12371134",BA_plus_25_plus:"0.725858717",Med_HH_inc:"144667",Cost_burdened:"0.296296296",Very_cost_burdened:"0.212962963",Med_housing_value:"887900",Jobs:"2019",Job_density:"2114.881415",Housing_units:"1851",Housing_density:"1938.903169",Permit_density:"364.5263657",Permits_per_capita:"74.69414037",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022502",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22502",GEOID:"53033022502",NAME:"225.02",NAMELSAD:"Census Tract 225.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1264562",AWATER:"230572",INTPTLAT:"47.6742256",INTPTLON:"-122.1993098",Shape_Leng:"5736.760686",Shape_Area:"1264563.595",NHPD_Units:"124",Permits:"1317",Pop:"3736",Pop_density:"7651.81587",Non_white_share:"0.30620985",White_non_hisp:"0.69379015",Black_non_hisp:"0",Asian_non_Hisp:"0.204496788",Hispanic:"0.048447537",Workers:"2214",Transit_to_work:"0.108852755",Walk_to_Work:"0.029358627",Bike_to_work:"0.005871725",Green_commute_share:"0.144083107",BA_plus_25_plus:"0.647151401",Med_HH_inc:"129911",Cost_burdened:"0.355130785",Very_cost_burdened:"0.132796781",Med_housing_value:"714900",Jobs:"8403",Job_density:"17210.44132",Housing_units:"2421",Housing_density:"4958.524149",Permit_density:"2697.387982",Permits_per_capita:"352.51606",Subsidized_hsg_share:"0.051218505"},{TRACT_ID:"G5300330022603",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22603",GEOID:"53033022603",NAME:"226.03",NAMELSAD:"Census Tract 226.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2888544",AWATER:"23234",INTPTLAT:"47.6948197",INTPTLON:"-122.1716302",Shape_Leng:"8040.241822",Shape_Area:"2911779.161",NHPD_Units:"110",Permits:"821",Pop:"6007",Pop_density:"5386.124836",Non_white_share:"0.376394207",White_non_hisp:"0.623605793",Black_non_hisp:"0.006658898",Asian_non_Hisp:"0.246545697",Hispanic:"0.05710005",Workers:"3584",Transit_to_work:"0.045479911",Walk_to_Work:"0.039620536",Bike_to_work:"0",Green_commute_share:"0.085100446",BA_plus_25_plus:"0.62980445",Med_HH_inc:"130545",Cost_burdened:"0.470868014",Very_cost_burdened:"0.179548157",Med_housing_value:"724500",Jobs:"1376",Job_density:"1233.778554",Housing_units:"2635",Housing_density:"2362.650065",Permit_density:"736.1425821",Permits_per_capita:"136.6738805",Subsidized_hsg_share:"0.041745731"},{TRACT_ID:"G5300330022604",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22604",GEOID:"53033022604",NAME:"226.04",NAMELSAD:"Census Tract 226.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2951989",AWATER:"0",INTPTLAT:"47.6762219",INTPTLON:"-122.1739912",Shape_Leng:"7291.414678",Shape_Area:"2951991.988",NHPD_Units:"0",Permits:"689",Pop:"4941",Pop_density:"4335.087716",Non_white_share:"0.35600081",White_non_hisp:"0.64399919",Black_non_hisp:"0.018417324",Asian_non_Hisp:"0.226674762",Hispanic:"0.079133779",Workers:"2589",Transit_to_work:"0.091154886",Walk_to_Work:"0.013518733",Bike_to_work:"0.004248745",Green_commute_share:"0.108922364",BA_plus_25_plus:"0.683537264",Med_HH_inc:"139291",Cost_burdened:"0.337313433",Very_cost_burdened:"0.146268657",Med_housing_value:"896400",Jobs:"2451",Job_density:"2150.435133",Housing_units:"1917",Housing_density:"1681.919278",Permit_density:"604.5082851",Permits_per_capita:"139.4454564",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022605",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22605",GEOID:"53033022605",NAME:"226.05",NAMELSAD:"Census Tract 226.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4726391",AWATER:"0",INTPTLAT:"47.6914611",INTPTLON:"-122.1557449",Shape_Leng:"11719.53423",Shape_Area:"4726394.724",NHPD_Units:"0",Permits:"331",Pop:"7141",Pop_density:"3913.155957",Non_white_share:"0.451057275",White_non_hisp:"0.548942725",Black_non_hisp:"0.009662512",Asian_non_Hisp:"0.227419129",Hispanic:"0.188348971",Workers:"4406",Transit_to_work:"0.124148888",Walk_to_Work:"0.046073536",Bike_to_work:"0",Green_commute_share:"0.170222424",BA_plus_25_plus:"0.507844277",Med_HH_inc:"107566",Cost_burdened:"0.247371676",Very_cost_burdened:"0.146567718",Med_housing_value:"740400",Jobs:"6062",Job_density:"3321.880886",Housing_units:"2861",Housing_density:"1567.783111",Permit_density:"181.3828066",Permits_per_capita:"46.35205153",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022606",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22606",GEOID:"53033022606",NAME:"226.06",NAMELSAD:"Census Tract 226.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2758122",AWATER:"27137",INTPTLAT:"47.6689188",INTPTLON:"-122.1547915",Shape_Leng:"6946.072686",Shape_Area:"2785262.942",NHPD_Units:"9",Permits:"66",Pop:"6154",Pop_density:"5778.854899",Non_white_share:"0.392752681",White_non_hisp:"0.607247319",Black_non_hisp:"0.005849854",Asian_non_Hisp:"0.318167046",Hispanic:"0.049398765",Workers:"3232",Transit_to_work:"0.081373762",Walk_to_Work:"0.00835396",Bike_to_work:"0",Green_commute_share:"0.089727723",BA_plus_25_plus:"0.611759524",Med_HH_inc:"114911",Cost_burdened:"0.41863354",Very_cost_burdened:"0.065838509",Med_housing_value:"706100",Jobs:"520",Job_density:"488.3010314",Housing_units:"2414",Housing_density:"2266.843634",Permit_density:"61.97666937",Permits_per_capita:"10.72473188",Subsidized_hsg_share:"0.003728252"},{TRACT_ID:"G5300330022701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22701",GEOID:"53033022701",NAME:"227.01",NAMELSAD:"Census Tract 227.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1607170",AWATER:"600718",INTPTLAT:"47.6548917",INTPTLON:"-122.2056786",Shape_Leng:"9177.717508",Shape_Area:"1607170.428",NHPD_Units:"58",Permits:"401",Pop:"3398",Pop_density:"5475.948157",Non_white_share:"0.237492643",White_non_hisp:"0.762507357",Black_non_hisp:"0.032960565",Asian_non_Hisp:"0.119776339",Hispanic:"0.045026486",Workers:"2016",Transit_to_work:"0.110119048",Walk_to_Work:"0.044642857",Bike_to_work:"0",Green_commute_share:"0.154761905",BA_plus_25_plus:"0.728598131",Med_HH_inc:"150361",Cost_burdened:"0.358454106",Very_cost_burdened:"0.181642512",Med_housing_value:"1182700",Jobs:"7420",Job_density:"11957.48538",Housing_units:"1951",Housing_density:"3144.077355",Permit_density:"646.2198972",Permits_per_capita:"118.0105945",Subsidized_hsg_share:"0.029728344"},{TRACT_ID:"G5300330022702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22702",GEOID:"53033022702",NAME:"227.02",NAMELSAD:"Census Tract 227.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2457576",AWATER:"0",INTPTLAT:"47.6568498",INTPTLON:"-122.194254",Shape_Leng:"7008.102148",Shape_Area:"2457574.238",NHPD_Units:"15",Permits:"297",Pop:"4051",Pop_density:"4269.264444",Non_white_share:"0.246112071",White_non_hisp:"0.753887929",Black_non_hisp:"0.015304863",Asian_non_Hisp:"0.138731177",Hispanic:"0.026660084",Workers:"2161",Transit_to_work:"0.120777418",Walk_to_Work:"0.084683017",Bike_to_work:"0.005552985",Green_commute_share:"0.21101342",BA_plus_25_plus:"0.777822098",Med_HH_inc:"149643",Cost_burdened:"0.271777003",Very_cost_burdened:"0.12543554",Med_housing_value:"1119400",Jobs:"1163",Job_density:"1225.661454",Housing_units:"1302",Housing_density:"1372.150656",Permit_density:"313.0021081",Permits_per_capita:"73.31523081",Subsidized_hsg_share:"0.011520737"},{TRACT_ID:"G5300330022703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22703",GEOID:"53033022703",NAME:"227.03",NAMELSAD:"Census Tract 227.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4190224",AWATER:"0",INTPTLAT:"47.657302",INTPTLON:"-122.1758428",Shape_Leng:"8363.095171",Shape_Area:"4190223.541",NHPD_Units:"0",Permits:"133",Pop:"3200",Pop_density:"1977.928138",Non_white_share:"0.3928125",White_non_hisp:"0.6071875",Black_non_hisp:"0.02",Asian_non_Hisp:"0.1875",Hispanic:"0.0646875",Workers:"1525",Transit_to_work:"0.036065574",Walk_to_Work:"0.009836066",Bike_to_work:"0.020327869",Green_commute_share:"0.066229508",BA_plus_25_plus:"0.659942363",Med_HH_inc:"136591",Cost_burdened:"0.464480874",Very_cost_burdened:"0.262295082",Med_housing_value:"923400",Jobs:"1498",Job_density:"925.9176095",Housing_units:"1138",Housing_density:"703.400694",Permit_density:"82.20763822",Permits_per_capita:"41.5625",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22802",GEOID:"53033022802",NAME:"228.02",NAMELSAD:"Census Tract 228.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2660768",AWATER:"0",INTPTLAT:"47.6634066",INTPTLON:"-122.1350036",Shape_Leng:"6877.37153",Shape_Area:"2660766.242",NHPD_Units:"0",Permits:"206",Pop:"5762",Pop_density:"5608.723305",Non_white_share:"0.393266227",White_non_hisp:"0.606733773",Black_non_hisp:"0.003471017",Asian_non_Hisp:"0.33460604",Hispanic:"0.029503645",Workers:"2848",Transit_to_work:"0.082162921",Walk_to_Work:"0.020365169",Bike_to_work:"0.012289326",Green_commute_share:"0.114817416",BA_plus_25_plus:"0.746405553",Med_HH_inc:"145353",Cost_burdened:"0.217247098",Very_cost_burdened:"0.180762852",Med_housing_value:"765300",Jobs:"236",Job_density:"229.722093",Housing_units:"2290",Housing_density:"2229.083021",Permit_density:"200.5201321",Permits_per_capita:"35.75147518",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022803",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22803",GEOID:"53033022803",NAME:"228.03",NAMELSAD:"Census Tract 228.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4772681",AWATER:"0",INTPTLAT:"47.643933",INTPTLON:"-122.1312723",Shape_Leng:"9567.416645",Shape_Area:"4772677.045",NHPD_Units:"308",Permits:"2528",Pop:"6484",Pop_density:"3518.668628",Non_white_share:"0.65484269",White_non_hisp:"0.34515731",Black_non_hisp:"0.024367674",Asian_non_Hisp:"0.483960518",Hispanic:"0.101480568",Workers:"3539",Transit_to_work:"0.140717717",Walk_to_Work:"0.096072337",Bike_to_work:"0.005368748",Green_commute_share:"0.242158802",BA_plus_25_plus:"0.769263426",Med_HH_inc:"137857",Cost_burdened:"0.258080077",Very_cost_burdened:"0.183791606",Med_housing_value:"931000",Jobs:"61765",Job_density:"33517.97776",Housing_units:"3017",Housing_density:"1637.233691",Permit_density:"1371.868336",Permits_per_capita:"389.8827884",Subsidized_hsg_share:"0.102088167"},{TRACT_ID:"G5300330022804",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22804",GEOID:"53033022804",NAME:"228.04",NAMELSAD:"Census Tract 228.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1021697",AWATER:"0",INTPTLAT:"47.6379751",INTPTLON:"-122.1474819",Shape_Leng:"4745.620349",Shape_Area:"1021693.709",NHPD_Units:"532",Permits:"3",Pop:"5258",Pop_density:"13328.95906",Non_white_share:"0.650437429",White_non_hisp:"0.349562571",Black_non_hisp:"0.030620008",Asian_non_Hisp:"0.461582351",Hispanic:"0.064282997",Workers:"3337",Transit_to_work:"0.137848367",Walk_to_Work:"0.077015283",Bike_to_work:"0.019178903",Green_commute_share:"0.234042553",BA_plus_25_plus:"0.768295648",Med_HH_inc:"88311",Cost_burdened:"0.263904035",Very_cost_burdened:"0.12868048",Med_housing_value:"347200",Jobs:"1492",Job_density:"3782.19987",Housing_units:"2362",Housing_density:"5987.638132",Permit_density:"7.604959524",Permits_per_capita:"0.570559148",Subsidized_hsg_share:"0.225232854"},{TRACT_ID:"G5300330022805",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22805",GEOID:"53033022805",NAME:"228.05",NAMELSAD:"Census Tract 228.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3842917",AWATER:"0",INTPTLAT:"47.6486766",INTPTLON:"-122.1547452",Shape_Leng:"9491.489781",Shape_Area:"3842916.102",NHPD_Units:"60",Permits:"38",Pop:"3790",Pop_density:"2554.323952",Non_white_share:"0.508970976",White_non_hisp:"0.491029024",Black_non_hisp:"0.02823219",Asian_non_Hisp:"0.42348285",Hispanic:"0.020844327",Workers:"1957",Transit_to_work:"0.086356668",Walk_to_Work:"0.096065406",Bike_to_work:"0",Green_commute_share:"0.182422075",BA_plus_25_plus:"0.842852075",Med_HH_inc:"116078",Cost_burdened:"0.238683128",Very_cost_burdened:"0.032921811",Med_housing_value:"1194900",Jobs:"2449",Job_density:"1650.538089",Housing_units:"1699",Housing_density:"1145.065012",Permit_density:"25.61063593",Permits_per_capita:"10.02638522",Subsidized_hsg_share:"0.035314891"},{TRACT_ID:"G5300330022901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22901",GEOID:"53033022901",NAME:"229.01",NAMELSAD:"Census Tract 229.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1485129",AWATER:"0",INTPTLAT:"47.6366049",INTPTLON:"-122.1183889",Shape_Leng:"5872.977692",Shape_Area:"1485126.28",NHPD_Units:"0",Permits:"24",Pop:"3272",Pop_density:"5706.198651",Non_white_share:"0.38905868",White_non_hisp:"0.61094132",Black_non_hisp:"0.012224939",Asian_non_Hisp:"0.300427873",Hispanic:"0.018643032",Workers:"1354",Transit_to_work:"0.096011817",Walk_to_Work:"0.014032496",Bike_to_work:"0.03028065",Green_commute_share:"0.140324963",BA_plus_25_plus:"0.693984659",Med_HH_inc:"150147",Cost_burdened:"0.353535354",Very_cost_burdened:"0.247474747",Med_housing_value:"830300",Jobs:"402",Job_density:"701.0671937",Housing_units:"1126",Housing_density:"1963.685722",Permit_density:"41.85475783",Permits_per_capita:"7.334963325",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330022902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"22902",GEOID:"53033022902",NAME:"229.02",NAMELSAD:"Census Tract 229.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3537566",AWATER:"1705282",INTPTLAT:"47.6403935",INTPTLON:"-122.102278",Shape_Leng:"12280.44187",Shape_Area:"5242844.289",NHPD_Units:"41",Permits:"133",Pop:"6180",Pop_density:"4524.61566",Non_white_share:"0.394498382",White_non_hisp:"0.605501618",Black_non_hisp:"0.019417476",Asian_non_Hisp:"0.300485437",Hispanic:"0.02605178",Workers:"3076",Transit_to_work:"0.068595579",Walk_to_Work:"0",Bike_to_work:"0.014629389",Green_commute_share:"0.083224967",BA_plus_25_plus:"0.740941636",Med_HH_inc:"153958",Cost_burdened:"0.298701299",Very_cost_burdened:"0.043831169",Med_housing_value:"806500",Jobs:"465",Job_density:"340.4443822",Housing_units:"2564",Housing_density:"1877.203002",Permit_density:"97.37441469",Permits_per_capita:"21.5210356",Subsidized_hsg_share:"0.01599064"},{TRACT_ID:"G5300330023000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23000",GEOID:"53033023000",NAME:"230",NAMELSAD:"Census Tract 230",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3328634",AWATER:"2210425",INTPTLAT:"47.6217389",INTPTLON:"-122.1029997",Shape_Leng:"12481.84123",Shape_Area:"5539057.65",NHPD_Units:"0",Permits:"1121",Pop:"6622",Pop_density:"5152.534423",Non_white_share:"0.444125642",White_non_hisp:"0.555874358",Black_non_hisp:"0.013138025",Asian_non_Hisp:"0.274690426",Hispanic:"0.091966173",Workers:"3444",Transit_to_work:"0.042682927",Walk_to_Work:"0.05981417",Bike_to_work:"0.003774681",Green_commute_share:"0.106271777",BA_plus_25_plus:"0.68932247",Med_HH_inc:"147222",Cost_burdened:"0.209839357",Very_cost_burdened:"0.054216867",Med_housing_value:"871500",Jobs:"1858",Job_density:"1445.697517",Housing_units:"2571",Housing_density:"2000.478104",Permit_density:"872.2426892",Permits_per_capita:"169.2842042",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23100",GEOID:"53033023100",NAME:"231",NAMELSAD:"Census Tract 231",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2529558",AWATER:"1838407",INTPTLAT:"47.5973918",INTPTLON:"-122.1103224",Shape_Leng:"11871.45741",Shape_Area:"4367964.772",NHPD_Units:"0",Permits:"34",Pop:"4199",Pop_density:"4299.3124",Non_white_share:"0.357942367",White_non_hisp:"0.642057633",Black_non_hisp:"0.008811622",Asian_non_Hisp:"0.17670874",Hispanic:"0.084543939",Workers:"2102",Transit_to_work:"0.031398668",Walk_to_Work:"0.013796384",Bike_to_work:"0.019029496",Green_commute_share:"0.064224548",BA_plus_25_plus:"0.713729309",Med_HH_inc:"151250",Cost_burdened:"0.234875445",Very_cost_burdened:"0.060498221",Med_housing_value:"823100",Jobs:"371",Job_density:"379.8630389",Housing_units:"1572",Housing_density:"1609.55444",Permit_density:"34.81224615",Permits_per_capita:"8.097165992",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23201",GEOID:"53033023201",NAME:"232.01",NAMELSAD:"Census Tract 232.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1569244",AWATER:"0",INTPTLAT:"47.6186878",INTPTLON:"-122.137617",Shape_Leng:"5470.688821",Shape_Area:"1569241.868",NHPD_Units:"198",Permits:"179",Pop:"6187",Pop_density:"10211.44987",Non_white_share:"0.746080491",White_non_hisp:"0.253919509",Black_non_hisp:"0.027638597",Asian_non_Hisp:"0.679489252",Hispanic:"0.025699046",Workers:"2906",Transit_to_work:"0.226772195",Walk_to_Work:"0.002408809",Bike_to_work:"0.005849966",Green_commute_share:"0.23503097",BA_plus_25_plus:"0.763013699",Med_HH_inc:"97775",Cost_burdened:"0.304267161",Very_cost_burdened:"0.13729128",Med_housing_value:"557200",Jobs:"1400",Job_density:"2310.656185",Housing_units:"2769",Housing_density:"4570.14784",Permit_density:"295.4338979",Permits_per_capita:"28.93163084",Subsidized_hsg_share:"0.071505959"},{TRACT_ID:"G5300330023202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23202",GEOID:"53033023202",NAME:"232.02",NAMELSAD:"Census Tract 232.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1491213",AWATER:"0",INTPTLAT:"47.6178862",INTPTLON:"-122.1271368",Shape_Leng:"5357.31406",Shape_Area:"1491214.984",NHPD_Units:"235",Permits:"423",Pop:"4686",Pop_density:"8138.799947",Non_white_share:"0.568715322",White_non_hisp:"0.431284678",Black_non_hisp:"0.041186513",Asian_non_Hisp:"0.298122066",Hispanic:"0.200170721",Workers:"2081",Transit_to_work:"0.098510332",Walk_to_Work:"0.054300817",Bike_to_work:"0.010091302",Green_commute_share:"0.162902451",BA_plus_25_plus:"0.49912332",Med_HH_inc:"70599",Cost_burdened:"0.534222222",Very_cost_burdened:"0.237333333",Med_housing_value:"664800",Jobs:"2044",Job_density:"3550.086874",Housing_units:"2010",Housing_density:"3491.034548",Permit_density:"734.6804049",Permits_per_capita:"90.26888604",Subsidized_hsg_share:"0.116915423"},{TRACT_ID:"G5300330023300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23300",GEOID:"53033023300",NAME:"233",NAMELSAD:"Census Tract 233",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3589674",AWATER:"248744",INTPTLAT:"47.6003452",INTPTLON:"-122.1289619",Shape_Leng:"8605.972891",Shape_Area:"3838414.849",NHPD_Units:"128",Permits:"59",Pop:"7098",Pop_density:"5121.28277",Non_white_share:"0.412651451",White_non_hisp:"0.587348549",Black_non_hisp:"0.049591434",Asian_non_Hisp:"0.185545224",Hispanic:"0.146238377",Workers:"3652",Transit_to_work:"0.061062432",Walk_to_Work:"0",Bike_to_work:"0.004654984",Green_commute_share:"0.065717415",BA_plus_25_plus:"0.55239521",Med_HH_inc:"101359",Cost_burdened:"0.437293729",Very_cost_burdened:"0.267326733",Med_housing_value:"707900",Jobs:"1021",Job_density:"736.662399",Housing_units:"2590",Housing_density:"1868.712648",Permit_density:"42.56912982",Permits_per_capita:"8.31220062",Subsidized_hsg_share:"0.049420849"},{TRACT_ID:"G5300330023401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23401",GEOID:"53033023401",NAME:"234.01",NAMELSAD:"Census Tract 234.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3707558",AWATER:"0",INTPTLAT:"47.5868216",INTPTLON:"-122.1468183",Shape_Leng:"8432.894897",Shape_Area:"3707559.515",NHPD_Units:"80",Permits:"202",Pop:"4240",Pop_density:"2961.93602",Non_white_share:"0.590330189",White_non_hisp:"0.409669811",Black_non_hisp:"0.04009434",Asian_non_Hisp:"0.411084906",Hispanic:"0.075707547",Workers:"2035",Transit_to_work:"0.122358722",Walk_to_Work:"0.007371007",Bike_to_work:"0",Green_commute_share:"0.12972973",BA_plus_25_plus:"0.608520631",Med_HH_inc:"116579",Cost_burdened:"0.28125",Very_cost_burdened:"0.127840909",Med_housing_value:"715000",Jobs:"10508",Job_density:"7340.571628",Housing_units:"1683",Housing_density:"1175.693001",Permit_density:"141.1111029",Permits_per_capita:"47.64150943",Subsidized_hsg_share:"0.047534165"},{TRACT_ID:"G5300330023403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23403",GEOID:"53033023403",NAME:"234.03",NAMELSAD:"Census Tract 234.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3354192",AWATER:"1962037",INTPTLAT:"47.5805595",INTPTLON:"-122.1141855",Shape_Leng:"11657.98707",Shape_Area:"5316224.76",NHPD_Units:"0",Permits:"59",Pop:"3977",Pop_density:"3070.898361",Non_white_share:"0.389992457",White_non_hisp:"0.610007543",Black_non_hisp:"0.009303495",Asian_non_Hisp:"0.257983405",Hispanic:"0.069901936",Workers:"2045",Transit_to_work:"0.077261614",Walk_to_Work:"0.011735941",Bike_to_work:"0.008801956",Green_commute_share:"0.097799511",BA_plus_25_plus:"0.698752228",Med_HH_inc:"142717",Cost_burdened:"0.338129496",Very_cost_burdened:"0.111510791",Med_housing_value:"876000",Jobs:"3493",Job_density:"2697.170725",Housing_units:"1532",Housing_density:"1182.95607",Permit_density:"45.55770764",Permits_per_capita:"14.83530299",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023404",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23404",GEOID:"53033023404",NAME:"234.04",NAMELSAD:"Census Tract 234.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1838932",AWATER:"1746971",INTPTLAT:"47.5669902",INTPTLON:"-122.0852231",Shape_Leng:"9489.430469",Shape_Area:"3585902.495",NHPD_Units:"0",Permits:"91",Pop:"3711",Pop_density:"5226.645617",Non_white_share:"0.203988143",White_non_hisp:"0.796011857",Black_non_hisp:"0.001347346",Asian_non_Hisp:"0.123416869",Hispanic:"0.05362436",Workers:"1825",Transit_to_work:"0.061369863",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.061369863",BA_plus_25_plus:"0.714106845",Med_HH_inc:"114353",Cost_burdened:"0.648275862",Very_cost_burdened:"0",Med_housing_value:"841700",Jobs:"1547",Job_density:"2178.825322",Housing_units:"1365",Housing_density:"1922.492931",Permit_density:"128.1661954",Permits_per_capita:"24.52169227",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23500",GEOID:"53033023500",NAME:"235",NAMELSAD:"Census Tract 235",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2443751",AWATER:"0",INTPTLAT:"47.5917924",INTPTLON:"-122.1734356",Shape_Leng:"6768.629629",Shape_Area:"2443749.007",NHPD_Units:"0",Permits:"269",Pop:"4070",Pop_density:"4313.55388",Non_white_share:"0.3997543",White_non_hisp:"0.6002457",Black_non_hisp:"0.014004914",Asian_non_Hisp:"0.296560197",Hispanic:"0.033169533",Workers:"2104",Transit_to_work:"0.102186312",Walk_to_Work:"0.01378327",Bike_to_work:"0.004752852",Green_commute_share:"0.120722433",BA_plus_25_plus:"0.634492069",Med_HH_inc:"142639",Cost_burdened:"0.416149068",Very_cost_burdened:"0.130434783",Med_housing_value:"918400",Jobs:"456",Job_density:"483.2876092",Housing_units:"1539",Housing_density:"1631.095681",Permit_density:"285.0972958",Permits_per_capita:"66.09336609",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23601",GEOID:"53033023601",NAME:"236.01",NAMELSAD:"Census Tract 236.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4627061",AWATER:"0",INTPTLAT:"47.6104071",INTPTLON:"-122.1717598",Shape_Leng:"9074.297366",Shape_Area:"4627061.143",NHPD_Units:"175",Permits:"148",Pop:"4452",Pop_density:"2491.998067",Non_white_share:"0.555705301",White_non_hisp:"0.444294699",Black_non_hisp:"0.037511231",Asian_non_Hisp:"0.428122192",Hispanic:"0.055256065",Workers:"2533",Transit_to_work:"0.079747335",Walk_to_Work:"0.044611133",Bike_to_work:"0.003947888",Green_commute_share:"0.128306356",BA_plus_25_plus:"0.650584795",Med_HH_inc:"125063",Cost_burdened:"0.501538462",Very_cost_burdened:"0.251282051",Med_housing_value:"892700",Jobs:"12697",Job_density:"7107.120273",Housing_units:"2021",Housing_density:"1131.250695",Permit_density:"82.84270303",Permits_per_capita:"33.24348607",Subsidized_hsg_share:"0.086590797"},{TRACT_ID:"G5300330023603",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23603",GEOID:"53033023603",NAME:"236.03",NAMELSAD:"Census Tract 236.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2017794",AWATER:"0",INTPTLAT:"47.6173889",INTPTLON:"-122.1507628",Shape_Leng:"5813.816207",Shape_Area:"2017794.64",NHPD_Units:"101",Permits:"208",Pop:"6724",Pop_density:"8630.752224",Non_white_share:"0.720999405",White_non_hisp:"0.279000595",Black_non_hisp:"0.009815586",Asian_non_Hisp:"0.542385485",Hispanic:"0.135633551",Workers:"3908",Transit_to_work:"0.201893552",Walk_to_Work:"0.022773797",Bike_to_work:"0.002302968",Green_commute_share:"0.226970317",BA_plus_25_plus:"0.658290422",Med_HH_inc:"123032",Cost_burdened:"0.306110103",Very_cost_burdened:"0.103448276",Med_housing_value:"856100",Jobs:"2841",Job_density:"3646.634008",Housing_units:"2734",Housing_density:"3509.29158",Permit_density:"266.9834121",Permits_per_capita:"30.93396788",Subsidized_hsg_share:"0.036942209"},{TRACT_ID:"G5300330023604",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23604",GEOID:"53033023604",NAME:"236.04",NAMELSAD:"Census Tract 236.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2904411",AWATER:"0",INTPTLAT:"47.5993994",INTPTLON:"-122.1538559",Shape_Leng:"8586.040982",Shape_Area:"2904407.476",NHPD_Units:"54",Permits:"83",Pop:"6428",Pop_density:"5732.123853",Non_white_share:"0.593808339",White_non_hisp:"0.406191661",Black_non_hisp:"0.061761045",Asian_non_Hisp:"0.337429994",Hispanic:"0.102364655",Workers:"3027",Transit_to_work:"0.186983812",Walk_to_Work:"0.010241163",Bike_to_work:"0",Green_commute_share:"0.197224975",BA_plus_25_plus:"0.54659066",Med_HH_inc:"92768",Cost_burdened:"0.448327138",Very_cost_burdened:"0.333085502",Med_housing_value:"640400",Jobs:"713",Job_density:"635.8127423",Housing_units:"2749",Housing_density:"2451.401443",Permit_density:"74.01466705",Permits_per_capita:"12.91225887",Subsidized_hsg_share:"0.019643507"},{TRACT_ID:"G5300330023701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23701",GEOID:"53033023701",NAME:"237.01",NAMELSAD:"Census Tract 237.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4192703",AWATER:"0",INTPTLAT:"47.6387236",INTPTLON:"-122.1767944",Shape_Leng:"10120.8021",Shape_Area:"4192708.333",NHPD_Units:"0",Permits:"55",Pop:"4670",Pop_density:"2884.832166",Non_white_share:"0.413276231",White_non_hisp:"0.586723769",Black_non_hisp:"0.014989293",Asian_non_Hisp:"0.317558887",Hispanic:"0.048394004",Workers:"2685",Transit_to_work:"0.086405959",Walk_to_Work:"0.00744879",Bike_to_work:"0.001862197",Green_commute_share:"0.095716946",BA_plus_25_plus:"0.737612613",Med_HH_inc:"152951",Cost_burdened:"0.21009772",Very_cost_burdened:"0.04723127",Med_housing_value:"1078400",Jobs:"5564",Job_density:"3437.089115",Housing_units:"1928",Housing_density:"1190.997091",Permit_density:"33.97553942",Permits_per_capita:"11.77730193",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23702",GEOID:"53033023702",NAME:"237.02",NAMELSAD:"Census Tract 237.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3498742",AWATER:"18268",INTPTLAT:"47.624032",INTPTLON:"-122.1710306",Shape_Leng:"9462.549637",Shape_Area:"3517012.695",NHPD_Units:"0",Permits:"847",Pop:"377",Pop_density:"279.0790283",Non_white_share:"0.872679045",White_non_hisp:"0.127320955",Black_non_hisp:"0.066312997",Asian_non_Hisp:"0.801061008",Hispanic:"0.00530504",Workers:"190",Transit_to_work:"0",Walk_to_Work:"0.084210526",Bike_to_work:"0",Green_commute_share:"0.084210526",BA_plus_25_plus:"0.947368421",Med_HH_inc:"118859",Cost_burdened:"0.173913043",Very_cost_burdened:"0.065217391",Med_housing_value:"420600",Jobs:"20279",Job_density:"15011.78678",Housing_units:"185",Housing_density:"136.9485948",Permit_density:"627.0024853",Permits_per_capita:"2246.68435",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23801",GEOID:"53033023801",NAME:"238.01",NAMELSAD:"Census Tract 238.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3621819",AWATER:"0",INTPTLAT:"47.5956791",INTPTLON:"-122.1891073",Shape_Leng:"9337.642738",Shape_Area:"3621821.683",NHPD_Units:"0",Permits:"707",Pop:"3171",Pop_density:"2267.604289",Non_white_share:"0.624724062",White_non_hisp:"0.375275938",Black_non_hisp:"0.015452539",Asian_non_Hisp:"0.42226427",Hispanic:"0.12046673",Workers:"1860",Transit_to_work:"0.12688172",Walk_to_Work:"0.087096774",Bike_to_work:"0.007526882",Green_commute_share:"0.221505376",BA_plus_25_plus:"0.676975945",Med_HH_inc:"107578",Cost_burdened:"0.38316722",Very_cost_burdened:"0.196013289",Med_housing_value:"859000",Jobs:"5894",Job_density:"4214.840643",Housing_units:"1539",Housing_density:"1100.549669",Permit_density:"505.5806472",Permits_per_capita:"222.9580574",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330023805",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23805",GEOID:"53033023805",NAME:"238.05",NAMELSAD:"Census Tract 238.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"329175",AWATER:"0",INTPTLAT:"47.6192553",INTPTLON:"-122.2016602",Shape_Leng:"2446.942633",Shape_Area:"329176.2213",NHPD_Units:"29",Permits:"1749",Pop:"3211",Pop_density:"25264.53048",Non_white_share:"0.571161632",White_non_hisp:"0.428838368",Black_non_hisp:"0.006228589",Asian_non_Hisp:"0.440361258",Hispanic:"0.026471504",Workers:"1818",Transit_to_work:"0.151265127",Walk_to_Work:"0.211771177",Bike_to_work:"0.00550055",Green_commute_share:"0.368536854",BA_plus_25_plus:"0.755390043",Med_HH_inc:"139276",Cost_burdened:"0.363028953",Very_cost_burdened:"0.17891611",Med_housing_value:"868700",Jobs:"7464",Job_density:"58727.64109",Housing_units:"2039",Housing_density:"16043.09488",Permit_density:"13761.34034",Permits_per_capita:"544.6901277",Subsidized_hsg_share:"0.014222658"},{TRACT_ID:"G5300330023806",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23806",GEOID:"53033023806",NAME:"238.06",NAMELSAD:"Census Tract 238.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"234791",AWATER:"0",INTPTLAT:"47.6192524",INTPTLON:"-122.1925281",Shape_Leng:"2052.563584",Shape_Area:"234791.4421",NHPD_Units:"51",Permits:"1406",Pop:"3219",Pop_density:"35508.90676",Non_white_share:"0.456352905",White_non_hisp:"0.543647095",Black_non_hisp:"0.016775396",Asian_non_Hisp:"0.381484933",Hispanic:"0.037899969",Workers:"2060",Transit_to_work:"0.191262136",Walk_to_Work:"0.199029126",Bike_to_work:"0",Green_commute_share:"0.390291262",BA_plus_25_plus:"0.805199561",Med_HH_inc:"131522",Cost_burdened:"0.285031847",Very_cost_burdened:"0.154458599",Med_housing_value:"675000",Jobs:"4909",Job_density:"54151.35858",Housing_units:"2159",Housing_density:"23816.00798",Permit_density:"15509.63744",Permits_per_capita:"436.7816092",Subsidized_hsg_share:"0.023622047"},{TRACT_ID:"G5300330023807",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23807",GEOID:"53033023807",NAME:"238.07",NAMELSAD:"Census Tract 238.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"886421",AWATER:"0",INTPTLAT:"47.6139313",INTPTLON:"-122.1999085",Shape_Leng:"4995.870407",Shape_Area:"886419.2721",NHPD_Units:"24",Permits:"3005",Pop:"5589",Pop_density:"16330.21279",Non_white_share:"0.465736268",White_non_hisp:"0.534263732",Black_non_hisp:"0.048309179",Asian_non_Hisp:"0.375380211",Hispanic:"0.027733047",Workers:"3642",Transit_to_work:"0.179571664",Walk_to_Work:"0.166117518",Bike_to_work:"0.006040637",Green_commute_share:"0.351729819",BA_plus_25_plus:"0.817135813",Med_HH_inc:"138462",Cost_burdened:"0.299850635",Very_cost_burdened:"0.143017177",Med_housing_value:"987100",Jobs:"36597",Job_density:"106930.8995",Housing_units:"3629",Housing_density:"10603.38919",Permit_density:"8780.15556",Permits_per_capita:"537.6632671",Subsidized_hsg_share:"0.006613392"},{TRACT_ID:"G5300330023808",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23808",GEOID:"53033023808",NAME:"238.08",NAMELSAD:"Census Tract 238.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"308971",AWATER:"0",INTPTLAT:"47.6119127",INTPTLON:"-122.1938322",Shape_Leng:"2335.054917",Shape_Area:"308969.3111",NHPD_Units:"175",Permits:"1365",Pop:"2482",Pop_density:"20805.6759",Non_white_share:"0.554794521",White_non_hisp:"0.445205479",Black_non_hisp:"0.026591459",Asian_non_Hisp:"0.429895246",Hispanic:"0.025785657",Workers:"1725",Transit_to_work:"0.190724638",Walk_to_Work:"0.272463768",Bike_to_work:"0.008115942",Green_commute_share:"0.471304348",BA_plus_25_plus:"0.741626794",Med_HH_inc:"120911",Cost_burdened:"0.352554745",Very_cost_burdened:"0.241605839",Med_housing_value:"0",Jobs:"11819",Job_density:"99074.24799",Housing_units:"1843",Housing_density:"15449.17836",Permit_density:"11442.28348",Permits_per_capita:"549.9597099",Subsidized_hsg_share:"0.09495388"},{TRACT_ID:"G5300330023901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23901",GEOID:"53033023901",NAME:"239.01",NAMELSAD:"Census Tract 239.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2453360",AWATER:"1775304",INTPTLAT:"47.5946966",INTPTLON:"-122.2087645",Shape_Leng:"8103.93168",Shape_Area:"2453359.882",NHPD_Units:"56",Permits:"82",Pop:"4497",Pop_density:"4747.438832",Non_white_share:"0.410940627",White_non_hisp:"0.589059373",Black_non_hisp:"0.023126529",Asian_non_Hisp:"0.211474316",Hispanic:"0.086724483",Workers:"2147",Transit_to_work:"0.098742431",Walk_to_Work:"0.054028878",Bike_to_work:"0.000931532",Green_commute_share:"0.153702841",BA_plus_25_plus:"0.688727042",Med_HH_inc:"130750",Cost_burdened:"0.248861912",Very_cost_burdened:"0.051593323",Med_housing_value:"1581200",Jobs:"256",Job_density:"270.2566913",Housing_units:"1902",Housing_density:"2007.922761",Permit_density:"86.56659644",Permits_per_capita:"18.23437847",Subsidized_hsg_share:"0.029442692"},{TRACT_ID:"G5300330023902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"23902",GEOID:"53033023902",NAME:"239.02",NAMELSAD:"Census Tract 239.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2470250",AWATER:"2350308",INTPTLAT:"47.569",INTPTLON:"-122.1887548",Shape_Leng:"17494.9119",Shape_Area:"2470252.186",NHPD_Units:"0",Permits:"60",Pop:"2818",Pop_density:"2954.59427",Non_white_share:"0.305180979",White_non_hisp:"0.694819021",Black_non_hisp:"0",Asian_non_Hisp:"0.232079489",Hispanic:"0.052874379",Workers:"1275",Transit_to_work:"0.054901961",Walk_to_Work:"0.010980392",Bike_to_work:"0.021960784",Green_commute_share:"0.087843137",BA_plus_25_plus:"0.8221303",Med_HH_inc:"240833",Cost_burdened:"0.214285714",Very_cost_burdened:"0",Med_housing_value:"1566600",Jobs:"331",Job_density:"347.0442524",Housing_units:"1022",Housing_density:"1071.538447",Permit_density:"62.9083237",Permits_per_capita:"21.29169624",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24001",GEOID:"53033024001",NAME:"240.01",NAMELSAD:"Census Tract 240.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2811309",AWATER:"0",INTPTLAT:"47.6320617",INTPTLON:"-122.199121",Shape_Leng:"7373.425347",Shape_Area:"2811313.496",NHPD_Units:"62",Permits:"172",Pop:"3927",Pop_density:"3617.846103",Non_white_share:"0.463458111",White_non_hisp:"0.536541889",Black_non_hisp:"0",Asian_non_Hisp:"0.425770308",Hispanic:"0.014769544",Workers:"1774",Transit_to_work:"0.066516347",Walk_to_Work:"0.032130778",Bike_to_work:"0.040022548",Green_commute_share:"0.138669673",BA_plus_25_plus:"0.691956445",Med_HH_inc:"167917",Cost_burdened:"0.139053254",Very_cost_burdened:"0.115384615",Med_housing_value:"1447200",Jobs:"4432",Job_density:"4083.089872",Housing_units:"1759",Housing_density:"1620.522357",Permit_density:"158.459264",Permits_per_capita:"43.79933792",Subsidized_hsg_share:"0.0352473"},{TRACT_ID:"G5300330024002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24002",GEOID:"53033024002",NAME:"240.02",NAMELSAD:"Census Tract 240.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1624655",AWATER:"240155",INTPTLAT:"47.6183622",INTPTLON:"-122.2121125",Shape_Leng:"7470.645895",Shape_Area:"1624652.483",NHPD_Units:"0",Permits:"94",Pop:"3831",Pop_density:"6107.29321",Non_white_share:"0.523101018",White_non_hisp:"0.476898982",Black_non_hisp:"0.019577134",Asian_non_Hisp:"0.447663795",Hispanic:"0.021404333",Workers:"1752",Transit_to_work:"0.044520548",Walk_to_Work:"0.103310502",Bike_to_work:"0",Green_commute_share:"0.14783105",BA_plus_25_plus:"0.75896861",Med_HH_inc:"148926",Cost_burdened:"0.339233038",Very_cost_burdened:"0.088495575",Med_housing_value:"1559700",Jobs:"482",Job_density:"768.3934553",Housing_units:"1764",Housing_density:"2812.128745",Permit_density:"149.8526656",Permits_per_capita:"24.5366745",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24100",GEOID:"53033024100",NAME:"241",NAMELSAD:"Census Tract 241",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4469122",AWATER:"1617421",INTPTLAT:"47.6445756",INTPTLON:"-122.2199938",Shape_Leng:"13085.26629",Shape_Area:"4489452.849",NHPD_Units:"0",Permits:"276",Pop:"5060",Pop_density:"2932.419352",Non_white_share:"0.348023715",White_non_hisp:"0.651976285",Black_non_hisp:"0.005928854",Asian_non_Hisp:"0.253754941",Hispanic:"0.013636364",Workers:"2181",Transit_to_work:"0.03301238",Walk_to_Work:"0.016047685",Bike_to_work:"0.003209537",Green_commute_share:"0.052269601",BA_plus_25_plus:"0.762517483",Med_HH_inc:"250001",Cost_burdened:"0.204225352",Very_cost_burdened:"0.190140845",Med_housing_value:"2000001",Jobs:"811",Job_density:"469.9984376",Housing_units:"1986",Housing_density:"1150.945619",Permit_density:"159.9501465",Permits_per_capita:"54.54545455",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24200",GEOID:"53033024200",NAME:"242",NAMELSAD:"Census Tract 242",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3704669",AWATER:"11442083",INTPTLAT:"47.634866",INTPTLON:"-122.2402688",Shape_Leng:"10686.73299",Shape_Area:"3704665.851",NHPD_Units:"0",Permits:"182",Pop:"3283",Pop_density:"2295.193165",Non_white_share:"0.371611331",White_non_hisp:"0.628388669",Black_non_hisp:"0.00578739",Asian_non_Hisp:"0.229667987",Hispanic:"0.032592141",Workers:"1339",Transit_to_work:"0.064973861",Walk_to_Work:"0.017176998",Bike_to_work:"0.002987304",Green_commute_share:"0.085138163",BA_plus_25_plus:"0.808417361",Med_HH_inc:"185163",Cost_burdened:"0.666666667",Very_cost_burdened:"0.529761905",Med_housing_value:"2000001",Jobs:"398",Job_density:"278.2476027",Housing_units:"1290",Housing_density:"901.8578076",Permit_density:"127.2388535",Permits_per_capita:"55.43710021",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24301",GEOID:"53033024301",NAME:"243.01",NAMELSAD:"Census Tract 243.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1381432",AWATER:"0",INTPTLAT:"47.5820465",INTPTLON:"-122.233543",Shape_Leng:"5741.681719",Shape_Area:"1381429.382",NHPD_Units:"89",Permits:"1053",Pop:"4841",Pop_density:"9076.185033",Non_white_share:"0.300144598",White_non_hisp:"0.699855402",Black_non_hisp:"0.034083867",Asian_non_Hisp:"0.173931006",Hispanic:"0.018384631",Workers:"2586",Transit_to_work:"0.15970611",Walk_to_Work:"0.081593194",Bike_to_work:"0",Green_commute_share:"0.241299304",BA_plus_25_plus:"0.592652186",Med_HH_inc:"89013",Cost_burdened:"0.545511613",Very_cost_burdened:"0.329566855",Med_housing_value:"712600",Jobs:"3266",Job_density:"6123.284511",Housing_units:"2849",Housing_density:"5341.468944",Permit_density:"1974.22492",Permits_per_capita:"217.5170419",Subsidized_hsg_share:"0.031239031"},{TRACT_ID:"G5300330024302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24302",GEOID:"53033024302",NAME:"243.02",NAMELSAD:"Census Tract 243.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2778562",AWATER:"8215200",INTPTLAT:"47.5926899",INTPTLON:"-122.2449557",Shape_Leng:"11315.65622",Shape_Area:"2778560.41",NHPD_Units:"0",Permits:"196",Pop:"4358",Pop_density:"4062.233697",Non_white_share:"0.273061037",White_non_hisp:"0.726938963",Black_non_hisp:"0",Asian_non_Hisp:"0.197338229",Hispanic:"0.015832951",Workers:"1908",Transit_to_work:"0.103249476",Walk_to_Work:"0.030922432",Bike_to_work:"0.005765199",Green_commute_share:"0.139937107",BA_plus_25_plus:"0.757352941",Med_HH_inc:"188529",Cost_burdened:"0.724517906",Very_cost_burdened:"0.457300275",Med_housing_value:"1602300",Jobs:"374",Job_density:"348.6175775",Housing_units:"1637",Housing_density:"1525.901001",Permit_density:"182.6979818",Permits_per_capita:"44.97475906",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24400",GEOID:"53033024400",NAME:"244",NAMELSAD:"Census Tract 244",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1670874",AWATER:"514968",INTPTLAT:"47.5788389",INTPTLON:"-122.2131521",Shape_Leng:"6615.741976",Shape_Area:"1670875.576",NHPD_Units:"0",Permits:"352",Pop:"3170",Pop_density:"4913.753107",Non_white_share:"0.432176656",White_non_hisp:"0.567823344",Black_non_hisp:"0.010725552",Asian_non_Hisp:"0.300630915",Hispanic:"0.102208202",Workers:"1422",Transit_to_work:"0.191279887",Walk_to_Work:"0.045710267",Bike_to_work:"0.003516174",Green_commute_share:"0.240506329",BA_plus_25_plus:"0.720856102",Med_HH_inc:"108750",Cost_burdened:"0.420157068",Very_cost_burdened:"0.261780105",Med_housing_value:"1098200",Jobs:"1274",Job_density:"1974.801722",Housing_units:"1434",Housing_density:"2222.814497",Permit_density:"545.6281053",Permits_per_capita:"111.0410095",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24500",GEOID:"53033024500",NAME:"245",NAMELSAD:"Census Tract 245",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3838553",AWATER:"1901481",INTPTLAT:"47.5664296",INTPTLON:"-122.2170417",Shape_Leng:"11175.53658",Shape_Area:"3838560.395",NHPD_Units:"0",Permits:"150",Pop:"4987",Pop_density:"3364.880127",Non_white_share:"0.340485262",White_non_hisp:"0.659514738",Black_non_hisp:"0.003609384",Asian_non_Hisp:"0.19089633",Hispanic:"0.037096451",Workers:"2548",Transit_to_work:"0.03689168",Walk_to_Work:"0.030612245",Bike_to_work:"0.004317111",Green_commute_share:"0.071821036",BA_plus_25_plus:"0.802631579",Med_HH_inc:"211395",Cost_burdened:"0.42364532",Very_cost_burdened:"0.147783251",Med_housing_value:"1398500",Jobs:"1264",Job_density:"852.8591298",Housing_units:"1856",Housing_density:"1252.299482",Permit_density:"101.2095486",Permits_per_capita:"30.07820333",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24601",GEOID:"53033024601",NAME:"246.01",NAMELSAD:"Census Tract 246.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3968267",AWATER:"2707956",INTPTLAT:"47.548457",INTPTLON:"-122.2237277",Shape_Leng:"12050.88558",Shape_Area:"3968264.118",NHPD_Units:"0",Permits:"82",Pop:"4797",Pop_density:"3130.881305",Non_white_share:"0.226183031",White_non_hisp:"0.773816969",Black_non_hisp:"0.0022931",Asian_non_Hisp:"0.15822389",Hispanic:"0.013341672",Workers:"2156",Transit_to_work:"0.056122449",Walk_to_Work:"0.003710575",Bike_to_work:"0.002782931",Green_commute_share:"0.062615955",BA_plus_25_plus:"0.862518519",Med_HH_inc:"245278",Cost_burdened:"0.490909091",Very_cost_burdened:"0.2",Med_housing_value:"1558900",Jobs:"290",Job_density:"189.2757095",Housing_units:"1835",Housing_density:"1197.658369",Permit_density:"53.51933855",Permits_per_capita:"17.09401709",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24602",GEOID:"53033024602",NAME:"246.02",NAMELSAD:"Census Tract 246.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2893266",AWATER:"3542006",INTPTLAT:"47.5311198",INTPTLON:"-122.2338107",Shape_Leng:"7980.989405",Shape_Area:"2893263.874",NHPD_Units:"0",Permits:"95",Pop:"3667",Pop_density:"3282.617775",Non_white_share:"0.304335969",White_non_hisp:"0.695664031",Black_non_hisp:"0.001908917",Asian_non_Hisp:"0.196345787",Hispanic:"0.046359422",Workers:"1693",Transit_to_work:"0.052569403",Walk_to_Work:"0.023626698",Bike_to_work:"0.005316007",Green_commute_share:"0.081512109",BA_plus_25_plus:"0.861122009",Med_HH_inc:"250001",Cost_burdened:"0.682539683",Very_cost_burdened:"0",Med_housing_value:"1563000",Jobs:"603",Job_density:"539.7923421",Housing_units:"1275",Housing_density:"1141.351967",Permit_density:"85.04191128",Permits_per_capita:"25.90673575",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24701",GEOID:"53033024701",NAME:"247.01",NAMELSAD:"Census Tract 247.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2637026",AWATER:"0",INTPTLAT:"47.5615487",INTPTLON:"-122.1806659",Shape_Leng:"8717.639621",Shape_Area:"2637029.529",NHPD_Units:"21",Permits:"51",Pop:"3624",Pop_density:"3559.356985",Non_white_share:"0.597682119",White_non_hisp:"0.402317881",Black_non_hisp:"0.067328918",Asian_non_Hisp:"0.41307947",Hispanic:"0.0700883",Workers:"1697",Transit_to_work:"0.071891573",Walk_to_Work:"0.028285209",Bike_to_work:"0",Green_commute_share:"0.100176783",BA_plus_25_plus:"0.525619129",Med_HH_inc:"94866",Cost_burdened:"0.261501211",Very_cost_burdened:"0.181598063",Med_housing_value:"642600",Jobs:"397",Job_density:"389.9185218",Housing_units:"1420",Housing_density:"1394.670783",Permit_density:"50.09028869",Permits_per_capita:"14.07284768",Subsidized_hsg_share:"0.014788732"},{TRACT_ID:"G5300330024703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24703",GEOID:"53033024703",NAME:"247.03",NAMELSAD:"Census Tract 247.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3750917",AWATER:"0",INTPTLAT:"47.5280151",INTPTLON:"-122.1851357",Shape_Leng:"8852.790357",Shape_Area:"3750918.147",NHPD_Units:"0",Permits:"363",Pop:"3902",Pop_density:"2694.310113",Non_white_share:"0.485904664",White_non_hisp:"0.514095336",Black_non_hisp:"0.055868785",Asian_non_Hisp:"0.373910815",Hispanic:"0.00435674",Workers:"2278",Transit_to_work:"0.050921861",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.050921861",BA_plus_25_plus:"0.68534179",Med_HH_inc:"168163",Cost_burdened:"0.287804878",Very_cost_burdened:"0.209756098",Med_housing_value:"756700",Jobs:"291",Job_density:"200.9339423",Housing_units:"1483",Housing_density:"1024.003562",Permit_density:"250.6495569",Permits_per_capita:"93.02921579",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024704",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24704",GEOID:"53033024704",NAME:"247.04",NAMELSAD:"Census Tract 247.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2649459",AWATER:"804870",INTPTLAT:"47.5396112",INTPTLON:"-122.1898817",Shape_Leng:"11569.62911",Shape_Area:"2649457.227",NHPD_Units:"0",Permits:"324",Pop:"4277",Pop_density:"4180.996629",Non_white_share:"0.469487959",White_non_hisp:"0.530512041",Black_non_hisp:"0.022913257",Asian_non_Hisp:"0.211363105",Hispanic:"0.200841711",Workers:"1805",Transit_to_work:"0.052077562",Walk_to_Work:"0.016066482",Bike_to_work:"0",Green_commute_share:"0.068144044",BA_plus_25_plus:"0.594675541",Med_HH_inc:"129755",Cost_burdened:"0.625",Very_cost_burdened:"0.240853659",Med_housing_value:"748100",Jobs:"616",Job_density:"602.1730006",Housing_units:"1485",Housing_density:"1451.667055",Permit_density:"316.7273574",Permits_per_capita:"75.7540332",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24800",GEOID:"53033024800",NAME:"248",NAMELSAD:"Census Tract 248",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3770491",AWATER:"0",INTPTLAT:"47.5743868",INTPTLON:"-122.1520699",Shape_Leng:"12625.25741",Shape_Area:"3770488.996",NHPD_Units:"135",Permits:"130",Pop:"5645",Pop_density:"3877.607156",Non_white_share:"0.522054916",White_non_hisp:"0.477945084",Black_non_hisp:"0.055978742",Asian_non_Hisp:"0.308414526",Hispanic:"0.053675819",Workers:"3132",Transit_to_work:"0.119731801",Walk_to_Work:"0.04916986",Bike_to_work:"0",Green_commute_share:"0.16890166",BA_plus_25_plus:"0.489544895",Med_HH_inc:"104375",Cost_burdened:"0.458429561",Very_cost_burdened:"0.151270208",Med_housing_value:"700500",Jobs:"14959",Job_density:"10275.48724",Housing_units:"2325",Housing_density:"1597.065835",Permit_density:"89.29830474",Permits_per_capita:"23.02922941",Subsidized_hsg_share:"0.058064516"},{TRACT_ID:"G5300330024901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24901",GEOID:"53033024901",NAME:"249.01",NAMELSAD:"Census Tract 249.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3024840",AWATER:"0",INTPTLAT:"47.5633934",INTPTLON:"-122.1568428",Shape_Leng:"8212.850433",Shape_Area:"3024837.187",NHPD_Units:"0",Permits:"65",Pop:"4868",Pop_density:"4168.174886",Non_white_share:"0.604149548",White_non_hisp:"0.395850452",Black_non_hisp:"0.003492194",Asian_non_Hisp:"0.541495481",Hispanic:"0.018898932",Workers:"2422",Transit_to_work:"0.075144509",Walk_to_Work:"0.015276631",Bike_to_work:"0",Green_commute_share:"0.09042114",BA_plus_25_plus:"0.794480329",Med_HH_inc:"167446",Cost_burdened:"0.306532663",Very_cost_burdened:"0.180904523",Med_housing_value:"1096200",Jobs:"749",Job_density:"641.3235393",Housing_units:"1763",Housing_density:"1509.550601",Permit_density:"55.65558085",Permits_per_capita:"13.35250616",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24902",GEOID:"53033024902",NAME:"249.02",NAMELSAD:"Census Tract 249.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2029991",AWATER:"0",INTPTLAT:"47.5653697",INTPTLON:"-122.1337183",Shape_Leng:"8537.575179",Shape_Area:"2029988.575",NHPD_Units:"0",Permits:"99",Pop:"4304",Pop_density:"5491.309482",Non_white_share:"0.523001859",White_non_hisp:"0.476998141",Black_non_hisp:"0.032063197",Asian_non_Hisp:"0.32527881",Hispanic:"0.093401487",Workers:"2046",Transit_to_work:"0.089442815",Walk_to_Work:"0.015151515",Bike_to_work:"0",Green_commute_share:"0.10459433",BA_plus_25_plus:"0.717047452",Med_HH_inc:"169291",Cost_burdened:"0.162601626",Very_cost_burdened:"0.032520325",Med_housing_value:"930300",Jobs:"141",Job_density:"179.8965235",Housing_units:"1432",Housing_density:"1827.034196",Permit_density:"126.310325",Permits_per_capita:"23.00185874",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024904",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24904",GEOID:"53033024904",NAME:"249.04",NAMELSAD:"Census Tract 249.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2083512",AWATER:"0",INTPTLAT:"47.5461877",INTPTLON:"-122.1463703",Shape_Leng:"9941.10611",Shape_Area:"2083514.19",NHPD_Units:"0",Permits:"7",Pop:"3012",Pop_density:"3744.180109",Non_white_share:"0.689243028",White_non_hisp:"0.310756972",Black_non_hisp:"0.003320053",Asian_non_Hisp:"0.64309429",Hispanic:"0.008300133",Workers:"1389",Transit_to_work:"0.028797696",Walk_to_Work:"0.003599712",Bike_to_work:"0",Green_commute_share:"0.032397408",BA_plus_25_plus:"0.74784689",Med_HH_inc:"189839",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"1012900",Jobs:"91",Job_density:"113.1209794",Housing_units:"1077",Housing_density:"1338.805438",Permit_density:"8.7016138",Permits_per_capita:"2.324037185",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330024905",STATEFP:"53",COUNTYFP:"33",TRACTCE:"24905",GEOID:"53033024905",NAME:"249.05",NAMELSAD:"Census Tract 249.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2880072",AWATER:"0",INTPTLAT:"47.5542223",INTPTLON:"-122.1375616",Shape_Leng:"10485.90181",Shape_Area:"2880065.914",NHPD_Units:"0",Permits:"175",Pop:"3718",Pop_density:"3343.519118",Non_white_share:"0.559709521",White_non_hisp:"0.440290479",Black_non_hisp:"0",Asian_non_Hisp:"0.46422808",Hispanic:"0.069123185",Workers:"1442",Transit_to_work:"0.076976422",Walk_to_Work:"0.002080444",Bike_to_work:"0",Green_commute_share:"0.079056865",BA_plus_25_plus:"0.834710744",Med_HH_inc:"223686",Cost_burdened:"0.51",Very_cost_burdened:"0.24",Med_housing_value:"959300",Jobs:"350",Job_density:"314.7476308",Housing_units:"1479",Housing_density:"1330.03356",Permit_density:"157.3738154",Permits_per_capita:"47.0683163",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25001",GEOID:"53033025001",NAME:"250.01",NAMELSAD:"Census Tract 250.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3696779",AWATER:"28798",INTPTLAT:"47.5379558",INTPTLON:"-122.1689468",Shape_Leng:"12402.73546",Shape_Area:"3725570.517",NHPD_Units:"0",Permits:"368",Pop:"6032",Pop_density:"4226.059573",Non_white_share:"0.556697613",White_non_hisp:"0.443302387",Black_non_hisp:"0.021717507",Asian_non_Hisp:"0.294927056",Hispanic:"0.079741379",Workers:"2787",Transit_to_work:"0.065303193",Walk_to_Work:"0.013993541",Bike_to_work:"0.004305705",Green_commute_share:"0.08360244",BA_plus_25_plus:"0.776279707",Med_HH_inc:"162826",Cost_burdened:"0.441758242",Very_cost_burdened:"0.243956044",Med_housing_value:"704700",Jobs:"1211",Job_density:"848.4347053",Housing_units:"2440",Housing_density:"1709.480331",Permit_density:"257.8232631",Permits_per_capita:"61.00795756",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025005",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25005",GEOID:"53033025005",NAME:"250.05",NAMELSAD:"Census Tract 250.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7684828",AWATER:"0",INTPTLAT:"47.5306824",INTPTLON:"-122.1466867",Shape_Leng:"12643.95664",Shape_Area:"7684824.985",NHPD_Units:"0",Permits:"1820",Pop:"5346",Pop_density:"1801.741879",Non_white_share:"0.538346427",White_non_hisp:"0.461653573",Black_non_hisp:"0.019640853",Asian_non_Hisp:"0.369996259",Hispanic:"0.040216985",Workers:"2705",Transit_to_work:"0.036598891",Walk_to_Work:"0.016266174",Bike_to_work:"0.002957486",Green_commute_share:"0.055822551",BA_plus_25_plus:"0.744348762",Med_HH_inc:"142969",Cost_burdened:"0.393034826",Very_cost_burdened:"0.177446103",Med_housing_value:"978700",Jobs:"1228",Job_density:"413.8681307",Housing_units:"2260",Housing_density:"761.6791331",Permit_density:"613.3876205",Permits_per_capita:"340.4414516",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025006",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25006",GEOID:"53033025006",NAME:"250.06",NAMELSAD:"Census Tract 250.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22409780",AWATER:"0",INTPTLAT:"47.5269279",INTPTLON:"-122.0986626",Shape_Leng:"21357.74394",Shape_Area:"22409778.73",NHPD_Units:"51",Permits:"1972",Pop:"6201",Pop_density:"716.6744284",Non_white_share:"0.399935494",White_non_hisp:"0.600064506",Black_non_hisp:"0",Asian_non_Hisp:"0.318658281",Hispanic:"0.038380906",Workers:"3334",Transit_to_work:"0.074685063",Walk_to_Work:"0.021295741",Bike_to_work:"0",Green_commute_share:"0.095980804",BA_plus_25_plus:"0.714832321",Med_HH_inc:"153566",Cost_burdened:"0.402420575",Very_cost_burdened:"0.246596067",Med_housing_value:"888400",Jobs:"727",Job_density:"84.02230438",Housing_units:"2634",Housing_density:"304.4219391",Permit_density:"227.9119453",Permits_per_capita:"318.0132237",Subsidized_hsg_share:"0.019362187"},{TRACT_ID:"G5300330025007",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25007",GEOID:"53033025007",NAME:"250.07",NAMELSAD:"Census Tract 250.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4176855",AWATER:"0",INTPTLAT:"47.5529149",INTPTLON:"-122.1054184",Shape_Leng:"11490.56974",Shape_Area:"4176850.545",NHPD_Units:"0",Permits:"197",Pop:"4405",Pop_density:"2731.456473",Non_white_share:"0.496254257",White_non_hisp:"0.503745743",Black_non_hisp:"0.015209989",Asian_non_Hisp:"0.352553916",Hispanic:"0.086946652",Workers:"2591",Transit_to_work:"0.062910073",Walk_to_Work:"0",Bike_to_work:"0.006947125",Green_commute_share:"0.069857198",BA_plus_25_plus:"0.720092915",Med_HH_inc:"145850",Cost_burdened:"0.557823129",Very_cost_burdened:"0.178571429",Med_housing_value:"1226900",Jobs:"326",Job_density:"202.1463814",Housing_units:"1821",Housing_density:"1129.167364",Permit_density:"122.1559421",Permits_per_capita:"44.72190692",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025008",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25008",GEOID:"53033025008",NAME:"250.08",NAMELSAD:"Census Tract 250.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2260533",AWATER:"0",INTPTLAT:"47.5638066",INTPTLON:"-122.1122579",Shape_Leng:"7317.483106",Shape_Area:"2260533.82",NHPD_Units:"0",Permits:"68",Pop:"2289",Pop_density:"2622.603954",Non_white_share:"0.420270861",White_non_hisp:"0.579729139",Black_non_hisp:"0.014853648",Asian_non_Hisp:"0.30406291",Hispanic:"0.091743119",Workers:"950",Transit_to_work:"0.052631579",Walk_to_Work:"0.015789474",Bike_to_work:"0",Green_commute_share:"0.068421053",BA_plus_25_plus:"0.761156505",Med_HH_inc:"173828",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"1079900",Jobs:"130",Job_density:"148.9464893",Housing_units:"854",Housing_density:"978.4638606",Permit_density:"77.91047134",Permits_per_capita:"29.70729576",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25101",GEOID:"53033025101",NAME:"251.01",NAMELSAD:"Census Tract 251.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2935516",AWATER:"0",INTPTLAT:"47.509392",INTPTLON:"-122.1549957",Shape_Leng:"7678.295325",Shape_Area:"2935514.511",NHPD_Units:"0",Permits:"338",Pop:"6635",Pop_density:"5854.020592",Non_white_share:"0.460437076",White_non_hisp:"0.539562924",Black_non_hisp:"0.049886963",Asian_non_Hisp:"0.212057272",Hispanic:"0.11137905",Workers:"3552",Transit_to_work:"0.086711712",Walk_to_Work:"0.009853604",Bike_to_work:"0",Green_commute_share:"0.096565315",BA_plus_25_plus:"0.413793103",Med_HH_inc:"87227",Cost_burdened:"0.491118077",Very_cost_burdened:"0.23092999",Med_housing_value:"573100",Jobs:"525",Job_density:"463.2043422",Housing_units:"2142",Housing_density:"1889.873716",Permit_density:"298.215367",Permits_per_capita:"50.94197438",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025103",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25103",GEOID:"53033025103",NAME:"251.03",NAMELSAD:"Census Tract 251.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1599178",AWATER:"0",INTPTLAT:"47.4947076",INTPTLON:"-122.1557587",Shape_Leng:"6372.394303",Shape_Area:"1599178.106",NHPD_Units:"11",Permits:"743",Pop:"4135",Pop_density:"6696.941076",Non_white_share:"0.603143894",White_non_hisp:"0.396856106",Black_non_hisp:"0.043288996",Asian_non_Hisp:"0.40362757",Hispanic:"0.087061669",Workers:"2376",Transit_to_work:"0.088804714",Walk_to_Work:"0.023569024",Bike_to_work:"0.005050505",Green_commute_share:"0.117424242",BA_plus_25_plus:"0.431135658",Med_HH_inc:"102088",Cost_burdened:"0.384615385",Very_cost_burdened:"0.242788462",Med_housing_value:"549900",Jobs:"992",Job_density:"1606.618028",Housing_units:"1516",Housing_density:"2455.275132",Permit_density:"1203.343947",Permits_per_capita:"179.6856106",Subsidized_hsg_share:"0.007255937"},{TRACT_ID:"G5300330025104",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25104",GEOID:"53033025104",NAME:"251.04",NAMELSAD:"Census Tract 251.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4632994",AWATER:"0",INTPTLAT:"47.4992681",INTPTLON:"-122.1355354",Shape_Leng:"9534.035804",Shape_Area:"4632997.574",NHPD_Units:"0",Permits:"748",Pop:"4386",Pop_density:"2451.910763",Non_white_share:"0.606475148",White_non_hisp:"0.393524852",Black_non_hisp:"0.048107615",Asian_non_Hisp:"0.382808938",Hispanic:"0.028499772",Workers:"2003",Transit_to_work:"0.05341987",Walk_to_Work:"0.055916126",Bike_to_work:"0",Green_commute_share:"0.109335996",BA_plus_25_plus:"0.468386628",Med_HH_inc:"128516",Cost_burdened:"0.085470085",Very_cost_burdened:"0.085470085",Med_housing_value:"633800",Jobs:"255",Job_density:"142.5529513",Housing_units:"1376",Housing_density:"769.2269059",Permit_density:"418.1553239",Permits_per_capita:"170.5426357",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25201",GEOID:"53033025201",NAME:"252.01",NAMELSAD:"Census Tract 252.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1699715",AWATER:"0",INTPTLAT:"47.5078428",INTPTLON:"-122.1923034",Shape_Leng:"7588.067604",Shape_Area:"1699716.088",NHPD_Units:"0",Permits:"333",Pop:"4182",Pop_density:"6372.439072",Non_white_share:"0.445719751",White_non_hisp:"0.554280249",Black_non_hisp:"0.005499761",Asian_non_Hisp:"0.31037781",Hispanic:"0.115734099",Workers:"2000",Transit_to_work:"0.0265",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.0265",BA_plus_25_plus:"0.403135889",Med_HH_inc:"98750",Cost_burdened:"0.712643678",Very_cost_burdened:"0.522988506",Med_housing_value:"514700",Jobs:"105",Job_density:"159.9966768",Housing_units:"1576",Housing_density:"2401.473931",Permit_density:"507.4180323",Permits_per_capita:"79.62697274",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25202",GEOID:"53033025202",NAME:"252.02",NAMELSAD:"Census Tract 252.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2767327",AWATER:"0",INTPTLAT:"47.5121074",INTPTLON:"-122.1764378",Shape_Leng:"8785.790758",Shape_Area:"2767319.228",NHPD_Units:"298",Permits:"340",Pop:"4771",Pop_density:"4465.259535",Non_white_share:"0.579962272",White_non_hisp:"0.420037728",Black_non_hisp:"0.020750367",Asian_non_Hisp:"0.186753301",Hispanic:"0.276881157",Workers:"2615",Transit_to_work:"0.065774379",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.065774379",BA_plus_25_plus:"0.333429229",Med_HH_inc:"99508",Cost_burdened:"0.506313131",Very_cost_burdened:"0.151515152",Med_housing_value:"446600",Jobs:"345",Job_density:"322.8913309",Housing_units:"1853",Housing_density:"1734.254018",Permit_density:"318.2117464",Permits_per_capita:"71.26388598",Subsidized_hsg_share:"0.160820291"},{TRACT_ID:"G5300330025302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25302",GEOID:"53033025302",NAME:"253.02",NAMELSAD:"Census Tract 253.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4025029",AWATER:"2443067",INTPTLAT:"47.4920105",INTPTLON:"-122.2153547",Shape_Leng:"15125.99376",Shape_Area:"4025026.249",NHPD_Units:"507",Permits:"1310",Pop:"4818",Pop_density:"3100.241692",Non_white_share:"0.568700706",White_non_hisp:"0.431299294",Black_non_hisp:"0.185139062",Asian_non_Hisp:"0.138854296",Hispanic:"0.119136571",Workers:"2108",Transit_to_work:"0.106736243",Walk_to_Work:"0.047912713",Bike_to_work:"0.013282732",Green_commute_share:"0.167931689",BA_plus_25_plus:"0.284111662",Med_HH_inc:"44940",Cost_burdened:"0.542319749",Very_cost_burdened:"0.302731751",Med_housing_value:"330200",Jobs:"9249",Job_density:"5951.460233",Housing_units:"2837",Housing_density:"1825.526293",Permit_density:"842.9465786",Permits_per_capita:"271.8970527",Subsidized_hsg_share:"0.178709905"},{TRACT_ID:"G5300330025303",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25303",GEOID:"53033025303",NAME:"253.03",NAMELSAD:"Census Tract 253.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1888021",AWATER:"0",INTPTLAT:"47.4913584",INTPTLON:"-122.1998442",Shape_Leng:"6419.028828",Shape_Area:"1888020.366",NHPD_Units:"74",Permits:"994",Pop:"2328",Pop_density:"3193.551513",Non_white_share:"0.521907216",White_non_hisp:"0.478092784",Black_non_hisp:"0.070446735",Asian_non_Hisp:"0.172250859",Hispanic:"0.186426117",Workers:"1708",Transit_to_work:"0.141686183",Walk_to_Work:"0.072014052",Bike_to_work:"0",Green_commute_share:"0.213700234",BA_plus_25_plus:"0.448275862",Med_HH_inc:"73021",Cost_burdened:"0.446251129",Very_cost_burdened:"0.313459801",Med_housing_value:"361800",Jobs:"16242",Job_density:"22280.78336",Housing_units:"1410",Housing_density:"1934.238674",Permit_density:"1363.569675",Permits_per_capita:"426.975945",Subsidized_hsg_share:"0.05248227"},{TRACT_ID:"G5300330025304",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25304",GEOID:"53033025304",NAME:"253.04",NAMELSAD:"Census Tract 253.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1854877",AWATER:"2019824",INTPTLAT:"47.5178634",INTPTLON:"-122.2078846",Shape_Leng:"7522.786594",Shape_Area:"1854877.26",NHPD_Units:"0",Permits:"550",Pop:"4286",Pop_density:"5984.595766",Non_white_share:"0.418338777",White_non_hisp:"0.581661223",Black_non_hisp:"0.049930005",Asian_non_Hisp:"0.234717685",Hispanic:"0.048063462",Workers:"2829",Transit_to_work:"0.028985507",Walk_to_Work:"0.056910569",Bike_to_work:"0",Green_commute_share:"0.085896076",BA_plus_25_plus:"0.478090057",Med_HH_inc:"124634",Cost_burdened:"0.257756563",Very_cost_burdened:"0.066825776",Med_housing_value:"777800",Jobs:"389",Job_density:"543.165598",Housing_units:"1702",Housing_density:"2376.52403",Permit_density:"767.9719252",Permits_per_capita:"128.3247783",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25401",GEOID:"53033025401",NAME:"254.01",NAMELSAD:"Census Tract 254.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1199148",AWATER:"0",INTPTLAT:"47.4977587",INTPTLON:"-122.1813358",Shape_Leng:"5528.970461",Shape_Area:"1199144.105",NHPD_Units:"507",Permits:"447",Pop:"3738",Pop_density:"8073.545181",Non_white_share:"0.646869984",White_non_hisp:"0.353130016",Black_non_hisp:"0.054307116",Asian_non_Hisp:"0.13670412",Hispanic:"0.385500268",Workers:"1986",Transit_to_work:"0.041792548",Walk_to_Work:"0.017119839",Bike_to_work:"0",Green_commute_share:"0.058912387",BA_plus_25_plus:"0.37352071",Med_HH_inc:"61596",Cost_burdened:"0.460869565",Very_cost_burdened:"0.184541063",Med_housing_value:"345900",Jobs:"751",Job_density:"1622.05255",Housing_units:"1774",Housing_density:"3831.586183",Permit_density:"965.4560449",Permits_per_capita:"119.5826645",Subsidized_hsg_share:"0.285794814"},{TRACT_ID:"G5300330025402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25402",GEOID:"53033025402",NAME:"254.02",NAMELSAD:"Census Tract 254.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1101467",AWATER:"0",INTPTLAT:"47.4910343",INTPTLON:"-122.1867087",Shape_Leng:"4608.227099",Shape_Area:"1101466.969",NHPD_Units:"60",Permits:"61",Pop:"3600",Pop_density:"8465.035446",Non_white_share:"0.5875",White_non_hisp:"0.4125",Black_non_hisp:"0.075277778",Asian_non_Hisp:"0.235",Hispanic:"0.233333333",Workers:"2144",Transit_to_work:"0.063432836",Walk_to_Work:"0.007462687",Bike_to_work:"0",Green_commute_share:"0.070895522",BA_plus_25_plus:"0.22124219",Med_HH_inc:"81011",Cost_burdened:"0.438818565",Very_cost_burdened:"0.155063291",Med_housing_value:"428500",Jobs:"218",Job_density:"512.6049242",Housing_units:"1448",Housing_density:"3404.825368",Permit_density:"143.4353228",Permits_per_capita:"16.94444444",Subsidized_hsg_share:"0.041436464"},{TRACT_ID:"G5300330025500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25500",GEOID:"53033025500",NAME:"255",NAMELSAD:"Census Tract 255",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1525774",AWATER:"0",INTPTLAT:"47.4970782",INTPTLON:"-122.1699572",Shape_Leng:"5448.796009",Shape_Area:"1525771.453",NHPD_Units:"12",Permits:"255",Pop:"5263",Pop_density:"8933.896779",Non_white_share:"0.654379631",White_non_hisp:"0.345620369",Black_non_hisp:"0.095762873",Asian_non_Hisp:"0.244917348",Hispanic:"0.276648299",Workers:"2861",Transit_to_work:"0.083187697",Walk_to_Work:"0.032506117",Bike_to_work:"0",Green_commute_share:"0.115693813",BA_plus_25_plus:"0.315774805",Med_HH_inc:"70706",Cost_burdened:"0.497497497",Very_cost_burdened:"0.233233233",Med_housing_value:"387100",Jobs:"599",Job_density:"1016.797296",Housing_units:"2061",Housing_density:"3498.529596",Permit_density:"432.8602848",Permits_per_capita:"48.45145354",Subsidized_hsg_share:"0.005822416"},{TRACT_ID:"G5300330025601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25601",GEOID:"53033025601",NAME:"256.01",NAMELSAD:"Census Tract 256.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2809358",AWATER:"0",INTPTLAT:"47.4828415",INTPTLON:"-122.1749934",Shape_Leng:"7947.508458",Shape_Area:"2809356.14",NHPD_Units:"0",Permits:"799",Pop:"5182",Pop_density:"4777.361371",Non_white_share:"0.593207256",White_non_hisp:"0.406792744",Black_non_hisp:"0.021613277",Asian_non_Hisp:"0.262446932",Hispanic:"0.190467001",Workers:"2625",Transit_to_work:"0.043428571",Walk_to_Work:"0.01447619",Bike_to_work:"0",Green_commute_share:"0.057904762",BA_plus_25_plus:"0.305337079",Med_HH_inc:"70618",Cost_burdened:"0.528771384",Very_cost_burdened:"0.133748056",Med_housing_value:"390300",Jobs:"887",Job_density:"817.7382355",Housing_units:"1895",Housing_density:"1747.028136",Permit_density:"736.6097522",Permits_per_capita:"154.1875724",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25602",GEOID:"53033025602",NAME:"256.02",NAMELSAD:"Census Tract 256.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5269483",AWATER:"0",INTPTLAT:"47.4777777",INTPTLON:"-122.149199",Shape_Leng:"11623.77179",Shape_Area:"5269480.979",NHPD_Units:"0",Permits:"1173",Pop:"6479",Pop_density:"3184.474258",Non_white_share:"0.543293718",White_non_hisp:"0.456706282",Black_non_hisp:"0.01605186",Asian_non_Hisp:"0.35483871",Hispanic:"0.093378608",Workers:"3548",Transit_to_work:"0.038895152",Walk_to_Work:"0.008455468",Bike_to_work:"0",Green_commute_share:"0.04735062",BA_plus_25_plus:"0.418063939",Med_HH_inc:"131509",Cost_burdened:"0.048780488",Very_cost_burdened:"0.048780488",Med_housing_value:"593200",Jobs:"537",Job_density:"263.9392926",Housing_units:"2155",Housing_density:"1059.19772",Permit_density:"576.5377843",Permits_per_capita:"181.0464578",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25702",GEOID:"53033025702",NAME:"257.02",NAMELSAD:"Census Tract 257.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2782780",AWATER:"0",INTPTLAT:"47.4635505",INTPTLON:"-122.164279",Shape_Leng:"8569.53872",Shape_Area:"2782782.89",NHPD_Units:"0",Permits:"67",Pop:"3203",Pop_density:"2981.095134",Non_white_share:"0.392132376",White_non_hisp:"0.607867624",Black_non_hisp:"0.08460818",Asian_non_Hisp:"0.16921636",Hispanic:"0.075554168",Workers:"1731",Transit_to_work:"0.057192374",Walk_to_Work:"0.001733102",Bike_to_work:"0",Green_commute_share:"0.058925477",BA_plus_25_plus:"0.375110327",Med_HH_inc:"100347",Cost_burdened:"0.417670683",Very_cost_burdened:"0.321285141",Med_housing_value:"402300",Jobs:"82",Job_density:"76.31901374",Housing_units:"1156",Housing_density:"1075.91195",Permit_density:"62.35821854",Permits_per_capita:"20.91788948",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25703",GEOID:"53033025703",NAME:"257.03",NAMELSAD:"Census Tract 257.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"944219",AWATER:"0",INTPTLAT:"47.465953",INTPTLON:"-122.1987897",Shape_Leng:"4201.749846",Shape_Area:"944217.9567",NHPD_Units:"0",Permits:"298",Pop:"3378",Pop_density:"9265.837519",Non_white_share:"0.611308467",White_non_hisp:"0.388691533",Black_non_hisp:"0.207223209",Asian_non_Hisp:"0.148608644",Hispanic:"0.126998224",Workers:"2240",Transit_to_work:"0.064285714",Walk_to_Work:"0.015625",Bike_to_work:"0",Green_commute_share:"0.079910714",BA_plus_25_plus:"0.36597737",Med_HH_inc:"72449",Cost_burdened:"0.448331977",Very_cost_burdened:"0.207485761",Med_housing_value:"339300",Jobs:"472",Job_density:"1294.693697",Housing_units:"1640",Housing_density:"4498.511999",Permit_density:"817.4125461",Permits_per_capita:"88.2178804",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025704",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25704",GEOID:"53033025704",NAME:"257.04",NAMELSAD:"Census Tract 257.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2923198",AWATER:"0",INTPTLAT:"47.4735006",INTPTLON:"-122.1884561",Shape_Leng:"8244.360551",Shape_Area:"2923198.377",NHPD_Units:"284",Permits:"273",Pop:"3529",Pop_density:"3126.73587",Non_white_share:"0.439217909",White_non_hisp:"0.560782091",Black_non_hisp:"0.081892888",Asian_non_Hisp:"0.041938226",Hispanic:"0.29611788",Workers:"1471",Transit_to_work:"0.112168593",Walk_to_Work:"0.018354861",Bike_to_work:"0",Green_commute_share:"0.130523453",BA_plus_25_plus:"0.32335958",Med_HH_inc:"59052",Cost_burdened:"0.292587776",Very_cost_burdened:"0.045513654",Med_housing_value:"528600",Jobs:"475",Job_density:"420.8556356",Housing_units:"1312",Housing_density:"1162.447566",Permit_density:"241.881239",Permits_per_capita:"77.35902522",Subsidized_hsg_share:"0.216463415"},{TRACT_ID:"G5300330025803",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25803",GEOID:"53033025803",NAME:"258.03",NAMELSAD:"Census Tract 258.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1343483",AWATER:"0",INTPTLAT:"47.4503896",INTPTLON:"-122.178457",Shape_Leng:"5099.643607",Shape_Area:"1343483.951",NHPD_Units:"196",Permits:"288",Pop:"4518",Pop_density:"8709.872981",Non_white_share:"0.574811864",White_non_hisp:"0.425188136",Black_non_hisp:"0.114652501",Asian_non_Hisp:"0.090305445",Hispanic:"0.245905268",Workers:"2580",Transit_to_work:"0.08255814",Walk_to_Work:"0.03372093",Bike_to_work:"0.004263566",Green_commute_share:"0.120542636",BA_plus_25_plus:"0.221461187",Med_HH_inc:"69916",Cost_burdened:"0.522321429",Very_cost_burdened:"0.214285714",Med_housing_value:"331000",Jobs:"126",Job_density:"242.9048242",Housing_units:"1846",Housing_density:"3558.748456",Permit_density:"555.2110267",Permits_per_capita:"63.74501992",Subsidized_hsg_share:"0.106175515"},{TRACT_ID:"G5300330025804",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25804",GEOID:"53033025804",NAME:"258.04",NAMELSAD:"Census Tract 258.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2364694",AWATER:"0",INTPTLAT:"47.454782",INTPTLON:"-122.1691753",Shape_Leng:"8677.907853",Shape_Area:"2364691.653",NHPD_Units:"0",Permits:"4",Pop:"3479",Pop_density:"3810.45862",Non_white_share:"0.342627192",White_non_hisp:"0.657372808",Black_non_hisp:"0.062949123",Asian_non_Hisp:"0.120149468",Hispanic:"0.073584363",Workers:"1818",Transit_to_work:"0.034653465",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.034653465",BA_plus_25_plus:"0.237109216",Med_HH_inc:"80101",Cost_burdened:"0.508896797",Very_cost_burdened:"0.427046263",Med_housing_value:"352300",Jobs:"88",Job_density:"96.38412146",Housing_units:"1335",Housing_density:"1462.190933",Permit_density:"4.38109643",Permits_per_capita:"1.149755677",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330025805",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25805",GEOID:"53033025805",NAME:"258.05",NAMELSAD:"Census Tract 258.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2427753",AWATER:"0",INTPTLAT:"47.4546858",INTPTLON:"-122.1937967",Shape_Leng:"7068.26355",Shape_Area:"2427752.618",NHPD_Units:"12",Permits:"427",Pop:"5174",Pop_density:"5519.75365",Non_white_share:"0.493428682",White_non_hisp:"0.506571318",Black_non_hisp:"0.089485891",Asian_non_Hisp:"0.22980286",Hispanic:"0.132779281",Workers:"3076",Transit_to_work:"0.099804941",Walk_to_Work:"0.006501951",Bike_to_work:"0.005526658",Green_commute_share:"0.11183355",BA_plus_25_plus:"0.312101911",Med_HH_inc:"70575",Cost_burdened:"0.512339585",Very_cost_burdened:"0.286278381",Med_housing_value:"312500",Jobs:"377",Job_density:"402.1931051",Housing_units:"2231",Housing_density:"2380.087049",Permit_density:"455.5343658",Permits_per_capita:"82.52802474",Subsidized_hsg_share:"0.005378754"},{TRACT_ID:"G5300330025806",STATEFP:"53",COUNTYFP:"33",TRACTCE:"25806",GEOID:"53033025806",NAME:"258.06",NAMELSAD:"Census Tract 258.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2936653",AWATER:"150317",INTPTLAT:"47.4550034",INTPTLON:"-122.2107374",Shape_Leng:"8849.139554",Shape_Area:"3086970.277",NHPD_Units:"77",Permits:"439",Pop:"5033",Pop_density:"4438.866342",Non_white_share:"0.590105305",White_non_hisp:"0.409894695",Black_non_hisp:"0.152990264",Asian_non_Hisp:"0.263659845",Hispanic:"0.076495132",Workers:"2407",Transit_to_work:"0.107602825",Walk_to_Work:"0.022019111",Bike_to_work:"0",Green_commute_share:"0.129621936",BA_plus_25_plus:"0.377632328",Med_HH_inc:"91406",Cost_burdened:"0.344192635",Very_cost_burdened:"0.194050992",Med_housing_value:"451600",Jobs:"5310",Job_density:"4683.167152",Housing_units:"1869",Housing_density:"1648.369003",Permit_density:"387.177096",Permits_per_capita:"87.22431949",Subsidized_hsg_share:"0.041198502"},{TRACT_ID:"G5300330026001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26001",GEOID:"53033026001",NAME:"260.01",NAMELSAD:"Census Tract 260.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2660203",AWATER:"0",INTPTLAT:"47.4988699",INTPTLON:"-122.2358957",Shape_Leng:"8663.26737",Shape_Area:"2660203.271",NHPD_Units:"0",Permits:"182",Pop:"5464",Pop_density:"5319.78012",Non_white_share:"0.612005857",White_non_hisp:"0.387994143",Black_non_hisp:"0.251464129",Asian_non_Hisp:"0.200219619",Hispanic:"0.075585652",Workers:"2981",Transit_to_work:"0.078497149",Walk_to_Work:"0.003690037",Bike_to_work:"0",Green_commute_share:"0.082187186",BA_plus_25_plus:"0.384174038",Med_HH_inc:"103818",Cost_burdened:"0.446280992",Very_cost_burdened:"0.32231405",Med_housing_value:"483800",Jobs:"245",Job_density:"238.5333326",Housing_units:"2235",Housing_density:"2176.008157",Permit_density:"177.1961899",Permits_per_capita:"33.30893119",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330026003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26003",GEOID:"53033026003",NAME:"260.03",NAMELSAD:"Census Tract 260.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1133278",AWATER:"1607",INTPTLAT:"47.4792093",INTPTLON:"-122.2424677",Shape_Leng:"6511.122162",Shape_Area:"1134888.637",NHPD_Units:"476",Permits:"539",Pop:"3636",Pop_density:"8309.696976",Non_white_share:"0.803630363",White_non_hisp:"0.196369637",Black_non_hisp:"0.499724972",Asian_non_Hisp:"0.144114411",Hispanic:"0.101210121",Workers:"1814",Transit_to_work:"0.110253583",Walk_to_Work:"0.017089305",Bike_to_work:"0",Green_commute_share:"0.127342889",BA_plus_25_plus:"0.263157895",Med_HH_inc:"51904",Cost_burdened:"0.611012433",Very_cost_burdened:"0.325044405",Med_housing_value:"319200",Jobs:"111",Job_density:"253.6788681",Housing_units:"1627",Housing_density:"3718.338003",Permit_density:"1231.828017",Permits_per_capita:"148.239824",Subsidized_hsg_share:"0.292562999"},{TRACT_ID:"G5300330026004",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26004",GEOID:"53033026004",NAME:"260.04",NAMELSAD:"Census Tract 260.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1634546",AWATER:"0",INTPTLAT:"47.4905387",INTPTLON:"-122.2230349",Shape_Leng:"6366.124731",Shape_Area:"1634547.558",NHPD_Units:"0",Permits:"188",Pop:"4009",Pop_density:"6352.383068",Non_white_share:"0.634322774",White_non_hisp:"0.365677226",Black_non_hisp:"0.16138688",Asian_non_Hisp:"0.324020953",Hispanic:"0.066849588",Workers:"2022",Transit_to_work:"0.069238378",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.069238378",BA_plus_25_plus:"0.281107393",Med_HH_inc:"84717",Cost_burdened:"0.372848948",Very_cost_burdened:"0.296367113",Med_housing_value:"468000",Jobs:"673",Job_density:"1066.389076",Housing_units:"1565",Housing_density:"2479.790347",Permit_density:"297.8917478",Permits_per_capita:"46.8944874",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330026101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26101",GEOID:"53033026101",NAME:"261.01",NAMELSAD:"Census Tract 261.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2706291",AWATER:"7108",INTPTLAT:"47.4871294",INTPTLON:"-122.2513766",Shape_Leng:"9900.09377",Shape_Area:"2713397.115",NHPD_Units:"0",Permits:"429",Pop:"4372",Pop_density:"4184.113245",Non_white_share:"0.752058554",White_non_hisp:"0.247941446",Black_non_hisp:"0.210658737",Asian_non_Hisp:"0.330512351",Hispanic:"0.130603843",Workers:"2570",Transit_to_work:"0.205447471",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.205447471",BA_plus_25_plus:"0.288467069",Med_HH_inc:"63867",Cost_burdened:"0.419631902",Very_cost_burdened:"0.106748466",Med_housing_value:"440300",Jobs:"299",Job_density:"286.1504712",Housing_units:"1611",Housing_density:"1541.767255",Permit_density:"410.5637196",Permits_per_capita:"98.12442818",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330026102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26102",GEOID:"53033026102",NAME:"261.02",NAMELSAD:"Census Tract 261.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1576655",AWATER:"0",INTPTLAT:"47.4949418",INTPTLON:"-122.2498458",Shape_Leng:"5901.936918",Shape_Area:"1576655.278",NHPD_Units:"312",Permits:"71",Pop:"4009",Pop_density:"6585.627378",Non_white_share:"0.656522824",White_non_hisp:"0.343477176",Black_non_hisp:"0.09279122",Asian_non_Hisp:"0.358692941",Hispanic:"0.101022699",Workers:"2065",Transit_to_work:"0.134624697",Walk_to_Work:"0",Bike_to_work:"0.008232446",Green_commute_share:"0.142857143",BA_plus_25_plus:"0.266829438",Med_HH_inc:"57500",Cost_burdened:"0.768976898",Very_cost_burdened:"0.633663366",Med_housing_value:"358600",Jobs:"399",Job_density:"655.4415874",Housing_units:"1511",Housing_density:"2482.135936",Permit_density:"116.6324629",Permits_per_capita:"17.71015216",Subsidized_hsg_share:"0.206485771"},{TRACT_ID:"G5300330026200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26200",GEOID:"53033026200",NAME:"262",NAMELSAD:"Census Tract 262",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15386966",AWATER:"508436",INTPTLAT:"47.4591441",INTPTLON:"-122.2435898",Shape_Leng:"17654.32431",Shape_Area:"15895399.13",NHPD_Units:"114",Permits:"83",Pop:"5802",Pop_density:"976.6129993",Non_white_share:"0.684936229",White_non_hisp:"0.315063771",Black_non_hisp:"0.13753878",Asian_non_Hisp:"0.163047225",Hispanic:"0.282661151",Workers:"3609",Transit_to_work:"0.094486007",Walk_to_Work:"0.008312552",Bike_to_work:"0",Green_commute_share:"0.102798559",BA_plus_25_plus:"0.293207024",Med_HH_inc:"64691",Cost_burdened:"0.420221169",Very_cost_burdened:"0.155871511",Med_housing_value:"214200",Jobs:"47393",Job_density:"7977.356063",Housing_units:"2560",Housing_density:"430.9081831",Permit_density:"13.97085125",Permits_per_capita:"14.30541193",Subsidized_hsg_share:"0.04453125"},{TRACT_ID:"G5300330026300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26300",GEOID:"53033026300",NAME:"263",NAMELSAD:"Census Tract 263",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4224982",AWATER:"323989",INTPTLAT:"47.5036921",INTPTLON:"-122.2847033",Shape_Leng:"14765.10679",Shape_Area:"4548970.439",NHPD_Units:"0",Permits:"124",Pop:"1574",Pop_density:"964.8896222",Non_white_share:"0.766200762",White_non_hisp:"0.233799238",Black_non_hisp:"0.110546379",Asian_non_Hisp:"0.475857687",Hispanic:"0.066709022",Workers:"620",Transit_to_work:"0.075806452",Walk_to_Work:"0",Bike_to_work:"0.011290323",Green_commute_share:"0.087096774",BA_plus_25_plus:"0.190847128",Med_HH_inc:"67250",Cost_burdened:"0.502487562",Very_cost_burdened:"0.328358209",Med_housing_value:"372600",Jobs:"5969",Job_density:"3659.10175",Housing_units:"541",Housing_density:"331.642494",Permit_density:"76.01417608",Permits_per_capita:"78.78017789",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330026400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26400",GEOID:"53033026400",NAME:"264",NAMELSAD:"Census Tract 264",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4724320",AWATER:"294417",INTPTLAT:"47.5090918",INTPTLON:"-122.3112029",Shape_Leng:"14037.7541",Shape_Area:"5018745.851",NHPD_Units:"311",Permits:"83",Pop:"6263",Pop_density:"3433.53023",Non_white_share:"0.678588536",White_non_hisp:"0.321411464",Black_non_hisp:"0.191441801",Asian_non_Hisp:"0.13172601",Hispanic:"0.319016446",Workers:"3226",Transit_to_work:"0.1150031",Walk_to_Work:"0.006199628",Bike_to_work:"0",Green_commute_share:"0.121202728",BA_plus_25_plus:"0.208806173",Med_HH_inc:"63542",Cost_burdened:"0.565799257",Very_cost_burdened:"0.194795539",Med_housing_value:"365600",Jobs:"3234",Job_density:"1772.958129",Housing_units:"2511",Housing_density:"1376.591794",Permit_density:"45.50263597",Permits_per_capita:"13.25243494",Subsidized_hsg_share:"0.123855038"},{TRACT_ID:"G5300330026500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26500",GEOID:"53033026500",NAME:"265",NAMELSAD:"Census Tract 265",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2045074",AWATER:"1625",INTPTLAT:"47.5130046",INTPTLON:"-122.3382273",Shape_Leng:"8440.840108",Shape_Area:"2046700.754",NHPD_Units:"610",Permits:"359",Pop:"4633",Pop_density:"5867.472236",Non_white_share:"0.734729117",White_non_hisp:"0.265270883",Black_non_hisp:"0.230736024",Asian_non_Hisp:"0.158428664",Hispanic:"0.262464926",Workers:"2055",Transit_to_work:"0.169343066",Walk_to_Work:"0.022384428",Bike_to_work:"0",Green_commute_share:"0.191727494",BA_plus_25_plus:"0.234793983",Med_HH_inc:"55526",Cost_burdened:"0.491150442",Very_cost_burdened:"0.186946903",Med_housing_value:"428000",Jobs:"743",Job_density:"940.9738552",Housing_units:"1586",Housing_density:"2008.592913",Permit_density:"454.6562773",Permits_per_capita:"77.48758904",Subsidized_hsg_share:"0.384615385"},{TRACT_ID:"G5300330026600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26600",GEOID:"53033026600",NAME:"266",NAMELSAD:"Census Tract 266",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1160392",AWATER:"0",INTPTLAT:"47.512846",INTPTLON:"-122.3632681",Shape_Leng:"4862.660627",Shape_Area:"1160395.53",NHPD_Units:"0",Permits:"178",Pop:"2373",Pop_density:"5296.522025",Non_white_share:"0.517909819",White_non_hisp:"0.482090181",Black_non_hisp:"0.066160978",Asian_non_Hisp:"0.223345976",Hispanic:"0.11630847",Workers:"1483",Transit_to_work:"0.182063385",Walk_to_Work:"0",Bike_to_work:"0.020903574",Green_commute_share:"0.202966959",BA_plus_25_plus:"0.377313433",Med_HH_inc:"85278",Cost_burdened:"0.709302326",Very_cost_burdened:"0.375968992",Med_housing_value:"460300",Jobs:"679",Job_density:"1515.524001",Housing_units:"935",Housing_density:"2086.914494",Permit_density:"397.2949517",Permits_per_capita:"75.01053519",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330026700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26700",GEOID:"53033026700",NAME:"267",NAMELSAD:"Census Tract 267",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3084838",AWATER:"419292",INTPTLAT:"47.4962149",INTPTLON:"-122.3638882",Shape_Leng:"7716.747531",Shape_Area:"3084839.885",NHPD_Units:"13",Permits:"94",Pop:"5604",Pop_density:"4705.04233",Non_white_share:"0.527123483",White_non_hisp:"0.472876517",Black_non_hisp:"0.110278373",Asian_non_Hisp:"0.101356174",Hispanic:"0.19289793",Workers:"2402",Transit_to_work:"0.079933389",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.079933389",BA_plus_25_plus:"0.401195977",Med_HH_inc:"89750",Cost_burdened:"0.678787879",Very_cost_burdened:"0.331818182",Med_housing_value:"491300",Jobs:"475",Job_density:"398.8035522",Housing_units:"2098",Housing_density:"1761.452321",Permit_density:"78.92112402",Permits_per_capita:"16.77373305",Subsidized_hsg_share:"0.006196378"},{TRACT_ID:"G5300330026801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26801",GEOID:"53033026801",NAME:"268.01",NAMELSAD:"Census Tract 268.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1541369",AWATER:"3031",INTPTLAT:"47.5076338",INTPTLON:"-122.3433587",Shape_Leng:"6852.101301",Shape_Area:"1544398.391",NHPD_Units:"657",Permits:"222",Pop:"5630",Pop_density:"9460.183162",Non_white_share:"0.691296625",White_non_hisp:"0.308703375",Black_non_hisp:"0.054351687",Asian_non_Hisp:"0.226110124",Hispanic:"0.338188277",Workers:"3185",Transit_to_work:"0.159183673",Walk_to_Work:"0.003453689",Bike_to_work:"0",Green_commute_share:"0.162637363",BA_plus_25_plus:"0.185424134",Med_HH_inc:"58018",Cost_burdened:"0.665514261",Very_cost_burdened:"0.390665514",Med_housing_value:"392900",Jobs:"404",Job_density:"678.847957",Housing_units:"2370",Housing_density:"3982.350639",Permit_density:"373.030313",Permits_per_capita:"39.43161634",Subsidized_hsg_share:"0.27721519"},{TRACT_ID:"G5300330026802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"26802",GEOID:"53033026802",NAME:"268.02",NAMELSAD:"Census Tract 268.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2035736",AWATER:"18135",INTPTLAT:"47.497829",INTPTLON:"-122.3413234",Shape_Leng:"6600.830572",Shape_Area:"2053870.172",NHPD_Units:"345",Permits:"376",Pop:"5870",Pop_density:"7468.173775",Non_white_share:"0.630153322",White_non_hisp:"0.369846678",Black_non_hisp:"0.077342419",Asian_non_Hisp:"0.269335605",Hispanic:"0.223339012",Workers:"3146",Transit_to_work:"0.092180547",Walk_to_Work:"0.004450095",Bike_to_work:"0.002860776",Green_commute_share:"0.099491418",BA_plus_25_plus:"0.235111958",Med_HH_inc:"66774",Cost_burdened:"0.727616646",Very_cost_burdened:"0.455233291",Med_housing_value:"411800",Jobs:"287",Job_density:"365.1389903",Housing_units:"2079",Housing_density:"2645.031223",Permit_density:"478.3702452",Permits_per_capita:"64.05451448",Subsidized_hsg_share:"0.165945166"},{TRACT_ID:"G5300330027000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27000",GEOID:"53033027000",NAME:"270",NAMELSAD:"Census Tract 270",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1978896",AWATER:"12524",INTPTLAT:"47.4976819",INTPTLON:"-122.3219067",Shape_Leng:"5860.58879",Shape_Area:"1991421.555",NHPD_Units:"0",Permits:"82",Pop:"3205",Pop_density:"4194.718618",Non_white_share:"0.497659906",White_non_hisp:"0.502340094",Black_non_hisp:"0.034321373",Asian_non_Hisp:"0.173478939",Hispanic:"0.264586583",Workers:"1710",Transit_to_work:"0.077777778",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.077777778",BA_plus_25_plus:"0.262109552",Med_HH_inc:"77031",Cost_burdened:"0.515011547",Very_cost_burdened:"0.267898383",Med_housing_value:"345900",Jobs:"139",Job_density:"181.923834",Housing_units:"1195",Housing_density:"1564.02145",Permit_density:"107.321974",Permits_per_capita:"25.5850234",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330027100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27100",GEOID:"53033027100",NAME:"271",NAMELSAD:"Census Tract 271",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1566609",AWATER:"0",INTPTLAT:"47.4920578",INTPTLON:"-122.2998501",Shape_Leng:"6506.228171",Shape_Area:"1566604.903",NHPD_Units:"397",Permits:"118",Pop:"4068",Pop_density:"6725.399658",Non_white_share:"0.638643068",White_non_hisp:"0.361356932",Black_non_hisp:"0.168387414",Asian_non_Hisp:"0.214355949",Hispanic:"0.247050147",Workers:"1861",Transit_to_work:"0.089736701",Walk_to_Work:"0.006448146",Bike_to_work:"0",Green_commute_share:"0.096184847",BA_plus_25_plus:"0.209773124",Med_HH_inc:"42684",Cost_burdened:"0.587155963",Very_cost_burdened:"0.228047182",Med_housing_value:"336100",Jobs:"791",Job_density:"1307.7166",Housing_units:"1419",Housing_density:"2345.954305",Permit_density:"195.0828809",Permits_per_capita:"29.00688299",Subsidized_hsg_share:"0.279774489"},{TRACT_ID:"G5300330027200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27200",GEOID:"53033027200",NAME:"272",NAMELSAD:"Census Tract 272",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3245737",AWATER:"84995",INTPTLAT:"47.4867948",INTPTLON:"-122.2813197",Shape_Leng:"9533.635842",Shape_Area:"3330733.71",NHPD_Units:"0",Permits:"160",Pop:"2707",Pop_density:"2160.094245",Non_white_share:"0.667528629",White_non_hisp:"0.332471371",Black_non_hisp:"0.156630957",Asian_non_Hisp:"0.202807536",Hispanic:"0.233838197",Workers:"1379",Transit_to_work:"0.147933285",Walk_to_Work:"0.003625816",Bike_to_work:"0.002900653",Green_commute_share:"0.154459753",BA_plus_25_plus:"0.222844345",Med_HH_inc:"61510",Cost_burdened:"0.760752688",Very_cost_burdened:"0.408602151",Med_housing_value:"352700",Jobs:"10299",Job_density:"8218.252911",Housing_units:"887",Housing_density:"707.7959347",Permit_density:"127.6745767",Permits_per_capita:"59.10602143",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330027300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27300",GEOID:"53033027300",NAME:"273",NAMELSAD:"Census Tract 273",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3549642",AWATER:"5405",INTPTLAT:"47.480596",INTPTLON:"-122.2985241",Shape_Leng:"7886.75733",Shape_Area:"3555046.717",NHPD_Units:"454",Permits:"102",Pop:"5663",Pop_density:"4131.994908",Non_white_share:"0.728589087",White_non_hisp:"0.271410913",Black_non_hisp:"0.112484549",Asian_non_Hisp:"0.360762847",Hispanic:"0.190711637",Workers:"2938",Transit_to_work:"0.083049694",Walk_to_Work:"0.014635807",Bike_to_work:"0",Green_commute_share:"0.0976855",BA_plus_25_plus:"0.249202128",Med_HH_inc:"80254",Cost_burdened:"0.487534626",Very_cost_burdened:"0.209141274",Med_housing_value:"333900",Jobs:"861",Job_density:"628.2266671",Housing_units:"1851",Housing_density:"1350.577887",Permit_density:"74.42406509",Permits_per_capita:"18.0116546",Subsidized_hsg_share:"0.245272825"},{TRACT_ID:"G5300330027400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27400",GEOID:"53033027400",NAME:"274",NAMELSAD:"Census Tract 274",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3325455",AWATER:"0",INTPTLAT:"47.4827326",INTPTLON:"-122.3236114",Shape_Leng:"7613.361086",Shape_Area:"3325455.548",NHPD_Units:"101",Permits:"147",Pop:"5166",Pop_density:"4023.473052",Non_white_share:"0.561749903",White_non_hisp:"0.438250097",Black_non_hisp:"0.038714673",Asian_non_Hisp:"0.210220674",Hispanic:"0.215640728",Workers:"2588",Transit_to_work:"0.06568779",Walk_to_Work:"0.003477589",Bike_to_work:"0.016228748",Green_commute_share:"0.085394127",BA_plus_25_plus:"0.238955823",Med_HH_inc:"77292",Cost_burdened:"0.515406162",Very_cost_burdened:"0.254901961",Med_housing_value:"351000",Jobs:"1217",Job_density:"947.8448905",Housing_units:"1885",Housing_density:"1468.10815",Permit_density:"114.4890706",Permits_per_capita:"28.45528455",Subsidized_hsg_share:"0.053580902"},{TRACT_ID:"G5300330027500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27500",GEOID:"53033027500",NAME:"275",NAMELSAD:"Census Tract 275",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2229526",AWATER:"0",INTPTLAT:"47.4816357",INTPTLON:"-122.341172",Shape_Leng:"6270.045503",Shape_Area:"2229528.919",NHPD_Units:"127",Permits:"202",Pop:"4697",Pop_density:"5456.394836",Non_white_share:"0.517138599",White_non_hisp:"0.482861401",Black_non_hisp:"0.037470726",Asian_non_Hisp:"0.198637428",Hispanic:"0.208430913",Workers:"2454",Transit_to_work:"0.12795436",Walk_to_Work:"0.022412388",Bike_to_work:"0.009372453",Green_commute_share:"0.159739201",BA_plus_25_plus:"0.184900285",Med_HH_inc:"63979",Cost_burdened:"0.517831669",Very_cost_burdened:"0.235378031",Med_housing_value:"406900",Jobs:"1307",Job_density:"1518.311273",Housing_units:"1949",Housing_density:"2264.10763",Permit_density:"234.6586666",Permits_per_capita:"43.00617415",Subsidized_hsg_share:"0.065161621"},{TRACT_ID:"G5300330027600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27600",GEOID:"53033027600",NAME:"276",NAMELSAD:"Census Tract 276",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2854126",AWATER:"1287647",INTPTLAT:"47.475666",INTPTLON:"-122.3586455",Shape_Leng:"10517.0704",Shape_Area:"2854126.404",NHPD_Units:"15",Permits:"55",Pop:"4512",Pop_density:"4094.432535",Non_white_share:"0.517065603",White_non_hisp:"0.482934397",Black_non_hisp:"0.094414894",Asian_non_Hisp:"0.03302305",Hispanic:"0.358599291",Workers:"2284",Transit_to_work:"0.059544658",Walk_to_Work:"0.010945709",Bike_to_work:"0.004816112",Green_commute_share:"0.07530648",BA_plus_25_plus:"0.320504528",Med_HH_inc:"77000",Cost_burdened:"0.577981651",Very_cost_burdened:"0.276539974",Med_housing_value:"579700",Jobs:"516",Job_density:"468.246274",Housing_units:"1728",Housing_density:"1568.080545",Permit_density:"49.90997106",Permits_per_capita:"12.18971631",Subsidized_hsg_share:"0.008680556"},{TRACT_ID:"G5300330027701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27701",GEOID:"53033027701",NAME:"277.01",NAMELSAD:"Census Tract 277.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"44157315",AWATER:"9775801",INTPTLAT:"47.4509608",INTPTLON:"-122.4764915",Shape_Leng:"35992.72946",Shape_Area:"44157321.44",NHPD_Units:"100",Permits:"374",Pop:"5593",Pop_density:"328.0499166",Non_white_share:"0.154836403",White_non_hisp:"0.845163597",Black_non_hisp:"0.000536385",Asian_non_Hisp:"0.006794207",Hispanic:"0.076166637",Workers:"2555",Transit_to_work:"0.121330724",Walk_to_Work:"0.035225049",Bike_to_work:"0.063013699",Green_commute_share:"0.219569472",BA_plus_25_plus:"0.509361498",Med_HH_inc:"73468",Cost_burdened:"0.629955947",Very_cost_burdened:"0.213656388",Med_housing_value:"540600",Jobs:"2124",Job_density:"124.5803724",Housing_units:"2795",Housing_density:"163.9369778",Permit_density:"21.93646858",Permits_per_capita:"66.86930091",Subsidized_hsg_share:"0.035778175"},{TRACT_ID:"G5300330027702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27702",GEOID:"53033027702",NAME:"277.02",NAMELSAD:"Census Tract 277.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"51502878",AWATER:"23418662",INTPTLAT:"47.3758443",INTPTLON:"-122.4365251",Shape_Leng:"61075.09109",Shape_Area:"51502875.57",NHPD_Units:"0",Permits:"312",Pop:"4807",Pop_density:"241.7354783",Non_white_share:"0.053671729",White_non_hisp:"0.946328271",Black_non_hisp:"0.00020803",Asian_non_Hisp:"0.014354067",Hispanic:"0.038069482",Workers:"2116",Transit_to_work:"0.192344045",Walk_to_Work:"0.017013233",Bike_to_work:"0.010396975",Green_commute_share:"0.219754253",BA_plus_25_plus:"0.569514661",Med_HH_inc:"90846",Cost_burdened:"0.41563786",Very_cost_burdened:"0.234567901",Med_housing_value:"560400",Jobs:"311",Job_density:"15.63963673",Housing_units:"2800",Housing_density:"140.8070188",Permit_density:"15.68992495",Permits_per_capita:"64.90534637",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330027800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27800",GEOID:"53033027800",NAME:"278",NAMELSAD:"Census Tract 278",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2582664",AWATER:"1104566",INTPTLAT:"47.4515094",INTPTLON:"-122.3679231",Shape_Leng:"8875.696924",Shape_Area:"2582662.396",NHPD_Units:"38",Permits:"59",Pop:"3459",Pop_density:"3468.809289",Non_white_share:"0.10002891",White_non_hisp:"0.89997109",Black_non_hisp:"0.001156404",Asian_non_Hisp:"0.034981208",Hispanic:"0.028042787",Workers:"1528",Transit_to_work:"0.065445026",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.065445026",BA_plus_25_plus:"0.501427552",Med_HH_inc:"104835",Cost_burdened:"0.43902439",Very_cost_burdened:"0.182926829",Med_housing_value:"616200",Jobs:"121",Job_density:"121.3431408",Housing_units:"1422",Housing_density:"1426.032613",Permit_density:"59.16731658",Permits_per_capita:"17.05695288",Subsidized_hsg_share:"0.026722925"},{TRACT_ID:"G5300330027901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27901",GEOID:"53033027901",NAME:"279.01",NAMELSAD:"Census Tract 279.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1866614",AWATER:"156045",INTPTLAT:"47.4629628",INTPTLON:"-122.3529063",Shape_Leng:"7386.145324",Shape_Area:"2022661.01",NHPD_Units:"20",Permits:"95",Pop:"4740",Pop_density:"6576.905371",Non_white_share:"0.320253165",White_non_hisp:"0.679746835",Black_non_hisp:"0.009493671",Asian_non_Hisp:"0.088396624",Hispanic:"0.180590717",Workers:"2094",Transit_to_work:"0.08548233",Walk_to_Work:"0.006685769",Bike_to_work:"0",Green_commute_share:"0.092168099",BA_plus_25_plus:"0.372881356",Med_HH_inc:"86875",Cost_burdened:"0.569264069",Very_cost_burdened:"0.25974026",Med_housing_value:"504900",Jobs:"1625",Job_density:"2254.740765",Housing_units:"1710",Housing_density:"2372.681052",Permit_density:"131.815614",Permits_per_capita:"20.04219409",Subsidized_hsg_share:"0.011695906"},{TRACT_ID:"G5300330027902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"27902",GEOID:"53033027902",NAME:"279.02",NAMELSAD:"Census Tract 279.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1488964",AWATER:"0",INTPTLAT:"47.4668558",INTPTLON:"-122.341531",Shape_Leng:"5594.437813",Shape_Area:"1488962.831",NHPD_Units:"136",Permits:"745",Pop:"3725",Pop_density:"6479.475468",Non_white_share:"0.493154362",White_non_hisp:"0.506845638",Black_non_hisp:"0.148187919",Asian_non_Hisp:"0.062818792",Hispanic:"0.181208054",Workers:"2170",Transit_to_work:"0.106912442",Walk_to_Work:"0.059447005",Bike_to_work:"0.000460829",Green_commute_share:"0.166820276",BA_plus_25_plus:"0.291338583",Med_HH_inc:"59073",Cost_burdened:"0.425304878",Very_cost_burdened:"0.240853659",Med_housing_value:"436600",Jobs:"7442",Job_density:"12945.03528",Housing_units:"1924",Housing_density:"3346.714309",Permit_density:"1295.895094",Permits_per_capita:"200",Subsidized_hsg_share:"0.070686071"},{TRACT_ID:"G5300330028000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28000",GEOID:"53033028000",NAME:"280",NAMELSAD:"Census Tract 280",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1951003",AWATER:"0",INTPTLAT:"47.466716",INTPTLON:"-122.3244687",Shape_Leng:"6418.436554",Shape_Area:"1951003.936",NHPD_Units:"0",Permits:"86",Pop:"4601",Pop_density:"6107.902087",Non_white_share:"0.651814823",White_non_hisp:"0.348185177",Black_non_hisp:"0.246468159",Asian_non_Hisp:"0.100412954",Hispanic:"0.24168659",Workers:"2341",Transit_to_work:"0.182827851",Walk_to_Work:"0.002990175",Bike_to_work:"0",Green_commute_share:"0.185818026",BA_plus_25_plus:"0.175450527",Med_HH_inc:"61200",Cost_burdened:"0.463276836",Very_cost_burdened:"0.224374496",Med_housing_value:"433900",Jobs:"981",Job_density:"1302.293403",Housing_units:"1863",Housing_density:"2473.162701",Permit_density:"114.1663941",Permits_per_capita:"18.69158879",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330028100",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28100",GEOID:"53033028100",NAME:"281",NAMELSAD:"Census Tract 281",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1590422",AWATER:"0",INTPTLAT:"47.4687361",INTPTLON:"-122.2988958",Shape_Leng:"5691.294496",Shape_Area:"1590418.949",NHPD_Units:"95",Permits:"61",Pop:"2894",Pop_density:"4712.853313",Non_white_share:"0.749136144",White_non_hisp:"0.250863856",Black_non_hisp:"0.289219074",Asian_non_Hisp:"0.140635798",Hispanic:"0.166551486",Workers:"1603",Transit_to_work:"0.095446039",Walk_to_Work:"0.011228946",Bike_to_work:"0",Green_commute_share:"0.106674984",BA_plus_25_plus:"0.156050955",Med_HH_inc:"63229",Cost_burdened:"0.557809331",Very_cost_burdened:"0.269776876",Med_housing_value:"334200",Jobs:"1895",Job_density:"3085.99068",Housing_units:"880",Housing_density:"1433.072189",Permit_density:"99.33795856",Permits_per_capita:"21.07809261",Subsidized_hsg_share:"0.107954545"},{TRACT_ID:"G5300330028200",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28200",GEOID:"53033028200",NAME:"282",NAMELSAD:"Census Tract 282",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2658633",AWATER:"612",INTPTLAT:"47.4656308",INTPTLON:"-122.2755633",Shape_Leng:"7188.11264",Shape_Area:"2659248.423",NHPD_Units:"439",Permits:"112",Pop:"4780",Pop_density:"4656.582224",Non_white_share:"0.724476987",White_non_hisp:"0.275523013",Black_non_hisp:"0.315690377",Asian_non_Hisp:"0.146861925",Hispanic:"0.143933054",Workers:"2822",Transit_to_work:"0.130403969",Walk_to_Work:"0.046775337",Bike_to_work:"0.006024096",Green_commute_share:"0.183203402",BA_plus_25_plus:"0.214486244",Med_HH_inc:"54957",Cost_burdened:"0.490401396",Very_cost_burdened:"0.219022688",Med_housing_value:"249900",Jobs:"938",Job_density:"913.7811979",Housing_units:"2110",Housing_density:"2055.520605",Permit_density:"109.1082027",Permits_per_capita:"23.43096234",Subsidized_hsg_share:"0.208056872"},{TRACT_ID:"G5300330028300",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28300",GEOID:"53033028300",NAME:"283",NAMELSAD:"Census Tract 283",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8153490",AWATER:"139520",INTPTLAT:"47.4314308",INTPTLON:"-122.2689984",Shape_Leng:"19114.16858",Shape_Area:"8293008.676",NHPD_Units:"0",Permits:"861",Pop:"5286",Pop_density:"1679.118654",Non_white_share:"0.58021188",White_non_hisp:"0.41978812",Black_non_hisp:"0.118804389",Asian_non_Hisp:"0.304956489",Hispanic:"0.089860008",Workers:"3058",Transit_to_work:"0.074558535",Walk_to_Work:"0.001635056",Bike_to_work:"0.004578156",Green_commute_share:"0.080771746",BA_plus_25_plus:"0.347923962",Med_HH_inc:"95484",Cost_burdened:"0.465397924",Very_cost_burdened:"0.15916955",Med_housing_value:"377500",Jobs:"6687",Job_density:"2124.151804",Housing_units:"2260",Housing_density:"717.8978731",Permit_density:"273.5000304",Permits_per_capita:"162.8830874",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330028402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28402",GEOID:"53033028402",NAME:"284.02",NAMELSAD:"Census Tract 284.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8518208",AWATER:"0",INTPTLAT:"47.4504671",INTPTLON:"-122.3032766",Shape_Leng:"14101.84771",Shape_Area:"8518208.737",NHPD_Units:"326",Permits:"147",Pop:"5495",Pop_density:"1670.772147",Non_white_share:"0.691173794",White_non_hisp:"0.308826206",Black_non_hisp:"0.26733394",Asian_non_Hisp:"0.151592357",Hispanic:"0.153594177",Workers:"2794",Transit_to_work:"0.122047244",Walk_to_Work:"0.119541875",Bike_to_work:"0",Green_commute_share:"0.24158912",BA_plus_25_plus:"0.239751888",Med_HH_inc:"65179",Cost_burdened:"0.495033113",Very_cost_burdened:"0.171357616",Med_housing_value:"385300",Jobs:"15437",Job_density:"4693.668722",Housing_units:"2052",Housing_density:"623.9170965",Permit_density:"44.69581539",Permits_per_capita:"26.75159236",Subsidized_hsg_share:"0.158869396"},{TRACT_ID:"G5300330028403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28403",GEOID:"53033028403",NAME:"284.03",NAMELSAD:"Census Tract 284.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2075832",AWATER:"32666",INTPTLAT:"47.4388123",INTPTLON:"-122.283405",Shape_Leng:"5873.588606",Shape_Area:"2108499.61",NHPD_Units:"263",Permits:"109",Pop:"4780",Pop_density:"5963.942731",Non_white_share:"0.630543933",White_non_hisp:"0.369456067",Black_non_hisp:"0.336610879",Asian_non_Hisp:"0.086401674",Hispanic:"0.109623431",Workers:"2384",Transit_to_work:"0.055788591",Walk_to_Work:"0.054530201",Bike_to_work:"0",Green_commute_share:"0.110318792",BA_plus_25_plus:"0.211291702",Med_HH_inc:"50222",Cost_burdened:"0.494766889",Very_cost_burdened:"0.197906755",Med_housing_value:"0",Jobs:"1465",Job_density:"1827.861109",Housing_units:"2552",Housing_density:"3184.096621",Permit_density:"135.9978573",Permits_per_capita:"22.80334728",Subsidized_hsg_share:"0.103056426"},{TRACT_ID:"G5300330028500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28500",GEOID:"53033028500",NAME:"285",NAMELSAD:"Census Tract 285",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3509793",AWATER:"0",INTPTLAT:"47.4454085",INTPTLON:"-122.3248135",Shape_Leng:"10412.16008",Shape_Area:"3509790.752",NHPD_Units:"0",Permits:"194",Pop:"4382",Pop_density:"3233.617452",Non_white_share:"0.661798266",White_non_hisp:"0.338201734",Black_non_hisp:"0.087859425",Asian_non_Hisp:"0.162939297",Hispanic:"0.312642629",Workers:"2473",Transit_to_work:"0.109583502",Walk_to_Work:"0.016174687",Bike_to_work:"0",Green_commute_share:"0.125758188",BA_plus_25_plus:"0.242004616",Med_HH_inc:"83542",Cost_burdened:"0.470119522",Very_cost_burdened:"0.231075697",Med_housing_value:"365200",Jobs:"1696",Job_density:"1251.532451",Housing_units:"1814",Housing_density:"1338.608411",Permit_density:"143.1587827",Permits_per_capita:"44.27202191",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330028600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28600",GEOID:"53033028600",NAME:"286",NAMELSAD:"Census Tract 286",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6378626",AWATER:"1972936",INTPTLAT:"47.4329749",INTPTLON:"-122.3446892",Shape_Leng:"14473.69659",Shape_Area:"6397132.018",NHPD_Units:"105",Permits:"296",Pop:"6413",Pop_density:"2603.945388",Non_white_share:"0.197723374",White_non_hisp:"0.802276626",Black_non_hisp:"0.014189927",Asian_non_Hisp:"0.062841104",Hispanic:"0.059410572",Workers:"3103",Transit_to_work:"0.04995166",Walk_to_Work:"0.007412182",Bike_to_work:"0.004834032",Green_commute_share:"0.062197873",BA_plus_25_plus:"0.513611615",Med_HH_inc:"91389",Cost_burdened:"0.671345029",Very_cost_burdened:"0.171929825",Med_housing_value:"685500",Jobs:"915",Job_density:"371.5281506",Housing_units:"2849",Housing_density:"1156.812788",Permit_density:"120.1883416",Permits_per_capita:"46.15624513",Subsidized_hsg_share:"0.036855037"},{TRACT_ID:"G5300330028700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28700",GEOID:"53033028700",NAME:"287",NAMELSAD:"Census Tract 287",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2675319",AWATER:"0",INTPTLAT:"47.4212394",INTPTLON:"-122.3278018",Shape_Leng:"7072.466162",Shape_Area:"2675322.37",NHPD_Units:"0",Permits:"52",Pop:"5541",Pop_density:"5364.266511",Non_white_share:"0.400649702",White_non_hisp:"0.599350298",Black_non_hisp:"0.063706912",Asian_non_Hisp:"0.16657643",Hispanic:"0.093845876",Workers:"2729",Transit_to_work:"0.064126053",Walk_to_Work:"0.003297911",Bike_to_work:"0",Green_commute_share:"0.067423965",BA_plus_25_plus:"0.369958635",Med_HH_inc:"112000",Cost_burdened:"0.289215686",Very_cost_burdened:"0.093137255",Med_housing_value:"392900",Jobs:"335",Job_density:"324.3149759",Housing_units:"1892",Housing_density:"1831.653535",Permit_density:"50.34142909",Permits_per_capita:"9.38458762",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330028801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28801",GEOID:"53033028801",NAME:"288.01",NAMELSAD:"Census Tract 288.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5221717",AWATER:"0",INTPTLAT:"47.4207125",INTPTLON:"-122.3085621",Shape_Leng:"10030.64862",Shape_Area:"5221718.177",NHPD_Units:"289",Permits:"25",Pop:"3457",Pop_density:"1714.682909",Non_white_share:"0.50853341",White_non_hisp:"0.49146659",Black_non_hisp:"0.113393115",Asian_non_Hisp:"0.044547295",Hispanic:"0.266705236",Workers:"1210",Transit_to_work:"0.146280992",Walk_to_Work:"0.002479339",Bike_to_work:"0",Green_commute_share:"0.148760331",BA_plus_25_plus:"0.186259542",Med_HH_inc:"65912",Cost_burdened:"0.615012107",Very_cost_burdened:"0.375302663",Med_housing_value:"360400",Jobs:"12072",Job_density:"5987.750096",Housing_units:"960",Housing_density:"476.1630295",Permit_density:"12.40007889",Permits_per_capita:"7.231703789",Subsidized_hsg_share:"0.301041667"},{TRACT_ID:"G5300330028802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28802",GEOID:"53033028802",NAME:"288.02",NAMELSAD:"Census Tract 288.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2397498",AWATER:"415838",INTPTLAT:"47.424928",INTPTLON:"-122.2883103",Shape_Leng:"8758.443325",Shape_Area:"2813332.957",NHPD_Units:"170",Permits:"201",Pop:"7390",Pop_density:"7983.327675",Non_white_share:"0.724492558",White_non_hisp:"0.275507442",Black_non_hisp:"0.287009472",Asian_non_Hisp:"0.080784844",Hispanic:"0.264952639",Workers:"3441",Transit_to_work:"0.115664051",Walk_to_Work:"0.019761697",Bike_to_work:"0.003487358",Green_commute_share:"0.138913107",BA_plus_25_plus:"0.150898973",Med_HH_inc:"62683",Cost_burdened:"0.608030593",Very_cost_burdened:"0.22307202",Med_housing_value:"390400",Jobs:"764",Job_density:"825.3399654",Housing_units:"2501",Housing_density:"2701.80007",Permit_density:"217.1378705",Permits_per_capita:"27.19891746",Subsidized_hsg_share:"0.067972811"},{TRACT_ID:"G5300330028901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28901",GEOID:"53033028901",NAME:"289.01",NAMELSAD:"Census Tract 289.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2295692",AWATER:"415797",INTPTLAT:"47.4026302",INTPTLON:"-122.3203514",Shape_Leng:"7698.995069",Shape_Area:"2295690.692",NHPD_Units:"119",Permits:"593",Pop:"3490",Pop_density:"3937.400359",Non_white_share:"0.355587393",White_non_hisp:"0.644412607",Black_non_hisp:"0.040401146",Asian_non_Hisp:"0.05243553",Hispanic:"0.186532951",Workers:"1680",Transit_to_work:"0.032142857",Walk_to_Work:"0.004761905",Bike_to_work:"0.005952381",Green_commute_share:"0.042857143",BA_plus_25_plus:"0.378900446",Med_HH_inc:"77295",Cost_burdened:"0.428194993",Very_cost_burdened:"0.177865613",Med_housing_value:"395100",Jobs:"1656",Job_density:"1868.290829",Housing_units:"1696",Housing_density:"1913.418627",Permit_density:"669.0196025",Permits_per_capita:"169.9140401",Subsidized_hsg_share:"0.070165094"},{TRACT_ID:"G5300330028902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"28902",GEOID:"53033028902",NAME:"289.02",NAMELSAD:"Census Tract 289.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2065170",AWATER:"0",INTPTLAT:"47.399399",INTPTLON:"-122.301752",Shape_Leng:"7360.581284",Shape_Area:"2065173.979",NHPD_Units:"521",Permits:"530",Pop:"6610",Pop_density:"8289.787964",Non_white_share:"0.729803328",White_non_hisp:"0.270196672",Black_non_hisp:"0.159001513",Asian_non_Hisp:"0.05688351",Hispanic:"0.286838124",Workers:"3608",Transit_to_work:"0.096175166",Walk_to_Work:"0.009977827",Bike_to_work:"0.004157428",Green_commute_share:"0.110310421",BA_plus_25_plus:"0.183568075",Med_HH_inc:"52418",Cost_burdened:"0.528237307",Very_cost_burdened:"0.212207644",Med_housing_value:"344000",Jobs:"874",Job_density:"1096.108121",Housing_units:"2753",Housing_density:"3452.615169",Permit_density:"664.687991",Permits_per_capita:"80.18154312",Subsidized_hsg_share:"0.189248093"},{TRACT_ID:"G5300330029001",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29001",GEOID:"53033029001",NAME:"290.01",NAMELSAD:"Census Tract 290.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2565840",AWATER:"1021619",INTPTLAT:"47.3840072",INTPTLON:"-122.3220797",Shape_Leng:"7643.829309",Shape_Area:"2565839.41",NHPD_Units:"0",Permits:"80",Pop:"4578",Pop_density:"4621.085324",Non_white_share:"0.313237221",White_non_hisp:"0.686762779",Black_non_hisp:"0.041065968",Asian_non_Hisp:"0.095238095",Hispanic:"0.098077763",Workers:"1966",Transit_to_work:"0.041709054",Walk_to_Work:"0.006612411",Bike_to_work:"0",Green_commute_share:"0.048321465",BA_plus_25_plus:"0.289069295",Med_HH_inc:"79250",Cost_burdened:"0.536507937",Very_cost_burdened:"0.311111111",Med_housing_value:"384200",Jobs:"461",Job_density:"465.3386489",Housing_units:"2068",Housing_density:"2087.462746",Permit_density:"80.75291087",Permits_per_capita:"17.47487986",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29003",GEOID:"53033029003",NAME:"290.03",NAMELSAD:"Census Tract 290.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2568431",AWATER:"0",INTPTLAT:"47.3825199",INTPTLON:"-122.3057587",Shape_Leng:"9839.773787",Shape_Area:"2568433.406",NHPD_Units:"43",Permits:"256",Pop:"5841",Pop_density:"5890.024125",Non_white_share:"0.60914227",White_non_hisp:"0.39085773",Black_non_hisp:"0.151001541",Asian_non_Hisp:"0.223591851",Hispanic:"0.179763739",Workers:"2912",Transit_to_work:"0.030906593",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.030906593",BA_plus_25_plus:"0.244766889",Med_HH_inc:"60792",Cost_burdened:"0.745598592",Very_cost_burdened:"0.305457746",Med_housing_value:"344300",Jobs:"1136",Job_density:"1145.534567",Housing_units:"2257",Housing_density:"2275.943237",Permit_density:"258.1486348",Permits_per_capita:"43.82811162",Subsidized_hsg_share:"0.019051839"},{TRACT_ID:"G5300330029004",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29004",GEOID:"53033029004",NAME:"290.04",NAMELSAD:"Census Tract 290.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1827762",AWATER:"0",INTPTLAT:"47.3798558",INTPTLON:"-122.2968868",Shape_Leng:"9315.085859",Shape_Area:"1827761.104",NHPD_Units:"150",Permits:"83",Pop:"4496",Pop_density:"6370.953409",Non_white_share:"0.753781139",White_non_hisp:"0.246218861",Black_non_hisp:"0.078736655",Asian_non_Hisp:"0.107428826",Hispanic:"0.426156584",Workers:"1787",Transit_to_work:"0.097369894",Walk_to_Work:"0.017907107",Bike_to_work:"0.003357583",Green_commute_share:"0.118634583",BA_plus_25_plus:"0.082536924",Med_HH_inc:"40288",Cost_burdened:"0.602463606",Very_cost_burdened:"0.449048152",Med_housing_value:"233500",Jobs:"1555",Job_density:"2203.476991",Housing_units:"1397",Housing_density:"1979.586724",Permit_density:"117.6132413",Permits_per_capita:"18.46085409",Subsidized_hsg_share:"0.107372942"},{TRACT_ID:"G5300330029101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29101",GEOID:"53033029101",NAME:"291.01",NAMELSAD:"Census Tract 291.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3368999",AWATER:"166228",INTPTLAT:"47.3978567",INTPTLON:"-122.2786386",Shape_Leng:"11786.65499",Shape_Area:"3535228.193",NHPD_Units:"261",Permits:"965",Pop:"3433",Pop_density:"2639.190211",Non_white_share:"0.667637635",White_non_hisp:"0.332362365",Black_non_hisp:"0.290416545",Asian_non_Hisp:"0.151179726",Hispanic:"0.156714244",Workers:"1684",Transit_to_work:"0.084916865",Walk_to_Work:"0.014251781",Bike_to_work:"0",Green_commute_share:"0.099168646",BA_plus_25_plus:"0.354054054",Med_HH_inc:"74481",Cost_burdened:"0.667539267",Very_cost_burdened:"0.107329843",Med_housing_value:"347000",Jobs:"245",Job_density:"188.3488499",Housing_units:"1367",Housing_density:"1050.909705",Permit_density:"741.8638374",Permits_per_capita:"281.095252",Subsidized_hsg_share:"0.190929042"},{TRACT_ID:"G5300330029102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29102",GEOID:"53033029102",NAME:"291.02",NAMELSAD:"Census Tract 291.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2567137",AWATER:"0",INTPTLAT:"47.379886",INTPTLON:"-122.2841327",Shape_Leng:"7604.436539",Shape_Area:"2567139.05",NHPD_Units:"0",Permits:"43",Pop:"4929",Pop_density:"4972.874995",Non_white_share:"0.608642727",White_non_hisp:"0.391357273",Black_non_hisp:"0.062081558",Asian_non_Hisp:"0.184824508",Hispanic:"0.231081355",Workers:"2490",Transit_to_work:"0.097590361",Walk_to_Work:"0.004819277",Bike_to_work:"0.018072289",Green_commute_share:"0.120481928",BA_plus_25_plus:"0.191570881",Med_HH_inc:"74875",Cost_burdened:"0.430292599",Very_cost_burdened:"0.323580034",Med_housing_value:"375800",Jobs:"206",Job_density:"207.8336882",Housing_units:"1598",Housing_density:"1612.224435",Permit_density:"43.38276015",Permits_per_capita:"8.723879083",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029203",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29203",GEOID:"53033029203",NAME:"292.03",NAMELSAD:"Census Tract 292.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2009030",AWATER:"0",INTPTLAT:"47.3862784",INTPTLON:"-122.2313781",Shape_Leng:"8670.811341",Shape_Area:"2009031.368",NHPD_Units:"432",Permits:"478",Pop:"4316",Pop_density:"5564.072554",Non_white_share:"0.574142725",White_non_hisp:"0.425857275",Black_non_hisp:"0.072520853",Asian_non_Hisp:"0.088276182",Hispanic:"0.238415199",Workers:"1616",Transit_to_work:"0.191831683",Walk_to_Work:"0.035891089",Bike_to_work:"0",Green_commute_share:"0.227722772",BA_plus_25_plus:"0.149933066",Med_HH_inc:"65804",Cost_burdened:"0.475862069",Very_cost_burdened:"0.203940887",Med_housing_value:"327400",Jobs:"5119",Job_density:"6599.278824",Housing_units:"1535",Housing_density:"1978.881226",Permit_density:"616.2249029",Permits_per_capita:"110.7506951",Subsidized_hsg_share:"0.281433225"},{TRACT_ID:"G5300330029205",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29205",GEOID:"53033029205",NAME:"292.05",NAMELSAD:"Census Tract 292.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1868767",AWATER:"40687",INTPTLAT:"47.3878067",INTPTLON:"-122.2638518",Shape_Leng:"8597.086643",Shape_Area:"1909453.989",NHPD_Units:"0",Permits:"11",Pop:"4821",Pop_density:"6681.588812",Non_white_share:"0.556316117",White_non_hisp:"0.443683883",Black_non_hisp:"0.13130056",Asian_non_Hisp:"0.157228791",Hispanic:"0.213233769",Workers:"2837",Transit_to_work:"0.09904829",Walk_to_Work:"0.018681706",Bike_to_work:"0",Green_commute_share:"0.117729996",BA_plus_25_plus:"0.372911695",Med_HH_inc:"75611",Cost_burdened:"0.451461988",Very_cost_burdened:"0.18245614",Med_housing_value:"277300",Jobs:"1170",Job_density:"1621.543022",Housing_units:"2202",Housing_density:"3051.827124",Permit_density:"15.24527628",Permits_per_capita:"2.281684298",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029206",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29206",GEOID:"53033029206",NAME:"292.06",NAMELSAD:"Census Tract 292.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"17259980",AWATER:"232894",INTPTLAT:"47.4144378",INTPTLON:"-122.2433601",Shape_Leng:"21092.70024",Shape_Area:"17492875.57",NHPD_Units:"891",Permits:"60",Pop:"4734",Pop_density:"710.3718379",Non_white_share:"0.716307562",White_non_hisp:"0.283692438",Black_non_hisp:"0.168567807",Asian_non_Hisp:"0.092944656",Hispanic:"0.275454161",Workers:"1966",Transit_to_work:"0.120040692",Walk_to_Work:"0.03560529",Bike_to_work:"0",Green_commute_share:"0.155645982",BA_plus_25_plus:"0.134900193",Med_HH_inc:"35819",Cost_burdened:"0.651766004",Very_cost_burdened:"0.400662252",Med_housing_value:"0",Jobs:"44865",Job_density:"6732.326258",Housing_units:"2300",Housing_density:"345.1320716",Permit_density:"9.003445347",Permits_per_capita:"12.67427123",Subsidized_hsg_share:"0.387391304"},{TRACT_ID:"G5300330029207",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29207",GEOID:"53033029207",NAME:"292.07",NAMELSAD:"Census Tract 292.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2255652",AWATER:"1263",INTPTLAT:"47.4044643",INTPTLON:"-122.2110851",Shape_Leng:"8786.261819",Shape_Area:"2256910.991",NHPD_Units:"0",Permits:"217",Pop:"2698",Pop_density:"3097.901592",Non_white_share:"0.560415122",White_non_hisp:"0.439584878",Black_non_hisp:"0.055596738",Asian_non_Hisp:"0.306523351",Hispanic:"0.162342476",Workers:"1223",Transit_to_work:"0.015535568",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.015535568",BA_plus_25_plus:"0.360910605",Med_HH_inc:"113816",Cost_burdened:"0.292993631",Very_cost_burdened:"0.101910828",Med_housing_value:"462600",Jobs:"545",Job_density:"625.7807145",Housing_units:"868",Housing_density:"996.6562571",Permit_density:"249.1640643",Permits_per_capita:"80.42994811",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029208",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29208",GEOID:"53033029208",NAME:"292.08",NAMELSAD:"Census Tract 292.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1978624",AWATER:"423",INTPTLAT:"47.3929289",INTPTLON:"-122.2206867",Shape_Leng:"6588.896299",Shape_Area:"1979044.655",NHPD_Units:"251",Permits:"107",Pop:"4288",Pop_density:"5612.925456",Non_white_share:"0.61170709",White_non_hisp:"0.38829291",Black_non_hisp:"0.138526119",Asian_non_Hisp:"0.117304104",Hispanic:"0.266557836",Workers:"2418",Transit_to_work:"0.191480562",Walk_to_Work:"0.038461538",Bike_to_work:"0",Green_commute_share:"0.229942101",BA_plus_25_plus:"0.22640711",Med_HH_inc:"49554",Cost_burdened:"0.495798319",Very_cost_burdened:"0.255156608",Med_housing_value:"372300",Jobs:"1028",Job_density:"1345.636047",Housing_units:"1630",Housing_density:"2133.644704",Permit_density:"140.0613395",Permits_per_capita:"24.95335821",Subsidized_hsg_share:"0.15398773"},{TRACT_ID:"G5300330029304",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29304",GEOID:"53033029304",NAME:"293.04",NAMELSAD:"Census Tract 293.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4162138",AWATER:"507",INTPTLAT:"47.4385923",INTPTLON:"-122.169186",Shape_Leng:"8243.835363",Shape_Area:"4162643.699",NHPD_Units:"0",Permits:"519",Pop:"4892",Pop_density:"3044.161879",Non_white_share:"0.489574816",White_non_hisp:"0.510425184",Black_non_hisp:"0.119378577",Asian_non_Hisp:"0.204415372",Hispanic:"0.088716271",Workers:"2607",Transit_to_work:"0.019562716",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.019562716",BA_plus_25_plus:"0.398215282",Med_HH_inc:"93750",Cost_burdened:"0.505219207",Very_cost_burdened:"0.096033403",Med_housing_value:"428900",Jobs:"231",Job_density:"143.7451746",Housing_units:"2006",Housing_density:"1248.280607",Permit_density:"322.9599377",Permits_per_capita:"106.0915781",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029305",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29305",GEOID:"53033029305",NAME:"293.05",NAMELSAD:"Census Tract 293.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2897230",AWATER:"2246",INTPTLAT:"47.4219143",INTPTLON:"-122.2114434",Shape_Leng:"6986.213737",Shape_Area:"2899479.475",NHPD_Units:"241",Permits:"254",Pop:"4518",Pop_density:"4038.880683",Non_white_share:"0.697875166",White_non_hisp:"0.302124834",Black_non_hisp:"0.076139885",Asian_non_Hisp:"0.42208942",Hispanic:"0.123505976",Workers:"2095",Transit_to_work:"0.059188544",Walk_to_Work:"0.005727924",Bike_to_work:"0",Green_commute_share:"0.064916468",BA_plus_25_plus:"0.383857642",Med_HH_inc:"97396",Cost_burdened:"0.396551724",Very_cost_burdened:"0.025862069",Med_housing_value:"448600",Jobs:"204",Job_density:"182.3664585",Housing_units:"1439",Housing_density:"1286.398695",Permit_density:"227.0641199",Permits_per_capita:"56.21956618",Subsidized_hsg_share:"0.167477415"},{TRACT_ID:"G5300330029306",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29306",GEOID:"53033029306",NAME:"293.06",NAMELSAD:"Census Tract 293.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2372866",AWATER:"182821",INTPTLAT:"47.4214221",INTPTLON:"-122.1801056",Shape_Leng:"6398.37568",Shape_Area:"2555688.577",NHPD_Units:"0",Permits:"435",Pop:"3444",Pop_density:"3759.13307",Non_white_share:"0.529036005",White_non_hisp:"0.470963995",Black_non_hisp:"0.026132404",Asian_non_Hisp:"0.389372822",Hispanic:"0.056620209",Workers:"1865",Transit_to_work:"0.029490617",Walk_to_Work:"0.011260054",Bike_to_work:"0",Green_commute_share:"0.04075067",BA_plus_25_plus:"0.285654538",Med_HH_inc:"90733",Cost_burdened:"0.454081633",Very_cost_burdened:"0.178571429",Med_housing_value:"333900",Jobs:"246",Job_density:"268.509505",Housing_units:"1287",Housing_density:"1404.763142",Permit_density:"474.803393",Permits_per_capita:"126.3066202",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029307",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29307",GEOID:"53033029307",NAME:"293.07",NAMELSAD:"Census Tract 293.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3830941",AWATER:"39589",INTPTLAT:"47.4218407",INTPTLON:"-122.1594823",Shape_Leng:"8040.625282",Shape_Area:"3870535.368",NHPD_Units:"0",Permits:"74",Pop:"4233",Pop_density:"2861.80854",Non_white_share:"0.381289865",White_non_hisp:"0.618710135",Black_non_hisp:"0.067091897",Asian_non_Hisp:"0.219938578",Hispanic:"0.039215686",Workers:"2027",Transit_to_work:"0.047853971",Walk_to_Work:"0.024173656",Bike_to_work:"0",Green_commute_share:"0.072027627",BA_plus_25_plus:"0.42147651",Med_HH_inc:"96250",Cost_burdened:"0.61038961",Very_cost_burdened:"0.045454545",Med_housing_value:"427500",Jobs:"559",Job_density:"377.9236886",Housing_units:"1420",Housing_density:"960.0208191",Permit_density:"50.02925395",Permits_per_capita:"17.48169147",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029308",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29308",GEOID:"53033029308",NAME:"293.08",NAMELSAD:"Census Tract 293.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1347848",AWATER:"0",INTPTLAT:"47.437735",INTPTLON:"-122.1916538",Shape_Leng:"4935.768523",Shape_Area:"1347847.639",NHPD_Units:"0",Permits:"201",Pop:"3459",Pop_density:"6646.720456",Non_white_share:"0.689505637",White_non_hisp:"0.310494363",Black_non_hisp:"0.160450997",Asian_non_Hisp:"0.305868748",Hispanic:"0.063023995",Workers:"1762",Transit_to_work:"0.033484677",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.033484677",BA_plus_25_plus:"0.262358895",Med_HH_inc:"95042",Cost_burdened:"0.730650155",Very_cost_burdened:"0",Med_housing_value:"430300",Jobs:"430",Job_density:"826.2763215",Housing_units:"1305",Housing_density:"2507.652557",Permit_density:"386.236141",Permits_per_capita:"58.10928014",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029309",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29309",GEOID:"53033029309",NAME:"293.09",NAMELSAD:"Census Tract 293.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2261673",AWATER:"0",INTPTLAT:"47.4363871",INTPTLON:"-122.2072334",Shape_Leng:"6489.531698",Shape_Area:"2261674.2",NHPD_Units:"0",Permits:"806",Pop:"4432",Pop_density:"5075.370005",Non_white_share:"0.578294224",White_non_hisp:"0.421705776",Black_non_hisp:"0.076037906",Asian_non_Hisp:"0.268501805",Hispanic:"0.064079422",Workers:"2196",Transit_to_work:"0.08151184",Walk_to_Work:"0.033697632",Bike_to_work:"0.004098361",Green_commute_share:"0.119307832",BA_plus_25_plus:"0.423377506",Med_HH_inc:"71389",Cost_burdened:"0.586538462",Very_cost_burdened:"0.153846154",Med_housing_value:"388800",Jobs:"1621",Job_density:"1856.311999",Housing_units:"1978",Housing_density:"2265.135801",Permit_density:"923.0027581",Permits_per_capita:"181.8592058",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29403",GEOID:"53033029403",NAME:"294.03",NAMELSAD:"Census Tract 294.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2407379",AWATER:"385",INTPTLAT:"47.4094803",INTPTLON:"-122.2003764",Shape_Leng:"6349.602369",Shape_Area:"2407764.559",NHPD_Units:"0",Permits:"200",Pop:"6249",Pop_density:"6723.011084",Non_white_share:"0.669707153",White_non_hisp:"0.330292847",Black_non_hisp:"0.165146423",Asian_non_Hisp:"0.32725236",Hispanic:"0.101616259",Workers:"3085",Transit_to_work:"0.037277147",Walk_to_Work:"0.017504052",Bike_to_work:"0",Green_commute_share:"0.054781199",BA_plus_25_plus:"0.277345649",Med_HH_inc:"85295",Cost_burdened:"0.325874126",Very_cost_burdened:"0.194405594",Med_housing_value:"445600",Jobs:"374",Job_density:"402.3693624",Housing_units:"2151",Housing_density:"2314.161761",Permit_density:"215.170782",Permits_per_capita:"32.00512082",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029405",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29405",GEOID:"53033029405",NAME:"294.05",NAMELSAD:"Census Tract 294.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2492138",AWATER:"0",INTPTLAT:"47.4089182",INTPTLON:"-122.1759183",Shape_Leng:"6422.712499",Shape_Area:"2492137.713",NHPD_Units:"0",Permits:"199",Pop:"5730",Pop_density:"5954.97997",Non_white_share:"0.548516579",White_non_hisp:"0.451483421",Black_non_hisp:"0.087085515",Asian_non_Hisp:"0.260209424",Hispanic:"0.085340314",Workers:"3131",Transit_to_work:"0.039923347",Walk_to_Work:"0.022357074",Bike_to_work:"0",Green_commute_share:"0.062280422",BA_plus_25_plus:"0.291400491",Med_HH_inc:"98393",Cost_burdened:"0.538461538",Very_cost_burdened:"0.352564103",Med_housing_value:"395300",Jobs:"183",Job_density:"190.1852242",Housing_units:"1835",Housing_density:"1907.048559",Permit_density:"206.8134405",Permits_per_capita:"34.72949389",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029406",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29406",GEOID:"53033029406",NAME:"294.06",NAMELSAD:"Census Tract 294.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2620731",AWATER:"89031",INTPTLAT:"47.3974254",INTPTLON:"-122.1786815",Shape_Leng:"6708.492126",Shape_Area:"2709764.167",NHPD_Units:"0",Permits:"372",Pop:"4754",Pop_density:"4698.232469",Non_white_share:"0.591081195",White_non_hisp:"0.408918805",Black_non_hisp:"0.08708456",Asian_non_Hisp:"0.326461927",Hispanic:"0.104753891",Workers:"2548",Transit_to_work:"0.032182104",Walk_to_Work:"0.003532182",Bike_to_work:"0",Green_commute_share:"0.035714286",BA_plus_25_plus:"0.412965186",Med_HH_inc:"106694",Cost_burdened:"0.494382022",Very_cost_burdened:"0.277153558",Med_housing_value:"419500",Jobs:"281",Job_density:"277.7036861",Housing_units:"1524",Housing_density:"1506.122483",Permit_density:"367.6361966",Permits_per_capita:"78.24989483",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029407",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29407",GEOID:"53033029407",NAME:"294.07",NAMELSAD:"Census Tract 294.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1334702",AWATER:"0",INTPTLAT:"47.3941343",INTPTLON:"-122.2018618",Shape_Leng:"5532.597627",Shape_Area:"1334704.072",NHPD_Units:"115",Permits:"87",Pop:"4832",Pop_density:"9376.491943",Non_white_share:"0.658940397",White_non_hisp:"0.341059603",Black_non_hisp:"0.14714404",Asian_non_Hisp:"0.291597682",Hispanic:"0.085057947",Workers:"1982",Transit_to_work:"0.106962664",Walk_to_Work:"0",Bike_to_work:"0.004540868",Green_commute_share:"0.111503532",BA_plus_25_plus:"0.222860792",Med_HH_inc:"58012",Cost_burdened:"0.587009804",Very_cost_burdened:"0.343137255",Med_housing_value:"351100",Jobs:"468",Job_density:"908.153607",Housing_units:"1634",Housing_density:"3170.775628",Permit_density:"168.8234269",Permits_per_capita:"18.00496689",Subsidized_hsg_share:"0.070379437"},{TRACT_ID:"G5300330029408",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29408",GEOID:"53033029408",NAME:"294.08",NAMELSAD:"Census Tract 294.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1263995",AWATER:"0",INTPTLAT:"47.3947994",INTPTLON:"-122.1917809",Shape_Leng:"5913.648369",Shape_Area:"1263996.779",NHPD_Units:"32",Permits:"63",Pop:"4535",Pop_density:"9292.43872",Non_white_share:"0.69261301",White_non_hisp:"0.30738699",Black_non_hisp:"0.133406836",Asian_non_Hisp:"0.160088203",Hispanic:"0.334068357",Workers:"2366",Transit_to_work:"0.087912088",Walk_to_Work:"0",Bike_to_work:"0.007607777",Green_commute_share:"0.095519865",BA_plus_25_plus:"0.181282925",Med_HH_inc:"57596",Cost_burdened:"0.616405308",Very_cost_burdened:"0.323281062",Med_housing_value:"273100",Jobs:"133",Job_density:"272.5235611",Housing_units:"1694",Housing_density:"3471.089568",Permit_density:"129.0901079",Permits_per_capita:"13.89195149",Subsidized_hsg_share:"0.018890201"},{TRACT_ID:"G5300330029504",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29504",GEOID:"53033029504",NAME:"295.04",NAMELSAD:"Census Tract 295.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1883417",AWATER:"0",INTPTLAT:"47.3797202",INTPTLON:"-122.1945496",Shape_Leng:"5553.236203",Shape_Area:"1883417.514",NHPD_Units:"0",Permits:"465",Pop:"6053",Pop_density:"8323.806163",Non_white_share:"0.635056997",White_non_hisp:"0.364943003",Black_non_hisp:"0.19527507",Asian_non_Hisp:"0.199735668",Hispanic:"0.13018338",Workers:"2665",Transit_to_work:"0.028517824",Walk_to_Work:"0.017636023",Bike_to_work:"0",Green_commute_share:"0.046153846",BA_plus_25_plus:"0.246740221",Med_HH_inc:"61861",Cost_burdened:"0.536352041",Very_cost_burdened:"0.308673469",Med_housing_value:"298900",Jobs:"1507",Job_density:"2072.356829",Housing_units:"2443",Housing_density:"3359.500819",Permit_density:"639.4465332",Permits_per_capita:"76.82141087",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029505",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29505",GEOID:"53033029505",NAME:"295.05",NAMELSAD:"Census Tract 295.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1408180",AWATER:"0",INTPTLAT:"47.3803885",INTPTLON:"-122.2083785",Shape_Leng:"4796.848159",Shape_Area:"1408178.067",NHPD_Units:"61",Permits:"272",Pop:"3841",Pop_density:"7064.54028",Non_white_share:"0.69877636",White_non_hisp:"0.30122364",Black_non_hisp:"0.213225722",Asian_non_Hisp:"0.212705025",Hispanic:"0.15412653",Workers:"2206",Transit_to_work:"0.057116954",Walk_to_Work:"0",Bike_to_work:"0.019492294",Green_commute_share:"0.076609248",BA_plus_25_plus:"0.263261297",Med_HH_inc:"57271",Cost_burdened:"0.632281553",Very_cost_burdened:"0.220873786",Med_housing_value:"431900",Jobs:"883",Job_density:"1624.053389",Housing_units:"1515",Housing_density:"2786.456268",Permit_density:"500.2746567",Permits_per_capita:"70.81489196",Subsidized_hsg_share:"0.040264026"},{TRACT_ID:"G5300330029506",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29506",GEOID:"53033029506",NAME:"295.06",NAMELSAD:"Census Tract 295.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"953757",AWATER:"0",INTPTLAT:"47.3697588",INTPTLON:"-122.1987143",Shape_Leng:"5680.074806",Shape_Area:"953757.292",NHPD_Units:"104",Permits:"114",Pop:"4692",Pop_density:"12741.42597",Non_white_share:"0.781543052",White_non_hisp:"0.218456948",Black_non_hisp:"0.275788576",Asian_non_Hisp:"0.182438193",Hispanic:"0.244458653",Workers:"2187",Transit_to_work:"0.168267032",Walk_to_Work:"0.002743484",Bike_to_work:"0",Green_commute_share:"0.171010517",BA_plus_25_plus:"0.122206704",Med_HH_inc:"52809",Cost_burdened:"0.606315789",Very_cost_burdened:"0.25122807",Med_housing_value:"250000",Jobs:"1267",Job_density:"3440.619503",Housing_units:"1790",Housing_density:"4860.859441",Permit_density:"309.5742884",Permits_per_capita:"24.29667519",Subsidized_hsg_share:"0.058100559"},{TRACT_ID:"G5300330029507",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29507",GEOID:"53033029507",NAME:"295.07",NAMELSAD:"Census Tract 295.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1749224",AWATER:"0",INTPTLAT:"47.3671453",INTPTLON:"-122.1743525",Shape_Leng:"5745.973129",Shape_Area:"1749224.769",NHPD_Units:"0",Permits:"242",Pop:"3470",Pop_density:"5137.854696",Non_white_share:"0.536311239",White_non_hisp:"0.463688761",Black_non_hisp:"0.004899135",Asian_non_Hisp:"0.251585014",Hispanic:"0.050720461",Workers:"1694",Transit_to_work:"0.039551358",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.039551358",BA_plus_25_plus:"0.204653167",Med_HH_inc:"100700",Cost_burdened:"0.526315789",Very_cost_burdened:"0.292397661",Med_housing_value:"366600",Jobs:"4936",Job_density:"7308.487256",Housing_units:"948",Housing_density:"1403.65598",Permit_density:"358.3172439",Permits_per_capita:"69.74063401",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029508",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29508",GEOID:"53033029508",NAME:"295.08",NAMELSAD:"Census Tract 295.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2562172",AWATER:"34833",INTPTLAT:"47.3851005",INTPTLON:"-122.178779",Shape_Leng:"6446.505232",Shape_Area:"2597004.827",NHPD_Units:"0",Permits:"416",Pop:"3831",Pop_density:"3872.591087",Non_white_share:"0.440354999",White_non_hisp:"0.559645001",Black_non_hisp:"0.096580527",Asian_non_Hisp:"0.217436701",Hispanic:"0.08431219",Workers:"1888",Transit_to_work:"0.044491525",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.044491525",BA_plus_25_plus:"0.302736099",Med_HH_inc:"109000",Cost_burdened:"0.342342342",Very_cost_burdened:"0.045045045",Med_housing_value:"400300",Jobs:"62",Job_density:"62.67310034",Housing_units:"1166",Housing_density:"1178.658629",Permit_density:"420.5162861",Permits_per_capita:"108.5878361",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029602",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29602",GEOID:"53033029602",NAME:"296.02",NAMELSAD:"Census Tract 296.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6665522",AWATER:"47921",INTPTLAT:"47.3382029",INTPTLON:"-122.1880797",Shape_Leng:"12553.78345",Shape_Area:"6713438.459",NHPD_Units:"0",Permits:"1175",Pop:"6510",Pop_density:"2529.557715",Non_white_share:"0.400614439",White_non_hisp:"0.599385561",Black_non_hisp:"0.022580645",Asian_non_Hisp:"0.209831029",Hispanic:"0.104608295",Workers:"3545",Transit_to_work:"0.074753173",Walk_to_Work:"0.005641749",Bike_to_work:"0",Green_commute_share:"0.080394922",BA_plus_25_plus:"0.386953472",Med_HH_inc:"135845",Cost_burdened:"0.520408163",Very_cost_burdened:"0.285714286",Med_housing_value:"454300",Jobs:"249",Job_density:"96.75266835",Housing_units:"2087",Housing_density:"810.9350155",Permit_density:"456.5637964",Permits_per_capita:"180.4915515",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029603",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29603",GEOID:"53033029603",NAME:"296.03",NAMELSAD:"Census Tract 296.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1543490",AWATER:"5693",INTPTLAT:"47.3615608",INTPTLON:"-122.1880658",Shape_Leng:"5663.773877",Shape_Area:"1549180.324",NHPD_Units:"0",Permits:"186",Pop:"4325",Pop_density:"7257.383318",Non_white_share:"0.651560694",White_non_hisp:"0.348439306",Black_non_hisp:"0.088092486",Asian_non_Hisp:"0.353063584",Hispanic:"0.107745665",Workers:"2326",Transit_to_work:"0.064918315",Walk_to_Work:"0.011607911",Bike_to_work:"0",Green_commute_share:"0.076526225",BA_plus_25_plus:"0.339371534",Med_HH_inc:"108654",Cost_burdened:"0.376953125",Very_cost_burdened:"0",Med_housing_value:"372000",Jobs:"255",Job_density:"427.8919644",Housing_units:"1253",Housing_density:"2102.543653",Permit_density:"312.1094329",Permits_per_capita:"43.00578035",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029604",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29604",GEOID:"53033029604",NAME:"296.04",NAMELSAD:"Census Tract 296.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2407546",AWATER:"64463",INTPTLAT:"47.3535767",INTPTLON:"-122.1823359",Shape_Leng:"8105.569456",Shape_Area:"2472008.811",NHPD_Units:"262",Permits:"100",Pop:"3112",Pop_density:"3347.82513",Non_white_share:"0.404884319",White_non_hisp:"0.595115681",Black_non_hisp:"0.130141388",Asian_non_Hisp:"0.133033419",Hispanic:"0.029562982",Workers:"1348",Transit_to_work:"0.167655786",Walk_to_Work:"0.018545994",Bike_to_work:"0",Green_commute_share:"0.18620178",BA_plus_25_plus:"0.177797834",Med_HH_inc:"67882",Cost_burdened:"0.651933702",Very_cost_burdened:"0.135359116",Med_housing_value:"294600",Jobs:"542",Job_density:"583.0723715",Housing_units:"1010",Housing_density:"1086.537076",Permit_density:"107.5779283",Permits_per_capita:"32.13367609",Subsidized_hsg_share:"0.259405941"},{TRACT_ID:"G5300330029701",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29701",GEOID:"53033029701",NAME:"297.01",NAMELSAD:"Census Tract 297.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3422205",AWATER:"19062",INTPTLAT:"47.3748371",INTPTLON:"-122.2271478",Shape_Leng:"11668.03276",Shape_Area:"3441267.813",NHPD_Units:"100",Permits:"79",Pop:"4650",Pop_density:"3519.2061",Non_white_share:"0.453333333",White_non_hisp:"0.546666667",Black_non_hisp:"0.072043011",Asian_non_Hisp:"0.086021505",Hispanic:"0.272258065",Workers:"2102",Transit_to_work:"0.051379638",Walk_to_Work:"0.011417697",Bike_to_work:"0.011417697",Green_commute_share:"0.074215033",BA_plus_25_plus:"0.184163167",Med_HH_inc:"58545",Cost_burdened:"0.575506446",Very_cost_burdened:"0.316758748",Med_housing_value:"359600",Jobs:"4766",Job_density:"3606.997048",Housing_units:"2005",Housing_density:"1517.421125",Permit_density:"59.78866278",Permits_per_capita:"16.98924731",Subsidized_hsg_share:"0.049875312"},{TRACT_ID:"G5300330029702",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29702",GEOID:"53033029702",NAME:"297.02",NAMELSAD:"Census Tract 297.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7757183",AWATER:"215197",INTPTLAT:"47.3588998",INTPTLON:"-122.222478",Shape_Leng:"18141.06132",Shape_Area:"7972383.628",NHPD_Units:"151",Permits:"515",Pop:"2891",Pop_density:"965.2544779",Non_white_share:"0.602213767",White_non_hisp:"0.397786233",Black_non_hisp:"0.129712902",Asian_non_Hisp:"0.209961951",Hispanic:"0.239709443",Workers:"1198",Transit_to_work:"0.035893155",Walk_to_Work:"0.023372287",Bike_to_work:"0.00918197",Green_commute_share:"0.068447412",BA_plus_25_plus:"0.230305839",Med_HH_inc:"67045",Cost_burdened:"0.385714286",Very_cost_burdened:"0.174285714",Med_housing_value:"360200",Jobs:"1560",Job_density:"520.856792",Housing_units:"1184",Housing_density:"395.3169498",Permit_density:"171.9495179",Permits_per_capita:"178.1390522",Subsidized_hsg_share:"0.127533784"},{TRACT_ID:"G5300330029803",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29803",GEOID:"53033029803",NAME:"298.03",NAMELSAD:"Census Tract 298.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5399602",AWATER:"152809",INTPTLAT:"47.3647476",INTPTLON:"-122.2637248",Shape_Leng:"11619.6648",Shape_Area:"5552406.795",NHPD_Units:"0",Permits:"26",Pop:"3578",Pop_density:"1716.23343",Non_white_share:"0.542481833",White_non_hisp:"0.457518167",Black_non_hisp:"0.088596982",Asian_non_Hisp:"0.166014533",Hispanic:"0.191727222",Workers:"1975",Transit_to_work:"0.071392405",Walk_to_Work:"0.014683544",Bike_to_work:"0.011139241",Green_commute_share:"0.09721519",BA_plus_25_plus:"0.335844041",Med_HH_inc:"70435",Cost_burdened:"0.380868025",Very_cost_burdened:"0.099202834",Med_housing_value:"331400",Jobs:"673",Job_density:"322.8130514",Housing_units:"1524",Housing_density:"731.0060779",Permit_density:"12.4712323",Permits_per_capita:"7.266629402",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029804",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29804",GEOID:"53033029804",NAME:"298.04",NAMELSAD:"Census Tract 298.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2506782",AWATER:"0",INTPTLAT:"47.3614589",INTPTLON:"-122.2825109",Shape_Leng:"8347.263539",Shape_Area:"2506780.696",NHPD_Units:"0",Permits:"60",Pop:"4609",Pop_density:"4761.983771",Non_white_share:"0.430028206",White_non_hisp:"0.569971794",Black_non_hisp:"0.064005207",Asian_non_Hisp:"0.164894771",Hispanic:"0.089173356",Workers:"2229",Transit_to_work:"0.056976223",Walk_to_Work:"0",Bike_to_work:"0.010318528",Green_commute_share:"0.067294751",BA_plus_25_plus:"0.325966851",Med_HH_inc:"115795",Cost_burdened:"0.59025788",Very_cost_burdened:"0.103151862",Med_housing_value:"415800",Jobs:"141",Job_density:"145.6801284",Housing_units:"1529",Housing_density:"1579.751179",Permit_density:"61.99154399",Permits_per_capita:"13.01800824",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029805",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29805",GEOID:"53033029805",NAME:"298.05",NAMELSAD:"Census Tract 298.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3167566",AWATER:"2878",INTPTLAT:"47.3399246",INTPTLON:"-122.2716387",Shape_Leng:"9501.601555",Shape_Area:"3170450.459",NHPD_Units:"0",Permits:"132",Pop:"4697",Pop_density:"3840.543229",Non_white_share:"0.406216734",White_non_hisp:"0.593783266",Black_non_hisp:"0.100915478",Asian_non_Hisp:"0.124334682",Hispanic:"0.077922078",Workers:"1896",Transit_to_work:"0.015822785",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.015822785",BA_plus_25_plus:"0.253384913",Med_HH_inc:"94844",Cost_burdened:"0.201183432",Very_cost_burdened:"0.201183432",Med_housing_value:"348800",Jobs:"537",Job_density:"439.0827579",Housing_units:"1575",Housing_density:"1287.812558",Permit_density:"107.9309573",Permits_per_capita:"28.1030445",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029806",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29806",GEOID:"53033029806",NAME:"298.06",NAMELSAD:"Census Tract 298.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3690363",AWATER:"170101",INTPTLAT:"47.3499788",INTPTLON:"-122.2771826",Shape_Leng:"10467.89413",Shape_Area:"3860460.735",NHPD_Units:"0",Permits:"707",Pop:"5528",Pop_density:"3879.687249",Non_white_share:"0.625904486",White_non_hisp:"0.374095514",Black_non_hisp:"0.063314038",Asian_non_Hisp:"0.276410999",Hispanic:"0.175108538",Workers:"2969",Transit_to_work:"0.096665544",Walk_to_Work:"0.005725834",Bike_to_work:"0",Green_commute_share:"0.102391378",BA_plus_25_plus:"0.359495625",Med_HH_inc:"87296",Cost_burdened:"0.454545455",Very_cost_burdened:"0.069518717",Med_housing_value:"353000",Jobs:"144",Job_density:"101.0627648",Housing_units:"1971",Housing_density:"1383.296593",Permit_density:"496.1901022",Permits_per_capita:"127.894356",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330029901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29901",GEOID:"53033029901",NAME:"299.01",NAMELSAD:"Census Tract 299.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3958812",AWATER:"107134",INTPTLAT:"47.3240587",INTPTLON:"-122.282336",Shape_Leng:"8240.128995",Shape_Area:"4065949.221",NHPD_Units:"289",Permits:"157",Pop:"4716",Pop_density:"3085.365996",Non_white_share:"0.378922816",White_non_hisp:"0.621077184",Black_non_hisp:"0.134435963",Asian_non_Hisp:"0.107506361",Hispanic:"0.074639525",Workers:"2147",Transit_to_work:"0.041918957",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.041918957",BA_plus_25_plus:"0.213355049",Med_HH_inc:"91083",Cost_burdened:"0.506097561",Very_cost_burdened:"0.304878049",Med_housing_value:"328000",Jobs:"481",Job_density:"314.6863961",Housing_units:"1554",Housing_density:"1016.679126",Permit_density:"102.7146865",Permits_per_capita:"33.29092451",Subsidized_hsg_share:"0.185971686"},{TRACT_ID:"G5300330029902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"29902",GEOID:"53033029902",NAME:"299.02",NAMELSAD:"Census Tract 299.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6244310",AWATER:"0",INTPTLAT:"47.3205788",INTPTLON:"-122.2617029",Shape_Leng:"12326.36506",Shape_Area:"6244309.955",NHPD_Units:"0",Permits:"519",Pop:"4767",Pop_density:"1977.235807",Non_white_share:"0.433815817",White_non_hisp:"0.566184183",Black_non_hisp:"0.062303335",Asian_non_Hisp:"0.189007762",Hispanic:"0.070904133",Workers:"2367",Transit_to_work:"0.043092522",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.043092522",BA_plus_25_plus:"0.340554593",Med_HH_inc:"127500",Cost_burdened:"0.331395349",Very_cost_burdened:"0.26744186",Med_housing_value:"439000",Jobs:"2614",Job_density:"1084.223705",Housing_units:"1676",Housing_density:"695.164089",Permit_density:"215.2685932",Permits_per_capita:"108.8735053",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30003",GEOID:"53033030003",NAME:"300.03",NAMELSAD:"Census Tract 300.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4604664",AWATER:"963078",INTPTLAT:"47.3588458",INTPTLON:"-122.3152313",Shape_Leng:"12290.63211",Shape_Area:"4604667.984",NHPD_Units:"0",Permits:"292",Pop:"6770",Pop_density:"3807.925944",Non_white_share:"0.567503693",White_non_hisp:"0.432496307",Black_non_hisp:"0.144756278",Asian_non_Hisp:"0.072525849",Hispanic:"0.259084195",Workers:"3099",Transit_to_work:"0.069054534",Walk_to_Work:"0.017102291",Bike_to_work:"0",Green_commute_share:"0.086156825",BA_plus_25_plus:"0.278614458",Med_HH_inc:"70772",Cost_burdened:"0.704307334",Very_cost_burdened:"0.196740396",Med_housing_value:"384900",Jobs:"977",Job_density:"549.5337735",Housing_units:"2631",Housing_density:"1479.860141",Permit_density:"164.2414144",Permits_per_capita:"43.13146233",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030005",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30005",GEOID:"53033030005",NAME:"300.05",NAMELSAD:"Census Tract 300.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2163062",AWATER:"0",INTPTLAT:"47.3365978",INTPTLON:"-122.3028494",Shape_Leng:"5910.421608",Shape_Area:"2163060.323",NHPD_Units:"137",Permits:"146",Pop:"5633",Pop_density:"6744.791885",Non_white_share:"0.664122137",White_non_hisp:"0.335877863",Black_non_hisp:"0.06870229",Asian_non_Hisp:"0.108112906",Hispanic:"0.410616013",Workers:"2808",Transit_to_work:"0.101495726",Walk_to_Work:"0.001068376",Bike_to_work:"0",Green_commute_share:"0.102564103",BA_plus_25_plus:"0.19649699",Med_HH_inc:"75893",Cost_burdened:"0.422222222",Very_cost_burdened:"0.244444444",Med_housing_value:"296300",Jobs:"330",Job_density:"395.1324911",Housing_units:"1818",Housing_density:"2176.820814",Permit_density:"174.816193",Permits_per_capita:"25.91869341",Subsidized_hsg_share:"0.075357536"},{TRACT_ID:"G5300330030006",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30006",GEOID:"53033030006",NAME:"300.06",NAMELSAD:"Census Tract 300.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1993786",AWATER:"164002",INTPTLAT:"47.3240403",INTPTLON:"-122.3041394",Shape_Leng:"5780.681097",Shape_Area:"2157786.472",NHPD_Units:"223",Permits:"136",Pop:"4350",Pop_density:"5650.781117",Non_white_share:"0.735862069",White_non_hisp:"0.264137931",Black_non_hisp:"0.265977011",Asian_non_Hisp:"0.097241379",Hispanic:"0.328735632",Workers:"2095",Transit_to_work:"0.227207637",Walk_to_Work:"0.050596659",Bike_to_work:"0",Green_commute_share:"0.277804296",BA_plus_25_plus:"0.218545216",Med_HH_inc:"51442",Cost_burdened:"0.50719729",Very_cost_burdened:"0.221845893",Med_housing_value:"351500",Jobs:"2084",Job_density:"2707.178816",Housing_units:"1714",Housing_density:"2226.537663",Permit_density:"176.6680993",Permits_per_capita:"31.26436782",Subsidized_hsg_share:"0.130105018"},{TRACT_ID:"G5300330030007",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30007",GEOID:"53033030007",NAME:"300.07",NAMELSAD:"Census Tract 300.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"643528",AWATER:"0",INTPTLAT:"47.353129",INTPTLON:"-122.3075675",Shape_Leng:"3570.239689",Shape_Area:"643530.4084",NHPD_Units:"676",Permits:"141",Pop:"3414",Pop_density:"13740.22484",Non_white_share:"0.831282953",White_non_hisp:"0.168717047",Black_non_hisp:"0.424721734",Asian_non_Hisp:"0.050087873",Hispanic:"0.25102519",Workers:"1631",Transit_to_work:"0.104230533",Walk_to_Work:"0.006131208",Bike_to_work:"0",Green_commute_share:"0.110361741",BA_plus_25_plus:"0.234701224",Med_HH_inc:"41621",Cost_burdened:"0.675302245",Very_cost_burdened:"0.358376511",Med_housing_value:"374300",Jobs:"51",Job_density:"205.2581918",Housing_units:"1343",Housing_density:"5405.132383",Permit_density:"567.4785302",Permits_per_capita:"41.30052724",Subsidized_hsg_share:"0.503350707"},{TRACT_ID:"G5300330030008",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30008",GEOID:"53033030008",NAME:"300.08",NAMELSAD:"Census Tract 300.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1407520",AWATER:"0",INTPTLAT:"47.3487317",INTPTLON:"-122.3015522",Shape_Leng:"6212.342294",Shape_Area:"1407516.271",NHPD_Units:"162",Permits:"51",Pop:"4606",Pop_density:"8475.535151",Non_white_share:"0.678245766",White_non_hisp:"0.321754234",Black_non_hisp:"0.155015198",Asian_non_Hisp:"0.117021277",Hispanic:"0.244463743",Workers:"2454",Transit_to_work:"0.075794621",Walk_to_Work:"0.02200489",Bike_to_work:"0",Green_commute_share:"0.097799511",BA_plus_25_plus:"0.228183581",Med_HH_inc:"60198",Cost_burdened:"0.560636183",Very_cost_burdened:"0.392644135",Med_housing_value:"320900",Jobs:"160",Job_density:"294.4172002",Housing_units:"1773",Housing_density:"3262.5106",Permit_density:"93.84548257",Permits_per_capita:"11.07251411",Subsidized_hsg_share:"0.091370558"},{TRACT_ID:"G5300330030101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30101",GEOID:"53033030101",NAME:"301.01",NAMELSAD:"Census Tract 301.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3316611",AWATER:"1920873",INTPTLAT:"47.3332218",INTPTLON:"-122.3577607",Shape_Leng:"12399.09955",Shape_Area:"3316610.152",NHPD_Units:"0",Permits:"86",Pop:"4054",Pop_density:"3165.825537",Non_white_share:"0.404538727",White_non_hisp:"0.595461273",Black_non_hisp:"0.188702516",Asian_non_Hisp:"0.018253577",Hispanic:"0.027627035",Workers:"1587",Transit_to_work:"0.120352867",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.120352867",BA_plus_25_plus:"0.242898312",Med_HH_inc:"78542",Cost_burdened:"0.62350937",Very_cost_burdened:"0.420783646",Med_housing_value:"447400",Jobs:"193",Job_density:"150.7164106",Housing_units:"1612",Housing_density:"1258.83344",Permit_density:"67.15860783",Permits_per_capita:"21.21361618",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30102",GEOID:"53033030102",NAME:"301.02",NAMELSAD:"Census Tract 301.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2586301",AWATER:"0",INTPTLAT:"47.338177",INTPTLON:"-122.3285768",Shape_Leng:"8388.318258",Shape_Area:"2586299.894",NHPD_Units:"0",Permits:"58",Pop:"3674",Pop_density:"3679.237767",Non_white_share:"0.24251497",White_non_hisp:"0.75748503",Black_non_hisp:"0.010070768",Asian_non_Hisp:"0.128198149",Hispanic:"0.032934132",Workers:"1673",Transit_to_work:"0.059772863",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.059772863",BA_plus_25_plus:"0.477637419",Med_HH_inc:"91778",Cost_burdened:"0.449275362",Very_cost_burdened:"0.108695652",Med_housing_value:"486300",Jobs:"349",Job_density:"349.4975451",Housing_units:"1715",Housing_density:"1717.444957",Permit_density:"58.08268658",Permits_per_capita:"15.7866086",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030201",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30201",GEOID:"53033030201",NAME:"302.01",NAMELSAD:"Census Tract 302.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2807515",AWATER:"64020",INTPTLAT:"47.3206958",INTPTLON:"-122.3487088",Shape_Leng:"6955.671993",Shape_Area:"2871532.928",NHPD_Units:"11",Permits:"186",Pop:"5732",Pop_density:"5287.883359",Non_white_share:"0.498953245",White_non_hisp:"0.501046755",Black_non_hisp:"0.139043964",Asian_non_Hisp:"0.061235171",Hispanic:"0.206734124",Workers:"2857",Transit_to_work:"0.052852643",Walk_to_Work:"0.032901645",Bike_to_work:"0.005950298",Green_commute_share:"0.091704585",BA_plus_25_plus:"0.209009953",Med_HH_inc:"65819",Cost_burdened:"0.633333333",Very_cost_burdened:"0.156521739",Med_housing_value:"280900",Jobs:"319",Job_density:"294.2838087",Housing_units:"2006",Housing_density:"1850.574672",Permit_density:"171.5886784",Permits_per_capita:"32.44940684",Subsidized_hsg_share:"0.005483549"},{TRACT_ID:"G5300330030203",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30203",GEOID:"53033030203",NAME:"302.03",NAMELSAD:"Census Tract 302.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1488981",AWATER:"0",INTPTLAT:"47.3194456",INTPTLON:"-122.324909",Shape_Leng:"5591.708449",Shape_Area:"1488979.105",NHPD_Units:"300",Permits:"309",Pop:"3451",Pop_density:"6002.795851",Non_white_share:"0.56302521",White_non_hisp:"0.43697479",Black_non_hisp:"0.178788757",Asian_non_Hisp:"0.085192698",Hispanic:"0.209504491",Workers:"1788",Transit_to_work:"0.036912752",Walk_to_Work:"0.00950783",Bike_to_work:"0",Green_commute_share:"0.046420582",BA_plus_25_plus:"0.242551406",Med_HH_inc:"64304",Cost_burdened:"0.456460674",Very_cost_burdened:"0.335674157",Med_housing_value:"336600",Jobs:"1111",Job_density:"1932.514109",Housing_units:"1276",Housing_density:"2219.521155",Permit_density:"537.4859223",Permits_per_capita:"89.53926398",Subsidized_hsg_share:"0.235109718"},{TRACT_ID:"G5300330030204",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30204",GEOID:"53033030204",NAME:"302.04",NAMELSAD:"Census Tract 302.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1789757",AWATER:"0",INTPTLAT:"47.3284826",INTPTLON:"-122.3216107",Shape_Leng:"6248.761668",Shape_Area:"1789757.048",NHPD_Units:"80",Permits:"30",Pop:"3920",Pop_density:"5672.699362",Non_white_share:"0.394387755",White_non_hisp:"0.605612245",Black_non_hisp:"0.110969388",Asian_non_Hisp:"0.116581633",Hispanic:"0.139795918",Workers:"1574",Transit_to_work:"0.054002541",Walk_to_Work:"0.045743329",Bike_to_work:"0",Green_commute_share:"0.09974587",BA_plus_25_plus:"0.313876267",Med_HH_inc:"56694",Cost_burdened:"0.392484342",Very_cost_burdened:"0.185803758",Med_housing_value:"326000",Jobs:"890",Job_density:"1287.934294",Housing_units:"1468",Housing_density:"2124.368026",Permit_density:"43.41351553",Permits_per_capita:"7.653061224",Subsidized_hsg_share:"0.054495913"},{TRACT_ID:"G5300330030304",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30304",GEOID:"53033030304",NAME:"303.04",NAMELSAD:"Census Tract 303.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7535865",AWATER:"0",INTPTLAT:"47.276685",INTPTLON:"-122.3301341",Shape_Leng:"13314.36064",Shape_Area:"7535874.629",NHPD_Units:"293",Permits:"540",Pop:"4578",Pop_density:"1573.404721",Non_white_share:"0.611839231",White_non_hisp:"0.388160769",Black_non_hisp:"0.132153779",Asian_non_Hisp:"0.229139362",Hispanic:"0.185670599",Workers:"2064",Transit_to_work:"0.040697674",Walk_to_Work:"0.012112403",Bike_to_work:"0",Green_commute_share:"0.052810078",BA_plus_25_plus:"0.22019334",Med_HH_inc:"83520",Cost_burdened:"0.461363636",Very_cost_burdened:"0.143181818",Med_housing_value:"352500",Jobs:"2263",Job_density:"777.7664666",Housing_units:"1387",Housing_density:"476.6955763",Permit_density:"185.5916447",Permits_per_capita:"117.9554391",Subsidized_hsg_share:"0.211247296"},{TRACT_ID:"G5300330030305",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30305",GEOID:"53033030305",NAME:"303.05",NAMELSAD:"Census Tract 303.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3819389",AWATER:"999771",INTPTLAT:"47.3189904",INTPTLON:"-122.3888642",Shape_Leng:"9638.06876",Shape_Area:"3819390.785",NHPD_Units:"0",Permits:"161",Pop:"4765",Pop_density:"3231.221891",Non_white_share:"0.394333683",White_non_hisp:"0.605666317",Black_non_hisp:"0.101993704",Asian_non_Hisp:"0.120881427",Hispanic:"0.118363064",Workers:"2096",Transit_to_work:"0.144083969",Walk_to_Work:"0.006679389",Bike_to_work:"0",Green_commute_share:"0.150763359",BA_plus_25_plus:"0.367208272",Med_HH_inc:"64666",Cost_burdened:"0.699335548",Very_cost_burdened:"0.189368771",Med_housing_value:"390400",Jobs:"248",Job_density:"168.1727238",Housing_units:"2113",Housing_density:"1432.858731",Permit_density:"109.1766473",Permits_per_capita:"33.78803778",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030306",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30306",GEOID:"53033030306",NAME:"303.06",NAMELSAD:"Census Tract 303.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3705307",AWATER:"630354",INTPTLAT:"47.3130408",INTPTLON:"-122.3996459",Shape_Leng:"10724.217",Shape_Area:"3772081.793",NHPD_Units:"0",Permits:"78",Pop:"5751",Pop_density:"4019.915657",Non_white_share:"0.491392801",White_non_hisp:"0.508607199",Black_non_hisp:"0.116501478",Asian_non_Hisp:"0.152321335",Hispanic:"0.140497305",Workers:"2879",Transit_to_work:"0.049322681",Walk_to_Work:"0.006252171",Bike_to_work:"0",Green_commute_share:"0.055574852",BA_plus_25_plus:"0.360062893",Med_HH_inc:"102143",Cost_burdened:"0.27970297",Very_cost_burdened:"0.148514851",Med_housing_value:"368900",Jobs:"309",Job_density:"215.9892085",Housing_units:"1879",Housing_density:"1313.410106",Permit_density:"54.52154777",Permits_per_capita:"13.56285863",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030308",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30308",GEOID:"53033030308",NAME:"303.08",NAMELSAD:"Census Tract 303.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2154063",AWATER:"0",INTPTLAT:"47.3083168",INTPTLON:"-122.3520249",Shape_Leng:"6172.886069",Shape_Area:"2154063.492",NHPD_Units:"0",Permits:"5",Pop:"6059",Pop_density:"7285.180591",Non_white_share:"0.623535237",White_non_hisp:"0.376464763",Black_non_hisp:"0.173791055",Asian_non_Hisp:"0.127248721",Hispanic:"0.136821258",Workers:"3074",Transit_to_work:"0.079700716",Walk_to_Work:"0.030904359",Bike_to_work:"0.006180872",Green_commute_share:"0.116785947",BA_plus_25_plus:"0.319188684",Med_HH_inc:"73611",Cost_burdened:"0.499140893",Very_cost_burdened:"0.301546392",Med_housing_value:"420500",Jobs:"918",Job_density:"1103.778806",Housing_units:"2240",Housing_density:"2693.316475",Permit_density:"6.011867133",Permits_per_capita:"0.825218683",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030309",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30309",GEOID:"53033030309",NAME:"303.09",NAMELSAD:"Census Tract 303.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2194432",AWATER:"27034",INTPTLAT:"47.3034962",INTPTLON:"-122.3373003",Shape_Leng:"7641.468944",Shape_Area:"2221465.169",NHPD_Units:"0",Permits:"1",Pop:"5475",Pop_density:"6461.893057",Non_white_share:"0.573881279",White_non_hisp:"0.426118721",Black_non_hisp:"0.245479452",Asian_non_Hisp:"0.164200913",Hispanic:"0.087123288",Workers:"3219",Transit_to_work:"0.059956508",Walk_to_Work:"0.000931966",Bike_to_work:"0",Green_commute_share:"0.060888475",BA_plus_25_plus:"0.346003645",Med_HH_inc:"69278",Cost_burdened:"0.491120637",Very_cost_burdened:"0.210655236",Med_housing_value:"380200",Jobs:"1364",Job_density:"1609.867056",Housing_units:"2526",Housing_density:"2981.322714",Permit_density:"1.18025444",Permits_per_capita:"0.182648402",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030310",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30310",GEOID:"53033030310",NAME:"303.1",NAMELSAD:"Census Tract 303.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3205496",AWATER:"0",INTPTLAT:"47.2901057",INTPTLON:"-122.3495936",Shape_Leng:"7469.654212",Shape_Area:"3205490.06",NHPD_Units:"0",Permits:"409",Pop:"7171",Pop_density:"5794.0502",Non_white_share:"0.622786222",White_non_hisp:"0.377213778",Black_non_hisp:"0.081996932",Asian_non_Hisp:"0.260633106",Hispanic:"0.097057593",Workers:"3674",Transit_to_work:"0.03837779",Walk_to_Work:"0.011159499",Bike_to_work:"0",Green_commute_share:"0.049537289",BA_plus_25_plus:"0.394230769",Med_HH_inc:"109496",Cost_burdened:"0.482119205",Very_cost_burdened:"0.164238411",Med_housing_value:"415500",Jobs:"937",Job_density:"757.0806076",Housing_units:"2377",Housing_density:"1920.576952",Permit_density:"330.4652812",Permits_per_capita:"57.03528099",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030311",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30311",GEOID:"53033030311",NAME:"303.11",NAMELSAD:"Census Tract 303.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1900457",AWATER:"3993",INTPTLAT:"47.3078811",INTPTLON:"-122.368573",Shape_Leng:"6398.291228",Shape_Area:"1904447.4",NHPD_Units:"208",Permits:"3",Pop:"4686",Pop_density:"6386.192524",Non_white_share:"0.537772087",White_non_hisp:"0.462227913",Black_non_hisp:"0.106700811",Asian_non_Hisp:"0.10264618",Hispanic:"0.231754161",Workers:"2298",Transit_to_work:"0.069190601",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.069190601",BA_plus_25_plus:"0.22708082",Med_HH_inc:"90656",Cost_burdened:"0.432525952",Very_cost_burdened:"0.256055363",Med_housing_value:"332100",Jobs:"439",Job_density:"598.2796666",Housing_units:"1568",Housing_density:"2136.907784",Permit_density:"4.088471526",Permits_per_capita:"0.640204866",Subsidized_hsg_share:"0.132653061"},{TRACT_ID:"G5300330030312",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30312",GEOID:"53033030312",NAME:"303.12",NAMELSAD:"Census Tract 303.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1853047",AWATER:"0",INTPTLAT:"47.2932142",INTPTLON:"-122.3682021",Shape_Leng:"6503.7412",Shape_Area:"1853049.461",NHPD_Units:"0",Permits:"61",Pop:"5103",Pop_density:"7132.419915",Non_white_share:"0.555751519",White_non_hisp:"0.444248481",Black_non_hisp:"0.140701548",Asian_non_Hisp:"0.12776798",Hispanic:"0.148148148",Workers:"2483",Transit_to_work:"0.059605316",Walk_to_Work:"0.018525977",Bike_to_work:"0",Green_commute_share:"0.078131293",BA_plus_25_plus:"0.26037196",Med_HH_inc:"79236",Cost_burdened:"0.629582807",Very_cost_burdened:"0.274336283",Med_housing_value:"349600",Jobs:"368",Job_density:"514.3504858",Housing_units:"1855",Housing_density:"2592.717802",Permit_density:"85.25918378",Permits_per_capita:"11.95375269",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030313",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30313",GEOID:"53033030313",NAME:"303.13",NAMELSAD:"Census Tract 303.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4061855",AWATER:"0",INTPTLAT:"47.3002007",INTPTLON:"-122.3138424",Shape_Leng:"10365.54896",Shape_Area:"4061856.586",NHPD_Units:"266",Permits:"291",Pop:"5054",Pop_density:"3222.616245",Non_white_share:"0.682825485",White_non_hisp:"0.317174515",Black_non_hisp:"0.187772062",Asian_non_Hisp:"0.179461812",Hispanic:"0.216857934",Workers:"2312",Transit_to_work:"0.073096886",Walk_to_Work:"0.027681661",Bike_to_work:"0.010813149",Green_commute_share:"0.111591696",BA_plus_25_plus:"0.191226444",Med_HH_inc:"52259",Cost_burdened:"0.651215805",Very_cost_burdened:"0.165653495",Med_housing_value:"175000",Jobs:"8031",Job_density:"5120.860915",Housing_units:"2063",Housing_density:"1315.444661",Permit_density:"185.5523006",Permits_per_capita:"57.57815592",Subsidized_hsg_share:"0.128938439"},{TRACT_ID:"G5300330030314",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30314",GEOID:"53033030314",NAME:"303.14",NAMELSAD:"Census Tract 303.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2492084",AWATER:"0",INTPTLAT:"47.3080966",INTPTLON:"-122.3237353",Shape_Leng:"6224.886202",Shape_Area:"2492082.883",NHPD_Units:"189",Permits:"378",Pop:"4542",Pop_density:"4720.437191",Non_white_share:"0.664024659",White_non_hisp:"0.335975341",Black_non_hisp:"0.10457948",Asian_non_Hisp:"0.27675033",Hispanic:"0.200572435",Workers:"2055",Transit_to_work:"0.039902676",Walk_to_Work:"0.032603406",Bike_to_work:"0",Green_commute_share:"0.072506083",BA_plus_25_plus:"0.315804118",Med_HH_inc:"39277",Cost_burdened:"0.703942652",Very_cost_burdened:"0.268100358",Med_housing_value:"200700",Jobs:"7625",Job_density:"7924.556051",Housing_units:"2475",Housing_density:"2572.232948",Permit_density:"392.8501229",Permits_per_capita:"83.22324967",Subsidized_hsg_share:"0.076363636"},{TRACT_ID:"G5300330030403",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30403",GEOID:"53033030403",NAME:"304.03",NAMELSAD:"Census Tract 304.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3758274",AWATER:"6562",INTPTLAT:"47.2677487",INTPTLON:"-122.3092311",Shape_Leng:"9607.186512",Shape_Area:"3764837.182",NHPD_Units:"116",Permits:"238",Pop:"5114",Pop_density:"3524.277154",Non_white_share:"0.33770043",White_non_hisp:"0.66229957",Black_non_hisp:"0.186546734",Asian_non_Hisp:"0.090731326",Hispanic:"0.026789206",Workers:"2690",Transit_to_work:"0.066542751",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.066542751",BA_plus_25_plus:"0.367867036",Med_HH_inc:"91823",Cost_burdened:"0.640804598",Very_cost_burdened:"0.520114943",Med_housing_value:"378400",Jobs:"247",Job_density:"170.2183138",Housing_units:"1839",Housing_density:"1267.333924",Permit_density:"164.0160271",Permits_per_capita:"46.53891279",Subsidized_hsg_share:"0.06307776"},{TRACT_ID:"G5300330030404",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30404",GEOID:"53033030404",NAME:"304.04",NAMELSAD:"Census Tract 304.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5998037",AWATER:"215746",INTPTLAT:"47.267424",INTPTLON:"-122.2759315",Shape_Leng:"12085.36878",Shape_Area:"6213785.914",NHPD_Units:"0",Permits:"558",Pop:"4813",Pop_density:"2078.282074",Non_white_share:"0.340951589",White_non_hisp:"0.659048411",Black_non_hisp:"0.031996676",Asian_non_Hisp:"0.098275504",Hispanic:"0.106794099",Workers:"2606",Transit_to_work:"0.035686876",Walk_to_Work:"0.046815042",Bike_to_work:"0",Green_commute_share:"0.082501919",BA_plus_25_plus:"0.23145933",Med_HH_inc:"100673",Cost_burdened:"0.248730964",Very_cost_burdened:"0.096446701",Med_housing_value:"396800",Jobs:"333",Job_density:"143.7913839",Housing_units:"1629",Housing_density:"703.4119049",Permit_density:"240.9477243",Permits_per_capita:"115.9360066",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030405",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30405",GEOID:"53033030405",NAME:"304.05",NAMELSAD:"Census Tract 304.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4929005",AWATER:"87963",INTPTLAT:"47.2908056",INTPTLON:"-122.270252",Shape_Leng:"11170.5158",Shape_Area:"5016969.966",NHPD_Units:"0",Permits:"336",Pop:"3539",Pop_density:"1859.598017",Non_white_share:"0.185080531",White_non_hisp:"0.814919469",Black_non_hisp:"0.002825657",Asian_non_Hisp:"0.040406895",Hispanic:"0.044927946",Workers:"1517",Transit_to_work:"0.011206328",Walk_to_Work:"0.01252472",Bike_to_work:"0",Green_commute_share:"0.023731048",BA_plus_25_plus:"0.220829732",Med_HH_inc:"82763",Cost_burdened:"0.357142857",Very_cost_burdened:"0.03125",Med_housing_value:"362600",Jobs:"344",Job_density:"180.7577614",Housing_units:"1214",Housing_density:"637.9067511",Permit_density:"176.5540926",Permits_per_capita:"94.94207403",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030406",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30406",GEOID:"53033030406",NAME:"304.06",NAMELSAD:"Census Tract 304.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2680316",AWATER:"70290",INTPTLAT:"47.2857643",INTPTLON:"-122.2897663",Shape_Leng:"8747.417691",Shape_Area:"2750605.385",NHPD_Units:"0",Permits:"138",Pop:"3039",Pop_density:"2936.584293",Non_white_share:"0.553800592",White_non_hisp:"0.446199408",Black_non_hisp:"0.132938467",Asian_non_Hisp:"0.00822639",Hispanic:"0.228364594",Workers:"1592",Transit_to_work:"0.047738693",Walk_to_Work:"0.082914573",Bike_to_work:"0",Green_commute_share:"0.130653266",BA_plus_25_plus:"0.274696249",Med_HH_inc:"68559",Cost_burdened:"0.579487179",Very_cost_burdened:"0.275213675",Med_housing_value:"367000",Jobs:"64",Job_density:"61.84317038",Housing_units:"1175",Housing_density:"1135.401956",Permit_density:"133.3493361",Permits_per_capita:"45.40967423",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030407",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30407",GEOID:"53033030407",NAME:"304.07",NAMELSAD:"Census Tract 304.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4497215",AWATER:"184183",INTPTLAT:"47.3109875",INTPTLON:"-122.286418",Shape_Leng:"9841.827362",Shape_Area:"4681392.575",NHPD_Units:"0",Permits:"766",Pop:"2290",Pop_density:"1318.832382",Non_white_share:"0.4930131",White_non_hisp:"0.5069869",Black_non_hisp:"0.048908297",Asian_non_Hisp:"0.238427948",Hispanic:"0.110917031",Workers:"1146",Transit_to_work:"0.039267016",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.039267016",BA_plus_25_plus:"0.324667473",Med_HH_inc:"75929",Cost_burdened:"0.436507937",Very_cost_burdened:"0.198412698",Med_housing_value:"408200",Jobs:"1939",Job_density:"1116.688205",Housing_units:"906",Housing_density:"521.7738596",Permit_density:"441.1465524",Permits_per_capita:"334.4978166",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030501",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30501",GEOID:"53033030501",NAME:"305.01",NAMELSAD:"Census Tract 305.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11369294",AWATER:"43830",INTPTLAT:"47.3273852",INTPTLON:"-122.2353377",Shape_Leng:"15391.19092",Shape_Area:"11413121.44",NHPD_Units:"712",Permits:"318",Pop:"2184",Pop_density:"497.52729",Non_white_share:"0.408424908",White_non_hisp:"0.591575092",Black_non_hisp:"0.128205128",Asian_non_Hisp:"0.068223443",Hispanic:"0.090201465",Workers:"994",Transit_to_work:"0.10362173",Walk_to_Work:"0.094567404",Bike_to_work:"0.009054326",Green_commute_share:"0.207243461",BA_plus_25_plus:"0.158940397",Med_HH_inc:"32283",Cost_burdened:"0.584632517",Very_cost_burdened:"0.31403118",Med_housing_value:"277000",Jobs:"18864",Job_density:"4297.323626",Housing_units:"1377",Housing_density:"313.6882227",Permit_density:"72.44216036",Permits_per_capita:"145.6043956",Subsidized_hsg_share:"0.517066086"},{TRACT_ID:"G5300330030503",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30503",GEOID:"53033030503",NAME:"305.03",NAMELSAD:"Census Tract 305.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3121911",AWATER:"64270",INTPTLAT:"47.3427791",INTPTLON:"-122.2131216",Shape_Leng:"8969.11863",Shape_Area:"3186176.199",NHPD_Units:"24",Permits:"1154",Pop:"5101",Pop_density:"4231.872514",Non_white_share:"0.484610861",White_non_hisp:"0.515389139",Black_non_hisp:"0.204273672",Asian_non_Hisp:"0.082140757",Hispanic:"0.080572437",Workers:"2190",Transit_to_work:"0.096347032",Walk_to_Work:"0.010502283",Bike_to_work:"0.012785388",Green_commute_share:"0.119634703",BA_plus_25_plus:"0.256924546",Med_HH_inc:"58783",Cost_burdened:"0.571703561",Very_cost_burdened:"0.286814244",Med_housing_value:"331900",Jobs:"2112",Job_density:"1752.149529",Housing_units:"2341",Housing_density:"1942.131651",Permit_density:"957.3771575",Permits_per_capita:"226.230151",Subsidized_hsg_share:"0.010252029"},{TRACT_ID:"G5300330030504",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30504",GEOID:"53033030504",NAME:"305.04",NAMELSAD:"Census Tract 305.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1524224",AWATER:"42762",INTPTLAT:"47.3211155",INTPTLON:"-122.2135048",Shape_Leng:"5788.782884",Shape_Area:"1566986.534",NHPD_Units:"180",Permits:"9",Pop:"4845",Pop_density:"8232.708837",Non_white_share:"0.448090815",White_non_hisp:"0.551909185",Black_non_hisp:"0.126934985",Asian_non_Hisp:"0.079876161",Hispanic:"0.10877193",Workers:"2184",Transit_to_work:"0.039377289",Walk_to_Work:"0.036630037",Bike_to_work:"0",Green_commute_share:"0.076007326",BA_plus_25_plus:"0.179312389",Med_HH_inc:"66528",Cost_burdened:"0.372453928",Very_cost_burdened:"0.122211445",Med_housing_value:"238200",Jobs:"826",Job_density:"1403.553663",Housing_units:"2103",Housing_density:"3573.454424",Permit_density:"15.29295759",Permits_per_capita:"1.857585139",Subsidized_hsg_share:"0.085592011"},{TRACT_ID:"G5300330030600",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30600",GEOID:"53033030600",NAME:"306",NAMELSAD:"Census Tract 306",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3379427",AWATER:"77105",INTPTLAT:"47.3069144",INTPTLON:"-122.2074969",Shape_Leng:"11514.2755",Shape_Area:"3456527.216",NHPD_Units:"36",Permits:"73",Pop:"5951",Pop_density:"4560.838049",Non_white_share:"0.361451857",White_non_hisp:"0.638548143",Black_non_hisp:"0.025541926",Asian_non_Hisp:"0.055452865",Hispanic:"0.137623929",Workers:"2940",Transit_to_work:"0.05170068",Walk_to_Work:"0.030272109",Bike_to_work:"0.005442177",Green_commute_share:"0.087414966",BA_plus_25_plus:"0.183947304",Med_HH_inc:"70901",Cost_burdened:"0.467666354",Very_cost_burdened:"0.216494845",Med_housing_value:"333200",Jobs:"4609",Job_density:"3532.331132",Housing_units:"2359",Housing_density:"1807.93429",Permit_density:"55.94709756",Permits_per_capita:"12.26684591",Subsidized_hsg_share:"0.015260704"},{TRACT_ID:"G5300330030700",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30700",GEOID:"53033030700",NAME:"307",NAMELSAD:"Census Tract 307",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1553394",AWATER:"0",INTPTLAT:"47.2971234",INTPTLON:"-122.2215759",Shape_Leng:"5335.061742",Shape_Area:"1553393.73",NHPD_Units:"119",Permits:"48",Pop:"4162",Pop_density:"6939.340898",Non_white_share:"0.581691494",White_non_hisp:"0.418308506",Black_non_hisp:"0.099231139",Asian_non_Hisp:"0.046131667",Hispanic:"0.283998078",Workers:"2119",Transit_to_work:"0.038697499",Walk_to_Work:"0.015573384",Bike_to_work:"0.003303445",Green_commute_share:"0.057574328",BA_plus_25_plus:"0.122289371",Med_HH_inc:"49583",Cost_burdened:"0.512993263",Very_cost_burdened:"0.292589028",Med_housing_value:"272100",Jobs:"959",Job_density:"1598.949525",Housing_units:"1696",Housing_density:"2827.756406",Permit_density:"80.03084169",Permits_per_capita:"11.53291687",Subsidized_hsg_share:"0.070165094"},{TRACT_ID:"G5300330030801",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30801",GEOID:"53033030801",NAME:"308.01",NAMELSAD:"Census Tract 308.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6956937",AWATER:"33590",INTPTLAT:"47.2882624",INTPTLON:"-122.2362214",Shape_Leng:"16093.02321",Shape_Area:"6990529.809",NHPD_Units:"50",Permits:"26",Pop:"6749",Pop_density:"2512.575542",Non_white_share:"0.725588976",White_non_hisp:"0.274411024",Black_non_hisp:"0.091124611",Asian_non_Hisp:"0.018224922",Hispanic:"0.541265373",Workers:"2825",Transit_to_work:"0.087433628",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.087433628",BA_plus_25_plus:"0.076799572",Med_HH_inc:"57731",Cost_burdened:"0.517826825",Very_cost_burdened:"0.26910017",Med_housing_value:"25600",Jobs:"12544",Job_density:"4669.987791",Housing_units:"2267",Housing_density:"843.9781826",Permit_density:"9.679502756",Permits_per_capita:"3.852422581",Subsidized_hsg_share:"0.02205558"},{TRACT_ID:"G5300330030802",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30802",GEOID:"53033030802",NAME:"308.02",NAMELSAD:"Census Tract 308.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1385571",AWATER:"0",INTPTLAT:"47.2861014",INTPTLON:"-122.2136873",Shape_Leng:"5735.234088",Shape_Area:"1385569.741",NHPD_Units:"224",Permits:"18",Pop:"3530",Pop_density:"6598.47675",Non_white_share:"0.47082153",White_non_hisp:"0.52917847",Black_non_hisp:"0.028045326",Asian_non_Hisp:"0.083852691",Hispanic:"0.164022663",Workers:"1705",Transit_to_work:"0.082111437",Walk_to_Work:"0.02111437",Bike_to_work:"0",Green_commute_share:"0.103225806",BA_plus_25_plus:"0.17394855",Med_HH_inc:"55451",Cost_burdened:"0.549488055",Very_cost_burdened:"0.337883959",Med_housing_value:"288200",Jobs:"209",Job_density:"390.6746858",Housing_units:"1492",Housing_density:"2788.93125",Permit_density:"33.64662366",Permits_per_capita:"5.099150142",Subsidized_hsg_share:"0.150134048"},{TRACT_ID:"G5300330030901",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30901",GEOID:"53033030901",NAME:"309.01",NAMELSAD:"Census Tract 309.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3121700",AWATER:"0",INTPTLAT:"47.2807128",INTPTLON:"-122.2531121",Shape_Leng:"9095.538452",Shape_Area:"3121708.089",NHPD_Units:"0",Permits:"279",Pop:"3959",Pop_density:"3284.672752",Non_white_share:"0.617075019",White_non_hisp:"0.382924981",Black_non_hisp:"0.118969437",Asian_non_Hisp:"0.135892902",Hispanic:"0.209143723",Workers:"1982",Transit_to_work:"0.042885974",Walk_to_Work:"0",Bike_to_work:"0.00605449",Green_commute_share:"0.048940464",BA_plus_25_plus:"0.168958743",Med_HH_inc:"90469",Cost_burdened:"0.362549801",Very_cost_burdened:"0.103585657",Med_housing_value:"301300",Jobs:"2001",Job_density:"1660.174331",Housing_units:"1174",Housing_density:"974.0353146",Permit_density:"231.4785799",Permits_per_capita:"70.4723415",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330030902",STATEFP:"53",COUNTYFP:"33",TRACTCE:"30902",GEOID:"53033030902",NAME:"309.02",NAMELSAD:"Census Tract 309.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3905389",AWATER:"46988",INTPTLAT:"47.2657557",INTPTLON:"-122.2444934",Shape_Leng:"9776.740646",Shape_Area:"3952378.804",NHPD_Units:"75",Permits:"481",Pop:"6128",Pop_density:"4063.986235",Non_white_share:"0.53247389",White_non_hisp:"0.46752611",Black_non_hisp:"0.058746736",Asian_non_Hisp:"0.152415144",Hispanic:"0.174281984",Workers:"3237",Transit_to_work:"0.015755329",Walk_to_Work:"0.015755329",Bike_to_work:"0",Green_commute_share:"0.031510658",BA_plus_25_plus:"0.207222492",Med_HH_inc:"59475",Cost_burdened:"0.707012488",Very_cost_burdened:"0.201729107",Med_housing_value:"293900",Jobs:"457",Job_density:"303.0746915",Housing_units:"2192",Housing_density:"1453.697426",Permit_density:"318.9910867",Permits_per_capita:"78.4921671",Subsidized_hsg_share:"0.034215328"},{TRACT_ID:"G5300330031000",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31000",GEOID:"53033031000",NAME:"310",NAMELSAD:"Census Tract 310",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12462097",AWATER:"292603",INTPTLAT:"47.268951",INTPTLON:"-122.1862092",Shape_Leng:"16950.99214",Shape_Area:"12754703.2",NHPD_Units:"0",Permits:"658",Pop:"4300",Pop_density:"893.6657189",Non_white_share:"0.357209302",White_non_hisp:"0.642790698",Black_non_hisp:"0.093953488",Asian_non_Hisp:"0.094883721",Hispanic:"0.084186047",Workers:"2546",Transit_to_work:"0.087981147",Walk_to_Work:"0.010212097",Bike_to_work:"0",Green_commute_share:"0.098193244",BA_plus_25_plus:"0.48709068",Med_HH_inc:"111563",Cost_burdened:"0.510548523",Very_cost_burdened:"0.426160338",Med_housing_value:"419300",Jobs:"466",Job_density:"96.84842442",Housing_units:"1734",Housing_density:"360.3758969",Permit_density:"136.7516379",Permits_per_capita:"153.0232558",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031101",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31101",GEOID:"53033031101",NAME:"311.01",NAMELSAD:"Census Tract 311.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4989541",AWATER:"64354",INTPTLAT:"47.2932886",INTPTLON:"-122.1877375",Shape_Leng:"11198.70638",Shape_Area:"5053897.807",NHPD_Units:"0",Permits:"32",Pop:"4488",Pop_density:"2329.646482",Non_white_share:"0.616087344",White_non_hisp:"0.383912656",Black_non_hisp:"0.032085561",Asian_non_Hisp:"0.052139037",Hispanic:"0.210784314",Workers:"2212",Transit_to_work:"0.025316456",Walk_to_Work:"0.012658228",Bike_to_work:"0.001356239",Green_commute_share:"0.039330922",BA_plus_25_plus:"0.211656442",Med_HH_inc:"72378",Cost_burdened:"0.336021505",Very_cost_burdened:"0.225806452",Med_housing_value:"298800",Jobs:"1920",Job_density:"996.6402063",Housing_units:"1536",Housing_density:"797.3121651",Permit_density:"16.61067011",Permits_per_capita:"7.130124777",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31102",GEOID:"53033031102",NAME:"311.02",NAMELSAD:"Census Tract 311.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2316959",AWATER:"60932",INTPTLAT:"47.2834938",INTPTLON:"-122.1949103",Shape_Leng:"9296.259417",Shape_Area:"2377890.962",NHPD_Units:"0",Permits:"19",Pop:"3078",Pop_density:"3440.709742",Non_white_share:"0.451916829",White_non_hisp:"0.548083171",Black_non_hisp:"0.060103964",Asian_non_Hisp:"0.063677713",Hispanic:"0.184535413",Workers:"1598",Transit_to_work:"0.014392991",Walk_to_Work:"0.020025031",Bike_to_work:"0",Green_commute_share:"0.034418023",BA_plus_25_plus:"0.212577502",Med_HH_inc:"65673",Cost_burdened:"0.712209302",Very_cost_burdened:"0.406976744",Med_housing_value:"229100",Jobs:"174",Job_density:"194.5040595",Housing_units:"1350",Housing_density:"1509.08322",Permit_density:"21.23894903",Permits_per_capita:"6.172839506",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031202",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31202",GEOID:"53033031202",NAME:"312.02",NAMELSAD:"Census Tract 312.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"66574091",AWATER:"1019606",INTPTLAT:"47.2520052",INTPTLON:"-122.0674874",Shape_Leng:"46961.65783",Shape_Area:"67593692.09",NHPD_Units:"0",Permits:"247",Pop:"6626",Pop_density:"257.7768763",Non_white_share:"0.380169031",White_non_hisp:"0.619830969",Black_non_hisp:"0.025656505",Asian_non_Hisp:"0.001811047",Hispanic:"0.114095986",Workers:"2655",Transit_to_work:"0.021092279",Walk_to_Work:"0.025612053",Bike_to_work:"0",Green_commute_share:"0.046704331",BA_plus_25_plus:"0.270410571",Med_HH_inc:"91375",Cost_burdened:"0.121293801",Very_cost_burdened:"0.035040431",Med_housing_value:"479400",Jobs:"2000",Job_density:"77.80768979",Housing_units:"2289",Housing_density:"89.05090097",Permit_density:"9.609249689",Permits_per_capita:"37.27739209",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031204",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31204",GEOID:"53033031204",NAME:"312.04",NAMELSAD:"Census Tract 312.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"36877757",AWATER:"601520",INTPTLAT:"47.306388",INTPTLON:"-122.129911",Shape_Leng:"30779.85483",Shape_Area:"37479273.66",NHPD_Units:"0",Permits:"332",Pop:"6211",Pop_density:"436.2091803",Non_white_share:"0.2310417",White_non_hisp:"0.7689583",Black_non_hisp:"0.003542103",Asian_non_Hisp:"0.029463854",Hispanic:"0.077604251",Workers:"2839",Transit_to_work:"0.000704473",Walk_to_Work:"0.006692497",Bike_to_work:"0",Green_commute_share:"0.007396971",BA_plus_25_plus:"0.332888296",Med_HH_inc:"102897",Cost_burdened:"0.113879004",Very_cost_burdened:"0",Med_housing_value:"451800",Jobs:"718",Job_density:"50.42637119",Housing_units:"2356",Housing_density:"165.46592",Permit_density:"23.3169293",Permits_per_capita:"53.45355015",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031206",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31206",GEOID:"53033031206",NAME:"312.06",NAMELSAD:"Census Tract 312.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3633545",AWATER:"59492",INTPTLAT:"47.3135679",INTPTLON:"-122.1836163",Shape_Leng:"11368.90678",Shape_Area:"3693036.65",NHPD_Units:"90",Permits:"177",Pop:"5630",Pop_density:"4013.059715",Non_white_share:"0.496625222",White_non_hisp:"0.503374778",Black_non_hisp:"0.009236234",Asian_non_Hisp:"0.151154529",Hispanic:"0.248845471",Workers:"2110",Transit_to_work:"0.045023697",Walk_to_Work:"0.028909953",Bike_to_work:"0",Green_commute_share:"0.073933649",BA_plus_25_plus:"0.279239303",Med_HH_inc:"83176",Cost_burdened:"0.526315789",Very_cost_burdened:"0.240761478",Med_housing_value:"334200",Jobs:"1158",Job_density:"825.4215186",Housing_units:"1931",Housing_density:"1376.41533",Permit_density:"126.1654653",Permits_per_capita:"31.43872114",Subsidized_hsg_share:"0.046607975"},{TRACT_ID:"G5300330031207",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31207",GEOID:"53033031207",NAME:"312.07",NAMELSAD:"Census Tract 312.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3261583",AWATER:"3323",INTPTLAT:"47.3314691",INTPTLON:"-122.1622948",Shape_Leng:"10448.66517",Shape_Area:"3264906.118",NHPD_Units:"674",Permits:"989",Pop:"4153",Pop_density:"3297.852798",Non_white_share:"0.600529738",White_non_hisp:"0.399470262",Black_non_hisp:"0.124729111",Asian_non_Hisp:"0.237177944",Hispanic:"0.095593547",Workers:"1973",Transit_to_work:"0.091231627",Walk_to_Work:"0.011150532",Bike_to_work:"0",Green_commute_share:"0.102382159",BA_plus_25_plus:"0.216291024",Med_HH_inc:"94461",Cost_burdened:"0.524770642",Very_cost_burdened:"0.27706422",Med_housing_value:"463900",Jobs:"161",Job_density:"127.8483748",Housing_units:"1290",Housing_density:"1024.375177",Permit_density:"785.3543022",Permits_per_capita:"238.1411028",Subsidized_hsg_share:"0.52248062"},{TRACT_ID:"G5300330031208",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31208",GEOID:"53033031208",NAME:"312.08",NAMELSAD:"Census Tract 312.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2618661",AWATER:"38070",INTPTLAT:"47.3222578",INTPTLON:"-122.1936851",Shape_Leng:"10023.45524",Shape_Area:"2656729.004",NHPD_Units:"0",Permits:"257",Pop:"4570",Pop_density:"4519.961027",Non_white_share:"0.456673961",White_non_hisp:"0.543326039",Black_non_hisp:"0.044420131",Asian_non_Hisp:"0.220568928",Hispanic:"0.126914661",Workers:"2375",Transit_to_work:"0.034947368",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.034947368",BA_plus_25_plus:"0.279266055",Med_HH_inc:"73825",Cost_burdened:"0.453376206",Very_cost_burdened:"0.398713826",Med_housing_value:"414500",Jobs:"824",Job_density:"814.9776557",Housing_units:"1459",Housing_density:"1443.024757",Permit_density:"254.1859921",Permits_per_capita:"56.23632385",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031301",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31301",GEOID:"53033031301",NAME:"313.01",NAMELSAD:"Census Tract 313.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"32978507",AWATER:"459434",INTPTLAT:"47.2046996",INTPTLON:"-122.0589541",Shape_Leng:"31208.3279",Shape_Area:"33437944.11",NHPD_Units:"0",Permits:"82",Pop:"2189",Pop_density:"171.9145131",Non_white_share:"0.168113294",White_non_hisp:"0.831886706",Black_non_hisp:"0",Asian_non_Hisp:"0.008222933",Hispanic:"0.10324349",Workers:"899",Transit_to_work:"0.027808676",Walk_to_Work:"0.012235818",Bike_to_work:"0",Green_commute_share:"0.040044494",BA_plus_25_plus:"0.24718398",Med_HH_inc:"91667",Cost_burdened:"0.84",Very_cost_burdened:"0.76",Med_housing_value:"481300",Jobs:"327",Job_density:"25.68115385",Housing_units:"987",Housing_density:"77.51467539",Permit_density:"6.439922373",Permits_per_capita:"37.46002741",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031302",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31302",GEOID:"53033031302",NAME:"313.02",NAMELSAD:"Census Tract 313.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"10837906",AWATER:"111632",INTPTLAT:"47.1859751",INTPTLON:"-122.0119002",Shape_Leng:"16587.84509",Shape_Area:"10949538.2",NHPD_Units:"137",Permits:"187",Pop:"4485",Pop_density:"1071.802678",Non_white_share:"0.216499443",White_non_hisp:"0.783500557",Black_non_hisp:"0.014715719",Asian_non_Hisp:"0.002006689",Hispanic:"0.15206243",Workers:"2214",Transit_to_work:"0.040650407",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.040650407",BA_plus_25_plus:"0.215254237",Med_HH_inc:"54729",Cost_burdened:"0.573502722",Very_cost_burdened:"0.413793103",Med_housing_value:"319900",Jobs:"1004",Job_density:"239.9308559",Housing_units:"1937",Housing_density:"462.8944899",Permit_density:"44.68831679",Permits_per_capita:"41.69453735",Subsidized_hsg_share:"0.07072793"},{TRACT_ID:"G5300330031400",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31400",GEOID:"53033031400",NAME:"314",NAMELSAD:"Census Tract 314",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6362544",AWATER:"1179",INTPTLAT:"47.206636",INTPTLON:"-121.9889145",Shape_Leng:"11315.87928",Shape_Area:"6363721.046",NHPD_Units:"35",Permits:"186",Pop:"6128",Pop_density:"2494.512751",Non_white_share:"0.188805483",White_non_hisp:"0.811194517",Black_non_hisp:"0.004732376",Asian_non_Hisp:"0.01517624",Hispanic:"0.100522193",Workers:"3190",Transit_to_work:"0.020062696",Walk_to_Work:"0.011598746",Bike_to_work:"0",Green_commute_share:"0.031661442",BA_plus_25_plus:"0.298669073",Med_HH_inc:"95874",Cost_burdened:"0.435760171",Very_cost_burdened:"0.173447537",Med_housing_value:"350400",Jobs:"3902",Job_density:"1588.379366",Housing_units:"2506",Housing_density:"1020.112427",Permit_density:"75.71464944",Permits_per_capita:"30.35248042",Subsidized_hsg_share:"0.01396648"},{TRACT_ID:"G5300330031501",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31501",GEOID:"53033031501",NAME:"315.01",NAMELSAD:"Census Tract 315.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"161493800",AWATER:"2001827",INTPTLAT:"47.32038",INTPTLON:"-121.8791431",Shape_Leng:"88293.04351",Shape_Area:"163495624.7",NHPD_Units:"0",Permits:"362",Pop:"3967",Pop_density:"63.62153119",Non_white_share:"0.113687925",White_non_hisp:"0.886312075",Black_non_hisp:"0",Asian_non_Hisp:"0.014116461",Hispanic:"0.016385178",Workers:"1981",Transit_to_work:"0.01817264",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.01817264",BA_plus_25_plus:"0.315228967",Med_HH_inc:"94688",Cost_burdened:"0.526011561",Very_cost_burdened:"0.156069364",Med_housing_value:"476000",Jobs:"315",Job_density:"5.051873538",Housing_units:"1485",Housing_density:"23.81597525",Permit_density:"5.805645145",Permits_per_capita:"91.2528359",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031502",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31502",GEOID:"53033031502",NAME:"315.02",NAMELSAD:"Census Tract 315.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1025836912",AWATER:"9158672",INTPTLAT:"47.2402889",INTPTLON:"-121.6344475",Shape_Leng:"223123.4145",Shape_Area:"1034995661",NHPD_Units:"42",Permits:"500",Pop:"4740",Pop_density:"11.96734442",Non_white_share:"0.167721519",White_non_hisp:"0.832278481",Black_non_hisp:"0",Asian_non_Hisp:"0.01371308",Hispanic:"0.103586498",Workers:"2463",Transit_to_work:"0.00365408",Walk_to_Work:"0.002030045",Bike_to_work:"0.007308161",Green_commute_share:"0.012992286",BA_plus_25_plus:"0.289994502",Med_HH_inc:"92717",Cost_burdened:"0.387434555",Very_cost_burdened:"0.083769634",Med_housing_value:"428300",Jobs:"707",Job_density:"1.785002638",Housing_units:"2067",Housing_density:"5.218671079",Permit_density:"1.262378103",Permits_per_capita:"105.4852321",Subsidized_hsg_share:"0.020319303"},{TRACT_ID:"G5300330031601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31601",GEOID:"53033031601",NAME:"316.01",NAMELSAD:"Census Tract 316.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14669540",AWATER:"418506",INTPTLAT:"47.3317137",INTPTLON:"-122.0861127",Shape_Leng:"18602.55363",Shape_Area:"15088048.73",NHPD_Units:"0",Permits:"431",Pop:"5551",Pop_density:"980.0596338",Non_white_share:"0.253287696",White_non_hisp:"0.746712304",Black_non_hisp:"0.006665466",Asian_non_Hisp:"0.072959827",Hispanic:"0.150783643",Workers:"3157",Transit_to_work:"0.022489705",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.022489705",BA_plus_25_plus:"0.300936472",Med_HH_inc:"110739",Cost_burdened:"0.117073171",Very_cost_burdened:"0.117073171",Med_housing_value:"471500",Jobs:"262",Job_density:"46.25754352",Housing_units:"2027",Housing_density:"357.878018",Permit_density:"76.09542464",Permits_per_capita:"77.64366781",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031603",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31603",GEOID:"53033031603",NAME:"316.03",NAMELSAD:"Census Tract 316.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"55964494",AWATER:"1522722",INTPTLAT:"47.3236554",INTPTLON:"-121.991822",Shape_Leng:"44916.41416",Shape_Area:"57487211.09",NHPD_Units:"0",Permits:"1264",Pop:"6967",Pop_density:"322.4267008",Non_white_share:"0.265106933",White_non_hisp:"0.734893067",Black_non_hisp:"0.019520597",Asian_non_Hisp:"0.084397876",Hispanic:"0.082819004",Workers:"3404",Transit_to_work:"0.009400705",Walk_to_Work:"0.024970623",Bike_to_work:"0",Green_commute_share:"0.034371328",BA_plus_25_plus:"0.43611237",Med_HH_inc:"113424",Cost_burdened:"0.260233918",Very_cost_burdened:"0.090643275",Med_housing_value:"514400",Jobs:"605",Job_density:"27.99887383",Housing_units:"2505",Housing_density:"115.9292214",Permit_density:"58.49682071",Permits_per_capita:"181.426726",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031604",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31604",GEOID:"53033031604",NAME:"316.04",NAMELSAD:"Census Tract 316.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4153703",AWATER:"3229",INTPTLAT:"47.3543713",INTPTLON:"-122.0323107",Shape_Leng:"9150.417409",Shape_Area:"4156930.89",NHPD_Units:"0",Permits:"1187",Pop:"5641",Pop_density:"3517.373036",Non_white_share:"0.26289665",White_non_hisp:"0.73710335",Black_non_hisp:"0.010459138",Asian_non_Hisp:"0.093068605",Hispanic:"0.072859422",Workers:"2754",Transit_to_work:"0.037400145",Walk_to_Work:"0",Bike_to_work:"0.00617284",Green_commute_share:"0.043572985",BA_plus_25_plus:"0.457331731",Med_HH_inc:"102675",Cost_burdened:"0.381355932",Very_cost_burdened:"0.216101695",Med_housing_value:"432200",Jobs:"347",Job_density:"216.3673894",Housing_units:"1813",Housing_density:"1130.472844",Permit_density:"740.1385913",Permits_per_capita:"210.4236837",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031605",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31605",GEOID:"53033031605",NAME:"316.05",NAMELSAD:"Census Tract 316.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15390911",AWATER:"1564307",INTPTLAT:"47.3232517",INTPTLON:"-122.0465811",Shape_Leng:"20446.91448",Shape_Area:"16955218.9",NHPD_Units:"0",Permits:"291",Pop:"4767",Pop_density:"802.1924967",Non_white_share:"0.279001468",White_non_hisp:"0.720998532",Black_non_hisp:"0.003356409",Asian_non_Hisp:"0.069016153",Hispanic:"0.152087267",Workers:"2612",Transit_to_work:"0.00957121",Walk_to_Work:"0.0118683",Bike_to_work:"0",Green_commute_share:"0.02143951",BA_plus_25_plus:"0.47015873",Med_HH_inc:"122552",Cost_burdened:"0.446808511",Very_cost_burdened:"0",Med_housing_value:"561100",Jobs:"506",Job_density:"85.14986435",Housing_units:"1731",Housing_density:"291.2933106",Permit_density:"48.96958602",Permits_per_capita:"61.04468219",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031704",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31704",GEOID:"53033031704",NAME:"317.04",NAMELSAD:"Census Tract 317.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5719420",AWATER:"12142",INTPTLAT:"47.3485353",INTPTLON:"-122.1451841",Shape_Leng:"11252.64129",Shape_Area:"5731560.255",NHPD_Units:"200",Permits:"651",Pop:"6528",Pop_density:"2956.14632",Non_white_share:"0.495710784",White_non_hisp:"0.504289216",Black_non_hisp:"0.059436275",Asian_non_Hisp:"0.24341299",Hispanic:"0.108762255",Workers:"3091",Transit_to_work:"0.065027499",Walk_to_Work:"0.002911679",Bike_to_work:"0.003235199",Green_commute_share:"0.071174377",BA_plus_25_plus:"0.270617907",Med_HH_inc:"96344",Cost_burdened:"0.460921844",Very_cost_burdened:"0.158316633",Med_housing_value:"400100",Jobs:"759",Job_density:"343.7063506",Housing_units:"1959",Housing_density:"887.1156005",Permit_density:"294.7995181",Permits_per_capita:"99.72426471",Subsidized_hsg_share:"0.102092905"},{TRACT_ID:"G5300330031705",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31705",GEOID:"53033031705",NAME:"317.05",NAMELSAD:"Census Tract 317.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5049492",AWATER:"4701",INTPTLAT:"47.3824059",INTPTLON:"-122.1154859",Shape_Leng:"10511.39842",Shape_Area:"5054201.129",NHPD_Units:"0",Permits:"644",Pop:"4137",Pop_density:"2121.952231",Non_white_share:"0.306502296",White_non_hisp:"0.693497704",Black_non_hisp:"0.030698574",Asian_non_Hisp:"0.16291999",Hispanic:"0.034807832",Workers:"2238",Transit_to_work:"0.014745308",Walk_to_Work:"0.042448615",Bike_to_work:"0",Green_commute_share:"0.057193923",BA_plus_25_plus:"0.339222615",Med_HH_inc:"118750",Cost_burdened:"0.24375",Very_cost_burdened:"0.19375",Med_housing_value:"443800",Jobs:"517",Job_density:"265.1799137",Housing_units:"1454",Housing_density:"745.7864499",Permit_density:"330.320821",Permits_per_capita:"155.6683587",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031707",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31707",GEOID:"53033031707",NAME:"317.07",NAMELSAD:"Census Tract 317.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3703354",AWATER:"19146",INTPTLAT:"47.3804384",INTPTLON:"-122.1546595",Shape_Leng:"8537.645445",Shape_Area:"3722502.931",NHPD_Units:"0",Permits:"273",Pop:"2612",Pop_density:"1826.735695",Non_white_share:"0.311638591",White_non_hisp:"0.688361409",Black_non_hisp:"0.09762634",Asian_non_Hisp:"0.130168453",Hispanic:"0.055130168",Workers:"1388",Transit_to_work:"0.021613833",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.021613833",BA_plus_25_plus:"0.489858012",Med_HH_inc:"133657",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"522300",Jobs:"246",Job_density:"172.0432546",Housing_units:"1176",Housing_density:"822.4506806",Permit_density:"190.9260508",Permits_per_capita:"104.517611",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031708",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31708",GEOID:"53033031708",NAME:"317.08",NAMELSAD:"Census Tract 317.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3437397",AWATER:"623236",INTPTLAT:"47.3646051",INTPTLON:"-122.148026",Shape_Leng:"8555.690923",Shape_Area:"4060637.445",NHPD_Units:"135",Permits:"242",Pop:"4126",Pop_density:"3108.832335",Non_white_share:"0.206737761",White_non_hisp:"0.793262239",Black_non_hisp:"0.042171595",Asian_non_Hisp:"0.046534174",Hispanic:"0.091129423",Workers:"2086",Transit_to_work:"0.017737296",Walk_to_Work:"0.009108341",Bike_to_work:"0",Green_commute_share:"0.026845638",BA_plus_25_plus:"0.338190444",Med_HH_inc:"80437",Cost_burdened:"0.758928571",Very_cost_burdened:"0.683035714",Med_housing_value:"332400",Jobs:"140",Job_density:"105.4863129",Housing_units:"1552",Housing_density:"1169.391126",Permit_density:"182.3406266",Permits_per_capita:"58.65244789",Subsidized_hsg_share:"0.086984536"},{TRACT_ID:"G5300330031709",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31709",GEOID:"53033031709",NAME:"317.09",NAMELSAD:"Census Tract 317.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2145617",AWATER:"17381",INTPTLAT:"47.3671678",INTPTLON:"-122.1216212",Shape_Leng:"6486.740107",Shape_Area:"2162998.493",NHPD_Units:"0",Permits:"605",Pop:"3893",Pop_density:"4699.265392",Non_white_share:"0.353198048",White_non_hisp:"0.646801952",Black_non_hisp:"0.019265348",Asian_non_Hisp:"0.167480092",Hispanic:"0.060364757",Workers:"2012",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.302325581",Med_HH_inc:"109046",Cost_burdened:"1",Very_cost_burdened:"1",Med_housing_value:"449200",Jobs:"275",Job_density:"331.9542725",Housing_units:"1251",Housing_density:"1510.090163",Permit_density:"730.2993995",Permits_per_capita:"155.407141",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031710",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31710",GEOID:"53033031710",NAME:"317.1",NAMELSAD:"Census Tract 317.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2038633",AWATER:"0",INTPTLAT:"47.3611079",INTPTLON:"-122.1118518",Shape_Leng:"7227.298529",Shape_Area:"2038635.224",NHPD_Units:"121",Permits:"606",Pop:"4382",Pop_density:"5567.12655",Non_white_share:"0.338658147",White_non_hisp:"0.661341853",Black_non_hisp:"0.033546326",Asian_non_Hisp:"0.067777271",Hispanic:"0.093336376",Workers:"2123",Transit_to_work:"0.049458314",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.049458314",BA_plus_25_plus:"0.257790368",Med_HH_inc:"84252",Cost_burdened:"0.698529412",Very_cost_burdened:"0.280882353",Med_housing_value:"385600",Jobs:"3017",Job_density:"3832.957736",Housing_units:"1635",Housing_density:"2077.191216",Permit_density:"769.8947259",Permits_per_capita:"138.2930169",Subsidized_hsg_share:"0.074006116"},{TRACT_ID:"G5300330031800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31800",GEOID:"53033031800",NAME:"318",NAMELSAD:"Census Tract 318",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"24906521",AWATER:"3267355",INTPTLAT:"47.4085335",INTPTLON:"-122.1178188",Shape_Leng:"23928.78905",Shape_Area:"28173871.75",NHPD_Units:"0",Permits:"368",Pop:"4908",Pop_density:"510.374839",Non_white_share:"0.359616952",White_non_hisp:"0.640383048",Black_non_hisp:"0.056642217",Asian_non_Hisp:"0.196617767",Hispanic:"0.038508557",Workers:"2462",Transit_to_work:"0.028432169",Walk_to_Work:"0.010154346",Bike_to_work:"0",Green_commute_share:"0.038586515",BA_plus_25_plus:"0.384174625",Med_HH_inc:"124348",Cost_burdened:"0.462365591",Very_cost_burdened:"0.344086022",Med_housing_value:"477600",Jobs:"542",Job_density:"56.3616876",Housing_units:"1746",Housing_density:"181.5636652",Permit_density:"38.26771409",Permits_per_capita:"74.9796251",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031904",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31904",GEOID:"53033031904",NAME:"319.04",NAMELSAD:"Census Tract 319.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"18890095",AWATER:"168049",INTPTLAT:"47.4681599",INTPTLON:"-122.062609",Shape_Leng:"21952.8447",Shape_Area:"19058145.59",NHPD_Units:"0",Permits:"108",Pop:"3545",Pop_density:"486.0487918",Non_white_share:"0.088293371",White_non_hisp:"0.911706629",Black_non_hisp:"0.001974612",Asian_non_Hisp:"0.012976023",Hispanic:"0.033568406",Workers:"1435",Transit_to_work:"0.013937282",Walk_to_Work:"0.041114983",Bike_to_work:"0.004878049",Green_commute_share:"0.059930314",BA_plus_25_plus:"0.438730414",Med_HH_inc:"122644",Cost_burdened:"0.586956522",Very_cost_burdened:"0.333333333",Med_housing_value:"653300",Jobs:"698",Job_density:"95.70156746",Housing_units:"1293",Housing_density:"177.2809838",Permit_density:"14.80769239",Permits_per_capita:"30.46544429",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031906",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31906",GEOID:"53033031906",NAME:"319.06",NAMELSAD:"Census Tract 319.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"10565748",AWATER:"589118",INTPTLAT:"47.4368923",INTPTLON:"-122.0929679",Shape_Leng:"15525.221",Shape_Area:"11154858.79",NHPD_Units:"0",Permits:"414",Pop:"3640",Pop_density:"892.2753715",Non_white_share:"0.243681319",White_non_hisp:"0.756318681",Black_non_hisp:"0.037637363",Asian_non_Hisp:"0.150549451",Hispanic:"0.031868132",Workers:"1697",Transit_to_work:"0.014142605",Walk_to_Work:"0.002946376",Bike_to_work:"0",Green_commute_share:"0.017088981",BA_plus_25_plus:"0.474563684",Med_HH_inc:"104728",Cost_burdened:"0.653846154",Very_cost_burdened:"0.134615385",Med_housing_value:"541800",Jobs:"418",Job_density:"102.4645894",Housing_units:"1385",Housing_density:"339.5058762",Permit_density:"101.484067",Permits_per_capita:"113.7362637",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031908",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31908",GEOID:"53033031908",NAME:"319.08",NAMELSAD:"Census Tract 319.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1827093",AWATER:"0",INTPTLAT:"47.4471071",INTPTLON:"-122.1427639",Shape_Leng:"6576.209945",Shape_Area:"1827095.646",NHPD_Units:"176",Permits:"1",Pop:"4347",Pop_density:"6162.071835",Non_white_share:"0.430641822",White_non_hisp:"0.569358178",Black_non_hisp:"0.150908673",Asian_non_Hisp:"0.090637221",Hispanic:"0.088336784",Workers:"2339",Transit_to_work:"0.026934587",Walk_to_Work:"0.005557931",Bike_to_work:"0.003420265",Green_commute_share:"0.035912783",BA_plus_25_plus:"0.368154158",Med_HH_inc:"82331",Cost_burdened:"0.560240964",Very_cost_burdened:"0.333333333",Med_housing_value:"409400",Jobs:"1184",Job_density:"1678.374293",Housing_units:"2000",Housing_density:"2835.091712",Permit_density:"1.417545856",Permits_per_capita:"0.230043708",Subsidized_hsg_share:"0.088"},{TRACT_ID:"G5300330031909",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31909",GEOID:"53033031909",NAME:"319.09",NAMELSAD:"Census Tract 319.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1916061",AWATER:"0",INTPTLAT:"47.4378388",INTPTLON:"-122.1434771",Shape_Leng:"8312.455872",Shape_Area:"1916060.185",NHPD_Units:"0",Permits:"129",Pop:"3191",Pop_density:"4313.355399",Non_white_share:"0.450015669",White_non_hisp:"0.549984331",Black_non_hisp:"0.131620182",Asian_non_Hisp:"0.23754309",Hispanic:"0.045440301",Workers:"1408",Transit_to_work:"0.046164773",Walk_to_Work:"0.011363636",Bike_to_work:"0",Green_commute_share:"0.057528409",BA_plus_25_plus:"0.43638034",Med_HH_inc:"100372",Cost_burdened:"0.601503759",Very_cost_burdened:"0.402255639",Med_housing_value:"463600",Jobs:"261",Job_density:"352.8003006",Housing_units:"1295",Housing_density:"1750.48425",Permit_density:"174.3725624",Permits_per_capita:"40.42619868",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031910",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31910",GEOID:"53033031910",NAME:"319.1",NAMELSAD:"Census Tract 319.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3322022",AWATER:"0",INTPTLAT:"47.4583518",INTPTLON:"-122.1374379",Shape_Leng:"9156.08761",Shape_Area:"3322022.817",NHPD_Units:"0",Permits:"392",Pop:"4355",Pop_density:"3395.341217",Non_white_share:"0.390355913",White_non_hisp:"0.609644087",Black_non_hisp:"0.050746269",Asian_non_Hisp:"0.178185993",Hispanic:"0.096440873",Workers:"2182",Transit_to_work:"0.026122823",Walk_to_Work:"0.020623281",Bike_to_work:"0",Green_commute_share:"0.046746104",BA_plus_25_plus:"0.493679092",Med_HH_inc:"90489",Cost_burdened:"0.567669173",Very_cost_burdened:"0.04887218",Med_housing_value:"433500",Jobs:"172",Job_density:"134.0984361",Housing_units:"1666",Housing_density:"1298.883689",Permit_density:"305.6196916",Permits_per_capita:"90.01148106",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031911",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31911",GEOID:"53033031911",NAME:"319.11",NAMELSAD:"Census Tract 319.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2397112",AWATER:"0",INTPTLAT:"47.4464533",INTPTLON:"-122.1201591",Shape_Leng:"7202.492776",Shape_Area:"2397112.996",NHPD_Units:"0",Permits:"567",Pop:"4583",Pop_density:"4951.756743",Non_white_share:"0.40192014",White_non_hisp:"0.59807986",Black_non_hisp:"0.081605935",Asian_non_Hisp:"0.167139428",Hispanic:"0.026183722",Workers:"1962",Transit_to_work:"0.082059123",Walk_to_Work:"0",Bike_to_work:"0.00764526",Green_commute_share:"0.089704383",BA_plus_25_plus:"0.457219251",Med_HH_inc:"104707",Cost_burdened:"0.251798561",Very_cost_burdened:"0.251798561",Med_housing_value:"471900",Jobs:"167",Job_density:"180.437132",Housing_units:"1375",Housing_density:"1485.635069",Permit_density:"612.6218794",Permits_per_capita:"123.7180886",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031912",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31912",GEOID:"53033031912",NAME:"319.12",NAMELSAD:"Census Tract 319.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7672904",AWATER:"0",INTPTLAT:"47.4879638",INTPTLON:"-122.1052429",Shape_Leng:"16329.50899",Shape_Area:"7672908.453",NHPD_Units:"0",Permits:"178",Pop:"4332",Pop_density:"1462.266242",Non_white_share:"0.260387812",White_non_hisp:"0.739612188",Black_non_hisp:"0",Asian_non_Hisp:"0.068790397",Hispanic:"0.12534626",Workers:"2011",Transit_to_work:"0.015415216",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.015415216",BA_plus_25_plus:"0.27344782",Med_HH_inc:"90446",Cost_burdened:"0.710526316",Very_cost_burdened:"0.592105263",Med_housing_value:"490100",Jobs:"396",Job_density:"133.6697672",Housing_units:"1429",Housing_density:"482.3588318",Permit_density:"60.08388527",Permits_per_capita:"41.08956602",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330031913",STATEFP:"53",COUNTYFP:"33",TRACTCE:"31913",GEOID:"53033031913",NAME:"319.13",NAMELSAD:"Census Tract 319.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4071514",AWATER:"0",INTPTLAT:"47.4712497",INTPTLON:"-122.1214769",Shape_Leng:"11195.28717",Shape_Area:"4071517.664",NHPD_Units:"0",Permits:"396",Pop:"3682",Pop_density:"2342.208874",Non_white_share:"0.224606192",White_non_hisp:"0.775393808",Black_non_hisp:"0.001357958",Asian_non_Hisp:"0.08365019",Hispanic:"0.023356871",Workers:"1966",Transit_to_work:"0.027975585",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.027975585",BA_plus_25_plus:"0.429875519",Med_HH_inc:"130972",Cost_burdened:"0.28440367",Very_cost_burdened:"0.28440367",Med_housing_value:"574700",Jobs:"189",Job_density:"120.2274517",Housing_units:"1227",Housing_density:"780.52425",Permit_density:"251.9051369",Permits_per_capita:"107.5502444",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032002",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32002",GEOID:"53033032002",NAME:"320.02",NAMELSAD:"Census Tract 320.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"27565794",AWATER:"180822",INTPTLAT:"47.4207619",INTPTLON:"-122.0475285",Shape_Leng:"28396.77356",Shape_Area:"27746618.05",NHPD_Units:"0",Permits:"136",Pop:"2966",Pop_density:"278.6752573",Non_white_share:"0.074848281",White_non_hisp:"0.925151719",Black_non_hisp:"0.025286581",Asian_non_Hisp:"0.009440324",Hispanic:"0.022589346",Workers:"1186",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0.010118044",Green_commute_share:"0.010118044",BA_plus_25_plus:"0.373406193",Med_HH_inc:"89635",Cost_burdened:"0.802547771",Very_cost_burdened:"0",Med_housing_value:"573500",Jobs:"543",Job_density:"51.01843045",Housing_units:"1210",Housing_density:"113.6874785",Permit_density:"12.77809676",Permits_per_capita:"45.85300067",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032003",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32003",GEOID:"53033032003",NAME:"320.03",NAMELSAD:"Census Tract 320.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"121672955",AWATER:"304929",INTPTLAT:"47.4409399",INTPTLON:"-121.9259862",Shape_Leng:"60877.70418",Shape_Area:"121977891.4",NHPD_Units:"0",Permits:"238",Pop:"5528",Pop_density:"117.6716245",Non_white_share:"0.147069465",White_non_hisp:"0.852930535",Black_non_hisp:"0.003256151",Asian_non_Hisp:"0.04866136",Hispanic:"0.060781476",Workers:"2995",Transit_to_work:"0.016026711",Walk_to_Work:"0.007011686",Bike_to_work:"0",Green_commute_share:"0.023038397",BA_plus_25_plus:"0.420874545",Med_HH_inc:"119618",Cost_burdened:"0.153846154",Very_cost_burdened:"0.153846154",Med_housing_value:"663300",Jobs:"541",Job_density:"11.51598207",Housing_units:"2090",Housing_density:"44.48872924",Permit_density:"5.06618065",Permits_per_capita:"43.05354559",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032005",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32005",GEOID:"53033032005",NAME:"320.05",NAMELSAD:"Census Tract 320.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6258304",AWATER:"123230",INTPTLAT:"47.3733054",INTPTLON:"-122.0848083",Shape_Leng:"12706.66843",Shape_Area:"6381526.104",NHPD_Units:"0",Permits:"208",Pop:"7449",Pop_density:"3082.755557",Non_white_share:"0.316418311",White_non_hisp:"0.683581689",Black_non_hisp:"0.058262854",Asian_non_Hisp:"0.082427171",Hispanic:"0.088065512",Workers:"4042",Transit_to_work:"0.013854527",Walk_to_Work:"0.004205839",Bike_to_work:"0",Green_commute_share:"0.018060366",BA_plus_25_plus:"0.237475345",Med_HH_inc:"105092",Cost_burdened:"0.244186047",Very_cost_burdened:"0.052325581",Med_housing_value:"340200",Jobs:"672",Job_density:"278.1060188",Housing_units:"2752",Housing_density:"1138.910363",Permit_density:"86.0804344",Permits_per_capita:"27.92321117",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032006",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32006",GEOID:"53033032006",NAME:"320.06",NAMELSAD:"Census Tract 320.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7614212",AWATER:"122944",INTPTLAT:"47.3499202",INTPTLON:"-122.0803474",Shape_Leng:"14015.34259",Shape_Area:"7737161.522",NHPD_Units:"0",Permits:"541",Pop:"5505",Pop_density:"1872.535798",Non_white_share:"0.17075386",White_non_hisp:"0.82924614",Black_non_hisp:"0.028337875",Asian_non_Hisp:"0.021616712",Hispanic:"0.051771117",Workers:"2502",Transit_to_work:"0.032773781",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.032773781",BA_plus_25_plus:"0.314556462",Med_HH_inc:"100237",Cost_burdened:"0.581047382",Very_cost_burdened:"0.072319202",Med_housing_value:"446100",Jobs:"425",Job_density:"144.5645258",Housing_units:"1991",Housing_density:"677.2422842",Permit_density:"184.0221375",Permits_per_capita:"98.27429609",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032007",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32007",GEOID:"53033032007",NAME:"320.07",NAMELSAD:"Census Tract 320.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11642036",AWATER:"143682",INTPTLAT:"47.3911627",INTPTLON:"-122.0736583",Shape_Leng:"20889.07678",Shape_Area:"11785719.39",NHPD_Units:"172",Permits:"419",Pop:"3459",Pop_density:"769.5190836",Non_white_share:"0.087308471",White_non_hisp:"0.912691529",Black_non_hisp:"0.029777392",Asian_non_Hisp:"0.019080659",Hispanic:"0.010407632",Workers:"1697",Transit_to_work:"0.021213907",Walk_to_Work:"0.035356511",Bike_to_work:"0",Green_commute_share:"0.056570418",BA_plus_25_plus:"0.389561587",Med_HH_inc:"131782",Cost_burdened:"0.496240602",Very_cost_burdened:"0.360902256",Med_housing_value:"467200",Jobs:"411",Job_density:"91.43461791",Housing_units:"1318",Housing_density:"293.2136895",Permit_density:"93.21436716",Permits_per_capita:"121.1332755",Subsidized_hsg_share:"0.130500759"},{TRACT_ID:"G5300330032008",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32008",GEOID:"53033032008",NAME:"320.08",NAMELSAD:"Census Tract 320.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2292972",AWATER:"157783",INTPTLAT:"47.364506",INTPTLON:"-122.0492466",Shape_Leng:"7539.536627",Shape_Area:"2450755.919",NHPD_Units:"0",Permits:"188",Pop:"4722",Pop_density:"5333.655996",Non_white_share:"0.171749259",White_non_hisp:"0.828250741",Black_non_hisp:"0.004447268",Asian_non_Hisp:"0.025201186",Hispanic:"0.059720457",Workers:"2308",Transit_to_work:"0.017331023",Walk_to_Work:"0.00389948",Bike_to_work:"0",Green_commute_share:"0.021230503",BA_plus_25_plus:"0.368454867",Med_HH_inc:"117366",Cost_burdened:"0.401869159",Very_cost_burdened:"0.23364486",Med_housing_value:"416600",Jobs:"115",Job_density:"129.8963235",Housing_units:"1627",Housing_density:"1837.750594",Permit_density:"212.3522506",Permits_per_capita:"39.81363829",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032010",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32010",GEOID:"53033032010",NAME:"320.1",NAMELSAD:"Census Tract 320.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5282446",AWATER:"0",INTPTLAT:"47.3791911",INTPTLON:"-122.0247031",Shape_Leng:"14945.58448",Shape_Area:"5282448.691",NHPD_Units:"0",Permits:"1108",Pop:"6593",Pop_density:"3232.553936",Non_white_share:"0.202639163",White_non_hisp:"0.797360837",Black_non_hisp:"0.003185196",Asian_non_Hisp:"0.074472926",Hispanic:"0.02897012",Workers:"3385",Transit_to_work:"0.031019202",Walk_to_Work:"0.016248154",Bike_to_work:"0",Green_commute_share:"0.047267356",BA_plus_25_plus:"0.431641086",Med_HH_inc:"130317",Cost_burdened:"0.749333333",Very_cost_burdened:"0.749333333",Med_housing_value:"462400",Jobs:"3547",Job_density:"1739.097348",Housing_units:"2330",Housing_density:"1142.401133",Permit_density:"543.2534145",Permits_per_capita:"168.0570302",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032011",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32011",GEOID:"53033032011",NAME:"320.11",NAMELSAD:"Census Tract 320.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3321208",AWATER:"280902",INTPTLAT:"47.3671108",INTPTLON:"-122.030164",Shape_Leng:"8435.523366",Shape_Area:"3602115.782",NHPD_Units:"0",Permits:"947",Pop:"4280",Pop_density:"3337.6859",Non_white_share:"0.24135514",White_non_hisp:"0.75864486",Black_non_hisp:"0.019392523",Asian_non_Hisp:"0.111682243",Hispanic:"0.056775701",Workers:"2137",Transit_to_work:"0.04585868",Walk_to_Work:"0.005615349",Bike_to_work:"0.007955077",Green_commute_share:"0.059429106",BA_plus_25_plus:"0.444915254",Med_HH_inc:"119028",Cost_burdened:"0.381818182",Very_cost_burdened:"0.181818182",Med_housing_value:"460600",Jobs:"593",Job_density:"462.4410604",Housing_units:"1527",Housing_density:"1190.805226",Permit_density:"738.501997",Permits_per_capita:"221.2616822",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032102",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32102",GEOID:"53033032102",NAME:"321.02",NAMELSAD:"Census Tract 321.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"79709009",AWATER:"90596",INTPTLAT:"47.4851507",INTPTLON:"-121.9657839",Shape_Leng:"40019.05256",Shape_Area:"79799609.42",NHPD_Units:"0",Permits:"179",Pop:"5076",Pop_density:"164.9346769",Non_white_share:"0.141843972",White_non_hisp:"0.858156028",Black_non_hisp:"0.005122143",Asian_non_Hisp:"0.053782506",Hispanic:"0.041371158",Workers:"2404",Transit_to_work:"0.051164725",Walk_to_Work:"0.026206323",Bike_to_work:"0.006239601",Green_commute_share:"0.083610649",BA_plus_25_plus:"0.566744126",Med_HH_inc:"135744",Cost_burdened:"0.8125",Very_cost_burdened:"0",Med_housing_value:"697400",Jobs:"817",Job_density:"26.54681463",Housing_units:"2028",Housing_density:"65.89588747",Permit_density:"5.816254368",Permits_per_capita:"35.26398739",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032103",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32103",GEOID:"53033032103",NAME:"321.03",NAMELSAD:"Census Tract 321.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3987303",AWATER:"0",INTPTLAT:"47.5385933",INTPTLON:"-122.0479034",Shape_Leng:"11667.3627",Shape_Area:"3987304.852",NHPD_Units:"126",Permits:"1251",Pop:"5202",Pop_density:"3379.005345",Non_white_share:"0.352748943",White_non_hisp:"0.647251057",Black_non_hisp:"0.01230296",Asian_non_Hisp:"0.144752018",Hispanic:"0.161091888",Workers:"3178",Transit_to_work:"0.075204531",Walk_to_Work:"0.099748269",Bike_to_work:"0.010698553",Green_commute_share:"0.185651353",BA_plus_25_plus:"0.523033126",Med_HH_inc:"90750",Cost_burdened:"0.497904443",Very_cost_burdened:"0.192791282",Med_housing_value:"564800",Jobs:"10079",Job_density:"6546.904051",Housing_units:"2499",Housing_density:"1623.247666",Permit_density:"812.5981712",Permits_per_capita:"240.4844291",Subsidized_hsg_share:"0.050420168"},{TRACT_ID:"G5300330032104",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32104",GEOID:"53033032104",NAME:"321.04",NAMELSAD:"Census Tract 321.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22279675",AWATER:"0",INTPTLAT:"47.5049542",INTPTLON:"-122.0533488",Shape_Leng:"20812.87212",Shape_Area:"22279672.1",NHPD_Units:"220",Permits:"132",Pop:"6537",Pop_density:"759.9191764",Non_white_share:"0.314670338",White_non_hisp:"0.685329662",Black_non_hisp:"0.017745143",Asian_non_Hisp:"0.073428178",Hispanic:"0.183723421",Workers:"3365",Transit_to_work:"0.042496285",Walk_to_Work:"0.061218425",Bike_to_work:"0",Green_commute_share:"0.10371471",BA_plus_25_plus:"0.565883555",Med_HH_inc:"113264",Cost_burdened:"0.583509514",Very_cost_burdened:"0.241014799",Med_housing_value:"689800",Jobs:"651",Job_density:"75.67804556",Housing_units:"2616",Housing_density:"304.1071693",Permit_density:"15.34485717",Permits_per_capita:"20.19274897",Subsidized_hsg_share:"0.084097859"},{TRACT_ID:"G5300330032207",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32207",GEOID:"53033032207",NAME:"322.07",NAMELSAD:"Census Tract 322.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4627754",AWATER:"1325468",INTPTLAT:"47.5834873",INTPTLON:"-122.0602972",Shape_Leng:"14395.4247",Shape_Area:"5953228.619",NHPD_Units:"0",Permits:"294",Pop:"3895",Pop_density:"2179.89195",Non_white_share:"0.334531451",White_non_hisp:"0.665468549",Black_non_hisp:"0.004107831",Asian_non_Hisp:"0.252888318",Hispanic:"0.011553273",Workers:"1798",Transit_to_work:"0.036707453",Walk_to_Work:"0.008342603",Bike_to_work:"0.003893215",Green_commute_share:"0.04894327",BA_plus_25_plus:"0.746407767",Med_HH_inc:"170743",Cost_burdened:"0.426086957",Very_cost_burdened:"0.060869565",Med_housing_value:"951100",Jobs:"430",Job_density:"240.6555939",Housing_units:"1395",Housing_density:"780.7315198",Permit_density:"164.5412665",Permits_per_capita:"75.48138639",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032211",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32211",GEOID:"53033032211",NAME:"322.11",NAMELSAD:"Census Tract 322.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2975309",AWATER:"0",INTPTLAT:"47.5798212",INTPTLON:"-122.0193634",Shape_Leng:"9365.81169",Shape_Area:"2975309.585",NHPD_Units:"0",Permits:"102",Pop:"4733",Pop_density:"4120.047271",Non_white_share:"0.448341432",White_non_hisp:"0.551658568",Black_non_hisp:"0.013733362",Asian_non_Hisp:"0.334248891",Hispanic:"0.042467779",Workers:"2434",Transit_to_work:"0.089564503",Walk_to_Work:"0.003286771",Bike_to_work:"0",Green_commute_share:"0.092851274",BA_plus_25_plus:"0.74122807",Med_HH_inc:"160893",Cost_burdened:"0.148867314",Very_cost_burdened:"0.067961165",Med_housing_value:"782300",Jobs:"984",Job_density:"856.5659232",Housing_units:"1672",Housing_density:"1455.465674",Permit_density:"88.79037009",Permits_per_capita:"21.55081344",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032213",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32213",GEOID:"53033032213",NAME:"322.13",NAMELSAD:"Census Tract 322.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4042487",AWATER:"286842",INTPTLAT:"47.5852426",INTPTLON:"-121.9861175",Shape_Leng:"9960.35299",Shape_Area:"4329328.016",NHPD_Units:"0",Permits:"434",Pop:"4572",Pop_density:"2929.242726",Non_white_share:"0.257874016",White_non_hisp:"0.742125984",Black_non_hisp:"0.002624672",Asian_non_Hisp:"0.186351706",Hispanic:"0.01727909",Workers:"2438",Transit_to_work:"0.040196883",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.040196883",BA_plus_25_plus:"0.660600255",Med_HH_inc:"197361",Cost_burdened:"0.038461538",Very_cost_burdened:"0.038461538",Med_housing_value:"957000",Jobs:"208",Job_density:"133.2638861",Housing_units:"1612",Housing_density:"1032.795117",Permit_density:"278.0602238",Permits_per_capita:"94.9256343",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032215",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32215",GEOID:"53033032215",NAME:"322.15",NAMELSAD:"Census Tract 322.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15951833",AWATER:"10175",INTPTLAT:"47.6066963",INTPTLON:"-121.9869787",Shape_Leng:"21923.5644",Shape_Area:"15962009.8",NHPD_Units:"0",Permits:"1210",Pop:"5489",Pop_density:"891.2107303",Non_white_share:"0.499908909",White_non_hisp:"0.500091091",Black_non_hisp:"0.035161232",Asian_non_Hisp:"0.424303152",Hispanic:"0.014028056",Workers:"2593",Transit_to_work:"0.02622445",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.02622445",BA_plus_25_plus:"0.87904401",Med_HH_inc:"235821",Cost_burdened:"0.75",Very_cost_burdened:"0.75",Med_housing_value:"1065100",Jobs:"910",Job_density:"147.750367",Housing_units:"1679",Housing_density:"272.6075453",Permit_density:"196.4592792",Permits_per_capita:"220.4408818",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032216",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32216",GEOID:"53033032216",NAME:"322.16",NAMELSAD:"Census Tract 322.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4324748",AWATER:"0",INTPTLAT:"47.6036467",INTPTLON:"-122.0467685",Shape_Leng:"9227.850584",Shape_Area:"4324748.387",NHPD_Units:"0",Permits:"426",Pop:"5103",Pop_density:"3056.064614",Non_white_share:"0.536155203",White_non_hisp:"0.463844797",Black_non_hisp:"0",Asian_non_Hisp:"0.482853224",Hispanic:"0.013129532",Workers:"2324",Transit_to_work:"0.045611015",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.045611015",BA_plus_25_plus:"0.723411154",Med_HH_inc:"204000",Cost_burdened:"0.312169312",Very_cost_burdened:"0.116402116",Med_housing_value:"784600",Jobs:"623",Job_density:"373.0997951",Housing_units:"1576",Housing_density:"943.8286952",Permit_density:"255.1212082",Permits_per_capita:"83.4803057",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032217",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32217",GEOID:"53033032217",NAME:"322.17",NAMELSAD:"Census Tract 322.17",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5744875",AWATER:"5098073",INTPTLAT:"47.5968734",INTPTLON:"-122.0720001",Shape_Leng:"16895.44421",Shape_Area:"10842946.35",NHPD_Units:"0",Permits:"484",Pop:"4063",Pop_density:"1831.740759",Non_white_share:"0.298055624",White_non_hisp:"0.701944376",Black_non_hisp:"0.019936008",Asian_non_Hisp:"0.223726311",Hispanic:"0.030519321",Workers:"1691",Transit_to_work:"0.065050266",Walk_to_Work:"0.007096393",Bike_to_work:"0.033707865",Green_commute_share:"0.105854524",BA_plus_25_plus:"0.808466343",Med_HH_inc:"245099",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"1108700",Jobs:"247",Job_density:"111.3561328",Housing_units:"1471",Housing_density:"663.1776166",Permit_density:"218.2039201",Permits_per_capita:"119.1238001",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032218",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32218",GEOID:"53033032218",NAME:"322.18",NAMELSAD:"Census Tract 322.18",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4381829",AWATER:"28938",INTPTLAT:"47.5713149",INTPTLON:"-122.038565",Shape_Leng:"13104.79934",Shape_Area:"4410770.634",NHPD_Units:"0",Permits:"1063",Pop:"5922",Pop_density:"3500.344169",Non_white_share:"0.408139142",White_non_hisp:"0.591860858",Black_non_hisp:"0.00726106",Asian_non_Hisp:"0.300067545",Hispanic:"0.050320838",Workers:"2656",Transit_to_work:"0.069653614",Walk_to_Work:"0.001129518",Bike_to_work:"0",Green_commute_share:"0.070783133",BA_plus_25_plus:"0.59929391",Med_HH_inc:"143182",Cost_burdened:"0.495702006",Very_cost_burdened:"0.318051576",Med_housing_value:"815200",Jobs:"824",Job_density:"487.0455243",Housing_units:"2366",Housing_density:"1398.482658",Permit_density:"628.3123694",Permits_per_capita:"179.5001689",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032219",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32219",GEOID:"53033032219",NAME:"322.19",NAMELSAD:"Census Tract 322.19",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6523248",AWATER:"961466",INTPTLAT:"47.5558944",INTPTLON:"-122.0495856",Shape_Leng:"14531.65334",Shape_Area:"7484709.451",NHPD_Units:"0",Permits:"865",Pop:"4588",Pop_density:"1821.617919",Non_white_share:"0.407802964",White_non_hisp:"0.592197036",Black_non_hisp:"0.015039233",Asian_non_Hisp:"0.258500436",Hispanic:"0.06146469",Workers:"2566",Transit_to_work:"0.155105222",Walk_to_Work:"0",Bike_to_work:"0.007014809",Green_commute_share:"0.162120031",BA_plus_25_plus:"0.691172214",Med_HH_inc:"146250",Cost_burdened:"0.246835443",Very_cost_burdened:"0.161392405",Med_housing_value:"760500",Jobs:"15091",Job_density:"5991.725376",Housing_units:"2013",Housing_density:"799.2408178",Permit_density:"343.4392982",Permits_per_capita:"188.5353095",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032220",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32220",GEOID:"53033032220",NAME:"322.2",NAMELSAD:"Census Tract 322.20",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6091125",AWATER:"0",INTPTLAT:"47.5468306",INTPTLON:"-122.0152219",Shape_Leng:"10679.25829",Shape_Area:"6091122.569",NHPD_Units:"253",Permits:"3692",Pop:"9067",Pop_density:"3855.350563",Non_white_share:"0.531818683",White_non_hisp:"0.468181317",Black_non_hisp:"0.022609463",Asian_non_Hisp:"0.302305062",Hispanic:"0.093967134",Workers:"5284",Transit_to_work:"0.126987131",Walk_to_Work:"0.029144587",Bike_to_work:"0.005677517",Green_commute_share:"0.161809235",BA_plus_25_plus:"0.715975422",Med_HH_inc:"133502",Cost_burdened:"0.30523416",Very_cost_burdened:"0.133884298",Med_housing_value:"634400",Jobs:"2271",Job_density:"965.6447698",Housing_units:"3941",Housing_density:"1675.740219",Permit_density:"1569.863712",Permits_per_capita:"407.1909121",Subsidized_hsg_share:"0.064196904"},{TRACT_ID:"G5300330032221",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32221",GEOID:"53033032221",NAME:"322.21",NAMELSAD:"Census Tract 322.21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"35573754",AWATER:"7767",INTPTLAT:"47.5496906",INTPTLON:"-121.9549377",Shape_Leng:"29116.8722",Shape_Area:"35581517.07",NHPD_Units:"51",Permits:"1680",Pop:"6682",Pop_density:"486.4907019",Non_white_share:"0.445824603",White_non_hisp:"0.554175397",Black_non_hisp:"0.011822808",Asian_non_Hisp:"0.309637833",Hispanic:"0.063154744",Workers:"3645",Transit_to_work:"0.130315501",Walk_to_Work:"0.007133059",Bike_to_work:"0.006858711",Green_commute_share:"0.14430727",BA_plus_25_plus:"0.764400271",Med_HH_inc:"172391",Cost_burdened:"0.505988024",Very_cost_burdened:"0.137724551",Med_housing_value:"838000",Jobs:"1270",Job_density:"92.46381195",Housing_units:"2431",Housing_density:"176.9917534",Permit_density:"122.3143339",Permits_per_capita:"251.42173",Subsidized_hsg_share:"0.020979021"},{TRACT_ID:"G5300330032222",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32222",GEOID:"53033032222",NAME:"322.22",NAMELSAD:"Census Tract 322.22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1281699",AWATER:"0",INTPTLAT:"47.5715386",INTPTLON:"-121.9981579",Shape_Leng:"5414.353535",Shape_Area:"1281702.026",NHPD_Units:"0",Permits:"1",Pop:"3974",Pop_density:"8030.444551",Non_white_share:"0.476597886",White_non_hisp:"0.523402114",Black_non_hisp:"0.080775038",Asian_non_Hisp:"0.249622547",Hispanic:"0.062908908",Workers:"2168",Transit_to_work:"0.082564576",Walk_to_Work:"0.068265683",Bike_to_work:"0.007841328",Green_commute_share:"0.158671587",BA_plus_25_plus:"0.646948003",Med_HH_inc:"113125",Cost_burdened:"0.600286533",Very_cost_burdened:"0.332378223",Med_housing_value:"658900",Jobs:"702",Job_density:"1418.563683",Housing_units:"1682",Housing_density:"3398.894749",Permit_density:"2.020745987",Permits_per_capita:"0.251635632",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032223",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32223",GEOID:"53033032223",NAME:"322.23",NAMELSAD:"Census Tract 322.23",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2090794",AWATER:"42596",INTPTLAT:"47.5645237",INTPTLON:"-122.0151668",Shape_Leng:"6728.398956",Shape_Area:"2133392.852",NHPD_Units:"51",Permits:"158",Pop:"3974",Pop_density:"4922.824893",Non_white_share:"0.362103674",White_non_hisp:"0.637896326",Black_non_hisp:"0.005284348",Asian_non_Hisp:"0.336940111",Hispanic:"0.010568697",Workers:"2068",Transit_to_work:"0.129110251",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.129110251",BA_plus_25_plus:"0.749620637",Med_HH_inc:"195417",Cost_burdened:"0.26056338",Very_cost_burdened:"0",Med_housing_value:"820700",Jobs:"184",Job_density:"227.9314998",Housing_units:"1336",Housing_density:"1654.98089",Permit_density:"195.7237879",Permits_per_capita:"39.75842979",Subsidized_hsg_share:"0.038173653"},{TRACT_ID:"G5300330032224",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32224",GEOID:"53033032224",NAME:"322.24",NAMELSAD:"Census Tract 322.24",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3018668",AWATER:"0",INTPTLAT:"47.5948656",INTPTLON:"-122.0221409",Shape_Leng:"7065.406076",Shape_Area:"3018670.434",NHPD_Units:"0",Permits:"495",Pop:"2631",Pop_density:"2257.372695",Non_white_share:"0.50209046",White_non_hisp:"0.49790954",Black_non_hisp:"0",Asian_non_Hisp:"0.429494489",Hispanic:"0.019764348",Workers:"1211",Transit_to_work:"0.153592073",Walk_to_Work:"0.013212221",Bike_to_work:"0",Green_commute_share:"0.166804294",BA_plus_25_plus:"0.81043257",Med_HH_inc:"178750",Cost_burdened:"0.224242424",Very_cost_burdened:"0.096969697",Med_housing_value:"879100",Jobs:"847",Job_density:"726.7178535",Housing_units:"847",Housing_density:"726.7178535",Permit_density:"424.7052391",Permits_per_capita:"188.1413911",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032225",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32225",GEOID:"53033032225",NAME:"322.25",NAMELSAD:"Census Tract 322.25",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3809641",AWATER:"44579",INTPTLAT:"47.6102663",INTPTLON:"-122.0264751",Shape_Leng:"8614.33729",Shape_Area:"3854218.525",NHPD_Units:"0",Permits:"399",Pop:"3558",Pop_density:"2418.909734",Non_white_share:"0.555087128",White_non_hisp:"0.444912872",Black_non_hisp:"0.010118044",Asian_non_Hisp:"0.471613266",Hispanic:"0.025576166",Workers:"1634",Transit_to_work:"0.054467564",Walk_to_Work:"0.006731946",Bike_to_work:"0.011015912",Green_commute_share:"0.072215422",BA_plus_25_plus:"0.835820896",Med_HH_inc:"193281",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"838300",Jobs:"858",Job_density:"583.312128",Housing_units:"1224",Housing_density:"832.1375812",Permit_density:"271.2605351",Permits_per_capita:"112.1416526",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032307",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32307",GEOID:"53033032307",NAME:"323.07",NAMELSAD:"Census Tract 323.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11589621",AWATER:"234335",INTPTLAT:"47.7541282",INTPTLON:"-122.1018928",Shape_Leng:"16981.63806",Shape_Area:"11823959.43",NHPD_Units:"0",Permits:"48",Pop:"6282",Pop_density:"1403.868626",Non_white_share:"0.135466412",White_non_hisp:"0.864533588",Black_non_hisp:"0",Asian_non_Hisp:"0.049824897",Hispanic:"0.020534862",Workers:"3027",Transit_to_work:"0.009250083",Walk_to_Work:"0",Bike_to_work:"0.007928642",Green_commute_share:"0.017178725",BA_plus_25_plus:"0.5616",Med_HH_inc:"132685",Cost_burdened:"0.643478261",Very_cost_burdened:"0.386956522",Med_housing_value:"726400",Jobs:"901",Job_density:"201.3507851",Housing_units:"2354",Housing_density:"526.0596539",Permit_density:"10.72678988",Permits_per_capita:"7.640878701",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032311",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32311",GEOID:"53033032311",NAME:"323.11",NAMELSAD:"Census Tract 323.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"23710057",AWATER:"92770",INTPTLAT:"47.7515039",INTPTLON:"-122.0387481",Shape_Leng:"22328.92092",Shape_Area:"23802827.92",NHPD_Units:"0",Permits:"130",Pop:"6109",Pop_density:"667.3217768",Non_white_share:"0.209854313",White_non_hisp:"0.790145687",Black_non_hisp:"0.006547716",Asian_non_Hisp:"0.074807661",Hispanic:"0.081355377",Workers:"2831",Transit_to_work:"0.039561992",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.039561992",BA_plus_25_plus:"0.564022346",Med_HH_inc:"153603",Cost_burdened:"0.150837989",Very_cost_burdened:"0",Med_housing_value:"822000",Jobs:"436",Job_density:"47.6268284",Housing_units:"2123",Housing_density:"231.9076988",Permit_density:"14.20065984",Permits_per_capita:"21.28007857",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032313",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32313",GEOID:"53033032313",NAME:"323.13",NAMELSAD:"Census Tract 323.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13092583",AWATER:"415255",INTPTLAT:"47.6704667",INTPTLON:"-122.0889458",Shape_Leng:"16911.79028",Shape_Area:"13507848.32",NHPD_Units:"0",Permits:"1090",Pop:"6535",Pop_density:"1292.760359",Non_white_share:"0.698546289",White_non_hisp:"0.301453711",Black_non_hisp:"0.024024484",Asian_non_Hisp:"0.561897475",Hispanic:"0.048048967",Workers:"3220",Transit_to_work:"0.060559006",Walk_to_Work:"0.01242236",Bike_to_work:"0.004347826",Green_commute_share:"0.077329193",BA_plus_25_plus:"0.736514983",Med_HH_inc:"133958",Cost_burdened:"0.255057803",Very_cost_burdened:"0.075144509",Med_housing_value:"601000",Jobs:"12396",Job_density:"2452.189351",Housing_units:"2698",Housing_density:"533.7211092",Permit_density:"215.6249107",Permits_per_capita:"166.7941852",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032315",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32315",GEOID:"53033032315",NAME:"323.15",NAMELSAD:"Census Tract 323.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"44513525",AWATER:"1359055",INTPTLAT:"47.6642529",INTPTLON:"-121.976789",Shape_Leng:"36698.9806",Shape_Area:"45872583.38",NHPD_Units:"0",Permits:"344",Pop:"5484",Pop_density:"319.0826787",Non_white_share:"0.136943837",White_non_hisp:"0.863056163",Black_non_hisp:"0.002552881",Asian_non_Hisp:"0.075857039",Hispanic:"0.030999271",Workers:"2861",Transit_to_work:"0.038098567",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.038098567",BA_plus_25_plus:"0.560118753",Med_HH_inc:"168420",Cost_burdened:"0.116666667",Very_cost_burdened:"0.116666667",Med_housing_value:"848700",Jobs:"444",Job_density:"25.83382738",Housing_units:"2089",Housing_density:"121.5469941",Permit_density:"20.01539779",Permits_per_capita:"62.72793581",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032316",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32316",GEOID:"53033032316",NAME:"323.16",NAMELSAD:"Census Tract 323.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6235320",AWATER:"2556870",INTPTLAT:"47.6392224",INTPTLON:"-122.071245",Shape_Leng:"16351.76881",Shape_Area:"8792192.306",NHPD_Units:"0",Permits:"380",Pop:"5487",Pop_density:"2279.155643",Non_white_share:"0.428102788",White_non_hisp:"0.571897212",Black_non_hisp:"0.00874795",Asian_non_Hisp:"0.326225624",Hispanic:"0.034262803",Workers:"2687",Transit_to_work:"0.04279866",Walk_to_Work:"0.006698921",Bike_to_work:"0.006326758",Green_commute_share:"0.055824339",BA_plus_25_plus:"0.794642857",Med_HH_inc:"170000",Cost_burdened:"0.205714286",Very_cost_burdened:"0.034285714",Med_housing_value:"890400",Jobs:"289",Job_density:"120.0430072",Housing_units:"1959",Housing_density:"813.7171321",Permit_density:"157.8420164",Permits_per_capita:"69.25460179",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032317",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32317",GEOID:"53033032317",NAME:"323.17",NAMELSAD:"Census Tract 323.17",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4393664",AWATER:"0",INTPTLAT:"47.6276165",INTPTLON:"-122.047985",Shape_Leng:"9805.3621",Shape_Area:"4393662.968",NHPD_Units:"0",Permits:"121",Pop:"6663",Pop_density:"3927.722006",Non_white_share:"0.319975987",White_non_hisp:"0.680024013",Black_non_hisp:"0.005252889",Asian_non_Hisp:"0.192105658",Hispanic:"0.054329881",Workers:"3230",Transit_to_work:"0.118266254",Walk_to_Work:"0.009597523",Bike_to_work:"0.010526316",Green_commute_share:"0.138390093",BA_plus_25_plus:"0.731387192",Med_HH_inc:"185673",Cost_burdened:"0.278145695",Very_cost_burdened:"0.102649007",Med_housing_value:"842700",Jobs:"821",Job_density:"483.9651458",Housing_units:"2333",Housing_density:"1375.26271",Permit_density:"71.32738447",Permits_per_capita:"18.15998799",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032318",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32318",GEOID:"53033032318",NAME:"323.18",NAMELSAD:"Census Tract 323.18",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7326618",AWATER:"28260",INTPTLAT:"47.637215",INTPTLON:"-122.0394458",Shape_Leng:"14346.76243",Shape_Area:"7354878.93",NHPD_Units:"0",Permits:"587",Pop:"7100",Pop_density:"2509.877761",Non_white_share:"0.473239437",White_non_hisp:"0.526760563",Black_non_hisp:"0.007323944",Asian_non_Hisp:"0.397323944",Hispanic:"0.03",Workers:"3541",Transit_to_work:"0.059587687",Walk_to_Work:"0.011013838",Bike_to_work:"0",Green_commute_share:"0.070601525",BA_plus_25_plus:"0.798047874",Med_HH_inc:"201639",Cost_burdened:"0.415384615",Very_cost_burdened:"0.134615385",Med_housing_value:"842200",Jobs:"556",Job_density:"196.548174",Housing_units:"2163",Housing_density:"764.6289574",Permit_density:"207.5067952",Permits_per_capita:"82.67605634",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032319",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32319",GEOID:"53033032319",NAME:"323.19",NAMELSAD:"Census Tract 323.19",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6867974",AWATER:"0",INTPTLAT:"47.7595594",INTPTLON:"-122.1476069",Shape_Leng:"14621.07837",Shape_Area:"6867974.722",NHPD_Units:"127",Permits:"1812",Pop:"6515",Pop_density:"2456.877754",Non_white_share:"0.2095165",White_non_hisp:"0.7904835",Black_non_hisp:"0.009976976",Asian_non_Hisp:"0.056024559",Hispanic:"0.084267076",Workers:"3304",Transit_to_work:"0.046610169",Walk_to_Work:"0.045702179",Bike_to_work:"0.006961259",Green_commute_share:"0.099273608",BA_plus_25_plus:"0.507357646",Med_HH_inc:"86806",Cost_burdened:"0.519466073",Very_cost_burdened:"0.233592881",Med_housing_value:"608500",Jobs:"9259",Job_density:"3491.670166",Housing_units:"3180",Housing_density:"1199.21278",Permit_density:"683.3250178",Permits_per_capita:"278.1273983",Subsidized_hsg_share:"0.039937107"},{TRACT_ID:"G5300330032320",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32320",GEOID:"53033032320",NAME:"323.2",NAMELSAD:"Census Tract 323.20",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9661905",AWATER:"40422",INTPTLAT:"47.7564769",INTPTLON:"-122.1244452",Shape_Leng:"17041.32817",Shape_Area:"9702327.175",NHPD_Units:"0",Permits:"230",Pop:"4960",Pop_density:"1329.586766",Non_white_share:"0.235080645",White_non_hisp:"0.764919355",Black_non_hisp:"0.008064516",Asian_non_Hisp:"0.088709677",Hispanic:"0.089112903",Workers:"2455",Transit_to_work:"0.038289206",Walk_to_Work:"0.002443992",Bike_to_work:"0.005702648",Green_commute_share:"0.046435845",BA_plus_25_plus:"0.662737205",Med_HH_inc:"192276",Cost_burdened:"0.666666667",Very_cost_burdened:"0.541666667",Med_housing_value:"900800",Jobs:"866",Job_density:"232.1415604",Housing_units:"1659",Housing_density:"444.714606",Permit_density:"61.65422506",Permits_per_capita:"46.37096774",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032321",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32321",GEOID:"53033032321",NAME:"323.21",NAMELSAD:"Census Tract 323.21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12781170",AWATER:"0",INTPTLAT:"47.7180124",INTPTLON:"-122.1262416",Shape_Leng:"17485.96816",Shape_Area:"12781172.49",NHPD_Units:"0",Permits:"1530",Pop:"7314",Pop_density:"1482.115725",Non_white_share:"0.473885699",White_non_hisp:"0.526114301",Black_non_hisp:"0.00300793",Asian_non_Hisp:"0.393765381",Hispanic:"0.02707137",Workers:"3531",Transit_to_work:"0.074199943",Walk_to_Work:"0.005097706",Bike_to_work:"0.005380912",Green_commute_share:"0.084678561",BA_plus_25_plus:"0.827344248",Med_HH_inc:"206285",Cost_burdened:"0.124183007",Very_cost_burdened:"0.058823529",Med_housing_value:"1103000",Jobs:"1096",Job_density:"222.0944537",Housing_units:"2283",Housing_density:"462.6292316",Permit_density:"310.0406151",Permits_per_capita:"209.1878589",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032322",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32322",GEOID:"53033032322",NAME:"323.22",NAMELSAD:"Census Tract 323.22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4628580",AWATER:"0",INTPTLAT:"47.7262356",INTPTLON:"-122.0977",Shape_Leng:"9747.717339",Shape_Area:"4628577.853",NHPD_Units:"0",Permits:"32",Pop:"3166",Pop_density:"1771.580562",Non_white_share:"0.255211623",White_non_hisp:"0.744788377",Black_non_hisp:"0.000631712",Asian_non_Hisp:"0.177826911",Hispanic:"0.028427037",Workers:"1607",Transit_to_work:"0.03546982",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.03546982",BA_plus_25_plus:"0.76143936",Med_HH_inc:"190109",Cost_burdened:"0.1",Very_cost_burdened:"0",Med_housing_value:"841100",Jobs:"279",Job_density:"156.1184387",Housing_units:"1131",Housing_density:"632.867219",Permit_density:"17.90605748",Permits_per_capita:"10.10739103",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032323",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32323",GEOID:"53033032323",NAME:"323.23",NAMELSAD:"Census Tract 323.23",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3291835",AWATER:"0",INTPTLAT:"47.6986018",INTPTLON:"-122.1117667",Shape_Leng:"8154.928022",Shape_Area:"3291833.936",NHPD_Units:"0",Permits:"463",Pop:"6207",Pop_density:"4883.61543",Non_white_share:"0.48622523",White_non_hisp:"0.51377477",Black_non_hisp:"0.014016433",Asian_non_Hisp:"0.254390205",Hispanic:"0.152086354",Workers:"2855",Transit_to_work:"0.067600701",Walk_to_Work:"0",Bike_to_work:"0.014360771",Green_commute_share:"0.081961471",BA_plus_25_plus:"0.719167905",Med_HH_inc:"169420",Cost_burdened:"0.388814913",Very_cost_burdened:"0.113182423",Med_housing_value:"860300",Jobs:"546",Job_density:"429.5882109",Housing_units:"2421",Housing_density:"1904.822452",Permit_density:"364.2845085",Permits_per_capita:"74.59320122",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032324",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32324",GEOID:"53033032324",NAME:"323.24",NAMELSAD:"Census Tract 323.24",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2048589",AWATER:"0",INTPTLAT:"47.6855267",INTPTLON:"-122.1199841",Shape_Leng:"7713.566637",Shape_Area:"2048589.636",NHPD_Units:"99",Permits:"252",Pop:"6465",Pop_density:"8173.563918",Non_white_share:"0.465119876",White_non_hisp:"0.534880124",Black_non_hisp:"0.023511214",Asian_non_Hisp:"0.302397525",Hispanic:"0.096519722",Workers:"3094",Transit_to_work:"0.059469942",Walk_to_Work:"0.051389787",Bike_to_work:"0.015513898",Green_commute_share:"0.126373626",BA_plus_25_plus:"0.715328467",Med_HH_inc:"131346",Cost_burdened:"0.34591195",Very_cost_burdened:"0.271698113",Med_housing_value:"790900",Jobs:"223",Job_density:"281.9342233",Housing_units:"2423",Housing_density:"3063.348086",Permit_density:"318.5983151",Permits_per_capita:"38.97911833",Subsidized_hsg_share:"0.04085844"},{TRACT_ID:"G5300330032325",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32325",GEOID:"53033032325",NAME:"323.25",NAMELSAD:"Census Tract 323.25",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2212937",AWATER:"0",INTPTLAT:"47.6864819",INTPTLON:"-122.1049565",Shape_Leng:"8138.560959",Shape_Area:"2212938.997",NHPD_Units:"189",Permits:"308",Pop:"5898",Pop_density:"6902.930302",Non_white_share:"0.473380807",White_non_hisp:"0.526619193",Black_non_hisp:"0.01865039",Asian_non_Hisp:"0.289420142",Hispanic:"0.093591048",Workers:"2994",Transit_to_work:"0.091516366",Walk_to_Work:"0.054776219",Bike_to_work:"0",Green_commute_share:"0.146292585",BA_plus_25_plus:"0.682926829",Med_HH_inc:"109554",Cost_burdened:"0.485947416",Very_cost_burdened:"0.243880326",Med_housing_value:"699500",Jobs:"461",Job_density:"539.5474516",Housing_units:"2526",Housing_density:"2956.392327",Permit_density:"360.4785577",Permits_per_capita:"52.2210919",Subsidized_hsg_share:"0.074821853"},{TRACT_ID:"G5300330032326",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32326",GEOID:"53033032326",NAME:"323.26",NAMELSAD:"Census Tract 323.26",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"10288287",AWATER:"0",INTPTLAT:"47.7242618",INTPTLON:"-122.0785815",Shape_Leng:"18760.9331",Shape_Area:"10288287.86",NHPD_Units:"0",Permits:"54",Pop:"4011",Pop_density:"1009.734887",Non_white_share:"0.280977312",White_non_hisp:"0.719022688",Black_non_hisp:"0.002742458",Asian_non_Hisp:"0.085764149",Hispanic:"0.166542009",Workers:"1641",Transit_to_work:"0.020719074",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.020719074",BA_plus_25_plus:"0.626656848",Med_HH_inc:"213246",Cost_burdened:"0.946308725",Very_cost_burdened:"0.55704698",Med_housing_value:"928500",Jobs:"598",Job_density:"150.5413768",Housing_units:"1397",Housing_density:"351.6827816",Permit_density:"13.59403737",Permits_per_capita:"13.46297681",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032327",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32327",GEOID:"53033032327",NAME:"323.27",NAMELSAD:"Census Tract 323.27",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16167035",AWATER:"114301",INTPTLAT:"47.7094527",INTPTLON:"-122.0423942",Shape_Leng:"20902.73878",Shape_Area:"16281336.7",NHPD_Units:"0",Permits:"1590",Pop:"4522",Pop_density:"724.4325403",Non_white_share:"0.200353826",White_non_hisp:"0.799646174",Black_non_hisp:"0.019239275",Asian_non_Hisp:"0.078505086",Hispanic:"0.086245024",Workers:"1339",Transit_to_work:"0.046303211",Walk_to_Work:"0",Bike_to_work:"0.006721434",Green_commute_share:"0.053024645",BA_plus_25_plus:"0.655435641",Med_HH_inc:"127131",Cost_burdened:"0.405940594",Very_cost_burdened:"0.138613861",Med_housing_value:"802500",Jobs:"397",Job_density:"63.60011466",Housing_units:"2254",Housing_density:"361.0948576",Permit_density:"254.7208623",Permits_per_capita:"351.6143299",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032328",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32328",GEOID:"53033032328",NAME:"323.28",NAMELSAD:"Census Tract 323.28",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8504236",AWATER:"0",INTPTLAT:"47.6641638",INTPTLON:"-122.0461286",Shape_Leng:"15939.68226",Shape_Area:"8504238.639",NHPD_Units:"0",Permits:"47",Pop:"3288",Pop_density:"1001.369307",Non_white_share:"0.25486618",White_non_hisp:"0.74513382",Black_non_hisp:"0.023418491",Asian_non_Hisp:"0.147506083",Hispanic:"0.030717762",Workers:"1610",Transit_to_work:"0.019254658",Walk_to_Work:"0.007453416",Bike_to_work:"0.004968944",Green_commute_share:"0.031677019",BA_plus_25_plus:"0.715652174",Med_HH_inc:"191815",Cost_burdened:"0.608695652",Very_cost_burdened:"0.608695652",Med_housing_value:"951000",Jobs:"442",Job_density:"134.6122973",Housing_units:"1169",Housing_density:"356.0221166",Permit_density:"14.31397731",Permits_per_capita:"14.29440389",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032330",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32330",GEOID:"53033032330",NAME:"323.3",NAMELSAD:"Census Tract 323.30",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4649727",AWATER:"0",INTPTLAT:"47.6899362",INTPTLON:"-122.1381057",Shape_Leng:"11655.25262",Shape_Area:"4649723.84",NHPD_Units:"86",Permits:"1592",Pop:"4702",Pop_density:"2619.105185",Non_white_share:"0.554232242",White_non_hisp:"0.445767758",Black_non_hisp:"0.002764781",Asian_non_Hisp:"0.417269247",Hispanic:"0.04870268",Workers:"2753",Transit_to_work:"0.092989466",Walk_to_Work:"0.033781329",Bike_to_work:"0.017072285",Green_commute_share:"0.14384308",BA_plus_25_plus:"0.819644839",Med_HH_inc:"124655",Cost_burdened:"0.271629779",Very_cost_burdened:"0.112005366",Med_housing_value:"728200",Jobs:"7964",Job_density:"4436.102444",Housing_units:"2330",Housing_density:"1297.855185",Permit_density:"886.7748734",Permits_per_capita:"338.5793279",Subsidized_hsg_share:"0.036909871"},{TRACT_ID:"G5300330032331",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32331",GEOID:"53033032331",NAME:"323.31",NAMELSAD:"Census Tract 323.31",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1440138",AWATER:"0",INTPTLAT:"47.6723963",INTPTLON:"-122.1210863",Shape_Leng:"6361.158911",Shape_Area:"1440139.571",NHPD_Units:"43",Permits:"2478",Pop:"4373",Pop_density:"7864.536597",Non_white_share:"0.487765836",White_non_hisp:"0.512234164",Black_non_hisp:"0.045506517",Asian_non_Hisp:"0.333409559",Hispanic:"0.051223416",Workers:"3063",Transit_to_work:"0.26216128",Walk_to_Work:"0.062357166",Bike_to_work:"0.022526934",Green_commute_share:"0.34704538",BA_plus_25_plus:"0.69275766",Med_HH_inc:"108393",Cost_burdened:"0.351590818",Very_cost_burdened:"0.129681836",Med_housing_value:"361800",Jobs:"10170",Job_density:"18290.03823",Housing_units:"2744",Housing_density:"4934.893305",Permit_density:"4456.510791",Permits_per_capita:"566.6590441",Subsidized_hsg_share:"0.015670554"},{TRACT_ID:"G5300330032332",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32332",GEOID:"53033032332",NAME:"323.32",NAMELSAD:"Census Tract 323.32",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4774596",AWATER:"0",INTPTLAT:"47.6794897",INTPTLON:"-122.0383201",Shape_Leng:"10319.29305",Shape_Area:"4774593.228",NHPD_Units:"0",Permits:"1413",Pop:"6505",Pop_density:"3528.648844",Non_white_share:"0.494235204",White_non_hisp:"0.505764796",Black_non_hisp:"0",Asian_non_Hisp:"0.46594927",Hispanic:"0.002613374",Workers:"2939",Transit_to_work:"0.110241579",Walk_to_Work:"0",Bike_to_work:"0.018373596",Green_commute_share:"0.128615175",BA_plus_25_plus:"0.838644918",Med_HH_inc:"168194",Cost_burdened:"0.383147854",Very_cost_burdened:"0.273449921",Med_housing_value:"835300",Jobs:"705",Job_density:"382.4285066",Housing_units:"2093",Housing_density:"1135.351581",Permit_density:"766.4843685",Permits_per_capita:"217.217525",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032333",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32333",GEOID:"53033032333",NAME:"323.33",NAMELSAD:"Census Tract 323.33",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4878002",AWATER:"0",INTPTLAT:"47.6877305",INTPTLON:"-122.0213688",Shape_Leng:"9691.967893",Shape_Area:"4878001.099",NHPD_Units:"109",Permits:"1484",Pop:"3215",Pop_density:"1707.012784",Non_white_share:"0.602488336",White_non_hisp:"0.397511664",Black_non_hisp:"0.029548989",Asian_non_Hisp:"0.455987558",Hispanic:"0.05785381",Workers:"1401",Transit_to_work:"0.096359743",Walk_to_Work:"0.002141328",Bike_to_work:"0",Green_commute_share:"0.098501071",BA_plus_25_plus:"0.795851014",Med_HH_inc:"157950",Cost_burdened:"0.679083095",Very_cost_burdened:"0.363896848",Med_housing_value:"802900",Jobs:"632",Job_density:"335.5620776",Housing_units:"1287",Housing_density:"683.3360663",Permit_density:"787.9337392",Permits_per_capita:"461.5863142",Subsidized_hsg_share:"0.084693085"},{TRACT_ID:"G5300330032401",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32401",GEOID:"53033032401",NAME:"324.01",NAMELSAD:"Census Tract 324.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"56328122",AWATER:"1081012",INTPTLAT:"47.7463169",INTPTLON:"-121.947874",Shape_Leng:"44367.48492",Shape_Area:"57409131.94",NHPD_Units:"8",Permits:"622",Pop:"6023",Pop_density:"276.939792",Non_white_share:"0.080524655",White_non_hisp:"0.919475345",Black_non_hisp:"0",Asian_non_Hisp:"0.043167857",Hispanic:"0.00747136",Workers:"3125",Transit_to_work:"0.02368",Walk_to_Work:"0.02272",Bike_to_work:"0",Green_commute_share:"0.0464",BA_plus_25_plus:"0.551436288",Med_HH_inc:"140132",Cost_burdened:"0.723684211",Very_cost_burdened:"0",Med_housing_value:"556100",Jobs:"1966",Job_density:"90.39741508",Housing_units:"2223",Housing_density:"102.2143712",Permit_density:"28.59979256",Permits_per_capita:"103.2707953",Subsidized_hsg_share:"0.00359874"},{TRACT_ID:"G5300330032402",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32402",GEOID:"53033032402",NAME:"324.02",NAMELSAD:"Census Tract 324.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"25143316",AWATER:"628419",INTPTLAT:"47.705579",INTPTLON:"-121.9488126",Shape_Leng:"28687.15909",Shape_Area:"25771739.14",NHPD_Units:"0",Permits:"621",Pop:"7222",Pop_density:"743.9310763",Non_white_share:"0.208944891",White_non_hisp:"0.791055109",Black_non_hisp:"0.009000277",Asian_non_Hisp:"0.056770978",Hispanic:"0.108695652",Workers:"4086",Transit_to_work:"0.021292217",Walk_to_Work:"0.002936858",Bike_to_work:"0",Green_commute_share:"0.024229075",BA_plus_25_plus:"0.460471567",Med_HH_inc:"130804",Cost_burdened:"0.143884892",Very_cost_burdened:"0",Med_housing_value:"522900",Jobs:"533",Job_density:"54.90380278",Housing_units:"2649",Housing_density:"272.8708697",Permit_density:"63.96859573",Permits_per_capita:"85.98726115",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032500",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32500",GEOID:"53033032500",NAME:"325",NAMELSAD:"Census Tract 325",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"213738466",AWATER:"3896831",INTPTLAT:"47.7019073",INTPTLON:"-121.8274607",Shape_Leng:"97246.60607",Shape_Area:"217635308.8",NHPD_Units:"0",Permits:"512",Pop:"5700",Pop_density:"69.07007665",Non_white_share:"0.097017544",White_non_hisp:"0.902982456",Black_non_hisp:"0.004736842",Asian_non_Hisp:"0.011754386",Hispanic:"0.059649123",Workers:"3074",Transit_to_work:"0.01691607",Walk_to_Work:"0.009433962",Bike_to_work:"0.000650618",Green_commute_share:"0.027000651",BA_plus_25_plus:"0.486394558",Med_HH_inc:"131154",Cost_burdened:"0.372093023",Very_cost_burdened:"0.139534884",Med_housing_value:"636300",Jobs:"1049",Job_density:"12.71131761",Housing_units:"2174",Housing_density:"26.34356958",Permit_density:"6.204189341",Permits_per_capita:"89.8245614",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032601",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32601",GEOID:"53033032601",NAME:"326.01",NAMELSAD:"Census Tract 326.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"61227726",AWATER:"1116537",INTPTLAT:"47.581599",INTPTLON:"-121.8693353",Shape_Leng:"48254.84169",Shape_Area:"62344266.39",NHPD_Units:"0",Permits:"119",Pop:"3054",Pop_density:"129.1869584",Non_white_share:"0.217092338",White_non_hisp:"0.782907662",Black_non_hisp:"0",Asian_non_Hisp:"0.043876883",Hispanic:"0.095284872",Workers:"1517",Transit_to_work:"0.011865524",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.011865524",BA_plus_25_plus:"0.396848138",Med_HH_inc:"115688",Cost_burdened:"0.517699115",Very_cost_burdened:"0.132743363",Med_housing_value:"596700",Jobs:"556",Job_density:"23.51930218",Housing_units:"1054",Housing_density:"44.58515197",Permit_density:"5.03380748",Permits_per_capita:"38.96529142",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032603",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32603",GEOID:"53033032603",NAME:"326.03",NAMELSAD:"Census Tract 326.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12385870",AWATER:"427271",INTPTLAT:"47.5505897",INTPTLON:"-121.8677826",Shape_Leng:"18986.69913",Shape_Area:"12813138.87",NHPD_Units:"0",Permits:"956",Pop:"4406",Pop_density:"921.3311309",Non_white_share:"0.235133908",White_non_hisp:"0.764866092",Black_non_hisp:"0.002496596",Asian_non_Hisp:"0.162278711",Hispanic:"0.053563323",Workers:"2391",Transit_to_work:"0.029276453",Walk_to_Work:"0.037641154",Bike_to_work:"0",Green_commute_share:"0.066917608",BA_plus_25_plus:"0.695130558",Med_HH_inc:"176563",Cost_burdened:"0.563636364",Very_cost_burdened:"0",Med_housing_value:"692800",Jobs:"616",Job_density:"128.8107074",Housing_units:"1510",Housing_density:"315.7535197",Permit_density:"199.9075264",Permits_per_capita:"216.9768498",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032604",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32604",GEOID:"53033032604",NAME:"326.04",NAMELSAD:"Census Tract 326.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12971916",AWATER:"81082",INTPTLAT:"47.5218155",INTPTLON:"-121.8815284",Shape_Leng:"19318.65779",Shape_Area:"13053005.77",NHPD_Units:"30",Permits:"1680",Pop:"5529",Pop_density:"1103.926688",Non_white_share:"0.32320492",White_non_hisp:"0.67679508",Black_non_hisp:"0.006691988",Asian_non_Hisp:"0.159160789",Hispanic:"0.099294628",Workers:"3108",Transit_to_work:"0.071428571",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.071428571",BA_plus_25_plus:"0.734626947",Med_HH_inc:"168026",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"643200",Jobs:"1783",Job_density:"355.9958915",Housing_units:"1998",Housing_density:"398.9230461",Permit_density:"335.4307895",Permits_per_capita:"303.8524145",Subsidized_hsg_share:"0.015015015"},{TRACT_ID:"G5300330032605",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32605",GEOID:"53033032605",NAME:"326.05",NAMELSAD:"Census Tract 326.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4530738",AWATER:"131898",INTPTLAT:"47.5368811",INTPTLON:"-121.9007672",Shape_Leng:"10690.352",Shape_Area:"4662635.392",NHPD_Units:"191",Permits:"896",Pop:"4357",Pop_density:"2490.6711",Non_white_share:"0.150791829",White_non_hisp:"0.849208171",Black_non_hisp:"0",Asian_non_Hisp:"0.072756484",Hispanic:"0.03167317",Workers:"2247",Transit_to_work:"0.021806854",Walk_to_Work:"0.013796173",Bike_to_work:"0",Green_commute_share:"0.035603026",BA_plus_25_plus:"0.718315156",Med_HH_inc:"148750",Cost_burdened:"0.48989899",Very_cost_burdened:"0.090909091",Med_housing_value:"646900",Jobs:"525",Job_density:"300.115292",Housing_units:"1391",Housing_density:"795.1626118",Permit_density:"512.196765",Permits_per_capita:"205.6460868",Subsidized_hsg_share:"0.137311287"},{TRACT_ID:"G5300330032703",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32703",GEOID:"53033032703",NAME:"327.03",NAMELSAD:"Census Tract 327.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9930977",AWATER:"181212",INTPTLAT:"47.5143018",INTPTLON:"-121.8179238",Shape_Leng:"22725.69419",Shape_Area:"10112193.29",NHPD_Units:"0",Permits:"32",Pop:"2123",Pop_density:"553.6761145",Non_white_share:"0.14790391",White_non_hisp:"0.85209609",Black_non_hisp:"0",Asian_non_Hisp:"0.043334903",Hispanic:"0.059821008",Workers:"1295",Transit_to_work:"0.021621622",Walk_to_Work:"0.037065637",Bike_to_work:"0.006949807",Green_commute_share:"0.065637066",BA_plus_25_plus:"0.372354497",Med_HH_inc:"104625",Cost_burdened:"0.649350649",Very_cost_burdened:"0.051948052",Med_housing_value:"447700",Jobs:"3199",Job_density:"834.2957561",Housing_units:"832",Housing_density:"216.9847043",Permit_density:"8.34556555",Permits_per_capita:"15.07300989",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032704",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32704",GEOID:"53033032704",NAME:"327.04",NAMELSAD:"Census Tract 327.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16775239",AWATER:"545880",INTPTLAT:"47.4933201",INTPTLON:"-121.772091",Shape_Leng:"32556.64033",Shape_Area:"17321122.94",NHPD_Units:"88",Permits:"756",Pop:"7606",Pop_density:"1174.317073",Non_white_share:"0.283328951",White_non_hisp:"0.716671049",Black_non_hisp:"0.004733105",Asian_non_Hisp:"0.052458585",Hispanic:"0.16105706",Workers:"3679",Transit_to_work:"0.024191356",Walk_to_Work:"0.054090786",Bike_to_work:"0",Green_commute_share:"0.078282142",BA_plus_25_plus:"0.487507152",Med_HH_inc:"114234",Cost_burdened:"0.714912281",Very_cost_burdened:"0.536549708",Med_housing_value:"602900",Jobs:"2871",Job_density:"443.2637809",Housing_units:"2969",Housing_density:"458.3943453",Permit_density:"116.7214972",Permits_per_capita:"99.3952143",Subsidized_hsg_share:"0.029639609"},{TRACT_ID:"G5300330032705",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32705",GEOID:"53033032705",NAME:"327.05",NAMELSAD:"Census Tract 327.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"52619291",AWATER:"582390",INTPTLAT:"47.4666205",INTPTLON:"-121.8050261",Shape_Leng:"39759.83311",Shape_Area:"53201688.4",NHPD_Units:"0",Permits:"116",Pop:"3451",Pop_density:"169.8625884",Non_white_share:"0.150680962",White_non_hisp:"0.849319038",Black_non_hisp:"0",Asian_non_Hisp:"0.019124891",Hispanic:"0.095044915",Workers:"1706",Transit_to_work:"0.025205158",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.025205158",BA_plus_25_plus:"0.47467383",Med_HH_inc:"118750",Cost_burdened:"0.264214047",Very_cost_burdened:"0.056856187",Med_housing_value:"502300",Jobs:"233",Job_density:"11.46855494",Housing_units:"1376",Housing_density:"67.72846179",Permit_density:"5.709666837",Permits_per_capita:"33.61344538",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032706",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32706",GEOID:"53033032706",NAME:"327.06",NAMELSAD:"Census Tract 327.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"458845767",AWATER:"11916761",INTPTLAT:"47.4631821",INTPTLON:"-121.4989644",Shape_Leng:"145932.4105",Shape_Area:"470762590.5",NHPD_Units:"0",Permits:"121",Pop:"2983",Pop_density:"16.8377592",Non_white_share:"0.083137781",White_non_hisp:"0.916862219",Black_non_hisp:"0.003017097",Asian_non_Hisp:"0.010727456",Hispanic:"0.042239356",Workers:"1838",Transit_to_work:"0.003264418",Walk_to_Work:"0.010881393",Bike_to_work:"0.005984766",Green_commute_share:"0.020130577",BA_plus_25_plus:"0.336925961",Med_HH_inc:"99194",Cost_burdened:"0.178947368",Very_cost_burdened:"0.178947368",Med_housing_value:"457300",Jobs:"281",Job_density:"1.586124819",Housing_units:"1395",Housing_density:"7.87417837",Permit_density:"0.682993249",Permits_per_capita:"40.56319142",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300330032800",STATEFP:"53",COUNTYFP:"33",TRACTCE:"32800",GEOID:"53033032800",NAME:"328",NAMELSAD:"Census Tract 328",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1390641456",AWATER:"27389939",INTPTLAT:"47.6530738",INTPTLON:"-121.4312774",Shape_Leng:"204283.56",Shape_Area:"1418031321",NHPD_Units:"0",Permits:"194",Pop:"2744",Pop_density:"5.110538985",Non_white_share:"0.057580175",White_non_hisp:"0.942419825",Black_non_hisp:"0.00255102",Asian_non_Hisp:"0.004737609",Hispanic:"0.044460641",Workers:"1365",Transit_to_work:"0.017582418",Walk_to_Work:"0.007326007",Bike_to_work:"0.003663004",Green_commute_share:"0.028571429",BA_plus_25_plus:"0.458513189",Med_HH_inc:"73750",Cost_burdened:"0.557291667",Very_cost_burdened:"0.229166667",Med_housing_value:"595700",Jobs:"933",Job_density:"1.737657752",Housing_units:"1718",Housing_density:"3.199674189",Permit_density:"0.361313616",Permits_per_capita:"70.69970845",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350080101",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80101",GEOID:"53035080101",NAME:"801.01",NAMELSAD:"Census Tract 801.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2222371",AWATER:"389458",INTPTLAT:"47.5971819",INTPTLON:"-122.6482136",Shape_Leng:"6630.437181",Shape_Area:"2222366.619",NHPD_Units:"71",Permits:"272",Pop:"2705",Pop_density:"3152.451971",Non_white_share:"0.285397412",White_non_hisp:"0.714602588",Black_non_hisp:"0.014417745",Asian_non_Hisp:"0.104621072",Hispanic:"0.123844732",Workers:"1187",Transit_to_work:"0.079191238",Walk_to_Work:"0.00084246",Bike_to_work:"0.01347936",Green_commute_share:"0.093513058",BA_plus_25_plus:"0.266509434",Med_HH_inc:"64117",Cost_burdened:"0.639830508",Very_cost_burdened:"0.324152542",Med_housing_value:"281000",Jobs:"307",Job_density:"357.7829039",Housing_units:"1287",Housing_density:"1499.891196",Permit_density:"316.993322",Permits_per_capita:"100.5545287",Subsidized_hsg_share:"0.055167055"},{TRACT_ID:"G5300350080102",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80102",GEOID:"53035080102",NAME:"801.02",NAMELSAD:"Census Tract 801.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2352097",AWATER:"303795",INTPTLAT:"47.5919702",INTPTLON:"-122.6378825",Shape_Leng:"7679.314413",Shape_Area:"2352097.215",NHPD_Units:"0",Permits:"325",Pop:"5643",Pop_density:"6213.733067",Non_white_share:"0.452064505",White_non_hisp:"0.547935495",Black_non_hisp:"0.053163211",Asian_non_Hisp:"0.117136275",Hispanic:"0.185539607",Workers:"2765",Transit_to_work:"0.049909584",Walk_to_Work:"0.009403255",Bike_to_work:"0.005786618",Green_commute_share:"0.065099458",BA_plus_25_plus:"0.199001052",Med_HH_inc:"53352",Cost_burdened:"0.555642023",Very_cost_burdened:"0.33151751",Med_housing_value:"251000",Jobs:"835",Job_density:"919.451907",Housing_units:"2370",Housing_density:"2609.70182",Permit_density:"357.8705027",Permits_per_capita:"57.59347865",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350080200",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80200",GEOID:"53035080200",NAME:"802",NAMELSAD:"Census Tract 802",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2488267",AWATER:"0",INTPTLAT:"47.5975999",INTPTLON:"-122.6212773",Shape_Leng:"6503.87341",Shape_Area:"2488265.131",NHPD_Units:"418",Permits:"30",Pop:"3633",Pop_density:"3781.518143",Non_white_share:"0.4596752",White_non_hisp:"0.5403248",Black_non_hisp:"0.064134324",Asian_non_Hisp:"0.086154693",Hispanic:"0.159922929",Workers:"1371",Transit_to_work:"0.040116703",Walk_to_Work:"0.037928519",Bike_to_work:"0.005835157",Green_commute_share:"0.083880379",BA_plus_25_plus:"0.165354331",Med_HH_inc:"47786",Cost_burdened:"0.53649635",Very_cost_burdened:"0.321167883",Med_housing_value:"267100",Jobs:"1018",Job_density:"1059.616149",Housing_units:"1599",Housing_density:"1664.367605",Permit_density:"31.22640911",Permits_per_capita:"8.257638315",Subsidized_hsg_share:"0.261413383"},{TRACT_ID:"G5300350080300",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80300",GEOID:"53035080300",NAME:"803",NAMELSAD:"Census Tract 803",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1665513",AWATER:"210831",INTPTLAT:"47.5830335",INTPTLON:"-122.6219546",Shape_Leng:"5334.386849",Shape_Area:"1665510.656",NHPD_Units:"231",Permits:"469",Pop:"3533",Pop_density:"5494.059784",Non_white_share:"0.296065667",White_non_hisp:"0.703934333",Black_non_hisp:"0.067647891",Asian_non_Hisp:"0.024624965",Hispanic:"0.083781489",Workers:"1652",Transit_to_work:"0.12409201",Walk_to_Work:"0.033292978",Bike_to_work:"0",Green_commute_share:"0.157384988",BA_plus_25_plus:"0.256477657",Med_HH_inc:"52041",Cost_burdened:"0.524647887",Very_cost_burdened:"0.313380282",Med_housing_value:"309100",Jobs:"2950",Job_density:"4587.454391",Housing_units:"1847",Housing_density:"2872.21297",Permit_density:"729.3274947",Permits_per_capita:"132.7483725",Subsidized_hsg_share:"0.125067677"},{TRACT_ID:"G5300350080400",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80400",GEOID:"53035080400",NAME:"804",NAMELSAD:"Census Tract 804",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2880224",AWATER:"4201651",INTPTLAT:"47.5927143",INTPTLON:"-122.5952674",Shape_Leng:"9270.222888",Shape_Area:"2880226.076",NHPD_Units:"48",Permits:"73",Pop:"3606",Pop_density:"3242.628742",Non_white_share:"0.190793123",White_non_hisp:"0.809206877",Black_non_hisp:"0.029950083",Asian_non_Hisp:"0.045757072",Hispanic:"0.048807543",Workers:"1745",Transit_to_work:"0.12722063",Walk_to_Work:"0.065902579",Bike_to_work:"0.0252149",Green_commute_share:"0.218338109",BA_plus_25_plus:"0.401325479",Med_HH_inc:"67566",Cost_burdened:"0.508928571",Very_cost_burdened:"0.158482143",Med_housing_value:"326900",Jobs:"336",Job_density:"302.1417796",Housing_units:"1779",Housing_density:"1599.732815",Permit_density:"65.64389855",Permits_per_capita:"20.24403771",Subsidized_hsg_share:"0.02698145"},{TRACT_ID:"G5300350080500",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80500",GEOID:"53035080500",NAME:"805",NAMELSAD:"Census Tract 805",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1037718",AWATER:"1499176",INTPTLAT:"47.5635753",INTPTLON:"-122.6236127",Shape_Leng:"5386.712138",Shape_Area:"1037716.048",NHPD_Units:"114",Permits:"403",Pop:"3073",Pop_density:"7669.745984",Non_white_share:"0.332574032",White_non_hisp:"0.667425968",Black_non_hisp:"0.047510576",Asian_non_Hisp:"0.042954767",Hispanic:"0.164659941",Workers:"1811",Transit_to_work:"0.067918277",Walk_to_Work:"0.19823302",Bike_to_work:"0.006626173",Green_commute_share:"0.272777471",BA_plus_25_plus:"0.317011397",Med_HH_inc:"60000",Cost_burdened:"0.430208333",Very_cost_burdened:"0.179166667",Med_housing_value:"256500",Jobs:"2813",Job_density:"7020.825074",Housing_units:"1815",Housing_density:"4529.96712",Permit_density:"1005.82741",Permits_per_capita:"131.1422063",Subsidized_hsg_share:"0.062809917"},{TRACT_ID:"G5300350080600",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80600",GEOID:"53035080600",NAME:"806",NAMELSAD:"Census Tract 806",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2348816",AWATER:"880486",INTPTLAT:"47.5794687",INTPTLON:"-122.6494564",Shape_Leng:"7378.570312",Shape_Area:"2348813.387",NHPD_Units:"0",Permits:"134",Pop:"4927",Pop_density:"5432.895305",Non_white_share:"0.33143901",White_non_hisp:"0.66856099",Black_non_hisp:"0.035721534",Asian_non_Hisp:"0.054394155",Hispanic:"0.11629795",Workers:"2518",Transit_to_work:"0.131453535",Walk_to_Work:"0.025814138",Bike_to_work:"0.007545671",Green_commute_share:"0.164813344",BA_plus_25_plus:"0.265329513",Med_HH_inc:"49962",Cost_burdened:"0.761776581",Very_cost_burdened:"0.285329744",Med_housing_value:"236200",Jobs:"978",Job_density:"1078.419243",Housing_units:"2362",Housing_density:"2604.525819",Permit_density:"147.7588737",Permits_per_capita:"27.19707733",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350080700",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80700",GEOID:"53035080700",NAME:"807",NAMELSAD:"Census Tract 807",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3825442",AWATER:"2750202",INTPTLAT:"47.591731",INTPTLON:"-122.67488",Shape_Leng:"23068.71334",Shape_Area:"3825443.754",NHPD_Units:"0",Permits:"97",Pop:"3186",Pop_density:"2157.058484",Non_white_share:"0.205586943",White_non_hisp:"0.794413057",Black_non_hisp:"0.008160703",Asian_non_Hisp:"0.022284997",Hispanic:"0.088198368",Workers:"1477",Transit_to_work:"0.023019634",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.023019634",BA_plus_25_plus:"0.352303523",Med_HH_inc:"71196",Cost_burdened:"0.672634271",Very_cost_burdened:"0.242966752",Med_housing_value:"322200",Jobs:"786",Job_density:"532.1556711",Housing_units:"1585",Housing_density:"1073.112899",Permit_density:"65.67315534",Permits_per_capita:"30.44569994",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350080800",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80800",GEOID:"53035080800",NAME:"808",NAMELSAD:"Census Tract 808",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1137381",AWATER:"592890",INTPTLAT:"47.5906614",INTPTLON:"-122.6899677",Shape_Leng:"4996.833535",Shape_Area:"1137380.351",NHPD_Units:"0",Permits:"0",Pop:"2355",Pop_density:"5362.69025",Non_white_share:"0.510828025",White_non_hisp:"0.489171975",Black_non_hisp:"0.137154989",Asian_non_Hisp:"0.047133758",Hispanic:"0.226751592",Workers:"1048",Transit_to_work:"0.057251908",Walk_to_Work:"0.005725191",Bike_to_work:"0",Green_commute_share:"0.062977099",BA_plus_25_plus:"0.219614417",Med_HH_inc:"63485",Cost_burdened:"0.625",Very_cost_burdened:"0.133152174",Med_housing_value:"0",Jobs:"373",Job_density:"849.3772668",Housing_units:"847",Housing_density:"1928.746769",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350080900",STATEFP:"53",COUNTYFP:"35",TRACTCE:"80900",GEOID:"53035080900",NAME:"809",NAMELSAD:"Census Tract 809",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13486868",AWATER:"932762",INTPTLAT:"47.561621",INTPTLON:"-122.6985656",Shape_Leng:"20478.50091",Shape_Area:"14419642.03",NHPD_Units:"69",Permits:"208",Pop:"4466",Pop_density:"857.6406991",Non_white_share:"0.4520824",White_non_hisp:"0.5479176",Black_non_hisp:"0.052171966",Asian_non_Hisp:"0.058217644",Hispanic:"0.108598298",Workers:"2006",Transit_to_work:"0.03888335",Walk_to_Work:"0.004985045",Bike_to_work:"0",Green_commute_share:"0.043868395",BA_plus_25_plus:"0.214285714",Med_HH_inc:"69500",Cost_burdened:"0.502717391",Very_cost_burdened:"0.305706522",Med_housing_value:"303300",Jobs:"2890",Job_density:"554.9891671",Housing_units:"2076",Housing_density:"398.670419",Permit_density:"39.94385701",Permits_per_capita:"46.57411554",Subsidized_hsg_share:"0.033236994"},{TRACT_ID:"G5300350081000",STATEFP:"53",COUNTYFP:"35",TRACTCE:"81000",GEOID:"53035081000",NAME:"810",NAMELSAD:"Census Tract 810",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3137288",AWATER:"1243123",INTPTLAT:"47.5537558",INTPTLON:"-122.6691376",Shape_Leng:"11076.00616",Shape_Area:"3137290.608",NHPD_Units:"489",Permits:"753",Pop:"4800",Pop_density:"3962.640003",Non_white_share:"0.24125",White_non_hisp:"0.75875",Black_non_hisp:"0.043125",Asian_non_Hisp:"0.030416667",Hispanic:"0.090416667",Workers:"2078",Transit_to_work:"0.094321463",Walk_to_Work:"0.004331088",Bike_to_work:"0.008180943",Green_commute_share:"0.106833494",BA_plus_25_plus:"0.189825581",Med_HH_inc:"51344",Cost_burdened:"0.325842697",Very_cost_burdened:"0.206332993",Med_housing_value:"217100",Jobs:"1425",Job_density:"1176.408751",Housing_units:"2299",Housing_density:"1897.939451",Permit_density:"621.6391505",Permits_per_capita:"156.875",Subsidized_hsg_share:"0.212701174"},{TRACT_ID:"G5300350081100",STATEFP:"53",COUNTYFP:"35",TRACTCE:"81100",GEOID:"53035081100",NAME:"811",NAMELSAD:"Census Tract 811",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1441028",AWATER:"0",INTPTLAT:"47.5651325",INTPTLON:"-122.6577561",Shape_Leng:"6371.151845",Shape_Area:"1441030.995",NHPD_Units:"0",Permits:"123",Pop:"2807",Pop_density:"5045.076588",Non_white_share:"0.230138938",White_non_hisp:"0.769861062",Black_non_hisp:"0.072319202",Asian_non_Hisp:"0.036693979",Hispanic:"0.050231564",Workers:"1177",Transit_to_work:"0.077315208",Walk_to_Work:"0.158028887",Bike_to_work:"0.010195412",Green_commute_share:"0.245539507",BA_plus_25_plus:"0.216216216",Med_HH_inc:"55855",Cost_burdened:"0.466037736",Very_cost_burdened:"0.281132075",Med_housing_value:"220500",Jobs:"2016",Job_density:"3623.396652",Housing_units:"1186",Housing_density:"2131.621245",Permit_density:"221.0703314",Permits_per_capita:"43.81902387",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350081200",STATEFP:"53",COUNTYFP:"35",TRACTCE:"81200",GEOID:"53035081200",NAME:"812",NAMELSAD:"Census Tract 812",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"872122",AWATER:"0",INTPTLAT:"47.5671935",INTPTLON:"-122.6427741",Shape_Leng:"4135.317747",Shape_Area:"872123.813",NHPD_Units:"14",Permits:"28",Pop:"2468",Pop_density:"7329.353756",Non_white_share:"0.243922204",White_non_hisp:"0.756077796",Black_non_hisp:"0.053889789",Asian_non_Hisp:"0.020664506",Hispanic:"0.083873582",Workers:"1408",Transit_to_work:"0.081676136",Walk_to_Work:"0.190340909",Bike_to_work:"0.006392045",Green_commute_share:"0.278409091",BA_plus_25_plus:"0.260517799",Med_HH_inc:"65268",Cost_burdened:"0.370826011",Very_cost_burdened:"0.165202109",Med_housing_value:"240900",Jobs:"198",Job_density:"588.0113629",Housing_units:"1342",Housing_density:"3985.410349",Permit_density:"83.15312203",Permits_per_capita:"11.3452188",Subsidized_hsg_share:"0.010432191"},{TRACT_ID:"G5300350081400",STATEFP:"53",COUNTYFP:"35",TRACTCE:"81400",GEOID:"53035081400",NAME:"814",NAMELSAD:"Census Tract 814",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1660484",AWATER:"1829481",INTPTLAT:"47.5621761",INTPTLON:"-122.6329783",Shape_Leng:"13636.89925",Shape_Area:"1660485.131",NHPD_Units:"0",Permits:"0",Pop:"3480",Pop_density:"5428.030998",Non_white_share:"0.243678161",White_non_hisp:"0.756321839",Black_non_hisp:"0.044827586",Asian_non_Hisp:"0.002873563",Hispanic:"0.152298851",Workers:"3408",Transit_to_work:"0.052816901",Walk_to_Work:"0.898180751",Bike_to_work:"0",Green_commute_share:"0.950997653",BA_plus_25_plus:"0.126159555",Med_HH_inc:"0",Cost_burdened:"0.129411765",Very_cost_burdened:"0.082352941",Med_housing_value:"0",Jobs:"541",Job_density:"843.8404511",Housing_units:"90",Housing_density:"140.380112",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090101",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90101",GEOID:"53035090101",NAME:"901.01",NAMELSAD:"Census Tract 901.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"46128023",AWATER:"11503686",INTPTLAT:"47.8586518",INTPTLON:"-122.5704821",Shape_Leng:"56200.17293",Shape_Area:"46439224.56",NHPD_Units:"0",Permits:"541",Pop:"6355",Pop_density:"356.8194206",Non_white_share:"0.179228954",White_non_hisp:"0.820771046",Black_non_hisp:"0.003776554",Asian_non_Hisp:"0.011487018",Hispanic:"0.045318647",Workers:"2348",Transit_to_work:"0.070698467",Walk_to_Work:"0.009369676",Bike_to_work:"0.012776831",Green_commute_share:"0.092844974",BA_plus_25_plus:"0.415589427",Med_HH_inc:"85721",Cost_burdened:"0.134556575",Very_cost_burdened:"0.091743119",Med_housing_value:"351300",Jobs:"1321",Job_density:"74.17127532",Housing_units:"2993",Housing_density:"168.0504368",Permit_density:"30.37597271",Permits_per_capita:"85.12981904",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090102",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90102",GEOID:"53035090102",NAME:"901.02",NAMELSAD:"Census Tract 901.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"48669522",AWATER:"8269399",INTPTLAT:"47.8201712",INTPTLON:"-122.5111787",Shape_Leng:"55732.25319",Shape_Area:"48702402.98",NHPD_Units:"94",Permits:"698",Pop:"5895",Pop_density:"313.707209",Non_white_share:"0.155725191",White_non_hisp:"0.844274809",Black_non_hisp:"0",Asian_non_Hisp:"0.026463104",Hispanic:"0.048685327",Workers:"2703",Transit_to_work:"0.137254902",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.137254902",BA_plus_25_plus:"0.456121802",Med_HH_inc:"90214",Cost_burdened:"0.461414791",Very_cost_burdened:"0.247588424",Med_housing_value:"469800",Jobs:"1114",Job_density:"59.28241405",Housing_units:"2946",Housing_density:"156.7737808",Permit_density:"37.14463645",Permits_per_capita:"118.4054283",Subsidized_hsg_share:"0.031907671"},{TRACT_ID:"G5300350090201",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90201",GEOID:"53035090201",NAME:"902.01",NAMELSAD:"Census Tract 902.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15977025",AWATER:"2597499",INTPTLAT:"47.7888844",INTPTLON:"-122.6697605",Shape_Leng:"18882.94104",Shape_Area:"15992968.84",NHPD_Units:"0",Permits:"440",Pop:"5214",Pop_density:"845.2260672",Non_white_share:"0.10088224",White_non_hisp:"0.89911776",Black_non_hisp:"0.014767932",Asian_non_Hisp:"0.019754507",Hispanic:"0.015343306",Workers:"2455",Transit_to_work:"0.073319756",Walk_to_Work:"0.00610998",Bike_to_work:"0.010183299",Green_commute_share:"0.089613035",BA_plus_25_plus:"0.495087901",Med_HH_inc:"105481",Cost_burdened:"0.550295858",Very_cost_burdened:"0.189349112",Med_housing_value:"437500",Jobs:"1552",Job_density:"251.5901144",Housing_units:"2101",Housing_density:"340.5868752",Permit_density:"71.32709428",Permits_per_capita:"84.38818565",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090202",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90202",GEOID:"53035090202",NAME:"902.02",NAMELSAD:"Census Tract 902.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"52225853",AWATER:"5620888",INTPTLAT:"47.8016795",INTPTLON:"-122.6116982",Shape_Leng:"41574.02846",Shape_Area:"52293168.16",NHPD_Units:"0",Permits:"634",Pop:"5160",Pop_density:"255.8950765",Non_white_share:"0.227131783",White_non_hisp:"0.772868217",Black_non_hisp:"0.005620155",Asian_non_Hisp:"0.02751938",Hispanic:"0.114728682",Workers:"2483",Transit_to_work:"0.057994362",Walk_to_Work:"0.003624648",Bike_to_work:"0.004430125",Green_commute_share:"0.066049134",BA_plus_25_plus:"0.358490566",Med_HH_inc:"96375",Cost_burdened:"0.336986301",Very_cost_burdened:"0.115068493",Med_housing_value:"395700",Jobs:"859",Job_density:"42.59958735",Housing_units:"2081",Housing_density:"103.2010958",Permit_density:"31.4413718",Permits_per_capita:"122.8682171",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090300",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90300",GEOID:"53035090300",NAME:"903",NAMELSAD:"Census Tract 903",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"28714543",AWATER:"2962518",INTPTLAT:"47.7245503",INTPTLON:"-122.7160114",Shape_Leng:"27288.50059",Shape_Area:"28790504.27",NHPD_Units:"0",Permits:"2",Pop:"6825",Pop_density:"615.599867",Non_white_share:"0.376263736",White_non_hisp:"0.623736264",Black_non_hisp:"0.0603663",Asian_non_Hisp:"0.018315018",Hispanic:"0.172454212",Workers:"4579",Transit_to_work:"0.139113344",Walk_to_Work:"0.361214239",Bike_to_work:"0.001965495",Green_commute_share:"0.502293077",BA_plus_25_plus:"0.250102669",Med_HH_inc:"66736",Cost_burdened:"0.549604917",Very_cost_burdened:"0.197541703",Med_housing_value:"0",Jobs:"1134",Job_density:"102.2842856",Housing_units:"1271",Housing_density:"114.6413818",Permit_density:"0.180395565",Permits_per_capita:"0.293040293",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090400",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90400",GEOID:"53035090400",NAME:"904",NAMELSAD:"Census Tract 904",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"23445392",AWATER:"620382",INTPTLAT:"47.7155912",INTPTLON:"-122.6722681",Shape_Leng:"29121.54775",Shape_Area:"23445391.37",NHPD_Units:"0",Permits:"252",Pop:"4929",Pop_density:"544.5015121",Non_white_share:"0.193142625",White_non_hisp:"0.806857375",Black_non_hisp:"0.004869142",Asian_non_Hisp:"0.067559343",Hispanic:"0.024954352",Workers:"2140",Transit_to_work:"0.031308411",Walk_to_Work:"0.004672897",Bike_to_work:"0",Green_commute_share:"0.035981308",BA_plus_25_plus:"0.359953366",Med_HH_inc:"99240",Cost_burdened:"0.555555556",Very_cost_burdened:"0.365740741",Med_housing_value:"390600",Jobs:"1399",Job_density:"154.5460774",Housing_units:"1892",Housing_density:"209.0072755",Permit_density:"27.83817834",Permits_per_capita:"51.12598904",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090501",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90501",GEOID:"53035090501",NAME:"905.01",NAMELSAD:"Census Tract 905.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5790252",AWATER:"2322942",INTPTLAT:"47.7415921",INTPTLON:"-122.65022",Shape_Leng:"16412.33772",Shape_Area:"5803906.648",NHPD_Units:"269",Permits:"459",Pop:"4705",Pop_density:"2104.553318",Non_white_share:"0.144102019",White_non_hisp:"0.855897981",Black_non_hisp:"0.016790648",Asian_non_Hisp:"0.011264612",Hispanic:"0.08565356",Workers:"2078",Transit_to_work:"0.028873917",Walk_to_Work:"0.01973051",Bike_to_work:"0",Green_commute_share:"0.048604427",BA_plus_25_plus:"0.313226941",Med_HH_inc:"47336",Cost_burdened:"0.558912387",Very_cost_burdened:"0.29305136",Med_housing_value:"360200",Jobs:"3310",Job_density:"1480.567797",Housing_units:"2582",Housing_density:"1154.932342",Permit_density:"205.3113651",Permits_per_capita:"97.55579171",Subsidized_hsg_share:"0.104182804"},{TRACT_ID:"G5300350090502",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90502",GEOID:"53035090502",NAME:"905.02",NAMELSAD:"Census Tract 905.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7035974",AWATER:"0",INTPTLAT:"47.7402073",INTPTLON:"-122.6267559",Shape_Leng:"14966.21505",Shape_Area:"7035969.742",NHPD_Units:"0",Permits:"762",Pop:"4625",Pop_density:"1702.492791",Non_white_share:"0.244108108",White_non_hisp:"0.755891892",Black_non_hisp:"0",Asian_non_Hisp:"0.042594595",Hispanic:"0.136216216",Workers:"2228",Transit_to_work:"0.087073609",Walk_to_Work:"0.003590664",Bike_to_work:"0.005385996",Green_commute_share:"0.096050269",BA_plus_25_plus:"0.435688406",Med_HH_inc:"86628",Cost_burdened:"0.471976401",Very_cost_burdened:"0.386430678",Med_housing_value:"386100",Jobs:"2755",Job_density:"1014.133543",Housing_units:"1861",Housing_density:"685.0462883",Permit_density:"280.4971906",Permits_per_capita:"164.7567568",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090700",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90700",GEOID:"53035090700",NAME:"907",NAMELSAD:"Census Tract 907",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16564017",AWATER:"5741681",INTPTLAT:"47.6852765",INTPTLON:"-122.5277148",Shape_Leng:"28462.9129",Shape_Area:"16662654.3",NHPD_Units:"0",Permits:"387",Pop:"5311",Pop_density:"830.4402763",Non_white_share:"0.13556769",White_non_hisp:"0.86443231",Black_non_hisp:"0.008472981",Asian_non_Hisp:"0.038599134",Hispanic:"0.044812653",Workers:"2455",Transit_to_work:"0.254582485",Walk_to_Work:"0.011812627",Bike_to_work:"0.028105906",Green_commute_share:"0.294501018",BA_plus_25_plus:"0.74262667",Med_HH_inc:"144375",Cost_burdened:"0.25",Very_cost_burdened:"0.113207547",Med_housing_value:"772800",Jobs:"1314",Job_density:"205.4600872",Housing_units:"2089",Housing_density:"326.6408844",Permit_density:"60.51221746",Permits_per_capita:"72.86763321",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090800",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90800",GEOID:"53035090800",NAME:"908",NAMELSAD:"Census Tract 908",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"18696127",AWATER:"8958856",INTPTLAT:"47.6692086",INTPTLON:"-122.5598869",Shape_Leng:"29228.4233",Shape_Area:"18699201.33",NHPD_Units:"0",Permits:"301",Pop:"4081",Pop_density:"565.3439067",Non_white_share:"0.14800294",White_non_hisp:"0.85199706",Black_non_hisp:"0",Asian_non_Hisp:"0.035775545",Hispanic:"0.056358736",Workers:"1827",Transit_to_work:"0.229337712",Walk_to_Work:"0.004926108",Bike_to_work:"0.003831418",Green_commute_share:"0.238095238",BA_plus_25_plus:"0.73425896",Med_HH_inc:"136528",Cost_burdened:"0.442176871",Very_cost_burdened:"0.238095238",Med_housing_value:"831900",Jobs:"758",Job_density:"105.0062929",Housing_units:"1993",Housing_density:"276.0917437",Permit_density:"41.69774955",Permits_per_capita:"73.75643225",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350090901",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90901",GEOID:"53035090901",NAME:"909.01",NAMELSAD:"Census Tract 909.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2403387",AWATER:"547506",INTPTLAT:"47.6276234",INTPTLON:"-122.5239262",Shape_Leng:"8603.400582",Shape_Area:"2403387.05",NHPD_Units:"174",Permits:"636",Pop:"4239",Pop_density:"4568.119741",Non_white_share:"0.099079972",White_non_hisp:"0.900920028",Black_non_hisp:"0.005189903",Asian_non_Hisp:"0.00754895",Hispanic:"0.022175041",Workers:"1747",Transit_to_work:"0.316542645",Walk_to_Work:"0.180309101",Bike_to_work:"0.006296508",Green_commute_share:"0.503148254",BA_plus_25_plus:"0.625831821",Med_HH_inc:"90598",Cost_burdened:"0.414424112",Very_cost_burdened:"0.215285253",Med_housing_value:"645000",Jobs:"3500",Job_density:"3771.743122",Housing_units:"2158",Housing_density:"2325.549045",Permit_density:"685.3796073",Permits_per_capita:"150.0353857",Subsidized_hsg_share:"0.080630213"},{TRACT_ID:"G5300350090902",STATEFP:"53",COUNTYFP:"35",TRACTCE:"90902",GEOID:"53035090902",NAME:"909.02",NAMELSAD:"Census Tract 909.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5239025",AWATER:"2300389",INTPTLAT:"47.6361972",INTPTLON:"-122.5070824",Shape_Leng:"12817.61664",Shape_Area:"5244435.082",NHPD_Units:"165",Permits:"673",Pop:"3766",Pop_density:"1861.776805",Non_white_share:"0.105682422",White_non_hisp:"0.894317578",Black_non_hisp:"0",Asian_non_Hisp:"0.034784918",Hispanic:"0.005841742",Workers:"1702",Transit_to_work:"0.206815511",Walk_to_Work:"0.066392479",Bike_to_work:"0.028202115",Green_commute_share:"0.301410106",BA_plus_25_plus:"0.689762151",Med_HH_inc:"124338",Cost_burdened:"0.327935223",Very_cost_burdened:"0.125506073",Med_housing_value:"651200",Jobs:"1139",Job_density:"563.081195",Housing_units:"1676",Housing_density:"828.5549454",Permit_density:"332.7073259",Permits_per_capita:"178.7041954",Subsidized_hsg_share:"0.098448687"},{TRACT_ID:"G5300350091001",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91001",GEOID:"53035091001",NAME:"910.01",NAMELSAD:"Census Tract 910.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14194358",AWATER:"4925303",INTPTLAT:"47.6157579",INTPTLON:"-122.5635795",Shape_Leng:"17583.89491",Shape_Area:"14241588.26",NHPD_Units:"0",Permits:"290",Pop:"4117",Pop_density:"751.2126332",Non_white_share:"0.123876609",White_non_hisp:"0.876123391",Black_non_hisp:"0.001700267",Asian_non_Hisp:"0.02696138",Hispanic:"0.02744717",Workers:"1731",Transit_to_work:"0.250144425",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.250144425",BA_plus_25_plus:"0.845604808",Med_HH_inc:"139732",Cost_burdened:"0.67",Very_cost_burdened:"0.43",Med_housing_value:"943000",Jobs:"344",Job_density:"62.76831329",Housing_units:"1456",Housing_density:"265.6705353",Permit_density:"52.91514783",Permits_per_capita:"70.43964051",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091002",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91002",GEOID:"53035091002",NAME:"910.02",NAMELSAD:"Census Tract 910.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14423414",AWATER:"6436711",INTPTLAT:"47.5841524",INTPTLON:"-122.5141539",Shape_Leng:"23638.90665",Shape_Area:"14423411.3",NHPD_Units:"0",Permits:"488",Pop:"3345",Pop_density:"600.6560048",Non_white_share:"0.086995516",White_non_hisp:"0.913004484",Black_non_hisp:"0.005979073",Asian_non_Hisp:"0.031390135",Hispanic:"0.028699552",Workers:"1287",Transit_to_work:"0.222999223",Walk_to_Work:"0.03962704",Bike_to_work:"0.063714064",Green_commute_share:"0.326340326",BA_plus_25_plus:"0.75732899",Med_HH_inc:"132933",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"853400",Jobs:"647",Job_density:"116.1806981",Housing_units:"1498",Housing_density:"268.9933319",Permit_density:"87.62933643",Permits_per_capita:"145.8893871",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091100",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91100",GEOID:"53035091100",NAME:"911",NAMELSAD:"Census Tract 911",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"19894610",AWATER:"9871009",INTPTLAT:"47.6756645",INTPTLON:"-122.6317547",Shape_Leng:"29167.54713",Shape_Area:"20076782.76",NHPD_Units:"0",Permits:"355",Pop:"5166",Pop_density:"672.5378672",Non_white_share:"0.166473093",White_non_hisp:"0.833526907",Black_non_hisp:"0.010646535",Asian_non_Hisp:"0.021680217",Hispanic:"0.079945799",Workers:"2453",Transit_to_work:"0.033020791",Walk_to_Work:"0.016714227",Bike_to_work:"0",Green_commute_share:"0.049735018",BA_plus_25_plus:"0.374495561",Med_HH_inc:"101162",Cost_burdened:"0.527950311",Very_cost_burdened:"0.211180124",Med_housing_value:"428100",Jobs:"596",Job_density:"77.59050887",Housing_units:"2268",Housing_density:"295.2605271",Permit_density:"46.21582324",Permits_per_capita:"68.71854433",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091201",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91201",GEOID:"53035091201",NAME:"912.01",NAMELSAD:"Census Tract 912.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5792107",AWATER:"964311",INTPTLAT:"47.6484942",INTPTLON:"-122.7008884",Shape_Leng:"12604.56089",Shape_Area:"5792103.871",NHPD_Units:"523",Permits:"149",Pop:"4481",Pop_density:"2003.715871",Non_white_share:"0.321580004",White_non_hisp:"0.678419996",Black_non_hisp:"0.038384289",Asian_non_Hisp:"0.077884401",Hispanic:"0.099754519",Workers:"2347",Transit_to_work:"0.110353643",Walk_to_Work:"0.019599489",Bike_to_work:"0.002556455",Green_commute_share:"0.132509587",BA_plus_25_plus:"0.237166992",Med_HH_inc:"73981",Cost_burdened:"0.394545455",Very_cost_burdened:"0.136363636",Med_housing_value:"353100",Jobs:"8252",Job_density:"3689.949424",Housing_units:"2081",Housing_density:"930.5362034",Permit_density:"66.62657103",Permits_per_capita:"33.25150636",Subsidized_hsg_share:"0.25132148"},{TRACT_ID:"G5300350091204",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91204",GEOID:"53035091204",NAME:"912.04",NAMELSAD:"Census Tract 912.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3555844",AWATER:"1352266",INTPTLAT:"47.6476102",INTPTLON:"-122.6745265",Shape_Leng:"8427.750489",Shape_Area:"3571010.107",NHPD_Units:"0",Permits:"80",Pop:"3729",Pop_density:"2716.110623",Non_white_share:"0.347278091",White_non_hisp:"0.652721909",Black_non_hisp:"0.106462859",Asian_non_Hisp:"0.089836417",Hispanic:"0.051488335",Workers:"1712",Transit_to_work:"0.064252336",Walk_to_Work:"0.014018692",Bike_to_work:"0",Green_commute_share:"0.078271028",BA_plus_25_plus:"0.264582539",Med_HH_inc:"70781",Cost_burdened:"0.544276458",Very_cost_burdened:"0.289416847",Med_housing_value:"341900",Jobs:"2314",Job_density:"1685.459904",Housing_units:"1717",Housing_density:"1250.619989",Permit_density:"58.27000533",Permits_per_capita:"21.45347278",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091205",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91205",GEOID:"53035091205",NAME:"912.05",NAMELSAD:"Census Tract 912.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4218746",AWATER:"114181",INTPTLAT:"47.6776005",INTPTLON:"-122.6633738",Shape_Leng:"14348.8619",Shape_Area:"4332927.903",NHPD_Units:"0",Permits:"108",Pop:"3920",Pop_density:"2406.580864",Non_white_share:"0.395918367",White_non_hisp:"0.604081633",Black_non_hisp:"0.010714286",Asian_non_Hisp:"0.206887755",Hispanic:"0.098979592",Workers:"2062",Transit_to_work:"0.018913676",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.018913676",BA_plus_25_plus:"0.381463041",Med_HH_inc:"90250",Cost_burdened:"0.53526971",Very_cost_burdened:"0.2406639",Med_housing_value:"336500",Jobs:"107",Job_density:"65.6898348",Housing_units:"1308",Housing_density:"803.0121862",Permit_density:"66.30375849",Permits_per_capita:"27.55102041",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091206",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91206",GEOID:"53035091206",NAME:"912.06",NAMELSAD:"Census Tract 912.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1921034",AWATER:"0",INTPTLAT:"47.6686575",INTPTLON:"-122.6736618",Shape_Leng:"7299.203549",Shape_Area:"1921036.104",NHPD_Units:"0",Permits:"249",Pop:"4615",Pop_density:"6222.063289",Non_white_share:"0.393066089",White_non_hisp:"0.606933911",Black_non_hisp:"0.121126761",Asian_non_Hisp:"0.064788732",Hispanic:"0.110942579",Workers:"2563",Transit_to_work:"0.051502146",Walk_to_Work:"0.008193523",Bike_to_work:"0",Green_commute_share:"0.059695669",BA_plus_25_plus:"0.334435991",Med_HH_inc:"79555",Cost_burdened:"0.399179367",Very_cost_burdened:"0.093200469",Med_housing_value:"377500",Jobs:"153",Job_density:"206.2785879",Housing_units:"2038",Housing_density:"2747.68472",Permit_density:"335.7082902",Permits_per_capita:"53.95449621",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091301",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91301",GEOID:"53035091301",NAME:"913.01",NAMELSAD:"Census Tract 913.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"35051853",AWATER:"4542751",INTPTLAT:"47.6185633",INTPTLON:"-122.8170858",Shape_Leng:"40136.87828",Shape_Area:"35116458.46",NHPD_Units:"0",Permits:"403",Pop:"4216",Pop_density:"311.5210449",Non_white_share:"0.083017078",White_non_hisp:"0.916982922",Black_non_hisp:"0",Asian_non_Hisp:"0.013994307",Hispanic:"0.049810247",Workers:"2221",Transit_to_work:"0.010355696",Walk_to_Work:"0.01530842",Bike_to_work:"0",Green_commute_share:"0.025664115",BA_plus_25_plus:"0.255193798",Med_HH_inc:"102857",Cost_burdened:"0.508474576",Very_cost_burdened:"0.446327684",Med_housing_value:"373500",Jobs:"256",Job_density:"18.91588888",Housing_units:"1892",Housing_density:"139.8002412",Permit_density:"29.77774694",Permits_per_capita:"95.58823529",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091302",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91302",GEOID:"53035091302",NAME:"913.02",NAMELSAD:"Census Tract 913.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"34276059",AWATER:"3261226",INTPTLAT:"47.6522391",INTPTLON:"-122.7423623",Shape_Leng:"39969.0193",Shape_Area:"34289991.98",NHPD_Units:"0",Permits:"398",Pop:"5993",Pop_density:"452.8466573",Non_white_share:"0.144335058",White_non_hisp:"0.855664942",Black_non_hisp:"0.005673285",Asian_non_Hisp:"0.06858001",Hispanic:"0.043383948",Workers:"2856",Transit_to_work:"0.06197479",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.06197479",BA_plus_25_plus:"0.377358491",Med_HH_inc:"131184",Cost_burdened:"0.354609929",Very_cost_burdened:"0.106382979",Med_housing_value:"474200",Jobs:"659",Job_density:"49.79575291",Housing_units:"2338",Housing_density:"176.6653571",Permit_density:"30.0739145",Permits_per_capita:"66.41081261",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091400",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91400",GEOID:"53035091400",NAME:"914",NAMELSAD:"Census Tract 914",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8212943",AWATER:"4790927",INTPTLAT:"47.6019181",INTPTLON:"-122.689175",Shape_Leng:"19511.69699",Shape_Area:"8212944.514",NHPD_Units:"0",Permits:"134",Pop:"3676",Pop_density:"1159.242953",Non_white_share:"0.24945593",White_non_hisp:"0.75054407",Black_non_hisp:"0.079162133",Asian_non_Hisp:"0.09031556",Hispanic:"0.022306855",Workers:"1765",Transit_to_work:"0.081586402",Walk_to_Work:"0.007365439",Bike_to_work:"0.005665722",Green_commute_share:"0.094617564",BA_plus_25_plus:"0.313317937",Med_HH_inc:"94300",Cost_burdened:"0.354581673",Very_cost_burdened:"0.123505976",Med_housing_value:"463000",Jobs:"140",Job_density:"44.14962279",Housing_units:"1583",Housing_density:"499.206092",Permit_density:"42.2574961",Permits_per_capita:"36.45266594",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091500",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91500",GEOID:"53035091500",NAME:"915",NAMELSAD:"Census Tract 915",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5085451",AWATER:"3345310",INTPTLAT:"47.6289311",INTPTLON:"-122.669034",Shape_Leng:"10725.29622",Shape_Area:"5085450.5",NHPD_Units:"0",Permits:"210",Pop:"4455",Pop_density:"2268.903394",Non_white_share:"0.309090909",White_non_hisp:"0.690909091",Black_non_hisp:"0.020650954",Asian_non_Hisp:"0.112008979",Hispanic:"0.050505051",Workers:"2055",Transit_to_work:"0.023844282",Walk_to_Work:"0.003892944",Bike_to_work:"0",Green_commute_share:"0.027737226",BA_plus_25_plus:"0.314066154",Med_HH_inc:"83595",Cost_burdened:"0.399014778",Very_cost_burdened:"0.044334975",Med_housing_value:"298900",Jobs:"133",Job_density:"67.73606091",Housing_units:"1521",Housing_density:"774.635704",Permit_density:"106.9516751",Permits_per_capita:"47.13804714",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091600",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91600",GEOID:"53035091600",NAME:"916",NAMELSAD:"Census Tract 916",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5059142",AWATER:"0",INTPTLAT:"47.6355961",INTPTLON:"-122.6398152",Shape_Leng:"9332.563896",Shape_Area:"5059136.228",NHPD_Units:"86",Permits:"256",Pop:"6590",Pop_density:"3373.69887",Non_white_share:"0.327921093",White_non_hisp:"0.672078907",Black_non_hisp:"0.057207891",Asian_non_Hisp:"0.082701062",Hispanic:"0.104704097",Workers:"3593",Transit_to_work:"0.017255775",Walk_to_Work:"0.003061508",Bike_to_work:"0",Green_commute_share:"0.020317284",BA_plus_25_plus:"0.341346154",Med_HH_inc:"78663",Cost_burdened:"0.454003407",Very_cost_burdened:"0.138841567",Med_housing_value:"283500",Jobs:"752",Job_density:"384.9805083",Housing_units:"3096",Housing_density:"1584.972944",Permit_density:"131.0571943",Permits_per_capita:"38.84673748",Subsidized_hsg_share:"0.027777778"},{TRACT_ID:"G5300350091701",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91701",GEOID:"53035091701",NAME:"917.01",NAMELSAD:"Census Tract 917.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5319959",AWATER:"2789001",INTPTLAT:"47.6385276",INTPTLON:"-122.6065403",Shape_Leng:"12217.05177",Shape_Area:"5369469.492",NHPD_Units:"0",Permits:"222",Pop:"4104",Pop_density:"1998.006226",Non_white_share:"0.269736842",White_non_hisp:"0.730263158",Black_non_hisp:"0.016325536",Asian_non_Hisp:"0.078216374",Hispanic:"0.085526316",Workers:"2200",Transit_to_work:"0.011818182",Walk_to_Work:"0.005",Bike_to_work:"0",Green_commute_share:"0.016818182",BA_plus_25_plus:"0.301886792",Med_HH_inc:"97429",Cost_burdened:"0.296296296",Very_cost_burdened:"0.203703704",Med_housing_value:"331700",Jobs:"80",Job_density:"38.94748979",Housing_units:"1416",Housing_density:"689.3705692",Permit_density:"108.0792842",Permits_per_capita:"54.09356725",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350091702",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91702",GEOID:"53035091702",NAME:"917.02",NAMELSAD:"Census Tract 917.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2142503",AWATER:"0",INTPTLAT:"47.6263371",INTPTLON:"-122.6167556",Shape_Leng:"6625.666494",Shape_Area:"2142503.49",NHPD_Units:"172",Permits:"135",Pop:"4778",Pop_density:"5775.937392",Non_white_share:"0.300753453",White_non_hisp:"0.699246547",Black_non_hisp:"0.021557137",Asian_non_Hisp:"0.034323985",Hispanic:"0.112180829",Workers:"2050",Transit_to_work:"0.068780488",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.068780488",BA_plus_25_plus:"0.267252604",Med_HH_inc:"71250",Cost_burdened:"0.693581781",Very_cost_burdened:"0.287784679",Med_housing_value:"281900",Jobs:"191",Job_density:"230.8924324",Housing_units:"1800",Housing_density:"2175.949625",Permit_density:"163.1962218",Permits_per_capita:"28.25449979",Subsidized_hsg_share:"0.095555556"},{TRACT_ID:"G5300350091800",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91800",GEOID:"53035091800",NAME:"918",NAMELSAD:"Census Tract 918",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6592832",AWATER:"1950183",INTPTLAT:"47.6083906",INTPTLON:"-122.6021165",Shape_Leng:"13169.94197",Shape_Area:"6592835.232",NHPD_Units:"19",Permits:"102",Pop:"2646",Pop_density:"1039.478716",Non_white_share:"0.277777778",White_non_hisp:"0.722222222",Black_non_hisp:"0.026455026",Asian_non_Hisp:"0.099395314",Hispanic:"0.106198035",Workers:"1023",Transit_to_work:"0.082111437",Walk_to_Work:"0",Bike_to_work:"0.022482893",Green_commute_share:"0.10459433",BA_plus_25_plus:"0.287028074",Med_HH_inc:"75956",Cost_burdened:"0.469798658",Very_cost_burdened:"0.181208054",Med_housing_value:"309300",Jobs:"1268",Job_density:"498.1326574",Housing_units:"1119",Housing_density:"439.5981417",Permit_density:"40.07060809",Permits_per_capita:"38.54875283",Subsidized_hsg_share:"0.016979446"},{TRACT_ID:"G5300350091900",STATEFP:"53",COUNTYFP:"35",TRACTCE:"91900",GEOID:"53035091900",NAME:"919",NAMELSAD:"Census Tract 919",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3957529",AWATER:"2173940",INTPTLAT:"47.611465",INTPTLON:"-122.6535994",Shape_Leng:"8817.7466",Shape_Area:"3957532.657",NHPD_Units:"96",Permits:"399",Pop:"4413",Pop_density:"2888.069179",Non_white_share:"0.441876275",White_non_hisp:"0.558123725",Black_non_hisp:"0.014276003",Asian_non_Hisp:"0.160661681",Hispanic:"0.110355767",Workers:"2068",Transit_to_work:"0.088007737",Walk_to_Work:"0.006286267",Bike_to_work:"0",Green_commute_share:"0.094294004",BA_plus_25_plus:"0.272570641",Med_HH_inc:"78097",Cost_burdened:"0.309352518",Very_cost_burdened:"0.043165468",Med_housing_value:"278300",Jobs:"675",Job_density:"441.7508942",Housing_units:"1728",Housing_density:"1130.882289",Permit_density:"261.1238619",Permits_per_capita:"90.41468389",Subsidized_hsg_share:"0.055555556"},{TRACT_ID:"G5300350092000",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92000",GEOID:"53035092000",NAME:"920",NAMELSAD:"Census Tract 920",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"190106780",AWATER:"13443510",INTPTLAT:"47.5710781",INTPTLON:"-122.8518527",Shape_Leng:"82633.34965",Shape_Area:"195555165.1",NHPD_Units:"0",Permits:"586",Pop:"5502",Pop_density:"74.9584764",Non_white_share:"0.108869502",White_non_hisp:"0.891130498",Black_non_hisp:"0",Asian_non_Hisp:"0.031624864",Hispanic:"0.033260632",Workers:"2025",Transit_to_work:"0.030617284",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.030617284",BA_plus_25_plus:"0.241388175",Med_HH_inc:"79903",Cost_burdened:"0.61878453",Very_cost_burdened:"0.232044199",Med_housing_value:"356200",Jobs:"348",Job_density:"4.741103197",Housing_units:"2444",Housing_density:"33.29671326",Permit_density:"7.98358182",Permits_per_capita:"106.5067248",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092101",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92101",GEOID:"53035092101",NAME:"921.01",NAMELSAD:"Census Tract 921.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"46834840",AWATER:"1221687",INTPTLAT:"47.4889818",INTPTLON:"-122.7193851",Shape_Leng:"43412.25633",Shape_Area:"47119214.49",NHPD_Units:"0",Permits:"829",Pop:"4426",Pop_density:"244.7598279",Non_white_share:"0.199728875",White_non_hisp:"0.800271125",Black_non_hisp:"0.01536376",Asian_non_Hisp:"0.033438771",Hispanic:"0.091730682",Workers:"1668",Transit_to_work:"0.100719424",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.100719424",BA_plus_25_plus:"0.305506737",Med_HH_inc:"92325",Cost_burdened:"0.520446097",Very_cost_burdened:"0.081784387",Med_housing_value:"440200",Jobs:"1291",Job_density:"71.3928915",Housing_units:"2032",Housing_density:"112.370531",Permit_density:"45.84407982",Permits_per_capita:"187.3023046",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092102",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92102",GEOID:"53035092102",NAME:"921.02",NAMELSAD:"Census Tract 921.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22881165",AWATER:"1204523",INTPTLAT:"47.5109434",INTPTLON:"-122.7306406",Shape_Leng:"36121.61388",Shape_Area:"23061819.38",NHPD_Units:"0",Permits:"972",Pop:"4186",Pop_density:"473.8259713",Non_white_share:"0.274725275",White_non_hisp:"0.725274725",Black_non_hisp:"0.0169613",Asian_non_Hisp:"0.065456283",Hispanic:"0.073339704",Workers:"1950",Transit_to_work:"0.036410256",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.036410256",BA_plus_25_plus:"0.292849443",Med_HH_inc:"87813",Cost_burdened:"0.531690141",Very_cost_burdened:"0.133802817",Med_housing_value:"332500",Jobs:"990",Job_density:"112.0610873",Housing_units:"1571",Housing_density:"177.8262305",Permit_density:"110.023613",Permits_per_capita:"232.20258",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092200",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92200",GEOID:"53035092200",NAME:"922",NAMELSAD:"Census Tract 922",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5518650",AWATER:"2426413",INTPTLAT:"47.5289923",INTPTLON:"-122.6484447",Shape_Leng:"12288.73697",Shape_Area:"5518653.242",NHPD_Units:"135",Permits:"430",Pop:"7169",Pop_density:"3364.522983",Non_white_share:"0.37787697",White_non_hisp:"0.62212303",Black_non_hisp:"0.041009904",Asian_non_Hisp:"0.050355698",Hispanic:"0.133072953",Workers:"2969",Transit_to_work:"0.101380936",Walk_to_Work:"0.012798922",Bike_to_work:"0.006399461",Green_commute_share:"0.12057932",BA_plus_25_plus:"0.182804504",Med_HH_inc:"55227",Cost_burdened:"0.616519174",Very_cost_burdened:"0.286873156",Med_housing_value:"308800",Jobs:"2990",Job_density:"1403.253413",Housing_units:"2839",Housing_density:"1332.386769",Permit_density:"201.8056748",Permits_per_capita:"59.98047147",Subsidized_hsg_share:"0.047551955"},{TRACT_ID:"G5300350092300",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92300",GEOID:"53035092300",NAME:"923",NAMELSAD:"Census Tract 923",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7447741",AWATER:"0",INTPTLAT:"47.518952",INTPTLON:"-122.6250033",Shape_Leng:"13586.17095",Shape_Area:"7447735.248",NHPD_Units:"109",Permits:"473",Pop:"6086",Pop_density:"2116.436063",Non_white_share:"0.268320736",White_non_hisp:"0.731679264",Black_non_hisp:"0.041570818",Asian_non_Hisp:"0.051265199",Hispanic:"0.08034834",Workers:"2967",Transit_to_work:"0.118638355",Walk_to_Work:"0.023592855",Bike_to_work:"0.00438153",Green_commute_share:"0.14661274",BA_plus_25_plus:"0.204928338",Med_HH_inc:"57627",Cost_burdened:"0.54368932",Very_cost_burdened:"0.389428263",Med_housing_value:"263500",Jobs:"3999",Job_density:"1390.671675",Housing_units:"2637",Housing_density:"917.0295593",Permit_density:"164.4880476",Permits_per_capita:"77.7193559",Subsidized_hsg_share:"0.04133485"},{TRACT_ID:"G5300350092400",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92400",GEOID:"53035092400",NAME:"924",NAMELSAD:"Census Tract 924",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6106259",AWATER:"0",INTPTLAT:"47.5212725",INTPTLON:"-122.5964115",Shape_Leng:"10349.27234",Shape_Area:"6106259.191",NHPD_Units:"213",Permits:"93",Pop:"6071",Pop_density:"2575.032899",Non_white_share:"0.228133751",White_non_hisp:"0.771866249",Black_non_hisp:"0.023554604",Asian_non_Hisp:"0.035578982",Hispanic:"0.062427936",Workers:"3018",Transit_to_work:"0.05102717",Walk_to_Work:"0.00629556",Bike_to_work:"0",Green_commute_share:"0.05732273",BA_plus_25_plus:"0.171867722",Med_HH_inc:"62561",Cost_burdened:"0.493965517",Very_cost_burdened:"0.192241379",Med_housing_value:"292500",Jobs:"583",Job_density:"247.2812025",Housing_units:"2543",Housing_density:"1078.621094",Permit_density:"39.44622956",Permits_per_capita:"15.31872838",Subsidized_hsg_share:"0.083759339"},{TRACT_ID:"G5300350092500",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92500",GEOID:"53035092500",NAME:"925",NAMELSAD:"Census Tract 925",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12149522",AWATER:"4087083",INTPTLAT:"47.5538839",INTPTLON:"-122.5930481",Shape_Leng:"17153.07965",Shape_Area:"12149525.87",NHPD_Units:"121",Permits:"560",Pop:"5301",Pop_density:"1130.046678",Non_white_share:"0.193548387",White_non_hisp:"0.806451613",Black_non_hisp:"0.006791171",Asian_non_Hisp:"0.034521788",Hispanic:"0.062063762",Workers:"2610",Transit_to_work:"0.029501916",Walk_to_Work:"0",Bike_to_work:"0.014942529",Green_commute_share:"0.044444444",BA_plus_25_plus:"0.308459052",Med_HH_inc:"75850",Cost_burdened:"0.492248062",Very_cost_burdened:"0.209302326",Med_housing_value:"324400",Jobs:"1434",Job_density:"305.6945738",Housing_units:"2283",Housing_density:"486.6811102",Permit_density:"119.3786341",Permits_per_capita:"105.6404452",Subsidized_hsg_share:"0.053000438"},{TRACT_ID:"G5300350092600",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92600",GEOID:"53035092600",NAME:"926",NAMELSAD:"Census Tract 926",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12010602",AWATER:"5379694",INTPTLAT:"47.5598356",INTPTLON:"-122.5520905",Shape_Leng:"21899.69721",Shape_Area:"12116862.99",NHPD_Units:"0",Permits:"421",Pop:"6824",Pop_density:"1471.5398",Non_white_share:"0.209114889",White_non_hisp:"0.790885111",Black_non_hisp:"0.011869871",Asian_non_Hisp:"0.038833529",Hispanic:"0.092174678",Workers:"3371",Transit_to_work:"0.057846336",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.057846336",BA_plus_25_plus:"0.282571912",Med_HH_inc:"81250",Cost_burdened:"0.380622837",Very_cost_burdened:"0.333910035",Med_housing_value:"356800",Jobs:"290",Job_density:"62.53612866",Housing_units:"2691",Housing_density:"580.2921456",Permit_density:"90.78520747",Permits_per_capita:"61.6940211",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092701",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92701",GEOID:"53035092701",NAME:"927.01",NAMELSAD:"Census Tract 927.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"24488813",AWATER:"1038346",INTPTLAT:"47.4903543",INTPTLON:"-122.5751326",Shape_Leng:"24225.75775",Shape_Area:"25502680.01",NHPD_Units:"0",Permits:"301",Pop:"4934",Pop_density:"521.8301653",Non_white_share:"0.154438589",White_non_hisp:"0.845561411",Black_non_hisp:"0.004256182",Asian_non_Hisp:"0.037089582",Hispanic:"0.024118362",Workers:"2400",Transit_to_work:"0.075416667",Walk_to_Work:"0.004166667",Bike_to_work:"0",Green_commute_share:"0.079583333",BA_plus_25_plus:"0.328412256",Med_HH_inc:"94481",Cost_burdened:"0.601659751",Very_cost_burdened:"0.074688797",Med_housing_value:"388300",Jobs:"176",Job_density:"18.61412831",Housing_units:"2053",Housing_density:"217.1295763",Permit_density:"31.8343899",Permits_per_capita:"61.00526956",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092704",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92704",GEOID:"53035092704",NAME:"927.04",NAMELSAD:"Census Tract 927.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"17958172",AWATER:"7398497",INTPTLAT:"47.5064576",INTPTLON:"-122.5168074",Shape_Leng:"26635.7257",Shape_Area:"17958171.51",NHPD_Units:"0",Permits:"241",Pop:"3057",Pop_density:"440.8908464",Non_white_share:"0.110893032",White_non_hisp:"0.889106968",Black_non_hisp:"0.000654236",Asian_non_Hisp:"0.02224403",Hispanic:"0.064442264",Workers:"1603",Transit_to_work:"0.130380536",Walk_to_Work:"0.013724267",Bike_to_work:"0.005614473",Green_commute_share:"0.149719276",BA_plus_25_plus:"0.364864865",Med_HH_inc:"99706",Cost_burdened:"0.176829268",Very_cost_burdened:"0",Med_housing_value:"414800",Jobs:"104",Job_density:"14.99923063",Housing_units:"1499",Housing_density:"216.1908338",Permit_density:"34.75783251",Permits_per_capita:"78.8354596",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092801",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92801",GEOID:"53035092801",NAME:"928.01",NAMELSAD:"Census Tract 928.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11707865",AWATER:"228389",INTPTLAT:"47.4918512",INTPTLON:"-122.6129347",Shape_Leng:"14751.96023",Shape_Area:"11936252.09",NHPD_Units:"0",Permits:"253",Pop:"4735",Pop_density:"1047.466272",Non_white_share:"0.249630412",White_non_hisp:"0.750369588",Black_non_hisp:"0.006335797",Asian_non_Hisp:"0.087222809",Hispanic:"0.030834213",Workers:"2046",Transit_to_work:"0.098240469",Walk_to_Work:"0.008308895",Bike_to_work:"0",Green_commute_share:"0.106549365",BA_plus_25_plus:"0.211831491",Med_HH_inc:"74072",Cost_burdened:"0.163179916",Very_cost_burdened:"0.041841004",Med_housing_value:"309700",Jobs:"1040",Job_density:"230.0665095",Housing_units:"1828",Housing_density:"404.3861341",Permit_density:"55.9681028",Permits_per_capita:"53.43189018",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092802",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92802",GEOID:"53035092802",NAME:"928.02",NAMELSAD:"Census Tract 928.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"26383180",AWATER:"1831071",INTPTLAT:"47.4534918",INTPTLON:"-122.5753279",Shape_Leng:"23771.57649",Shape_Area:"26383177.56",NHPD_Units:"0",Permits:"294",Pop:"4603",Pop_density:"451.8680186",Non_white_share:"0.178361938",White_non_hisp:"0.821638062",Black_non_hisp:"0.016510971",Asian_non_Hisp:"0.027156202",Hispanic:"0.06843363",Workers:"2298",Transit_to_work:"0.053959965",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.053959965",BA_plus_25_plus:"0.304285303",Med_HH_inc:"95893",Cost_burdened:"0.070422535",Very_cost_burdened:"0.070422535",Med_housing_value:"382700",Jobs:"502",Job_density:"49.28041394",Housing_units:"1793",Housing_density:"176.0155024",Permit_density:"28.86143764",Permits_per_capita:"63.87138823",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092803",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92803",GEOID:"53035092803",NAME:"928.03",NAMELSAD:"Census Tract 928.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"18126567",AWATER:"770947",INTPTLAT:"47.4150138",INTPTLON:"-122.5864467",Shape_Leng:"19887.8212",Shape_Area:"18136853.77",NHPD_Units:"0",Permits:"256",Pop:"2881",Pop_density:"411.6474866",Non_white_share:"0.126692121",White_non_hisp:"0.873307879",Black_non_hisp:"0.002429712",Asian_non_Hisp:"0.000694203",Hispanic:"0.054842069",Workers:"1182",Transit_to_work:"0.044839255",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.044839255",BA_plus_25_plus:"0.291037261",Med_HH_inc:"79623",Cost_burdened:"0.677777778",Very_cost_burdened:"0.427777778",Med_housing_value:"402800",Jobs:"185",Job_density:"26.4334554",Housing_units:"1125",Housing_density:"160.7439856",Permit_density:"36.57818694",Permits_per_capita:"88.8580354",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092901",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92901",GEOID:"53035092901",NAME:"929.01",NAMELSAD:"Census Tract 929.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"71114857",AWATER:"588117",INTPTLAT:"47.432584",INTPTLON:"-122.7131011",Shape_Leng:"36722.03383",Shape_Area:"71702973.59",NHPD_Units:"0",Permits:"517",Pop:"5947",Pop_density:"216.5884872",Non_white_share:"0.103917942",White_non_hisp:"0.896082058",Black_non_hisp:"0.000168152",Asian_non_Hisp:"0.015301833",Hispanic:"0.022700521",Workers:"2750",Transit_to_work:"0.019272727",Walk_to_Work:"0.030909091",Bike_to_work:"0",Green_commute_share:"0.050181818",BA_plus_25_plus:"0.234686855",Med_HH_inc:"90597",Cost_burdened:"0.359042553",Very_cost_burdened:"0.199468085",Med_housing_value:"345400",Jobs:"240",Job_density:"8.74074944",Housing_units:"2461",Housing_density:"89.62910155",Permit_density:"18.82903108",Permits_per_capita:"86.93458887",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350092902",STATEFP:"53",COUNTYFP:"35",TRACTCE:"92902",GEOID:"53035092902",NAME:"929.02",NAMELSAD:"Census Tract 929.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"27583736",AWATER:"496079",INTPTLAT:"47.4341433",INTPTLON:"-122.6417881",Shape_Leng:"29959.61659",Shape_Area:"27753829.94",NHPD_Units:"0",Permits:"327",Pop:"5290",Pop_density:"496.7070851",Non_white_share:"0.140453686",White_non_hisp:"0.859546314",Black_non_hisp:"0",Asian_non_Hisp:"0.009829868",Hispanic:"0.076559546",Workers:"2539",Transit_to_work:"0.081922017",Walk_to_Work:"0",Bike_to_work:"0.019298937",Green_commute_share:"0.101220953",BA_plus_25_plus:"0.255876068",Med_HH_inc:"68700",Cost_burdened:"0.588957055",Very_cost_burdened:"0.420245399",Med_housing_value:"293800",Jobs:"558",Job_density:"52.3936774",Housing_units:"2105",Housing_density:"197.6499838",Permit_density:"30.7038217",Permits_per_capita:"61.8147448",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350940000",STATEFP:"53",COUNTYFP:"35",TRACTCE:"940000",GEOID:"53035940000",NAME:"9400",NAMELSAD:"Census Tract 9400",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13611392",AWATER:"3260786",INTPTLAT:"47.7552727",INTPTLON:"-122.5114837",Shape_Leng:"21221.58974",Shape_Area:"13611387.49",NHPD_Units:"0",Permits:"247",Pop:"3564",Pop_density:"678.1611774",Non_white_share:"0.201459035",White_non_hisp:"0.798540965",Black_non_hisp:"0.004208754",Asian_non_Hisp:"0.021324355",Hispanic:"0.085016835",Workers:"1702",Transit_to_work:"0.095769683",Walk_to_Work:"0.007638073",Bike_to_work:"0",Green_commute_share:"0.103407756",BA_plus_25_plus:"0.362781955",Med_HH_inc:"74453",Cost_burdened:"0.55033557",Very_cost_burdened:"0.369127517",Med_housing_value:"342100",Jobs:"128",Job_density:"24.35595699",Housing_units:"1747",Housing_density:"332.4207567",Permit_density:"46.99938575",Permits_per_capita:"69.30415264",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300350940100",STATEFP:"53",COUNTYFP:"35",TRACTCE:"940100",GEOID:"53035940100",NAME:"9401",NAMELSAD:"Census Tract 9401",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"28135507",AWATER:"5389753",INTPTLAT:"47.7321188",INTPTLON:"-122.5802904",Shape_Leng:"35091.54196",Shape_Area:"28135506.72",NHPD_Units:"0",Permits:"481",Pop:"6338",Pop_density:"583.4387361",Non_white_share:"0.268223414",White_non_hisp:"0.731776586",Black_non_hisp:"0.005522247",Asian_non_Hisp:"0.018460082",Hispanic:"0.096875986",Workers:"3036",Transit_to_work:"0.062582345",Walk_to_Work:"0.014163373",Bike_to_work:"0.000988142",Green_commute_share:"0.07773386",BA_plus_25_plus:"0.446794872",Med_HH_inc:"82726",Cost_burdened:"0.433884298",Very_cost_burdened:"0.138429752",Med_housing_value:"387200",Jobs:"1851",Job_density:"170.3920954",Housing_units:"3093",Housing_density:"284.7232582",Permit_density:"44.27801074",Permits_per_capita:"75.89144841",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060200",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60200",GEOID:"53053060200",NAME:"602",NAMELSAD:"Census Tract 602",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15666963",AWATER:"9249345",INTPTLAT:"47.2668489",INTPTLON:"-122.4078355",Shape_Leng:"59649.12681",Shape_Area:"15995838.21",NHPD_Units:"0",Permits:"728",Pop:"2372",Pop_density:"392.1278041",Non_white_share:"0.625210793",White_non_hisp:"0.374789207",Black_non_hisp:"0.090219224",Asian_non_Hisp:"0.149662732",Hispanic:"0.347386172",Workers:"794",Transit_to_work:"0.117128463",Walk_to_Work:"0.04534005",Bike_to_work:"0",Green_commute_share:"0.162468514",BA_plus_25_plus:"0.284102061",Med_HH_inc:"84602",Cost_burdened:"0.403508772",Very_cost_burdened:"0.180451128",Med_housing_value:"446600",Jobs:"11134",Job_density:"1840.620139",Housing_units:"685",Housing_density:"113.2409552",Permit_density:"120.3495115",Permits_per_capita:"306.9139966",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060300",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60300",GEOID:"53053060300",NAME:"603",NAMELSAD:"Census Tract 603",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5472388",AWATER:"9928361",INTPTLAT:"47.306805",INTPTLON:"-122.5268439",Shape_Leng:"13018.75949",Shape_Area:"5472386.571",NHPD_Units:"0",Permits:"1009",Pop:"4896",Pop_density:"2317.193479",Non_white_share:"0.17626634",White_non_hisp:"0.82373366",Black_non_hisp:"0.012050654",Asian_non_Hisp:"0.029207516",Hispanic:"0.069444444",Workers:"2339",Transit_to_work:"0.048311244",Walk_to_Work:"0.026079521",Bike_to_work:"0",Green_commute_share:"0.074390765",BA_plus_25_plus:"0.404002026",Med_HH_inc:"88606",Cost_burdened:"0.456521739",Very_cost_burdened:"0.242562929",Med_housing_value:"432300",Jobs:"1437",Job_density:"680.1076449",Housing_units:"2547",Housing_density:"1205.451755",Permit_density:"477.5425287",Permits_per_capita:"206.0866013",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060400",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60400",GEOID:"53053060400",NAME:"604",NAMELSAD:"Census Tract 604",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2538827",AWATER:"3976395",INTPTLAT:"47.2841047",INTPTLON:"-122.4834095",Shape_Leng:"8319.603255",Shape_Area:"2538825.623",NHPD_Units:"15",Permits:"86",Pop:"4325",Pop_density:"4412.155132",Non_white_share:"0.159306358",White_non_hisp:"0.840693642",Black_non_hisp:"0",Asian_non_Hisp:"0.053410405",Hispanic:"0.030289017",Workers:"2238",Transit_to_work:"0.025469169",Walk_to_Work:"0.002680965",Bike_to_work:"0.030831099",Green_commute_share:"0.058981233",BA_plus_25_plus:"0.504888048",Med_HH_inc:"110929",Cost_burdened:"0.272727273",Very_cost_burdened:"0.036363636",Med_housing_value:"469500",Jobs:"172",Job_density:"175.4660538",Housing_units:"1834",Housing_density:"1870.957806",Permit_density:"87.7330269",Permits_per_capita:"19.88439306",Subsidized_hsg_share:"0.008178844"},{TRACT_ID:"G5300530060500",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60500",GEOID:"53053060500",NAME:"605",NAMELSAD:"Census Tract 605",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2115806",AWATER:"668446",INTPTLAT:"47.275214",INTPTLON:"-122.4746683",Shape_Leng:"6794.323113",Shape_Area:"2115806.941",NHPD_Units:"0",Permits:"96",Pop:"3942",Pop_density:"4825.458067",Non_white_share:"0.164129883",White_non_hisp:"0.835870117",Black_non_hisp:"0.016996449",Asian_non_Hisp:"0.040842212",Hispanic:"0.049213597",Workers:"2063",Transit_to_work:"0.036839554",Walk_to_Work:"0.004362579",Bike_to_work:"0.005332041",Green_commute_share:"0.046534174",BA_plus_25_plus:"0.573439192",Med_HH_inc:"129773",Cost_burdened:"0.453874539",Very_cost_burdened:"0.206642066",Med_housing_value:"576300",Jobs:"1007",Job_density:"1232.682971",Housing_units:"1651",Housing_density:"2021.012498",Permit_density:"117.5149605",Permits_per_capita:"24.35312024",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060600",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60600",GEOID:"53053060600",NAME:"606",NAMELSAD:"Census Tract 606",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2132099",AWATER:"4742856",INTPTLAT:"47.2733562",INTPTLON:"-122.4580971",Shape_Leng:"9410.432181",Shape_Area:"2132093.924",NHPD_Units:"111",Permits:"56",Pop:"5972",Pop_density:"7254.545401",Non_white_share:"0.234259879",White_non_hisp:"0.765740121",Black_non_hisp:"0.028801072",Asian_non_Hisp:"0.023777629",Hispanic:"0.055425318",Workers:"3401",Transit_to_work:"0.116436342",Walk_to_Work:"0.055865922",Bike_to_work:"0.011467216",Green_commute_share:"0.18376948",BA_plus_25_plus:"0.558467244",Med_HH_inc:"69066",Cost_burdened:"0.394875164",Very_cost_burdened:"0.11892247",Med_housing_value:"464000",Jobs:"699",Job_density:"849.1170856",Housing_units:"2951",Housing_density:"3584.756108",Permit_density:"68.02654763",Permits_per_capita:"9.377093101",Subsidized_hsg_share:"0.037614368"},{TRACT_ID:"G5300530060700",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60700",GEOID:"53053060700",NAME:"607",NAMELSAD:"Census Tract 607",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2105870",AWATER:"0",INTPTLAT:"47.261373",INTPTLON:"-122.4785267",Shape_Leng:"5827.181705",Shape_Area:"2105876.657",NHPD_Units:"0",Permits:"55",Pop:"6960",Pop_density:"8560.033263",Non_white_share:"0.247126437",White_non_hisp:"0.752873563",Black_non_hisp:"0.018390805",Asian_non_Hisp:"0.040229885",Hispanic:"0.080172414",Workers:"4134",Transit_to_work:"0.049588776",Walk_to_Work:"0.106918239",Bike_to_work:"0.007256894",Green_commute_share:"0.163763909",BA_plus_25_plus:"0.636847195",Med_HH_inc:"106186",Cost_burdened:"0.417445483",Very_cost_burdened:"0.210799585",Med_housing_value:"427300",Jobs:"1516",Job_density:"1864.512992",Housing_units:"2448",Housing_density:"3010.77032",Permit_density:"67.64394102",Permits_per_capita:"7.902298851",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060800",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60800",GEOID:"53053060800",NAME:"608",NAMELSAD:"Census Tract 608",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2583066",AWATER:"0",INTPTLAT:"47.265596",INTPTLON:"-122.4963465",Shape_Leng:"6810.130053",Shape_Area:"2583062.743",NHPD_Units:"0",Permits:"209",Pop:"5204",Pop_density:"5217.945699",Non_white_share:"0.191391238",White_non_hisp:"0.808608762",Black_non_hisp:"0.038239816",Asian_non_Hisp:"0.01575711",Hispanic:"0.07820907",Workers:"3132",Transit_to_work:"0.049489144",Walk_to_Work:"0.002873563",Bike_to_work:"0.009259259",Green_commute_share:"0.061621967",BA_plus_25_plus:"0.545338115",Med_HH_inc:"99561",Cost_burdened:"0.135215453",Very_cost_burdened:"0.135215453",Med_housing_value:"376700",Jobs:"627",Job_density:"628.680237",Housing_units:"2594",Housing_density:"2600.951411",Permit_density:"209.560079",Permits_per_capita:"40.1614143",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530060903",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60903",GEOID:"53053060903",NAME:"609.03",NAMELSAD:"Census Tract 609.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2314063",AWATER:"1442740",INTPTLAT:"47.2860173",INTPTLON:"-122.5263961",Shape_Leng:"6469.139398",Shape_Area:"2314062.095",NHPD_Units:"150",Permits:"93",Pop:"3296",Pop_density:"3689.009682",Non_white_share:"0.253337379",White_non_hisp:"0.746662621",Black_non_hisp:"0.13743932",Asian_non_Hisp:"0.052487864",Hispanic:"0.024575243",Workers:"1341",Transit_to_work:"0.014168531",Walk_to_Work:"0.02087994",Bike_to_work:"0",Green_commute_share:"0.035048471",BA_plus_25_plus:"0.33993784",Med_HH_inc:"71810",Cost_burdened:"0.466083151",Very_cost_burdened:"0.295404814",Med_housing_value:"346400",Jobs:"169",Job_density:"189.1512853",Housing_units:"1556",Housing_density:"1741.534911",Permit_density:"104.0891688",Permits_per_capita:"28.21601942",Subsidized_hsg_share:"0.096401028"},{TRACT_ID:"G5300530060904",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60904",GEOID:"53053060904",NAME:"609.04",NAMELSAD:"Census Tract 609.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1948487",AWATER:"0",INTPTLAT:"47.2808047",INTPTLON:"-122.5099314",Shape_Leng:"6375.394429",Shape_Area:"1948482.793",NHPD_Units:"215",Permits:"54",Pop:"5011",Pop_density:"6660.773421",Non_white_share:"0.304729595",White_non_hisp:"0.695270405",Black_non_hisp:"0.080423069",Asian_non_Hisp:"0.06605468",Hispanic:"0.071043704",Workers:"2455",Transit_to_work:"0.040325866",Walk_to_Work:"0.004480652",Bike_to_work:"0.00814664",Green_commute_share:"0.052953157",BA_plus_25_plus:"0.25",Med_HH_inc:"69203",Cost_burdened:"0.43344426",Very_cost_burdened:"0.193011647",Med_housing_value:"337200",Jobs:"652",Job_density:"866.658206",Housing_units:"2437",Housing_density:"3239.33443",Permit_density:"71.77844038",Permits_per_capita:"10.77629216",Subsidized_hsg_share:"0.088223225"},{TRACT_ID:"G5300530060906",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60906",GEOID:"53053060906",NAME:"609.06",NAMELSAD:"Census Tract 609.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1573418",AWATER:"0",INTPTLAT:"47.2633152",INTPTLON:"-122.5097996",Shape_Leng:"5204.670937",Shape_Area:"1573418.837",NHPD_Units:"40",Permits:"54",Pop:"2068",Pop_density:"3404.114744",Non_white_share:"0.247098646",White_non_hisp:"0.752901354",Black_non_hisp:"0.066731141",Asian_non_Hisp:"0.010638298",Hispanic:"0.065764023",Workers:"899",Transit_to_work:"0.046718576",Walk_to_Work:"0.013348165",Bike_to_work:"0",Green_commute_share:"0.060066741",BA_plus_25_plus:"0.320134228",Med_HH_inc:"78021",Cost_burdened:"0.544247788",Very_cost_burdened:"0.123893805",Med_housing_value:"369400",Jobs:"729",Job_density:"1199.99983",Housing_units:"901",Housing_density:"1483.127362",Permit_density:"88.88887629",Permits_per_capita:"26.11218569",Subsidized_hsg_share:"0.044395117"},{TRACT_ID:"G5300530060907",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60907",GEOID:"53053060907",NAME:"609.07",NAMELSAD:"Census Tract 609.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1299802",AWATER:"0",INTPTLAT:"47.262159",INTPTLON:"-122.52585",Shape_Leng:"5038.731696",Shape_Area:"1299802.628",NHPD_Units:"448",Permits:"9",Pop:"4022",Pop_density:"8014.245385",Non_white_share:"0.27026355",White_non_hisp:"0.72973645",Black_non_hisp:"0.065141721",Asian_non_Hisp:"0.02362009",Hispanic:"0.081551467",Workers:"2013",Transit_to_work:"0.007948336",Walk_to_Work:"0.007451565",Bike_to_work:"0",Green_commute_share:"0.015399901",BA_plus_25_plus:"0.323133826",Med_HH_inc:"50923",Cost_burdened:"0.639126306",Very_cost_burdened:"0.394112061",Med_housing_value:"315000",Jobs:"675",Job_density:"1345.006374",Housing_units:"1940",Housing_density:"3865.647948",Permit_density:"17.93341832",Permits_per_capita:"2.23769269",Subsidized_hsg_share:"0.230927835"},{TRACT_ID:"G5300530060908",STATEFP:"53",COUNTYFP:"53",TRACTCE:"60908",GEOID:"53053060908",NAME:"609.08",NAMELSAD:"Census Tract 609.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1737893",AWATER:"971534",INTPTLAT:"47.2680118",INTPTLON:"-122.5382904",Shape_Leng:"6598.030977",Shape_Area:"1737888.385",NHPD_Units:"0",Permits:"21",Pop:"2780",Pop_density:"4143.043874",Non_white_share:"0.217266187",White_non_hisp:"0.782733813",Black_non_hisp:"0.067625899",Asian_non_Hisp:"0.04676259",Hispanic:"0.010431655",Workers:"1306",Transit_to_work:"0.031393568",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.031393568",BA_plus_25_plus:"0.350847458",Med_HH_inc:"98636",Cost_burdened:"0.466830467",Very_cost_burdened:"0.093366093",Med_housing_value:"359600",Jobs:"275",Job_density:"409.8334767",Housing_units:"1210",Housing_density:"1803.267298",Permit_density:"31.29637458",Permits_per_capita:"7.553956835",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530061001",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61001",GEOID:"53053061001",NAME:"610.01",NAMELSAD:"Census Tract 610.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2874168",AWATER:"1736876",INTPTLAT:"47.2539313",INTPTLON:"-122.5484041",Shape_Leng:"8156.042363",Shape_Area:"2874167.842",NHPD_Units:"0",Permits:"145",Pop:"4220",Pop_density:"3802.752597",Non_white_share:"0.238151659",White_non_hisp:"0.761848341",Black_non_hisp:"0.059004739",Asian_non_Hisp:"0.048341232",Hispanic:"0.066113744",Workers:"2062",Transit_to_work:"0.026673133",Walk_to_Work:"0",Bike_to_work:"0.003394762",Green_commute_share:"0.030067895",BA_plus_25_plus:"0.499383857",Med_HH_inc:"84792",Cost_burdened:"0.5824",Very_cost_burdened:"0.28",Med_housing_value:"442300",Jobs:"242",Job_density:"218.0725423",Housing_units:"1999",Housing_density:"1801.351289",Permit_density:"130.6633001",Permits_per_capita:"34.36018957",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530061002",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61002",GEOID:"53053061002",NAME:"610.02",NAMELSAD:"Census Tract 610.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3029110",AWATER:"8198",INTPTLAT:"47.2462062",INTPTLON:"-122.5223595",Shape_Leng:"7659.244975",Shape_Area:"3037310.441",NHPD_Units:"101",Permits:"85",Pop:"4506",Pop_density:"3852.777359",Non_white_share:"0.401020861",White_non_hisp:"0.598979139",Black_non_hisp:"0.146471372",Asian_non_Hisp:"0.06635597",Hispanic:"0.091211718",Workers:"2177",Transit_to_work:"0.084060634",Walk_to_Work:"0.065227377",Bike_to_work:"0",Green_commute_share:"0.149288011",BA_plus_25_plus:"0.273598606",Med_HH_inc:"45822",Cost_burdened:"0.473760933",Very_cost_burdened:"0.277696793",Med_housing_value:"345100",Jobs:"3614",Job_density:"3090.088188",Housing_units:"2473",Housing_density:"2114.495874",Permit_density:"72.67777974",Permits_per_capita:"18.86373724",Subsidized_hsg_share:"0.040841084"},{TRACT_ID:"G5300530061100",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61100",GEOID:"53053061100",NAME:"611",NAMELSAD:"Census Tract 611",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4353613",AWATER:"41555",INTPTLAT:"47.2455764",INTPTLON:"-122.4936719",Shape_Leng:"9366.491096",Shape_Area:"4395172.538",NHPD_Units:"23",Permits:"303",Pop:"6130",Pop_density:"3646.770422",Non_white_share:"0.250734095",White_non_hisp:"0.749265905",Black_non_hisp:"0.053833605",Asian_non_Hisp:"0.065742251",Hispanic:"0.015986949",Workers:"3622",Transit_to_work:"0.042241855",Walk_to_Work:"0.033683048",Bike_to_work:"0.005245721",Green_commute_share:"0.081170624",BA_plus_25_plus:"0.304271632",Med_HH_inc:"70967",Cost_burdened:"0.515016685",Very_cost_burdened:"0.286985539",Med_housing_value:"299800",Jobs:"7550",Job_density:"4491.536164",Housing_units:"2733",Housing_density:"1625.876601",Permit_density:"180.256352",Permits_per_capita:"49.42903752",Subsidized_hsg_share:"0.00841566"},{TRACT_ID:"G5300530061200",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61200",GEOID:"53053061200",NAME:"612",NAMELSAD:"Census Tract 612",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1890510",AWATER:"0",INTPTLAT:"47.2490842",INTPTLON:"-122.4745331",Shape_Leng:"5472.901908",Shape_Area:"1890505.855",NHPD_Units:"66",Permits:"190",Pop:"5146",Pop_density:"7049.991175",Non_white_share:"0.253012048",White_non_hisp:"0.746987952",Black_non_hisp:"0.090944423",Asian_non_Hisp:"0.040031092",Hispanic:"0.050719005",Workers:"2479",Transit_to_work:"0.093182735",Walk_to_Work:"0.022993142",Bike_to_work:"0.013311819",Green_commute_share:"0.129487697",BA_plus_25_plus:"0.288623944",Med_HH_inc:"62970",Cost_burdened:"0.597389558",Very_cost_burdened:"0.24497992",Med_housing_value:"314500",Jobs:"1602",Job_density:"2194.731026",Housing_units:"2475",Housing_density:"3390.736136",Permit_density:"260.2989357",Permits_per_capita:"36.92188107",Subsidized_hsg_share:"0.026666667"},{TRACT_ID:"G5300530061300",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61300",GEOID:"53053061300",NAME:"613",NAMELSAD:"Census Tract 613",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1574646",AWATER:"0",INTPTLAT:"47.2500153",INTPTLON:"-122.4589966",Shape_Leng:"5370.117063",Shape_Area:"1574647.766",NHPD_Units:"92",Permits:"57",Pop:"4840",Pop_density:"7960.863873",Non_white_share:"0.466528926",White_non_hisp:"0.533471074",Black_non_hisp:"0.163016529",Asian_non_Hisp:"0.030785124",Hispanic:"0.167355372",Workers:"2629",Transit_to_work:"0.101179156",Walk_to_Work:"0.056675542",Bike_to_work:"0.012171928",Green_commute_share:"0.170026626",BA_plus_25_plus:"0.320969626",Med_HH_inc:"60096",Cost_burdened:"0.576882291",Very_cost_burdened:"0.172852598",Med_housing_value:"279500",Jobs:"1247",Job_density:"2051.073812",Housing_units:"2079",Housing_density:"3419.552891",Permit_density:"93.75397536",Permits_per_capita:"11.7768595",Subsidized_hsg_share:"0.044252044"},{TRACT_ID:"G5300530061400",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61400",GEOID:"53053061400",NAME:"614",NAMELSAD:"Census Tract 614",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"926876",AWATER:"0",INTPTLAT:"47.2502437",INTPTLON:"-122.4483265",Shape_Leng:"4180.348211",Shape_Area:"926874.2224",NHPD_Units:"522",Permits:"643",Pop:"3332",Pop_density:"9310.674118",Non_white_share:"0.448379352",White_non_hisp:"0.551620648",Black_non_hisp:"0.154561825",Asian_non_Hisp:"0.036014406",Hispanic:"0.094837935",Workers:"1178",Transit_to_work:"0.169779287",Walk_to_Work:"0.060271647",Bike_to_work:"0",Green_commute_share:"0.230050934",BA_plus_25_plus:"0.230914588",Med_HH_inc:"29176",Cost_burdened:"0.621940163",Very_cost_burdened:"0.277425204",Med_housing_value:"284800",Jobs:"14986",Job_density:"41875.67897",Housing_units:"1577",Housing_density:"4406.642582",Permit_density:"1796.747736",Permits_per_capita:"192.9771909",Subsidized_hsg_share:"0.331008244"},{TRACT_ID:"G5300530061501",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61501",GEOID:"53053061501",NAME:"615.01",NAMELSAD:"Census Tract 615.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"547304",AWATER:"0",INTPTLAT:"47.2596123",INTPTLON:"-122.448931",Shape_Leng:"3090.285012",Shape_Area:"547304.1837",NHPD_Units:"524",Permits:"428",Pop:"2382",Pop_density:"11272.25761",Non_white_share:"0.279596977",White_non_hisp:"0.720403023",Black_non_hisp:"0.043240974",Asian_non_Hisp:"0.061293031",Hispanic:"0.095717884",Workers:"1493",Transit_to_work:"0.05961152",Walk_to_Work:"0.077695914",Bike_to_work:"0.057602143",Green_commute_share:"0.194909578",BA_plus_25_plus:"0.556837853",Med_HH_inc:"54871",Cost_burdened:"0.420114123",Very_cost_burdened:"0.286733238",Med_housing_value:"238900",Jobs:"8727",Job_density:"41298.48537",Housing_units:"1780",Housing_density:"8423.433478",Permit_density:"2025.409848",Permits_per_capita:"179.6809404",Subsidized_hsg_share:"0.294382022"},{TRACT_ID:"G5300530061502",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61502",GEOID:"53053061502",NAME:"615.02",NAMELSAD:"Census Tract 615.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"621520",AWATER:"0",INTPTLAT:"47.2644619",INTPTLON:"-122.4499209",Shape_Leng:"4706.79663",Shape_Area:"621519.0498",NHPD_Units:"97",Permits:"162",Pop:"2775",Pop_density:"11563.9352",Non_white_share:"0.15963964",White_non_hisp:"0.84036036",Black_non_hisp:"0.023423423",Asian_non_Hisp:"0.042522523",Hispanic:"0.047207207",Workers:"1654",Transit_to_work:"0.093712213",Walk_to_Work:"0.094316808",Bike_to_work:"0",Green_commute_share:"0.188029021",BA_plus_25_plus:"0.623811492",Med_HH_inc:"57500",Cost_burdened:"0.347197107",Very_cost_burdened:"0.154611212",Med_housing_value:"619900",Jobs:"1290",Job_density:"5375.667174",Housing_units:"1776",Housing_density:"7400.918529",Permit_density:"675.0837847",Permits_per_capita:"58.37837838",Subsidized_hsg_share:"0.054617117"},{TRACT_ID:"G5300530061601",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61601",GEOID:"53053061601",NAME:"616.01",NAMELSAD:"Census Tract 616.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"762566",AWATER:"0",INTPTLAT:"47.2542261",INTPTLON:"-122.440231",Shape_Leng:"4454.608254",Shape_Area:"762568.8079",NHPD_Units:"583",Permits:"389",Pop:"2079",Pop_density:"7061.139995",Non_white_share:"0.360750361",White_non_hisp:"0.639249639",Black_non_hisp:"0.081289081",Asian_non_Hisp:"0.073112073",Hispanic:"0.104858105",Workers:"820",Transit_to_work:"0.208536585",Walk_to_Work:"0.124390244",Bike_to_work:"0.008536585",Green_commute_share:"0.341463415",BA_plus_25_plus:"0.296213808",Med_HH_inc:"27862",Cost_burdened:"0.458527493",Very_cost_burdened:"0.240447344",Med_housing_value:"411800",Jobs:"16737",Job_density:"56845.74319",Housing_units:"1434",Housing_density:"4870.454426",Permit_density:"1321.204165",Permits_per_capita:"187.1091871",Subsidized_hsg_share:"0.406555091"},{TRACT_ID:"G5300530061602",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61602",GEOID:"53053061602",NAME:"616.02",NAMELSAD:"Census Tract 616.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1056959",AWATER:"0",INTPTLAT:"47.2401451",INTPTLON:"-122.4377427",Shape_Leng:"5469.65628",Shape_Area:"1056957.394",NHPD_Units:"28",Permits:"659",Pop:"939",Pop_density:"2300.939616",Non_white_share:"0.52715655",White_non_hisp:"0.47284345",Black_non_hisp:"0.100106496",Asian_non_Hisp:"0.08200213",Hispanic:"0.130990415",Workers:"557",Transit_to_work:"0.183123878",Walk_to_Work:"0.091561939",Bike_to_work:"0.010771993",Green_commute_share:"0.28545781",BA_plus_25_plus:"0.361673414",Med_HH_inc:"58370",Cost_burdened:"0.312292359",Very_cost_burdened:"0.205980066",Med_housing_value:"298300",Jobs:"4079",Job_density:"9995.242485",Housing_units:"506",Housing_density:"1239.909953",Permit_density:"1614.823437",Permits_per_capita:"701.8104366",Subsidized_hsg_share:"0.055335968"},{TRACT_ID:"G5300530061700",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61700",GEOID:"53053061700",NAME:"617",NAMELSAD:"Census Tract 617",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2643642",AWATER:"0",INTPTLAT:"47.2386879",INTPTLON:"-122.4578238",Shape_Leng:"7331.952801",Shape_Area:"2643638.984",NHPD_Units:"363",Permits:"879",Pop:"5501",Pop_density:"5389.354759",Non_white_share:"0.535357208",White_non_hisp:"0.464642792",Black_non_hisp:"0.146155245",Asian_non_Hisp:"0.047809489",Hispanic:"0.217415015",Workers:"2782",Transit_to_work:"0.105679367",Walk_to_Work:"0.04061826",Bike_to_work:"0",Green_commute_share:"0.146297628",BA_plus_25_plus:"0.24647279",Med_HH_inc:"65814",Cost_burdened:"0.54954955",Very_cost_burdened:"0.199199199",Med_housing_value:"295800",Jobs:"3949",Job_density:"3868.853289",Housing_units:"2127",Housing_density:"2083.831589",Permit_density:"861.1603042",Permits_per_capita:"159.7891292",Subsidized_hsg_share:"0.170662906"},{TRACT_ID:"G5300530061800",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61800",GEOID:"53053061800",NAME:"618",NAMELSAD:"Census Tract 618",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1383816",AWATER:"0",INTPTLAT:"47.2267872",INTPTLON:"-122.4518338",Shape_Leng:"5083.908473",Shape_Area:"1383814.745",NHPD_Units:"0",Permits:"68",Pop:"2766",Pop_density:"5176.921724",Non_white_share:"0.404193782",White_non_hisp:"0.595806218",Black_non_hisp:"0.081706435",Asian_non_Hisp:"0.107736804",Hispanic:"0.086406363",Workers:"1491",Transit_to_work:"0.048289738",Walk_to_Work:"0.017437961",Bike_to_work:"0",Green_commute_share:"0.0657277",BA_plus_25_plus:"0.229145729",Med_HH_inc:"67614",Cost_burdened:"0.590625",Very_cost_burdened:"0.184375",Med_housing_value:"247600",Jobs:"303",Job_density:"567.103139",Housing_units:"1202",Housing_density:"2249.696281",Permit_density:"127.2706715",Permits_per_capita:"24.58423717",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530061900",STATEFP:"53",COUNTYFP:"53",TRACTCE:"61900",GEOID:"53053061900",NAME:"619",NAMELSAD:"Census Tract 619",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1039866",AWATER:"0",INTPTLAT:"47.2276734",INTPTLON:"-122.4341708",Shape_Leng:"4086.040908",Shape_Area:"1039864.354",NHPD_Units:"53",Permits:"106",Pop:"1895",Pop_density:"4719.865318",Non_white_share:"0.286015831",White_non_hisp:"0.713984169",Black_non_hisp:"0.053825858",Asian_non_Hisp:"0.045382586",Hispanic:"0.136147757",Workers:"826",Transit_to_work:"0.130750605",Walk_to_Work:"0.025423729",Bike_to_work:"0.014527845",Green_commute_share:"0.170702179",BA_plus_25_plus:"0.259831461",Med_HH_inc:"49129",Cost_burdened:"0.600522193",Very_cost_burdened:"0.287206266",Med_housing_value:"243000",Jobs:"820",Job_density:"2042.369161",Housing_units:"891",Housing_density:"2219.208443",Permit_density:"264.0135745",Permits_per_capita:"55.93667546",Subsidized_hsg_share:"0.059483726"},{TRACT_ID:"G5300530062000",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62000",GEOID:"53053062000",NAME:"620",NAMELSAD:"Census Tract 620",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2065339",AWATER:"33947",INTPTLAT:"47.2293124",INTPTLON:"-122.4184094",Shape_Leng:"6689.133276",Shape_Area:"2099287.578",NHPD_Units:"183",Permits:"132",Pop:"4489",Pop_density:"5629.321204",Non_white_share:"0.465582535",White_non_hisp:"0.534417465",Black_non_hisp:"0.079304968",Asian_non_Hisp:"0.077300067",Hispanic:"0.235241702",Workers:"2391",Transit_to_work:"0.048097031",Walk_to_Work:"0.005018821",Bike_to_work:"0",Green_commute_share:"0.053115851",BA_plus_25_plus:"0.225838926",Med_HH_inc:"50769",Cost_burdened:"0.552845528",Very_cost_burdened:"0.201897019",Med_housing_value:"264800",Jobs:"322",Job_density:"403.7962637",Housing_units:"1885",Housing_density:"2363.838376",Permit_density:"165.5313876",Permits_per_capita:"29.40521274",Subsidized_hsg_share:"0.097082228"},{TRACT_ID:"G5300530062300",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62300",GEOID:"53053062300",NAME:"623",NAMELSAD:"Census Tract 623",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2455986",AWATER:"0",INTPTLAT:"47.2142233",INTPTLON:"-122.4167847",Shape_Leng:"6796.074852",Shape_Area:"2455980.888",NHPD_Units:"0",Permits:"456",Pop:"6019",Pop_density:"6347.405252",Non_white_share:"0.505731849",White_non_hisp:"0.494268151",Black_non_hisp:"0.076424655",Asian_non_Hisp:"0.152849311",Hispanic:"0.186741984",Workers:"3048",Transit_to_work:"0.059383202",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.059383202",BA_plus_25_plus:"0.209958303",Med_HH_inc:"73438",Cost_burdened:"0.623616236",Very_cost_burdened:"0.354243542",Med_housing_value:"236000",Jobs:"228",Job_density:"240.4400062",Housing_units:"2195",Housing_density:"2314.762341",Permit_density:"480.8800125",Permits_per_capita:"75.76009304",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530062400",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62400",GEOID:"53053062400",NAME:"624",NAMELSAD:"Census Tract 624",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2266568",AWATER:"0",INTPTLAT:"47.2145262",INTPTLON:"-122.4337774",Shape_Leng:"6389.476672",Shape_Area:"2266570.401",NHPD_Units:"0",Permits:"174",Pop:"6781",Pop_density:"7748.591428",Non_white_share:"0.399498599",White_non_hisp:"0.600501401",Black_non_hisp:"0.040996903",Asian_non_Hisp:"0.047780563",Hispanic:"0.094528831",Workers:"3064",Transit_to_work:"0.062663185",Walk_to_Work:"0.005874674",Bike_to_work:"0.025130548",Green_commute_share:"0.093668407",BA_plus_25_plus:"0.269458352",Med_HH_inc:"60920",Cost_burdened:"0.514563107",Very_cost_burdened:"0.234396671",Med_housing_value:"239100",Jobs:"638",Job_density:"729.0372115",Housing_units:"2413",Housing_density:"2757.31472",Permit_density:"198.8283304",Permits_per_capita:"25.65993216",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530062501",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62501",GEOID:"53053062501",NAME:"625.01",NAMELSAD:"Census Tract 625.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1667925",AWATER:"0",INTPTLAT:"47.2184714",INTPTLON:"-122.4524128",Shape_Leng:"5245.546153",Shape_Area:"1667924.121",NHPD_Units:"91",Permits:"55",Pop:"4311",Pop_density:"6694.209118",Non_white_share:"0.353050336",White_non_hisp:"0.646949664",Black_non_hisp:"0.019948968",Asian_non_Hisp:"0.037810253",Hispanic:"0.129436326",Workers:"1951",Transit_to_work:"0.079958995",Walk_to_Work:"0.016914403",Bike_to_work:"0",Green_commute_share:"0.096873398",BA_plus_25_plus:"0.150206415",Med_HH_inc:"64011",Cost_burdened:"0.641441441",Very_cost_burdened:"0.300900901",Med_housing_value:"264400",Jobs:"436",Job_density:"677.0297322",Housing_units:"1755",Housing_density:"2725.199954",Permit_density:"85.40512677",Permits_per_capita:"12.75806077",Subsidized_hsg_share:"0.051851852"},{TRACT_ID:"G5300530062502",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62502",GEOID:"53053062502",NAME:"625.02",NAMELSAD:"Census Tract 625.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1232468",AWATER:"0",INTPTLAT:"47.2101343",INTPTLON:"-122.4519248",Shape_Leng:"4676.153063",Shape_Area:"1232465.716",NHPD_Units:"0",Permits:"50",Pop:"3382",Pop_density:"7107.153929",Non_white_share:"0.453577765",White_non_hisp:"0.546422235",Black_non_hisp:"0.12211709",Asian_non_Hisp:"0.037256062",Hispanic:"0.094322886",Workers:"1844",Transit_to_work:"0.052060738",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.052060738",BA_plus_25_plus:"0.209565217",Med_HH_inc:"62390",Cost_burdened:"0.5",Very_cost_burdened:"0.10880829",Med_housing_value:"233500",Jobs:"131",Job_density:"275.2918879",Housing_units:"1357",Housing_density:"2851.687724",Permit_density:"105.0732396",Permits_per_capita:"14.78415139",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530062600",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62600",GEOID:"53053062600",NAME:"626",NAMELSAD:"Census Tract 626",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6949363",AWATER:"6314",INTPTLAT:"47.2203846",INTPTLON:"-122.4773836",Shape_Leng:"19042.34528",Shape_Area:"6955689.203",NHPD_Units:"231",Permits:"1016",Pop:"4077",Pop_density:"1519.474738",Non_white_share:"0.54108413",White_non_hisp:"0.45891587",Black_non_hisp:"0.17537405",Asian_non_Hisp:"0.077507972",Hispanic:"0.15403483",Workers:"2002",Transit_to_work:"0.025474525",Walk_to_Work:"0.019480519",Bike_to_work:"0",Green_commute_share:"0.044955045",BA_plus_25_plus:"0.219438117",Med_HH_inc:"48790",Cost_burdened:"0.630181347",Very_cost_burdened:"0.376295337",Med_housing_value:"256400",Jobs:"15632",Job_density:"5825.957594",Housing_units:"2080",Housing_density:"775.2041834",Permit_density:"378.657428",Permits_per_capita:"249.2028452",Subsidized_hsg_share:"0.111057692"},{TRACT_ID:"G5300530062801",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62801",GEOID:"53053062801",NAME:"628.01",NAMELSAD:"Census Tract 628.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3760442",AWATER:"12847",INTPTLAT:"47.2220513",INTPTLON:"-122.4973661",Shape_Leng:"12224.27584",Shape_Area:"3773286.005",NHPD_Units:"169",Permits:"391",Pop:"7604",Pop_density:"5237.222005",Non_white_share:"0.491846397",White_non_hisp:"0.508153603",Black_non_hisp:"0.168332457",Asian_non_Hisp:"0.040636507",Hispanic:"0.131641241",Workers:"3636",Transit_to_work:"0.028877888",Walk_to_Work:"0.051705171",Bike_to_work:"0",Green_commute_share:"0.080583058",BA_plus_25_plus:"0.11320351",Med_HH_inc:"41946",Cost_burdened:"0.663730985",Very_cost_burdened:"0.336269015",Med_housing_value:"265300",Jobs:"1816",Job_density:"1250.76212",Housing_units:"3278",Housing_density:"2257.708276",Permit_density:"269.2995534",Permits_per_capita:"51.4203051",Subsidized_hsg_share:"0.051555827"},{TRACT_ID:"G5300530062802",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62802",GEOID:"53053062802",NAME:"628.02",NAMELSAD:"Census Tract 628.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3008564",AWATER:"0",INTPTLAT:"47.1940032",INTPTLON:"-122.496469",Shape_Leng:"8343.317237",Shape_Area:"3008561.241",NHPD_Units:"74",Permits:"235",Pop:"4149",Pop_density:"3571.75738",Non_white_share:"0.477464449",White_non_hisp:"0.522535551",Black_non_hisp:"0.124367317",Asian_non_Hisp:"0.131838997",Hispanic:"0.132803085",Workers:"1936",Transit_to_work:"0.005681818",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.005681818",BA_plus_25_plus:"0.207272727",Med_HH_inc:"66915",Cost_burdened:"0.406565657",Very_cost_burdened:"0.194444444",Med_housing_value:"255100",Jobs:"886",Job_density:"762.7324749",Housing_units:"1523",Housing_density:"1311.107855",Permit_density:"202.304889",Permits_per_capita:"56.64015425",Subsidized_hsg_share:"0.048588313"},{TRACT_ID:"G5300530062901",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62901",GEOID:"53053062901",NAME:"629.01",NAMELSAD:"Census Tract 629.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"966774",AWATER:"0",INTPTLAT:"47.2126892",INTPTLON:"-122.4783941",Shape_Leng:"4247.844647",Shape_Area:"966771.831",NHPD_Units:"73",Permits:"712",Pop:"4010",Pop_density:"10742.79234",Non_white_share:"0.641147132",White_non_hisp:"0.358852868",Black_non_hisp:"0.268329177",Asian_non_Hisp:"0.152119701",Hispanic:"0.146633416",Workers:"2478",Transit_to_work:"0.092009685",Walk_to_Work:"0.028248588",Bike_to_work:"0",Green_commute_share:"0.120258273",BA_plus_25_plus:"0.216392187",Med_HH_inc:"58875",Cost_burdened:"0.359721343",Very_cost_burdened:"0.2279924",Med_housing_value:"227000",Jobs:"928",Job_density:"2486.112542",Housing_units:"1929",Housing_density:"5167.792126",Permit_density:"1907.448416",Permits_per_capita:"177.5561097",Subsidized_hsg_share:"0.037843442"},{TRACT_ID:"G5300530062902",STATEFP:"53",COUNTYFP:"53",TRACTCE:"62902",GEOID:"53053062902",NAME:"629.02",NAMELSAD:"Census Tract 629.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2014258",AWATER:"0",INTPTLAT:"47.1944018",INTPTLON:"-122.4787394",Shape_Leng:"7255.907082",Shape_Area:"2014257.221",NHPD_Units:"0",Permits:"97",Pop:"4083",Pop_density:"5250.03324",Non_white_share:"0.399461181",White_non_hisp:"0.600538819",Black_non_hisp:"0.091109478",Asian_non_Hisp:"0.054861621",Hispanic:"0.164339946",Workers:"2448",Transit_to_work:"0.078839869",Walk_to_Work:"0.006944444",Bike_to_work:"0",Green_commute_share:"0.085784314",BA_plus_25_plus:"0.147438132",Med_HH_inc:"69839",Cost_burdened:"0.464566929",Very_cost_burdened:"0.173228346",Med_housing_value:"248900",Jobs:"607",Job_density:"780.4972267",Housing_units:"1634",Housing_density:"2101.041958",Permit_density:"124.725257",Permits_per_capita:"23.75704139",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063000",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63000",GEOID:"53053063000",NAME:"630",NAMELSAD:"Census Tract 630",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2204911",AWATER:"0",INTPTLAT:"47.1971869",INTPTLON:"-122.4677762",Shape_Leng:"7543.684771",Shape_Area:"2204913.292",NHPD_Units:"0",Permits:"51",Pop:"3705",Pop_density:"4352.060445",Non_white_share:"0.62537112",White_non_hisp:"0.37462888",Black_non_hisp:"0.131443995",Asian_non_Hisp:"0.111740891",Hispanic:"0.135492578",Workers:"1989",Transit_to_work:"0.028154852",Walk_to_Work:"0.005027652",Bike_to_work:"0",Green_commute_share:"0.033182504",BA_plus_25_plus:"0.193288591",Med_HH_inc:"67545",Cost_burdened:"0.521276596",Very_cost_burdened:"0.060283688",Med_housing_value:"247900",Jobs:"1487",Job_density:"1746.697404",Housing_units:"1550",Housing_density:"1820.700051",Permit_density:"59.90690492",Permits_per_capita:"13.76518219",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063100",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63100",GEOID:"53053063100",NAME:"631",NAMELSAD:"Census Tract 631",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2366736",AWATER:"80972",INTPTLAT:"47.1974147",INTPTLON:"-122.45178",Shape_Leng:"6436.914284",Shape_Area:"2447705.608",NHPD_Units:"0",Permits:"113",Pop:"4207",Pop_density:"4603.842583",Non_white_share:"0.492750178",White_non_hisp:"0.507249822",Black_non_hisp:"0.105300689",Asian_non_Hisp:"0.096505824",Hispanic:"0.120988828",Workers:"2094",Transit_to_work:"0.077841452",Walk_to_Work:"0.000477555",Bike_to_work:"0",Green_commute_share:"0.078319007",BA_plus_25_plus:"0.149756888",Med_HH_inc:"65938",Cost_burdened:"0.614285714",Very_cost_burdened:"0.502380952",Med_housing_value:"259800",Jobs:"991",Job_density:"1084.480152",Housing_units:"1787",Housing_density:"1955.566127",Permit_density:"123.6591899",Permits_per_capita:"26.85999525",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063200",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63200",GEOID:"53053063200",NAME:"632",NAMELSAD:"Census Tract 632",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2361070",AWATER:"0",INTPTLAT:"47.1989933",INTPTLON:"-122.4321664",Shape_Leng:"6181.410164",Shape_Area:"2361072.846",NHPD_Units:"1",Permits:"243",Pop:"5289",Pop_density:"5801.796268",Non_white_share:"0.406504065",White_non_hisp:"0.593495935",Black_non_hisp:"0.057666856",Asian_non_Hisp:"0.160332766",Hispanic:"0.090187181",Workers:"2682",Transit_to_work:"0.056301268",Walk_to_Work:"0.020507084",Bike_to_work:"0.008948546",Green_commute_share:"0.085756898",BA_plus_25_plus:"0.203039862",Med_HH_inc:"76359",Cost_burdened:"0.593406593",Very_cost_burdened:"0.236263736",Med_housing_value:"255100",Jobs:"416",Job_density:"456.3333802",Housing_units:"2069",Housing_density:"2269.600393",Permit_density:"266.5601235",Permits_per_capita:"45.94441293",Subsidized_hsg_share:"0.000483325"},{TRACT_ID:"G5300530063301",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63301",GEOID:"53053063301",NAME:"633.01",NAMELSAD:"Census Tract 633.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1886028",AWATER:"0",INTPTLAT:"47.1982231",INTPTLON:"-122.4027137",Shape_Leng:"6336.420623",Shape_Area:"1886025.62",NHPD_Units:"0",Permits:"227",Pop:"4083",Pop_density:"5606.980095",Non_white_share:"0.684300759",White_non_hisp:"0.315699241",Black_non_hisp:"0.25716385",Asian_non_Hisp:"0.127112417",Hispanic:"0.221160911",Workers:"1917",Transit_to_work:"0.059467919",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.059467919",BA_plus_25_plus:"0.191360364",Med_HH_inc:"63116",Cost_burdened:"0.647311828",Very_cost_burdened:"0.180645161",Med_housing_value:"262800",Jobs:"475",Job_density:"652.2937901",Housing_units:"1359",Housing_density:"1866.246865",Permit_density:"311.7277692",Permits_per_capita:"55.59637521",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063302",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63302",GEOID:"53053063302",NAME:"633.02",NAMELSAD:"Census Tract 633.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1496411",AWATER:"0",INTPTLAT:"47.1999913",INTPTLON:"-122.4161571",Shape_Leng:"5442.338144",Shape_Area:"1496406.564",NHPD_Units:"0",Permits:"303",Pop:"5115",Pop_density:"8853.041834",Non_white_share:"0.759726295",White_non_hisp:"0.240273705",Black_non_hisp:"0.105571848",Asian_non_Hisp:"0.374975562",Hispanic:"0.203128055",Workers:"1990",Transit_to_work:"0.054271357",Walk_to_Work:"0.03718593",Bike_to_work:"0",Green_commute_share:"0.091457286",BA_plus_25_plus:"0.038925769",Med_HH_inc:"53167",Cost_burdened:"0.6875",Very_cost_burdened:"0.645",Med_housing_value:"281500",Jobs:"236",Job_density:"408.4687924",Housing_units:"1490",Housing_density:"2578.891952",Permit_density:"524.4323902",Permits_per_capita:"59.23753666",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063401",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63401",GEOID:"53053063401",NAME:"634.01",NAMELSAD:"Census Tract 634.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1931646",AWATER:"0",INTPTLAT:"47.1864116",INTPTLON:"-122.4314315",Shape_Leng:"5606.152842",Shape_Area:"1931645.78",NHPD_Units:"46",Permits:"329",Pop:"4225",Pop_density:"5664.961264",Non_white_share:"0.577751479",White_non_hisp:"0.422248521",Black_non_hisp:"0.176331361",Asian_non_Hisp:"0.086390533",Hispanic:"0.097514793",Workers:"1907",Transit_to_work:"0.164656529",Walk_to_Work:"0.006292606",Bike_to_work:"0",Green_commute_share:"0.170949135",BA_plus_25_plus:"0.135450421",Med_HH_inc:"39642",Cost_burdened:"0.608742004",Very_cost_burdened:"0.170575693",Med_housing_value:"239000",Jobs:"1057",Job_density:"1417.24593",Housing_units:"1849",Housing_density:"2479.174764",Permit_density:"441.129528",Permits_per_capita:"77.86982249",Subsidized_hsg_share:"0.024878313"},{TRACT_ID:"G5300530063402",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63402",GEOID:"53053063402",NAME:"634.02",NAMELSAD:"Census Tract 634.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1928713",AWATER:"0",INTPTLAT:"47.1755039",INTPTLON:"-122.4314828",Shape_Leng:"5602.074817",Shape_Area:"1928713.488",NHPD_Units:"47",Permits:"179",Pop:"3626",Pop_density:"4869.203914",Non_white_share:"0.546607832",White_non_hisp:"0.453392168",Black_non_hisp:"0.05846663",Asian_non_Hisp:"0.116105902",Hispanic:"0.217043574",Workers:"1598",Transit_to_work:"0.048811014",Walk_to_Work:"0.07008761",Bike_to_work:"0",Green_commute_share:"0.118898623",BA_plus_25_plus:"0.208623693",Med_HH_inc:"53254",Cost_burdened:"0.638709677",Very_cost_burdened:"0.262365591",Med_housing_value:"225200",Jobs:"592",Job_density:"794.9720675",Housing_units:"1253",Housing_density:"1682.601352",Permit_density:"240.3716218",Permits_per_capita:"49.36569222",Subsidized_hsg_share:"0.037509976"},{TRACT_ID:"G5300530063501",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63501",GEOID:"53053063501",NAME:"635.01",NAMELSAD:"Census Tract 635.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1922154",AWATER:"0",INTPTLAT:"47.1863864",INTPTLON:"-122.4524028",Shape_Leng:"5545.296518",Shape_Area:"1922153.022",NHPD_Units:"0",Permits:"71",Pop:"4329",Pop_density:"5833.069842",Non_white_share:"0.545391545",White_non_hisp:"0.454608455",Black_non_hisp:"0.077154077",Asian_non_Hisp:"0.126588127",Hispanic:"0.201201201",Workers:"1830",Transit_to_work:"0.025136612",Walk_to_Work:"0.016393443",Bike_to_work:"0.012568306",Green_commute_share:"0.054098361",BA_plus_25_plus:"0.243654822",Med_HH_inc:"53409",Cost_burdened:"0.581469649",Very_cost_burdened:"0.31629393",Med_housing_value:"263800",Jobs:"653",Job_density:"879.8786341",Housing_units:"1647",Housing_density:"2219.234472",Permit_density:"95.66827415",Permits_per_capita:"16.4010164",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530063502",STATEFP:"53",COUNTYFP:"53",TRACTCE:"63502",GEOID:"53053063502",NAME:"635.02",NAMELSAD:"Census Tract 635.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1931125",AWATER:"5938",INTPTLAT:"47.175076",INTPTLON:"-122.4516633",Shape_Leng:"5650.556438",Shape_Area:"1937062.075",NHPD_Units:"0",Permits:"280",Pop:"4875",Pop_density:"6538.257253",Non_white_share:"0.772717949",White_non_hisp:"0.227282051",Black_non_hisp:"0.270153846",Asian_non_Hisp:"0.25025641",Hispanic:"0.113230769",Workers:"2298",Transit_to_work:"0.065709312",Walk_to_Work:"0.011314186",Bike_to_work:"0.003481288",Green_commute_share:"0.080504787",BA_plus_25_plus:"0.266908611",Med_HH_inc:"52109",Cost_burdened:"0.650485437",Very_cost_burdened:"0.368932039",Med_housing_value:"260900",Jobs:"270",Job_density:"362.1188632",Housing_units:"1834",Housing_density:"2459.725908",Permit_density:"375.530673",Permits_per_capita:"57.43589744",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070100",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70100",GEOID:"53053070100",NAME:"701",NAMELSAD:"Census Tract 701",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1896921464",AWATER:"14234308",INTPTLAT:"46.9558662",INTPTLON:"-121.8164224",Shape_Leng:"237875.4498",Shape_Area:"1911156255",NHPD_Units:"0",Permits:"709",Pop:"3795",Pop_density:"5.181556045",Non_white_share:"0.145191041",White_non_hisp:"0.854808959",Black_non_hisp:"0",Asian_non_Hisp:"0.025296443",Hispanic:"0.097233202",Workers:"1715",Transit_to_work:"0.005247813",Walk_to_Work:"0.013411079",Bike_to_work:"0",Green_commute_share:"0.018658892",BA_plus_25_plus:"0.204651163",Med_HH_inc:"97756",Cost_burdened:"0.358490566",Very_cost_burdened:"0.232704403",Med_housing_value:"340100",Jobs:"926",Job_density:"1.264326982",Housing_units:"1875",Housing_density:"2.560057334",Permit_density:"0.968043013",Permits_per_capita:"186.8247694",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070204",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70204",GEOID:"53053070204",NAME:"702.04",NAMELSAD:"Census Tract 702.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5173548",AWATER:"62265",INTPTLAT:"47.1424677",INTPTLON:"-122.1276898",Shape_Leng:"12034.90183",Shape_Area:"5235815.779",NHPD_Units:"0",Permits:"329",Pop:"3484",Pop_density:"1744.164464",Non_white_share:"0.155281286",White_non_hisp:"0.844718714",Black_non_hisp:"0",Asian_non_Hisp:"0.003731343",Hispanic:"0.10619977",Workers:"1735",Transit_to_work:"0.005763689",Walk_to_Work:"0.000576369",Bike_to_work:"0",Green_commute_share:"0.006340058",BA_plus_25_plus:"0.150207469",Med_HH_inc:"87011",Cost_burdened:"0.75",Very_cost_burdened:"0.234042553",Med_housing_value:"272200",Jobs:"84",Job_density:"42.05218571",Housing_units:"1333",Housing_density:"667.3281375",Permit_density:"164.704394",Permits_per_capita:"94.43168772",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070205",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70205",GEOID:"53053070205",NAME:"702.05",NAMELSAD:"Census Tract 702.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"19202834",AWATER:"48014",INTPTLAT:"47.1593963",INTPTLON:"-122.0886541",Shape_Leng:"18006.92492",Shape_Area:"19250847.53",NHPD_Units:"0",Permits:"166",Pop:"3282",Pop_density:"442.660754",Non_white_share:"0.139549055",White_non_hisp:"0.860450945",Black_non_hisp:"0.003960999",Asian_non_Hisp:"0",Hispanic:"0.115478367",Workers:"1709",Transit_to_work:"0.019309538",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.019309538",BA_plus_25_plus:"0.190723884",Med_HH_inc:"78938",Cost_burdened:"0.422818792",Very_cost_burdened:"0.255033557",Med_housing_value:"345100",Jobs:"276",Job_density:"37.22558443",Housing_units:"1222",Housing_density:"164.8176238",Permit_density:"22.38930078",Permits_per_capita:"50.5789153",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070206",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70206",GEOID:"53053070206",NAME:"702.06",NAMELSAD:"Census Tract 702.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"39031801",AWATER:"371862",INTPTLAT:"47.109651",INTPTLON:"-122.0917982",Shape_Leng:"42632.79843",Shape_Area:"39403668.04",NHPD_Units:"0",Permits:"483",Pop:"4558",Pop_density:"302.4499384",Non_white_share:"0.125493638",White_non_hisp:"0.874506362",Black_non_hisp:"0.000877578",Asian_non_Hisp:"0.007898201",Hispanic:"0.046072839",Workers:"2298",Transit_to_work:"0.010879025",Walk_to_Work:"0.020017406",Bike_to_work:"0",Green_commute_share:"0.030896432",BA_plus_25_plus:"0.248084291",Med_HH_inc:"98281",Cost_burdened:"0.290598291",Very_cost_burdened:"0.034188034",Med_housing_value:"363200",Jobs:"257",Job_density:"17.05345199",Housing_units:"1630",Housing_density:"108.1600262",Permit_density:"32.0498728",Permits_per_capita:"105.9675296",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070207",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70207",GEOID:"53053070207",NAME:"702.07",NAMELSAD:"Census Tract 702.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"32768109",AWATER:"782971",INTPTLAT:"47.1508101",INTPTLON:"-122.0114366",Shape_Leng:"28017.38631",Shape_Area:"33551085.14",NHPD_Units:"38",Permits:"651",Pop:"5526",Pop_density:"436.7744961",Non_white_share:"0.099348534",White_non_hisp:"0.900651466",Black_non_hisp:"0.007238509",Asian_non_Hisp:"0.009771987",Hispanic:"0.047412233",Workers:"2957",Transit_to_work:"0.007101792",Walk_to_Work:"0.010821779",Bike_to_work:"0",Green_commute_share:"0.017923571",BA_plus_25_plus:"0.266050462",Med_HH_inc:"100149",Cost_burdened:"0.453571429",Very_cost_burdened:"0.230357143",Med_housing_value:"394800",Jobs:"2744",Job_density:"216.8854899",Housing_units:"2281",Housing_density:"180.2900155",Permit_density:"51.45497593",Permits_per_capita:"117.8067318",Subsidized_hsg_share:"0.01665936"},{TRACT_ID:"G5300530070208",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70208",GEOID:"53053070208",NAME:"702.08",NAMELSAD:"Census Tract 702.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"21881251",AWATER:"333179",INTPTLAT:"47.1279496",INTPTLON:"-122.1909749",Shape_Leng:"20782.03897",Shape_Area:"22214432.87",NHPD_Units:"0",Permits:"2431",Pop:"6064",Pop_density:"717.7691943",Non_white_share:"0.183542216",White_non_hisp:"0.816457784",Black_non_hisp:"0.012038259",Asian_non_Hisp:"0.023911609",Hispanic:"0.053924802",Workers:"2718",Transit_to_work:"0.016556291",Walk_to_Work:"0.008830022",Bike_to_work:"0",Green_commute_share:"0.025386313",BA_plus_25_plus:"0.414367816",Med_HH_inc:"119783",Cost_burdened:"0.187134503",Very_cost_burdened:"0",Med_housing_value:"493900",Jobs:"398",Job_density:"47.10952166",Housing_units:"1770",Housing_density:"209.5071692",Permit_density:"287.7468521",Permits_per_capita:"400.8905013",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070209",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70209",GEOID:"53053070209",NAME:"702.09",NAMELSAD:"Census Tract 702.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13672628",AWATER:"190016",INTPTLAT:"47.1058971",INTPTLON:"-122.1648507",Shape_Leng:"20023.59917",Shape_Area:"13862644.15",NHPD_Units:"0",Permits:"342",Pop:"3455",Pop_density:"654.4761491",Non_white_share:"0.102460203",White_non_hisp:"0.897539797",Black_non_hisp:"0",Asian_non_Hisp:"0.00984081",Hispanic:"0.030101302",Workers:"1722",Transit_to_work:"0.022648084",Walk_to_Work:"0.025551684",Bike_to_work:"0",Green_commute_share:"0.048199768",BA_plus_25_plus:"0.232485498",Med_HH_inc:"77415",Cost_burdened:"0.59375",Very_cost_burdened:"0.11875",Med_housing_value:"295100",Jobs:"30",Job_density:"5.682860918",Housing_units:"1290",Housing_density:"244.3630195",Permit_density:"64.78461447",Permits_per_capita:"98.9869754",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070307",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70307",GEOID:"53053070307",NAME:"703.07",NAMELSAD:"Census Tract 703.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"27775752",AWATER:"741156",INTPTLAT:"47.2120409",INTPTLON:"-122.1281966",Shape_Leng:"39907.14813",Shape_Area:"28516904.72",NHPD_Units:"0",Permits:"767",Pop:"5608",Pop_density:"522.9256555",Non_white_share:"0.084700428",White_non_hisp:"0.915299572",Black_non_hisp:"0.003922967",Asian_non_Hisp:"0.014087019",Hispanic:"0.055278174",Workers:"2516",Transit_to_work:"0.048887122",Walk_to_Work:"0.004372019",Bike_to_work:"0.003577107",Green_commute_share:"0.056836248",BA_plus_25_plus:"0.399890889",Med_HH_inc:"112143",Cost_burdened:"0.634730539",Very_cost_burdened:"0.419161677",Med_housing_value:"596000",Jobs:"416",Job_density:"38.79049085",Housing_units:"2045",Housing_density:"190.6888312",Permit_density:"71.51996751",Permits_per_capita:"136.7689016",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070308",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70308",GEOID:"53053070308",NAME:"703.08",NAMELSAD:"Census Tract 703.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3221582",AWATER:"69699",INTPTLAT:"47.1825206",INTPTLON:"-122.1769497",Shape_Leng:"8768.072029",Shape_Area:"3291281.811",NHPD_Units:"0",Permits:"398",Pop:"4055",Pop_density:"3260.013803",Non_white_share:"0.212823674",White_non_hisp:"0.787176326",Black_non_hisp:"0.000246609",Asian_non_Hisp:"0.021454994",Hispanic:"0.066337855",Workers:"2193",Transit_to_work:"0.034199726",Walk_to_Work:"0.028271774",Bike_to_work:"0",Green_commute_share:"0.0624715",BA_plus_25_plus:"0.224253731",Med_HH_inc:"85500",Cost_burdened:"0.409836066",Very_cost_burdened:"0.084016393",Med_housing_value:"331500",Jobs:"638",Job_density:"512.9195576",Housing_units:"1520",Housing_density:"1222.002708",Permit_density:"319.9717617",Permits_per_capita:"98.15043157",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070309",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70309",GEOID:"53053070309",NAME:"703.09",NAMELSAD:"Census Tract 703.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11565093",AWATER:"21534",INTPTLAT:"47.1854894",INTPTLON:"-122.1500358",Shape_Leng:"19299.72563",Shape_Area:"11586623.65",NHPD_Units:"0",Permits:"786",Pop:"5598",Pop_density:"1253.665097",Non_white_share:"0.152554484",White_non_hisp:"0.847445516",Black_non_hisp:"0.00821722",Asian_non_Hisp:"0.0314398",Hispanic:"0.085030368",Workers:"2900",Transit_to_work:"0.026896552",Walk_to_Work:"0.007931034",Bike_to_work:"0",Green_commute_share:"0.034827586",BA_plus_25_plus:"0.262118941",Med_HH_inc:"100039",Cost_burdened:"0.561507937",Very_cost_burdened:"0.166666667",Med_housing_value:"378900",Jobs:"2753",Job_density:"616.5309062",Housing_units:"2218",Housing_density:"496.7183255",Permit_density:"176.0237168",Permits_per_capita:"140.4072883",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070310",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70310",GEOID:"53053070310",NAME:"703.1",NAMELSAD:"Census Tract 703.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5623892",AWATER:"44073",INTPTLAT:"47.1607635",INTPTLON:"-122.1650031",Shape_Leng:"11963.06899",Shape_Area:"5667968.995",NHPD_Units:"0",Permits:"647",Pop:"6070",Pop_density:"2795.435586",Non_white_share:"0.192257002",White_non_hisp:"0.807742998",Black_non_hisp:"0.002635914",Asian_non_Hisp:"0.01416804",Hispanic:"0.129324547",Workers:"2723",Transit_to_work:"0.006977598",Walk_to_Work:"0",Bike_to_work:"0.019096585",Green_commute_share:"0.026074183",BA_plus_25_plus:"0.172689655",Med_HH_inc:"99816",Cost_burdened:"0.237288136",Very_cost_burdened:"0.042372881",Med_housing_value:"349400",Jobs:"756",Job_density:"348.1629824",Housing_units:"2061",Housing_density:"949.1586068",Permit_density:"297.9648804",Permits_per_capita:"106.5897858",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070311",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70311",GEOID:"53053070311",NAME:"703.11",NAMELSAD:"Census Tract 703.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4982545",AWATER:"1573",INTPTLAT:"47.1573307",INTPTLON:"-122.1379143",Shape_Leng:"11239.59234",Shape_Area:"4984119.241",NHPD_Units:"408",Permits:"335",Pop:"5438",Pop_density:"2826.739215",Non_white_share:"0.272710555",White_non_hisp:"0.727289445",Black_non_hisp:"0",Asian_non_Hisp:"0.00974623",Hispanic:"0.183155572",Workers:"2762",Transit_to_work:"0.022085445",Walk_to_Work:"0.007965243",Bike_to_work:"0",Green_commute_share:"0.030050688",BA_plus_25_plus:"0.170947252",Med_HH_inc:"102568",Cost_burdened:"0.551181102",Very_cost_burdened:"0.401574803",Med_housing_value:"318900",Jobs:"226",Job_density:"117.4775768",Housing_units:"1933",Housing_density:"1004.79715",Permit_density:"174.1371161",Permits_per_capita:"61.60353071",Subsidized_hsg_share:"0.211070874"},{TRACT_ID:"G5300530070312",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70312",GEOID:"53053070312",NAME:"703.12",NAMELSAD:"Census Tract 703.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8287787",AWATER:"15975",INTPTLAT:"47.1706791",INTPTLON:"-122.2045881",Shape_Leng:"14549.20185",Shape_Area:"8303764.538",NHPD_Units:"0",Permits:"1753",Pop:"6597",Pop_density:"2061.606019",Non_white_share:"0.230104593",White_non_hisp:"0.769895407",Black_non_hisp:"0.033045324",Asian_non_Hisp:"0.031681067",Hispanic:"0.088676671",Workers:"3355",Transit_to_work:"0.068256334",Walk_to_Work:"0.004172876",Bike_to_work:"0",Green_commute_share:"0.07242921",BA_plus_25_plus:"0.360271726",Med_HH_inc:"125568",Cost_burdened:"0.149659864",Very_cost_burdened:"0.115646259",Med_housing_value:"402900",Jobs:"658",Job_density:"205.6293407",Housing_units:"2103",Housing_density:"657.2013731",Permit_density:"547.8240642",Permits_per_capita:"265.7268455",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070313",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70313",GEOID:"53053070313",NAME:"703.13",NAMELSAD:"Census Tract 703.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13855013",AWATER:"143206",INTPTLAT:"47.2078839",INTPTLON:"-122.193698",Shape_Leng:"20997.54725",Shape_Area:"13998222.74",NHPD_Units:"0",Permits:"301",Pop:"6179",Pop_density:"1155.071925",Non_white_share:"0.183686681",White_non_hisp:"0.816313319",Black_non_hisp:"0.015698333",Asian_non_Hisp:"0.026541512",Hispanic:"0.068457679",Workers:"3215",Transit_to_work:"0.041679627",Walk_to_Work:"0.036080871",Bike_to_work:"0",Green_commute_share:"0.077760498",BA_plus_25_plus:"0.180757323",Med_HH_inc:"107578",Cost_burdened:"0.11875",Very_cost_burdened:"0.11875",Med_housing_value:"397400",Jobs:"810",Job_density:"151.4174234",Housing_units:"2477",Housing_density:"463.0382194",Permit_density:"56.26746227",Permits_per_capita:"48.71338404",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070314",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70314",GEOID:"53053070314",NAME:"703.14",NAMELSAD:"Census Tract 703.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4203212",AWATER:"1570676",INTPTLAT:"47.2247289",INTPTLON:"-122.1859129",Shape_Leng:"12279.54908",Shape_Area:"5773887.622",NHPD_Units:"0",Permits:"393",Pop:"3163",Pop_density:"1949.017179",Non_white_share:"0.234587417",White_non_hisp:"0.765412583",Black_non_hisp:"0",Asian_non_Hisp:"0.059753399",Hispanic:"0.070186532",Workers:"1631",Transit_to_work:"0.028816677",Walk_to_Work:"0",Bike_to_work:"0.004904966",Green_commute_share:"0.033721643",BA_plus_25_plus:"0.420184377",Med_HH_inc:"113214",Cost_burdened:"1",Very_cost_burdened:"0",Med_housing_value:"426100",Jobs:"210",Job_density:"129.400445",Housing_units:"1123",Housing_density:"691.9842844",Permit_density:"242.1636899",Permits_per_capita:"124.2491306",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070315",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70315",GEOID:"53053070315",NAME:"703.15",NAMELSAD:"Census Tract 703.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9755619",AWATER:"74461",INTPTLAT:"47.2466147",INTPTLON:"-122.1799036",Shape_Leng:"17295.3746",Shape_Area:"9830076.414",NHPD_Units:"0",Permits:"1450",Pop:"6319",Pop_density:"1677.611115",Non_white_share:"0.370786517",White_non_hisp:"0.629213483",Black_non_hisp:"0.059661339",Asian_non_Hisp:"0.143377117",Hispanic:"0.090837158",Workers:"3445",Transit_to_work:"0.05892598",Walk_to_Work:"0.015674891",Bike_to_work:"0.003193033",Green_commute_share:"0.077793904",BA_plus_25_plus:"0.423501199",Med_HH_inc:"125759",Cost_burdened:"0.417344173",Very_cost_burdened:"0.195121951",Med_housing_value:"442800",Jobs:"902",Job_density:"239.4690973",Housing_units:"2372",Housing_density:"629.7346993",Permit_density:"384.9558659",Permits_per_capita:"229.4666878",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070316",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70316",GEOID:"53053070316",NAME:"703.16",NAMELSAD:"Census Tract 703.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3495746",AWATER:"2673",INTPTLAT:"47.2464515",INTPTLON:"-122.2155896",Shape_Leng:"8609.915639",Shape_Area:"3498420.312",NHPD_Units:"0",Permits:"2245",Pop:"5528",Pop_density:"4095.679227",Non_white_share:"0.320911722",White_non_hisp:"0.679088278",Black_non_hisp:"0.026772793",Asian_non_Hisp:"0.085202605",Hispanic:"0.051555716",Workers:"3455",Transit_to_work:"0.056729378",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.056729378",BA_plus_25_plus:"0.503183091",Med_HH_inc:"110168",Cost_burdened:"0.272490222",Very_cost_burdened:"0.065189048",Med_housing_value:"357000",Jobs:"325",Job_density:"240.7915609",Housing_units:"2357",Housing_density:"1746.294489",Permit_density:"1663.314013",Permits_per_capita:"406.1143271",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070401",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70401",GEOID:"53053070401",NAME:"704.01",NAMELSAD:"Census Tract 704.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9373402",AWATER:"345145",INTPTLAT:"47.1678946",INTPTLON:"-122.2248685",Shape_Leng:"18375.60491",Shape_Area:"9718546.42",NHPD_Units:"0",Permits:"64",Pop:"2021",Pop_density:"558.4275561",Non_white_share:"0.156358238",White_non_hisp:"0.843641762",Black_non_hisp:"0.001979218",Asian_non_Hisp:"0.022761009",Hispanic:"0.051954478",Workers:"1016",Transit_to_work:"0.041338583",Walk_to_Work:"0.024606299",Bike_to_work:"0",Green_commute_share:"0.065944882",BA_plus_25_plus:"0.180359435",Med_HH_inc:"84087",Cost_burdened:"0.525423729",Very_cost_burdened:"0.228813559",Med_housing_value:"333900",Jobs:"496",Job_density:"137.0509984",Housing_units:"854",Housing_density:"235.9708723",Permit_density:"17.6839998",Permits_per_capita:"31.66749134",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070403",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70403",GEOID:"53053070403",NAME:"704.03",NAMELSAD:"Census Tract 704.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13549638",AWATER:"246271",INTPTLAT:"47.0802058",INTPTLON:"-122.2117266",Shape_Leng:"23914.66904",Shape_Area:"13795905.04",NHPD_Units:"20",Permits:"504",Pop:"3891",Pop_density:"743.7574153",Non_white_share:"0.195836546",White_non_hisp:"0.804163454",Black_non_hisp:"0.00385505",Asian_non_Hisp:"0.014135184",Hispanic:"0.11847854",Workers:"1932",Transit_to_work:"0.00931677",Walk_to_Work:"0.022774327",Bike_to_work:"0",Green_commute_share:"0.032091097",BA_plus_25_plus:"0.156647808",Med_HH_inc:"81821",Cost_burdened:"0.544",Very_cost_burdened:"0.136",Med_housing_value:"283300",Jobs:"1106",Job_density:"211.4098436",Housing_units:"1473",Housing_density:"281.5612112",Permit_density:"96.33866289",Permits_per_capita:"129.5296839",Subsidized_hsg_share:"0.013577733"},{TRACT_ID:"G5300530070404",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70404",GEOID:"53053070404",NAME:"704.04",NAMELSAD:"Census Tract 704.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5112129",AWATER:"243093",INTPTLAT:"47.1114636",INTPTLON:"-122.2227873",Shape_Leng:"17287.50085",Shape_Area:"5355221.968",NHPD_Units:"0",Permits:"1166",Pop:"5346",Pop_density:"2708.475556",Non_white_share:"0.195473251",White_non_hisp:"0.804526749",Black_non_hisp:"0.015338571",Asian_non_Hisp:"0.023943135",Hispanic:"0.066030677",Workers:"2429",Transit_to_work:"0.005763689",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.005763689",BA_plus_25_plus:"0.194419971",Med_HH_inc:"89358",Cost_burdened:"0.651090343",Very_cost_burdened:"0.171339564",Med_housing_value:"335100",Jobs:"281",Job_density:"142.3646897",Housing_units:"1815",Housing_density:"919.5441704",Permit_density:"590.737467",Permits_per_capita:"218.1069959",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530070703",STATEFP:"53",COUNTYFP:"53",TRACTCE:"70703",GEOID:"53053070703",NAME:"707.03",NAMELSAD:"Census Tract 707.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5690217",AWATER:"103929",INTPTLAT:"47.2489124",INTPTLON:"-122.3177058",Shape_Leng:"11021.87485",Shape_Area:"5794148.749",NHPD_Units:"35",Permits:"444",Pop:"6335",Pop_density:"2883.47082",Non_white_share:"0.30023678",White_non_hisp:"0.69976322",Black_non_hisp:"0.01136543",Asian_non_Hisp:"0.08839779",Hispanic:"0.116653512",Workers:"3365",Transit_to_work:"0.019316493",Walk_to_Work:"0.006835067",Bike_to_work:"0.003863299",Green_commute_share:"0.030014859",BA_plus_25_plus:"0.213037634",Med_HH_inc:"76835",Cost_burdened:"0.517802645",Very_cost_burdened:"0.252288911",Med_housing_value:"341800",Jobs:"1516",Job_density:"690.0302704",Housing_units:"2520",Housing_density:"1147.016017",Permit_density:"202.0932982",Permits_per_capita:"70.08681926",Subsidized_hsg_share:"0.013888889"},{TRACT_ID:"G5300530071100",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71100",GEOID:"53053071100",NAME:"711",NAMELSAD:"Census Tract 711",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6512502",AWATER:"2443",INTPTLAT:"47.1750181",INTPTLON:"-122.3742621",Shape_Leng:"10748.79751",Shape_Area:"6514942.853",NHPD_Units:"0",Permits:"108",Pop:"2534",Pop_density:"1007.758596",Non_white_share:"0.17679558",White_non_hisp:"0.82320442",Black_non_hisp:"0.006314128",Asian_non_Hisp:"0.035516969",Hispanic:"0.097474349",Workers:"1052",Transit_to_work:"0.025665399",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.025665399",BA_plus_25_plus:"0.208502024",Med_HH_inc:"67596",Cost_burdened:"0.449760766",Very_cost_burdened:"0.315789474",Med_housing_value:"315000",Jobs:"818",Job_density:"325.3143376",Housing_units:"1068",Housing_density:"424.7380349",Permit_density:"42.95103724",Permits_per_capita:"42.62036306",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071205",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71205",GEOID:"53053071205",NAME:"712.05",NAMELSAD:"Census Tract 712.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7822569",AWATER:"1769",INTPTLAT:"47.1871648",INTPTLON:"-122.3417554",Shape_Leng:"13077.24607",Shape_Area:"7824342.926",NHPD_Units:"0",Permits:"365",Pop:"4877",Pop_density:"1614.734496",Non_white_share:"0.223703096",White_non_hisp:"0.776296904",Black_non_hisp:"0.043469346",Asian_non_Hisp:"0.031986877",Hispanic:"0.061103137",Workers:"2164",Transit_to_work:"0.021256932",Walk_to_Work:"0.012939002",Bike_to_work:"0",Green_commute_share:"0.034195933",BA_plus_25_plus:"0.298978102",Med_HH_inc:"89979",Cost_burdened:"0.360406091",Very_cost_burdened:"0.086294416",Med_housing_value:"330300",Jobs:"497",Job_density:"164.552603",Housing_units:"1817",Housing_density:"601.5937215",Permit_density:"120.8484911",Permits_per_capita:"74.84109083",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071206",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71206",GEOID:"53053071206",NAME:"712.06",NAMELSAD:"Census Tract 712.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7888219",AWATER:"2406",INTPTLAT:"47.1661261",INTPTLON:"-122.3239661",Shape_Leng:"13105.81664",Shape_Area:"7890622.305",NHPD_Units:"0",Permits:"614",Pop:"6762",Pop_density:"2220.209606",Non_white_share:"0.215616681",White_non_hisp:"0.784383319",Black_non_hisp:"0.000443656",Asian_non_Hisp:"0.02425318",Hispanic:"0.075569358",Workers:"3433",Transit_to_work:"0.012816778",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.012816778",BA_plus_25_plus:"0.248737651",Med_HH_inc:"88750",Cost_burdened:"0.417624521",Very_cost_burdened:"0.17752235",Med_housing_value:"379600",Jobs:"2147",Job_density:"704.9378919",Housing_units:"2538",Housing_density:"833.317359",Permit_density:"201.598447",Permits_per_capita:"90.80153801",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071207",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71207",GEOID:"53053071207",NAME:"712.07",NAMELSAD:"Census Tract 712.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4852543",AWATER:"38129",INTPTLAT:"47.1609922",INTPTLON:"-122.2813728",Shape_Leng:"10665.32067",Shape_Area:"4890672.938",NHPD_Units:"504",Permits:"1106",Pop:"6676",Pop_density:"3563.236972",Non_white_share:"0.378370282",White_non_hisp:"0.621629718",Black_non_hisp:"0.078789694",Asian_non_Hisp:"0.048981426",Hispanic:"0.135260635",Workers:"3172",Transit_to_work:"0.01702396",Walk_to_Work:"0.03184111",Bike_to_work:"0",Green_commute_share:"0.048865069",BA_plus_25_plus:"0.202113",Med_HH_inc:"59750",Cost_burdened:"0.549346017",Very_cost_burdened:"0.291914388",Med_housing_value:"303400",Jobs:"5923",Job_density:"3161.332023",Housing_units:"2667",Housing_density:"1423.480078",Permit_density:"590.3145732",Permits_per_capita:"165.6680647",Subsidized_hsg_share:"0.188976378"},{TRACT_ID:"G5300530071209",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71209",GEOID:"53053071209",NAME:"712.09",NAMELSAD:"Census Tract 712.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2324702",AWATER:"0",INTPTLAT:"47.1635254",INTPTLON:"-122.264972",Shape_Leng:"6708.042616",Shape_Area:"2324702.85",NHPD_Units:"0",Permits:"6",Pop:"4068",Pop_density:"4532.224617",Non_white_share:"0.1226647",White_non_hisp:"0.8773353",Black_non_hisp:"0",Asian_non_Hisp:"0.037118977",Hispanic:"0.032694199",Workers:"2035",Transit_to_work:"0.057493857",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.057493857",BA_plus_25_plus:"0.284861257",Med_HH_inc:"119011",Cost_burdened:"0.294871795",Very_cost_burdened:"0",Med_housing_value:"349700",Jobs:"50",Job_density:"55.70580897",Housing_units:"1409",Housing_density:"1569.789697",Permit_density:"6.684697076",Permits_per_capita:"1.474926254",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071210",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71210",GEOID:"53053071210",NAME:"712.1",NAMELSAD:"Census Tract 712.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8733369",AWATER:"49946",INTPTLAT:"47.1680714",INTPTLON:"-122.2409095",Shape_Leng:"15585.62291",Shape_Area:"8783318.676",NHPD_Units:"0",Permits:"473",Pop:"5744",Pop_density:"1703.453925",Non_white_share:"0.180188022",White_non_hisp:"0.819811978",Black_non_hisp:"0.025417827",Asian_non_Hisp:"0.040564067",Hispanic:"0.048224234",Workers:"2672",Transit_to_work:"0.068862275",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.068862275",BA_plus_25_plus:"0.420816864",Med_HH_inc:"126686",Cost_burdened:"0.531914894",Very_cost_burdened:"0.260638298",Med_housing_value:"397500",Jobs:"585",Job_density:"173.4889531",Housing_units:"1965",Housing_density:"582.7449449",Permit_density:"140.273974",Permits_per_capita:"82.34679666",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071211",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71211",GEOID:"53053071211",NAME:"712.11",NAMELSAD:"Census Tract 712.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2109352",AWATER:"0",INTPTLAT:"47.1438851",INTPTLON:"-122.2787871",Shape_Leng:"7932.406915",Shape_Area:"2109351.308",NHPD_Units:"221",Permits:"661",Pop:"5148",Pop_density:"6321.021239",Non_white_share:"0.321289821",White_non_hisp:"0.678710179",Black_non_hisp:"0.009129759",Asian_non_Hisp:"0.051476301",Hispanic:"0.083333333",Workers:"2397",Transit_to_work:"0.039215686",Walk_to_Work:"0.00667501",Bike_to_work:"0",Green_commute_share:"0.045890697",BA_plus_25_plus:"0.161502605",Med_HH_inc:"52077",Cost_burdened:"0.605488851",Very_cost_burdened:"0.203259005",Med_housing_value:"274300",Jobs:"640",Job_density:"785.8301462",Housing_units:"2167",Housing_density:"2660.771761",Permit_density:"811.6151979",Permits_per_capita:"128.3993784",Subsidized_hsg_share:"0.10198431"},{TRACT_ID:"G5300530071212",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71212",GEOID:"53053071212",NAME:"712.12",NAMELSAD:"Census Tract 712.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1565638",AWATER:"4004",INTPTLAT:"47.1347094",INTPTLON:"-122.2864171",Shape_Leng:"5562.920502",Shape_Area:"1569642.247",NHPD_Units:"0",Permits:"404",Pop:"3942",Pop_density:"6521.132683",Non_white_share:"0.455606291",White_non_hisp:"0.544393709",Black_non_hisp:"0.005327245",Asian_non_Hisp:"0.225520041",Hispanic:"0.18290208",Workers:"2092",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.27998155",Med_HH_inc:"68036",Cost_burdened:"0.532258065",Very_cost_burdened:"0.094982079",Med_housing_value:"345700",Jobs:"247",Job_density:"408.6047115",Housing_units:"1283",Housing_density:"2122.428521",Permit_density:"668.3251151",Permits_per_capita:"102.4860477",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071304",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71304",GEOID:"53053071304",NAME:"713.04",NAMELSAD:"Census Tract 713.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5346853",AWATER:"27397",INTPTLAT:"47.1369786",INTPTLON:"-122.310162",Shape_Leng:"11398.79841",Shape_Area:"5374249.721",NHPD_Units:"1",Permits:"962",Pop:"6374",Pop_density:"3087.532838",Non_white_share:"0.281769689",White_non_hisp:"0.718230311",Black_non_hisp:"0.029494823",Asian_non_Hisp:"0.056479448",Hispanic:"0.139786633",Workers:"3070",Transit_to_work:"0.018241042",Walk_to_Work:"0.025081433",Bike_to_work:"0",Green_commute_share:"0.043322476",BA_plus_25_plus:"0.212427097",Med_HH_inc:"74025",Cost_burdened:"0.480667838",Very_cost_burdened:"0.106326889",Med_housing_value:"333200",Jobs:"1391",Job_density:"673.7932502",Housing_units:"2594",Housing_density:"1256.520267",Permit_density:"465.9878553",Permits_per_capita:"150.9256354",Subsidized_hsg_share:"0.000385505"},{TRACT_ID:"G5300530071305",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71305",GEOID:"53053071305",NAME:"713.05",NAMELSAD:"Census Tract 713.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9953795",AWATER:"9826",INTPTLAT:"47.1506823",INTPTLON:"-122.3862318",Shape_Leng:"14058.8159",Shape_Area:"9963622.406",NHPD_Units:"171",Permits:"244",Pop:"3741",Pop_density:"973.4122031",Non_white_share:"0.331729484",White_non_hisp:"0.668270516",Black_non_hisp:"0.051055867",Asian_non_Hisp:"0.082063619",Hispanic:"0.153167602",Workers:"1947",Transit_to_work:"0.004622496",Walk_to_Work:"0.021571649",Bike_to_work:"0",Green_commute_share:"0.026194145",BA_plus_25_plus:"0.129943503",Med_HH_inc:"72950",Cost_burdened:"0.506887052",Very_cost_burdened:"0.300275482",Med_housing_value:"284800",Jobs:"2542",Job_density:"661.4311201",Housing_units:"1518",Housing_density:"394.9852244",Permit_density:"63.4890611",Permits_per_capita:"65.22320235",Subsidized_hsg_share:"0.112648221"},{TRACT_ID:"G5300530071306",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71306",GEOID:"53053071306",NAME:"713.06",NAMELSAD:"Census Tract 713.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12236872",AWATER:"0",INTPTLAT:"47.1240725",INTPTLON:"-122.3793225",Shape_Leng:"17484.81096",Shape_Area:"12236871.04",NHPD_Units:"0",Permits:"634",Pop:"6794",Pop_density:"1437.980165",Non_white_share:"0.266264351",White_non_hisp:"0.733735649",Black_non_hisp:"0.006329114",Asian_non_Hisp:"0.071386518",Hispanic:"0.091256991",Workers:"3133",Transit_to_work:"0.027449729",Walk_to_Work:"0.022981168",Bike_to_work:"0",Green_commute_share:"0.050430897",BA_plus_25_plus:"0.189619943",Med_HH_inc:"83136",Cost_burdened:"0.528795812",Very_cost_burdened:"0.42408377",Med_housing_value:"323100",Jobs:"757",Job_density:"160.2223999",Housing_units:"2433",Housing_density:"514.9552167",Permit_density:"134.1889056",Permits_per_capita:"93.31763321",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071307",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71307",GEOID:"53053071307",NAME:"713.07",NAMELSAD:"Census Tract 713.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5202534",AWATER:"15994",INTPTLAT:"47.1484353",INTPTLON:"-122.3321204",Shape_Leng:"9687.846918",Shape_Area:"5218526.954",NHPD_Units:"42",Permits:"532",Pop:"5503",Pop_density:"2739.569712",Non_white_share:"0.233145557",White_non_hisp:"0.766854443",Black_non_hisp:"0.016536435",Asian_non_Hisp:"0.006723605",Hispanic:"0.082318735",Workers:"2929",Transit_to_work:"0.031751451",Walk_to_Work:"0.013315125",Bike_to_work:"0",Green_commute_share:"0.045066576",BA_plus_25_plus:"0.179378531",Med_HH_inc:"91295",Cost_burdened:"0.509015257",Very_cost_burdened:"0.165048544",Med_housing_value:"357800",Jobs:"1904",Job_density:"947.8722027",Housing_units:"1945",Housing_density:"968.2833163",Permit_density:"264.8466449",Permits_per_capita:"96.67454116",Subsidized_hsg_share:"0.02159383"},{TRACT_ID:"G5300530071309",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71309",GEOID:"53053071309",NAME:"713.09",NAMELSAD:"Census Tract 713.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4133687",AWATER:"0",INTPTLAT:"47.1150433",INTPTLON:"-122.3403114",Shape_Leng:"13092.96987",Shape_Area:"4133689.014",NHPD_Units:"1",Permits:"653",Pop:"4658",Pop_density:"2918.499784",Non_white_share:"0.312795191",White_non_hisp:"0.687204809",Black_non_hisp:"0.026406183",Asian_non_Hisp:"0.048733362",Hispanic:"0.145770717",Workers:"2403",Transit_to_work:"0.007490637",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.007490637",BA_plus_25_plus:"0.239356353",Med_HH_inc:"86434",Cost_burdened:"0.377358491",Very_cost_burdened:"0.103773585",Med_housing_value:"294400",Jobs:"286",Job_density:"179.1951349",Housing_units:"1528",Housing_density:"957.3782032",Permit_density:"409.1413394",Permits_per_capita:"140.1889223",Subsidized_hsg_share:"0.00065445"},{TRACT_ID:"G5300530071310",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71310",GEOID:"53053071310",NAME:"713.1",NAMELSAD:"Census Tract 713.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6498031",AWATER:"4136",INTPTLAT:"47.1298642",INTPTLON:"-122.3386491",Shape_Leng:"11631.44652",Shape_Area:"6502164.462",NHPD_Units:"0",Permits:"1379",Pop:"7081",Pop_density:"2822.348156",Non_white_share:"0.256460952",White_non_hisp:"0.743539048",Black_non_hisp:"0.026691145",Asian_non_Hisp:"0.109730264",Hispanic:"0.070046604",Workers:"3907",Transit_to_work:"0.018172511",Walk_to_Work:"0.002815459",Bike_to_work:"0",Green_commute_share:"0.02098797",BA_plus_25_plus:"0.338250359",Med_HH_inc:"104266",Cost_burdened:"0.520430108",Very_cost_burdened:"0.189247312",Med_housing_value:"353700",Jobs:"312",Job_density:"124.3570999",Housing_units:"2592",Housing_density:"1033.120522",Permit_density:"549.6424385",Permits_per_capita:"194.7465047",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071403",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71403",GEOID:"53053071403",NAME:"714.03",NAMELSAD:"Census Tract 714.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5063029",AWATER:"1032581",INTPTLAT:"47.1086836",INTPTLON:"-122.4515591",Shape_Leng:"10049.06284",Shape_Area:"6095608.078",NHPD_Units:"0",Permits:"155",Pop:"3970",Pop_density:"2030.85007",Non_white_share:"0.389924433",White_non_hisp:"0.610075567",Black_non_hisp:"0.100503778",Asian_non_Hisp:"0.073047859",Hispanic:"0.068010076",Workers:"1999",Transit_to_work:"0.011505753",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.011505753",BA_plus_25_plus:"0.109627547",Med_HH_inc:"63422",Cost_burdened:"0.591489362",Very_cost_burdened:"0.331914894",Med_housing_value:"260300",Jobs:"393",Job_density:"201.0388104",Housing_units:"1609",Housing_density:"823.0825598",Permit_density:"79.29011607",Permits_per_capita:"39.04282116",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071408",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71408",GEOID:"53053071408",NAME:"714.08",NAMELSAD:"Census Tract 714.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2923856",AWATER:"0",INTPTLAT:"47.1098273",INTPTLON:"-122.4204449",Shape_Leng:"8114.87879",Shape_Area:"2923856.748",NHPD_Units:"0",Permits:"203",Pop:"4165",Pop_density:"3689.408945",Non_white_share:"0.493877551",White_non_hisp:"0.506122449",Black_non_hisp:"0.059543818",Asian_non_Hisp:"0.03817527",Hispanic:"0.14789916",Workers:"1829",Transit_to_work:"0.043193002",Walk_to_Work:"0.009841443",Bike_to_work:"0",Green_commute_share:"0.053034445",BA_plus_25_plus:"0.095900715",Med_HH_inc:"77778",Cost_burdened:"0.45026178",Very_cost_burdened:"0.264397906",Med_housing_value:"249700",Jobs:"663",Job_density:"587.2936687",Housing_units:"1367",Housing_density:"1210.905649",Permit_density:"179.8199318",Permits_per_capita:"48.7394958",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071409",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71409",GEOID:"53053071409",NAME:"714.09",NAMELSAD:"Census Tract 714.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2125874",AWATER:"0",INTPTLAT:"47.1007056",INTPTLON:"-122.4174613",Shape_Leng:"6908.845566",Shape_Area:"2125869.422",NHPD_Units:"16",Permits:"239",Pop:"5229",Pop_density:"6370.578797",Non_white_share:"0.406769937",White_non_hisp:"0.593230063",Black_non_hisp:"0.141900937",Asian_non_Hisp:"0.035762096",Hispanic:"0.137693632",Workers:"2122",Transit_to_work:"0.049481621",Walk_to_Work:"0.005183789",Bike_to_work:"0.011781338",Green_commute_share:"0.066446748",BA_plus_25_plus:"0.108082707",Med_HH_inc:"55268",Cost_burdened:"0.517955801",Very_cost_burdened:"0.183701657",Med_housing_value:"226700",Jobs:"527",Job_density:"642.0529787",Housing_units:"1803",Housing_density:"2196.625276",Permit_density:"291.1777266",Permits_per_capita:"45.70663607",Subsidized_hsg_share:"0.008874099"},{TRACT_ID:"G5300530071411",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71411",GEOID:"53053071411",NAME:"714.11",NAMELSAD:"Census Tract 714.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3371510",AWATER:"0",INTPTLAT:"47.0718654",INTPTLON:"-122.4088762",Shape_Leng:"9466.529721",Shape_Area:"3371508.615",NHPD_Units:"0",Permits:"1064",Pop:"6772",Pop_density:"5202.238606",Non_white_share:"0.568960425",White_non_hisp:"0.431039575",Black_non_hisp:"0.149881867",Asian_non_Hisp:"0.05227407",Hispanic:"0.177347903",Workers:"3448",Transit_to_work:"0.010440835",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.010440835",BA_plus_25_plus:"0.096328088",Med_HH_inc:"81187",Cost_burdened:"0.478350515",Very_cost_burdened:"0.191752577",Med_housing_value:"301600",Jobs:"976",Job_density:"749.7615002",Housing_units:"2265",Housing_density:"1739.969055",Permit_density:"817.362947",Permits_per_capita:"157.1175428",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071412",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71412",GEOID:"53053071412",NAME:"714.12",NAMELSAD:"Census Tract 714.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6834912",AWATER:"19209",INTPTLAT:"47.0942447",INTPTLON:"-122.3847267",Shape_Leng:"11109.3202",Shape_Area:"6854121.699",NHPD_Units:"0",Permits:"1788",Pop:"6246",Pop_density:"2366.828679",Non_white_share:"0.453410183",White_non_hisp:"0.546589817",Black_non_hisp:"0.076208774",Asian_non_Hisp:"0.065321806",Hispanic:"0.244476465",Workers:"3015",Transit_to_work:"0.075290216",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.075290216",BA_plus_25_plus:"0.235046113",Med_HH_inc:"98000",Cost_burdened:"0.084337349",Very_cost_burdened:"0",Med_housing_value:"324500",Jobs:"604",Job_density:"228.8768046",Housing_units:"2063",Housing_density:"781.7431258",Permit_density:"677.5359714",Permits_per_capita:"286.2632085",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071413",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71413",GEOID:"53053071413",NAME:"714.13",NAMELSAD:"Census Tract 714.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9610785",AWATER:"0",INTPTLAT:"47.0733912",INTPTLON:"-122.3779677",Shape_Leng:"16710.7892",Shape_Area:"9610781.199",NHPD_Units:"0",Permits:"471",Pop:"2879",Pop_density:"775.855018",Non_white_share:"0.504689128",White_non_hisp:"0.495310872",Black_non_hisp:"0.229246266",Asian_non_Hisp:"0.087877735",Hispanic:"0.159777701",Workers:"1451",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.383808969",Med_HH_inc:"127566",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"353500",Jobs:"2705",Job_density:"728.9641625",Housing_units:"784",Housing_density:"211.2783377",Permit_density:"126.9286952",Permits_per_capita:"163.5984717",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071414",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71414",GEOID:"53053071414",NAME:"714.14",NAMELSAD:"Census Tract 714.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3214456",AWATER:"0",INTPTLAT:"47.0622162",INTPTLON:"-122.3672691",Shape_Leng:"7812.709834",Shape_Area:"3214455.084",NHPD_Units:"0",Permits:"350",Pop:"4407",Pop_density:"3550.858249",Non_white_share:"0.371681416",White_non_hisp:"0.628318584",Black_non_hisp:"0.073292489",Asian_non_Hisp:"0.091672339",Hispanic:"0.088268663",Workers:"2294",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.17415115",Med_HH_inc:"81025",Cost_burdened:"0.749152542",Very_cost_burdened:"0.515254237",Med_housing_value:"258300",Jobs:"99",Job_density:"79.7674079",Housing_units:"1401",Housing_density:"1128.829681",Permit_density:"282.0059875",Permits_per_capita:"79.41910597",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071415",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71415",GEOID:"53053071415",NAME:"714.15",NAMELSAD:"Census Tract 714.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5226515",AWATER:"0",INTPTLAT:"47.0615739",INTPTLON:"-122.3412099",Shape_Leng:"10249.57452",Shape_Area:"5226516.897",NHPD_Units:"0",Permits:"416",Pop:"2827",Pop_density:"1400.913685",Non_white_share:"0.0887867",White_non_hisp:"0.9112133",Black_non_hisp:"0.047046339",Asian_non_Hisp:"0",Hispanic:"0.024407499",Workers:"1448",Transit_to_work:"0.009668508",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.009668508",BA_plus_25_plus:"0.048051255",Med_HH_inc:"72245",Cost_burdened:"0.231939163",Very_cost_burdened:"0.140684411",Med_housing_value:"251000",Jobs:"126",Job_density:"62.43902522",Housing_units:"1068",Housing_density:"529.2450709",Permit_density:"206.1478928",Permits_per_capita:"147.1524584",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071416",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71416",GEOID:"53053071416",NAME:"714.16",NAMELSAD:"Census Tract 714.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2400267",AWATER:"0",INTPTLAT:"47.0799711",INTPTLON:"-122.42813",Shape_Leng:"9409.432131",Shape_Area:"2400269.14",NHPD_Units:"216",Permits:"449",Pop:"2304",Pop_density:"2486.112006",Non_white_share:"0.38671875",White_non_hisp:"0.61328125",Black_non_hisp:"0.106770833",Asian_non_Hisp:"0.033420139",Hispanic:"0.165364583",Workers:"1045",Transit_to_work:"0.014354067",Walk_to_Work:"0.012440191",Bike_to_work:"0",Green_commute_share:"0.026794258",BA_plus_25_plus:"0.112914131",Med_HH_inc:"66058",Cost_burdened:"0.716535433",Very_cost_burdened:"0.267716535",Med_housing_value:"257100",Jobs:"427",Job_density:"460.7507928",Housing_units:"861",Housing_density:"929.0548772",Permit_density:"484.4897095",Permits_per_capita:"194.8784722",Subsidized_hsg_share:"0.25087108"},{TRACT_ID:"G5300530071417",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71417",GEOID:"53053071417",NAME:"714.17",NAMELSAD:"Census Tract 714.17",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3459048",AWATER:"0",INTPTLAT:"47.0897876",INTPTLON:"-122.4142409",Shape_Leng:"7569.257597",Shape_Area:"3459049.218",NHPD_Units:"0",Permits:"1377",Pop:"6467",Pop_density:"4842.21471",Non_white_share:"0.591155095",White_non_hisp:"0.408844905",Black_non_hisp:"0.142260708",Asian_non_Hisp:"0.143497758",Hispanic:"0.107932581",Workers:"2624",Transit_to_work:"0.024009146",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.024009146",BA_plus_25_plus:"0.18076328",Med_HH_inc:"90962",Cost_burdened:"0.361445783",Very_cost_burdened:"0.102409639",Med_housing_value:"302400",Jobs:"2768",Job_density:"2072.560742",Housing_units:"1940",Housing_density:"1452.589537",Permit_density:"1031.039069",Permits_per_capita:"212.9271687",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071503",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71503",GEOID:"53053071503",NAME:"715.03",NAMELSAD:"Census Tract 715.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5647529",AWATER:"57065",INTPTLAT:"47.1333392",INTPTLON:"-122.4519069",Shape_Leng:"12665.38501",Shape_Area:"5704590.006",NHPD_Units:"1",Permits:"229",Pop:"5608",Pop_density:"2571.859892",Non_white_share:"0.467011412",White_non_hisp:"0.532988588",Black_non_hisp:"0.09914408",Asian_non_Hisp:"0.039407989",Hispanic:"0.073466476",Workers:"2611",Transit_to_work:"0.002680965",Walk_to_Work:"0.108770586",Bike_to_work:"0",Green_commute_share:"0.111451551",BA_plus_25_plus:"0.133067531",Med_HH_inc:"56708",Cost_burdened:"0.586448598",Very_cost_burdened:"0.324766355",Med_housing_value:"267700",Jobs:"1511",Job_density:"692.9529773",Housing_units:"2392",Housing_density:"1096.984462",Permit_density:"105.0206696",Permits_per_capita:"40.83452211",Subsidized_hsg_share:"0.00041806"},{TRACT_ID:"G5300530071504",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71504",GEOID:"53053071504",NAME:"715.04",NAMELSAD:"Census Tract 715.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2651531",AWATER:"0",INTPTLAT:"47.145689",INTPTLON:"-122.4452788",Shape_Leng:"6688.234613",Shape_Area:"2651530.129",NHPD_Units:"20",Permits:"65",Pop:"5753",Pop_density:"5619.471015",Non_white_share:"0.474535025",White_non_hisp:"0.525464975",Black_non_hisp:"0.164088302",Asian_non_Hisp:"0.097688163",Hispanic:"0.10116461",Workers:"2476",Transit_to_work:"0.048465267",Walk_to_Work:"0.136510501",Bike_to_work:"0.004846527",Green_commute_share:"0.189822294",BA_plus_25_plus:"0.172751859",Med_HH_inc:"48583",Cost_burdened:"0.622969838",Very_cost_burdened:"0.430394432",Med_housing_value:"250100",Jobs:"2865",Job_density:"2798.502426",Housing_units:"1758",Housing_density:"1717.196253",Permit_density:"63.49132904",Permits_per_capita:"11.29845298",Subsidized_hsg_share:"0.011376564"},{TRACT_ID:"G5300530071505",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71505",GEOID:"53053071505",NAME:"715.05",NAMELSAD:"Census Tract 715.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4531080",AWATER:"0",INTPTLAT:"47.132363",INTPTLON:"-122.4234689",Shape_Leng:"10399.22587",Shape_Area:"4531077.936",NHPD_Units:"60",Permits:"234",Pop:"5057",Pop_density:"2890.606627",Non_white_share:"0.372355151",White_non_hisp:"0.627644849",Black_non_hisp:"0.07771406",Asian_non_Hisp:"0.0735614",Hispanic:"0.06802452",Workers:"2598",Transit_to_work:"0.03656659",Walk_to_Work:"0.010007698",Bike_to_work:"0",Green_commute_share:"0.046574288",BA_plus_25_plus:"0.14969423",Med_HH_inc:"64759",Cost_burdened:"0.628180039",Very_cost_burdened:"0.365949119",Med_housing_value:"281400",Jobs:"643",Job_density:"367.542033",Housing_units:"2119",Housing_density:"1211.231054",Permit_density:"133.7555766",Permits_per_capita:"46.27249357",Subsidized_hsg_share:"0.028315243"},{TRACT_ID:"G5300530071506",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71506",GEOID:"53053071506",NAME:"715.06",NAMELSAD:"Census Tract 715.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3897260",AWATER:"0",INTPTLAT:"47.1215545",INTPTLON:"-122.4053778",Shape_Leng:"11167.88583",Shape_Area:"3897259.237",NHPD_Units:"0",Permits:"363",Pop:"5533",Pop_density:"3677.04598",Non_white_share:"0.34718959",White_non_hisp:"0.65281041",Black_non_hisp:"0.061630219",Asian_non_Hisp:"0.019699982",Hispanic:"0.131574191",Workers:"2630",Transit_to_work:"0.042585551",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.042585551",BA_plus_25_plus:"0.197893706",Med_HH_inc:"79362",Cost_burdened:"0.597959184",Very_cost_burdened:"0.363265306",Med_housing_value:"272100",Jobs:"85",Job_density:"56.48814536",Housing_units:"2358",Housing_density:"1567.047609",Permit_density:"241.237609",Permits_per_capita:"65.60636183",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071601",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71601",GEOID:"53053071601",NAME:"716.01",NAMELSAD:"Census Tract 716.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4032409",AWATER:"0",INTPTLAT:"47.1797628",INTPTLON:"-122.4100405",Shape_Leng:"8676.864229",Shape_Area:"4032408.346",NHPD_Units:"0",Permits:"300",Pop:"4782",Pop_density:"3071.445169",Non_white_share:"0.632789628",White_non_hisp:"0.367210372",Black_non_hisp:"0.079673777",Asian_non_Hisp:"0.08448348",Hispanic:"0.399832706",Workers:"2255",Transit_to_work:"0.06518847",Walk_to_Work:"0.03059867",Bike_to_work:"0.000443459",Green_commute_share:"0.096230599",BA_plus_25_plus:"0.056541749",Med_HH_inc:"55000",Cost_burdened:"0.39504717",Very_cost_burdened:"0.201650943",Med_housing_value:"188000",Jobs:"1664",Job_density:"1068.775567",Housing_units:"1733",Housing_density:"1113.093785",Permit_density:"192.6879027",Permits_per_capita:"62.73525721",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071603",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71603",GEOID:"53053071603",NAME:"716.03",NAMELSAD:"Census Tract 716.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2750894",AWATER:"0",INTPTLAT:"47.1642608",INTPTLON:"-122.4170286",Shape_Leng:"7611.472842",Shape_Area:"2750894.002",NHPD_Units:"0",Permits:"230",Pop:"3959",Pop_density:"3727.429312",Non_white_share:"0.498863349",White_non_hisp:"0.501136651",Black_non_hisp:"0.162919929",Asian_non_Hisp:"0.019196767",Hispanic:"0.223288709",Workers:"1745",Transit_to_work:"0.053868195",Walk_to_Work:"0.005730659",Bike_to_work:"0",Green_commute_share:"0.059598854",BA_plus_25_plus:"0.107071514",Med_HH_inc:"52643",Cost_burdened:"0.57793765",Very_cost_burdened:"0.215827338",Med_housing_value:"267900",Jobs:"1311",Job_density:"1234.316703",Housing_units:"1308",Housing_density:"1231.49218",Permit_density:"216.54679",Permits_per_capita:"58.09547866",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071604",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71604",GEOID:"53053071604",NAME:"716.04",NAMELSAD:"Census Tract 716.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1946236",AWATER:"0",INTPTLAT:"47.1538354",INTPTLON:"-122.4201159",Shape_Leng:"6936.210987",Shape_Area:"1946236.532",NHPD_Units:"50",Permits:"879",Pop:"4591",Pop_density:"6109.554758",Non_white_share:"0.589414071",White_non_hisp:"0.410585929",Black_non_hisp:"0.135482466",Asian_non_Hisp:"0.118710521",Hispanic:"0.156175125",Workers:"1912",Transit_to_work:"0.041317992",Walk_to_Work:"0.016213389",Bike_to_work:"0",Green_commute_share:"0.057531381",BA_plus_25_plus:"0.207937585",Med_HH_inc:"52002",Cost_burdened:"0.615263572",Very_cost_burdened:"0.387883556",Med_housing_value:"264600",Jobs:"375",Job_density:"499.0379077",Housing_units:"2172",Housing_density:"2890.427561",Permit_density:"1169.744856",Permits_per_capita:"191.4615552",Subsidized_hsg_share:"0.023020258"},{TRACT_ID:"G5300530071703",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71703",GEOID:"53053071703",NAME:"717.03",NAMELSAD:"Census Tract 717.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"870734",AWATER:"50966",INTPTLAT:"47.1709835",INTPTLON:"-122.463994",Shape_Leng:"6589.590186",Shape_Area:"921701.3237",NHPD_Units:"288",Permits:"150",Pop:"4062",Pop_density:"12082.37154",Non_white_share:"0.624322994",White_non_hisp:"0.375677006",Black_non_hisp:"0.146233383",Asian_non_Hisp:"0.03446578",Hispanic:"0.387247661",Workers:"1794",Transit_to_work:"0.045150502",Walk_to_Work:"0.008361204",Bike_to_work:"0.005016722",Green_commute_share:"0.058528428",BA_plus_25_plus:"0.064670659",Med_HH_inc:"50404",Cost_burdened:"0.462848297",Very_cost_burdened:"0.165634675",Med_housing_value:"220700",Jobs:"717",Job_density:"2132.708123",Housing_units:"1620",Housing_density:"4818.671074",Permit_density:"446.1732476",Permits_per_capita:"36.92762186",Subsidized_hsg_share:"0.177777778"},{TRACT_ID:"G5300530071704",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71704",GEOID:"53053071704",NAME:"717.04",NAMELSAD:"Census Tract 717.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1352620",AWATER:"0",INTPTLAT:"47.1638216",INTPTLON:"-122.4667714",Shape_Leng:"5579.874604",Shape_Area:"1352620.286",NHPD_Units:"40",Permits:"70",Pop:"5131",Pop_density:"9824.805928",Non_white_share:"0.801793023",White_non_hisp:"0.198206977",Black_non_hisp:"0.226076788",Asian_non_Hisp:"0.041902163",Hispanic:"0.392710973",Workers:"2381",Transit_to_work:"0.072658547",Walk_to_Work:"0.046199076",Bike_to_work:"0",Green_commute_share:"0.118857623",BA_plus_25_plus:"0.145604396",Med_HH_inc:"42403",Cost_burdened:"0.483542789",Very_cost_burdened:"0.210652304",Med_housing_value:"171000",Jobs:"758",Job_density:"1451.413544",Housing_units:"1981",Housing_density:"3793.206109",Permit_density:"134.0355515",Permits_per_capita:"13.6425648",Subsidized_hsg_share:"0.020191822"},{TRACT_ID:"G5300530071705",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71705",GEOID:"53053071705",NAME:"717.05",NAMELSAD:"Census Tract 717.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2385853",AWATER:"0",INTPTLAT:"47.1641759",INTPTLON:"-122.4434196",Shape_Leng:"6254.436065",Shape_Area:"2385852.018",NHPD_Units:"21",Permits:"147",Pop:"4365",Pop_density:"4738.472195",Non_white_share:"0.578694158",White_non_hisp:"0.421305842",Black_non_hisp:"0.191981672",Asian_non_Hisp:"0.106300115",Hispanic:"0.157846506",Workers:"2137",Transit_to_work:"0.032288255",Walk_to_Work:"0.00327562",Bike_to_work:"0.009358914",Green_commute_share:"0.044922789",BA_plus_25_plus:"0.150853242",Med_HH_inc:"56241",Cost_burdened:"0.792270531",Very_cost_burdened:"0.239130435",Med_housing_value:"234400",Jobs:"986",Job_density:"1070.362791",Housing_units:"1504",Housing_density:"1632.683203",Permit_density:"159.5774141",Permits_per_capita:"33.67697595",Subsidized_hsg_share:"0.013962766"},{TRACT_ID:"G5300530071706",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71706",GEOID:"53053071706",NAME:"717.06",NAMELSAD:"Census Tract 717.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1610393",AWATER:"0",INTPTLAT:"47.1564837",INTPTLON:"-122.4672129",Shape_Leng:"8326.118663",Shape_Area:"1610393.436",NHPD_Units:"120",Permits:"34",Pop:"1858",Pop_density:"2988.21338",Non_white_share:"0.470398278",White_non_hisp:"0.529601722",Black_non_hisp:"0.083961249",Asian_non_Hisp:"0.04467169",Hispanic:"0.094725511",Workers:"781",Transit_to_work:"0.053777209",Walk_to_Work:"0.010243278",Bike_to_work:"0",Green_commute_share:"0.064020487",BA_plus_25_plus:"0.176519567",Med_HH_inc:"48340",Cost_burdened:"0.540697674",Very_cost_burdened:"0.168604651",Med_housing_value:"212500",Jobs:"1257",Job_density:"2021.627674",Housing_units:"803",Housing_density:"1291.461434",Permit_density:"54.68205323",Permits_per_capita:"18.2992465",Subsidized_hsg_share:"0.149439601"},{TRACT_ID:"G5300530071707",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71707",GEOID:"53053071707",NAME:"717.07",NAMELSAD:"Census Tract 717.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1269579",AWATER:"0",INTPTLAT:"47.1547542",INTPTLON:"-122.442304",Shape_Leng:"5185.491927",Shape_Area:"1269578.121",NHPD_Units:"13",Permits:"75",Pop:"2360",Pop_density:"4814.487275",Non_white_share:"0.283898305",White_non_hisp:"0.716101695",Black_non_hisp:"0.11059322",Asian_non_Hisp:"0.015254237",Hispanic:"0.044915254",Workers:"1136",Transit_to_work:"0.026408451",Walk_to_Work:"0",Bike_to_work:"0.003521127",Green_commute_share:"0.029929577",BA_plus_25_plus:"0.169716088",Med_HH_inc:"62581",Cost_burdened:"0.429667519",Very_cost_burdened:"0.289002558",Med_housing_value:"196600",Jobs:"715",Job_density:"1458.626441",Housing_units:"1112",Housing_density:"2268.521123",Permit_density:"153.0027736",Permits_per_capita:"31.77966102",Subsidized_hsg_share:"0.011690647"},{TRACT_ID:"G5300530071803",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71803",GEOID:"53053071803",NAME:"718.03",NAMELSAD:"Census Tract 718.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4605933",AWATER:"0",INTPTLAT:"47.1847497",INTPTLON:"-122.507901",Shape_Leng:"12310.64244",Shape_Area:"4605927.756",NHPD_Units:"0",Permits:"462",Pop:"5821",Pop_density:"3273.239274",Non_white_share:"0.625665693",White_non_hisp:"0.374334307",Black_non_hisp:"0.276928363",Asian_non_Hisp:"0.137777014",Hispanic:"0.141900017",Workers:"3463",Transit_to_work:"0.034652036",Walk_to_Work:"0.008951776",Bike_to_work:"0.002598903",Green_commute_share:"0.046202714",BA_plus_25_plus:"0.236906377",Med_HH_inc:"52939",Cost_burdened:"0.577058824",Very_cost_burdened:"0.244117647",Med_housing_value:"329300",Jobs:"2434",Job_density:"1368.67624",Housing_units:"2686",Housing_density:"1510.379778",Permit_density:"259.7898204",Permits_per_capita:"79.36780622",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071805",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71805",GEOID:"53053071805",NAME:"718.05",NAMELSAD:"Census Tract 718.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1349186",AWATER:"0",INTPTLAT:"47.1599265",INTPTLON:"-122.5002916",Shape_Leng:"5563.349583",Shape_Area:"1349187.553",NHPD_Units:"0",Permits:"6",Pop:"4374",Pop_density:"8396.624331",Non_white_share:"0.727251943",White_non_hisp:"0.272748057",Black_non_hisp:"0.180841335",Asian_non_Hisp:"0.194330133",Hispanic:"0.226794696",Workers:"2014",Transit_to_work:"0.055610725",Walk_to_Work:"0.00347567",Bike_to_work:"0",Green_commute_share:"0.059086395",BA_plus_25_plus:"0.107156979",Med_HH_inc:"42661",Cost_burdened:"0.559055118",Very_cost_burdened:"0.274606299",Med_housing_value:"227700",Jobs:"1633",Job_density:"3134.816537",Housing_units:"1611",Housing_density:"3092.583858",Permit_density:"11.5180032",Permits_per_capita:"1.371742112",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071806",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71806",GEOID:"53053071806",NAME:"718.06",NAMELSAD:"Census Tract 718.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1660061",AWATER:"0",INTPTLAT:"47.1444505",INTPTLON:"-122.5052549",Shape_Leng:"7369.091944",Shape_Area:"1660059.077",NHPD_Units:"0",Permits:"286",Pop:"3989",Pop_density:"6223.543937",Non_white_share:"0.641012785",White_non_hisp:"0.358987215",Black_non_hisp:"0.150664327",Asian_non_Hisp:"0.039608925",Hispanic:"0.31135623",Workers:"1767",Transit_to_work:"0.080362196",Walk_to_Work:"0.027730617",Bike_to_work:"0.007357102",Green_commute_share:"0.115449915",BA_plus_25_plus:"0.122889674",Med_HH_inc:"35232",Cost_burdened:"0.617550753",Very_cost_burdened:"0.318925999",Med_housing_value:"165400",Jobs:"854",Job_density:"1332.390705",Housing_units:"1843",Housing_density:"2875.405233",Permit_density:"446.2104703",Permits_per_capita:"71.69716721",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530071807",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71807",GEOID:"53053071807",NAME:"718.07",NAMELSAD:"Census Tract 718.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4169671",AWATER:"71854",INTPTLAT:"47.1696254",INTPTLON:"-122.4954777",Shape_Leng:"11225.60136",Shape_Area:"4241532.757",NHPD_Units:"76",Permits:"77",Pop:"3383",Pop_density:"2101.347991",Non_white_share:"0.639077742",White_non_hisp:"0.360922258",Black_non_hisp:"0.155483299",Asian_non_Hisp:"0.096955365",Hispanic:"0.267514041",Workers:"1586",Transit_to_work:"0.030895334",Walk_to_Work:"0.036569987",Bike_to_work:"0",Green_commute_share:"0.067465322",BA_plus_25_plus:"0.182857143",Med_HH_inc:"50288",Cost_burdened:"0.560521415",Very_cost_burdened:"0.269087523",Med_housing_value:"180600",Jobs:"6711",Job_density:"4168.532771",Housing_units:"1690",Housing_density:"1049.742271",Permit_density:"47.82849402",Permits_per_capita:"22.76086314",Subsidized_hsg_share:"0.044970414"},{TRACT_ID:"G5300530071808",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71808",GEOID:"53053071808",NAME:"718.08",NAMELSAD:"Census Tract 718.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1940884",AWATER:"133777",INTPTLAT:"47.1783805",INTPTLON:"-122.4746903",Shape_Leng:"5743.860631",Shape_Area:"2074660.447",NHPD_Units:"107",Permits:"4",Pop:"4248",Pop_density:"5668.689882",Non_white_share:"0.686911488",White_non_hisp:"0.313088512",Black_non_hisp:"0.120762712",Asian_non_Hisp:"0.05673258",Hispanic:"0.382768362",Workers:"1982",Transit_to_work:"0.038345106",Walk_to_Work:"0.014127144",Bike_to_work:"0.003027245",Green_commute_share:"0.055499495",BA_plus_25_plus:"0.108275329",Med_HH_inc:"44366",Cost_burdened:"0.495090016",Very_cost_burdened:"0.292962357",Med_housing_value:"175300",Jobs:"2493",Job_density:"3326.752325",Housing_units:"1813",Housing_density:"2419.334924",Permit_density:"5.337749418",Permits_per_capita:"0.941619586",Subsidized_hsg_share:"0.059018202"},{TRACT_ID:"G5300530071901",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71901",GEOID:"53053071901",NAME:"719.01",NAMELSAD:"Census Tract 719.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4157488",AWATER:"17400",INTPTLAT:"47.1580824",INTPTLON:"-122.5177253",Shape_Leng:"11215.06898",Shape_Area:"4174889.792",NHPD_Units:"168",Permits:"225",Pop:"5344",Pop_density:"3329.148866",Non_white_share:"0.53125",White_non_hisp:"0.46875",Black_non_hisp:"0.113023952",Asian_non_Hisp:"0.034056886",Hispanic:"0.198727545",Workers:"2593",Transit_to_work:"0.057462399",Walk_to_Work:"0.013112225",Bike_to_work:"0",Green_commute_share:"0.070574624",BA_plus_25_plus:"0.190647482",Med_HH_inc:"60179",Cost_burdened:"0.445059289",Very_cost_burdened:"0.285375494",Med_housing_value:"306000",Jobs:"6113",Job_density:"3808.212391",Housing_units:"2430",Housing_density:"1513.815821",Permit_density:"140.1681315",Permits_per_capita:"42.10329341",Subsidized_hsg_share:"0.069135802"},{TRACT_ID:"G5300530071902",STATEFP:"53",COUNTYFP:"53",TRACTCE:"71902",GEOID:"53053071902",NAME:"719.02",NAMELSAD:"Census Tract 719.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6159536",AWATER:"2869038",INTPTLAT:"47.1530137",INTPTLON:"-122.5374064",Shape_Leng:"16660.4414",Shape_Area:"9028573.367",NHPD_Units:"0",Permits:"165",Pop:"5379",Pop_density:"2261.784986",Non_white_share:"0.369213608",White_non_hisp:"0.630786392",Black_non_hisp:"0.083658673",Asian_non_Hisp:"0.060234244",Hispanic:"0.121955754",Workers:"2187",Transit_to_work:"0.058984911",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.058984911",BA_plus_25_plus:"0.380918049",Med_HH_inc:"77656",Cost_burdened:"0.416470588",Very_cost_burdened:"0.254117647",Med_housing_value:"361000",Jobs:"891",Job_density:"374.6515007",Housing_units:"2233",Housing_density:"938.9414154",Permit_density:"69.37990754",Permits_per_capita:"30.67484663",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072000",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72000",GEOID:"53053072000",NAME:"720",NAMELSAD:"Census Tract 720",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2633844",AWATER:"493470",INTPTLAT:"47.1229256",INTPTLON:"-122.5401796",Shape_Leng:"12613.90154",Shape_Area:"3127307.752",NHPD_Units:"0",Permits:"115",Pop:"4505",Pop_density:"4429.987667",Non_white_share:"0.510987791",White_non_hisp:"0.489012209",Black_non_hisp:"0.069256382",Asian_non_Hisp:"0.023085461",Hispanic:"0.190011099",Workers:"2065",Transit_to_work:"0.059564165",Walk_to_Work:"0.048910412",Bike_to_work:"0.02905569",Green_commute_share:"0.137530266",BA_plus_25_plus:"0.089008552",Med_HH_inc:"39984",Cost_burdened:"0.55407855",Very_cost_burdened:"0.224773414",Med_housing_value:"207900",Jobs:"586",Job_density:"576.2425689",Housing_units:"2375",Housing_density:"2335.454097",Permit_density:"113.0851458",Permits_per_capita:"25.52719201",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072105",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72105",GEOID:"53053072105",NAME:"721.05",NAMELSAD:"Census Tract 721.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4668627",AWATER:"21731",INTPTLAT:"47.1871468",INTPTLON:"-122.553261",Shape_Leng:"11205.14463",Shape_Area:"4690362.474",NHPD_Units:"0",Permits:"23",Pop:"5636",Pop_density:"3126.652223",Non_white_share:"0.367814053",White_non_hisp:"0.632185947",Black_non_hisp:"0.078246984",Asian_non_Hisp:"0.08623137",Hispanic:"0.081263307",Workers:"1888",Transit_to_work:"0.02065678",Walk_to_Work:"0.016949153",Bike_to_work:"0",Green_commute_share:"0.037605932",BA_plus_25_plus:"0.341970069",Med_HH_inc:"89792",Cost_burdened:"0.506802721",Very_cost_burdened:"0.149659864",Med_housing_value:"358400",Jobs:"361",Job_density:"200.2699526",Housing_units:"2093",Housing_density:"1161.121913",Permit_density:"12.75958147",Permits_per_capita:"4.080908446",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072106",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72106",GEOID:"53053072106",NAME:"721.06",NAMELSAD:"Census Tract 721.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3411072",AWATER:"0",INTPTLAT:"47.1861747",INTPTLON:"-122.5339376",Shape_Leng:"8515.3458",Shape_Area:"3411073.844",NHPD_Units:"0",Permits:"25",Pop:"6288",Pop_density:"4774.406766",Non_white_share:"0.489503817",White_non_hisp:"0.510496183",Black_non_hisp:"0.163963104",Asian_non_Hisp:"0.069974555",Hispanic:"0.092080153",Workers:"2914",Transit_to_work:"0.051475635",Walk_to_Work:"0.014070007",Bike_to_work:"0",Green_commute_share:"0.065545642",BA_plus_25_plus:"0.237590361",Med_HH_inc:"49167",Cost_burdened:"0.557757644",Very_cost_burdened:"0.233295583",Med_housing_value:"344700",Jobs:"1015",Job_density:"770.677937",Housing_units:"2886",Housing_density:"2191.306922",Permit_density:"18.9822152",Permits_per_capita:"3.975826972",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072107",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72107",GEOID:"53053072107",NAME:"721.07",NAMELSAD:"Census Tract 721.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4859181",AWATER:"187732",INTPTLAT:"47.1707817",INTPTLON:"-122.5576536",Shape_Leng:"9887.785229",Shape_Area:"5046914.381",NHPD_Units:"0",Permits:"89",Pop:"4324",Pop_density:"2304.731721",Non_white_share:"0.32400555",White_non_hisp:"0.67599445",Black_non_hisp:"0.050647549",Asian_non_Hisp:"0.074236818",Hispanic:"0.081406105",Workers:"2038",Transit_to_work:"0.012266928",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.012266928",BA_plus_25_plus:"0.292387019",Med_HH_inc:"88092",Cost_burdened:"0.298578199",Very_cost_burdened:"0.146919431",Med_housing_value:"326200",Jobs:"1325",Job_density:"706.2371717",Housing_units:"1962",Housing_density:"1045.764023",Permit_density:"47.43781757",Permits_per_capita:"20.58279371",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072108",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72108",GEOID:"53053072108",NAME:"721.08",NAMELSAD:"Census Tract 721.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3215637",AWATER:"970812",INTPTLAT:"47.1454232",INTPTLON:"-122.5576115",Shape_Leng:"9672.731657",Shape_Area:"4186450.157",NHPD_Units:"0",Permits:"126",Pop:"5367",Pop_density:"4322.772187",Non_white_share:"0.487982113",White_non_hisp:"0.512017887",Black_non_hisp:"0.07490218",Asian_non_Hisp:"0.052915968",Hispanic:"0.256754239",Workers:"2339",Transit_to_work:"0.018383925",Walk_to_Work:"0.031209919",Bike_to_work:"0",Green_commute_share:"0.049593844",BA_plus_25_plus:"0.213857775",Med_HH_inc:"74406",Cost_burdened:"0.464326161",Very_cost_burdened:"0.184597961",Med_housing_value:"294500",Jobs:"1365",Job_density:"1099.419422",Housing_units:"2198",Housing_density:"1770.347171",Permit_density:"101.4848697",Permits_per_capita:"23.47680268",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072109",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72109",GEOID:"53053072109",NAME:"721.09",NAMELSAD:"Census Tract 721.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3994555",AWATER:"10598283",INTPTLAT:"47.1659801",INTPTLON:"-122.631032",Shape_Leng:"17134.66898",Shape_Area:"4090240.104",NHPD_Units:"0",Permits:"195",Pop:"3301",Pop_density:"2140.301173",Non_white_share:"0.353529234",White_non_hisp:"0.646470766",Black_non_hisp:"0.053923054",Asian_non_Hisp:"0.059375947",Hispanic:"0.147531051",Workers:"1489",Transit_to_work:"0.005372733",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.005372733",BA_plus_25_plus:"0.554082056",Med_HH_inc:"85909",Cost_burdened:"0.389671362",Very_cost_burdened:"0.161971831",Med_housing_value:"420600",Jobs:"620",Job_density:"401.9953733",Housing_units:"1592",Housing_density:"1032.220378",Permit_density:"126.4340287",Permits_per_capita:"59.07300818",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072111",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72111",GEOID:"53053072111",NAME:"721.11",NAMELSAD:"Census Tract 721.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1946901",AWATER:"0",INTPTLAT:"47.1661679",INTPTLON:"-122.5908409",Shape_Leng:"7072.412106",Shape_Area:"1946904.273",NHPD_Units:"0",Permits:"116",Pop:"2945",Pop_density:"3917.77239",Non_white_share:"0.377928693",White_non_hisp:"0.622071307",Black_non_hisp:"0.03327674",Asian_non_Hisp:"0.044821732",Hispanic:"0.156876061",Workers:"1153",Transit_to_work:"0.057241977",Walk_to_Work:"0.027753686",Bike_to_work:"0.04509974",Green_commute_share:"0.130095403",BA_plus_25_plus:"0.29308666",Med_HH_inc:"90804",Cost_burdened:"0.345714286",Very_cost_burdened:"0.114285714",Med_housing_value:"348800",Jobs:"29",Job_density:"38.57908296",Housing_units:"1039",Housing_density:"1382.195421",Permit_density:"154.3163318",Permits_per_capita:"39.38879457",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072112",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72112",GEOID:"53053072112",NAME:"721.12",NAMELSAD:"Census Tract 721.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2407945",AWATER:"0",INTPTLAT:"47.1605593",INTPTLON:"-122.5773633",Shape_Leng:"10221.89056",Shape_Area:"2407943.643",NHPD_Units:"42",Permits:"92",Pop:"4845",Pop_density:"5211.286966",Non_white_share:"0.454695562",White_non_hisp:"0.545304438",Black_non_hisp:"0.123632611",Asian_non_Hisp:"0.067905057",Hispanic:"0.148194014",Workers:"2506",Transit_to_work:"0.041899441",Walk_to_Work:"0.006783719",Bike_to_work:"0.003591381",Green_commute_share:"0.052274541",BA_plus_25_plus:"0.256238588",Med_HH_inc:"79202",Cost_burdened:"0.496746204",Very_cost_burdened:"0.130151844",Med_housing_value:"311300",Jobs:"73",Job_density:"78.51887483",Housing_units:"1970",Housing_density:"2118.934019",Permit_density:"98.95529431",Permits_per_capita:"18.98864809",Subsidized_hsg_share:"0.021319797"},{TRACT_ID:"G5300530072305",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72305",GEOID:"53053072305",NAME:"723.05",NAMELSAD:"Census Tract 723.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4066566",AWATER:"0",INTPTLAT:"47.2311155",INTPTLON:"-122.5158341",Shape_Leng:"9678.571121",Shape_Area:"4066567.22",NHPD_Units:"0",Permits:"132",Pop:"6032",Pop_density:"3841.769267",Non_white_share:"0.221982759",White_non_hisp:"0.778017241",Black_non_hisp:"0.013925729",Asian_non_Hisp:"0.048740053",Hispanic:"0.038129973",Workers:"2838",Transit_to_work:"0.015503876",Walk_to_Work:"0.020084567",Bike_to_work:"0",Green_commute_share:"0.035588443",BA_plus_25_plus:"0.418809358",Med_HH_inc:"81169",Cost_burdened:"0.409090909",Very_cost_burdened:"0.191222571",Med_housing_value:"377200",Jobs:"1163",Job_density:"740.7124764",Housing_units:"2601",Housing_density:"1656.571927",Permit_density:"84.07054762",Permits_per_capita:"21.88328912",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072307",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72307",GEOID:"53053072307",NAME:"723.07",NAMELSAD:"Census Tract 723.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1953749",AWATER:"0",INTPTLAT:"47.2165495",INTPTLON:"-122.5529414",Shape_Leng:"7197.425637",Shape_Area:"1953748.79",NHPD_Units:"0",Permits:"59",Pop:"5085",Pop_density:"6740.932198",Non_white_share:"0.361061947",White_non_hisp:"0.638938053",Black_non_hisp:"0.132153392",Asian_non_Hisp:"0.048967552",Hispanic:"0.083382498",Workers:"2303",Transit_to_work:"0.051671733",Walk_to_Work:"0.004776379",Bike_to_work:"0",Green_commute_share:"0.056448111",BA_plus_25_plus:"0.349447926",Med_HH_inc:"72397",Cost_burdened:"0.386752137",Very_cost_burdened:"0.142094017",Med_housing_value:"349000",Jobs:"141",Job_density:"186.916704",Housing_units:"2085",Housing_density:"2763.981049",Permit_density:"78.2133726",Permits_per_capita:"11.6027532",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072309",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72309",GEOID:"53053072309",NAME:"723.09",NAMELSAD:"Census Tract 723.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3281057",AWATER:"2231211",INTPTLAT:"47.2193054",INTPTLON:"-122.5672166",Shape_Leng:"12558.40878",Shape_Area:"3281056.872",NHPD_Units:"0",Permits:"166",Pop:"6053",Pop_density:"4778.093776",Non_white_share:"0.30811168",White_non_hisp:"0.69188832",Black_non_hisp:"0.113167025",Asian_non_Hisp:"0.047414505",Hispanic:"0.079134314",Workers:"3064",Transit_to_work:"0.029699739",Walk_to_Work:"0.011096606",Bike_to_work:"0.019582245",Green_commute_share:"0.06037859",BA_plus_25_plus:"0.481933257",Med_HH_inc:"84211",Cost_burdened:"0.555445545",Very_cost_burdened:"0.256435644",Med_housing_value:"517800",Jobs:"224",Job_density:"176.8202554",Housing_units:"2613",Housing_density:"2062.639854",Permit_density:"131.0364393",Permits_per_capita:"27.42441764",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072310",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72310",GEOID:"53053072310",NAME:"723.1",NAMELSAD:"Census Tract 723.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2098991",AWATER:"0",INTPTLAT:"47.2295839",INTPTLON:"-122.5435661",Shape_Leng:"7629.06035",Shape_Area:"2098992.386",NHPD_Units:"0",Permits:"229",Pop:"3784",Pop_density:"4669.155327",Non_white_share:"0.247885835",White_non_hisp:"0.752114165",Black_non_hisp:"0.06448203",Asian_non_Hisp:"0.052061311",Hispanic:"0.074260042",Workers:"2052",Transit_to_work:"0.038011696",Walk_to_Work:"0.078947368",Bike_to_work:"0.004873294",Green_commute_share:"0.121832359",BA_plus_25_plus:"0.36461794",Med_HH_inc:"63713",Cost_burdened:"0.574494949",Very_cost_burdened:"0.203282828",Med_housing_value:"347700",Jobs:"1727",Job_density:"2130.980774",Housing_units:"1709",Housing_density:"2108.770205",Permit_density:"282.5678039",Permits_per_capita:"60.5179704",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072311",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72311",GEOID:"53053072311",NAME:"723.11",NAMELSAD:"Census Tract 723.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2443688",AWATER:"6948",INTPTLAT:"47.2314021",INTPTLON:"-122.5306088",Shape_Leng:"8052.847254",Shape_Area:"2450638.351",NHPD_Units:"250",Permits:"525",Pop:"5412",Pop_density:"5736.00871",Non_white_share:"0.459719143",White_non_hisp:"0.540280857",Black_non_hisp:"0.043237251",Asian_non_Hisp:"0.108277901",Hispanic:"0.189763489",Workers:"2410",Transit_to_work:"0.043153527",Walk_to_Work:"0.012448133",Bike_to_work:"0.002489627",Green_commute_share:"0.058091286",BA_plus_25_plus:"0.366578405",Med_HH_inc:"56429",Cost_burdened:"0.468264249",Very_cost_burdened:"0.200777202",Med_housing_value:"400400",Jobs:"2641",Job_density:"2799.112898",Housing_units:"2400",Housing_density:"2543.684572",Permit_density:"556.4310002",Permits_per_capita:"97.00665188",Subsidized_hsg_share:"0.104166667"},{TRACT_ID:"G5300530072312",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72312",GEOID:"53053072312",NAME:"723.12",NAMELSAD:"Census Tract 723.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2458908",AWATER:"0",INTPTLAT:"47.2043152",INTPTLON:"-122.5203159",Shape_Leng:"7761.947883",Shape_Area:"2458909.541",NHPD_Units:"352",Permits:"267",Pop:"6068",Pop_density:"6391.47453",Non_white_share:"0.448253131",White_non_hisp:"0.551746869",Black_non_hisp:"0.131344759",Asian_non_Hisp:"0.151450231",Hispanic:"0.028675016",Workers:"2772",Transit_to_work:"0.130952381",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.130952381",BA_plus_25_plus:"0.382821794",Med_HH_inc:"64922",Cost_burdened:"0.536663981",Very_cost_burdened:"0.16357776",Med_housing_value:"362600",Jobs:"745",Job_density:"784.7146547",Housing_units:"2601",Housing_density:"2739.654788",Permit_density:"281.2333058",Permits_per_capita:"44.00131839",Subsidized_hsg_share:"0.135332564"},{TRACT_ID:"G5300530072313",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72313",GEOID:"53053072313",NAME:"723.13",NAMELSAD:"Census Tract 723.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2558618",AWATER:"0",INTPTLAT:"47.2136116",INTPTLON:"-122.5174316",Shape_Leng:"7526.065243",Shape_Area:"2558618.943",NHPD_Units:"0",Permits:"677",Pop:"4312",Pop_density:"4364.86757",Non_white_share:"0.361317254",White_non_hisp:"0.638682746",Black_non_hisp:"0.028061224",Asian_non_Hisp:"0.181586271",Hispanic:"0.082328386",Workers:"2056",Transit_to_work:"0.02188716",Walk_to_Work:"0",Bike_to_work:"0.041342412",Green_commute_share:"0.063229572",BA_plus_25_plus:"0.434283727",Med_HH_inc:"93594",Cost_burdened:"0.296819788",Very_cost_burdened:"0.06360424",Med_housing_value:"367000",Jobs:"408",Job_density:"413.0023118",Housing_units:"1609",Housing_density:"1628.727254",Permit_density:"685.3004046",Permits_per_capita:"157.0037106",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072314",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72314",GEOID:"53053072314",NAME:"723.14",NAMELSAD:"Census Tract 723.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2666957",AWATER:"15852",INTPTLAT:"47.2034387",INTPTLON:"-122.5414093",Shape_Leng:"11778.35958",Shape_Area:"2682809.489",NHPD_Units:"0",Permits:"292",Pop:"4859",Pop_density:"4718.76833",Non_white_share:"0.352335872",White_non_hisp:"0.647664128",Black_non_hisp:"0.022844207",Asian_non_Hisp:"0.175138917",Hispanic:"0.060712081",Workers:"2146",Transit_to_work:"0.034482759",Walk_to_Work:"0.007455732",Bike_to_work:"0.016775396",Green_commute_share:"0.058713886",BA_plus_25_plus:"0.441303012",Med_HH_inc:"81742",Cost_burdened:"0.609150327",Very_cost_burdened:"0.262745098",Med_housing_value:"424600",Jobs:"547",Job_density:"531.2134753",Housing_units:"1967",Housing_density:"1910.232003",Permit_density:"283.5728241",Permits_per_capita:"60.09466969",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072315",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72315",GEOID:"53053072315",NAME:"723.15",NAMELSAD:"Census Tract 723.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4976720",AWATER:"9294382",INTPTLAT:"47.1985927",INTPTLON:"-122.5826736",Shape_Leng:"12803.12861",Shape_Area:"5083962.407",NHPD_Units:"0",Permits:"25",Pop:"2805",Pop_density:"1459.780066",Non_white_share:"0.287344029",White_non_hisp:"0.712655971",Black_non_hisp:"0.012477718",Asian_non_Hisp:"0.053832442",Hispanic:"0.085918004",Workers:"1344",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.560796646",Med_HH_inc:"111250",Cost_burdened:"0.169014085",Very_cost_burdened:"0",Med_housing_value:"390300",Jobs:"165",Job_density:"85.86941564",Housing_units:"1062",Housing_density:"552.6867843",Permit_density:"13.01051752",Permits_per_capita:"8.912655971",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072405",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72405",GEOID:"53053072405",NAME:"724.05",NAMELSAD:"Census Tract 724.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"11611332",AWATER:"15588733",INTPTLAT:"47.2955826",INTPTLON:"-122.6748896",Shape_Leng:"36342.818",Shape_Area:"11720619.66",NHPD_Units:"0",Permits:"318",Pop:"4074",Pop_density:"908.7339473",Non_white_share:"0.167648503",White_non_hisp:"0.832351497",Black_non_hisp:"0.000245459",Asian_non_Hisp:"0.026264114",Hispanic:"0.065537555",Workers:"1863",Transit_to_work:"0.003757381",Walk_to_Work:"0.006977992",Bike_to_work:"0",Green_commute_share:"0.010735373",BA_plus_25_plus:"0.527050611",Med_HH_inc:"130000",Cost_burdened:"0.275132275",Very_cost_burdened:"0.17989418",Med_housing_value:"634700",Jobs:"116",Job_density:"25.87460429",Housing_units:"1602",Housing_density:"357.3372075",Permit_density:"70.93210487",Permits_per_capita:"78.05596465",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072406",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72406",GEOID:"53053072406",NAME:"724.06",NAMELSAD:"Census Tract 724.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16779288",AWATER:"13279",INTPTLAT:"47.3077625",INTPTLON:"-122.6229515",Shape_Leng:"19077.99147",Shape_Area:"16792567.1",NHPD_Units:"9",Permits:"825",Pop:"6508",Pop_density:"1004.550528",Non_white_share:"0.241856177",White_non_hisp:"0.758143823",Black_non_hisp:"0.004302397",Asian_non_Hisp:"0.016287646",Hispanic:"0.053779963",Workers:"3348",Transit_to_work:"0.014635603",Walk_to_Work:"0.005077658",Bike_to_work:"0",Green_commute_share:"0.019713262",BA_plus_25_plus:"0.478454681",Med_HH_inc:"135163",Cost_burdened:"0.524115756",Very_cost_burdened:"0.398713826",Med_housing_value:"469000",Jobs:"847",Job_density:"130.7397507",Housing_units:"2664",Housing_density:"411.2050717",Permit_density:"127.343913",Permits_per_capita:"126.7670559",Subsidized_hsg_share:"0.003378378"},{TRACT_ID:"G5300530072407",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72407",GEOID:"53053072407",NAME:"724.07",NAMELSAD:"Census Tract 724.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5422703",AWATER:"4068418",INTPTLAT:"47.2984283",INTPTLON:"-122.5635099",Shape_Leng:"16804.11135",Shape_Area:"5422702.521",NHPD_Units:"87",Permits:"262",Pop:"5445",Pop_density:"2600.63759",Non_white_share:"0.163085399",White_non_hisp:"0.836914601",Black_non_hisp:"0.01010101",Asian_non_Hisp:"0.053259871",Hispanic:"0.0543618",Workers:"2568",Transit_to_work:"0.026869159",Walk_to_Work:"0.007788162",Bike_to_work:"0",Green_commute_share:"0.034657321",BA_plus_25_plus:"0.389077606",Med_HH_inc:"89246",Cost_burdened:"0.450507614",Very_cost_burdened:"0.265228426",Med_housing_value:"465100",Jobs:"1806",Job_density:"862.5806221",Housing_units:"2249",Housing_density:"1074.166013",Permit_density:"125.1362807",Permits_per_capita:"48.11753903",Subsidized_hsg_share:"0.038683859"},{TRACT_ID:"G5300530072408",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72408",GEOID:"53053072408",NAME:"724.08",NAMELSAD:"Census Tract 724.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15266925",AWATER:"5205736",INTPTLAT:"47.2877797",INTPTLON:"-122.5899163",Shape_Leng:"18803.53973",Shape_Area:"15266932.84",NHPD_Units:"0",Permits:"531",Pop:"6413",Pop_density:"1087.946247",Non_white_share:"0.203336972",White_non_hisp:"0.796663028",Black_non_hisp:"0.002183066",Asian_non_Hisp:"0.032901918",Hispanic:"0.040542648",Workers:"2537",Transit_to_work:"0.042569965",Walk_to_Work:"0.011430824",Bike_to_work:"0",Green_commute_share:"0.054000788",BA_plus_25_plus:"0.503314286",Med_HH_inc:"109491",Cost_burdened:"0.556179775",Very_cost_burdened:"0.348314607",Med_housing_value:"576500",Jobs:"4348",Job_density:"737.6251802",Housing_units:"2611",Housing_density:"442.9483315",Permit_density:"90.08255995",Permits_per_capita:"82.80056136",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072409",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72409",GEOID:"53053072409",NAME:"724.09",NAMELSAD:"Census Tract 724.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5871772",AWATER:"2575269",INTPTLAT:"47.2832879",INTPTLON:"-122.6150486",Shape_Leng:"12514.0822",Shape_Area:"5871771.972",NHPD_Units:"0",Permits:"200",Pop:"2447",Pop_density:"1079.350647",Non_white_share:"0.129546383",White_non_hisp:"0.870453617",Black_non_hisp:"0.002451982",Asian_non_Hisp:"0.01225991",Hispanic:"0.064977523",Workers:"1171",Transit_to_work:"0.021349274",Walk_to_Work:"0.005123826",Bike_to_work:"0",Green_commute_share:"0.0264731",BA_plus_25_plus:"0.504896627",Med_HH_inc:"115357",Cost_burdened:"0.45045045",Very_cost_burdened:"0.144144144",Med_housing_value:"568300",Jobs:"167",Job_density:"73.66226318",Housing_units:"1014",Housing_density:"447.2666759",Permit_density:"88.21827926",Permits_per_capita:"81.73273396",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072410",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72410",GEOID:"53053072410",NAME:"724.1",NAMELSAD:"Census Tract 724.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13451582",AWATER:"24995658",INTPTLAT:"47.2576862",INTPTLON:"-122.6465524",Shape_Leng:"25329.94017",Shape_Area:"13451599.43",NHPD_Units:"0",Permits:"468",Pop:"3613",Pop_density:"695.6525294",Non_white_share:"0.107389981",White_non_hisp:"0.892610019",Black_non_hisp:"0",Asian_non_Hisp:"0.011901467",Hispanic:"0.035704401",Workers:"1503",Transit_to_work:"0.007984032",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.007984032",BA_plus_25_plus:"0.47256439",Med_HH_inc:"125547",Cost_burdened:"0.383561644",Very_cost_burdened:"0",Med_housing_value:"716700",Jobs:"158",Job_density:"30.42156093",Housing_units:"1535",Housing_density:"295.5512407",Permit_density:"90.10943364",Permits_per_capita:"129.5322447",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072503",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72503",GEOID:"53053072503",NAME:"725.03",NAMELSAD:"Census Tract 725.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16313387",AWATER:"6220053",INTPTLAT:"47.3845558",INTPTLON:"-122.6606476",Shape_Leng:"19690.299",Shape_Area:"16313392.32",NHPD_Units:"0",Permits:"374",Pop:"4509",Pop_density:"715.8695119",Non_white_share:"0.158571745",White_non_hisp:"0.841428255",Black_non_hisp:"0.023064981",Asian_non_Hisp:"0.037480594",Hispanic:"0.051896208",Workers:"2251",Transit_to_work:"0.01776988",Walk_to_Work:"0.012883163",Bike_to_work:"0",Green_commute_share:"0.030653043",BA_plus_25_plus:"0.340834083",Med_HH_inc:"100962",Cost_burdened:"0.416243655",Very_cost_burdened:"0.360406091",Med_housing_value:"337800",Jobs:"431",Job_density:"68.42753596",Housing_units:"1833",Housing_density:"291.0154836",Permit_density:"59.37795464",Permits_per_capita:"82.94522067",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072504",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72504",GEOID:"53053072504",NAME:"725.04",NAMELSAD:"Census Tract 725.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14820179",AWATER:"7813881",INTPTLAT:"47.341315",INTPTLON:"-122.6325439",Shape_Leng:"27488.37118",Shape_Area:"14822531.1",NHPD_Units:"0",Permits:"522",Pop:"4878",Pop_density:"852.4837657",Non_white_share:"0.200902009",White_non_hisp:"0.799097991",Black_non_hisp:"0.030750308",Asian_non_Hisp:"0.030340303",Hispanic:"0.043460435",Workers:"1718",Transit_to_work:"0.007566938",Walk_to_Work:"0.006402794",Bike_to_work:"0",Green_commute_share:"0.013969732",BA_plus_25_plus:"0.365562914",Med_HH_inc:"122277",Cost_burdened:"0.267123288",Very_cost_burdened:"0.054794521",Med_housing_value:"545300",Jobs:"934",Job_density:"163.2266989",Housing_units:"1490",Housing_density:"260.3937702",Permit_density:"91.22520002",Permits_per_capita:"107.0110701",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072506",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72506",GEOID:"53053072506",NAME:"725.06",NAMELSAD:"Census Tract 725.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15282771",AWATER:"12194859",INTPTLAT:"47.3689109",INTPTLON:"-122.5482545",Shape_Leng:"20749.17634",Shape_Area:"15431269.75",NHPD_Units:"0",Permits:"553",Pop:"3944",Pop_density:"668.3940437",Non_white_share:"0.127535497",White_non_hisp:"0.872464503",Black_non_hisp:"0.005324544",Asian_non_Hisp:"0.067951318",Hispanic:"0.018255578",Workers:"1752",Transit_to_work:"0.011415525",Walk_to_Work:"0.01369863",Bike_to_work:"0",Green_commute_share:"0.025114155",BA_plus_25_plus:"0.488273616",Med_HH_inc:"110650",Cost_burdened:"0.358078603",Very_cost_burdened:"0.209606987",Med_housing_value:"521500",Jobs:"319",Job_density:"54.06128294",Housing_units:"1632",Housing_density:"276.5768457",Permit_density:"93.71752184",Permits_per_capita:"140.2129817",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072507",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72507",GEOID:"53053072507",NAME:"725.07",NAMELSAD:"Census Tract 725.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4145163",AWATER:"1585551",INTPTLAT:"47.3287892",INTPTLON:"-122.5856632",Shape_Leng:"12419.77357",Shape_Area:"4145168.517",NHPD_Units:"40",Permits:"358",Pop:"3271",Pop_density:"2043.792032",Non_white_share:"0.09385509",White_non_hisp:"0.90614491",Black_non_hisp:"0.014980128",Asian_non_Hisp:"0.005502904",Hispanic:"0.025985937",Workers:"1161",Transit_to_work:"0.008613264",Walk_to_Work:"0.032730405",Bike_to_work:"0",Green_commute_share:"0.041343669",BA_plus_25_plus:"0.454234713",Med_HH_inc:"76808",Cost_burdened:"0.562403698",Very_cost_burdened:"0.178736518",Med_housing_value:"631700",Jobs:"2413",Job_density:"1507.694947",Housing_units:"1763",Housing_density:"1101.560792",Permit_density:"223.6861961",Permits_per_capita:"109.4466524",Subsidized_hsg_share:"0.022688599"},{TRACT_ID:"G5300530072508",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72508",GEOID:"53053072508",NAME:"725.08",NAMELSAD:"Census Tract 725.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13577055",AWATER:"0",INTPTLAT:"47.3878766",INTPTLON:"-122.5979963",Shape_Leng:"17987.7575",Shape_Area:"13577056.84",NHPD_Units:"0",Permits:"421",Pop:"3996",Pop_density:"762.2855243",Non_white_share:"0.176676677",White_non_hisp:"0.823323323",Black_non_hisp:"0.007507508",Asian_non_Hisp:"0.013763764",Hispanic:"0.094844845",Workers:"1518",Transit_to_work:"0.046113307",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.046113307",BA_plus_25_plus:"0.379847531",Med_HH_inc:"88333",Cost_burdened:"0.280851064",Very_cost_burdened:"0",Med_housing_value:"416300",Jobs:"2114",Job_density:"403.2711707",Housing_units:"1668",Housing_density:"318.1912549",Permit_density:"80.31086229",Permits_per_capita:"105.3553554",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072509",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72509",GEOID:"53053072509",NAME:"725.09",NAMELSAD:"Census Tract 725.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8102345",AWATER:"3474",INTPTLAT:"47.356225",INTPTLON:"-122.5970682",Shape_Leng:"13487.1299",Shape_Area:"8105819.73",NHPD_Units:"0",Permits:"1446",Pop:"5062",Pop_density:"1618.114239",Non_white_share:"0.16851047",White_non_hisp:"0.83148953",Black_non_hisp:"0.003358356",Asian_non_Hisp:"0.098182537",Hispanic:"0.055709206",Workers:"1940",Transit_to_work:"0.003608247",Walk_to_Work:"0",Bike_to_work:"0.027835052",Green_commute_share:"0.031443299",BA_plus_25_plus:"0.616076611",Med_HH_inc:"102371",Cost_burdened:"0.366754617",Very_cost_burdened:"0.079155673",Med_housing_value:"521200",Jobs:"2393",Job_density:"764.9441671",Housing_units:"2021",Housing_density:"646.0309911",Permit_density:"462.2270229",Permits_per_capita:"285.6578427",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072601",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72601",GEOID:"53053072601",NAME:"726.01",NAMELSAD:"Census Tract 726.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"44340912",AWATER:"2325719",INTPTLAT:"47.3761635",INTPTLON:"-122.7468956",Shape_Leng:"33019.96046",Shape_Area:"44602520.26",NHPD_Units:"0",Permits:"579",Pop:"5709",Pop_density:"333.467253",Non_white_share:"0.137151865",White_non_hisp:"0.862848135",Black_non_hisp:"0.019092661",Asian_non_Hisp:"0.011560694",Hispanic:"0.031704327",Workers:"2667",Transit_to_work:"0.010123735",Walk_to_Work:"0.003749531",Bike_to_work:"0",Green_commute_share:"0.013873266",BA_plus_25_plus:"0.256836461",Med_HH_inc:"98587",Cost_burdened:"0.274111675",Very_cost_burdened:"0.233502538",Med_housing_value:"318200",Jobs:"309",Job_density:"18.04893697",Housing_units:"2072",Housing_density:"121.0271761",Permit_density:"33.81985278",Permits_per_capita:"101.4188124",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072602",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72602",GEOID:"53053072602",NAME:"726.02",NAMELSAD:"Census Tract 726.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"43343709",AWATER:"38487193",INTPTLAT:"47.3099593",INTPTLON:"-122.7642334",Shape_Leng:"51880.67561",Shape_Area:"43424504.89",NHPD_Units:"0",Permits:"548",Pop:"4127",Pop_density:"246.6074357",Non_white_share:"0.113884177",White_non_hisp:"0.886115823",Black_non_hisp:"0",Asian_non_Hisp:"0.000242307",Hispanic:"0.013569179",Workers:"1543",Transit_to_work:"0.02073882",Walk_to_Work:"0.009721322",Bike_to_work:"0",Green_commute_share:"0.030460143",BA_plus_25_plus:"0.232459016",Med_HH_inc:"76111",Cost_burdened:"0.14516129",Very_cost_burdened:"0.14516129",Med_housing_value:"338600",Jobs:"593",Job_density:"35.43450676",Housing_units:"2296",Housing_density:"137.1966737",Permit_density:"32.74554756",Permits_per_capita:"132.7841047",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072603",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72603",GEOID:"53053072603",NAME:"726.03",NAMELSAD:"Census Tract 726.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"91219718",AWATER:"107948668",INTPTLAT:"47.2094984",INTPTLON:"-122.6842971",Shape_Leng:"101910.5822",Shape_Area:"92319592.12",NHPD_Units:"0",Permits:"1051",Pop:"6535",Pop_density:"185.5472991",Non_white_share:"0.171690895",White_non_hisp:"0.828309105",Black_non_hisp:"0.011629686",Asian_non_Hisp:"0.038408569",Hispanic:"0.031828615",Workers:"2277",Transit_to_work:"0.003513395",Walk_to_Work:"0.03030303",Bike_to_work:"0",Green_commute_share:"0.033816425",BA_plus_25_plus:"0.194821429",Med_HH_inc:"63465",Cost_burdened:"0.687679083",Very_cost_burdened:"0.318051576",Med_housing_value:"308500",Jobs:"229",Job_density:"6.501963504",Housing_units:"3515",Housing_density:"99.80088085",Permit_density:"29.84088927",Permits_per_capita:"160.8263198",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072801",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72801",GEOID:"53053072801",NAME:"728.01",NAMELSAD:"Census Tract 728.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13340758",AWATER:"5849362",INTPTLAT:"47.1062582",INTPTLON:"-122.6616084",Shape_Leng:"24525.05397",Shape_Area:"13713665.35",NHPD_Units:"0",Permits:"1683",Pop:"4745",Pop_density:"921.1990491",Non_white_share:"0.422550053",White_non_hisp:"0.577449947",Black_non_hisp:"0.105374078",Asian_non_Hisp:"0.05711275",Hispanic:"0.18061117",Workers:"2460",Transit_to_work:"0.016666667",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.016666667",BA_plus_25_plus:"0.623545999",Med_HH_inc:"110642",Cost_burdened:"0.314647378",Very_cost_burdened:"0",Med_housing_value:"371000",Jobs:"727",Job_density:"141.1405076",Housing_units:"1719",Housing_density:"333.7283805",Permit_density:"326.7393044",Permits_per_capita:"354.6891465",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072802",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72802",GEOID:"53053072802",NAME:"728.02",NAMELSAD:"Census Tract 728.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4363074",AWATER:"0",INTPTLAT:"47.0988979",INTPTLON:"-122.6379447",Shape_Leng:"9466.981309",Shape_Area:"4363075.946",NHPD_Units:"0",Permits:"941",Pop:"4769",Pop_density:"2830.952053",Non_white_share:"0.308869784",White_non_hisp:"0.691130216",Black_non_hisp:"0.059551269",Asian_non_Hisp:"0.090165653",Hispanic:"0.092052841",Workers:"2327",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.592772548",Med_HH_inc:"90488",Cost_burdened:"0.360162602",Very_cost_burdened:"0.155284553",Med_housing_value:"310600",Jobs:"2464",Job_density:"1462.668454",Housing_units:"2404",Housing_density:"1427.051528",Permit_density:"558.5921329",Permits_per_capita:"197.3159992",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072901",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72901",GEOID:"53053072901",NAME:"729.01",NAMELSAD:"Census Tract 729.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"18337450",AWATER:"3086",INTPTLAT:"47.1296327",INTPTLON:"-122.4909192",Shape_Leng:"26379.22435",Shape_Area:"18340545.48",NHPD_Units:"0",Permits:"3",Pop:"3268",Pop_density:"461.5735091",Non_white_share:"0.467258262",White_non_hisp:"0.532741738",Black_non_hisp:"0.066401469",Asian_non_Hisp:"0.038249694",Hispanic:"0.233170135",Workers:"1796",Transit_to_work:"0",Walk_to_Work:"0.050111359",Bike_to_work:"0.035634744",Green_commute_share:"0.085746102",BA_plus_25_plus:"0.210973725",Med_HH_inc:"46087",Cost_burdened:"0.654618474",Very_cost_burdened:"0.477911647",Med_housing_value:"0",Jobs:"463",Job_density:"65.39428847",Housing_units:"996",Housing_density:"140.6754024",Permit_density:"0.423721092",Permits_per_capita:"0.917992656",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072903",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72903",GEOID:"53053072903",NAME:"729.03",NAMELSAD:"Census Tract 729.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"26515857",AWATER:"3275333",INTPTLAT:"47.1293195",INTPTLON:"-122.6014267",Shape_Leng:"25199.91032",Shape_Area:"28485662.6",NHPD_Units:"0",Permits:"0",Pop:"6744",Pop_density:"658.7333691",Non_white_share:"0.551749703",White_non_hisp:"0.448250297",Black_non_hisp:"0.179567023",Asian_non_Hisp:"0.053529063",Hispanic:"0.181939502",Workers:"4030",Transit_to_work:"0",Walk_to_Work:"0.318610422",Bike_to_work:"0.006947891",Green_commute_share:"0.325558313",BA_plus_25_plus:"0.263466471",Med_HH_inc:"50726",Cost_burdened:"0.679420889",Very_cost_burdened:"0.386763185",Med_housing_value:"0",Jobs:"1204",Job_density:"117.6030511",Housing_units:"1124",Housing_density:"109.7888948",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072907",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72907",GEOID:"53053072907",NAME:"729.07",NAMELSAD:"Census Tract 729.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16198912",AWATER:"0",INTPTLAT:"47.1061131",INTPTLON:"-122.5398573",Shape_Leng:"20747.83134",Shape_Area:"16198921.97",NHPD_Units:"0",Permits:"0",Pop:"4757",Pop_density:"760.5803057",Non_white_share:"0.547403826",White_non_hisp:"0.452596174",Black_non_hisp:"0.099642632",Asian_non_Hisp:"0.043304604",Hispanic:"0.291570317",Workers:"2061",Transit_to_work:"0.013585638",Walk_to_Work:"0.092673459",Bike_to_work:"0.005822416",Green_commute_share:"0.112081514",BA_plus_25_plus:"0.154653938",Med_HH_inc:"44771",Cost_burdened:"0.74308653",Very_cost_burdened:"0.421052632",Med_housing_value:"0",Jobs:"765",Job_density:"122.3132087",Housing_units:"1531",Housing_density:"244.786304",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072908",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72908",GEOID:"53053072908",NAME:"729.08",NAMELSAD:"Census Tract 729.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5849300",AWATER:"0",INTPTLAT:"47.0908899",INTPTLON:"-122.6067375",Shape_Leng:"12644.3752",Shape_Area:"5849304.747",NHPD_Units:"0",Permits:"0",Pop:"6550",Pop_density:"2900.248256",Non_white_share:"0.471755725",White_non_hisp:"0.528244275",Black_non_hisp:"0.166412214",Asian_non_Hisp:"0.023358779",Hispanic:"0.243664122",Workers:"2851",Transit_to_work:"0.003858295",Walk_to_Work:"0.060329709",Bike_to_work:"0.019291477",Green_commute_share:"0.083479481",BA_plus_25_plus:"0.263135041",Med_HH_inc:"39782",Cost_burdened:"0.864944216",Very_cost_burdened:"0.56899589",Med_housing_value:"0",Jobs:"396",Job_density:"175.3432533",Housing_units:"2121",Housing_density:"939.1490917",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530072909",STATEFP:"53",COUNTYFP:"53",TRACTCE:"72909",GEOID:"53053072909",NAME:"729.09",NAMELSAD:"Census Tract 729.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"228088426",AWATER:"2582186",INTPTLAT:"47.0302383",INTPTLON:"-122.550204",Shape_Leng:"101333.8252",Shape_Area:"230670621.7",NHPD_Units:"0",Permits:"2",Pop:"2030",Pop_density:"23.0510419",Non_white_share:"0.568965517",White_non_hisp:"0.431034483",Black_non_hisp:"0.173891626",Asian_non_Hisp:"0.119211823",Hispanic:"0.202955665",Workers:"2021",Transit_to_work:"0",Walk_to_Work:"0.369619",Bike_to_work:"0",Green_commute_share:"0.369619",BA_plus_25_plus:"0.029574861",Med_HH_inc:"0",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"0",Jobs:"363",Job_density:"4.121935078",Housing_units:"3",Housing_density:"0.034065579",Permit_density:"0.022710386",Permits_per_capita:"0.985221675",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073001",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73001",GEOID:"53053073001",NAME:"730.01",NAMELSAD:"Census Tract 730.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"64408241",AWATER:"947166",INTPTLAT:"46.969873",INTPTLON:"-122.4998643",Shape_Leng:"36566.7138",Shape_Area:"65355396.87",NHPD_Units:"6",Permits:"790",Pop:"6528",Pop_density:"262.5043336",Non_white_share:"0.07153799",White_non_hisp:"0.92846201",Black_non_hisp:"0.003829657",Asian_non_Hisp:"0.011182598",Hispanic:"0.040594363",Workers:"2805",Transit_to_work:"0.003208556",Walk_to_Work:"0.006773619",Bike_to_work:"0",Green_commute_share:"0.009982175",BA_plus_25_plus:"0.276104638",Med_HH_inc:"85474",Cost_burdened:"0.51984127",Very_cost_burdened:"0.21031746",Med_housing_value:"341100",Jobs:"474",Job_density:"19.06051687",Housing_units:"2786",Housing_density:"112.0308017",Permit_density:"31.76752812",Permits_per_capita:"121.0171569",Subsidized_hsg_share:"0.002153625"},{TRACT_ID:"G5300530073005",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73005",GEOID:"53053073005",NAME:"730.05",NAMELSAD:"Census Tract 730.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"53685629",AWATER:"74036",INTPTLAT:"46.9714101",INTPTLON:"-122.3918463",Shape_Leng:"30799.93432",Shape_Area:"53759669.21",NHPD_Units:"0",Permits:"629",Pop:"4430",Pop_density:"213.7191562",Non_white_share:"0.161851016",White_non_hisp:"0.838148984",Black_non_hisp:"0.022799097",Asian_non_Hisp:"0",Hispanic:"0.018510158",Workers:"2014",Transit_to_work:"0.000496524",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.000496524",BA_plus_25_plus:"0.124806442",Med_HH_inc:"69974",Cost_burdened:"0.25",Very_cost_burdened:"0.111842105",Med_housing_value:"342500",Jobs:"285",Job_density:"13.74942653",Housing_units:"1975",Housing_density:"95.28111364",Permit_density:"30.34522556",Permits_per_capita:"141.986456",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073006",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73006",GEOID:"53053073006",NAME:"730.06",NAMELSAD:"Census Tract 730.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"119200555",AWATER:"2550393",INTPTLAT:"46.8987367",INTPTLON:"-122.4185317",Shape_Leng:"59475.72121",Shape_Area:"121750944.2",NHPD_Units:"0",Permits:"707",Pop:"4306",Pop_density:"93.56071205",Non_white_share:"0.172782164",White_non_hisp:"0.827217836",Black_non_hisp:"0.028100325",Asian_non_Hisp:"0.009753832",Hispanic:"0.038086391",Workers:"1895",Transit_to_work:"0",Walk_to_Work:"0.04116095",Bike_to_work:"0",Green_commute_share:"0.04116095",BA_plus_25_plus:"0.245475485",Med_HH_inc:"87345",Cost_burdened:"0.25",Very_cost_burdened:"0.196969697",Med_housing_value:"280300",Jobs:"359",Job_density:"7.800347336",Housing_units:"1656",Housing_density:"35.98154648",Permit_density:"15.36168681",Permits_per_capita:"164.189503",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073110",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73110",GEOID:"53053073110",NAME:"731.1",NAMELSAD:"Census Tract 731.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5591668",AWATER:"138804",INTPTLAT:"47.1326283",INTPTLON:"-122.2536657",Shape_Leng:"12066.29698",Shape_Area:"5730469.729",NHPD_Units:"0",Permits:"253",Pop:"3899",Pop_density:"1805.966242",Non_white_share:"0.206719672",White_non_hisp:"0.793280328",Black_non_hisp:"0.02641703",Asian_non_Hisp:"0.015645037",Hispanic:"0.069248525",Workers:"1889",Transit_to_work:"0.012175754",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.012175754",BA_plus_25_plus:"0.36988252",Med_HH_inc:"94375",Cost_burdened:"0.343537415",Very_cost_burdened:"0.085034014",Med_housing_value:"354200",Jobs:"302",Job_density:"139.882484",Housing_units:"1489",Housing_density:"689.6854921",Permit_density:"117.1863193",Permits_per_capita:"64.88843293",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073111",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73111",GEOID:"53053073111",NAME:"731.11",NAMELSAD:"Census Tract 731.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3724016",AWATER:"8577",INTPTLAT:"47.1222681",INTPTLON:"-122.2774266",Shape_Leng:"9654.802946",Shape_Area:"3732592.397",NHPD_Units:"0",Permits:"445",Pop:"5144",Pop_density:"3577.562191",Non_white_share:"0.352643857",White_non_hisp:"0.647356143",Black_non_hisp:"0.044323484",Asian_non_Hisp:"0.021384137",Hispanic:"0.2031493",Workers:"2246",Transit_to_work:"0.022707035",Walk_to_Work:"0.003116652",Bike_to_work:"0",Green_commute_share:"0.025823687",BA_plus_25_plus:"0.232655695",Med_HH_inc:"79663",Cost_burdened:"0.652561247",Very_cost_burdened:"0.131403118",Med_housing_value:"290900",Jobs:"827",Job_density:"575.1640614",Housing_units:"1679",Housing_density:"1167.715186",Permit_density:"309.4897307",Permits_per_capita:"86.50855365",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073114",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73114",GEOID:"53053073114",NAME:"731.14",NAMELSAD:"Census Tract 731.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6898060",AWATER:"14377",INTPTLAT:"47.034908",INTPTLON:"-122.3776507",Shape_Leng:"16050.40509",Shape_Area:"6912436.283",NHPD_Units:"115",Permits:"290",Pop:"5319",Pop_density:"1997.104513",Non_white_share:"0.283887949",White_non_hisp:"0.716112051",Black_non_hisp:"0.063545779",Asian_non_Hisp:"0.035721",Hispanic:"0.070313969",Workers:"2310",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.089180503",Med_HH_inc:"67487",Cost_burdened:"0.421348315",Very_cost_burdened:"0.367977528",Med_housing_value:"254400",Jobs:"328",Job_density:"123.152901",Housing_units:"1928",Housing_density:"723.8987595",Permit_density:"108.8851868",Permits_per_capita:"54.5215266",Subsidized_hsg_share:"0.059647303"},{TRACT_ID:"G5300530073115",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73115",GEOID:"53053073115",NAME:"731.15",NAMELSAD:"Census Tract 731.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6850713",AWATER:"3197",INTPTLAT:"47.0394147",INTPTLON:"-122.3483495",Shape_Leng:"11713.64577",Shape_Area:"6853906.162",NHPD_Units:"0",Permits:"184",Pop:"4743",Pop_density:"1793.14381",Non_white_share:"0.221800548",White_non_hisp:"0.778199452",Black_non_hisp:"0.012650221",Asian_non_Hisp:"0.026776302",Hispanic:"0.060299389",Workers:"2563",Transit_to_work:"0.002341007",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.002341007",BA_plus_25_plus:"0.142944224",Med_HH_inc:"101068",Cost_burdened:"0.186721992",Very_cost_burdened:"0.074688797",Med_housing_value:"280000",Jobs:"76",Job_density:"28.7326438",Housing_units:"1641",Housing_density:"620.3982693",Permit_density:"69.56324288",Permits_per_capita:"38.79401223",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073116",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73116",GEOID:"53053073116",NAME:"731.16",NAMELSAD:"Census Tract 731.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16089294",AWATER:"48340",INTPTLAT:"47.0237735",INTPTLON:"-122.3219734",Shape_Leng:"17247.05871",Shape_Area:"16137632.14",NHPD_Units:"0",Permits:"649",Pop:"5070",Pop_density:"816.1476644",Non_white_share:"0.204536489",White_non_hisp:"0.795463511",Black_non_hisp:"0.029783037",Asian_non_Hisp:"0.032544379",Hispanic:"0.108481262",Workers:"2096",Transit_to_work:"0.018129771",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.018129771",BA_plus_25_plus:"0.199276554",Med_HH_inc:"100804",Cost_burdened:"0.158273381",Very_cost_burdened:"0.115107914",Med_housing_value:"349800",Jobs:"170",Job_density:"27.36589802",Housing_units:"1515",Housing_density:"243.8784441",Permit_density:"104.4733401",Permits_per_capita:"128.0078895",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073117",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73117",GEOID:"53053073117",NAME:"731.17",NAMELSAD:"Census Tract 731.17",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"49431871",AWATER:"230779",INTPTLAT:"46.968545",INTPTLON:"-122.3263276",Shape_Leng:"34186.54945",Shape_Area:"49662649.64",NHPD_Units:"0",Permits:"395",Pop:"3866",Pop_density:"202.559479",Non_white_share:"0.120020693",White_non_hisp:"0.879979307",Black_non_hisp:"0.037247801",Asian_non_Hisp:"0.011898603",Hispanic:"0.042679772",Workers:"1776",Transit_to_work:"0.031531532",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.031531532",BA_plus_25_plus:"0.190548204",Med_HH_inc:"95000",Cost_burdened:"0.383458647",Very_cost_burdened:"0.112781955",Med_housing_value:"362800",Jobs:"157",Job_density:"8.226031609",Housing_units:"1437",Housing_density:"75.29176702",Permit_density:"20.69606679",Permits_per_capita:"102.1727884",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073118",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73118",GEOID:"53053073118",NAME:"731.18",NAMELSAD:"Census Tract 731.18",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"31276309",AWATER:"247139",INTPTLAT:"47.0450185",INTPTLON:"-122.2380132",Shape_Leng:"28211.96155",Shape_Area:"31523444.04",NHPD_Units:"0",Permits:"429",Pop:"4709",Pop_density:"389.9518326",Non_white_share:"0.199830113",White_non_hisp:"0.800169887",Black_non_hisp:"0.036313442",Asian_non_Hisp:"0.021448291",Hispanic:"0.093862816",Workers:"2217",Transit_to_work:"0.01984664",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.01984664",BA_plus_25_plus:"0.172825138",Med_HH_inc:"88864",Cost_burdened:"0.621212121",Very_cost_burdened:"0.621212121",Med_housing_value:"365100",Jobs:"319",Job_density:"26.41635901",Housing_units:"1909",Housing_density:"158.0841046",Permit_density:"35.52544833",Permits_per_capita:"91.10214483",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073119",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73119",GEOID:"53053073119",NAME:"731.19",NAMELSAD:"Census Tract 731.19",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"95414437",AWATER:"3798921",INTPTLAT:"46.9720036",INTPTLON:"-122.2137899",Shape_Leng:"51185.23933",Shape_Area:"99213359.99",NHPD_Units:"0",Permits:"468",Pop:"2783",Pop_density:"75.54346216",Non_white_share:"0.188645347",White_non_hisp:"0.811354653",Black_non_hisp:"0.033057851",Asian_non_Hisp:"0.00323392",Hispanic:"0.08444125",Workers:"1210",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.171910625",Med_HH_inc:"83750",Cost_burdened:"0.58",Very_cost_burdened:"0.24",Med_housing_value:"332600",Jobs:"233",Job_density:"6.324695179",Housing_units:"1291",Housing_density:"35.04369732",Permit_density:"12.70367959",Permits_per_capita:"168.163852",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073120",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73120",GEOID:"53053073120",NAME:"731.2",NAMELSAD:"Census Tract 731.20",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3307319",AWATER:"9180",INTPTLAT:"47.1162168",INTPTLON:"-122.300881",Shape_Leng:"9756.399769",Shape_Area:"3316499.102",NHPD_Units:"216",Permits:"927",Pop:"5089",Pop_density:"3985.236832",Non_white_share:"0.3391629",White_non_hisp:"0.6608371",Black_non_hisp:"0.094321085",Asian_non_Hisp:"0.074867361",Hispanic:"0.073688347",Workers:"2244",Transit_to_work:"0.01114082",Walk_to_Work:"0.004456328",Bike_to_work:"0",Green_commute_share:"0.015597148",BA_plus_25_plus:"0.271592443",Med_HH_inc:"87174",Cost_burdened:"0.44989339",Very_cost_burdened:"0.12793177",Med_housing_value:"340200",Jobs:"786",Job_density:"615.5229219",Housing_units:"1659",Housing_density:"1299.176244",Permit_density:"725.941156",Permits_per_capita:"182.1575948",Subsidized_hsg_share:"0.130198915"},{TRACT_ID:"G5300530073121",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73121",GEOID:"53053073121",NAME:"731.21",NAMELSAD:"Census Tract 731.21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2849847",AWATER:"0",INTPTLAT:"47.1034973",INTPTLON:"-122.3054333",Shape_Leng:"7157.607974",Shape_Area:"2849846.769",NHPD_Units:"1",Permits:"660",Pop:"4559",Pop_density:"4143.294638",Non_white_share:"0.25466111",White_non_hisp:"0.74533889",Black_non_hisp:"0.020179864",Asian_non_Hisp:"0.035534108",Hispanic:"0.101776705",Workers:"2339",Transit_to_work:"0.0722531",Walk_to_Work:"0.003420265",Bike_to_work:"0",Green_commute_share:"0.075673365",BA_plus_25_plus:"0.358429858",Med_HH_inc:"96583",Cost_burdened:"0.448504983",Very_cost_burdened:"0.089700997",Med_housing_value:"364000",Jobs:"2378",Job_density:"2161.165749",Housing_units:"1629",Housing_density:"1480.462155",Permit_density:"599.8189211",Permits_per_capita:"144.7685896",Subsidized_hsg_share:"0.000613874"},{TRACT_ID:"G5300530073122",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73122",GEOID:"53053073122",NAME:"731.22",NAMELSAD:"Census Tract 731.22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5032204",AWATER:"0",INTPTLAT:"47.1057867",INTPTLON:"-122.2741688",Shape_Leng:"11816.5222",Shape_Area:"5032201.493",NHPD_Units:"0",Permits:"1019",Pop:"5505",Pop_density:"2833.32801",Non_white_share:"0.351316985",White_non_hisp:"0.648683015",Black_non_hisp:"0.013623978",Asian_non_Hisp:"0.045413261",Hispanic:"0.175658492",Workers:"2397",Transit_to_work:"0.021693784",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.021693784",BA_plus_25_plus:"0.27333132",Med_HH_inc:"98286",Cost_burdened:"0.642253521",Very_cost_burdened:"0.166197183",Med_housing_value:"331200",Jobs:"1144",Job_density:"588.7969562",Housing_units:"1859",Housing_density:"956.7950538",Permit_density:"524.4616244",Permits_per_capita:"185.1044505",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073123",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73123",GEOID:"53053073123",NAME:"731.23",NAMELSAD:"Census Tract 731.23",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"9375421",AWATER:"79596",INTPTLAT:"47.0899856",INTPTLON:"-122.2435437",Shape_Leng:"19692.43207",Shape_Area:"9455021.702",NHPD_Units:"0",Permits:"1492",Pop:"4826",Pop_density:"1333.196943",Non_white_share:"0.20928305",White_non_hisp:"0.79071695",Black_non_hisp:"0.01761293",Asian_non_Hisp:"0.074595939",Hispanic:"0.080190634",Workers:"2398",Transit_to_work:"0.020433695",Walk_to_Work:"0.003336113",Bike_to_work:"0.002085071",Green_commute_share:"0.025854879",BA_plus_25_plus:"0.323785002",Med_HH_inc:"120463",Cost_burdened:"0.358333333",Very_cost_burdened:"0.125",Med_housing_value:"399700",Jobs:"750",Job_density:"207.1897446",Housing_units:"1612",Housing_density:"445.3198244",Permit_density:"412.1694653",Permits_per_capita:"309.1587236",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073124",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73124",GEOID:"53053073124",NAME:"731.24",NAMELSAD:"Census Tract 731.24",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3917598",AWATER:"0",INTPTLAT:"47.0645059",INTPTLON:"-122.3041249",Shape_Leng:"9175.926371",Shape_Area:"3917599.176",NHPD_Units:"0",Permits:"616",Pop:"4674",Pop_density:"3090.057843",Non_white_share:"0.258023107",White_non_hisp:"0.741976893",Black_non_hisp:"0.039580659",Asian_non_Hisp:"0.036157467",Hispanic:"0.122593068",Workers:"2349",Transit_to_work:"0.005108557",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.005108557",BA_plus_25_plus:"0.147371816",Med_HH_inc:"89417",Cost_burdened:"0.610655738",Very_cost_burdened:"0.143442623",Med_housing_value:"282100",Jobs:"507",Job_density:"335.185992",Housing_units:"1672",Housing_density:"1105.386546",Permit_density:"407.2476747",Permits_per_capita:"131.7928969",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073126",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73126",GEOID:"53053073126",NAME:"731.26",NAMELSAD:"Census Tract 731.26",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1403627",AWATER:"0",INTPTLAT:"47.0907184",INTPTLON:"-122.3014936",Shape_Leng:"5013.28917",Shape_Area:"1403627.639",NHPD_Units:"0",Permits:"1039",Pop:"4579",Pop_density:"8449.221593",Non_white_share:"0.44048919",White_non_hisp:"0.55951081",Black_non_hisp:"0.073378467",Asian_non_Hisp:"0.126446822",Hispanic:"0.099585062",Workers:"1806",Transit_to_work:"0.044296788",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.044296788",BA_plus_25_plus:"0.273640167",Med_HH_inc:"89874",Cost_burdened:"0.340136054",Very_cost_burdened:"0.176870748",Med_housing_value:"303900",Jobs:"294",Job_density:"542.4920612",Housing_units:"1204",Housing_density:"2221.634156",Permit_density:"1917.174325",Permits_per_capita:"226.9054379",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073127",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73127",GEOID:"53053073127",NAME:"731.27",NAMELSAD:"Census Tract 731.27",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4652726",AWATER:"0",INTPTLAT:"47.1037071",INTPTLON:"-122.3351508",Shape_Leng:"10342.92637",Shape_Area:"4652726.293",NHPD_Units:"3",Permits:"606",Pop:"2736",Pop_density:"1523.022733",Non_white_share:"0.489766082",White_non_hisp:"0.510233918",Black_non_hisp:"0.152046784",Asian_non_Hisp:"0.088450292",Hispanic:"0.135599415",Workers:"1223",Transit_to_work:"0.083401472",Walk_to_Work:"0.007358953",Bike_to_work:"0",Green_commute_share:"0.090760425",BA_plus_25_plus:"0.150985915",Med_HH_inc:"76063",Cost_burdened:"0.701421801",Very_cost_burdened:"0.616113744",Med_housing_value:"279500",Jobs:"146",Job_density:"81.27241194",Housing_units:"1116",Housing_density:"621.232957",Permit_density:"337.3361756",Permits_per_capita:"221.4912281",Subsidized_hsg_share:"0.002688172"},{TRACT_ID:"G5300530073128",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73128",GEOID:"53053073128",NAME:"731.28",NAMELSAD:"Census Tract 731.28",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5248236",AWATER:"0",INTPTLAT:"47.0855495",INTPTLON:"-122.3387386",Shape_Leng:"9752.025189",Shape_Area:"5248239.305",NHPD_Units:"0",Permits:"1046",Pop:"7031",Pop_density:"3469.776588",Non_white_share:"0.608590528",White_non_hisp:"0.391409472",Black_non_hisp:"0.123453278",Asian_non_Hisp:"0.14478737",Hispanic:"0.168539326",Workers:"2898",Transit_to_work:"0.003795721",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.003795721",BA_plus_25_plus:"0.148382204",Med_HH_inc:"81391",Cost_burdened:"0.504054054",Very_cost_burdened:"0.228378378",Med_housing_value:"292800",Jobs:"1735",Job_density:"856.217093",Housing_units:"2085",Housing_density:"1028.941002",Permit_density:"516.1977402",Permits_per_capita:"148.769734",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073129",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73129",GEOID:"53053073129",NAME:"731.29",NAMELSAD:"Census Tract 731.29",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2844832",AWATER:"0",INTPTLAT:"47.0840181",INTPTLON:"-122.2841537",Shape_Leng:"6880.221649",Shape_Area:"2844831.606",NHPD_Units:"32",Permits:"1686",Pop:"5017",Pop_density:"4567.570369",Non_white_share:"0.324098067",White_non_hisp:"0.675901933",Black_non_hisp:"0.062786526",Asian_non_Hisp:"0.056408212",Hispanic:"0.091488938",Workers:"2482",Transit_to_work:"0.01369863",Walk_to_Work:"0.023368251",Bike_to_work:"0",Green_commute_share:"0.037066882",BA_plus_25_plus:"0.214842301",Med_HH_inc:"101926",Cost_burdened:"0.378737542",Very_cost_burdened:"0.378737542",Med_housing_value:"304800",Jobs:"167",Job_density:"152.0399146",Housing_units:"1372",Housing_density:"1249.094388",Permit_density:"1534.965845",Permits_per_capita:"336.0574048",Subsidized_hsg_share:"0.023323615"},{TRACT_ID:"G5300530073130",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73130",GEOID:"53053073130",NAME:"731.3",NAMELSAD:"Census Tract 731.30",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15751722",AWATER:"6944",INTPTLAT:"47.0628815",INTPTLON:"-122.265005",Shape_Leng:"21295.90048",Shape_Area:"15758663.15",NHPD_Units:"0",Permits:"423",Pop:"3780",Pop_density:"621.5291926",Non_white_share:"0.096825397",White_non_hisp:"0.903174603",Black_non_hisp:"0.014550265",Asian_non_Hisp:"0.028835979",Hispanic:"0.015608466",Workers:"1649",Transit_to_work:"0.0194057",Walk_to_Work:"0.000606428",Bike_to_work:"0",Green_commute_share:"0.020012129",BA_plus_25_plus:"0.185377547",Med_HH_inc:"81490",Cost_burdened:"0.486486486",Very_cost_burdened:"0",Med_housing_value:"319900",Jobs:"719",Job_density:"118.2220872",Housing_units:"1256",Housing_density:"206.5186947",Permit_density:"69.55207632",Permits_per_capita:"111.9047619",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073131",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73131",GEOID:"53053073131",NAME:"731.31",NAMELSAD:"Census Tract 731.31",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1781225",AWATER:"0",INTPTLAT:"47.0903402",INTPTLON:"-122.3177597",Shape_Leng:"6158.916821",Shape_Area:"1781225.013",NHPD_Units:"0",Permits:"622",Pop:"3311",Pop_density:"4814.355645",Non_white_share:"0.322863183",White_non_hisp:"0.677136817",Black_non_hisp:"0.022651767",Asian_non_Hisp:"0.137420719",Hispanic:"0.099667774",Workers:"1549",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.251105217",Med_HH_inc:"91188",Cost_burdened:"0.586907449",Very_cost_burdened:"0.126410835",Med_housing_value:"294400",Jobs:"251",Job_density:"364.9662539",Housing_units:"1270",Housing_density:"1846.642002",Permit_density:"904.4183664",Permits_per_capita:"187.858653",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073132",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73132",GEOID:"53053073132",NAME:"731.32",NAMELSAD:"Census Tract 731.32",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2124864",AWATER:"0",INTPTLAT:"47.0790429",INTPTLON:"-122.3076156",Shape_Leng:"8211.813027",Shape_Area:"2124866.915",NHPD_Units:"1",Permits:"1059",Pop:"4649",Pop_density:"5666.647242",Non_white_share:"0.40481824",White_non_hisp:"0.59518176",Black_non_hisp:"0.038287804",Asian_non_Hisp:"0.041729404",Hispanic:"0.10152721",Workers:"2331",Transit_to_work:"0.004719005",Walk_to_Work:"0.012012012",Bike_to_work:"0.01029601",Green_commute_share:"0.027027027",BA_plus_25_plus:"0.305210918",Med_HH_inc:"95313",Cost_burdened:"0.792079208",Very_cost_burdened:"0",Med_housing_value:"309800",Jobs:"60",Job_density:"73.13375662",Housing_units:"1427",Housing_density:"1739.364512",Permit_density:"1290.810804",Permits_per_capita:"227.7909228",Subsidized_hsg_share:"0.000700771"},{TRACT_ID:"G5300530073133",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73133",GEOID:"53053073133",NAME:"731.33",NAMELSAD:"Census Tract 731.33",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2351441",AWATER:"0",INTPTLAT:"47.0712029",INTPTLON:"-122.3237941",Shape_Leng:"7528.698308",Shape_Area:"2351441.655",NHPD_Units:"0",Permits:"548",Pop:"4536",Pop_density:"4996.164509",Non_white_share:"0.356040564",White_non_hisp:"0.643959436",Black_non_hisp:"0.055996473",Asian_non_Hisp:"0.009920635",Hispanic:"0.132716049",Workers:"2326",Transit_to_work:"0.015907137",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.015907137",BA_plus_25_plus:"0.243818943",Med_HH_inc:"88405",Cost_burdened:"0.35106383",Very_cost_burdened:"0.173758865",Med_housing_value:"297500",Jobs:"41",Job_density:"45.15933529",Housing_units:"1231",Housing_density:"1355.881506",Permit_density:"603.5930667",Permits_per_capita:"120.8112875",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073200",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73200",GEOID:"53053073200",NAME:"732",NAMELSAD:"Census Tract 732",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"547504633",AWATER:"11807979",INTPTLAT:"46.8389981",INTPTLON:"-122.1303032",Shape_Leng:"130165.1676",Shape_Area:"559312652.7",NHPD_Units:"28",Permits:"758",Pop:"6616",Pop_density:"31.29719879",Non_white_share:"0.17623942",White_non_hisp:"0.82376058",Black_non_hisp:"0",Asian_non_Hisp:"0.008917775",Hispanic:"0.086759371",Workers:"2948",Transit_to_work:"0.030529172",Walk_to_Work:"0.036295794",Bike_to_work:"0",Green_commute_share:"0.066824966",BA_plus_25_plus:"0.216389812",Med_HH_inc:"70190",Cost_burdened:"0.457429048",Very_cost_burdened:"0.317195326",Med_housing_value:"295000",Jobs:"1120",Job_density:"5.298195684",Housing_units:"2868",Housing_density:"13.56716538",Permit_density:"3.58574315",Permits_per_capita:"114.5707376",Subsidized_hsg_share:"0.009762901"},{TRACT_ID:"G5300530073301",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73301",GEOID:"53053073301",NAME:"733.01",NAMELSAD:"Census Tract 733.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14520024",AWATER:"269371",INTPTLAT:"47.2272148",INTPTLON:"-122.2362644",Shape_Leng:"19939.11051",Shape_Area:"14789392.03",NHPD_Units:"86",Permits:"522",Pop:"5483",Pop_density:"978.0221306",Non_white_share:"0.27630859",White_non_hisp:"0.72369141",Black_non_hisp:"0.007295276",Asian_non_Hisp:"0.018967718",Hispanic:"0.186576692",Workers:"2624",Transit_to_work:"0.01410061",Walk_to_Work:"0.030487805",Bike_to_work:"0.005335366",Green_commute_share:"0.04992378",BA_plus_25_plus:"0.28470956",Med_HH_inc:"61013",Cost_burdened:"0.525714286",Very_cost_burdened:"0.207142857",Med_housing_value:"354900",Jobs:"16802",Job_density:"2997.032252",Housing_units:"2446",Housing_density:"436.3016836",Permit_density:"93.11098891",Permits_per_capita:"95.20335583",Subsidized_hsg_share:"0.035159444"},{TRACT_ID:"G5300530073302",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73302",GEOID:"53053073302",NAME:"733.02",NAMELSAD:"Census Tract 733.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2963983",AWATER:"111738",INTPTLAT:"47.1972508",INTPTLON:"-122.2372015",Shape_Leng:"10861.87619",Shape_Area:"3075717.431",NHPD_Units:"0",Permits:"396",Pop:"4766",Pop_density:"4164.6269",Non_white_share:"0.173940411",White_non_hisp:"0.826059589",Black_non_hisp:"0.01426773",Asian_non_Hisp:"0.00482585",Hispanic:"0.112673101",Workers:"2122",Transit_to_work:"0.068331762",Walk_to_Work:"0.025447691",Bike_to_work:"0.004241282",Green_commute_share:"0.098020735",BA_plus_25_plus:"0.239822764",Med_HH_inc:"75272",Cost_burdened:"0.554411765",Very_cost_burdened:"0.135294118",Med_housing_value:"341000",Jobs:"877",Job_density:"766.3402836",Housing_units:"1981",Housing_density:"1731.037744",Permit_density:"346.0327848",Permits_per_capita:"83.08854385",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073404",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73404",GEOID:"53053073404",NAME:"734.04",NAMELSAD:"Census Tract 734.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6370780",AWATER:"32560",INTPTLAT:"47.1826415",INTPTLON:"-122.3069138",Shape_Leng:"11055.30402",Shape_Area:"6403340.341",NHPD_Units:"86",Permits:"250",Pop:"5755",Pop_density:"2339.647826",Non_white_share:"0.14821894",White_non_hisp:"0.85178106",Black_non_hisp:"0.00538662",Asian_non_Hisp:"0.086012163",Hispanic:"0.031798436",Workers:"2884",Transit_to_work:"0.07628294",Walk_to_Work:"0.019764216",Bike_to_work:"0",Green_commute_share:"0.096047157",BA_plus_25_plus:"0.20622303",Med_HH_inc:"73125",Cost_burdened:"0.481808159",Very_cost_burdened:"0.10584344",Med_housing_value:"327000",Jobs:"1799",Job_density:"731.3686253",Housing_units:"2449",Housing_density:"995.6207689",Permit_density:"101.6354399",Permits_per_capita:"43.44048653",Subsidized_hsg_share:"0.035116374"},{TRACT_ID:"G5300530073405",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73405",GEOID:"53053073405",NAME:"734.05",NAMELSAD:"Census Tract 734.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2968570",AWATER:"1196",INTPTLAT:"47.1759973",INTPTLON:"-122.2763481",Shape_Leng:"8508.250639",Shape_Area:"2969765.958",NHPD_Units:"1",Permits:"265",Pop:"3993",Pop_density:"3483.772498",Non_white_share:"0.376408715",White_non_hisp:"0.623591285",Black_non_hisp:"0.05785124",Asian_non_Hisp:"0.139744553",Hispanic:"0.110443276",Workers:"1812",Transit_to_work:"0.044701987",Walk_to_Work:"0.030353201",Bike_to_work:"0",Green_commute_share:"0.075055188",BA_plus_25_plus:"0.220910624",Med_HH_inc:"63385",Cost_burdened:"0.483503982",Very_cost_burdened:"0.219567691",Med_housing_value:"311000",Jobs:"3552",Job_density:"3099.013251",Housing_units:"1598",Housing_density:"1394.206975",Permit_density:"231.2045359",Permits_per_capita:"66.36614075",Subsidized_hsg_share:"0.000625782"},{TRACT_ID:"G5300530073406",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73406",GEOID:"53053073406",NAME:"734.06",NAMELSAD:"Census Tract 734.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4356552",AWATER:"55002",INTPTLAT:"47.1840148",INTPTLON:"-122.2645236",Shape_Leng:"12125.00196",Shape_Area:"4411557.239",NHPD_Units:"0",Permits:"698",Pop:"6386",Pop_density:"3796.503306",Non_white_share:"0.222518008",White_non_hisp:"0.777481992",Black_non_hisp:"0.020357031",Asian_non_Hisp:"0.039617914",Hispanic:"0.071875979",Workers:"3363",Transit_to_work:"0.01338091",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.01338091",BA_plus_25_plus:"0.298569451",Med_HH_inc:"87500",Cost_burdened:"0.43042292",Very_cost_burdened:"0.141882674",Med_housing_value:"370000",Jobs:"3296",Job_density:"1959.485577",Housing_units:"2510",Housing_density:"1492.20534",Permit_density:"414.9638753",Permits_per_capita:"109.3015972",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073407",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73407",GEOID:"53053073407",NAME:"734.07",NAMELSAD:"Census Tract 734.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2362084",AWATER:"88663",INTPTLAT:"47.1983845",INTPTLON:"-122.2976951",Shape_Leng:"7991.880711",Shape_Area:"2450747.104",NHPD_Units:"17",Permits:"34",Pop:"3337",Pop_density:"3658.968235",Non_white_share:"0.166916392",White_non_hisp:"0.833083608",Black_non_hisp:"0.014983518",Asian_non_Hisp:"0.028768355",Hispanic:"0.03296374",Workers:"1502",Transit_to_work:"0.107856192",Walk_to_Work:"0.042609854",Bike_to_work:"0",Green_commute_share:"0.150466045",BA_plus_25_plus:"0.263510848",Med_HH_inc:"62682",Cost_burdened:"0.363949483",Very_cost_burdened:"0.068886338",Med_housing_value:"311800",Jobs:"6960",Job_density:"7631.53099",Housing_units:"1553",Housing_density:"1702.840176",Permit_density:"37.28046748",Permits_per_capita:"10.18879233",Subsidized_hsg_share:"0.010946555"},{TRACT_ID:"G5300530073408",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73408",GEOID:"53053073408",NAME:"734.08",NAMELSAD:"Census Tract 734.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2745996",AWATER:"65728",INTPTLAT:"47.1994555",INTPTLON:"-122.3202118",Shape_Leng:"9535.312729",Shape_Area:"2811724.735",NHPD_Units:"0",Permits:"181",Pop:"4180",Pop_density:"3942.52224",Non_white_share:"0.171052632",White_non_hisp:"0.828947368",Black_non_hisp:"0.011004785",Asian_non_Hisp:"0.023205742",Hispanic:"0.098803828",Workers:"2079",Transit_to_work:"0.066378066",Walk_to_Work:"0.009139009",Bike_to_work:"0",Green_commute_share:"0.075517076",BA_plus_25_plus:"0.222333001",Med_HH_inc:"82296",Cost_burdened:"0.330645161",Very_cost_burdened:"0.147177419",Med_housing_value:"324100",Jobs:"951",Job_density:"896.970969",Housing_units:"1700",Housing_density:"1603.418136",Permit_density:"170.7168721",Permits_per_capita:"43.30143541",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073501",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73501",GEOID:"53053073501",NAME:"735.01",NAMELSAD:"Census Tract 735.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8516011",AWATER:"0",INTPTLAT:"47.2416946",INTPTLON:"-122.2721944",Shape_Leng:"15545.73842",Shape_Area:"8516012.858",NHPD_Units:"0",Permits:"1109",Pop:"4001",Pop_density:"1216.830559",Non_white_share:"0.097725569",White_non_hisp:"0.902274431",Black_non_hisp:"0",Asian_non_Hisp:"0.019245189",Hispanic:"0.054486378",Workers:"1993",Transit_to_work:"0.004515805",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.004515805",BA_plus_25_plus:"0.31356819",Med_HH_inc:"99375",Cost_burdened:"0.314893617",Very_cost_burdened:"0.165957447",Med_housing_value:"386900",Jobs:"612",Job_density:"186.1285435",Housing_units:"1519",Housing_density:"461.975911",Permit_density:"337.2819521",Permits_per_capita:"277.1807048",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530073502",STATEFP:"53",COUNTYFP:"53",TRACTCE:"73502",GEOID:"53053073502",NAME:"735.02",NAMELSAD:"Census Tract 735.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7829842",AWATER:"21131",INTPTLAT:"47.2213491",INTPTLON:"-122.2726529",Shape_Leng:"12988.95723",Shape_Area:"7850966.775",NHPD_Units:"0",Permits:"467",Pop:"4699",Pop_density:"1554.355009",Non_white_share:"0.112789955",White_non_hisp:"0.887210045",Black_non_hisp:"0",Asian_non_Hisp:"0.03617791",Hispanic:"0.025111726",Workers:"2729",Transit_to_work:"0.005130084",Walk_to_Work:"0.011725907",Bike_to_work:"0",Green_commute_share:"0.016855991",BA_plus_25_plus:"0.323305986",Med_HH_inc:"102917",Cost_burdened:"0.46692607",Very_cost_burdened:"0.089494163",Med_housing_value:"449000",Jobs:"300",Job_density:"99.23526338",Housing_units:"1758",Housing_density:"581.5186434",Permit_density:"154.4762267",Permits_per_capita:"99.38284741",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940001",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940001",GEOID:"53053940001",NAME:"9400.01",NAMELSAD:"Census Tract 9400.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3040357",AWATER:"13352495",INTPTLAT:"47.3047207",INTPTLON:"-122.4440514",Shape_Leng:"16662.00659",Shape_Area:"3040354.58",NHPD_Units:"0",Permits:"169",Pop:"2709",Pop_density:"2307.715111",Non_white_share:"0.246954596",White_non_hisp:"0.753045404",Black_non_hisp:"0.014396456",Asian_non_Hisp:"0.084533038",Hispanic:"0.052048726",Workers:"1327",Transit_to_work:"0.058779201",Walk_to_Work:"0.003767898",Bike_to_work:"0",Green_commute_share:"0.062547099",BA_plus_25_plus:"0.528217822",Med_HH_inc:"129000",Cost_burdened:"0.522522523",Very_cost_burdened:"0.045045045",Med_housing_value:"531300",Jobs:"203",Job_density:"172.9295561",Housing_units:"1153",Housing_density:"982.2058038",Permit_density:"143.9659851",Permits_per_capita:"62.38464378",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940002",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940002",GEOID:"53053940002",NAME:"9400.02",NAMELSAD:"Census Tract 9400.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13407931",AWATER:"171528",INTPTLAT:"47.2491493",INTPTLON:"-122.3641906",Shape_Leng:"20852.40542",Shape_Area:"13579459.75",NHPD_Units:"114",Permits:"344",Pop:"4393",Pop_density:"848.5886278",Non_white_share:"0.449578875",White_non_hisp:"0.550421125",Black_non_hisp:"0.078078762",Asian_non_Hisp:"0.094923742",Hispanic:"0.12702026",Workers:"2114",Transit_to_work:"0.019394513",Walk_to_Work:"0.024124882",Bike_to_work:"0",Green_commute_share:"0.043519395",BA_plus_25_plus:"0.219711853",Med_HH_inc:"76477",Cost_burdened:"0.513944223",Very_cost_burdened:"0.247011952",Med_housing_value:"350400",Jobs:"17776",Job_density:"3433.760858",Housing_units:"1475",Housing_density:"284.9233385",Permit_density:"66.44991759",Permits_per_capita:"78.30639654",Subsidized_hsg_share:"0.077288136"},{TRACT_ID:"G5300530940004",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940004",GEOID:"53053940004",NAME:"9400.04",NAMELSAD:"Census Tract 9400.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"17978201",AWATER:"73172",INTPTLAT:"47.2050049",INTPTLON:"-122.3726612",Shape_Leng:"21006.35541",Shape_Area:"18051376.63",NHPD_Units:"0",Permits:"229",Pop:"6228",Pop_density:"897.2224724",Non_white_share:"0.1992614",White_non_hisp:"0.8007386",Black_non_hisp:"0.019107258",Asian_non_Hisp:"0.041907514",Hispanic:"0.074020552",Workers:"2930",Transit_to_work:"0.029351536",Walk_to_Work:"0.005119454",Bike_to_work:"0",Green_commute_share:"0.03447099",BA_plus_25_plus:"0.252095422",Med_HH_inc:"84747",Cost_burdened:"0.458745875",Very_cost_burdened:"0.204620462",Med_housing_value:"346700",Jobs:"1321",Job_density:"190.3068218",Housing_units:"2610",Housing_density:"376.0036373",Permit_density:"32.99035745",Permits_per_capita:"36.76942839",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940005",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940005",GEOID:"53053940005",NAME:"9400.05",NAMELSAD:"Census Tract 9400.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4256512",AWATER:"0",INTPTLAT:"47.2792343",INTPTLON:"-122.3721884",Shape_Leng:"12160.45521",Shape_Area:"4256509.895",NHPD_Units:"0",Permits:"453",Pop:"6045",Pop_density:"3678.241275",Non_white_share:"0.419189413",White_non_hisp:"0.580810587",Black_non_hisp:"0.078081059",Asian_non_Hisp:"0.096443342",Hispanic:"0.143258892",Workers:"3310",Transit_to_work:"0.03836858",Walk_to_Work:"0.0081571",Bike_to_work:"0",Green_commute_share:"0.04652568",BA_plus_25_plus:"0.257184255",Med_HH_inc:"84172",Cost_burdened:"0.551470588",Very_cost_burdened:"0.269607843",Med_housing_value:"334100",Jobs:"544",Job_density:"331.0112909",Housing_units:"2182",Housing_density:"1327.696024",Permit_density:"275.6399169",Permits_per_capita:"74.93796526",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940006",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940006",GEOID:"53053940006",NAME:"9400.06",NAMELSAD:"Census Tract 9400.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1825259",AWATER:"0",INTPTLAT:"47.2153937",INTPTLON:"-122.401224",Shape_Leng:"5848.346575",Shape_Area:"1825256.722",NHPD_Units:"291",Permits:"1180",Pop:"3624",Pop_density:"5142.347969",Non_white_share:"0.777869757",White_non_hisp:"0.222130243",Black_non_hisp:"0.257726269",Asian_non_Hisp:"0.251931567",Hispanic:"0.090783664",Workers:"1308",Transit_to_work:"0.168960245",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.168960245",BA_plus_25_plus:"0.167920978",Med_HH_inc:"29500",Cost_burdened:"0.536585366",Very_cost_burdened:"0.177150193",Med_housing_value:"280800",Jobs:"123",Job_density:"174.5333334",Housing_units:"1269",Housing_density:"1800.673171",Permit_density:"1674.384824",Permits_per_capita:"325.607064",Subsidized_hsg_share:"0.229314421"},{TRACT_ID:"G5300530940007",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940007",GEOID:"53053940007",NAME:"9400.07",NAMELSAD:"Census Tract 9400.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2496188",AWATER:"26552",INTPTLAT:"47.232117",INTPTLON:"-122.4011947",Shape_Leng:"6961.895938",Shape_Area:"2522737.715",NHPD_Units:"0",Permits:"170",Pop:"3120",Pop_density:"3237.241307",Non_white_share:"0.644230769",White_non_hisp:"0.355769231",Black_non_hisp:"0.122115385",Asian_non_Hisp:"0.073397436",Hispanic:"0.194871795",Workers:"1296",Transit_to_work:"0.074074074",Walk_to_Work:"0.00617284",Bike_to_work:"0.002314815",Green_commute_share:"0.082561728",BA_plus_25_plus:"0.143356643",Med_HH_inc:"59940",Cost_burdened:"0.506849315",Very_cost_burdened:"0.23630137",Med_housing_value:"228000",Jobs:"1034",Job_density:"1072.854972",Housing_units:"1129",Housing_density:"1171.424819",Permit_density:"176.3881481",Permits_per_capita:"54.48717949",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940008",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940008",GEOID:"53053940008",NAME:"9400.08",NAMELSAD:"Census Tract 9400.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3054128",AWATER:"0",INTPTLAT:"47.2939996",INTPTLON:"-122.3954596",Shape_Leng:"9104.887833",Shape_Area:"3054128.862",NHPD_Units:"0",Permits:"112",Pop:"7174",Pop_density:"6083.757689",Non_white_share:"0.515054363",White_non_hisp:"0.484945637",Black_non_hisp:"0.164482855",Asian_non_Hisp:"0.108168386",Hispanic:"0.105519933",Workers:"3426",Transit_to_work:"0.056625803",Walk_to_Work:"0.00262697",Bike_to_work:"0.001459428",Green_commute_share:"0.060712201",BA_plus_25_plus:"0.395611157",Med_HH_inc:"90566",Cost_burdened:"0.522006141",Very_cost_burdened:"0.140225179",Med_housing_value:"410600",Jobs:"226",Job_density:"191.6544797",Housing_units:"2588",Housing_density:"2194.698202",Permit_density:"94.9792112",Permits_per_capita:"15.61193198",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940009",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940009",GEOID:"53053940009",NAME:"9400.09",NAMELSAD:"Census Tract 9400.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7888670",AWATER:"0",INTPTLAT:"47.2296303",INTPTLON:"-122.3128054",Shape_Leng:"12923.06876",Shape_Area:"7888670.929",NHPD_Units:"0",Permits:"586",Pop:"3746",Pop_density:"1229.877211",Non_white_share:"0.357981847",White_non_hisp:"0.642018153",Black_non_hisp:"0.037106247",Asian_non_Hisp:"0.136946076",Hispanic:"0.120928991",Workers:"1737",Transit_to_work:"0.019573978",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.019573978",BA_plus_25_plus:"0.310772502",Med_HH_inc:"98304",Cost_burdened:"0.546391753",Very_cost_burdened:"0.233676976",Med_housing_value:"446800",Jobs:"1480",Job_density:"485.9098433",Housing_units:"1428",Housing_density:"468.8373353",Permit_density:"192.3940325",Permits_per_capita:"156.4335291",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940010",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940010",GEOID:"53053940010",NAME:"9400.1",NAMELSAD:"Census Tract 9400.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8836063",AWATER:"244173",INTPTLAT:"47.2059958",INTPTLON:"-122.301554",Shape_Leng:"20260.67303",Shape_Area:"9080234.011",NHPD_Units:"0",Permits:"402",Pop:"4674",Pop_density:"1370.022421",Non_white_share:"0.323063757",White_non_hisp:"0.676936243",Black_non_hisp:"0.060119812",Asian_non_Hisp:"0.035515618",Hispanic:"0.096919127",Workers:"2524",Transit_to_work:"0.017432647",Walk_to_Work:"0.007527734",Bike_to_work:"0",Green_commute_share:"0.02496038",BA_plus_25_plus:"0.1920855",Med_HH_inc:"68750",Cost_burdened:"0.256678281",Very_cost_burdened:"0.033681765",Med_housing_value:"218100",Jobs:"6573",Job_density:"1926.648989",Housing_units:"2174",Housing_density:"637.2333642",Permit_density:"117.8324804",Permits_per_capita:"86.00770218",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940011",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940011",GEOID:"53053940011",NAME:"9400.11",NAMELSAD:"Census Tract 9400.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3752001",AWATER:"0",INTPTLAT:"47.3011396",INTPTLON:"-122.4159959",Shape_Leng:"15416.74846",Shape_Area:"3752000.903",NHPD_Units:"0",Permits:"122",Pop:"4250",Pop_density:"2933.754407",Non_white_share:"0.274117647",White_non_hisp:"0.725882353",Black_non_hisp:"0.045176471",Asian_non_Hisp:"0.125176471",Hispanic:"0.048",Workers:"1965",Transit_to_work:"0.037150127",Walk_to_Work:"0.017811705",Bike_to_work:"0",Green_commute_share:"0.054961832",BA_plus_25_plus:"0.516289172",Med_HH_inc:"123542",Cost_burdened:"0.139534884",Very_cost_burdened:"0.054263566",Med_housing_value:"499500",Jobs:"140",Job_density:"96.64132164",Housing_units:"1737",Housing_density:"1199.042684",Permit_density:"84.21600886",Permits_per_capita:"28.70588235",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940012",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940012",GEOID:"53053940012",NAME:"9400.12",NAMELSAD:"Census Tract 9400.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2450699",AWATER:"0",INTPTLAT:"47.2340349",INTPTLON:"-122.3458378",Shape_Leng:"6587.502471",Shape_Area:"2450701.909",NHPD_Units:"0",Permits:"465",Pop:"4022",Pop_density:"4250.596332",Non_white_share:"0.55420189",White_non_hisp:"0.44579811",Black_non_hisp:"0.076827449",Asian_non_Hisp:"0.138985579",Hispanic:"0.191198409",Workers:"2475",Transit_to_work:"0.033939394",Walk_to_Work:"0.038787879",Bike_to_work:"0",Green_commute_share:"0.072727273",BA_plus_25_plus:"0.204263566",Med_HH_inc:"65122",Cost_burdened:"0.407760381",Very_cost_burdened:"0.17699115",Med_housing_value:"334000",Jobs:"2942",Job_density:"3109.212931",Housing_units:"1894",Housing_density:"2001.648297",Permit_density:"491.4289643",Permits_per_capita:"115.6141223",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300530940013",STATEFP:"53",COUNTYFP:"53",TRACTCE:"940013",GEOID:"53053940013",NAME:"9400.13",NAMELSAD:"Census Tract 9400.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1628599",AWATER:"121638",INTPTLAT:"47.222257",INTPTLON:"-122.3495232",Shape_Leng:"5937.336723",Shape_Area:"1750232.899",NHPD_Units:"0",Permits:"1215",Pop:"3762",Pop_density:"5982.771248",Non_white_share:"0.591706539",White_non_hisp:"0.408293461",Black_non_hisp:"0.082402977",Asian_non_Hisp:"0.2102605",Hispanic:"0.14619883",Workers:"2064",Transit_to_work:"0.031007752",Walk_to_Work:"0.003875969",Bike_to_work:"0",Green_commute_share:"0.034883721",BA_plus_25_plus:"0.371391642",Med_HH_inc:"102475",Cost_burdened:"0.455813953",Very_cost_burdened:"0.16744186",Med_housing_value:"339000",Jobs:"381",Job_density:"605.9106447",Housing_units:"1186",Housing_density:"1886.11555",Permit_density:"1932.234733",Permits_per_capita:"322.9665072",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610040100",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40100",GEOID:"53061040100",NAME:"401",NAMELSAD:"Census Tract 401",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4793153",AWATER:"4015089",INTPTLAT:"48.00415",INTPTLON:"-122.2197294",Shape_Leng:"22077.35131",Shape_Area:"5085926.205",NHPD_Units:"0",Permits:"607",Pop:"4913",Pop_density:"2654.747634",Non_white_share:"0.217789538",White_non_hisp:"0.782210462",Black_non_hisp:"0.036026867",Asian_non_Hisp:"0.079991858",Hispanic:"0.060248321",Workers:"3029",Transit_to_work:"0.054143282",Walk_to_Work:"0.233410366",Bike_to_work:"0.002641136",Green_commute_share:"0.290194784",BA_plus_25_plus:"0.46562228",Med_HH_inc:"96891",Cost_burdened:"0.445255474",Very_cost_burdened:"0.223844282",Med_housing_value:"423900",Jobs:"9304",Job_density:"5027.431709",Housing_units:"1734",Housing_density:"936.9697532",Permit_density:"327.9934488",Permits_per_capita:"123.5497659",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610040200",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40200",GEOID:"53061040200",NAME:"402",NAMELSAD:"Census Tract 402",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2548388",AWATER:"432891",INTPTLAT:"48.002756",INTPTLON:"-122.187036",Shape_Leng:"7652.701337",Shape_Area:"2981275.396",NHPD_Units:"1192",Permits:"654",Pop:"6736",Pop_density:"6845.959058",Non_white_share:"0.398456057",White_non_hisp:"0.601543943",Black_non_hisp:"0.03162114",Asian_non_Hisp:"0.091448931",Hispanic:"0.117131829",Workers:"2815",Transit_to_work:"0.091651865",Walk_to_Work:"0.003552398",Bike_to_work:"0",Green_commute_share:"0.095204263",BA_plus_25_plus:"0.104885701",Med_HH_inc:"45728",Cost_burdened:"0.534048257",Very_cost_burdened:"0.307774799",Med_housing_value:"310600",Jobs:"1163",Job_density:"1181.984914",Housing_units:"2623",Housing_density:"2665.818083",Permit_density:"664.6759536",Permits_per_capita:"97.09026128",Subsidized_hsg_share:"0.454441479"},{TRACT_ID:"G5300610040300",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40300",GEOID:"53061040300",NAME:"403",NAMELSAD:"Census Tract 403",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1049264",AWATER:"0",INTPTLAT:"47.9941342",INTPTLON:"-122.2000385",Shape_Leng:"4551.420109",Shape_Area:"1049263.135",NHPD_Units:"0",Permits:"11",Pop:"3002",Pop_density:"7410.093463",Non_white_share:"0.125249833",White_non_hisp:"0.874750167",Black_non_hisp:"0.01332445",Asian_non_Hisp:"0.001665556",Hispanic:"0.05829447",Workers:"1643",Transit_to_work:"0.096165551",Walk_to_Work:"0.023128424",Bike_to_work:"0.005477785",Green_commute_share:"0.124771759",BA_plus_25_plus:"0.275984078",Med_HH_inc:"82850",Cost_burdened:"0.543925234",Very_cost_burdened:"0.310280374",Med_housing_value:"325700",Jobs:"665",Job_density:"1641.4764",Housing_units:"1398",Housing_density:"3450.803018",Permit_density:"27.1522412",Permits_per_capita:"3.664223851",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610040400",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40400",GEOID:"53061040400",NAME:"404",NAMELSAD:"Census Tract 404",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1681963",AWATER:"752091",INTPTLAT:"47.9855853",INTPTLON:"-122.2165614",Shape_Leng:"9799.294266",Shape_Area:"1681964.92",NHPD_Units:"122",Permits:"33",Pop:"4677",Pop_density:"7201.926791",Non_white_share:"0.285867009",White_non_hisp:"0.714132991",Black_non_hisp:"0.029719906",Asian_non_Hisp:"0.029933718",Hispanic:"0.150951465",Workers:"2686",Transit_to_work:"0.052866716",Walk_to_Work:"0.209977662",Bike_to_work:"0.002978407",Green_commute_share:"0.265822785",BA_plus_25_plus:"0.378151261",Med_HH_inc:"55428",Cost_burdened:"0.454887218",Very_cost_burdened:"0.171992481",Med_housing_value:"365900",Jobs:"889",Job_density:"1368.935839",Housing_units:"2084",Housing_density:"3209.06894",Permit_density:"50.81539109",Permits_per_capita:"7.055805003",Subsidized_hsg_share:"0.058541267"},{TRACT_ID:"G5300610040500",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40500",GEOID:"53061040500",NAME:"405",NAMELSAD:"Census Tract 405",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1820024",AWATER:"206137",INTPTLAT:"47.9849396",INTPTLON:"-122.1815113",Shape_Leng:"6471.685782",Shape_Area:"2026161.179",NHPD_Units:"0",Permits:"45",Pop:"2342",Pop_density:"3332.786905",Non_white_share:"0.200256191",White_non_hisp:"0.799743809",Black_non_hisp:"0.008966695",Asian_non_Hisp:"0.014517506",Hispanic:"0.099914603",Workers:"1248",Transit_to_work:"0.044871795",Walk_to_Work:"0",Bike_to_work:"0.00400641",Green_commute_share:"0.048878205",BA_plus_25_plus:"0.15613826",Med_HH_inc:"78810",Cost_burdened:"0.416918429",Very_cost_burdened:"0.202416918",Med_housing_value:"320600",Jobs:"829",Job_density:"1179.709797",Housing_units:"977",Housing_density:"1390.321437",Permit_density:"64.03732311",Permits_per_capita:"19.21434671",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610040700",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40700",GEOID:"53061040700",NAME:"407",NAMELSAD:"Census Tract 407",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2774974",AWATER:"70611",INTPTLAT:"47.9726652",INTPTLON:"-122.196742",Shape_Leng:"8974.544661",Shape_Area:"2845579.192",NHPD_Units:"708",Permits:"587",Pop:"4889",Pop_density:"4563.088473",Non_white_share:"0.315811004",White_non_hisp:"0.684188996",Black_non_hisp:"0.050930661",Asian_non_Hisp:"0.024544897",Hispanic:"0.132542442",Workers:"1657",Transit_to_work:"0.128545564",Walk_to_Work:"0.101388051",Bike_to_work:"0",Green_commute_share:"0.229933615",BA_plus_25_plus:"0.132009052",Med_HH_inc:"38125",Cost_burdened:"0.493430657",Very_cost_burdened:"0.297080292",Med_housing_value:"303000",Jobs:"10422",Job_density:"9727.246484",Housing_units:"2178",Housing_density:"2032.809714",Permit_density:"547.8692848",Permits_per_capita:"120.0654531",Subsidized_hsg_share:"0.325068871"},{TRACT_ID:"G5300610040800",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40800",GEOID:"53061040800",NAME:"408",NAMELSAD:"Census Tract 408",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1451147",AWATER:"1513961",INTPTLAT:"47.9807703",INTPTLON:"-122.2303214",Shape_Leng:"9052.269055",Shape_Area:"1451145.338",NHPD_Units:"157",Permits:"916",Pop:"2899",Pop_density:"5174.097133",Non_white_share:"0.172818213",White_non_hisp:"0.827181787",Black_non_hisp:"0.016212487",Asian_non_Hisp:"0.03380476",Hispanic:"0.04277337",Workers:"1802",Transit_to_work:"0.011098779",Walk_to_Work:"0.080466149",Bike_to_work:"0.007214206",Green_commute_share:"0.098779134",BA_plus_25_plus:"0.359413203",Med_HH_inc:"65223",Cost_burdened:"0.491992883",Very_cost_burdened:"0.21975089",Med_housing_value:"375000",Jobs:"4135",Job_density:"7380.093702",Housing_units:"1738",Housing_density:"3101.959578",Permit_density:"1634.864772",Permits_per_capita:"315.9710245",Subsidized_hsg_share:"0.090333717"},{TRACT_ID:"G5300610040900",STATEFP:"53",COUNTYFP:"61",TRACTCE:"40900",GEOID:"53061040900",NAME:"409",NAMELSAD:"Census Tract 409",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3307583",AWATER:"1063926",INTPTLAT:"47.9601341",INTPTLON:"-122.23608",Shape_Leng:"9981.553209",Shape_Area:"3316638.544",NHPD_Units:"0",Permits:"57",Pop:"3026",Pop_density:"2369.495799",Non_white_share:"0.280568407",White_non_hisp:"0.719431593",Black_non_hisp:"0.015532056",Asian_non_Hisp:"0.053205552",Hispanic:"0.097488434",Workers:"1595",Transit_to_work:"0.05015674",Walk_to_Work:"0.006896552",Bike_to_work:"0.008777429",Green_commute_share:"0.065830721",BA_plus_25_plus:"0.377622378",Med_HH_inc:"89875",Cost_burdened:"0.701342282",Very_cost_burdened:"0.406040268",Med_housing_value:"473000",Jobs:"215",Job_density:"168.3547907",Housing_units:"1150",Housing_density:"900.5023689",Permit_density:"44.63359568",Permits_per_capita:"18.83674818",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041000",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41000",GEOID:"53061041000",NAME:"410",NAMELSAD:"Census Tract 410",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3050205",AWATER:"0",INTPTLAT:"47.9602219",INTPTLON:"-122.2134422",Shape_Leng:"8504.413381",Shape_Area:"3050208.013",NHPD_Units:"20",Permits:"250",Pop:"5238",Pop_density:"4447.687195",Non_white_share:"0.26975945",White_non_hisp:"0.73024055",Black_non_hisp:"0.065101184",Asian_non_Hisp:"0.063001145",Hispanic:"0.06930126",Workers:"2679",Transit_to_work:"0.083240015",Walk_to_Work:"0.041433371",Bike_to_work:"0",Green_commute_share:"0.124673386",BA_plus_25_plus:"0.262782694",Med_HH_inc:"70000",Cost_burdened:"0.631163708",Very_cost_burdened:"0.307692308",Med_housing_value:"353200",Jobs:"4362",Job_density:"3703.858638",Housing_units:"2606",Housing_density:"2212.805046",Permit_density:"212.2798394",Permits_per_capita:"47.72814051",Subsidized_hsg_share:"0.007674597"},{TRACT_ID:"G5300610041100",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41100",GEOID:"53061041100",NAME:"411",NAMELSAD:"Census Tract 411",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2741345",AWATER:"6510",INTPTLAT:"47.9446678",INTPTLON:"-122.2205239",Shape_Leng:"8193.676776",Shape_Area:"2747854.687",NHPD_Units:"109",Permits:"253",Pop:"5011",Pop_density:"4734.32947",Non_white_share:"0.34703652",White_non_hisp:"0.65296348",Black_non_hisp:"0.037517462",Asian_non_Hisp:"0.099580922",Hispanic:"0.102973458",Workers:"2682",Transit_to_work:"0.054436987",Walk_to_Work:"0.035048471",Bike_to_work:"0.006711409",Green_commute_share:"0.096196868",BA_plus_25_plus:"0.32521936",Med_HH_inc:"88047",Cost_burdened:"0.408474576",Very_cost_burdened:"0.166101695",Med_housing_value:"387200",Jobs:"2296",Job_density:"2169.231783",Housing_units:"2168",Housing_density:"2048.299",Permit_density:"239.0312025",Permits_per_capita:"50.48892437",Subsidized_hsg_share:"0.050276753"},{TRACT_ID:"G5300610041201",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41201",GEOID:"53061041201",NAME:"412.01",NAMELSAD:"Census Tract 412.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1488873",AWATER:"0",INTPTLAT:"47.9447835",INTPTLON:"-122.2356418",Shape_Leng:"5379.522404",Shape_Area:"1488873.332",NHPD_Units:"22",Permits:"46",Pop:"3213",Pop_density:"5589.215332",Non_white_share:"0.27762216",White_non_hisp:"0.72237784",Black_non_hisp:"0.074074074",Asian_non_Hisp:"0.106442577",Hispanic:"0.049486461",Workers:"1798",Transit_to_work:"0.026140156",Walk_to_Work:"0.007230256",Bike_to_work:"0",Green_commute_share:"0.033370412",BA_plus_25_plus:"0.283363803",Med_HH_inc:"84094",Cost_burdened:"0.368115942",Very_cost_burdened:"0.115942029",Med_housing_value:"373500",Jobs:"21",Job_density:"36.53081916",Housing_units:"1192",Housing_density:"2073.558878",Permit_density:"80.01988959",Permits_per_capita:"14.31683785",Subsidized_hsg_share:"0.018456376"},{TRACT_ID:"G5300610041202",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41202",GEOID:"53061041202",NAME:"412.02",NAMELSAD:"Census Tract 412.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2667865",AWATER:"44326",INTPTLAT:"47.9282413",INTPTLON:"-122.2252643",Shape_Leng:"8120.698727",Shape_Area:"2712191.492",NHPD_Units:"156",Permits:"224",Pop:"6294",Pop_density:"6110.273633",Non_white_share:"0.506990785",White_non_hisp:"0.493009215",Black_non_hisp:"0.127899587",Asian_non_Hisp:"0.07864633",Hispanic:"0.261360025",Workers:"3073",Transit_to_work:"0.038724374",Walk_to_Work:"0",Bike_to_work:"0.022779043",Green_commute_share:"0.061503417",BA_plus_25_plus:"0.147760855",Med_HH_inc:"71604",Cost_burdened:"0.457953394",Very_cost_burdened:"0.28064843",Med_housing_value:"340200",Jobs:"2264",Job_density:"2197.912219",Housing_units:"2403",Housing_density:"2332.854709",Permit_density:"217.4612796",Permits_per_capita:"35.58945027",Subsidized_hsg_share:"0.064918851"},{TRACT_ID:"G5300610041301",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41301",GEOID:"53061041301",NAME:"413.01",NAMELSAD:"Census Tract 413.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4611438",AWATER:"1683121",INTPTLAT:"47.9331011",INTPTLON:"-122.3015587",Shape_Leng:"12033.61312",Shape_Area:"4611437.717",NHPD_Units:"0",Permits:"277",Pop:"6155",Pop_density:"3456.920991",Non_white_share:"0.218359058",White_non_hisp:"0.781640942",Black_non_hisp:"0.01056052",Asian_non_Hisp:"0.102843217",Hispanic:"0.036555646",Workers:"3200",Transit_to_work:"0.02875",Walk_to_Work:"0.015",Bike_to_work:"0.0028125",Green_commute_share:"0.0465625",BA_plus_25_plus:"0.414389161",Med_HH_inc:"103750",Cost_burdened:"0.367139959",Very_cost_burdened:"0.129817444",Med_housing_value:"622000",Jobs:"1595",Job_density:"895.8227425",Housing_units:"2357",Housing_density:"1323.795739",Permit_density:"155.5754857",Permits_per_capita:"45.00406174",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041303",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41303",GEOID:"53061041303",NAME:"413.03",NAMELSAD:"Census Tract 413.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3803711",AWATER:"0",INTPTLAT:"47.9408129",INTPTLON:"-122.2465473",Shape_Leng:"9619.33817",Shape_Area:"3803713.661",NHPD_Units:"244",Permits:"771",Pop:"4518",Pop_density:"3076.355244",Non_white_share:"0.372952634",White_non_hisp:"0.627047366",Black_non_hisp:"0.022797698",Asian_non_Hisp:"0.108676405",Hispanic:"0.175298805",Workers:"2316",Transit_to_work:"0.021588946",Walk_to_Work:"0.023316062",Bike_to_work:"0.003022453",Green_commute_share:"0.047927461",BA_plus_25_plus:"0.315979537",Med_HH_inc:"87642",Cost_burdened:"0.361904762",Very_cost_burdened:"0.170068027",Med_housing_value:"359000",Jobs:"1547",Job_density:"1053.369093",Housing_units:"1888",Housing_density:"1285.559695",Permit_density:"524.9822694",Permits_per_capita:"170.6507304",Subsidized_hsg_share:"0.129237288"},{TRACT_ID:"G5300610041304",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41304",GEOID:"53061041304",NAME:"413.04",NAMELSAD:"Census Tract 413.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"10191351",AWATER:"1060564",INTPTLAT:"47.9448887",INTPTLON:"-122.2664436",Shape_Leng:"15573.42057",Shape_Area:"10191352.55",NHPD_Units:"0",Permits:"127",Pop:"2906",Pop_density:"738.5189116",Non_white_share:"0.22092223",White_non_hisp:"0.77907777",Black_non_hisp:"0.002408809",Asian_non_Hisp:"0.108396421",Hispanic:"0.094287681",Workers:"1446",Transit_to_work:"0.007607192",Walk_to_Work:"0.012448133",Bike_to_work:"0.013831259",Green_commute_share:"0.033886584",BA_plus_25_plus:"0.549176471",Med_HH_inc:"118355",Cost_burdened:"0.244274809",Very_cost_burdened:"0.083969466",Med_housing_value:"644600",Jobs:"6942",Job_density:"1764.211385",Housing_units:"1099",Housing_density:"279.2953489",Permit_density:"32.2752587",Permits_per_capita:"43.7026841",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041400",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41400",GEOID:"53061041400",NAME:"414",NAMELSAD:"Census Tract 414",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3466238",AWATER:"0",INTPTLAT:"47.9419101",INTPTLON:"-122.2035977",Shape_Leng:"11144.28786",Shape_Area:"3466237.491",NHPD_Units:"43",Permits:"308",Pop:"5712",Pop_density:"4268.031245",Non_white_share:"0.343312325",White_non_hisp:"0.656687675",Black_non_hisp:"0.068627451",Asian_non_Hisp:"0.070553221",Hispanic:"0.172268908",Workers:"2999",Transit_to_work:"0.115038346",Walk_to_Work:"0.010336779",Bike_to_work:"0",Green_commute_share:"0.125375125",BA_plus_25_plus:"0.155312718",Med_HH_inc:"64375",Cost_burdened:"0.610169492",Very_cost_burdened:"0.477966102",Med_housing_value:"349000",Jobs:"1241",Job_density:"927.2805978",Housing_units:"2513",Housing_density:"1877.724531",Permit_density:"230.1389397",Permits_per_capita:"53.92156863",Subsidized_hsg_share:"0.017111023"},{TRACT_ID:"G5300610041500",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41500",GEOID:"53061041500",NAME:"415",NAMELSAD:"Census Tract 415",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5314200",AWATER:"291327",INTPTLAT:"47.9427427",INTPTLON:"-122.1834188",Shape_Leng:"12981.76616",Shape_Area:"5605529.161",NHPD_Units:"0",Permits:"229",Pop:"1633",Pop_density:"795.877194",Non_white_share:"0.28413962",White_non_hisp:"0.71586038",Black_non_hisp:"0.075933864",Asian_non_Hisp:"0.055725658",Hispanic:"0.082669933",Workers:"750",Transit_to_work:"0.054666667",Walk_to_Work:"0.029333333",Bike_to_work:"0.008",Green_commute_share:"0.092",BA_plus_25_plus:"0.277732128",Med_HH_inc:"73229",Cost_burdened:"0.513157895",Very_cost_burdened:"0.157894737",Med_housing_value:"384000",Jobs:"208",Job_density:"101.3732127",Housing_units:"660",Housing_density:"321.6650018",Permit_density:"111.6080082",Permits_per_capita:"140.2327006",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041601",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41601",GEOID:"53061041601",NAME:"416.01",NAMELSAD:"Census Tract 416.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4672491",AWATER:"0",INTPTLAT:"47.9162061",INTPTLON:"-122.1932792",Shape_Leng:"8743.062545",Shape_Area:"4672491.064",NHPD_Units:"0",Permits:"630",Pop:"6572",Pop_density:"3642.896661",Non_white_share:"0.41068168",White_non_hisp:"0.58931832",Black_non_hisp:"0.039105295",Asian_non_Hisp:"0.175289105",Hispanic:"0.099817407",Workers:"3180",Transit_to_work:"0.022641509",Walk_to_Work:"0.032704403",Bike_to_work:"0.002201258",Green_commute_share:"0.05754717",BA_plus_25_plus:"0.29334198",Med_HH_inc:"112643",Cost_burdened:"0.71875",Very_cost_burdened:"0.380208333",Med_housing_value:"446200",Jobs:"761",Job_density:"421.8265914",Housing_units:"2202",Housing_density:"1220.581017",Permit_density:"349.2125527",Permits_per_capita:"95.86122946",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041605",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41605",GEOID:"53061041605",NAME:"416.05",NAMELSAD:"Census Tract 416.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2462214",AWATER:"9609",INTPTLAT:"47.9016683",INTPTLON:"-122.195362",Shape_Leng:"6479.738195",Shape_Area:"2471821.648",NHPD_Units:"0",Permits:"289",Pop:"6281",Pop_density:"6606.946155",Non_white_share:"0.277185162",White_non_hisp:"0.722814838",Black_non_hisp:"0.028817067",Asian_non_Hisp:"0.050788091",Hispanic:"0.168285305",Workers:"3070",Transit_to_work:"0.012052117",Walk_to_Work:"0.008794788",Bike_to_work:"0.013680782",Green_commute_share:"0.034527687",BA_plus_25_plus:"0.349635551",Med_HH_inc:"103185",Cost_burdened:"0.533333333",Very_cost_burdened:"0.126190476",Med_housing_value:"440800",Jobs:"993",Job_density:"1044.530733",Housing_units:"2009",Housing_density:"2113.255027",Permit_density:"303.9973633",Permits_per_capita:"46.01178156",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041606",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41606",GEOID:"53061041606",NAME:"416.06",NAMELSAD:"Census Tract 416.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2525930",AWATER:"45367",INTPTLAT:"47.8857346",INTPTLON:"-122.1969528",Shape_Leng:"6312.613772",Shape_Area:"2571297.188",NHPD_Units:"370",Permits:"1154",Pop:"6230",Pop_density:"6387.994096",Non_white_share:"0.346067416",White_non_hisp:"0.653932584",Black_non_hisp:"0.02776886",Asian_non_Hisp:"0.13258427",Hispanic:"0.132423756",Workers:"2873",Transit_to_work:"0.069265576",Walk_to_Work:"0.027497389",Bike_to_work:"0",Green_commute_share:"0.096762966",BA_plus_25_plus:"0.328338931",Med_HH_inc:"86489",Cost_burdened:"0.621495327",Very_cost_burdened:"0.209345794",Med_housing_value:"427800",Jobs:"761",Job_density:"780.2991183",Housing_units:"2248",Housing_density:"2305.009748",Permit_density:"1183.26568",Permits_per_capita:"185.2327448",Subsidized_hsg_share:"0.164590747"},{TRACT_ID:"G5300610041607",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41607",GEOID:"53061041607",NAME:"416.07",NAMELSAD:"Census Tract 416.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2925954",AWATER:"0",INTPTLAT:"47.8983544",INTPTLON:"-122.1734856",Shape_Leng:"7804.727388",Shape_Area:"2925955.604",NHPD_Units:"0",Permits:"364",Pop:"3432",Pop_density:"3037.928551",Non_white_share:"0.243589744",White_non_hisp:"0.756410256",Black_non_hisp:"0.018356643",Asian_non_Hisp:"0.106643357",Hispanic:"0.051573427",Workers:"1733",Transit_to_work:"0.049047894",Walk_to_Work:"0.001154068",Bike_to_work:"0",Green_commute_share:"0.050201962",BA_plus_25_plus:"0.495102404",Med_HH_inc:"142078",Cost_burdened:"0.567901235",Very_cost_burdened:"0.098765432",Med_housing_value:"508100",Jobs:"65",Job_density:"57.53652558",Housing_units:"1186",Housing_density:"1049.820298",Permit_density:"322.2045433",Permits_per_capita:"106.0606061",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041609",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41609",GEOID:"53061041609",NAME:"416.09",NAMELSAD:"Census Tract 416.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2001895",AWATER:"0",INTPTLAT:"47.8843206",INTPTLON:"-122.176833",Shape_Leng:"6733.14352",Shape_Area:"2001894.745",NHPD_Units:"0",Permits:"120",Pop:"3782",Pop_density:"4893.031369",Non_white_share:"0.408514014",White_non_hisp:"0.591485986",Black_non_hisp:"0",Asian_non_Hisp:"0.269169751",Hispanic:"0.10893707",Workers:"1574",Transit_to_work:"0.017789072",Walk_to_Work:"0.0158831",Bike_to_work:"0",Green_commute_share:"0.033672173",BA_plus_25_plus:"0.453096704",Med_HH_inc:"98224",Cost_burdened:"0.791666667",Very_cost_burdened:"0",Med_housing_value:"463500",Jobs:"437",Job_density:"565.3767077",Housing_units:"1505",Housing_density:"1947.121156",Permit_density:"155.2521852",Permits_per_capita:"31.72924379",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041610",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41610",GEOID:"53061041610",NAME:"416.1",NAMELSAD:"Census Tract 416.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1757031",AWATER:"0",INTPTLAT:"47.8879241",INTPTLON:"-122.1593119",Shape_Leng:"6957.841449",Shape_Area:"1757027.29",NHPD_Units:"0",Permits:"630",Pop:"4117",Pop_density:"6068.749527",Non_white_share:"0.265484576",White_non_hisp:"0.734515424",Black_non_hisp:"0.011658975",Asian_non_Hisp:"0.083798883",Hispanic:"0.031576391",Workers:"2059",Transit_to_work:"0.068965517",Walk_to_Work:"0.043224866",Bike_to_work:"0",Green_commute_share:"0.112190384",BA_plus_25_plus:"0.428626993",Med_HH_inc:"131006",Cost_burdened:"0.414414414",Very_cost_burdened:"0",Med_housing_value:"478200",Jobs:"38",Job_density:"56.0146908",Housing_units:"1268",Housing_density:"1869.121788",Permit_density:"928.6646106",Permits_per_capita:"153.0240466",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041701",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41701",GEOID:"53061041701",NAME:"417.01",NAMELSAD:"Census Tract 417.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2963181",AWATER:"401753",INTPTLAT:"47.8899399",INTPTLON:"-122.2149774",Shape_Leng:"9466.715992",Shape_Area:"3364934.85",NHPD_Units:"368",Permits:"856",Pop:"5902",Pop_density:"5158.682452",Non_white_share:"0.5223653",White_non_hisp:"0.4776347",Black_non_hisp:"0.06421552",Asian_non_Hisp:"0.249745849",Hispanic:"0.080989495",Workers:"3014",Transit_to_work:"0.04910418",Walk_to_Work:"0.03052422",Bike_to_work:"0",Green_commute_share:"0.079628401",BA_plus_25_plus:"0.34649512",Med_HH_inc:"68533",Cost_burdened:"0.52114061",Very_cost_burdened:"0.192723697",Med_housing_value:"397200",Jobs:"2378",Job_density:"2078.506756",Housing_units:"2546",Housing_density:"2225.348276",Permit_density:"748.1925074",Permits_per_capita:"145.0355812",Subsidized_hsg_share:"0.144540456"},{TRACT_ID:"G5300610041703",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41703",GEOID:"53061041703",NAME:"417.03",NAMELSAD:"Census Tract 417.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3694192",AWATER:"236619",INTPTLAT:"47.8599737",INTPTLON:"-122.2400339",Shape_Leng:"9253.055571",Shape_Area:"3930807.174",NHPD_Units:"0",Permits:"1330",Pop:"6142",Pop_density:"4306.139739",Non_white_share:"0.378704005",White_non_hisp:"0.621295995",Black_non_hisp:"0.085639857",Asian_non_Hisp:"0.129925106",Hispanic:"0.10582872",Workers:"3313",Transit_to_work:"0.069121642",Walk_to_Work:"0.003320254",Bike_to_work:"0",Green_commute_share:"0.072441896",BA_plus_25_plus:"0.470125786",Med_HH_inc:"106773",Cost_burdened:"0.542207792",Very_cost_burdened:"0.159090909",Med_housing_value:"485700",Jobs:"705",Job_density:"494.2736105",Housing_units:"2398",Housing_density:"1681.231373",Permit_density:"932.4594354",Permits_per_capita:"216.541843",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041704",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41704",GEOID:"53061041704",NAME:"417.04",NAMELSAD:"Census Tract 417.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4047089",AWATER:"0",INTPTLAT:"47.8673757",INTPTLON:"-122.2251849",Shape_Leng:"11573.85536",Shape_Area:"4047091.005",NHPD_Units:"522",Permits:"1678",Pop:"5714",Pop_density:"3656.749842",Non_white_share:"0.365943297",White_non_hisp:"0.634056703",Black_non_hisp:"0.054252713",Asian_non_Hisp:"0.10080504",Hispanic:"0.158382919",Workers:"3609",Transit_to_work:"0.048212801",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.048212801",BA_plus_25_plus:"0.434803567",Med_HH_inc:"86071",Cost_burdened:"0.460076046",Very_cost_burdened:"0.307351077",Med_housing_value:"439500",Jobs:"3794",Job_density:"2428.020459",Housing_units:"2791",Housing_density:"1786.137349",Permit_density:"1073.858284",Permits_per_capita:"293.6646832",Subsidized_hsg_share:"0.187029738"},{TRACT_ID:"G5300610041805",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41805",GEOID:"53061041805",NAME:"418.05",NAMELSAD:"Census Tract 418.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3269840",AWATER:"0",INTPTLAT:"47.914062",INTPTLON:"-122.2228507",Shape_Leng:"8462.584687",Shape_Area:"3269839.055",NHPD_Units:"0",Permits:"223",Pop:"6261",Pop_density:"4959.238238",Non_white_share:"0.403769366",White_non_hisp:"0.596230634",Black_non_hisp:"0.006229037",Asian_non_Hisp:"0.141830379",Hispanic:"0.21961348",Workers:"3071",Transit_to_work:"0.040377727",Walk_to_Work:"0.03386519",Bike_to_work:"0.006838163",Green_commute_share:"0.081081081",BA_plus_25_plus:"0.192645314",Med_HH_inc:"62299",Cost_burdened:"0.537019681",Very_cost_burdened:"0.269915651",Med_housing_value:"289900",Jobs:"7681",Job_density:"6083.997589",Housing_units:"2345",Housing_density:"1857.437097",Permit_density:"176.6347432",Permits_per_capita:"35.61731353",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041808",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41808",GEOID:"53061041808",NAME:"418.08",NAMELSAD:"Census Tract 418.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1690175",AWATER:"0",INTPTLAT:"47.8907824",INTPTLON:"-122.230897",Shape_Leng:"5726.792754",Shape_Area:"1690178.493",NHPD_Units:"186",Permits:"238",Pop:"4364",Pop_density:"6687.300495",Non_white_share:"0.393904675",White_non_hisp:"0.606095325",Black_non_hisp:"0.076076994",Asian_non_Hisp:"0.07355637",Hispanic:"0.186526123",Workers:"2336",Transit_to_work:"0.044520548",Walk_to_Work:"0.083476027",Bike_to_work:"0",Green_commute_share:"0.127996575",BA_plus_25_plus:"0.185173697",Med_HH_inc:"54926",Cost_burdened:"0.563786008",Very_cost_burdened:"0.303155007",Med_housing_value:"164600",Jobs:"1122",Job_density:"1719.328862",Housing_units:"1871",Housing_density:"2867.080482",Permit_density:"364.7061223",Permits_per_capita:"54.53712191",Subsidized_hsg_share:"0.099412079"},{TRACT_ID:"G5300610041809",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41809",GEOID:"53061041809",NAME:"418.09",NAMELSAD:"Census Tract 418.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1079257",AWATER:"0",INTPTLAT:"47.8917497",INTPTLON:"-122.2455166",Shape_Leng:"4962.080423",Shape_Area:"1079258.211",NHPD_Units:"24",Permits:"283",Pop:"4838",Pop_density:"11610.17485",Non_white_share:"0.522529971",White_non_hisp:"0.477470029",Black_non_hisp:"0.169904919",Asian_non_Hisp:"0.094047127",Hispanic:"0.186854072",Workers:"2354",Transit_to_work:"0.052676296",Walk_to_Work:"0",Bike_to_work:"0.020815633",Green_commute_share:"0.073491929",BA_plus_25_plus:"0.191117093",Med_HH_inc:"53958",Cost_burdened:"0.573258607",Very_cost_burdened:"0.355484388",Med_housing_value:"259500",Jobs:"417",Job_density:"1000.71164",Housing_units:"2240",Housing_density:"5375.525354",Permit_density:"679.1400336",Permits_per_capita:"58.49524597",Subsidized_hsg_share:"0.010714286"},{TRACT_ID:"G5300610041810",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41810",GEOID:"53061041810",NAME:"418.1",NAMELSAD:"Census Tract 418.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"893333",AWATER:"0",INTPTLAT:"47.8860716",INTPTLON:"-122.2490656",Shape_Leng:"4530.401254",Shape_Area:"893334.5671",NHPD_Units:"344",Permits:"164",Pop:"5694",Pop_density:"16508.28112",Non_white_share:"0.458728486",White_non_hisp:"0.541271514",Black_non_hisp:"0.08570425",Asian_non_Hisp:"0.067790657",Hispanic:"0.2028451",Workers:"3069",Transit_to_work:"0.079504725",Walk_to_Work:"0.005865103",Bike_to_work:"0.008797654",Green_commute_share:"0.094167481",BA_plus_25_plus:"0.21270427",Med_HH_inc:"63976",Cost_burdened:"0.588870881",Very_cost_burdened:"0.239330092",Med_housing_value:"238200",Jobs:"555",Job_density:"1609.079035",Housing_units:"2597",Housing_density:"7529.330185",Permit_density:"475.4756066",Permits_per_capita:"28.80224798",Subsidized_hsg_share:"0.132460531"},{TRACT_ID:"G5300610041812",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41812",GEOID:"53061041812",NAME:"418.12",NAMELSAD:"Census Tract 418.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1868733",AWATER:"0",INTPTLAT:"47.8750633",INTPTLON:"-122.2668852",Shape_Leng:"8103.837894",Shape_Area:"1868731.949",NHPD_Units:"205",Permits:"1499",Pop:"6157",Pop_density:"8533.352167",Non_white_share:"0.630177034",White_non_hisp:"0.369822966",Black_non_hisp:"0.148286503",Asian_non_Hisp:"0.220724379",Hispanic:"0.192301446",Workers:"2848",Transit_to_work:"0.039676966",Walk_to_Work:"0.024578652",Bike_to_work:"0",Green_commute_share:"0.064255618",BA_plus_25_plus:"0.324188386",Med_HH_inc:"57018",Cost_burdened:"0.683333333",Very_cost_burdened:"0.334027778",Med_housing_value:"422900",Jobs:"680",Job_density:"942.4524076",Housing_units:"2612",Housing_density:"3620.126013",Permit_density:"2077.553175",Permits_per_capita:"243.4627254",Subsidized_hsg_share:"0.07848392"},{TRACT_ID:"G5300610041813",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41813",GEOID:"53061041813",NAME:"418.13",NAMELSAD:"Census Tract 418.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1410255",AWATER:"0",INTPTLAT:"47.9012937",INTPTLON:"-122.2381593",Shape_Leng:"5441.323232",Shape_Area:"1410253.132",NHPD_Units:"205",Permits:"258",Pop:"4363",Pop_density:"8012.819047",Non_white_share:"0.47467339",White_non_hisp:"0.52532661",Black_non_hisp:"0.057070823",Asian_non_Hisp:"0.085262434",Hispanic:"0.282374513",Workers:"2232",Transit_to_work:"0.032706093",Walk_to_Work:"0",Bike_to_work:"0.008064516",Green_commute_share:"0.040770609",BA_plus_25_plus:"0.139013453",Med_HH_inc:"76698",Cost_burdened:"0.444791667",Very_cost_burdened:"0.232291667",Med_housing_value:"273700",Jobs:"1117",Job_density:"2051.413907",Housing_units:"1744",Housing_density:"3202.923772",Permit_density:"473.8270259",Permits_per_capita:"59.13362365",Subsidized_hsg_share:"0.117545872"},{TRACT_ID:"G5300610041814",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41814",GEOID:"53061041814",NAME:"418.14",NAMELSAD:"Census Tract 418.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1470890",AWATER:"0",INTPTLAT:"47.902111",INTPTLON:"-122.2222073",Shape_Leng:"5769.994474",Shape_Area:"1470889.962",NHPD_Units:"250",Permits:"131",Pop:"4261",Pop_density:"7502.899155",Non_white_share:"0.457873739",White_non_hisp:"0.542126261",Black_non_hisp:"0.08941563",Asian_non_Hisp:"0.177892513",Hispanic:"0.065946961",Workers:"2053",Transit_to_work:"0.060399415",Walk_to_Work:"0.0613736",Bike_to_work:"0",Green_commute_share:"0.121773015",BA_plus_25_plus:"0.190222501",Med_HH_inc:"65227",Cost_burdened:"0.640718563",Very_cost_burdened:"0.300399202",Med_housing_value:"382800",Jobs:"472",Job_density:"831.1120397",Housing_units:"1969",Housing_density:"3467.075437",Permit_density:"230.6688076",Permits_per_capita:"30.74395682",Subsidized_hsg_share:"0.126968004"},{TRACT_ID:"G5300610041815",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41815",GEOID:"53061041815",NAME:"418.15",NAMELSAD:"Census Tract 418.15",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1578393",AWATER:"98004",INTPTLAT:"47.8754881",INTPTLON:"-122.2488969",Shape_Leng:"6058.282493",Shape_Area:"1676397.019",NHPD_Units:"0",Permits:"244",Pop:"3267",Pop_density:"5360.826585",Non_white_share:"0.497704316",White_non_hisp:"0.502295684",Black_non_hisp:"0.115090297",Asian_non_Hisp:"0.189470462",Hispanic:"0.100091827",Workers:"1807",Transit_to_work:"0.050913116",Walk_to_Work:"0.009961262",Bike_to_work:"0",Green_commute_share:"0.060874377",BA_plus_25_plus:"0.137537239",Med_HH_inc:"57377",Cost_burdened:"0.501501502",Very_cost_burdened:"0.187687688",Med_housing_value:"378600",Jobs:"2050",Job_density:"3363.848944",Housing_units:"1495",Housing_density:"2453.148376",Permit_density:"400.3800694",Permits_per_capita:"74.6862565",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041816",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41816",GEOID:"53061041816",NAME:"418.16",NAMELSAD:"Census Tract 418.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1703865",AWATER:"0",INTPTLAT:"47.8675284",INTPTLON:"-122.2564815",Shape_Leng:"6451.518835",Shape_Area:"1703864.894",NHPD_Units:"180",Permits:"1616",Pop:"4882",Pop_density:"7420.964662",Non_white_share:"0.437525604",White_non_hisp:"0.562474396",Black_non_hisp:"0.076607948",Asian_non_Hisp:"0.306841458",Hispanic:"0.04362966",Workers:"2687",Transit_to_work:"0.016002977",Walk_to_Work:"0",Bike_to_work:"0.004838109",Green_commute_share:"0.020841087",BA_plus_25_plus:"0.361993769",Med_HH_inc:"109571",Cost_burdened:"0.404761905",Very_cost_burdened:"0",Med_housing_value:"483200",Jobs:"127",Job_density:"193.0484457",Housing_units:"1599",Housing_density:"2430.586337",Permit_density:"2456.427467",Permits_per_capita:"331.0118804",Subsidized_hsg_share:"0.112570356"},{TRACT_ID:"G5300610041901",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41901",GEOID:"53061041901",NAME:"419.01",NAMELSAD:"Census Tract 419.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8847184",AWATER:"0",INTPTLAT:"47.901657",INTPTLON:"-122.2789279",Shape_Leng:"14411.83683",Shape_Area:"8847181.518",NHPD_Units:"481",Permits:"1209",Pop:"6311",Pop_density:"1847.527413",Non_white_share:"0.540643321",White_non_hisp:"0.459356679",Black_non_hisp:"0.058627793",Asian_non_Hisp:"0.248613532",Hispanic:"0.175883378",Workers:"2837",Transit_to_work:"0.028551287",Walk_to_Work:"0.028551287",Bike_to_work:"0.00775467",Green_commute_share:"0.064857244",BA_plus_25_plus:"0.247372109",Med_HH_inc:"72256",Cost_burdened:"0.595881596",Very_cost_burdened:"0.272844273",Med_housing_value:"410500",Jobs:"5807",Job_density:"1699.982837",Housing_units:"2054",Housing_density:"601.3026946",Permit_density:"353.9313329",Permits_per_capita:"191.5702741",Subsidized_hsg_share:"0.234177215"},{TRACT_ID:"G5300610041904",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41904",GEOID:"53061041904",NAME:"419.04",NAMELSAD:"Census Tract 419.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1430062",AWATER:"0",INTPTLAT:"47.916771",INTPTLON:"-122.238878",Shape_Leng:"6132.076656",Shape_Area:"1430061.134",NHPD_Units:"566",Permits:"625",Pop:"6766",Pop_density:"12253.91595",Non_white_share:"0.684303872",White_non_hisp:"0.315696128",Black_non_hisp:"0.052468223",Asian_non_Hisp:"0.111882944",Hispanic:"0.504877328",Workers:"3121",Transit_to_work:"0.066004486",Walk_to_Work:"0.044216597",Bike_to_work:"0.007369433",Green_commute_share:"0.117590516",BA_plus_25_plus:"0.138166535",Med_HH_inc:"54759",Cost_burdened:"0.553278689",Very_cost_burdened:"0.172131148",Med_housing_value:"356900",Jobs:"3065",Job_density:"5551.027549",Housing_units:"2543",Housing_density:"4605.632318",Permit_density:"1131.938733",Permits_per_capita:"92.37363287",Subsidized_hsg_share:"0.222571766"},{TRACT_ID:"G5300610041905",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41905",GEOID:"53061041905",NAME:"419.05",NAMELSAD:"Census Tract 419.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2226998",AWATER:"0",INTPTLAT:"47.9014135",INTPTLON:"-122.2571911",Shape_Leng:"6788.221148",Shape_Area:"2226999.495",NHPD_Units:"0",Permits:"966",Pop:"6383",Pop_density:"7423.398722",Non_white_share:"0.516841611",White_non_hisp:"0.483158389",Black_non_hisp:"0.127682908",Asian_non_Hisp:"0.155099483",Hispanic:"0.203822654",Workers:"3830",Transit_to_work:"0.027937337",Walk_to_Work:"0.015926893",Bike_to_work:"0",Green_commute_share:"0.04386423",BA_plus_25_plus:"0.150262781",Med_HH_inc:"64663",Cost_burdened:"0.541397154",Very_cost_burdened:"0.186934023",Med_housing_value:"303700",Jobs:"1537",Job_density:"1787.523709",Housing_units:"2448",Housing_density:"2847.012388",Permit_density:"1123.453418",Permits_per_capita:"151.3394955",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041906",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41906",GEOID:"53061041906",NAME:"419.06",NAMELSAD:"Census Tract 419.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2394485",AWATER:"0",INTPTLAT:"47.9162827",INTPTLON:"-122.261052",Shape_Leng:"8103.675727",Shape_Area:"2394483.899",NHPD_Units:"0",Permits:"71",Pop:"3408",Pop_density:"3686.253821",Non_white_share:"0.535504695",White_non_hisp:"0.464495305",Black_non_hisp:"0.117957746",Asian_non_Hisp:"0.047241784",Hispanic:"0.255868545",Workers:"1393",Transit_to_work:"0.04091888",Walk_to_Work:"0.026561378",Bike_to_work:"0",Green_commute_share:"0.067480258",BA_plus_25_plus:"0.109416097",Med_HH_inc:"39815",Cost_burdened:"0.617492097",Very_cost_burdened:"0.343519494",Med_housing_value:"223400",Jobs:"34132",Job_density:"36918.78386",Housing_units:"1430",Housing_density:"1546.755564",Permit_density:"76.7969546",Permits_per_capita:"20.83333333",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610041907",STATEFP:"53",COUNTYFP:"61",TRACTCE:"41907",GEOID:"53061041907",NAME:"419.07",NAMELSAD:"Census Tract 419.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1016300",AWATER:"0",INTPTLAT:"47.9130242",INTPTLON:"-122.2505627",Shape_Leng:"5677.005652",Shape_Area:"1016300.333",NHPD_Units:"202",Permits:"175",Pop:"3652",Pop_density:"9306.933562",Non_white_share:"0.473165389",White_non_hisp:"0.526834611",Black_non_hisp:"0.047097481",Asian_non_Hisp:"0.136637459",Hispanic:"0.251369113",Workers:"2073",Transit_to_work:"0.070911722",Walk_to_Work:"0.021225277",Bike_to_work:"0",Green_commute_share:"0.092137",BA_plus_25_plus:"0.173913043",Med_HH_inc:"65492",Cost_burdened:"0.504975124",Very_cost_burdened:"0.267412935",Med_housing_value:"304100",Jobs:"42",Job_density:"107.0348329",Housing_units:"1484",Housing_density:"3781.897428",Permit_density:"445.9784702",Permits_per_capita:"47.91894852",Subsidized_hsg_share:"0.136118598"},{TRACT_ID:"G5300610042001",STATEFP:"53",COUNTYFP:"61",TRACTCE:"42001",GEOID:"53061042001",NAME:"420.01",NAMELSAD:"Census Tract 420.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4847697",AWATER:"1095563",INTPTLAT:"47.9114849",INTPTLON:"-122.3146889",Shape_Leng:"9438.760444",Shape_Area:"4847700.186",NHPD_Units:"0",Permits:"150",Pop:"5584",Pop_density:"2983.374086",Non_white_share:"0.271131805",White_non_hisp:"0.728868195",Black_non_hisp:"0.012535817",Asian_non_Hisp:"0.093302292",Hispanic:"0.09491404",Workers:"2875",Transit_to_work:"0.069217391",Walk_to_Work:"0.004521739",Bike_to_work:"0.00973913",Green_commute_share:"0.083478261",BA_plus_25_plus:"0.518962076",Med_HH_inc:"104559",Cost_burdened:"0.607679466",Very_cost_burdened:"0.333889816",Med_housing_value:"661700",Jobs:"548",Job_density:"292.7809812",Housing_units:"2300",Housing_density:"1228.825286",Permit_density:"80.14077954",Permits_per_capita:"26.86246418",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610042003",STATEFP:"53",COUNTYFP:"61",TRACTCE:"42003",GEOID:"53061042003",NAME:"420.03",NAMELSAD:"Census Tract 420.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2759142",AWATER:"593374",INTPTLAT:"47.867766",INTPTLON:"-122.3238457",Shape_Leng:"7513.030732",Shape_Area:"2759143.344",NHPD_Units:"0",Permits:"78",Pop:"2852",Pop_density:"2677.153293",Non_white_share:"0.232117812",White_non_hisp:"0.767882188",Black_non_hisp:"0.012622721",Asian_non_Hisp:"0.087307153",Hispanic:"0.061360449",Workers:"1457",Transit_to_work:"0.042553191",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.042553191",BA_plus_25_plus:"0.408025248",Med_HH_inc:"115677",Cost_burdened:"0.139534884",Very_cost_burdened:"0.139534884",Med_housing_value:"526500",Jobs:"105",Job_density:"98.56279654",Housing_units:"1205",Housing_density:"1131.125427",Permit_density:"73.21807743",Permits_per_capita:"27.34922861",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610042004",STATEFP:"53",COUNTYFP:"61",TRACTCE:"42004",GEOID:"53061042004",NAME:"420.04",NAMELSAD:"Census Tract 420.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2382616",AWATER:"153461",INTPTLAT:"47.867725",INTPTLON:"-122.281908",Shape_Leng:"7101.167787",Shape_Area:"2536077.922",NHPD_Units:"0",Permits:"491",Pop:"5142",Pop_density:"5589.536402",Non_white_share:"0.355309218",White_non_hisp:"0.644690782",Black_non_hisp:"0.040451186",Asian_non_Hisp:"0.269350447",Hispanic:"0.002917153",Workers:"2857",Transit_to_work:"0.088554428",Walk_to_Work:"0.004550228",Bike_to_work:"0",Green_commute_share:"0.093104655",BA_plus_25_plus:"0.288163717",Med_HH_inc:"99079",Cost_burdened:"0.391465677",Very_cost_burdened:"0.25974026",Med_housing_value:"458900",Jobs:"697",Job_density:"757.6637246",Housing_units:"1840",Housing_density:"2000.14527",Permit_density:"533.7344172",Permits_per_capita:"95.48813691",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610042005",STATEFP:"53",COUNTYFP:"61",TRACTCE:"42005",GEOID:"53061042005",NAME:"420.05",NAMELSAD:"Census Tract 420.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6375057",AWATER:"825973",INTPTLAT:"47.8851794",INTPTLON:"-122.3162308",Shape_Leng:"13220.5324",Shape_Area:"6397919.108",NHPD_Units:"0",Permits:"299",Pop:"5062",Pop_density:"2056.53374",Non_white_share:"0.367443698",White_non_hisp:"0.632556302",Black_non_hisp:"0.002370605",Asian_non_Hisp:"0.236270249",Hispanic:"0.052350849",Workers:"2530",Transit_to_work:"0.066798419",Walk_to_Work:"0.001185771",Bike_to_work:"0.003557312",Green_commute_share:"0.071541502",BA_plus_25_plus:"0.56606724",Med_HH_inc:"146125",Cost_burdened:"0.116666667",Very_cost_burdened:"0",Med_housing_value:"691200",Jobs:"3820",Job_density:"1551.947627",Housing_units:"1923",Housing_density:"781.2553105",Permit_density:"121.4744347",Permits_per_capita:"59.06756223",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610042006",STATEFP:"53",COUNTYFP:"61",TRACTCE:"42006",GEOID:"53061042006",NAME:"420.06",NAMELSAD:"Census Tract 420.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2671654",AWATER:"0",INTPTLAT:"47.8941067",INTPTLON:"-122.2989261",Shape_Leng:"6661.068008",Shape_Area:"2671651.522",NHPD_Units:"0",Permits:"752",Pop:"5229",Pop_density:"5069.162335",Non_white_share:"0.579651941",White_non_hisp:"0.420348059",Black_non_hisp:"0.040543125",Asian_non_Hisp:"0.269458788",Hispanic:"0.149550583",Workers:"2691",Transit_to_work:"0.075065032",Walk_to_Work:"0.011148272",Bike_to_work:"0",Green_commute_share:"0.086213304",BA_plus_25_plus:"0.49704317",Med_HH_inc:"72163",Cost_burdened:"0.527797834",Very_cost_burdened:"0.212274368",Med_housing_value:"390100",Jobs:"5259",Job_density:"5098.245309",Housing_units:"2489",Housing_density:"2412.917394",Permit_density:"729.0132101",Permits_per_capita:"143.8133486",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050101",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50101",GEOID:"53061050101",NAME:"501.01",NAMELSAD:"Census Tract 501.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2527904",AWATER:"183421",INTPTLAT:"47.8606384",INTPTLON:"-122.3234177",Shape_Leng:"7512.80358",Shape_Area:"2527905.055",NHPD_Units:"0",Permits:"114",Pop:"2932",Pop_density:"3004.008514",Non_white_share:"0.254092769",White_non_hisp:"0.745907231",Black_non_hisp:"0.060709413",Asian_non_Hisp:"0.064802183",Hispanic:"0.072646658",Workers:"1614",Transit_to_work:"0.083023544",Walk_to_Work:"0",Bike_to_work:"0.003717472",Green_commute_share:"0.086741016",BA_plus_25_plus:"0.363761468",Med_HH_inc:"120278",Cost_burdened:"0.290322581",Very_cost_burdened:"0.221198157",Med_housing_value:"494800",Jobs:"110",Job_density:"112.7015473",Housing_units:"1004",Housing_density:"1028.657759",Permit_density:"116.7997853",Permits_per_capita:"38.88130969",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050102",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50102",GEOID:"53061050102",NAME:"501.02",NAMELSAD:"Census Tract 501.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1806646",AWATER:"0",INTPTLAT:"47.858122",INTPTLON:"-122.2955906",Shape_Leng:"5771.989216",Shape_Area:"1806646.405",NHPD_Units:"115",Permits:"524",Pop:"6029",Pop_density:"8643.109008",Non_white_share:"0.373527948",White_non_hisp:"0.626472052",Black_non_hisp:"0.067838779",Asian_non_Hisp:"0.108807431",Hispanic:"0.138994858",Workers:"3747",Transit_to_work:"0.092607419",Walk_to_Work:"0.006938884",Bike_to_work:"0",Green_commute_share:"0.099546304",BA_plus_25_plus:"0.262687235",Med_HH_inc:"88062",Cost_burdened:"0.570093458",Very_cost_burdened:"0.312659303",Med_housing_value:"403900",Jobs:"773",Job_density:"1108.164416",Housing_units:"2637",Housing_density:"3780.374598",Permit_density:"751.2007166",Permits_per_capita:"86.91325261",Subsidized_hsg_share:"0.043610163"},{TRACT_ID:"G5300610050200",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50200",GEOID:"53061050200",NAME:"502",NAMELSAD:"Census Tract 502",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4565265",AWATER:"1271142",INTPTLAT:"47.8448652",INTPTLON:"-122.3376292",Shape_Leng:"13363.40499",Shape_Area:"4565264.252",NHPD_Units:"0",Permits:"162",Pop:"4088",Pop_density:"2319.223834",Non_white_share:"0.211594912",White_non_hisp:"0.788405088",Black_non_hisp:"0.013454012",Asian_non_Hisp:"0.079011742",Hispanic:"0.050146771",Workers:"2243",Transit_to_work:"0.040570664",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.040570664",BA_plus_25_plus:"0.491636798",Med_HH_inc:"109464",Cost_burdened:"0.333333333",Very_cost_burdened:"0",Med_housing_value:"713700",Jobs:"343",Job_density:"194.5924107",Housing_units:"1575",Housing_density:"893.5365797",Permit_density:"91.90661963",Permits_per_capita:"39.62818004",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050300",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50300",GEOID:"53061050300",NAME:"503",NAMELSAD:"Census Tract 503",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3731558",AWATER:"880957",INTPTLAT:"47.8281986",INTPTLON:"-122.3577383",Shape_Leng:"9527.299852",Shape_Area:"3731556.404",NHPD_Units:"0",Permits:"126",Pop:"5975",Pop_density:"4147.10932",Non_white_share:"0.15748954",White_non_hisp:"0.84251046",Black_non_hisp:"0.01874477",Asian_non_Hisp:"0.059414226",Hispanic:"0.021087866",Workers:"2774",Transit_to_work:"0.058038933",Walk_to_Work:"0.009372747",Bike_to_work:"0",Green_commute_share:"0.06741168",BA_plus_25_plus:"0.506073802",Med_HH_inc:"125268",Cost_burdened:"0.134615385",Very_cost_burdened:"0.134615385",Med_housing_value:"644500",Jobs:"352",Job_density:"244.3150595",Housing_units:"2141",Housing_density:"1486.018586",Permit_density:"87.45368607",Permits_per_capita:"21.08786611",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050402",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50402",GEOID:"53061050402",NAME:"504.02",NAMELSAD:"Census Tract 504.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2856107",AWATER:"0",INTPTLAT:"47.804391",INTPTLON:"-122.3498495",Shape_Leng:"8025.566055",Shape_Area:"2856104.214",NHPD_Units:"0",Permits:"213",Pop:"5569",Pop_density:"5050.106241",Non_white_share:"0.174717184",White_non_hisp:"0.825282816",Black_non_hisp:"0.002693482",Asian_non_Hisp:"0.084754893",Hispanic:"0.036631352",Workers:"3083",Transit_to_work:"0.120661693",Walk_to_Work:"0.003567953",Bike_to_work:"0.007460266",Green_commute_share:"0.131689912",BA_plus_25_plus:"0.426360459",Med_HH_inc:"86472",Cost_burdened:"0.457559682",Very_cost_burdened:"0.226790451",Med_housing_value:"483000",Jobs:"5811",Job_density:"5269.557796",Housing_units:"2417",Housing_density:"2191.795077",Permit_density:"193.1536415",Permits_per_capita:"38.24744119",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050403",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50403",GEOID:"53061050403",NAME:"504.03",NAMELSAD:"Census Tract 504.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2292771",AWATER:"0",INTPTLAT:"47.8160066",INTPTLON:"-122.3542772",Shape_Leng:"7792.982338",Shape_Area:"2292770.704",NHPD_Units:"0",Permits:"124",Pop:"3000",Pop_density:"3388.896811",Non_white_share:"0.116333333",White_non_hisp:"0.883666667",Black_non_hisp:"0.009333333",Asian_non_Hisp:"0.050333333",Hispanic:"0.019333333",Workers:"1579",Transit_to_work:"0.069664345",Walk_to_Work:"0",Bike_to_work:"0.019632679",Green_commute_share:"0.089297023",BA_plus_25_plus:"0.634280866",Med_HH_inc:"125536",Cost_burdened:"0.628099174",Very_cost_burdened:"0.628099174",Med_housing_value:"654200",Jobs:"216",Job_density:"244.0005704",Housing_units:"1410",Housing_density:"1592.781501",Permit_density:"140.0744015",Permits_per_capita:"41.33333333",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050404",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50404",GEOID:"53061050404",NAME:"504.04",NAMELSAD:"Census Tract 504.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1040970",AWATER:"0",INTPTLAT:"47.8119664",INTPTLON:"-122.33914",Shape_Leng:"5201.678934",Shape_Area:"1040968.813",NHPD_Units:"0",Permits:"164",Pop:"4124",Pop_density:"10260.7289",Non_white_share:"0.470417071",White_non_hisp:"0.529582929",Black_non_hisp:"0.027158099",Asian_non_Hisp:"0.124636275",Hispanic:"0.274490786",Workers:"2377",Transit_to_work:"0.098022718",Walk_to_Work:"0.062684056",Bike_to_work:"0.014303744",Green_commute_share:"0.175010517",BA_plus_25_plus:"0.273830775",Med_HH_inc:"81581",Cost_burdened:"0.328014184",Very_cost_burdened:"0.218085106",Med_housing_value:"464200",Jobs:"638",Job_density:"1587.377556",Housing_units:"1642",Housing_density:"4085.382362",Permit_density:"408.0406257",Permits_per_capita:"39.76721629",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050501",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50501",GEOID:"53061050501",NAME:"505.01",NAMELSAD:"Census Tract 505.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1674169",AWATER:"569243",INTPTLAT:"47.8065533",INTPTLON:"-122.3819714",Shape_Leng:"6987.413522",Shape_Area:"1674171.496",NHPD_Units:"131",Permits:"608",Pop:"3083",Pop_density:"4769.490621",Non_white_share:"0.153421992",White_non_hisp:"0.846578008",Black_non_hisp:"0",Asian_non_Hisp:"0.056762893",Hispanic:"0.050275705",Workers:"1217",Transit_to_work:"0.089564503",Walk_to_Work:"0.063270337",Bike_to_work:"0.01232539",Green_commute_share:"0.16516023",BA_plus_25_plus:"0.56694637",Med_HH_inc:"62958",Cost_burdened:"0.524495677",Very_cost_burdened:"0.26945245",Med_housing_value:"561700",Jobs:"3630",Job_density:"5615.715522",Housing_units:"2251",Housing_density:"3482.362436",Permit_density:"940.5936743",Permits_per_capita:"197.2105092",Subsidized_hsg_share:"0.058196357"},{TRACT_ID:"G5300610050502",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50502",GEOID:"53061050502",NAME:"505.02",NAMELSAD:"Census Tract 505.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1722023",AWATER:"0",INTPTLAT:"47.8040079",INTPTLON:"-122.3712366",Shape_Leng:"7205.899275",Shape_Area:"1722015.509",NHPD_Units:"0",Permits:"149",Pop:"3963",Pop_density:"5960.502781",Non_white_share:"0.154428463",White_non_hisp:"0.845571537",Black_non_hisp:"0.000504668",Asian_non_Hisp:"0.093111279",Hispanic:"0.021953066",Workers:"1675",Transit_to_work:"0.101492537",Walk_to_Work:"0.071641791",Bike_to_work:"0",Green_commute_share:"0.173134328",BA_plus_25_plus:"0.671097372",Med_HH_inc:"90559",Cost_burdened:"0.511450382",Very_cost_burdened:"0.099236641",Med_housing_value:"751200",Jobs:"597",Job_density:"897.9107142",Housing_units:"1977",Housing_density:"2973.483219",Permit_density:"224.101669",Permits_per_capita:"37.59777946",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050600",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50600",GEOID:"53061050600",NAME:"506",NAMELSAD:"Census Tract 506",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3211678",AWATER:"979015",INTPTLAT:"47.7879463",INTPTLON:"-122.3880188",Shape_Leng:"8557.355791",Shape_Area:"3211676.309",NHPD_Units:"0",Permits:"125",Pop:"1073",Pop_density:"865.2975928",Non_white_share:"0.084808947",White_non_hisp:"0.915191053",Black_non_hisp:"0",Asian_non_Hisp:"0.060577819",Hispanic:"0.01584343",Workers:"473",Transit_to_work:"0.010570825",Walk_to_Work:"0.078224101",Bike_to_work:"0.012684989",Green_commute_share:"0.101479915",BA_plus_25_plus:"0.714663144",Med_HH_inc:"196635",Cost_burdened:"0.5",Very_cost_burdened:"0.5",Med_housing_value:"1206800",Jobs:"304",Job_density:"245.1542108",Housing_units:"446",Housing_density:"359.667033",Permit_density:"100.8035406",Permits_per_capita:"116.4958062",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050700",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50700",GEOID:"53061050700",NAME:"507",NAMELSAD:"Census Tract 507",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3098903",AWATER:"0",INTPTLAT:"47.7846433",INTPTLON:"-122.3651196",Shape_Leng:"8011.136555",Shape_Area:"3098905.386",NHPD_Units:"0",Permits:"433",Pop:"6375",Pop_density:"5328.070676",Non_white_share:"0.28972549",White_non_hisp:"0.71027451",Black_non_hisp:"0.004078431",Asian_non_Hisp:"0.146352941",Hispanic:"0.096627451",Workers:"3296",Transit_to_work:"0.058859223",Walk_to_Work:"0",Bike_to_work:"0.011832524",Green_commute_share:"0.070691748",BA_plus_25_plus:"0.532320254",Med_HH_inc:"97146",Cost_burdened:"0.486083499",Very_cost_burdened:"0.160039761",Med_housing_value:"560700",Jobs:"923",Job_density:"771.4210564",Housing_units:"2775",Housing_density:"2319.277824",Permit_density:"361.8909181",Permits_per_capita:"67.92156863",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050800",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50800",GEOID:"53061050800",NAME:"508",NAMELSAD:"Census Tract 508",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3196817",AWATER:"2376",INTPTLAT:"47.793236",INTPTLON:"-122.3490897",Shape_Leng:"8163.671293",Shape_Area:"3199188.127",NHPD_Units:"0",Permits:"388",Pop:"6939",Pop_density:"5621.819296",Non_white_share:"0.307248883",White_non_hisp:"0.692751117",Black_non_hisp:"0.01642888",Asian_non_Hisp:"0.094970457",Hispanic:"0.074074074",Workers:"3970",Transit_to_work:"0.077078086",Walk_to_Work:"0.036020151",Bike_to_work:"0",Green_commute_share:"0.113098237",BA_plus_25_plus:"0.369357558",Med_HH_inc:"101350",Cost_burdened:"0.459170013",Very_cost_burdened:"0.06291834",Med_housing_value:"483400",Jobs:"1288",Job_density:"1043.508179",Housing_units:"2635",Housing_density:"2134.81681",Permit_density:"314.3487371",Permits_per_capita:"55.91583802",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610050900",STATEFP:"53",COUNTYFP:"61",TRACTCE:"50900",GEOID:"53061050900",NAME:"509",NAMELSAD:"Census Tract 509",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1492836",AWATER:"153322",INTPTLAT:"47.7859889",INTPTLON:"-122.337135",Shape_Leng:"7483.77204",Shape_Area:"1646156.657",NHPD_Units:"94",Permits:"188",Pop:"3871",Pop_density:"6715.971463",Non_white_share:"0.44639628",White_non_hisp:"0.55360372",Black_non_hisp:"0.058382847",Asian_non_Hisp:"0.149573754",Hispanic:"0.133040558",Workers:"1865",Transit_to_work:"0.171045576",Walk_to_Work:"0.031099196",Bike_to_work:"0.00536193",Green_commute_share:"0.207506702",BA_plus_25_plus:"0.372985418",Med_HH_inc:"62560",Cost_burdened:"0.524590164",Very_cost_burdened:"0.214375788",Med_housing_value:"443500",Jobs:"2514",Job_density:"4361.65132",Housing_units:"1651",Housing_density:"2864.393925",Permit_density:"326.1696293",Permits_per_capita:"48.56626195",Subsidized_hsg_share:"0.056935191"},{TRACT_ID:"G5300610051000",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51000",GEOID:"53061051000",NAME:"510",NAMELSAD:"Census Tract 510",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3340711",AWATER:"253903",INTPTLAT:"47.7926726",INTPTLON:"-122.3232202",Shape_Leng:"9402.884304",Shape_Area:"3594612.908",NHPD_Units:"34",Permits:"121",Pop:"4332",Pop_density:"3358.515147",Non_white_share:"0.394506002",White_non_hisp:"0.605493998",Black_non_hisp:"0.14312096",Asian_non_Hisp:"0.090720222",Hispanic:"0.123268698",Workers:"2547",Transit_to_work:"0.103651355",Walk_to_Work:"0.025912839",Bike_to_work:"0.002355713",Green_commute_share:"0.131919906",BA_plus_25_plus:"0.382448859",Med_HH_inc:"84313",Cost_burdened:"0.341545353",Very_cost_burdened:"0.125419933",Med_housing_value:"450300",Jobs:"2428",Job_density:"1882.381066",Housing_units:"1940",Housing_density:"1504.044179",Permit_density:"93.80894107",Permits_per_capita:"27.93167128",Subsidized_hsg_share:"0.017525773"},{TRACT_ID:"G5300610051100",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51100",GEOID:"53061051100",NAME:"511",NAMELSAD:"Census Tract 511",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2057724",AWATER:"0",INTPTLAT:"47.7839887",INTPTLON:"-122.3071171",Shape_Leng:"6310.599261",Shape_Area:"2057725.207",NHPD_Units:"134",Permits:"725",Pop:"3970",Pop_density:"4996.905706",Non_white_share:"0.221914358",White_non_hisp:"0.778085642",Black_non_hisp:"0.013602015",Asian_non_Hisp:"0.087153652",Hispanic:"0.062216625",Workers:"2009",Transit_to_work:"0.146839223",Walk_to_Work:"0.008461921",Bike_to_work:"0",Green_commute_share:"0.155301145",BA_plus_25_plus:"0.38027735",Med_HH_inc:"80893",Cost_burdened:"0.464993395",Very_cost_burdened:"0.188903567",Med_housing_value:"381700",Jobs:"1098",Job_density:"1382.015734",Housing_units:"1876",Housing_density:"2361.258213",Permit_density:"912.533158",Permits_per_capita:"182.6196474",Subsidized_hsg_share:"0.071428571"},{TRACT_ID:"G5300610051200",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51200",GEOID:"53061051200",NAME:"512",NAMELSAD:"Census Tract 512",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2100804",AWATER:"0",INTPTLAT:"47.7978114",INTPTLON:"-122.305815",Shape_Leng:"6223.129233",Shape_Area:"2100807.979",NHPD_Units:"0",Permits:"139",Pop:"4793",Pop_density:"5909.077197",Non_white_share:"0.277488003",White_non_hisp:"0.722511997",Black_non_hisp:"0.046317546",Asian_non_Hisp:"0.121635719",Hispanic:"0.081994575",Workers:"2573",Transit_to_work:"0.158181112",Walk_to_Work:"0.013214147",Bike_to_work:"0.001943257",Green_commute_share:"0.173338515",BA_plus_25_plus:"0.35503298",Med_HH_inc:"88900",Cost_burdened:"0.421221865",Very_cost_burdened:"0.109324759",Med_housing_value:"409200",Jobs:"303",Job_density:"373.5552662",Housing_units:"1927",Housing_density:"2375.712864",Permit_density:"171.3669373",Permits_per_capita:"29.00062591",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051301",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51301",GEOID:"53061051301",NAME:"513.01",NAMELSAD:"Census Tract 513.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1439903",AWATER:"0",INTPTLAT:"47.7991968",INTPTLON:"-122.2900604",Shape_Leng:"6336.745581",Shape_Area:"1439899.864",NHPD_Units:"0",Permits:"158",Pop:"3573",Pop_density:"6426.840918",Non_white_share:"0.408060453",White_non_hisp:"0.591939547",Black_non_hisp:"0.069689337",Asian_non_Hisp:"0.128463476",Hispanic:"0.128463476",Workers:"1860",Transit_to_work:"0.139784946",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.139784946",BA_plus_25_plus:"0.435051546",Med_HH_inc:"80571",Cost_burdened:"0.555950266",Very_cost_burdened:"0.245115453",Med_housing_value:"428600",Jobs:"96",Job_density:"172.6775058",Housing_units:"1378",Housing_density:"2478.641697",Permit_density:"284.1983949",Permits_per_capita:"44.22054296",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051302",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51302",GEOID:"53061051302",NAME:"513.02",NAMELSAD:"Census Tract 513.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1506893",AWATER:"0",INTPTLAT:"47.7858064",INTPTLON:"-122.2924406",Shape_Leng:"5641.488885",Shape_Area:"1506888.19",NHPD_Units:"0",Permits:"58",Pop:"3783",Pop_density:"6502.070831",Non_white_share:"0.308485329",White_non_hisp:"0.691514671",Black_non_hisp:"0.041237113",Asian_non_Hisp:"0.031192176",Hispanic:"0.114723764",Workers:"2260",Transit_to_work:"0.045132743",Walk_to_Work:"0.033185841",Bike_to_work:"0",Green_commute_share:"0.078318584",BA_plus_25_plus:"0.374458021",Med_HH_inc:"73269",Cost_burdened:"0.604848485",Very_cost_burdened:"0.166060606",Med_housing_value:"460500",Jobs:"392",Job_density:"673.7541015",Housing_units:"1564",Housing_density:"2688.141364",Permit_density:"99.68810685",Permits_per_capita:"15.33174729",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051401",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51401",GEOID:"53061051401",NAME:"514.01",NAMELSAD:"Census Tract 514.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1550833",AWATER:"0",INTPTLAT:"47.8118166",INTPTLON:"-122.3173448",Shape_Leng:"6975.81572",Shape_Area:"1550831.338",NHPD_Units:"127",Permits:"689",Pop:"4157",Pop_density:"6942.450009",Non_white_share:"0.679817176",White_non_hisp:"0.320182824",Black_non_hisp:"0.038729853",Asian_non_Hisp:"0.244407024",Hispanic:"0.336540775",Workers:"2032",Transit_to_work:"0.037893701",Walk_to_Work:"0.017716535",Bike_to_work:"0",Green_commute_share:"0.055610236",BA_plus_25_plus:"0.183448276",Med_HH_inc:"52290",Cost_burdened:"0.734059098",Very_cost_burdened:"0.270606532",Med_housing_value:"262900",Jobs:"2391",Job_density:"3993.11955",Housing_units:"1909",Housing_density:"3188.149403",Permit_density:"1150.673095",Permits_per_capita:"165.7445273",Subsidized_hsg_share:"0.066526977"},{TRACT_ID:"G5300610051402",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51402",GEOID:"53061051402",NAME:"514.02",NAMELSAD:"Census Tract 514.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2498835",AWATER:"34278",INTPTLAT:"47.8130441",INTPTLON:"-122.2998127",Shape_Leng:"8469.162626",Shape_Area:"2533114.953",NHPD_Units:"855",Permits:"618",Pop:"4285",Pop_density:"4441.309271",Non_white_share:"0.415402567",White_non_hisp:"0.584597433",Black_non_hisp:"0.097082847",Asian_non_Hisp:"0.078646441",Hispanic:"0.178296383",Workers:"2043",Transit_to_work:"0.147332354",Walk_to_Work:"0.038179148",Bike_to_work:"0",Green_commute_share:"0.185511503",BA_plus_25_plus:"0.341886269",Med_HH_inc:"55845",Cost_burdened:"0.602222222",Very_cost_burdened:"0.314444444",Med_housing_value:"449800",Jobs:"3690",Job_density:"3824.604717",Housing_units:"1777",Housing_density:"1841.821838",Permit_density:"640.5435542",Permits_per_capita:"144.2240373",Subsidized_hsg_share:"0.481148002"},{TRACT_ID:"G5300610051500",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51500",GEOID:"53061051500",NAME:"515",NAMELSAD:"Census Tract 515",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3280836",AWATER:"0",INTPTLAT:"47.8207651",INTPTLON:"-122.326422",Shape_Leng:"9215.545066",Shape_Area:"3280836.939",NHPD_Units:"162",Permits:"198",Pop:"6124",Pop_density:"4834.465114",Non_white_share:"0.446440235",White_non_hisp:"0.553559765",Black_non_hisp:"0.118223383",Asian_non_Hisp:"0.170150229",Hispanic:"0.043762247",Workers:"2645",Transit_to_work:"0.078638941",Walk_to_Work:"0.036672968",Bike_to_work:"0.061625709",Green_commute_share:"0.176937618",BA_plus_25_plus:"0.278401122",Med_HH_inc:"60068",Cost_burdened:"0.545386347",Very_cost_burdened:"0.36084021",Med_housing_value:"421600",Jobs:"6844",Job_density:"5402.85422",Housing_units:"2491",Housing_density:"1966.468419",Permit_density:"156.307004",Permits_per_capita:"32.33180927",Subsidized_hsg_share:"0.065034123"},{TRACT_ID:"G5300610051601",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51601",GEOID:"53061051601",NAME:"516.01",NAMELSAD:"Census Tract 516.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2448407",AWATER:"0",INTPTLAT:"47.8448173",INTPTLON:"-122.3092836",Shape_Leng:"7857.830484",Shape_Area:"2448408.285",NHPD_Units:"0",Permits:"223",Pop:"5184",Pop_density:"5483.768983",Non_white_share:"0.496527778",White_non_hisp:"0.503472222",Black_non_hisp:"0.115354938",Asian_non_Hisp:"0.186342593",Hispanic:"0.143904321",Workers:"2458",Transit_to_work:"0.032546786",Walk_to_Work:"0.021155411",Bike_to_work:"0",Green_commute_share:"0.053702197",BA_plus_25_plus:"0.3125",Med_HH_inc:"82440",Cost_burdened:"0.601895735",Very_cost_burdened:"0.292259084",Med_housing_value:"462600",Jobs:"976",Job_density:"1032.437987",Housing_units:"1771",Housing_density:"1873.409504",Permit_density:"235.8951549",Permits_per_capita:"43.01697531",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051602",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51602",GEOID:"53061051602",NAME:"516.02",NAMELSAD:"Census Tract 516.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2051403",AWATER:"0",INTPTLAT:"47.8340051",INTPTLON:"-122.3155944",Shape_Leng:"6573.188912",Shape_Area:"2051403.192",NHPD_Units:"0",Permits:"69",Pop:"3921",Pop_density:"4950.438008",Non_white_share:"0.312930375",White_non_hisp:"0.687069625",Black_non_hisp:"0.028564142",Asian_non_Hisp:"0.128283601",Hispanic:"0.058658505",Workers:"1698",Transit_to_work:"0.0795053",Walk_to_Work:"0.01590106",Bike_to_work:"0",Green_commute_share:"0.09540636",BA_plus_25_plus:"0.277261462",Med_HH_inc:"83250",Cost_burdened:"0.46",Very_cost_burdened:"0.235",Med_housing_value:"436400",Jobs:"517",Job_density:"652.7356414",Housing_units:"1597",Housing_density:"2016.283983",Permit_density:"87.11558851",Permits_per_capita:"17.59755164",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051701",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51701",GEOID:"53061051701",NAME:"517.01",NAMELSAD:"Census Tract 517.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2488166",AWATER:"0",INTPTLAT:"47.8299818",INTPTLON:"-122.2999432",Shape_Leng:"7937.542961",Shape_Area:"2488164.551",NHPD_Units:"451",Permits:"87",Pop:"6955",Pop_density:"7239.616371",Non_white_share:"0.47620417",White_non_hisp:"0.52379583",Black_non_hisp:"0.079798706",Asian_non_Hisp:"0.17627606",Hispanic:"0.151401869",Workers:"3426",Transit_to_work:"0.152948044",Walk_to_Work:"0.018096906",Bike_to_work:"0",Green_commute_share:"0.17104495",BA_plus_25_plus:"0.261860752",Med_HH_inc:"62698",Cost_burdened:"0.54953271",Very_cost_burdened:"0.335514019",Med_housing_value:"405600",Jobs:"2297",Job_density:"2390.999109",Housing_units:"2540",Housing_density:"2643.94329",Permit_density:"90.5602623",Permits_per_capita:"12.50898634",Subsidized_hsg_share:"0.177559055"},{TRACT_ID:"G5300610051702",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51702",GEOID:"53061051702",NAME:"517.02",NAMELSAD:"Census Tract 517.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2166147",AWATER:"0",INTPTLAT:"47.8312109",INTPTLON:"-122.2863815",Shape_Leng:"6930.915909",Shape_Area:"2166146.928",NHPD_Units:"438",Permits:"673",Pop:"4355",Pop_density:"5207.125011",Non_white_share:"0.411021814",White_non_hisp:"0.588978186",Black_non_hisp:"0.051435132",Asian_non_Hisp:"0.163949483",Hispanic:"0.152009185",Workers:"2089",Transit_to_work:"0.152704643",Walk_to_Work:"0.033987554",Bike_to_work:"0",Green_commute_share:"0.186692197",BA_plus_25_plus:"0.309058615",Med_HH_inc:"69792",Cost_burdened:"0.567258883",Very_cost_burdened:"0.425126904",Med_housing_value:"479500",Jobs:"4525",Job_density:"5410.388214",Housing_units:"1861",Housing_density:"2225.134247",Permit_density:"804.6831532",Permits_per_capita:"154.5350172",Subsidized_hsg_share:"0.235357335"},{TRACT_ID:"G5300610051802",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51802",GEOID:"53061051802",NAME:"518.02",NAMELSAD:"Census Tract 518.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4921445",AWATER:"0",INTPTLAT:"47.8398339",INTPTLON:"-122.2736543",Shape_Leng:"11441.61702",Shape_Area:"4921449.546",NHPD_Units:"0",Permits:"1471",Pop:"6561",Pop_density:"3452.829807",Non_white_share:"0.464106081",White_non_hisp:"0.535893919",Black_non_hisp:"0.046639232",Asian_non_Hisp:"0.251181222",Hispanic:"0.094802622",Workers:"3520",Transit_to_work:"0.098863636",Walk_to_Work:"0.044602273",Bike_to_work:"0",Green_commute_share:"0.143465909",BA_plus_25_plus:"0.470524491",Med_HH_inc:"100348",Cost_burdened:"0.401498929",Very_cost_burdened:"0.159528908",Med_housing_value:"502600",Jobs:"8477",Job_density:"4461.155049",Housing_units:"2655",Housing_density:"1397.235656",Permit_density:"774.136968",Permits_per_capita:"224.2036275",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051803",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51803",GEOID:"53061051803",NAME:"518.03",NAMELSAD:"Census Tract 518.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1597958",AWATER:"0",INTPTLAT:"47.8562368",INTPTLON:"-122.2815196",Shape_Leng:"5379.455231",Shape_Area:"1597957.257",NHPD_Units:"11",Permits:"630",Pop:"8365",Pop_density:"13558.0851",Non_white_share:"0.576569038",White_non_hisp:"0.423430962",Black_non_hisp:"0.027495517",Asian_non_Hisp:"0.165809922",Hispanic:"0.312253437",Workers:"4233",Transit_to_work:"0.064020789",Walk_to_Work:"0.000236239",Bike_to_work:"0",Green_commute_share:"0.064257028",BA_plus_25_plus:"0.344372249",Med_HH_inc:"64407",Cost_burdened:"0.508387698",Very_cost_burdened:"0.209226468",Med_housing_value:"353500",Jobs:"639",Job_density:"1035.698312",Housing_units:"3187",Housing_density:"5165.525069",Permit_density:"1021.111011",Permits_per_capita:"75.31380753",Subsidized_hsg_share:"0.003451522"},{TRACT_ID:"G5300610051804",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51804",GEOID:"53061051804",NAME:"518.04",NAMELSAD:"Census Tract 518.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2355533",AWATER:"0",INTPTLAT:"47.857222",INTPTLON:"-122.2638366",Shape_Leng:"7643.431105",Shape_Area:"2355535.587",NHPD_Units:"395",Permits:"1962",Pop:"6690",Pop_density:"7355.881008",Non_white_share:"0.643049327",White_non_hisp:"0.356950673",Black_non_hisp:"0.076831091",Asian_non_Hisp:"0.3122571",Hispanic:"0.129596413",Workers:"3905",Transit_to_work:"0.109346991",Walk_to_Work:"0.01049936",Bike_to_work:"0.010243278",Green_commute_share:"0.130089629",BA_plus_25_plus:"0.37875",Med_HH_inc:"86897",Cost_burdened:"0.473096447",Very_cost_burdened:"0.150253807",Med_housing_value:"416100",Jobs:"1706",Job_density:"1875.804634",Housing_units:"2438",Housing_density:"2680.663363",Permit_density:"2157.285282",Permits_per_capita:"293.2735426",Subsidized_hsg_share:"0.162018048"},{TRACT_ID:"G5300610051912",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51912",GEOID:"53061051912",NAME:"519.12",NAMELSAD:"Census Tract 519.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13271244",AWATER:"187053",INTPTLAT:"47.7848399",INTPTLON:"-122.1063154",Shape_Leng:"16781.40688",Shape_Area:"13458296.81",NHPD_Units:"0",Permits:"115",Pop:"2366",Pop_density:"461.7435916",Non_white_share:"0.28021978",White_non_hisp:"0.71978022",Black_non_hisp:"0.000845309",Asian_non_Hisp:"0.080304311",Hispanic:"0.10693153",Workers:"1208",Transit_to_work:"0.052152318",Walk_to_Work:"0.007450331",Bike_to_work:"0",Green_commute_share:"0.059602649",BA_plus_25_plus:"0.453655728",Med_HH_inc:"137031",Cost_burdened:"0.25",Very_cost_burdened:"0.1375",Med_housing_value:"681400",Jobs:"2959",Job_density:"577.4722263",Housing_units:"794",Housing_density:"154.9553727",Permit_density:"22.44315851",Permits_per_capita:"48.60524091",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051913",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51913",GEOID:"53061051913",NAME:"519.13",NAMELSAD:"Census Tract 519.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3961459",AWATER:"0",INTPTLAT:"47.7999634",INTPTLON:"-122.2682735",Shape_Leng:"10428.82322",Shape_Area:"3961458.149",NHPD_Units:"0",Permits:"250",Pop:"4595",Pop_density:"3004.195012",Non_white_share:"0.271817193",White_non_hisp:"0.728182807",Black_non_hisp:"0.010228509",Asian_non_Hisp:"0.157780196",Hispanic:"0.029815016",Workers:"2406",Transit_to_work:"0.060266002",Walk_to_Work:"0.006650042",Bike_to_work:"0.009975062",Green_commute_share:"0.076891106",BA_plus_25_plus:"0.472034419",Med_HH_inc:"124920",Cost_burdened:"0.424460432",Very_cost_burdened:"0.151079137",Med_housing_value:"624100",Jobs:"256",Job_density:"167.3719092",Housing_units:"1569",Housing_density:"1025.806741",Permit_density:"163.4491301",Permits_per_capita:"54.40696409",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051914",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51914",GEOID:"53061051914",NAME:"519.14",NAMELSAD:"Census Tract 519.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3426954",AWATER:"0",INTPTLAT:"47.7843486",INTPTLON:"-122.2726505",Shape_Leng:"7432.391642",Shape_Area:"3426953.533",NHPD_Units:"0",Permits:"256",Pop:"4414",Pop_density:"3335.967602",Non_white_share:"0.283869506",White_non_hisp:"0.716130494",Black_non_hisp:"0.099229724",Asian_non_Hisp:"0.097190757",Hispanic:"0.03375623",Workers:"2150",Transit_to_work:"0.069767442",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.069767442",BA_plus_25_plus:"0.42675751",Med_HH_inc:"120026",Cost_burdened:"0.39869281",Very_cost_burdened:"0.176470588",Med_housing_value:"592400",Jobs:"174",Job_density:"131.5039336",Housing_units:"1739",Housing_density:"1314.283566",Permit_density:"193.4770517",Permits_per_capita:"57.99728138",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051916",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51916",GEOID:"53061051916",NAME:"519.16",NAMELSAD:"Census Tract 519.16",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2954715",AWATER:"0",INTPTLAT:"47.8002326",INTPTLON:"-122.2291713",Shape_Leng:"10365.14112",Shape_Area:"2954717.848",NHPD_Units:"0",Permits:"399",Pop:"4201",Pop_density:"3682.43301",Non_white_share:"0.290883123",White_non_hisp:"0.709116877",Black_non_hisp:"0.00666508",Asian_non_Hisp:"0.170435611",Hispanic:"0.056415139",Workers:"2450",Transit_to_work:"0.085306122",Walk_to_Work:"0",Bike_to_work:"0.002040816",Green_commute_share:"0.087346939",BA_plus_25_plus:"0.456994819",Med_HH_inc:"123426",Cost_burdened:"0.379310345",Very_cost_burdened:"0.237068966",Med_housing_value:"559200",Jobs:"775",Job_density:"679.3348209",Housing_units:"1526",Housing_density:"1337.632176",Permit_density:"349.7478627",Permits_per_capita:"94.97738634",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051917",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51917",GEOID:"53061051917",NAME:"519.17",NAMELSAD:"Census Tract 519.17",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2932949",AWATER:"0",INTPTLAT:"47.7840394",INTPTLON:"-122.245169",Shape_Leng:"7118.784304",Shape_Area:"2932946.922",NHPD_Units:"0",Permits:"231",Pop:"4442",Pop_density:"3922.580033",Non_white_share:"0.216794237",White_non_hisp:"0.783205763",Black_non_hisp:"0.007203962",Asian_non_Hisp:"0.093651508",Hispanic:"0.062584421",Workers:"2121",Transit_to_work:"0.071664309",Walk_to_Work:"0.001414427",Bike_to_work:"0",Green_commute_share:"0.073078736",BA_plus_25_plus:"0.483502123",Med_HH_inc:"116621",Cost_burdened:"0.205673759",Very_cost_burdened:"0",Med_housing_value:"469000",Jobs:"104",Job_density:"91.83888416",Housing_units:"1659",Housing_density:"1465.006816",Permit_density:"203.9882908",Permits_per_capita:"52.00360198",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051918",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51918",GEOID:"53061051918",NAME:"519.18",NAMELSAD:"Census Tract 519.18",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4478918",AWATER:"0",INTPTLAT:"47.7834491",INTPTLON:"-122.2143889",Shape_Leng:"8849.506346",Shape_Area:"4478916.04",NHPD_Units:"0",Permits:"596",Pop:"6058",Pop_density:"3503.111236",Non_white_share:"0.3316276",White_non_hisp:"0.6683724",Black_non_hisp:"0.016011885",Asian_non_Hisp:"0.237041928",Hispanic:"0.040112248",Workers:"2686",Transit_to_work:"0.131049888",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.131049888",BA_plus_25_plus:"0.5547746",Med_HH_inc:"117717",Cost_burdened:"0.659340659",Very_cost_burdened:"0.285714286",Med_housing_value:"670200",Jobs:"1377",Job_density:"796.2667832",Housing_units:"2299",Housing_density:"1329.424353",Permit_density:"344.644156",Permits_per_capita:"98.38230439",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051921",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51921",GEOID:"53061051921",NAME:"519.21",NAMELSAD:"Census Tract 519.21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2453180",AWATER:"0",INTPTLAT:"47.8208453",INTPTLON:"-122.2204838",Shape_Leng:"7960.786178",Shape_Area:"2453182.544",NHPD_Units:"0",Permits:"839",Pop:"4743",Pop_density:"5007.506016",Non_white_share:"0.444655281",White_non_hisp:"0.555344719",Black_non_hisp:"0.013071895",Asian_non_Hisp:"0.226228126",Hispanic:"0.150748471",Workers:"2750",Transit_to_work:"0.090545455",Walk_to_Work:"0",Bike_to_work:"0.002909091",Green_commute_share:"0.093454545",BA_plus_25_plus:"0.519041769",Med_HH_inc:"101216",Cost_burdened:"0.44384058",Very_cost_burdened:"0.137681159",Med_housing_value:"473900",Jobs:"516",Job_density:"544.776113",Housing_units:"1904",Housing_density:"2010.181626",Permit_density:"885.7890675",Permits_per_capita:"176.8922623",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051922",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51922",GEOID:"53061051922",NAME:"519.22",NAMELSAD:"Census Tract 519.22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3641791",AWATER:"0",INTPTLAT:"47.8111938",INTPTLON:"-122.2246762",Shape_Leng:"10942.80105",Shape_Area:"3641790.329",NHPD_Units:"0",Permits:"1198",Pop:"5467",Pop_density:"3888.049863",Non_white_share:"0.430583501",White_non_hisp:"0.569416499",Black_non_hisp:"0.015547832",Asian_non_Hisp:"0.236327053",Hispanic:"0.111944394",Workers:"3075",Transit_to_work:"0.057886179",Walk_to_Work:"0.001626016",Bike_to_work:"0.01398374",Green_commute_share:"0.073495935",BA_plus_25_plus:"0.56204757",Med_HH_inc:"140278",Cost_burdened:"0.348258706",Very_cost_burdened:"0.10199005",Med_housing_value:"526100",Jobs:"2358",Job_density:"1676.974863",Housing_units:"1943",Housing_density:"1381.832977",Permit_density:"851.9999517",Permits_per_capita:"219.1329797",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051926",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51926",GEOID:"53061051926",NAME:"519.26",NAMELSAD:"Census Tract 519.26",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8484888",AWATER:"0",INTPTLAT:"47.7937223",INTPTLON:"-122.1619673",Shape_Leng:"12827.15833",Shape_Area:"8484890.818",NHPD_Units:"0",Permits:"1089",Pop:"6072",Pop_density:"1853.46086",Non_white_share:"0.371212121",White_non_hisp:"0.628787879",Black_non_hisp:"0.009057971",Asian_non_Hisp:"0.269268775",Hispanic:"0.032114625",Workers:"2973",Transit_to_work:"0.103262698",Walk_to_Work:"0.009418096",Bike_to_work:"0.003027245",Green_commute_share:"0.115708039",BA_plus_25_plus:"0.59654321",Med_HH_inc:"146786",Cost_burdened:"0.665178571",Very_cost_burdened:"0.325892857",Med_housing_value:"734300",Jobs:"1967",Job_density:"600.4211974",Housing_units:"1929",Housing_density:"588.8218047",Permit_density:"332.4141759",Permits_per_capita:"179.3478261",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051927",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51927",GEOID:"53061051927",NAME:"519.27",NAMELSAD:"Census Tract 519.27",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4605385",AWATER:"0",INTPTLAT:"47.8354357",INTPTLON:"-122.2381882",Shape_Leng:"11602.21184",Shape_Area:"4605384.179",NHPD_Units:"0",Permits:"1150",Pop:"5397",Pop_density:"3035.178564",Non_white_share:"0.369649805",White_non_hisp:"0.630350195",Black_non_hisp:"0.017046507",Asian_non_Hisp:"0.239206967",Hispanic:"0.062997962",Workers:"3020",Transit_to_work:"0.062251656",Walk_to_Work:"0.00794702",Bike_to_work:"0",Green_commute_share:"0.070198675",BA_plus_25_plus:"0.480989583",Med_HH_inc:"130130",Cost_burdened:"0.329608939",Very_cost_burdened:"0.05027933",Med_housing_value:"520300",Jobs:"221",Job_density:"124.2865412",Housing_units:"1825",Housing_density:"1026.348134",Permit_density:"646.7399201",Permits_per_capita:"213.0813415",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051928",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51928",GEOID:"53061051928",NAME:"519.28",NAMELSAD:"Census Tract 519.28",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2303496",AWATER:"0",INTPTLAT:"47.8434034",INTPTLON:"-122.2480848",Shape_Leng:"6973.02948",Shape_Area:"2303493.564",NHPD_Units:"0",Permits:"692",Pop:"5570",Pop_density:"6262.756165",Non_white_share:"0.587253142",White_non_hisp:"0.412746858",Black_non_hisp:"0.009694794",Asian_non_Hisp:"0.402154399",Hispanic:"0.120287253",Workers:"3088",Transit_to_work:"0.086787565",Walk_to_Work:"0.014248705",Bike_to_work:"0",Green_commute_share:"0.101036269",BA_plus_25_plus:"0.376962086",Med_HH_inc:"78095",Cost_burdened:"0.528614458",Very_cost_burdened:"0.307981928",Med_housing_value:"479600",Jobs:"1740",Job_density:"1956.408569",Housing_units:"2213",Housing_density:"2488.236875",Permit_density:"778.0659364",Permits_per_capita:"124.2369838",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051929",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51929",GEOID:"53061051929",NAME:"519.29",NAMELSAD:"Census Tract 519.29",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2263399",AWATER:"0",INTPTLAT:"47.812485",INTPTLON:"-122.2816005",Shape_Leng:"6444.951542",Shape_Area:"2263400.032",NHPD_Units:"583",Permits:"554",Pop:"4235",Pop_density:"4846.074266",Non_white_share:"0.497284534",White_non_hisp:"0.502715466",Black_non_hisp:"0.100118064",Asian_non_Hisp:"0.174970484",Hispanic:"0.075088548",Workers:"2211",Transit_to_work:"0.090909091",Walk_to_Work:"0.006784261",Bike_to_work:"0",Green_commute_share:"0.097693351",BA_plus_25_plus:"0.304777595",Med_HH_inc:"88500",Cost_burdened:"0.294117647",Very_cost_burdened:"0.169296987",Med_housing_value:"464300",Jobs:"1535",Job_density:"1756.487367",Housing_units:"1578",Housing_density:"1805.691899",Permit_density:"633.93746",Permits_per_capita:"130.8146399",Subsidized_hsg_share:"0.369455006"},{TRACT_ID:"G5300610051930",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51930",GEOID:"53061051930",NAME:"519.3",NAMELSAD:"Census Tract 519.30",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3050716",AWATER:"0",INTPTLAT:"47.8189812",INTPTLON:"-122.2626598",Shape_Leng:"8121.700167",Shape_Area:"3050715.324",NHPD_Units:"19",Permits:"395",Pop:"5512",Pop_density:"4679.561934",Non_white_share:"0.378991292",White_non_hisp:"0.621008708",Black_non_hisp:"0.02158926",Asian_non_Hisp:"0.146952104",Hispanic:"0.180696662",Workers:"2787",Transit_to_work:"0.056691783",Walk_to_Work:"0.006099749",Bike_to_work:"0.007176175",Green_commute_share:"0.069967707",BA_plus_25_plus:"0.33769354",Med_HH_inc:"97873",Cost_burdened:"0.387308534",Very_cost_burdened:"0.035010941",Med_housing_value:"425400",Jobs:"2040",Job_density:"1731.913343",Housing_units:"1736",Housing_density:"1473.824296",Permit_density:"335.3459659",Permits_per_capita:"71.66182874",Subsidized_hsg_share:"0.0109447"},{TRACT_ID:"G5300610051931",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51931",GEOID:"53061051931",NAME:"519.31",NAMELSAD:"Census Tract 519.31",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1803167",AWATER:"0",INTPTLAT:"47.8145782",INTPTLON:"-122.2457508",Shape_Leng:"6956.403421",Shape_Area:"1803170.739",NHPD_Units:"0",Permits:"887",Pop:"4014",Pop_density:"5765.529357",Non_white_share:"0.343049327",White_non_hisp:"0.656950673",Black_non_hisp:"0.012456403",Asian_non_Hisp:"0.203537618",Hispanic:"0.04608869",Workers:"2151",Transit_to_work:"0.048349605",Walk_to_Work:"0.007438401",Bike_to_work:"0.006973501",Green_commute_share:"0.062761506",BA_plus_25_plus:"0.447481453",Med_HH_inc:"140120",Cost_burdened:"0.244897959",Very_cost_burdened:"0.089795918",Med_housing_value:"545500",Jobs:"438",Job_density:"629.1235323",Housing_units:"1280",Housing_density:"1838.534524",Permit_density:"1274.046971",Permits_per_capita:"220.976582",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051932",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51932",GEOID:"53061051932",NAME:"519.32",NAMELSAD:"Census Tract 519.32",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2340871",AWATER:"0",INTPTLAT:"47.7994579",INTPTLON:"-122.247354",Shape_Leng:"6973.23329",Shape_Area:"2340868.277",NHPD_Units:"0",Permits:"207",Pop:"3790",Pop_density:"4193.33442",Non_white_share:"0.426912929",White_non_hisp:"0.573087071",Black_non_hisp:"0.08469657",Asian_non_Hisp:"0.14116095",Hispanic:"0.079155673",Workers:"2188",Transit_to_work:"0.054387569",Walk_to_Work:"0.01142596",Bike_to_work:"0",Green_commute_share:"0.065813528",BA_plus_25_plus:"0.483452747",Med_HH_inc:"104545",Cost_burdened:"0.596491228",Very_cost_burdened:"0.451754386",Med_housing_value:"413800",Jobs:"307",Job_density:"339.6711523",Housing_units:"1610",Housing_density:"1781.337313",Permit_density:"229.0290831",Permits_per_capita:"54.61741425",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051933",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51933",GEOID:"53061051933",NAME:"519.33",NAMELSAD:"Census Tract 519.33",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2078432",AWATER:"0",INTPTLAT:"47.8348293",INTPTLON:"-122.2169199",Shape_Leng:"7270.514628",Shape_Area:"2078433.676",NHPD_Units:"228",Permits:"1024",Pop:"5397",Pop_density:"6725.341907",Non_white_share:"0.433018344",White_non_hisp:"0.566981656",Black_non_hisp:"0.050768946",Asian_non_Hisp:"0.235686492",Hispanic:"0.023161015",Workers:"2745",Transit_to_work:"0.02003643",Walk_to_Work:"0.036794171",Bike_to_work:"0",Green_commute_share:"0.056830601",BA_plus_25_plus:"0.377894412",Med_HH_inc:"120731",Cost_burdened:"0.574675325",Very_cost_burdened:"0.183441558",Med_housing_value:"585300",Jobs:"1172",Job_density:"1460.459647",Housing_units:"1590",Housing_density:"1981.340306",Permit_density:"1276.033002",Permits_per_capita:"189.735038",Subsidized_hsg_share:"0.143396226"},{TRACT_ID:"G5300610051934",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51934",GEOID:"53061051934",NAME:"519.34",NAMELSAD:"Census Tract 519.34",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1644400",AWATER:"0",INTPTLAT:"47.8301407",INTPTLON:"-122.1990771",Shape_Leng:"5702.857919",Shape_Area:"1644398.774",NHPD_Units:"0",Permits:"461",Pop:"3908",Pop_density:"6155.238102",Non_white_share:"0.386131013",White_non_hisp:"0.613868987",Black_non_hisp:"0.019447288",Asian_non_Hisp:"0.140992835",Hispanic:"0.093398158",Workers:"2139",Transit_to_work:"0.089294063",Walk_to_Work:"0.006545115",Bike_to_work:"0.057035998",Green_commute_share:"0.152875175",BA_plus_25_plus:"0.422735346",Med_HH_inc:"106131",Cost_burdened:"0.487804878",Very_cost_burdened:"0.264808362",Med_housing_value:"435600",Jobs:"507",Job_density:"798.5429165",Housing_units:"1324",Housing_density:"2085.346788",Permit_density:"726.091291",Permits_per_capita:"117.9631525",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051935",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51935",GEOID:"53061051935",NAME:"519.35",NAMELSAD:"Census Tract 519.35",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1590355",AWATER:"0",INTPTLAT:"47.8214335",INTPTLON:"-122.1928479",Shape_Leng:"7032.459804",Shape_Area:"1590356.442",NHPD_Units:"0",Permits:"478",Pop:"3535",Pop_density:"5756.958648",Non_white_share:"0.362093352",White_non_hisp:"0.637906648",Black_non_hisp:"0",Asian_non_Hisp:"0.226874116",Hispanic:"0.076096181",Workers:"1861",Transit_to_work:"0.036539495",Walk_to_Work:"0",Bike_to_work:"0.002686728",Green_commute_share:"0.039226222",BA_plus_25_plus:"0.410683761",Med_HH_inc:"102500",Cost_burdened:"0.636363636",Very_cost_burdened:"0.106060606",Med_housing_value:"519900",Jobs:"169",Job_density:"275.2265945",Housing_units:"1139",Housing_density:"1854.929533",Permit_density:"778.4515512",Permits_per_capita:"135.2192362",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051936",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51936",GEOID:"53061051936",NAME:"519.36",NAMELSAD:"Census Tract 519.36",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1064607",AWATER:"0",INTPTLAT:"47.8151621",INTPTLON:"-122.2012558",Shape_Leng:"4380.077156",Shape_Area:"1064608.131",NHPD_Units:"289",Permits:"712",Pop:"4310",Pop_density:"10485.41739",Non_white_share:"0.553364269",White_non_hisp:"0.446635731",Black_non_hisp:"0.079814385",Asian_non_Hisp:"0.323433875",Hispanic:"0.089327146",Workers:"2109",Transit_to_work:"0.04362257",Walk_to_Work:"0.044570887",Bike_to_work:"0",Green_commute_share:"0.088193457",BA_plus_25_plus:"0.523987751",Med_HH_inc:"92917",Cost_burdened:"0.360266864",Very_cost_burdened:"0.113417346",Med_housing_value:"497700",Jobs:"448",Job_density:"1089.899534",Housing_units:"1808",Housing_density:"4398.52312",Permit_density:"1732.16176",Permits_per_capita:"165.1972158",Subsidized_hsg_share:"0.159845133"},{TRACT_ID:"G5300610051937",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51937",GEOID:"53061051937",NAME:"519.37",NAMELSAD:"Census Tract 519.37",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4055746",AWATER:"0",INTPTLAT:"47.8028629",INTPTLON:"-122.1927292",Shape_Leng:"9038.972539",Shape_Area:"4055744.949",NHPD_Units:"0",Permits:"989",Pop:"4949",Pop_density:"3160.417629",Non_white_share:"0.344716104",White_non_hisp:"0.655283896",Black_non_hisp:"0",Asian_non_Hisp:"0.310971914",Hispanic:"0.032935947",Workers:"2063",Transit_to_work:"0.037324285",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.037324285",BA_plus_25_plus:"0.582207578",Med_HH_inc:"152349",Cost_burdened:"0.380733945",Very_cost_burdened:"0.380733945",Med_housing_value:"706800",Jobs:"4347",Job_density:"2775.982104",Housing_units:"1579",Housing_density:"1008.345006",Permit_density:"631.5726481",Permits_per_capita:"199.8383512",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610051938",STATEFP:"53",COUNTYFP:"61",TRACTCE:"51938",GEOID:"53061051938",NAME:"519.38",NAMELSAD:"Census Tract 519.38",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3961856",AWATER:"0",INTPTLAT:"47.7868997",INTPTLON:"-122.1893549",Shape_Leng:"10418.2969",Shape_Area:"3961858.084",NHPD_Units:"0",Permits:"744",Pop:"4281",Pop_density:"2798.622439",Non_white_share:"0.553141789",White_non_hisp:"0.446858211",Black_non_hisp:"0.021723896",Asian_non_Hisp:"0.359261855",Hispanic:"0.106283579",Workers:"2292",Transit_to_work:"0.07417103",Walk_to_Work:"0.026614311",Bike_to_work:"0",Green_commute_share:"0.10078534",BA_plus_25_plus:"0.656260604",Med_HH_inc:"119195",Cost_burdened:"0.429455446",Very_cost_burdened:"0.068069307",Med_housing_value:"621700",Jobs:"4512",Job_density:"2949.634301",Housing_units:"1612",Housing_density:"1053.814382",Permit_density:"486.3758688",Permits_per_capita:"173.7911703",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052004",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52004",GEOID:"53061052004",NAME:"520.04",NAMELSAD:"Census Tract 520.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3313819",AWATER:"10540",INTPTLAT:"47.8690389",INTPTLON:"-122.2075038",Shape_Leng:"9508.242814",Shape_Area:"3324360.068",NHPD_Units:"0",Permits:"481",Pop:"6656",Pop_density:"5202.143165",Non_white_share:"0.33999399",White_non_hisp:"0.66000601",Black_non_hisp:"0.050330529",Asian_non_Hisp:"0.150991587",Hispanic:"0.039813702",Workers:"3327",Transit_to_work:"0.055906222",Walk_to_Work:"0.00270514",Bike_to_work:"0",Green_commute_share:"0.058611362",BA_plus_25_plus:"0.452262443",Med_HH_inc:"146923",Cost_burdened:"0.347765363",Very_cost_burdened:"0.266759777",Med_housing_value:"559700",Jobs:"1216",Job_density:"950.3915398",Housing_units:"2436",Housing_density:"1903.909368",Permit_density:"375.9361272",Permits_per_capita:"72.265625",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052005",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52005",GEOID:"53061052005",NAME:"520.05",NAMELSAD:"Census Tract 520.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3584648",AWATER:"0",INTPTLAT:"47.8578901",INTPTLON:"-122.203846",Shape_Leng:"9089.177395",Shape_Area:"3584646.513",NHPD_Units:"0",Permits:"228",Pop:"5626",Pop_density:"4064.910448",Non_white_share:"0.308034127",White_non_hisp:"0.691965873",Black_non_hisp:"0.014041948",Asian_non_Hisp:"0.179168148",Hispanic:"0.022218272",Workers:"3153",Transit_to_work:"0.053599746",Walk_to_Work:"0.008880431",Bike_to_work:"0",Green_commute_share:"0.062480178",BA_plus_25_plus:"0.534137515",Med_HH_inc:"103393",Cost_burdened:"0.432465923",Very_cost_burdened:"0.153655514",Med_housing_value:"610200",Jobs:"951",Job_density:"687.1187053",Housing_units:"2542",Housing_density:"1836.651681",Permit_density:"164.7350839",Permits_per_capita:"40.52612869",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052006",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52006",GEOID:"53061052006",NAME:"520.06",NAMELSAD:"Census Tract 520.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1931646",AWATER:"0",INTPTLAT:"47.8494688",INTPTLON:"-122.1963238",Shape_Leng:"6691.4078",Shape_Area:"1931645.742",NHPD_Units:"220",Permits:"38",Pop:"4142",Pop_density:"5553.673268",Non_white_share:"0.395219701",White_non_hisp:"0.604780299",Black_non_hisp:"0.038870111",Asian_non_Hisp:"0.241429261",Hispanic:"0.095847417",Workers:"1958",Transit_to_work:"0.063329928",Walk_to_Work:"0.013789581",Bike_to_work:"0.003575077",Green_commute_share:"0.080694586",BA_plus_25_plus:"0.497815004",Med_HH_inc:"130341",Cost_burdened:"0.443820225",Very_cost_burdened:"0.191011236",Med_housing_value:"573800",Jobs:"336",Job_density:"450.5152627",Housing_units:"1362",Housing_density:"1826.195797",Permit_density:"50.9511309",Permits_per_capita:"9.174311927",Subsidized_hsg_share:"0.161527166"},{TRACT_ID:"G5300610052007",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52007",GEOID:"53061052007",NAME:"520.07",NAMELSAD:"Census Tract 520.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2194446",AWATER:"0",INTPTLAT:"47.8395035",INTPTLON:"-122.1993428",Shape_Leng:"7103.786228",Shape_Area:"2194443.574",NHPD_Units:"0",Permits:"652",Pop:"5835",Pop_density:"6886.740719",Non_white_share:"0.384061697",White_non_hisp:"0.615938303",Black_non_hisp:"0.012339332",Asian_non_Hisp:"0.240959726",Hispanic:"0.079348757",Workers:"3044",Transit_to_work:"0.049934297",Walk_to_Work:"0.004599212",Bike_to_work:"0.011826544",Green_commute_share:"0.066360053",BA_plus_25_plus:"0.458475242",Med_HH_inc:"130099",Cost_burdened:"0.494318182",Very_cost_burdened:"0",Med_housing_value:"516800",Jobs:"908",Job_density:"1071.664194",Housing_units:"1727",Housing_density:"2038.286413",Permit_density:"769.5209852",Permits_per_capita:"111.739503",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052008",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52008",GEOID:"53061052008",NAME:"520.08",NAMELSAD:"Census Tract 520.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1937400",AWATER:"27393",INTPTLAT:"47.8705129",INTPTLON:"-122.1809281",Shape_Leng:"6133.318895",Shape_Area:"1964792.909",NHPD_Units:"0",Permits:"1920",Pop:"4210",Pop_density:"5628.084001",Non_white_share:"0.482660333",White_non_hisp:"0.517339667",Black_non_hisp:"0.039667458",Asian_non_Hisp:"0.241567696",Hispanic:"0.128266033",Workers:"2087",Transit_to_work:"0.071873503",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.071873503",BA_plus_25_plus:"0.539182602",Med_HH_inc:"107375",Cost_burdened:"0.611650485",Very_cost_burdened:"0.127831715",Med_housing_value:"632500",Jobs:"160",Job_density:"213.8939288",Housing_units:"1635",Housing_density:"2185.728585",Permit_density:"2566.727146",Permits_per_capita:"456.0570071",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052009",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52009",GEOID:"53061052009",NAME:"520.09",NAMELSAD:"Census Tract 520.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2325953",AWATER:"0",INTPTLAT:"47.8436528",INTPTLON:"-122.1769122",Shape_Leng:"7214.483969",Shape_Area:"2325952.947",NHPD_Units:"0",Permits:"1242",Pop:"3915",Pop_density:"4359.418893",Non_white_share:"0.595402299",White_non_hisp:"0.404597701",Black_non_hisp:"0.003320562",Asian_non_Hisp:"0.43192848",Hispanic:"0.112643678",Workers:"1889",Transit_to_work:"0.07623081",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.07623081",BA_plus_25_plus:"0.769655759",Med_HH_inc:"183238",Cost_burdened:"0.565217391",Very_cost_burdened:"0.347826087",Med_housing_value:"692500",Jobs:"56",Job_density:"62.35694968",Housing_units:"1209",Housing_density:"1346.242003",Permit_density:"1382.988063",Permits_per_capita:"317.2413793",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052010",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52010",GEOID:"53061052010",NAME:"520.1",NAMELSAD:"Census Tract 520.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1604539",AWATER:"0",INTPTLAT:"47.8566944",INTPTLON:"-122.1791458",Shape_Leng:"5544.148263",Shape_Area:"1604540.069",NHPD_Units:"0",Permits:"1308",Pop:"4311",Pop_density:"6958.658371",Non_white_share:"0.497332405",White_non_hisp:"0.502667595",Black_non_hisp:"0.006031083",Asian_non_Hisp:"0.357457666",Hispanic:"0.050104384",Workers:"1923",Transit_to_work:"0.088403536",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.088403536",BA_plus_25_plus:"0.505950234",Med_HH_inc:"130058",Cost_burdened:"0.508196721",Very_cost_burdened:"0.508196721",Med_housing_value:"597300",Jobs:"251",Job_density:"405.1550107",Housing_units:"1299",Housing_density:"2096.798243",Permit_density:"2111.325713",Permits_per_capita:"303.4098817",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052104",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52104",GEOID:"53061052104",NAME:"521.04",NAMELSAD:"Census Tract 521.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"43472968",AWATER:"6874692",INTPTLAT:"47.98669",INTPTLON:"-122.1669598",Shape_Leng:"52692.69238",Shape_Area:"48568664.23",NHPD_Units:"0",Permits:"854",Pop:"3592",Pop_density:"214.0005093",Non_white_share:"0.286469933",White_non_hisp:"0.713530067",Black_non_hisp:"0.013084633",Asian_non_Hisp:"0.106347439",Hispanic:"0.11636971",Workers:"1947",Transit_to_work:"0.024653313",Walk_to_Work:"0.002568053",Bike_to_work:"0",Green_commute_share:"0.027221366",BA_plus_25_plus:"0.394234673",Med_HH_inc:"107396",Cost_burdened:"0.188118812",Very_cost_burdened:"0.079207921",Med_housing_value:"393900",Jobs:"734",Job_density:"43.72950273",Housing_units:"1612",Housing_density:"96.03809047",Permit_density:"50.87874024",Permits_per_capita:"237.7505568",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052105",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52105",GEOID:"53061052105",NAME:"521.05",NAMELSAD:"Census Tract 521.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"51624895",AWATER:"3007334",INTPTLAT:"47.8770813",INTPTLON:"-122.0961284",Shape_Leng:"38744.97442",Shape_Area:"54632226.96",NHPD_Units:"0",Permits:"106",Pop:"1746",Pop_density:"87.59570824",Non_white_share:"0.088774341",White_non_hisp:"0.911225659",Black_non_hisp:"0.005154639",Asian_non_Hisp:"0.019473081",Hispanic:"0.038373425",Workers:"916",Transit_to_work:"0.009825328",Walk_to_Work:"0.004366812",Bike_to_work:"0",Green_commute_share:"0.01419214",BA_plus_25_plus:"0.361454047",Med_HH_inc:"106719",Cost_burdened:"0.303030303",Very_cost_burdened:"0",Med_housing_value:"611800",Jobs:"586",Job_density:"29.39924687",Housing_units:"744",Housing_density:"37.32600626",Permit_density:"5.317952505",Permits_per_capita:"60.71019473",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052107",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52107",GEOID:"53061052107",NAME:"521.07",NAMELSAD:"Census Tract 521.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12464839",AWATER:"0",INTPTLAT:"47.8242011",INTPTLON:"-122.1557842",Shape_Leng:"16146.45605",Shape_Area:"12464840.42",NHPD_Units:"0",Permits:"1733",Pop:"8258",Pop_density:"1715.876299",Non_white_share:"0.504480504",White_non_hisp:"0.495519496",Black_non_hisp:"0.034996367",Asian_non_Hisp:"0.388835069",Hispanic:"0.026398644",Workers:"4267",Transit_to_work:"0.041715491",Walk_to_Work:"0.001640497",Bike_to_work:"0",Green_commute_share:"0.043355988",BA_plus_25_plus:"0.608903324",Med_HH_inc:"165545",Cost_burdened:"0.297592998",Very_cost_burdened:"0.100656455",Med_housing_value:"682400",Jobs:"789",Job_density:"163.9411964",Housing_units:"2816",Housing_density:"585.1183893",Permit_density:"360.0888383",Permits_per_capita:"209.8571083",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052108",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52108",GEOID:"53061052108",NAME:"521.08",NAMELSAD:"Census Tract 521.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"23455578",AWATER:"0",INTPTLAT:"47.8311535",INTPTLON:"-122.1027792",Shape_Leng:"25715.95934",Shape_Area:"23455578.15",NHPD_Units:"0",Permits:"276",Pop:"5863",Pop_density:"647.398256",Non_white_share:"0.134913867",White_non_hisp:"0.865086133",Black_non_hisp:"0.004775712",Asian_non_Hisp:"0.022514071",Hispanic:"0.042128603",Workers:"3258",Transit_to_work:"0.00859423",Walk_to_Work:"0.015346839",Bike_to_work:"0.002762431",Green_commute_share:"0.026703499",BA_plus_25_plus:"0.438848921",Med_HH_inc:"153350",Cost_burdened:"0.405882353",Very_cost_burdened:"0.241176471",Med_housing_value:"569100",Jobs:"2414",Job_density:"266.5562664",Housing_units:"2087",Housing_density:"230.4486032",Permit_density:"30.47619285",Permits_per_capita:"47.07487634",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052112",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52112",GEOID:"53061052112",NAME:"521.12",NAMELSAD:"Census Tract 521.12",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14664696",AWATER:"0",INTPTLAT:"47.8015401",INTPTLON:"-122.0714441",Shape_Leng:"19867.93324",Shape_Area:"14664697.07",NHPD_Units:"0",Permits:"220",Pop:"2817",Pop_density:"497.521156",Non_white_share:"0.151224707",White_non_hisp:"0.848775293",Black_non_hisp:"0.014199503",Asian_non_Hisp:"0.025559105",Hispanic:"0.079162229",Workers:"1405",Transit_to_work:"0.049822064",Walk_to_Work:"0.041281139",Bike_to_work:"0.004270463",Green_commute_share:"0.095373665",BA_plus_25_plus:"0.402527953",Med_HH_inc:"139000",Cost_burdened:"0.631578947",Very_cost_burdened:"0.105263158",Med_housing_value:"659600",Jobs:"164",Job_density:"28.96466794",Housing_units:"935",Housing_density:"165.13393",Permit_density:"38.85504236",Permits_per_capita:"78.0972666",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052113",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52113",GEOID:"53061052113",NAME:"521.13",NAMELSAD:"Census Tract 521.13",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22146575",AWATER:"184549",INTPTLAT:"47.7924069",INTPTLON:"-122.0214425",Shape_Leng:"24903.3237",Shape_Area:"22331129.51",NHPD_Units:"0",Permits:"308",Pop:"3094",Pop_density:"361.8357788",Non_white_share:"0.14221073",White_non_hisp:"0.85778927",Black_non_hisp:"0.015513898",Asian_non_Hisp:"0.020361991",Hispanic:"0.057207498",Workers:"1683",Transit_to_work:"0.037433155",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.037433155",BA_plus_25_plus:"0.485507246",Med_HH_inc:"145147",Cost_burdened:"0.288888889",Very_cost_burdened:"0.044444444",Med_housing_value:"652700",Jobs:"219",Job_density:"25.61151763",Housing_units:"1103",Housing_density:"128.9931687",Permit_density:"36.01985129",Permits_per_capita:"99.54751131",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052114",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52114",GEOID:"53061052114",NAME:"521.14",NAMELSAD:"Census Tract 521.14",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"6566075",AWATER:"0",INTPTLAT:"47.8507229",INTPTLON:"-122.1547037",Shape_Leng:"12283.21748",Shape_Area:"6566073.202",NHPD_Units:"0",Permits:"207",Pop:"4661",Pop_density:"1838.531327",Non_white_share:"0.223771723",White_non_hisp:"0.776228277",Black_non_hisp:"0.004076378",Asian_non_Hisp:"0.093756705",Hispanic:"0.033683759",Workers:"2528",Transit_to_work:"0.021360759",Walk_to_Work:"0.008702532",Bike_to_work:"0",Green_commute_share:"0.030063291",BA_plus_25_plus:"0.52",Med_HH_inc:"152054",Cost_burdened:"0.465517241",Very_cost_burdened:"0.137931034",Med_housing_value:"567800",Jobs:"459",Job_density:"181.0525379",Housing_units:"1575",Housing_density:"621.2587084",Permit_density:"81.65114453",Permits_per_capita:"44.41107059",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052119",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52119",GEOID:"53061052119",NAME:"521.19",NAMELSAD:"Census Tract 521.19",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1350849",AWATER:"0",INTPTLAT:"47.8715231",INTPTLON:"-122.1632712",Shape_Leng:"5147.464073",Shape_Area:"1350848.28",NHPD_Units:"0",Permits:"195",Pop:"3251",Pop_density:"6233.15511",Non_white_share:"0.302060904",White_non_hisp:"0.697939096",Black_non_hisp:"0.143032913",Asian_non_Hisp:"0.077822209",Hispanic:"0.022147032",Workers:"1878",Transit_to_work:"0.074014909",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.074014909",BA_plus_25_plus:"0.459031236",Med_HH_inc:"150833",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"427900",Jobs:"426",Job_density:"816.7714785",Housing_units:"1034",Housing_density:"1982.492274",Permit_density:"373.8742683",Permits_per_capita:"59.98154414",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052120",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52120",GEOID:"53061052120",NAME:"521.2",NAMELSAD:"Census Tract 521.20",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1630868",AWATER:"0",INTPTLAT:"47.86827",INTPTLON:"-122.1509386",Shape_Leng:"5380.266879",Shape_Area:"1630869.339",NHPD_Units:"0",Permits:"0",Pop:"3669",Pop_density:"5826.753837",Non_white_share:"0.204415372",White_non_hisp:"0.795584628",Black_non_hisp:"0",Asian_non_Hisp:"0.047969474",Hispanic:"0.105750886",Workers:"1918",Transit_to_work:"0.097497393",Walk_to_Work:"0.016684046",Bike_to_work:"0",Green_commute_share:"0.114181439",BA_plus_25_plus:"0.382173382",Med_HH_inc:"129196",Cost_burdened:"0.302325581",Very_cost_burdened:"0",Med_housing_value:"477700",Jobs:"420",Job_density:"667.0037099",Housing_units:"1248",Housing_density:"1981.953881",Permit_density:"0",Permits_per_capita:"0",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052121",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52121",GEOID:"53061052121",NAME:"521.21",NAMELSAD:"Census Tract 521.21",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2651040",AWATER:"0",INTPTLAT:"47.8813812",INTPTLON:"-122.1464488",Shape_Leng:"8397.968914",Shape_Area:"2651043.729",NHPD_Units:"0",Permits:"326",Pop:"3944",Pop_density:"3853.172003",Non_white_share:"0.261663286",White_non_hisp:"0.738336714",Black_non_hisp:"0",Asian_non_Hisp:"0.104462475",Hispanic:"0.10015213",Workers:"2345",Transit_to_work:"0.081449893",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.081449893",BA_plus_25_plus:"0.307604563",Med_HH_inc:"127850",Cost_burdened:"0.166666667",Very_cost_burdened:"0.166666667",Med_housing_value:"472400",Jobs:"236",Job_density:"230.565059",Housing_units:"1219",Housing_density:"1190.927148",Permit_density:"318.492412",Permits_per_capita:"82.65720081",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052122",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52122",GEOID:"53061052122",NAME:"521.22",NAMELSAD:"Census Tract 521.22",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8592063",AWATER:"0",INTPTLAT:"47.8617605",INTPTLON:"-122.127549",Shape_Leng:"18607.01152",Shape_Area:"8592061.531",NHPD_Units:"0",Permits:"849",Pop:"3991",Pop_density:"1203.045479",Non_white_share:"0.191681283",White_non_hisp:"0.808318717",Black_non_hisp:"0.01528439",Asian_non_Hisp:"0.087947883",Hispanic:"0.047356552",Workers:"1922",Transit_to_work:"0.028095734",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.028095734",BA_plus_25_plus:"0.390870733",Med_HH_inc:"116553",Cost_burdened:"0.590909091",Very_cost_burdened:"0.136363636",Med_housing_value:"579000",Jobs:"426",Job_density:"128.4132734",Housing_units:"1313",Housing_density:"395.7902065",Permit_density:"255.9222279",Permits_per_capita:"212.7286394",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052203",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52203",GEOID:"53061052203",NAME:"522.03",NAMELSAD:"Census Tract 522.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"17282595",AWATER:"0",INTPTLAT:"47.8782194",INTPTLON:"-121.9822045",Shape_Leng:"23942.15773",Shape_Area:"17282600.65",NHPD_Units:"0",Permits:"1110",Pop:"5920",Pop_density:"887.1775108",Non_white_share:"0.225",White_non_hisp:"0.775",Black_non_hisp:"0.000168919",Asian_non_Hisp:"0.062837838",Hispanic:"0.117736486",Workers:"3313",Transit_to_work:"0.00724419",Walk_to_Work:"0.031391488",Bike_to_work:"0",Green_commute_share:"0.038635678",BA_plus_25_plus:"0.388473054",Med_HH_inc:"115607",Cost_burdened:"0.106796117",Very_cost_burdened:"0",Med_housing_value:"475000",Jobs:"2665",Job_density:"399.3797409",Housing_units:"2032",Housing_density:"304.5176862",Permit_density:"166.3457833",Permits_per_capita:"187.5",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052204",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52204",GEOID:"53061052204",NAME:"522.04",NAMELSAD:"Census Tract 522.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8919035",AWATER:"0",INTPTLAT:"47.8652822",INTPTLON:"-122.0178334",Shape_Leng:"13832.08308",Shape_Area:"8919036.251",NHPD_Units:"24",Permits:"182",Pop:"5540",Pop_density:"1608.754101",Non_white_share:"0.261732852",White_non_hisp:"0.738267148",Black_non_hisp:"0.01101083",Asian_non_Hisp:"0.060288809",Hispanic:"0.103429603",Workers:"2733",Transit_to_work:"0.019392609",Walk_to_Work:"0.013538236",Bike_to_work:"0.005488474",Green_commute_share:"0.038419319",BA_plus_25_plus:"0.273069135",Med_HH_inc:"98864",Cost_burdened:"0.446601942",Very_cost_burdened:"0.247572816",Med_housing_value:"374400",Jobs:"3097",Job_density:"899.3341968",Housing_units:"1682",Housing_density:"488.4340068",Permit_density:"52.85076649",Permits_per_capita:"32.85198556",Subsidized_hsg_share:"0.014268728"},{TRACT_ID:"G5300610052206",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52206",GEOID:"53061052206",NAME:"522.06",NAMELSAD:"Census Tract 522.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"51544459",AWATER:"656136",INTPTLAT:"47.927243",INTPTLON:"-121.938058",Shape_Leng:"34633.36821",Shape_Area:"52200595.52",NHPD_Units:"0",Permits:"742",Pop:"5292",Pop_density:"265.9105818",Non_white_share:"0.080498866",White_non_hisp:"0.919501134",Black_non_hisp:"0",Asian_non_Hisp:"0.016817838",Hispanic:"0.02532124",Workers:"2731",Transit_to_work:"0.016477481",Walk_to_Work:"0.014280483",Bike_to_work:"0",Green_commute_share:"0.030757964",BA_plus_25_plus:"0.358270989",Med_HH_inc:"142500",Cost_burdened:"0.571428571",Very_cost_burdened:"0",Med_housing_value:"532600",Jobs:"244",Job_density:"12.26042743",Housing_units:"1740",Housing_density:"87.43091691",Permit_density:"37.28375882",Permits_per_capita:"140.2116402",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052207",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52207",GEOID:"53061052207",NAME:"522.07",NAMELSAD:"Census Tract 522.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"67001267",AWATER:"280666",INTPTLAT:"47.9021504",INTPTLON:"-121.8778153",Shape_Leng:"44040.23121",Shape_Area:"67281940.91",NHPD_Units:"0",Permits:"516",Pop:"6477",Pop_density:"250.3736682",Non_white_share:"0.174463486",White_non_hisp:"0.825536514",Black_non_hisp:"0",Asian_non_Hisp:"0.003396634",Hispanic:"0.094179404",Workers:"3207",Transit_to_work:"0.018397256",Walk_to_Work:"0.001870907",Bike_to_work:"0.012784534",Green_commute_share:"0.033052697",BA_plus_25_plus:"0.182920912",Med_HH_inc:"109732",Cost_burdened:"0.421800948",Very_cost_burdened:"0.156398104",Med_housing_value:"442800",Jobs:"553",Job_density:"21.3766618",Housing_units:"2032",Housing_density:"78.54860178",Permit_density:"19.94639691",Permits_per_capita:"79.66651227",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052208",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52208",GEOID:"53061052208",NAME:"522.08",NAMELSAD:"Census Tract 522.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1870671",AWATER:"0",INTPTLAT:"47.8561301",INTPTLON:"-121.9858885",Shape_Leng:"7759.373501",Shape_Area:"1870669.999",NHPD_Units:"86",Permits:"302",Pop:"4037",Pop_density:"5589.321693",Non_white_share:"0.325984642",White_non_hisp:"0.674015358",Black_non_hisp:"0.024027743",Asian_non_Hisp:"0.013128561",Hispanic:"0.243249938",Workers:"1825",Transit_to_work:"0",Walk_to_Work:"0.056986301",Bike_to_work:"0.026849315",Green_commute_share:"0.083835616",BA_plus_25_plus:"0.204963629",Med_HH_inc:"64253",Cost_burdened:"0.546496815",Very_cost_burdened:"0.229299363",Med_housing_value:"359100",Jobs:"1150",Job_density:"1592.202117",Housing_units:"1499",Housing_density:"2075.400847",Permit_density:"418.1261212",Permits_per_capita:"74.80802576",Subsidized_hsg_share:"0.057371581"},{TRACT_ID:"G5300610052210",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52210",GEOID:"53061052210",NAME:"522.1",NAMELSAD:"Census Tract 522.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2801074",AWATER:"156304",INTPTLAT:"47.8499213",INTPTLON:"-121.9792683",Shape_Leng:"8100.417816",Shape_Area:"2957376.676",NHPD_Units:"236",Permits:"207",Pop:"2253",Pop_density:"2083.216371",Non_white_share:"0.352418997",White_non_hisp:"0.647581003",Black_non_hisp:"0.003994674",Asian_non_Hisp:"0.021304927",Hispanic:"0.268530848",Workers:"1171",Transit_to_work:"0.023911187",Walk_to_Work:"0.046114432",Bike_to_work:"0.003415884",Green_commute_share:"0.073441503",BA_plus_25_plus:"0.235135135",Med_HH_inc:"92830",Cost_burdened:"0.277161863",Very_cost_burdened:"0.168514412",Med_housing_value:"361600",Jobs:"1796",Job_density:"1660.655394",Housing_units:"887",Housing_density:"820.1566449",Permit_density:"191.4007052",Permits_per_capita:"91.87749667",Subsidized_hsg_share:"0.266065389"},{TRACT_ID:"G5300610052211",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52211",GEOID:"53061052211",NAME:"522.11",NAMELSAD:"Census Tract 522.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5711236",AWATER:"0",INTPTLAT:"47.8349978",INTPTLON:"-122.0103665",Shape_Leng:"12492.85189",Shape_Area:"5711234.987",NHPD_Units:"47",Permits:"135",Pop:"3709",Pop_density:"1681.994213",Non_white_share:"0.474791049",White_non_hisp:"0.525208951",Black_non_hisp:"0.170396333",Asian_non_Hisp:"0.027770288",Hispanic:"0.14720949",Workers:"239",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.052471944",Med_HH_inc:"82054",Cost_burdened:"0.176470588",Very_cost_burdened:"0.088235294",Med_housing_value:"342300",Jobs:"1205",Job_density:"546.455386",Housing_units:"194",Housing_density:"87.9770497",Permit_density:"61.22114283",Permits_per_capita:"36.39795093",Subsidized_hsg_share:"0.242268041"},{TRACT_ID:"G5300610052301",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52301",GEOID:"53061052301",NAME:"523.01",NAMELSAD:"Census Tract 523.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"39269982",AWATER:"731026",INTPTLAT:"47.9615588",INTPTLON:"-122.0179744",Shape_Leng:"28903.16674",Shape_Area:"40001010.3",NHPD_Units:"0",Permits:"455",Pop:"4914",Pop_density:"324.0949174",Non_white_share:"0.170940171",White_non_hisp:"0.829059829",Black_non_hisp:"0",Asian_non_Hisp:"0.044159544",Hispanic:"0.057590558",Workers:"2670",Transit_to_work:"0.011610487",Walk_to_Work:"0.002996255",Bike_to_work:"0.008614232",Green_commute_share:"0.023220974",BA_plus_25_plus:"0.255844846",Med_HH_inc:"129444",Cost_burdened:"0.230769231",Very_cost_burdened:"0.230769231",Med_housing_value:"469000",Jobs:"426",Job_density:"28.09614058",Housing_units:"1739",Housing_density:"114.6929307",Permit_density:"30.00878865",Permits_per_capita:"92.59259259",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052302",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52302",GEOID:"53061052302",NAME:"523.02",NAMELSAD:"Census Tract 523.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"34210958",AWATER:"0",INTPTLAT:"47.9119988",INTPTLON:"-122.0322076",Shape_Leng:"26162.62007",Shape_Area:"34210955.51",NHPD_Units:"0",Permits:"352",Pop:"5043",Pop_density:"381.7873221",Non_white_share:"0.119571684",White_non_hisp:"0.880428316",Black_non_hisp:"0",Asian_non_Hisp:"0",Hispanic:"0.092008725",Workers:"2505",Transit_to_work:"0.039520958",Walk_to_Work:"0.008383234",Bike_to_work:"0",Green_commute_share:"0.047904192",BA_plus_25_plus:"0.359062171",Med_HH_inc:"114688",Cost_burdened:"0.588235294",Very_cost_burdened:"0.176470588",Med_housing_value:"606200",Jobs:"627",Job_density:"47.46790619",Housing_units:"1744",Housing_density:"132.0319432",Permit_density:"26.64864909",Permits_per_capita:"69.79972239",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052401",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52401",GEOID:"53061052401",NAME:"524.01",NAMELSAD:"Census Tract 524.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3869490",AWATER:"279362",INTPTLAT:"47.9255961",INTPTLON:"-122.0955436",Shape_Leng:"10252.75383",Shape_Area:"4148849.566",NHPD_Units:"128",Permits:"188",Pop:"4245",Pop_density:"2841.330389",Non_white_share:"0.142756184",White_non_hisp:"0.857243816",Black_non_hisp:"0.005889282",Asian_non_Hisp:"0.032508834",Hispanic:"0.044758539",Workers:"1792",Transit_to_work:"0.002232143",Walk_to_Work:"0.044642857",Bike_to_work:"0",Green_commute_share:"0.046875",BA_plus_25_plus:"0.238894373",Med_HH_inc:"64306",Cost_burdened:"0.472566372",Very_cost_burdened:"0.203539823",Med_housing_value:"381500",Jobs:"2759",Job_density:"1846.697419",Housing_units:"1915",Housing_density:"1281.77802",Permit_density:"125.8351268",Permits_per_capita:"44.28739694",Subsidized_hsg_share:"0.066840731"},{TRACT_ID:"G5300610052402",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52402",GEOID:"53061052402",NAME:"524.02",NAMELSAD:"Census Tract 524.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2430117",AWATER:"39531",INTPTLAT:"47.9150606",INTPTLON:"-122.0895205",Shape_Leng:"7754.802804",Shape_Area:"2469651.51",NHPD_Units:"0",Permits:"206",Pop:"4328",Pop_density:"4612.727923",Non_white_share:"0.181146026",White_non_hisp:"0.818853974",Black_non_hisp:"0.004158965",Asian_non_Hisp:"0.034426987",Hispanic:"0.076478743",Workers:"1937",Transit_to_work:"0.008260196",Walk_to_Work:"0.005678885",Bike_to_work:"0.005678885",Green_commute_share:"0.019617966",BA_plus_25_plus:"0.270674195",Med_HH_inc:"52744",Cost_burdened:"0.318289786",Very_cost_burdened:"0.123515439",Med_housing_value:"394500",Jobs:"1767",Job_density:"1883.246358",Housing_units:"2025",Housing_density:"2158.219511",Permit_density:"219.552207",Permits_per_capita:"47.59704251",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052502",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52502",GEOID:"53061052502",NAME:"525.02",NAMELSAD:"Census Tract 525.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14114984",AWATER:"316194",INTPTLAT:"47.9347064",INTPTLON:"-122.1187816",Shape_Leng:"19425.91882",Shape_Area:"14431174.44",NHPD_Units:"0",Permits:"575",Pop:"5078",Pop_density:"931.7729035",Non_white_share:"0.150452934",White_non_hisp:"0.849547066",Black_non_hisp:"0.014966522",Asian_non_Hisp:"0.012209531",Hispanic:"0.036431666",Workers:"2761",Transit_to_work:"0.053241579",Walk_to_Work:"0.003259689",Bike_to_work:"0.003984064",Green_commute_share:"0.060485331",BA_plus_25_plus:"0.313464609",Med_HH_inc:"110610",Cost_burdened:"0.331168831",Very_cost_burdened:"0.064935065",Med_housing_value:"450300",Jobs:"1553",Job_density:"284.9632373",Housing_units:"1952",Housing_density:"358.1765868",Permit_density:"105.5079597",Permits_per_capita:"113.2335565",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052504",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52504",GEOID:"53061052504",NAME:"525.04",NAMELSAD:"Census Tract 525.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7876008",AWATER:"0",INTPTLAT:"47.9658451",INTPTLON:"-122.1113055",Shape_Leng:"12869.42704",Shape_Area:"7876011.095",NHPD_Units:"0",Permits:"203",Pop:"2769",Pop_density:"910.5725994",Non_white_share:"0.180570603",White_non_hisp:"0.819429397",Black_non_hisp:"0.000361141",Asian_non_Hisp:"0.036836403",Hispanic:"0.117009751",Workers:"1507",Transit_to_work:"0.02123424",Walk_to_Work:"0.02521566",Bike_to_work:"0",Green_commute_share:"0.0464499",BA_plus_25_plus:"0.230167015",Med_HH_inc:"103929",Cost_burdened:"0.294444444",Very_cost_burdened:"0.061111111",Med_housing_value:"417000",Jobs:"609",Job_density:"200.2667797",Housing_units:"1067",Housing_density:"350.8779211",Permit_density:"66.75559324",Permits_per_capita:"73.31166486",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052505",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52505",GEOID:"53061052505",NAME:"525.05",NAMELSAD:"Census Tract 525.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2605332",AWATER:"0",INTPTLAT:"47.9878895",INTPTLON:"-122.1229998",Shape_Leng:"8532.880656",Shape_Area:"2605332.647",NHPD_Units:"0",Permits:"1107",Pop:"4594",Pop_density:"4566.944013",Non_white_share:"0.3093165",White_non_hisp:"0.6906835",Black_non_hisp:"0.016978668",Asian_non_Hisp:"0.061166739",Hispanic:"0.092511972",Workers:"2382",Transit_to_work:"0.026448363",Walk_to_Work:"0.021830395",Bike_to_work:"0",Green_commute_share:"0.048278757",BA_plus_25_plus:"0.346982759",Med_HH_inc:"106677",Cost_burdened:"0.579545455",Very_cost_burdened:"0.143939394",Med_housing_value:"390000",Jobs:"389",Job_density:"386.7090163",Housing_units:"1504",Housing_density:"1495.142315",Permit_density:"1100.480414",Permits_per_capita:"240.966478",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052506",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52506",GEOID:"53061052506",NAME:"525.06",NAMELSAD:"Census Tract 525.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2389929",AWATER:"0",INTPTLAT:"47.9849865",INTPTLON:"-122.108408",Shape_Leng:"6403.127715",Shape_Area:"2389927.428",NHPD_Units:"0",Permits:"424",Pop:"5059",Pop_density:"5482.484982",Non_white_share:"0.194900178",White_non_hisp:"0.805099822",Black_non_hisp:"0",Asian_non_Hisp:"0.039533505",Hispanic:"0.10456612",Workers:"2714",Transit_to_work:"0.011053795",Walk_to_Work:"0.02284451",Bike_to_work:"0",Green_commute_share:"0.033898305",BA_plus_25_plus:"0.164924506",Med_HH_inc:"88898",Cost_burdened:"0.472941176",Very_cost_burdened:"0.030588235",Med_housing_value:"332700",Jobs:"43",Job_density:"46.59949678",Housing_units:"1804",Housing_density:"1955.011446",Permit_density:"459.4927124",Permits_per_capita:"83.81102985",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052603",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52603",GEOID:"53061052603",NAME:"526.03",NAMELSAD:"Census Tract 526.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7544543",AWATER:"669542",INTPTLAT:"48.031816",INTPTLON:"-122.0850872",Shape_Leng:"17009.56775",Shape_Area:"8214089.529",NHPD_Units:"0",Permits:"302",Pop:"2636",Pop_density:"904.920107",Non_white_share:"0.159332322",White_non_hisp:"0.840667678",Black_non_hisp:"0.003034901",Asian_non_Hisp:"0.012139605",Hispanic:"0.033004552",Workers:"1320",Transit_to_work:"0.025",Walk_to_Work:"0.015151515",Bike_to_work:"0",Green_commute_share:"0.040151515",BA_plus_25_plus:"0.32918552",Med_HH_inc:"112872",Cost_burdened:"0.436842105",Very_cost_burdened:"0.126315789",Med_housing_value:"432800",Jobs:"129",Job_density:"44.28478521",Housing_units:"978",Housing_density:"335.7404646",Permit_density:"103.6744584",Permits_per_capita:"114.5675266",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052604",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52604",GEOID:"53061052604",NAME:"526.04",NAMELSAD:"Census Tract 526.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3687742",AWATER:"2126944",INTPTLAT:"47.9987176",INTPTLON:"-122.0936685",Shape_Leng:"12277.87712",Shape_Area:"5814688.17",NHPD_Units:"224",Permits:"859",Pop:"4955",Pop_density:"3480.013267",Non_white_share:"0.23148335",White_non_hisp:"0.76851665",Black_non_hisp:"0.002623613",Asian_non_Hisp:"0.08234107",Hispanic:"0.118466196",Workers:"2363",Transit_to_work:"0.040203132",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.040203132",BA_plus_25_plus:"0.327345928",Med_HH_inc:"76992",Cost_burdened:"0.536065574",Very_cost_burdened:"0.136065574",Med_housing_value:"427400",Jobs:"3144",Job_density:"2208.10529",Housing_units:"1940",Housing_density:"1362.507717",Permit_density:"603.2959428",Permits_per_capita:"173.3602422",Subsidized_hsg_share:"0.115463918"},{TRACT_ID:"G5300610052605",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52605",GEOID:"53061052605",NAME:"526.05",NAMELSAD:"Census Tract 526.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4726710",AWATER:"196405",INTPTLAT:"48.0191053",INTPTLON:"-122.0667747",Shape_Leng:"11279.87768",Shape_Area:"4923116.566",NHPD_Units:"33",Permits:"357",Pop:"5245",Pop_density:"2873.98373",Non_white_share:"0.152716873",White_non_hisp:"0.847283127",Black_non_hisp:"0.02306959",Asian_non_Hisp:"0.044613918",Hispanic:"0.055290753",Workers:"2447",Transit_to_work:"0.044135676",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.044135676",BA_plus_25_plus:"0.330676196",Med_HH_inc:"96513",Cost_burdened:"0.746305419",Very_cost_burdened:"0.298029557",Med_housing_value:"416200",Jobs:"1021",Job_density:"559.4542209",Housing_units:"1933",Housing_density:"1059.182183",Permit_density:"195.6171958",Permits_per_capita:"68.06482364",Subsidized_hsg_share:"0.017071909"},{TRACT_ID:"G5300610052606",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52606",GEOID:"53061052606",NAME:"526.06",NAMELSAD:"Census Tract 526.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"13063427",AWATER:"1091389",INTPTLAT:"48.0040674",INTPTLON:"-122.0488494",Shape_Leng:"20226.19331",Shape_Area:"14154816.43",NHPD_Units:"36",Permits:"514",Pop:"5658",Pop_density:"1121.769405",Non_white_share:"0.125309297",White_non_hisp:"0.874690703",Black_non_hisp:"0.028985507",Asian_non_Hisp:"0.017497349",Hispanic:"0.036585366",Workers:"2661",Transit_to_work:"0.017286734",Walk_to_Work:"0.012025554",Bike_to_work:"0",Green_commute_share:"0.029312289",BA_plus_25_plus:"0.301733781",Med_HH_inc:"98169",Cost_burdened:"0.738154613",Very_cost_burdened:"0.326683292",Med_housing_value:"416400",Jobs:"402",Job_density:"79.70153776",Housing_units:"2009",Housing_density:"398.3094263",Permit_density:"101.9069413",Permits_per_capita:"90.84482149",Subsidized_hsg_share:"0.017919363"},{TRACT_ID:"G5300610052607",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52607",GEOID:"53061052607",NAME:"526.07",NAMELSAD:"Census Tract 526.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"10156194",AWATER:"0",INTPTLAT:"47.9688262",INTPTLON:"-122.0745008",Shape_Leng:"18749.72452",Shape_Area:"10156191.88",NHPD_Units:"0",Permits:"1214",Pop:"6414",Pop_density:"1635.670187",Non_white_share:"0.203928906",White_non_hisp:"0.796071094",Black_non_hisp:"0.002026816",Asian_non_Hisp:"0.013252261",Hispanic:"0.139382601",Workers:"2905",Transit_to_work:"0.013080895",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.013080895",BA_plus_25_plus:"0.270283976",Med_HH_inc:"107155",Cost_burdened:"0.696682464",Very_cost_burdened:"0.398104265",Med_housing_value:"442700",Jobs:"502",Job_density:"128.0178413",Housing_units:"2050",Housing_density:"522.7820211",Permit_density:"309.5889627",Permits_per_capita:"189.2734643",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052701",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52701",GEOID:"53061052701",NAME:"527.01",NAMELSAD:"Census Tract 527.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"20451246",AWATER:"0",INTPTLAT:"48.1245256",INTPTLON:"-122.1185986",Shape_Leng:"21075.27163",Shape_Area:"20451252.11",NHPD_Units:"0",Permits:"239",Pop:"1896",Pop_density:"240.1133631",Non_white_share:"0.145042194",White_non_hisp:"0.854957806",Black_non_hisp:"0",Asian_non_Hisp:"0.019514768",Hispanic:"0.064873418",Workers:"930",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.249105225",Med_HH_inc:"107596",Cost_burdened:"0.423076923",Very_cost_burdened:"0.423076923",Med_housing_value:"422100",Jobs:"85",Job_density:"10.76457588",Housing_units:"640",Housing_density:"81.05092426",Permit_density:"30.26745453",Permits_per_capita:"126.0548523",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052706",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52706",GEOID:"53061052706",NAME:"527.06",NAMELSAD:"Census Tract 527.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4984610",AWATER:"0",INTPTLAT:"48.0086872",INTPTLON:"-122.1211573",Shape_Leng:"12111.42609",Shape_Area:"4984611.935",NHPD_Units:"0",Permits:"1085",Pop:"6480",Pop_density:"3366.988181",Non_white_share:"0.269135802",White_non_hisp:"0.730864198",Black_non_hisp:"0.032098765",Asian_non_Hisp:"0.034722222",Hispanic:"0.132561728",Workers:"3065",Transit_to_work:"0.018923328",Walk_to_Work:"0.00228385",Bike_to_work:"0",Green_commute_share:"0.021207178",BA_plus_25_plus:"0.271342201",Med_HH_inc:"102478",Cost_burdened:"0.494545455",Very_cost_burdened:"0.214545455",Med_housing_value:"378300",Jobs:"534",Job_density:"277.4647667",Housing_units:"2099",Housing_density:"1090.63398",Permit_density:"563.7626815",Permits_per_capita:"167.4382716",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052707",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52707",GEOID:"53061052707",NAME:"527.07",NAMELSAD:"Census Tract 527.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"5286796",AWATER:"0",INTPTLAT:"48.0261678",INTPTLON:"-122.1149932",Shape_Leng:"12725.81638",Shape_Area:"5286794.485",NHPD_Units:"0",Permits:"1074",Pop:"4585",Pop_density:"2246.180009",Non_white_share:"0.148309706",White_non_hisp:"0.851690294",Black_non_hisp:"0.005016358",Asian_non_Hisp:"0.025299891",Hispanic:"0.078080698",Workers:"2654",Transit_to_work:"0.009042954",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.009042954",BA_plus_25_plus:"0.276816609",Med_HH_inc:"102311",Cost_burdened:"0.626566416",Very_cost_burdened:"0.090225564",Med_housing_value:"404000",Jobs:"184",Job_density:"90.14113885",Housing_units:"1560",Housing_density:"764.2400902",Permit_density:"526.1499083",Permits_per_capita:"234.2420938",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052708",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52708",GEOID:"53061052708",NAME:"527.08",NAMELSAD:"Census Tract 527.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3161372",AWATER:"0",INTPTLAT:"48.0626285",INTPTLON:"-122.1301068",Shape_Leng:"7242.977094",Shape_Area:"3161371.562",NHPD_Units:"0",Permits:"454",Pop:"5832",Pop_density:"4777.928905",Non_white_share:"0.215192044",White_non_hisp:"0.784807956",Black_non_hisp:"0.00308642",Asian_non_Hisp:"0.045096022",Hispanic:"0.07973251",Workers:"3074",Transit_to_work:"0.021145088",Walk_to_Work:"0.03741054",Bike_to_work:"0",Green_commute_share:"0.058555628",BA_plus_25_plus:"0.202039825",Med_HH_inc:"110334",Cost_burdened:"0.426724138",Very_cost_burdened:"0.25862069",Med_housing_value:"412500",Jobs:"105",Job_density:"86.02238255",Housing_units:"1965",Housing_density:"1609.847445",Permit_density:"371.944397",Permits_per_capita:"77.84636488",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052709",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52709",GEOID:"53061052709",NAME:"527.09",NAMELSAD:"Census Tract 527.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"20141505",AWATER:"0",INTPTLAT:"48.0899357",INTPTLON:"-122.0985926",Shape_Leng:"20391.46451",Shape_Area:"20141507.11",NHPD_Units:"0",Permits:"472",Pop:"3458",Pop_density:"444.6628435",Non_white_share:"0.176402545",White_non_hisp:"0.823597455",Black_non_hisp:"0.006362059",Asian_non_Hisp:"0.026604974",Hispanic:"0.081260844",Workers:"1865",Transit_to_work:"0",Walk_to_Work:"0.009651475",Bike_to_work:"0",Green_commute_share:"0.009651475",BA_plus_25_plus:"0.217580505",Med_HH_inc:"102778",Cost_burdened:"0.341346154",Very_cost_burdened:"0.225961538",Med_housing_value:"412900",Jobs:"182",Job_density:"23.40330755",Housing_units:"1183",Housing_density:"152.1214991",Permit_density:"60.69429211",Permits_per_capita:"136.4950839",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052710",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52710",GEOID:"53061052710",NAME:"527.1",NAMELSAD:"Census Tract 527.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2589506",AWATER:"0",INTPTLAT:"48.0451529",INTPTLON:"-122.132146",Shape_Leng:"7328.219031",Shape_Area:"2589506.472",NHPD_Units:"0",Permits:"572",Pop:"4706",Pop_density:"4706.876156",Non_white_share:"0.33680408",White_non_hisp:"0.66319592",Black_non_hisp:"0.002337442",Asian_non_Hisp:"0.172758181",Hispanic:"0.09158521",Workers:"2560",Transit_to_work:"0.019140625",Walk_to_Work:"0.008203125",Bike_to_work:"0",Green_commute_share:"0.02734375",BA_plus_25_plus:"0.277354465",Med_HH_inc:"101938",Cost_burdened:"0.419642857",Very_cost_burdened:"0.151785714",Med_housing_value:"390000",Jobs:"71",Job_density:"71.01321867",Housing_units:"1573",Housing_density:"1573.292859",Permit_density:"572.1064941",Permits_per_capita:"121.5469613",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052711",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52711",GEOID:"53061052711",NAME:"527.11",NAMELSAD:"Census Tract 527.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"12949795",AWATER:"550521",INTPTLAT:"48.0431485",INTPTLON:"-122.1111089",Shape_Leng:"17592.62939",Shape_Area:"13500316.84",NHPD_Units:"0",Permits:"1216",Pop:"4480",Pop_density:"896.0100707",Non_white_share:"0.2796875",White_non_hisp:"0.7203125",Black_non_hisp:"0.048883929",Asian_non_Hisp:"0.106026786",Hispanic:"0.0921875",Workers:"2133",Transit_to_work:"0.02156587",Walk_to_Work:"0.006563526",Bike_to_work:"0",Green_commute_share:"0.028129395",BA_plus_25_plus:"0.216150365",Med_HH_inc:"98590",Cost_burdened:"0.513888889",Very_cost_burdened:"0",Med_housing_value:"430900",Jobs:"402",Job_density:"80.40090367",Housing_units:"1379",Housing_density:"275.8030999",Permit_density:"243.2027335",Permits_per_capita:"271.4285714",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052803",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52803",GEOID:"53061052803",NAME:"528.03",NAMELSAD:"Census Tract 528.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"14085482",AWATER:"0",INTPTLAT:"48.1335519",INTPTLON:"-122.1637626",Shape_Leng:"16619.20454",Shape_Area:"14085478.73",NHPD_Units:"0",Permits:"942",Pop:"6331",Pop_density:"1164.121663",Non_white_share:"0.327910283",White_non_hisp:"0.672089717",Black_non_hisp:"0.019744116",Asian_non_Hisp:"0.048175644",Hispanic:"0.129521403",Workers:"3176",Transit_to_work:"0.022040302",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.022040302",BA_plus_25_plus:"0.201882353",Med_HH_inc:"91929",Cost_burdened:"0.480417755",Very_cost_burdened:"0.140992167",Med_housing_value:"329900",Jobs:"4832",Job_density:"888.4908979",Housing_units:"2324",Housing_density:"427.3288176",Permit_density:"173.2115947",Permits_per_capita:"148.7916601",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052805",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52805",GEOID:"53061052805",NAME:"528.05",NAMELSAD:"Census Tract 528.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4252778",AWATER:"0",INTPTLAT:"48.0861101",INTPTLON:"-122.1740005",Shape_Leng:"10587.22866",Shape_Area:"4252782.236",NHPD_Units:"53",Permits:"249",Pop:"4792",Pop_density:"2918.38018",Non_white_share:"0.287353923",White_non_hisp:"0.712646077",Black_non_hisp:"0.005843072",Asian_non_Hisp:"0.031719533",Hispanic:"0.128130217",Workers:"2092",Transit_to_work:"0.028680688",Walk_to_Work:"0.004302103",Bike_to_work:"0",Green_commute_share:"0.032982792",BA_plus_25_plus:"0.205135209",Med_HH_inc:"76691",Cost_burdened:"0.573099415",Very_cost_burdened:"0.377192982",Med_housing_value:"347400",Jobs:"1518",Job_density:"924.4785294",Housing_units:"2009",Housing_density:"1223.502876",Permit_density:"151.6437113",Permits_per_capita:"51.96160267",Subsidized_hsg_share:"0.026381284"},{TRACT_ID:"G5300610052807",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52807",GEOID:"53061052807",NAME:"528.07",NAMELSAD:"Census Tract 528.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2676236",AWATER:"0",INTPTLAT:"48.1026424",INTPTLON:"-122.1698581",Shape_Leng:"8696.118831",Shape_Area:"2676235.043",NHPD_Units:"204",Permits:"464",Pop:"4064",Pop_density:"3933.028208",Non_white_share:"0.175935039",White_non_hisp:"0.824064961",Black_non_hisp:"0.006151575",Asian_non_Hisp:"0.024360236",Hispanic:"0.054625984",Workers:"1922",Transit_to_work:"0.015608741",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.015608741",BA_plus_25_plus:"0.177602199",Med_HH_inc:"78250",Cost_burdened:"0.542372881",Very_cost_burdened:"0.36440678",Med_housing_value:"348400",Jobs:"792",Job_density:"766.4759697",Housing_units:"1615",Housing_density:"1562.952893",Permit_density:"449.0465277",Permits_per_capita:"114.1732283",Subsidized_hsg_share:"0.126315789"},{TRACT_ID:"G5300610052808",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52808",GEOID:"53061052808",NAME:"528.08",NAMELSAD:"Census Tract 528.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4255549",AWATER:"0",INTPTLAT:"48.1058151",INTPTLON:"-122.1537386",Shape_Leng:"11075.97014",Shape_Area:"4255550.364",NHPD_Units:"0",Permits:"321",Pop:"3235",Pop_density:"1968.867363",Non_white_share:"0.430293663",White_non_hisp:"0.569706337",Black_non_hisp:"0.029366306",Asian_non_Hisp:"0.210200927",Hispanic:"0.182380216",Workers:"1933",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.287095418",Med_HH_inc:"98676",Cost_burdened:"0",Very_cost_burdened:"0",Med_housing_value:"362600",Jobs:"219",Job_density:"133.2865386",Housing_units:"1303",Housing_density:"793.0244741",Permit_density:"195.3652004",Permits_per_capita:"99.22720247",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052809",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52809",GEOID:"53061052809",NAME:"528.09",NAMELSAD:"Census Tract 528.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1227809",AWATER:"0",INTPTLAT:"48.0886932",INTPTLON:"-122.1512256",Shape_Leng:"4850.356506",Shape_Area:"1227808.612",NHPD_Units:"0",Permits:"572",Pop:"3703",Pop_density:"7811.252379",Non_white_share:"0.325141777",White_non_hisp:"0.674858223",Black_non_hisp:"0.014312719",Asian_non_Hisp:"0.080205239",Hispanic:"0.189035917",Workers:"2014",Transit_to_work:"0.008937438",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.008937438",BA_plus_25_plus:"0.214539007",Med_HH_inc:"86742",Cost_burdened:"0.495890411",Very_cost_burdened:"0",Med_housing_value:"314100",Jobs:"48",Job_density:"101.2530689",Housing_units:"1354",Housing_density:"2856.180319",Permit_density:"1206.599071",Permits_per_capita:"154.4693492",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052810",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52810",GEOID:"53061052810",NAME:"528.1",NAMELSAD:"Census Tract 528.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1939990",AWATER:"0",INTPTLAT:"48.0800788",INTPTLON:"-122.1510715",Shape_Leng:"5645.125202",Shape_Area:"1939989.564",NHPD_Units:"0",Permits:"77",Pop:"4116",Pop_density:"5495.075264",Non_white_share:"0.245140914",White_non_hisp:"0.754859086",Black_non_hisp:"0",Asian_non_Hisp:"0.017735666",Hispanic:"0.101797862",Workers:"2177",Transit_to_work:"0.022967386",Walk_to_Work:"0.000918695",Bike_to_work:"0",Green_commute_share:"0.023886082",BA_plus_25_plus:"0.155183946",Med_HH_inc:"106002",Cost_burdened:"0.365591398",Very_cost_burdened:"0",Med_housing_value:"325800",Jobs:"68",Job_density:"90.78355636",Housing_units:"1457",Housing_density:"1945.1712",Permit_density:"102.7990271",Permits_per_capita:"18.70748299",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610052903",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52903",GEOID:"53061052903",NAME:"529.03",NAMELSAD:"Census Tract 529.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2979477",AWATER:"392530",INTPTLAT:"48.0531551",INTPTLON:"-122.1722506",Shape_Leng:"8965.253026",Shape_Area:"3372013.512",NHPD_Units:"56",Permits:"104",Pop:"4358",Pop_density:"3788.305191",Non_white_share:"0.286828821",White_non_hisp:"0.713171179",Black_non_hisp:"0.043139055",Asian_non_Hisp:"0.005048187",Hispanic:"0.17944011",Workers:"2131",Transit_to_work:"0.023463163",Walk_to_Work:"0.053965275",Bike_to_work:"0",Green_commute_share:"0.077428437",BA_plus_25_plus:"0.125692521",Med_HH_inc:"57202",Cost_burdened:"0.612153709",Very_cost_burdened:"0.258266309",Med_housing_value:"286000",Jobs:"2757",Job_density:"2396.594174",Housing_units:"1908",Housing_density:"1658.578776",Permit_density:"90.40471313",Permits_per_capita:"23.86415787",Subsidized_hsg_share:"0.029350105"},{TRACT_ID:"G5300610052904",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52904",GEOID:"53061052904",NAME:"529.04",NAMELSAD:"Census Tract 529.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"3507368",AWATER:"15296",INTPTLAT:"48.0510765",INTPTLON:"-122.149677",Shape_Leng:"10144.1796",Shape_Area:"3522664.904",NHPD_Units:"149",Permits:"141",Pop:"5542",Pop_density:"4092.44599",Non_white_share:"0.29574161",White_non_hisp:"0.70425839",Black_non_hisp:"0.021652833",Asian_non_Hisp:"0.120353663",Hispanic:"0.119271021",Workers:"2822",Transit_to_work:"0.037562013",Walk_to_Work:"0.020552799",Bike_to_work:"0",Green_commute_share:"0.058114812",BA_plus_25_plus:"0.12228946",Med_HH_inc:"78275",Cost_burdened:"0.495198903",Very_cost_burdened:"0.327846365",Med_housing_value:"315700",Jobs:"425",Job_density:"313.8378827",Housing_units:"2100",Housing_density:"1550.728361",Permit_density:"104.1203328",Permits_per_capita:"25.44207867",Subsidized_hsg_share:"0.070952381"},{TRACT_ID:"G5300610052905",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52905",GEOID:"53061052905",NAME:"529.05",NAMELSAD:"Census Tract 529.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2047342",AWATER:"0",INTPTLAT:"48.067527",INTPTLON:"-122.1732159",Shape_Leng:"7035.553928",Shape_Area:"2047344.55",NHPD_Units:"301",Permits:"249",Pop:"4753",Pop_density:"6012.77827",Non_white_share:"0.378077004",White_non_hisp:"0.621922996",Black_non_hisp:"0.013675573",Asian_non_Hisp:"0.124763307",Hispanic:"0.147696192",Workers:"2149",Transit_to_work:"0.01023732",Walk_to_Work:"0.065611913",Bike_to_work:"0.034899953",Green_commute_share:"0.110749186",BA_plus_25_plus:"0.146682897",Med_HH_inc:"51140",Cost_burdened:"0.445404556",Very_cost_burdened:"0.184603299",Med_housing_value:"265000",Jobs:"3645",Job_density:"4611.103891",Housing_units:"2191",Housing_density:"2771.722531",Permit_density:"314.9972205",Permits_per_capita:"52.3879655",Subsidized_hsg_share:"0.137380192"},{TRACT_ID:"G5300610052906",STATEFP:"53",COUNTYFP:"61",TRACTCE:"52906",GEOID:"53061052906",NAME:"529.06",NAMELSAD:"Census Tract 529.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"2418974",AWATER:"0",INTPTLAT:"48.069198",INTPTLON:"-122.1536756",Shape_Leng:"6901.670643",Shape_Area:"2418972.448",NHPD_Units:"176",Permits:"237",Pop:"4829",Pop_density:"5170.395624",Non_white_share:"0.268585628",White_non_hisp:"0.731414372",Black_non_hisp:"0",Asian_non_Hisp:"0.040381031",Hispanic:"0.127769725",Workers:"2152",Transit_to_work:"0.048791822",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.048791822",BA_plus_25_plus:"0.15314216",Med_HH_inc:"75924",Cost_burdened:"0.618081181",Very_cost_burdened:"0.300738007",Med_housing_value:"351600",Jobs:"132",Job_density:"141.3319988",Housing_units:"1822",Housing_density:"1950.809863",Permit_density:"253.7551797",Permits_per_capita:"49.07848416",Subsidized_hsg_share:"0.096597146"},{TRACT_ID:"G5300610053101",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53101",GEOID:"53061053101",NAME:"531.01",NAMELSAD:"Census Tract 531.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"27408328",AWATER:"0",INTPTLAT:"48.1730236",INTPTLON:"-122.2333219",Shape_Leng:"25498.38168",Shape_Area:"27408328.16",NHPD_Units:"197",Permits:"1223",Pop:"4681",Pop_density:"442.3376116",Non_white_share:"0.224311045",White_non_hisp:"0.775688955",Black_non_hisp:"0.00491348",Asian_non_Hisp:"0.018585772",Hispanic:"0.092928861",Workers:"2095",Transit_to_work:"0.011933174",Walk_to_Work:"0.008114558",Bike_to_work:"0",Green_commute_share:"0.020047733",BA_plus_25_plus:"0.174418605",Med_HH_inc:"76296",Cost_burdened:"0.516759777",Very_cost_burdened:"0.284916201",Med_housing_value:"389400",Jobs:"583",Job_density:"55.09139661",Housing_units:"1960",Housing_density:"185.2129286",Permit_density:"115.5690876",Permits_per_capita:"261.2689596",Subsidized_hsg_share:"0.100510204"},{TRACT_ID:"G5300610053102",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53102",GEOID:"53061053102",NAME:"531.02",NAMELSAD:"Census Tract 531.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"24462308",AWATER:"748803",INTPTLAT:"48.140546",INTPTLON:"-122.2375894",Shape_Leng:"24049.82851",Shape_Area:"25211116.07",NHPD_Units:"479",Permits:"583",Pop:"4910",Pop_density:"519.8545297",Non_white_share:"0.162525458",White_non_hisp:"0.837474542",Black_non_hisp:"0.003869654",Asian_non_Hisp:"0.02688391",Hispanic:"0.077393075",Workers:"2623",Transit_to_work:"0.003812429",Walk_to_Work:"0.006862371",Bike_to_work:"0",Green_commute_share:"0.0106748",BA_plus_25_plus:"0.143759874",Med_HH_inc:"64263",Cost_burdened:"0.511363636",Very_cost_burdened:"0.173295455",Med_housing_value:"356400",Jobs:"1527",Job_density:"161.6737",Housing_units:"2150",Housing_density:"227.6348755",Permit_density:"61.72610811",Permits_per_capita:"118.7372709",Subsidized_hsg_share:"0.222790698"},{TRACT_ID:"G5300610053201",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53201",GEOID:"53061053201",NAME:"532.01",NAMELSAD:"Census Tract 532.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"46703765",AWATER:"6353076",INTPTLAT:"48.1952183",INTPTLON:"-122.3171137",Shape_Leng:"56159.39776",Shape_Area:"47896866.2",NHPD_Units:"0",Permits:"419",Pop:"4233",Pop_density:"234.7438086",Non_white_share:"0.13253012",White_non_hisp:"0.86746988",Black_non_hisp:"0.000708717",Asian_non_Hisp:"0.022678951",Hispanic:"0.009213324",Workers:"1770",Transit_to_work:"0",Walk_to_Work:"0.02259887",Bike_to_work:"0",Green_commute_share:"0.02259887",BA_plus_25_plus:"0.211736237",Med_HH_inc:"79141",Cost_burdened:"0.498567335",Very_cost_burdened:"0.240687679",Med_housing_value:"450700",Jobs:"408",Job_density:"22.62590926",Housing_units:"1791",Housing_density:"99.32108697",Permit_density:"23.23592152",Permits_per_capita:"98.98417198",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053202",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53202",GEOID:"53061053202",NAME:"532.02",NAMELSAD:"Census Tract 532.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22199403",AWATER:"4447585",INTPTLAT:"48.1425085",INTPTLON:"-122.3422759",Shape_Leng:"21680.12078",Shape_Area:"24991443.87",NHPD_Units:"0",Permits:"396",Pop:"4601",Pop_density:"536.7953046",Non_white_share:"0.143012389",White_non_hisp:"0.856987611",Black_non_hisp:"0.006085634",Asian_non_Hisp:"0.016735492",Hispanic:"0.082156053",Workers:"2331",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.263559322",Med_HH_inc:"114219",Cost_burdened:"0.317647059",Very_cost_burdened:"0.188235294",Med_housing_value:"538500",Jobs:"168",Job_density:"19.60043712",Housing_units:"1979",Housing_density:"230.8884825",Permit_density:"46.20103035",Permits_per_capita:"86.06824603",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053301",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53301",GEOID:"53061053301",NAME:"533.01",NAMELSAD:"Census Tract 533.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"24670663",AWATER:"3357540",INTPTLAT:"48.2560314",INTPTLON:"-122.3660164",Shape_Leng:"34870.89578",Shape_Area:"25295938.28",NHPD_Units:"188",Permits:"1054",Pop:"7303",Pop_density:"766.6872661",Non_white_share:"0.09708339",White_non_hisp:"0.90291661",Black_non_hisp:"0.00082158",Asian_non_Hisp:"0.009995892",Hispanic:"0.040394358",Workers:"3241",Transit_to_work:"0.009256402",Walk_to_Work:"0.01419315",Bike_to_work:"0.016970071",Green_commute_share:"0.040419624",BA_plus_25_plus:"0.197348403",Med_HH_inc:"75136",Cost_burdened:"0.538936959",Very_cost_burdened:"0.289245983",Med_housing_value:"358100",Jobs:"3435",Job_density:"360.6149198",Housing_units:"2791",Housing_density:"293.0061837",Permit_density:"110.6515649",Permits_per_capita:"144.3242503",Subsidized_hsg_share:"0.067359369"},{TRACT_ID:"G5300610053302",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53302",GEOID:"53061053302",NAME:"533.02",NAMELSAD:"Census Tract 533.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"89008683",AWATER:"486479",INTPTLAT:"48.2589939",INTPTLON:"-122.2781367",Shape_Leng:"57400.1112",Shape_Area:"89495156.76",NHPD_Units:"0",Permits:"878",Pop:"6064",Pop_density:"176.4511885",Non_white_share:"0.140996042",White_non_hisp:"0.859003958",Black_non_hisp:"0",Asian_non_Hisp:"0",Hispanic:"0.128133245",Workers:"2532",Transit_to_work:"0",Walk_to_Work:"0.064770932",Bike_to_work:"0",Green_commute_share:"0.064770932",BA_plus_25_plus:"0.270101107",Med_HH_inc:"79912",Cost_burdened:"0.745098039",Very_cost_burdened:"0.671568627",Med_housing_value:"444900",Jobs:"713",Job_density:"20.74698176",Housing_units:"2486",Housing_density:"72.33800372",Permit_density:"25.5481767",Permits_per_capita:"144.7889182",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053400",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53400",GEOID:"53061053400",NAME:"534",NAMELSAD:"Census Tract 534",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"129729217",AWATER:"349052",INTPTLAT:"48.2773401",INTPTLON:"-122.1467351",Shape_Leng:"66904.19151",Shape_Area:"130078264.2",NHPD_Units:"0",Permits:"622",Pop:"6089",Pop_density:"121.5642703",Non_white_share:"0.13302677",White_non_hisp:"0.86697323",Black_non_hisp:"0.004105764",Asian_non_Hisp:"0",Hispanic:"0.021842667",Workers:"2856",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.207152497",Med_HH_inc:"100441",Cost_burdened:"0.474820144",Very_cost_burdened:"0.474820144",Med_housing_value:"477700",Jobs:"1178",Job_density:"23.51826415",Housing_units:"2293",Housing_density:"45.77876036",Permit_density:"12.41796291",Permits_per_capita:"102.1514206",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053505",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53505",GEOID:"53061053505",NAME:"535.05",NAMELSAD:"Census Tract 535.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"50004936",AWATER:"327348",INTPTLAT:"48.1161701",INTPTLON:"-122.0447987",Shape_Leng:"49814.18202",Shape_Area:"50332284.75",NHPD_Units:"0",Permits:"758",Pop:"5242",Pop_density:"271.5075503",Non_white_share:"0.112743228",White_non_hisp:"0.887256772",Black_non_hisp:"0.005341473",Asian_non_Hisp:"0.004196871",Hispanic:"0.052842427",Workers:"2656",Transit_to_work:"0.032003012",Walk_to_Work:"0.027861446",Bike_to_work:"0",Green_commute_share:"0.059864458",BA_plus_25_plus:"0.167928963",Med_HH_inc:"94700",Cost_burdened:"0.305084746",Very_cost_burdened:"0.192090395",Med_housing_value:"361500",Jobs:"557",Job_density:"28.84961951",Housing_units:"2092",Housing_density:"108.3544058",Permit_density:"39.26034397",Permits_per_capita:"144.6012972",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053506",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53506",GEOID:"53061053506",NAME:"535.06",NAMELSAD:"Census Tract 535.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"257848763",AWATER:"1663553",INTPTLAT:"48.2012466",INTPTLON:"-121.9823992",Shape_Leng:"106129.6895",Shape_Area:"259512336.4",NHPD_Units:"0",Permits:"550",Pop:"5362",Pop_density:"53.85915405",Non_white_share:"0.102573667",White_non_hisp:"0.897426333",Black_non_hisp:"0.004289444",Asian_non_Hisp:"0.023685192",Hispanic:"0.032264081",Workers:"2589",Transit_to_work:"0.001158749",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0.001158749",BA_plus_25_plus:"0.115952554",Med_HH_inc:"81033",Cost_burdened:"0.349206349",Very_cost_burdened:"0",Med_housing_value:"410400",Jobs:"336",Job_density:"3.374986154",Housing_units:"2522",Housing_density:"25.33248536",Permit_density:"5.524530908",Permits_per_capita:"102.5736665",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053507",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53507",GEOID:"53061053507",NAME:"535.07",NAMELSAD:"Census Tract 535.07",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4771004",AWATER:"0",INTPTLAT:"48.1643577",INTPTLON:"-122.1298577",Shape_Leng:"9593.08435",Shape_Area:"4771007.125",NHPD_Units:"0",Permits:"837",Pop:"6042",Pop_density:"3279.961233",Non_white_share:"0.258192651",White_non_hisp:"0.741807349",Black_non_hisp:"0.007282357",Asian_non_Hisp:"0.059748428",Hispanic:"0.137040715",Workers:"3256",Transit_to_work:"0.004914005",Walk_to_Work:"0.013206388",Bike_to_work:"0",Green_commute_share:"0.018120393",BA_plus_25_plus:"0.278969957",Med_HH_inc:"116525",Cost_burdened:"0.166666667",Very_cost_burdened:"0",Med_housing_value:"391600",Jobs:"1301",Job_density:"706.2610997",Housing_units:"2092",Housing_density:"1135.663505",Permit_density:"454.3739742",Permits_per_capita:"138.530288",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053508",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53508",GEOID:"53061053508",NAME:"535.08",NAMELSAD:"Census Tract 535.08",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"15008815",AWATER:"0",INTPTLAT:"48.1874368",INTPTLON:"-122.1660771",Shape_Leng:"23370.40282",Shape_Area:"15008816.47",NHPD_Units:"0",Permits:"562",Pop:"3934",Pop_density:"678.8685999",Non_white_share:"0.240467717",White_non_hisp:"0.759532283",Black_non_hisp:"0",Asian_non_Hisp:"0.018047789",Hispanic:"0.039654296",Workers:"1856",Transit_to_work:"0",Walk_to_Work:"0.016702586",Bike_to_work:"0",Green_commute_share:"0.016702586",BA_plus_25_plus:"0.259589306",Med_HH_inc:"93996",Cost_burdened:"0.30212766",Very_cost_burdened:"0.136170213",Med_housing_value:"369600",Jobs:"1400",Job_density:"241.5902491",Housing_units:"1380",Housing_density:"238.1389598",Permit_density:"96.98122856",Permits_per_capita:"142.8571429",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053509",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53509",GEOID:"53061053509",NAME:"535.09",NAMELSAD:"Census Tract 535.09",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"8419525",AWATER:"0",INTPTLAT:"48.1633186",INTPTLON:"-122.1616281",Shape_Leng:"13700.01879",Shape_Area:"8419520.419",NHPD_Units:"731",Permits:"741",Pop:"4078",Pop_density:"1254.461684",Non_white_share:"0.32687592",White_non_hisp:"0.67312408",Black_non_hisp:"0.02231486",Asian_non_Hisp:"0.010053948",Hispanic:"0.189063266",Workers:"2165",Transit_to_work:"0",Walk_to_Work:"0.001385681",Bike_to_work:"0.01108545",Green_commute_share:"0.012471132",BA_plus_25_plus:"0.15313835",Med_HH_inc:"65870",Cost_burdened:"0.518301611",Very_cost_burdened:"0.172767204",Med_housing_value:"260600",Jobs:"3530",Job_density:"1085.887628",Housing_units:"1892",Housing_density:"582.0111591",Permit_density:"227.9441168",Permits_per_capita:"181.706719",Subsidized_hsg_share:"0.386363636"},{TRACT_ID:"G5300610053510",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53510",GEOID:"53061053510",NAME:"535.1",NAMELSAD:"Census Tract 535.10",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"4149248",AWATER:"0",INTPTLAT:"48.1946566",INTPTLON:"-122.1140132",Shape_Leng:"10720.44608",Shape_Area:"4149245.996",NHPD_Units:"0",Permits:"381",Pop:"3704",Pop_density:"2312.061357",Non_white_share:"0.227051836",White_non_hisp:"0.772948164",Black_non_hisp:"0.000539957",Asian_non_Hisp:"0.04724622",Hispanic:"0.119060475",Workers:"1898",Transit_to_work:"0.012644889",Walk_to_Work:"0.008429926",Bike_to_work:"0",Green_commute_share:"0.021074816",BA_plus_25_plus:"0.134671533",Med_HH_inc:"56917",Cost_burdened:"0.460634548",Very_cost_burdened:"0.196239718",Med_housing_value:"337100",Jobs:"2308",Job_density:"1440.668902",Housing_units:"1856",Housing_density:"1158.527505",Permit_density:"237.822726",Permits_per_capita:"102.8617711",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053511",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53511",GEOID:"53061053511",NAME:"535.11",NAMELSAD:"Census Tract 535.11",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"7824963",AWATER:"13346",INTPTLAT:"48.1693805",INTPTLON:"-122.1086883",Shape_Leng:"15156.2279",Shape_Area:"7838309.838",NHPD_Units:"158",Permits:"535",Pop:"3524",Pop_density:"1166.410384",Non_white_share:"0.253405221",White_non_hisp:"0.746594779",Black_non_hisp:"0.058740068",Asian_non_Hisp:"0.067253121",Hispanic:"0.056753689",Workers:"1989",Transit_to_work:"0.0115636",Walk_to_Work:"0.010055304",Bike_to_work:"0",Green_commute_share:"0.021618904",BA_plus_25_plus:"0.198426573",Med_HH_inc:"73854",Cost_burdened:"0.599667774",Very_cost_burdened:"0.411960133",Med_housing_value:"376900",Jobs:"286",Job_density:"94.66327183",Housing_units:"1395",Housing_density:"461.731693",Permit_density:"177.0798966",Permits_per_capita:"151.816118",Subsidized_hsg_share:"0.113261649"},{TRACT_ID:"G5300610053603",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53603",GEOID:"53061053603",NAME:"536.03",NAMELSAD:"Census Tract 536.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"41049955",AWATER:"427034",INTPTLAT:"48.0468123",INTPTLON:"-122.0181379",Shape_Leng:"36544.97089",Shape_Area:"41476989.68",NHPD_Units:"0",Permits:"432",Pop:"4652",Pop_density:"293.5112764",Non_white_share:"0.134780739",White_non_hisp:"0.865219261",Black_non_hisp:"0.007953568",Asian_non_Hisp:"0.011392949",Hispanic:"0.050085985",Workers:"2535",Transit_to_work:"0.008678501",Walk_to_Work:"0.012623274",Bike_to_work:"0",Green_commute_share:"0.021301775",BA_plus_25_plus:"0.278303239",Med_HH_inc:"104514",Cost_burdened:"0.779661017",Very_cost_burdened:"0.576271186",Med_housing_value:"440300",Jobs:"299",Job_density:"18.86497671",Housing_units:"1676",Housing_density:"105.7448193",Permit_density:"27.2564212",Permits_per_capita:"92.86328461",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053604",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53604",GEOID:"53061053604",NAME:"536.04",NAMELSAD:"Census Tract 536.04",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"16007917",AWATER:"70106",INTPTLAT:"48.0805128",INTPTLON:"-122.0070255",Shape_Leng:"33988.72315",Shape_Area:"16078025.73",NHPD_Units:"10",Permits:"822",Pop:"5175",Pop_density:"837.2849804",Non_white_share:"0.117294686",White_non_hisp:"0.882705314",Black_non_hisp:"0",Asian_non_Hisp:"0.020869565",Hispanic:"0.009661836",Workers:"2549",Transit_to_work:"0",Walk_to_Work:"0.034523342",Bike_to_work:"0.016084739",Green_commute_share:"0.050608082",BA_plus_25_plus:"0.198038176",Med_HH_inc:"80216",Cost_burdened:"0.474910394",Very_cost_burdened:"0.256272401",Med_housing_value:"356100",Jobs:"514",Job_density:"83.16221834",Housing_units:"2089",Housing_density:"337.9880819",Permit_density:"132.9948317",Permits_per_capita:"158.8405797",Subsidized_hsg_share:"0.004786979"},{TRACT_ID:"G5300610053605",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53605",GEOID:"53061053605",NAME:"536.05",NAMELSAD:"Census Tract 536.05",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"38629284",AWATER:"67147",INTPTLAT:"48.031226",INTPTLON:"-121.9638812",Shape_Leng:"33897.9419",Shape_Area:"38696435.69",NHPD_Units:"20",Permits:"438",Pop:"2945",Pop_density:"197.4542159",Non_white_share:"0.02852292",White_non_hisp:"0.97147708",Black_non_hisp:"0",Asian_non_Hisp:"0.000339559",Hispanic:"0.020713073",Workers:"1367",Transit_to_work:"0",Walk_to_Work:"0",Bike_to_work:"0",Green_commute_share:"0",BA_plus_25_plus:"0.212411705",Med_HH_inc:"107783",Cost_burdened:"1",Very_cost_burdened:"1",Med_housing_value:"451000",Jobs:"110",Job_density:"7.375199917",Housing_units:"1089",Housing_density:"73.01447917",Permit_density:"29.36670512",Permits_per_capita:"148.7266553",Subsidized_hsg_share:"0.018365473"},{TRACT_ID:"G5300610053606",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53606",GEOID:"53061053606",NAME:"536.06",NAMELSAD:"Census Tract 536.06",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"495251321",AWATER:"7600739",INTPTLAT:"48.0123109",INTPTLON:"-121.6782609",Shape_Leng:"144459.0646",Shape_Area:"502852085.1",NHPD_Units:"0",Permits:"547",Pop:"3647",Pop_density:"19.07251175",Non_white_share:"0.162599397",White_non_hisp:"0.837400603",Black_non_hisp:"0",Asian_non_Hisp:"0",Hispanic:"0.092404716",Workers:"1744",Transit_to_work:"0.005733945",Walk_to_Work:"0.02809633",Bike_to_work:"0",Green_commute_share:"0.033830275",BA_plus_25_plus:"0.223290203",Med_HH_inc:"97980",Cost_burdened:"0.217105263",Very_cost_burdened:"0.151315789",Med_housing_value:"483300",Jobs:"693",Job_density:"3.624143307",Housing_units:"1806",Housing_density:"9.444737104",Permit_density:"2.86061528",Permits_per_capita:"149.9862901",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053700",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53700",GEOID:"53061053700",NAME:"537",NAMELSAD:"Census Tract 537",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1686847628",AWATER:"7170557",INTPTLAT:"48.2371094",INTPTLON:"-121.4416703",Shape_Leng:"250929.2865",Shape_Area:"1694018116",NHPD_Units:"20",Permits:"270",Pop:"3105",Pop_density:"4.767421164",Non_white_share:"0.103059581",White_non_hisp:"0.896940419",Black_non_hisp:"0.002254428",Asian_non_Hisp:"0.002254428",Hispanic:"0.034138486",Workers:"1126",Transit_to_work:"0.006216696",Walk_to_Work:"0.026642984",Bike_to_work:"0.006216696",Green_commute_share:"0.039076377",BA_plus_25_plus:"0.154863481",Med_HH_inc:"52069",Cost_burdened:"0.583870968",Very_cost_burdened:"0.251612903",Med_housing_value:"269100",Jobs:"356",Job_density:"0.546602877",Housing_units:"1611",Housing_density:"2.473531561",Permit_density:"0.414558362",Permits_per_capita:"86.95652174",Subsidized_hsg_share:"0.012414649"},{TRACT_ID:"G5300610053801",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53801",GEOID:"53061053801",NAME:"538.01",NAMELSAD:"Census Tract 538.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"1135920117",AWATER:"5365698",INTPTLAT:"47.8728737",INTPTLON:"-121.4464055",Shape_Leng:"233043.3747",Shape_Area:"1141286046",NHPD_Units:"0",Permits:"319",Pop:"3809",Pop_density:"8.684822607",Non_white_share:"0.070097138",White_non_hisp:"0.929902862",Black_non_hisp:"0",Asian_non_Hisp:"0.012601733",Hispanic:"0.012339197",Workers:"1794",Transit_to_work:"0",Walk_to_Work:"0.017279822",Bike_to_work:"0.001114827",Green_commute_share:"0.018394649",BA_plus_25_plus:"0.261991279",Med_HH_inc:"78733",Cost_burdened:"0.462857143",Very_cost_burdened:"0.08",Med_housing_value:"354300",Jobs:"329",Job_density:"0.750146138",Housing_units:"2113",Housing_density:"4.817807868",Permit_density:"0.727345343",Permits_per_capita:"83.74901549",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610053802",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53802",GEOID:"53061053802",NAME:"538.02",NAMELSAD:"Census Tract 538.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"22505115",AWATER:"14961",INTPTLAT:"47.862844",INTPTLON:"-121.8287365",Shape_Leng:"24727.97691",Shape_Area:"22520077.28",NHPD_Units:"26",Permits:"707",Pop:"6143",Pop_density:"706.963593",Non_white_share:"0.24564545",White_non_hisp:"0.75435455",Black_non_hisp:"0.007325411",Asian_non_Hisp:"0.006185903",Hispanic:"0.188018883",Workers:"3160",Transit_to_work:"0.013607595",Walk_to_Work:"0.013291139",Bike_to_work:"0.00221519",Green_commute_share:"0.029113924",BA_plus_25_plus:"0.18463357",Med_HH_inc:"74338",Cost_burdened:"0.24691358",Very_cost_burdened:"0.086419753",Med_housing_value:"294200",Jobs:"1097",Job_density:"126.2476089",Housing_units:"2408",Housing_density:"277.1232837",Permit_density:"81.36468505",Permits_per_capita:"115.0903467",Subsidized_hsg_share:"0.010797342"},{TRACT_ID:"G5300610053803",STATEFP:"53",COUNTYFP:"61",TRACTCE:"53803",GEOID:"53061053803",NAME:"538.03",NAMELSAD:"Census Tract 538.03",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"271116666",AWATER:"5319312",INTPTLAT:"47.8955608",INTPTLON:"-121.6492101",Shape_Leng:"85449.97554",Shape_Area:"276435991.1",NHPD_Units:"0",Permits:"396",Pop:"4541",Pop_density:"43.38035054",Non_white_share:"0.147544594",White_non_hisp:"0.852455406",Black_non_hisp:"0",Asian_non_Hisp:"0",Hispanic:"0.124201718",Workers:"2400",Transit_to_work:"0.004166667",Walk_to_Work:"0.02375",Bike_to_work:"0",Green_commute_share:"0.027916667",BA_plus_25_plus:"0.129522231",Med_HH_inc:"68908",Cost_burdened:"0.452307692",Very_cost_burdened:"0.289230769",Med_housing_value:"266900",Jobs:"299",Job_density:"2.85635869",Housing_units:"2117",Housing_density:"20.22378377",Permit_density:"3.783003483",Permits_per_capita:"87.20546135",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610940001",STATEFP:"53",COUNTYFP:"61",TRACTCE:"940001",GEOID:"53061940001",NAME:"9400.01",NAMELSAD:"Census Tract 9400.01",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"50868319",AWATER:"7732629",INTPTLAT:"48.0752244",INTPTLON:"-122.2219406",Shape_Leng:"38988.39136",Shape_Area:"53885323.57",NHPD_Units:"0",Permits:"397",Pop:"5951",Pop_density:"302.9983995",Non_white_share:"0.338262477",White_non_hisp:"0.661737523",Black_non_hisp:"0.007393715",Asian_non_Hisp:"0.032767602",Hispanic:"0.081330869",Workers:"2690",Transit_to_work:"0.018215613",Walk_to_Work:"0",Bike_to_work:"0.004089219",Green_commute_share:"0.022304833",BA_plus_25_plus:"0.222047244",Med_HH_inc:"90685",Cost_burdened:"0.322580645",Very_cost_burdened:"0.120234604",Med_housing_value:"374400",Jobs:"7672",Job_density:"390.62405",Housing_units:"2537",Housing_density:"129.1727339",Permit_density:"20.21347078",Permits_per_capita:"66.71147706",Subsidized_hsg_share:"0"},{TRACT_ID:"G5300610940002",STATEFP:"53",COUNTYFP:"61",TRACTCE:"940002",GEOID:"53061940002",NAME:"9400.02",NAMELSAD:"Census Tract 9400.02",MTFCC:"G5020",FUNCSTAT:"S",ALAND:"39006153",AWATER:"4834821",INTPTLAT:"48.0958858",INTPTLON:"-122.3021811",Shape_Leng:"31051.82431",Shape_Area:"39196357.76",NHPD_Units:"116",Permits:"164",Pop:"3793",Pop_density:"251.8532115",Non_white_share:"0.370419193",White_non_hisp:"0.629580807",Black_non_hisp:"0.010545742",Asian_non_Hisp:"0.017927762",Hispanic:"0.032691801",Workers:"1558",Transit_to_work:"0.028241335",Walk_to_Work:"0.005134788",Bike_to_work:"0.007060334",Green_commute_share:"0.040436457",BA_plus_25_plus:"0.177377892",Med_HH_inc:"84750",Cost_burdened:"0.519685039",Very_cost_burdened:"0.188976378",Med_housing_value:"351500",Jobs:"264",Job_density:"17.5294616",Housing_units:"1624",Housing_density:"107.8327486",Permit_density:"10.88951402",Permits_per_capita:"43.23754284",Subsidized_hsg_share:"0.071428571"}],rm=[{JURISDICTION_ID:"G53008850",STATION_ID:"S1888060522",station_link:"1 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2926",baseline_under_zoning:"10576",plexify_reform:"10585",multiply_reform:"18810",legalize_reform:"10576",middle_reform:"17228",all_reforms:"18881",lat:"-122.33392",long:"47.46327",grade:"at grade",status:"existing",year_open:"2014",name:"1 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53022640",STATION_ID:"S3005280853",station_link:"100th Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1918",baseline_under_zoning:"17135",plexify_reform:"18304",multiply_reform:"23934",legalize_reform:"17135",middle_reform:"19887",all_reforms:"27312",lat:"-122.24164",long:"47.90734",grade:"at grade",status:"existing",year_open:"2009",name:"100th Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3173838794",station_link:"103 Avenue-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2133",baseline_under_zoning:"2653",plexify_reform:"3384",multiply_reform:"3969",legalize_reform:"2653",middle_reform:"3341",all_reforms:"5304",lat:"-122.20367",long:"47.44288",grade:"at grade",status:"planned",year_open:"",name:"103 Avenue",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3173828929",station_link:"108 Avenue-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"4042",baseline_under_zoning:"4509",plexify_reform:"5378",multiply_reform:"5171",legalize_reform:"4509",middle_reform:"5053",all_reforms:"6519",lat:"-122.19762",long:"47.44528",grade:"at grade",status:"planned",year_open:"",name:"108 Avenue",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53007380",STATION_ID:"S2200107864",station_link:"110 Avenue-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"995",baseline_under_zoning:"4155",plexify_reform:"6032",multiply_reform:"7511",legalize_reform:"4155",middle_reform:"4155",all_reforms:"9388",lat:"-122.19301",long:"47.76428",grade:"at grade",status:"planned",year_open:"",name:"110 Avenue",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53022640",STATION_ID:"S53285715",station_link:"112th Street-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"668",baseline_under_zoning:"15626",plexify_reform:"16157",multiply_reform:"21131",legalize_reform:"15626",middle_reform:"19700",all_reforms:"24293",lat:"-122.26313",long:"47.89653",grade:"at grade",status:"existing",year_open:"2019",name:"112th Street",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3956247009",station_link:"116/118-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"0",baseline_under_zoning:"154",plexify_reform:"154",multiply_reform:"154",legalize_reform:"154",middle_reform:"458",all_reforms:"458",lat:"-122.18463",long:"47.61731",grade:"at grade",status:"existing",year_open:"2011",name:"116/118",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3565554707",station_link:"120-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1263",baseline_under_zoning:"2296",plexify_reform:"2296",multiply_reform:"3964",legalize_reform:"2296",middle_reform:"2701",all_reforms:"4341",lat:"-122.18031",long:"47.61729",grade:"at grade",status:"existing",year_open:"2011",name:"120",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3565559063",station_link:"124-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"3094",baseline_under_zoning:"9440",plexify_reform:"10903",multiply_reform:"12880",legalize_reform:"9440",middle_reform:"11419",all_reforms:"16302",lat:"-122.17496",long:"47.61733",grade:"at grade",status:"existing",year_open:"2011",name:"124",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S910411990",station_link:"12th Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"15633",baseline_under_zoning:"33161",plexify_reform:"33161",multiply_reform:"54299",legalize_reform:"33161",middle_reform:"35455",all_reforms:"54750",lat:"-122.31677",long:"47.61284",grade:"at grade",status:"proposed",year_open:"",name:"12th Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2290114498",station_link:"12th/Jackson-Little Saigon-First Hill Line-Streetcar-existing",existing_housing_units:"648",baseline_under_zoning:"4660",plexify_reform:"4660",multiply_reform:"9231",legalize_reform:"4660",middle_reform:"4719",all_reforms:"9242",lat:"-122.31587",long:"47.5992",grade:"at grade",status:"existing",year_open:"2016",name:"12th/Jackson-Little Saigon",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S49014179",station_link:"130th Street-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"1626",baseline_under_zoning:"1969",plexify_reform:"4091",multiply_reform:"1969",legalize_reform:"1969",middle_reform:"2094",all_reforms:"4216",lat:"-122.32392",long:"47.72313",grade:"highway",status:"uc",year_open:"",name:"130th Street",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3163764650",station_link:"131/134-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"733",baseline_under_zoning:"733",plexify_reform:"2560",multiply_reform:"733",legalize_reform:"733",middle_reform:"790",all_reforms:"2617",lat:"-122.16364",long:"47.61722",grade:"at grade",status:"existing",year_open:"2011",name:"131/134",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53045865",STATION_ID:"S53290005",station_link:"136th Street-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"1678",baseline_under_zoning:"2058",plexify_reform:"2773",multiply_reform:"2238",legalize_reform:"2058",middle_reform:"3099",all_reforms:"3814",lat:"-122.21486",long:"47.87431",grade:"at grade",status:"existing",year_open:"2019",name:"136th Street",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3565554773",station_link:"140-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"4554",baseline_under_zoning:"4882",plexify_reform:"5977",multiply_reform:"4930",legalize_reform:"4882",middle_reform:"6353",all_reforms:"7448",lat:"-122.15358",long:"47.61716",grade:"at grade",status:"existing",year_open:"2011",name:"140",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3565555926",station_link:"143-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1390",baseline_under_zoning:"1402",plexify_reform:"3249",multiply_reform:"1402",legalize_reform:"1402",middle_reform:"2804",all_reforms:"4651",lat:"-122.14958",long:"47.61712",grade:"at grade",status:"existing",year_open:"2011",name:"143",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3565563485",station_link:"148-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"2875",baseline_under_zoning:"2881",plexify_reform:"5702",multiply_reform:"2901",legalize_reform:"2881",middle_reform:"3919",all_reforms:"6740",lat:"-122.14308",long:"47.61704",grade:"at grade",status:"existing",year_open:"2011",name:"148",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1845052633",station_link:"14th/Washington-Central District-First Hill Line-Streetcar-existing",existing_housing_units:"6557",baseline_under_zoning:"18683",plexify_reform:"19124",multiply_reform:"28567",legalize_reform:"18683",middle_reform:"21528",all_reforms:"30743",lat:"-122.31417",long:"47.60067",grade:"at grade",status:"existing",year_open:"2016",name:"14th/Washington-Central District",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1368175404",station_link:"15 Avenue-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"2187",baseline_under_zoning:"5226",plexify_reform:"7017",multiply_reform:"8806",legalize_reform:"5226",middle_reform:"5632",all_reforms:"10920",lat:"-122.31281",long:"47.73392",grade:"at grade",status:"planned",year_open:"",name:"15 Avenue",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305329",station_link:"15 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"896",baseline_under_zoning:"2910",plexify_reform:"4217",multiply_reform:"4847",legalize_reform:"3307",middle_reform:"3220",all_reforms:"6791",lat:"-122.22148",long:"47.32089",grade:"at grade",status:"planned",year_open:"",name:"15 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53057535",STATION_ID:"S3565557046",station_link:"152-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"0",baseline_under_zoning:"6768",plexify_reform:"6768",multiply_reform:"6768",legalize_reform:"6768",middle_reform:"6768",all_reforms:"6768",lat:"-122.1375",long:"47.64599",grade:"at grade",status:"existing",year_open:"2011",name:"152",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53045865",STATION_ID:"S58237660",station_link:"153rd Street-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"580",baseline_under_zoning:"1387",plexify_reform:"1703",multiply_reform:"1656",legalize_reform:"1387",middle_reform:"3097",all_reforms:"3413",lat:"-122.219",long:"47.85922",grade:"at grade",status:"existing",year_open:"2019",name:"153rd Street",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53057535",STATION_ID:"S3565558960",station_link:"154-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1",baseline_under_zoning:"1049",plexify_reform:"1049",multiply_reform:"1329",legalize_reform:"1049",middle_reform:"1049",all_reforms:"1329",lat:"-122.13459",long:"47.68223",grade:"at grade",status:"existing",year_open:"2011",name:"154",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53037270",STATION_ID:"S2966119572",station_link:"155 Street-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"1796",baseline_under_zoning:"2358",plexify_reform:"5055",multiply_reform:"3226",legalize_reform:"2358",middle_reform:"2634",all_reforms:"6078",lat:"-122.28835",long:"47.74107",grade:"at grade",status:"planned",year_open:"",name:"155 Street",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53045865",STATION_ID:"S53287922",station_link:"164th Street-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"533",baseline_under_zoning:"1201",plexify_reform:"1216",multiply_reform:"1933",legalize_reform:"1201",middle_reform:"3002",all_reforms:"3017",lat:"-122.2175",long:"47.84952",grade:"at grade",status:"existing",year_open:"2019",name:"164th Street",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53037270",STATION_ID:"S2966119671",station_link:"165 Street-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"854",baseline_under_zoning:"861",plexify_reform:"3394",multiply_reform:"873",legalize_reform:"861",middle_reform:"913",all_reforms:"3446",lat:"-122.28483",long:"47.74827",grade:"at grade",status:"planned",year_open:"",name:"165 Street",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53040840",STATION_ID:"S3005278836",station_link:"176th Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1478",baseline_under_zoning:"1985",plexify_reform:"4190",multiply_reform:"2553",legalize_reform:"1985",middle_reform:"4318",all_reforms:"6523",lat:"-122.29957",long:"47.8392",grade:"at grade",status:"existing",year_open:"2009",name:"176th Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S910411891",station_link:"17th Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"18891",baseline_under_zoning:"32782",plexify_reform:"33051",multiply_reform:"48501",legalize_reform:"32782",middle_reform:"35166",all_reforms:"49686",lat:"-122.31015",long:"47.61561",grade:"at grade",status:"proposed",year_open:"",name:"17th Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53007380",STATION_ID:"S2966127292",station_link:"180 Street-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"2447",baseline_under_zoning:"5625",plexify_reform:"6677",multiply_reform:"9115",legalize_reform:"5625",middle_reform:"5625",all_reforms:"10167",lat:"-122.21092",long:"47.75824",grade:"at grade",status:"planned",year_open:"",name:"180 Street",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53057745",STATION_ID:"S863114254",station_link:"182 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"985",baseline_under_zoning:"989",plexify_reform:"3392",multiply_reform:"989",legalize_reform:"989",middle_reform:"989",all_reforms:"3392",lat:"-122.19695",long:"47.43988",grade:"at grade",status:"planned",year_open:"",name:"182 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53057745",STATION_ID:"S863109898",station_link:"186 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1423",baseline_under_zoning:"1468",plexify_reform:"3975",multiply_reform:"1525",legalize_reform:"1468",middle_reform:"1534",all_reforms:"4041",lat:"-122.19704",long:"47.43651",grade:"at grade",status:"planned",year_open:"",name:"186 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53057745",STATION_ID:"S863114287",station_link:"192 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1273",baseline_under_zoning:"5894",plexify_reform:"7589",multiply_reform:"10575",legalize_reform:"5894",middle_reform:"7194",all_reforms:"12969",lat:"-122.19704",long:"47.43029",grade:"at grade",status:"planned",year_open:"",name:"192 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53040840",STATION_ID:"S1541838909",station_link:"196 Street-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"827",baseline_under_zoning:"1249",plexify_reform:"2665",multiply_reform:"1261",legalize_reform:"1385",middle_reform:"2365",all_reforms:"3917",lat:"-122.31536",long:"47.82118",grade:"at grade",status:"uc",year_open:"",name:"196 Street",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2896125354",station_link:"1st & Cherry-Columbia/Pioneer Square-Center City Connector-Streetcar-proposed",existing_housing_units:"9063",baseline_under_zoning:"14947",plexify_reform:"14947",multiply_reform:"20874",legalize_reform:"14947",middle_reform:"14947",all_reforms:"20874",lat:"-122.3345",long:"47.60283",grade:"at grade",status:"proposed",year_open:"",name:"1st & Cherry-Columbia/Pioneer Square",mode:"Streetcar",line:"Center City Connector"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2093085291",station_link:"1st & Madison/Spring-Center City Connector-Streetcar-proposed",existing_housing_units:"17705",baseline_under_zoning:"23498",plexify_reform:"23498",multiply_reform:"30492",legalize_reform:"23498",middle_reform:"23498",all_reforms:"30492",lat:"-122.33655",long:"47.60504",grade:"at grade",status:"proposed",year_open:"",name:"1st & Madison/Spring",mode:"Streetcar",line:"Center City Connector"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3566781324",station_link:"1st & Pike/Pine-Center City Connector-Streetcar-proposed",existing_housing_units:"60376",baseline_under_zoning:"70953",plexify_reform:"70953",multiply_reform:"93254",legalize_reform:"70953",middle_reform:"70953",all_reforms:"93254",lat:"-122.34046",long:"47.60931",grade:"at grade",status:"proposed",year_open:"",name:"1st & Pike/Pine",mode:"Streetcar",line:"Center City Connector"},{JURISDICTION_ID:"G53008850",STATION_ID:"S1888060521",station_link:"2 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"4007",baseline_under_zoning:"4500",plexify_reform:"4824",multiply_reform:"4792",legalize_reform:"4500",middle_reform:"5240",all_reforms:"5688",lat:"-122.33039",long:"47.46328",grade:"at grade",status:"existing",year_open:"2014",name:"2 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53057745",STATION_ID:"S863111815",station_link:"200 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1158",baseline_under_zoning:"1245",plexify_reform:"3082",multiply_reform:"1393",legalize_reform:"1245",middle_reform:"1935",all_reforms:"3772",lat:"-122.19706",long:"47.42314",grade:"at grade",status:"planned",year_open:"",name:"200 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53040840",STATION_ID:"S3005276498",station_link:"204th Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1401",baseline_under_zoning:"1596",plexify_reform:"2340",multiply_reform:"2017",legalize_reform:"1596",middle_reform:"2667",all_reforms:"3620",lat:"-122.32108",long:"47.81402",grade:"at grade",status:"existing",year_open:"2009",name:"204th Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863120527",station_link:"208 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1791",baseline_under_zoning:"2970",plexify_reform:"4505",multiply_reform:"4622",legalize_reform:"2970",middle_reform:"5273",all_reforms:"7308",lat:"-122.19706",long:"47.41583",grade:"at grade",status:"planned",year_open:"",name:"208 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S221290123",station_link:"20th Avenue-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1898",baseline_under_zoning:"3646",plexify_reform:"4519",multiply_reform:"6036",legalize_reform:"3646",middle_reform:"7687",all_reforms:"9991",lat:"-122.35921",long:"47.51735",grade:"at grade",status:"proposed",year_open:"",name:"20th Avenue",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863109664",station_link:"216 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1390",baseline_under_zoning:"1438",plexify_reform:"4623",multiply_reform:"1438",legalize_reform:"1438",middle_reform:"1438",all_reforms:"4623",lat:"-122.19709",long:"47.40823",grade:"at grade",status:"planned",year_open:"",name:"216 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53040840",STATION_ID:"S3005278769",station_link:"216th Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"792",baseline_under_zoning:"7918",plexify_reform:"8313",multiply_reform:"9677",legalize_reform:"9674",middle_reform:"8797",all_reforms:"12707",lat:"-122.32919",long:"47.80319",grade:"at grade",status:"existing",year_open:"2009",name:"216th Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305493",station_link:"22 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1204",baseline_under_zoning:"3347",plexify_reform:"3625",multiply_reform:"5722",legalize_reform:"6435",middle_reform:"3953",all_reforms:"9427",lat:"-122.22153",long:"47.32646",grade:"at grade",status:"planned",year_open:"",name:"22 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53047490",STATION_ID:"S49014145",station_link:"220th Street-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"897",baseline_under_zoning:"14756",plexify_reform:"14943",multiply_reform:"21531",legalize_reform:"14756",middle_reform:"19546",all_reforms:"25200",lat:"-122.31634",long:"47.79898",grade:"highway",status:"uc",year_open:"",name:"220th Street",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863107521",station_link:"224 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2455",baseline_under_zoning:"2487",plexify_reform:"4716",multiply_reform:"2703",legalize_reform:"2487",middle_reform:"2537",all_reforms:"4932",lat:"-122.19934",long:"47.40143",grade:"at grade",status:"planned",year_open:"",name:"224 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863120589",station_link:"228 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1277",baseline_under_zoning:"1335",plexify_reform:"4332",multiply_reform:"1335",legalize_reform:"1335",middle_reform:"1335",all_reforms:"4332",lat:"-122.20226",long:"47.39738",grade:"at grade",status:"planned",year_open:"",name:"228 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S910811459",station_link:"22nd Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"8658",baseline_under_zoning:"12276",plexify_reform:"12825",multiply_reform:"17213",legalize_reform:"12276",middle_reform:"13840",all_reforms:"18369",lat:"-122.30357",long:"47.61849",grade:"at grade",status:"proposed",year_open:"",name:"22nd Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863108641",station_link:"235 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2412",baseline_under_zoning:"2467",plexify_reform:"4724",multiply_reform:"2551",legalize_reform:"2467",middle_reform:"3337",all_reforms:"5608",lat:"-122.20222",long:"47.39092",grade:"at grade",status:"planned",year_open:"",name:"235 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53020750",STATION_ID:"S3005278707",station_link:"236th Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1200",baseline_under_zoning:"8420",plexify_reform:"11045",multiply_reform:"13657",legalize_reform:"8420",middle_reform:"8817",all_reforms:"16679",lat:"-122.34221",long:"47.78514",grade:"at grade",status:"existing",year_open:"2009",name:"236th Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53062288",STATION_ID:"S2176455293",station_link:"24 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"155",baseline_under_zoning:"156",plexify_reform:"621",multiply_reform:"156",legalize_reform:"156",middle_reform:"156",all_reforms:"621",lat:"-122.30288",long:"47.46512",grade:"at grade",status:"existing",year_open:"2014",name:"24 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863111683",station_link:"240 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2386",baseline_under_zoning:"2847",plexify_reform:"3706",multiply_reform:"3392",legalize_reform:"2847",middle_reform:"4061",all_reforms:"5037",lat:"-122.20224",long:"47.38692",grade:"at grade",status:"planned",year_open:"",name:"240 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863120395",station_link:"248 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"8989",baseline_under_zoning:"9985",plexify_reform:"13640",multiply_reform:"11236",legalize_reform:"9985",middle_reform:"12993",all_reforms:"16908",lat:"-122.20233",long:"47.37972",grade:"at grade",status:"planned",year_open:"",name:"248 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S910411795",station_link:"24th Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"4149",baseline_under_zoning:"4650",plexify_reform:"5308",multiply_reform:"6130",legalize_reform:"4650",middle_reform:"5279",all_reforms:"6850",lat:"-122.30114",long:"47.62012",grade:"at grade",status:"proposed",year_open:"",name:"24th Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863109796",station_link:"256 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2697",baseline_under_zoning:"7323",plexify_reform:"7517",multiply_reform:"10878",legalize_reform:"7323",middle_reform:"10906",all_reforms:"13349",lat:"-122.20241",long:"47.37309",grade:"at grade",status:"planned",year_open:"",name:"256 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863121515",station_link:"259 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"823",baseline_under_zoning:"1721",plexify_reform:"2049",multiply_reform:"2993",legalize_reform:"1721",middle_reform:"2519",all_reforms:"3529",lat:"-122.22995",long:"47.37003",grade:"at grade",status:"planned",year_open:"",name:"259 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S221290286",station_link:"25th Avenue-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"2217",baseline_under_zoning:"3795",plexify_reform:"5010",multiply_reform:"6073",legalize_reform:"3795",middle_reform:"4581",all_reforms:"7360",lat:"-122.36465",long:"47.52101",grade:"at grade",status:"proposed",year_open:"",name:"25th Avenue",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53035415",STATION_ID:"S863109703",station_link:"266 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"336",baseline_under_zoning:"376",plexify_reform:"394",multiply_reform:"484",legalize_reform:"376",middle_reform:"642",all_reforms:"660",lat:"-122.22993",long:"47.36341",grade:"at grade",status:"planned",year_open:"",name:"266 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1368175179",station_link:"30 Avenue-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"3725",baseline_under_zoning:"5768",plexify_reform:"7838",multiply_reform:"7355",legalize_reform:"5768",middle_reform:"6210",all_reforms:"9720",lat:"-122.29649",long:"47.7338",grade:"at grade",status:"planned",year_open:"",name:"30 Avenue",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305430",station_link:"30 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"962",baseline_under_zoning:"4672",plexify_reform:"4836",multiply_reform:"6548",legalize_reform:"4672",middle_reform:"4978",all_reforms:"6842",lat:"-122.22203",long:"47.33387",grade:"at grade",status:"planned",year_open:"",name:"30 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53062288",STATION_ID:"S2176455098",station_link:"32 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2371",baseline_under_zoning:"8488",plexify_reform:"9937",multiply_reform:"15007",legalize_reform:"8488",middle_reform:"16364",all_reforms:"22691",lat:"-122.29153",long:"47.46515",grade:"at grade",status:"existing",year_open:"2014",name:"32 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S102634087",station_link:"35-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"5431",baseline_under_zoning:"7684",plexify_reform:"13478",multiply_reform:"10700",legalize_reform:"7684",middle_reform:"8138",all_reforms:"16494",lat:"-122.37676",long:"47.52107",grade:"at grade",status:"existing",year_open:"2012",name:"35",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305393",station_link:"37 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2406",baseline_under_zoning:"8753",plexify_reform:"8847",multiply_reform:"15311",legalize_reform:"8753",middle_reform:"10287",all_reforms:"15670",lat:"-122.22234",long:"47.34023",grade:"at grade",status:"planned",year_open:"",name:"37 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3325412519",station_link:"3rd & Stewart-Center City Connector-Streetcar-proposed",existing_housing_units:"5438",baseline_under_zoning:"17336",plexify_reform:"17336",multiply_reform:"34112",legalize_reform:"17336",middle_reform:"17336",all_reforms:"34112",lat:"-122.33943",long:"47.6116",grade:"at grade",status:"proposed",year_open:"",name:"3rd & Stewart",mode:"Streetcar",line:"Center City Connector"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1973296122",station_link:"3rd Avenue West-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"19772",baseline_under_zoning:"31997",plexify_reform:"32700",multiply_reform:"42428",legalize_reform:"32100",middle_reform:"32445",all_reforms:"43326",lat:"-122.36061",long:"47.62459",grade:"at grade",status:"existing",year_open:"2012",name:"3rd Avenue West",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S418052812",station_link:"3rd Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"23",baseline_under_zoning:"78731",plexify_reform:"78731",multiply_reform:"157462",legalize_reform:"78731",middle_reform:"78731",all_reforms:"157462",lat:"-122.33449",long:"47.60543",grade:"at grade",status:"proposed",year_open:"",name:"3rd Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53008850",STATION_ID:"S3220110840",station_link:"4 Avenue SW-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"11378",baseline_under_zoning:"14753",plexify_reform:"15206",multiply_reform:"19185",legalize_reform:"14753",middle_reform:"17950",all_reforms:"20103",lat:"-122.33908",long:"47.46325",grade:"at grade",status:"existing",year_open:"2014",name:"4 Avenue SW",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3096169437",station_link:"41st Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"10679",baseline_under_zoning:"36939",plexify_reform:"37041",multiply_reform:"66663",legalize_reform:"36939",middle_reform:"37340",all_reforms:"66857",lat:"-122.31718",long:"47.65689",grade:"at grade",status:"proposed",year_open:"",name:"41st Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53022640",STATION_ID:"S3084422170",station_link:"41st Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1094",baseline_under_zoning:"12818",plexify_reform:"14440",multiply_reform:"15590",legalize_reform:"12818",middle_reform:"14832",all_reforms:"18856",lat:"-122.21085",long:"47.96334",grade:"at grade",status:"existing",year_open:"2009",name:"41st Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53072625",STATION_ID:"S2176455101",station_link:"42 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2667",baseline_under_zoning:"3181",plexify_reform:"5722",multiply_reform:"3805",legalize_reform:"3171",middle_reform:"5201",all_reforms:"7742",lat:"-122.28127",long:"47.4659",grade:"at grade",status:"existing",year_open:"2014",name:"42 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3096713806",station_link:"43rd Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"13575",baseline_under_zoning:"32919",plexify_reform:"33110",multiply_reform:"57579",legalize_reform:"32919",middle_reform:"33604",all_reforms:"58245",lat:"-122.31661",long:"47.66023",grade:"at grade",status:"proposed",year_open:"",name:"43rd Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S102634080",station_link:"45-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"1501",baseline_under_zoning:"1610",plexify_reform:"3341",multiply_reform:"1883",legalize_reform:"1610",middle_reform:"1668",all_reforms:"3618",lat:"-122.3902",long:"47.52078",grade:"at grade",status:"existing",year_open:"2012",name:"45",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305398",station_link:"47 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"372",baseline_under_zoning:"4738",plexify_reform:"4750",multiply_reform:"8688",legalize_reform:"4738",middle_reform:"4931",all_reforms:"8802",lat:"-122.2223",long:"47.34492",grade:"at grade",status:"planned",year_open:"",name:"47 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53003180",STATION_ID:"S156305720",station_link:"49 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"70",baseline_under_zoning:"1221",plexify_reform:"1224",multiply_reform:"2216",legalize_reform:"1221",middle_reform:"2183",all_reforms:"3137",lat:"-122.22704",long:"47.35121",grade:"at grade",status:"planned",year_open:"",name:"49 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53072625",STATION_ID:"S2176455100",station_link:"52 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"1677",baseline_under_zoning:"1737",plexify_reform:"2395",multiply_reform:"1785",legalize_reform:"3237",middle_reform:"2030",all_reforms:"4188",lat:"-122.26905",long:"47.46513",grade:"at grade",status:"existing",year_open:"2014",name:"52 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53022640",STATION_ID:"S3084963509",station_link:"52nd Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1512",baseline_under_zoning:"10619",plexify_reform:"12524",multiply_reform:"14030",legalize_reform:"10619",middle_reform:"11097",all_reforms:"16413",lat:"-122.21453",long:"47.94939",grade:"at grade",status:"existing",year_open:"2009",name:"52nd Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S418039808",station_link:"5th Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"106934",baseline_under_zoning:"154348",plexify_reform:"154348",multiply_reform:"203998",legalize_reform:"154348",middle_reform:"154348",all_reforms:"203998",lat:"-122.33119",long:"47.60682",grade:"at grade",status:"proposed",year_open:"",name:"5th Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2073659379",station_link:"5th/Jackson-Japantown-First Hill Line-Streetcar-existing",existing_housing_units:"12587",baseline_under_zoning:"12587",plexify_reform:"12587",multiply_reform:"12587",legalize_reform:"12587",middle_reform:"12587",all_reforms:"12587",lat:"-122.327",long:"47.5992",grade:"at grade",status:"existing",year_open:"2016",name:"5th/Jackson-Japantown",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53035170",STATION_ID:"S1368175279",station_link:"61 Avenue-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"689",baseline_under_zoning:"1080",plexify_reform:"2546",multiply_reform:"1666",legalize_reform:"1080",middle_reform:"1162",all_reforms:"3132",lat:"-122.26233",long:"47.75838",grade:"at grade",status:"planned",year_open:"",name:"61 Avenue",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53072625",STATION_ID:"S2176455103",station_link:"62 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2130",baseline_under_zoning:"2315",plexify_reform:"2568",multiply_reform:"2982",legalize_reform:"2570",middle_reform:"3675",all_reforms:"4183",lat:"-122.25633",long:"47.46268",grade:"at grade",status:"existing",year_open:"2014",name:"62 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53072625",STATION_ID:"S2176455192",station_link:"65 Avenue S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"1131",baseline_under_zoning:"7140",plexify_reform:"7212",multiply_reform:"13092",legalize_reform:"15255",middle_reform:"7297",all_reforms:"21436",lat:"-122.25186",long:"47.46251",grade:"at grade",status:"existing",year_open:"2014",name:"65 Avenue S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53035170",STATION_ID:"S1368175403",station_link:"65 Avenue-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"1526",baseline_under_zoning:"2817",plexify_reform:"3662",multiply_reform:"3588",legalize_reform:"2817",middle_reform:"3138",all_reforms:"4700",lat:"-122.2536",long:"47.75868",grade:"at grade",status:"planned",year_open:"",name:"65 Avenue",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2285172179",station_link:"6th Avenue-Link T Line-Streetcar-uc",existing_housing_units:"3190",baseline_under_zoning:"27058",plexify_reform:"27268",multiply_reform:"41303",legalize_reform:"27058",middle_reform:"27434",all_reforms:"41606",lat:"-122.45292",long:"47.25726",grade:"at grade",status:"uc",year_open:"",name:"6th Avenue",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2322798136",station_link:"6th Avenue-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"12464",baseline_under_zoning:"47889",plexify_reform:"47889",multiply_reform:"83352",legalize_reform:"47889",middle_reform:"47889",all_reforms:"83352",lat:"-122.33802",long:"47.61463",grade:"at grade",status:"proposed",year_open:"",name:"6th Avenue",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3942529624",station_link:"7th Avenue NW-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2789",baseline_under_zoning:"4460",plexify_reform:"6613",multiply_reform:"5109",legalize_reform:"4460",middle_reform:"5063",all_reforms:"7716",lat:"-122.36417",long:"47.7023",grade:"at grade",status:"existing",year_open:"2012",name:"7th Avenue NW",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3175648744",station_link:"7th/Jackson-Chinatown-First Hill Line-Streetcar-existing",existing_housing_units:"15262",baseline_under_zoning:"15262",plexify_reform:"15262",multiply_reform:"15262",legalize_reform:"15262",middle_reform:"15262",all_reforms:"15262",lat:"-122.32346",long:"47.5992",grade:"at grade",status:"existing",year_open:"2016",name:"7th/Jackson-Chinatown",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53003180",STATION_ID:"S395188109",station_link:"8 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1425",baseline_under_zoning:"6190",plexify_reform:"6810",multiply_reform:"10869",legalize_reform:"7203",middle_reform:"6822",all_reforms:"12895",lat:"-122.22334",long:"47.3157",grade:"at grade",status:"planned",year_open:"",name:"8 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S418039821",station_link:"8th Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"44256",baseline_under_zoning:"104734",plexify_reform:"104734",multiply_reform:"184569",legalize_reform:"104734",middle_reform:"104851",all_reforms:"184686",lat:"-122.32845",long:"47.60796",grade:"at grade",status:"proposed",year_open:"",name:"8th Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2322798135",station_link:"9th Avenue-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"89330",baseline_under_zoning:"131271",plexify_reform:"131271",multiply_reform:"186851",legalize_reform:"131271",middle_reform:"131281",all_reforms:"186861",lat:"-122.33531",long:"47.61672",grade:"at grade",status:"proposed",year_open:"",name:"9th Avenue",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53070000",STATION_ID:"S22169543",station_link:"Ainsworth-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"1932",baseline_under_zoning:"2015",plexify_reform:"7038",multiply_reform:"2027",legalize_reform:"2015",middle_reform:"2209",all_reforms:"7232",lat:"-122.45698",long:"47.24308",grade:"at grade",status:"planned",year_open:"",name:"Ainsworth",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1470314101",station_link:"Alaska Junction-West Seattle Link Extension-Light Rail-planned",existing_housing_units:"6135",baseline_under_zoning:"10513",plexify_reform:"11656",multiply_reform:"16537",legalize_reform:"10513",middle_reform:"11241",all_reforms:"17728",lat:"-122.38567",long:"47.55936",grade:"elevated",status:"planned",year_open:"",name:"Alaska Junction",mode:"Light Rail",line:"West Seattle Link Extension"},{JURISDICTION_ID:"G53040840",STATION_ID:"S1926824899",station_link:"Alderwood Mall-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"131",baseline_under_zoning:"210",plexify_reform:"426",multiply_reform:"308",legalize_reform:"210",middle_reform:"343",all_reforms:"623",lat:"-122.27772",long:"47.82825",grade:"at grade",status:"uc",year_open:"",name:"Alderwood Mall",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53072625",STATION_ID:"S387830826",station_link:"Andover Park East-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"3126",baseline_under_zoning:"13425",plexify_reform:"13425",multiply_reform:"23962",legalize_reform:"13425",middle_reform:"13425",all_reforms:"23962",lat:"-122.25",long:"47.45577",grade:"at grade",status:"existing",year_open:"2014",name:"Andover Park East",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53003180",STATION_ID:"S1614302571",station_link:"Auburn-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1046",baseline_under_zoning:"2643",plexify_reform:"2643",multiply_reform:"3369",legalize_reform:"2788",middle_reform:"2643",all_reforms:"3514",lat:"-122.23193",long:"47.30569",grade:"at grade",status:"planned",year_open:"",name:"Auburn",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53003180",STATION_ID:"S2936341948",station_link:"Auburn-Sounder-Commuter Rail-existing",existing_housing_units:"1160",baseline_under_zoning:"5997",plexify_reform:"5997",multiply_reform:"8679",legalize_reform:"7257",middle_reform:"6551",all_reforms:"10271",lat:"-122.23223",long:"47.30614",grade:"at grade",status:"existing",year_open:"2000",name:"Auburn",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53063960",STATION_ID:"S744285363",station_link:"Aurora Village Transit Center-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1947",baseline_under_zoning:"3198",plexify_reform:"6009",multiply_reform:"3588",legalize_reform:"3198",middle_reform:"3207",all_reforms:"6408",lat:"-122.34073",long:"47.77421",grade:"at grade",status:"existing",year_open:"2009",name:"Aurora Village Transit Center",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S547331605",station_link:"Avalon-West Seattle Link Extension-Light Rail-planned",existing_housing_units:"2367",baseline_under_zoning:"2367",plexify_reform:"3813",multiply_reform:"2458",legalize_reform:"2367",middle_reform:"2395",all_reforms:"3904",lat:"-122.37648",long:"47.56472",grade:"elevated",status:"planned",year_open:"",name:"Avalon",mode:"Light Rail",line:"West Seattle Link Extension"},{JURISDICTION_ID:"G53072625",STATION_ID:"S1487826667",station_link:"Baker Boulevard-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"72",baseline_under_zoning:"1962",plexify_reform:"1962",multiply_reform:"2190",legalize_reform:"1962",middle_reform:"1962",all_reforms:"2190",lat:"-122.25435",long:"47.45823",grade:"at grade",status:"existing",year_open:"2014",name:"Baker Boulevard",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3207664229",station_link:"Ballard-Ballard Link Extension-Light Rail-planned",existing_housing_units:"12997",baseline_under_zoning:"22423",plexify_reform:"22423",multiply_reform:"35653",legalize_reform:"22423",middle_reform:"23612",all_reforms:"35902",lat:"-122.37628",long:"47.66867",grade:"elevated",status:"planned",year_open:"",name:"Ballard",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53037270",STATION_ID:"S90233279",station_link:"Ballinger Way-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"462",baseline_under_zoning:"611",plexify_reform:"1992",multiply_reform:"759",legalize_reform:"611",middle_reform:"1465",all_reforms:"2846",lat:"-122.27579",long:"47.75381",grade:"at grade",status:"planned",year_open:"",name:"Ballinger Way",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2094549545",station_link:"Beacon Hill-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"3158",baseline_under_zoning:"4943",plexify_reform:"6465",multiply_reform:"6836",legalize_reform:"4943",middle_reform:"5910",all_reforms:"8644",lat:"-122.31164",long:"47.57929",grade:"subway",status:"existing",year_open:"2009",name:"Beacon Hill",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S1042310128",station_link:"Bel-Red/130th-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"29",baseline_under_zoning:"98",plexify_reform:"131",multiply_reform:"113",legalize_reform:"98",middle_reform:"98",all_reforms:"146",lat:"-122.16578",long:"47.62447",grade:"at grade",status:"uc",year_open:"",name:"Bel-Red/130th",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S1923670588",station_link:"Bel-Red/24-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"2324",baseline_under_zoning:"3323",plexify_reform:"4061",multiply_reform:"4238",legalize_reform:"3323",middle_reform:"3525",all_reforms:"5142",lat:"-122.13309",long:"47.63158",grade:"at grade",status:"existing",year_open:"2011",name:"Bel-Red/24",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S156310944",station_link:"Bell Street-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"46739",baseline_under_zoning:"49514",plexify_reform:"49514",multiply_reform:"59406",legalize_reform:"49514",middle_reform:"49514",all_reforms:"59406",lat:"-122.34479",long:"47.6147",grade:"at grade",status:"existing",year_open:"2012",name:"Bell Street",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53005210",STATION_ID:"S1872643088",station_link:"Bellevue Downtown-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"6312",baseline_under_zoning:"17076",plexify_reform:"17208",multiply_reform:"31478",legalize_reform:"17076",middle_reform:"17076",all_reforms:"31610",lat:"-122.19202",long:"47.61522",grade:"elevated",status:"uc",year_open:"",name:"Bellevue Downtown",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S296332200",station_link:"Bellevue Transit Center-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"11745",baseline_under_zoning:"33857",plexify_reform:"34097",multiply_reform:"44016",legalize_reform:"33857",middle_reform:"33858",all_reforms:"44257",lat:"-122.19462",long:"47.61551",grade:"at grade",status:"existing",year_open:"2011",name:"Bellevue Transit Center",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057745",STATION_ID:"S495470467",station_link:"Boeing Commercial Airplane Group-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2",baseline_under_zoning:"2",plexify_reform:"2",multiply_reform:"2",legalize_reform:"2",middle_reform:"2",all_reforms:"2",lat:"-122.23286",long:"47.46219",grade:"at grade",status:"existing",year_open:"2014",name:"Boeing Commercial Airplane Group",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53007380",STATION_ID:"S436186064",station_link:"Bothell-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"1857",baseline_under_zoning:"2576",plexify_reform:"3759",multiply_reform:"4631",legalize_reform:"2576",middle_reform:"2576",all_reforms:"5814",lat:"-122.19096",long:"47.76757",grade:"at grade",status:"planned",year_open:"",name:"Bothell",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1946543191",station_link:"Boylston Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"26654",baseline_under_zoning:"48758",plexify_reform:"48758",multiply_reform:"80666",legalize_reform:"48758",middle_reform:"48853",all_reforms:"80666",lat:"-122.32176",long:"47.61075",grade:"at grade",status:"proposed",year_open:"",name:"Boylston Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3071347240",station_link:"Bradford/Yancy-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"4096",baseline_under_zoning:"7778",plexify_reform:"8459",multiply_reform:"13432",legalize_reform:"7933",middle_reform:"8586",all_reforms:"14329",lat:"-122.37081",long:"47.5684",grade:"at grade",status:"existing",year_open:"2012",name:"Bradford/Yancy",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53007380",STATION_ID:"S37627898",station_link:"Brickyard-Stride S2-Bus Rapid Transit-planned",existing_housing_units:"1991",baseline_under_zoning:"5338",plexify_reform:"7310",multiply_reform:"8316",legalize_reform:"5338",middle_reform:"6133",all_reforms:"11070",lat:"-122.18709",long:"47.74105",grade:"highway",status:"planned",year_open:"",name:"Brickyard",mode:"Bus Rapid Transit",line:"Stride S2"},{JURISDICTION_ID:"G53063000",STATION_ID:"S247469277",station_link:"Broadway/Denny-Capitol Hill-First Hill Line-Streetcar-existing",existing_housing_units:"32830",baseline_under_zoning:"35765",plexify_reform:"35765",multiply_reform:"41550",legalize_reform:"35765",middle_reform:"36054",all_reforms:"41665",lat:"-122.32094",long:"47.61805",grade:"at grade",status:"existing",year_open:"2016",name:"Broadway/Denny-Capitol Hill",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1918538693",station_link:"Broadway/Marion-First Hill-First Hill Line-Streetcar-existing",existing_housing_units:"964",baseline_under_zoning:"15053",plexify_reform:"15053",multiply_reform:"29434",legalize_reform:"15053",middle_reform:"15418",all_reforms:"29434",lat:"-122.32081",long:"47.60999",grade:"at grade",status:"existing",year_open:"2016",name:"Broadway/Marion-First Hill",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S564231695",station_link:"Broadway/Pike/Pine-Capitol Hill-First Hill Line-Streetcar-existing",existing_housing_units:"28951",baseline_under_zoning:"60911",plexify_reform:"60911",multiply_reform:"97123",legalize_reform:"60911",middle_reform:"63126",all_reforms:"97310",lat:"-122.32081",long:"47.61432",grade:"at grade",status:"existing",year_open:"2016",name:"Broadway/Pike/Pine-Capitol Hill",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S659696837",station_link:"Broadway/Terrace-First Hill-First Hill Line-Streetcar-existing",existing_housing_units:"23180",baseline_under_zoning:"101055",plexify_reform:"101055",multiply_reform:"188681",legalize_reform:"101055",middle_reform:"101808",all_reforms:"188723",lat:"-122.32079",long:"47.60517",grade:"at grade",status:"existing",year_open:"2016",name:"Broadway/Terrace-First Hill",mode:"Streetcar",line:"First Hill Line"},{JURISDICTION_ID:"G53008850",STATION_ID:"S1485321903",station_link:"Burien Transit Center-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"655",baseline_under_zoning:"5630",plexify_reform:"6588",multiply_reform:"9238",legalize_reform:"5630",middle_reform:"6224",all_reforms:"10354",lat:"-122.33709",long:"47.47043",grade:"at grade",status:"existing",year_open:"2014",name:"Burien Transit Center",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3248357563",station_link:"California-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"10065",baseline_under_zoning:"12206",plexify_reform:"17086",multiply_reform:"15026",legalize_reform:"12206",middle_reform:"12990",all_reforms:"20158",lat:"-122.38678",long:"47.56112",grade:"at grade",status:"existing",year_open:"2012",name:"California",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53007380",STATION_ID:"S267443801",station_link:"Canyon Park-Stride S2-Bus Rapid Transit-planned",existing_housing_units:"1168",baseline_under_zoning:"4079",plexify_reform:"5051",multiply_reform:"6141",legalize_reform:"4153",middle_reform:"6982",all_reforms:"10090",lat:"-122.21415",long:"47.79479",grade:"highway",status:"planned",year_open:"",name:"Canyon Park",mode:"Bus Rapid Transit",line:"Stride S2"},{JURISDICTION_ID:"G53007380",STATION_ID:"S835011136",station_link:"Canyon Park-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"188",baseline_under_zoning:"1400",plexify_reform:"1702",multiply_reform:"1466",legalize_reform:"1400",middle_reform:"1400",all_reforms:"1768",lat:"-122.21365",long:"47.7978",grade:"at grade",status:"existing",year_open:"2019",name:"Canyon Park",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1677479846",station_link:"Capitol Hill-Red Line (University Link)-Light Rail-existing",existing_housing_units:"26991",baseline_under_zoning:"33085",plexify_reform:"33095",multiply_reform:"42665",legalize_reform:"33085",middle_reform:"35591",all_reforms:"43471",lat:"-122.32019",long:"47.61908",grade:"subway",status:"existing",year_open:"2016",name:"Capitol Hill",mode:"Light Rail",line:"Red Line (University Link)"},{JURISDICTION_ID:"G53022640",STATION_ID:"S2248833639",station_link:"Casino Corner-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"3283",baseline_under_zoning:"32261",plexify_reform:"34106",multiply_reform:"33323",legalize_reform:"32261",middle_reform:"33897",all_reforms:"36728",lat:"-122.22809",long:"47.92198",grade:"at grade",status:"existing",year_open:"2009",name:"Casino Corner",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53022640",STATION_ID:"S815402653",station_link:"Casino Road-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"0",baseline_under_zoning:"0",plexify_reform:"0",multiply_reform:"0",legalize_reform:"0",middle_reform:"0",all_reforms:"0",lat:"-122.27173",long:"47.92005",grade:"at grade",status:"existing",year_open:"2019",name:"Casino Road",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53033805",STATION_ID:"S700365787",station_link:"Central Issaquah-South Kirkland-Issaquah Link-Light Rail-planned",existing_housing_units:"93",baseline_under_zoning:"93",plexify_reform:"161",multiply_reform:"93",legalize_reform:"93",middle_reform:"93",all_reforms:"161",lat:"-122.06318",long:"47.54794",grade:"elevated",status:"planned",year_open:"",name:"Central Issaquah",mode:"Light Rail",line:"South Kirkland-Issaquah Link"},{JURISDICTION_ID:"G53063000",STATION_ID:"S145287161",station_link:"Columbia City-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"3389",baseline_under_zoning:"7268",plexify_reform:"8425",multiply_reform:"8395",legalize_reform:"7268",middle_reform:"8390",all_reforms:"10326",lat:"-122.29277",long:"47.55984",grade:"at grade",status:"existing",year_open:"2009",name:"Columbia City",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1842716371",station_link:"Columbia-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"2903",baseline_under_zoning:"49040",plexify_reform:"49040",multiply_reform:"98080",legalize_reform:"49040",middle_reform:"49040",all_reforms:"98080",lat:"-122.33275",long:"47.60419",grade:"at grade",status:"existing",year_open:"2012",name:"Columbia",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2081865616",station_link:"Commerce Street-S. 11th-Orange Line (Tacoma Link)-Streetcar-existing",existing_housing_units:"1553",baseline_under_zoning:"6381",plexify_reform:"6381",multiply_reform:"11299",legalize_reform:"6381",middle_reform:"6381",all_reforms:"11299",lat:"-122.43931",long:"47.25291",grade:"at grade",status:"existing",year_open:"2011",name:"Commerce Street-S. 11th",mode:"Streetcar",line:"Orange Line (Tacoma Link)"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1584456096",station_link:"Convention Center-S. 15th-Orange Line (Tacoma Link)-Streetcar-existing",existing_housing_units:"960",baseline_under_zoning:"8252",plexify_reform:"8252",multiply_reform:"15604",legalize_reform:"8252",middle_reform:"8252",all_reforms:"15604",lat:"-122.43855",long:"47.2495",grade:"at grade",status:"existing",year_open:"2003",name:"Convention Center-S. 15th",mode:"Streetcar",line:"Orange Line (Tacoma Link)"},{JURISDICTION_ID:"G53040840",STATION_ID:"S2286611596",station_link:"Crossroads-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1163",baseline_under_zoning:"1583",plexify_reform:"2204",multiply_reform:"1929",legalize_reform:"1958",middle_reform:"3102",all_reforms:"4128",lat:"-122.31629",long:"47.81974",grade:"at grade",status:"existing",year_open:"2009",name:"Crossroads",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S733423198",station_link:"Delridge-West Seattle Link Extension-Light Rail-planned",existing_housing_units:"1438",baseline_under_zoning:"1688",plexify_reform:"1800",multiply_reform:"3170",legalize_reform:"1688",middle_reform:"2005",all_reforms:"3282",lat:"-122.36491",long:"47.56572",grade:"elevated",status:"planned",year_open:"",name:"Delridge",mode:"Light Rail",line:"West Seattle Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2046264017",station_link:"Denny Way-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"14862",baseline_under_zoning:"22769",plexify_reform:"22769",multiply_reform:"33557",legalize_reform:"22769",middle_reform:"22769",all_reforms:"33557",lat:"-122.35537",long:"47.61859",grade:"at grade",status:"existing",year_open:"2012",name:"Denny Way",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2685277008",station_link:"Denny Way-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"47468",baseline_under_zoning:"55873",plexify_reform:"55873",multiply_reform:"70556",legalize_reform:"55873",middle_reform:"55873",all_reforms:"70556",lat:"-122.34364",long:"47.61856",grade:"at grade",status:"existing",year_open:"2014",name:"Denny Way",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S853985001",station_link:"Denny-Ballard Link Extension-Light Rail-planned",existing_housing_units:"20023",baseline_under_zoning:"56023",plexify_reform:"56023",multiply_reform:"92023",legalize_reform:"56023",middle_reform:"56023",all_reforms:"92023",lat:"-122.33954",long:"47.61829",grade:"subway",status:"planned",year_open:"",name:"Denny",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3210820633",station_link:"Denny-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"7615",baseline_under_zoning:"41097",plexify_reform:"41097",multiply_reform:"82194",legalize_reform:"41097",middle_reform:"41097",all_reforms:"82194",lat:"-122.33854",long:"47.61857",grade:"at grade",status:"existing",year_open:"2012",name:"Denny",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1836126310",station_link:"Des Moines Memorial Drive S-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"1593",baseline_under_zoning:"1848",plexify_reform:"2523",multiply_reform:"2223",legalize_reform:"1864",middle_reform:"2261",all_reforms:"3127",lat:"-122.32343",long:"47.46329",grade:"at grade",status:"existing",year_open:"2014",name:"Des Moines Memorial Drive S",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53057535",STATION_ID:"S1417612647",station_link:"Downtown Redmond-Blue Line (Downtown Redmond Link)-Light Rail-uc",existing_housing_units:"2865",baseline_under_zoning:"2951",plexify_reform:"2951",multiply_reform:"3051",legalize_reform:"2951",middle_reform:"3019",all_reforms:"3075",lat:"-122.11847",long:"47.6716",grade:"at grade",status:"uc",year_open:"",name:"Downtown Redmond",mode:"Light Rail",line:"Blue Line (Downtown Redmond Link)"},{JURISDICTION_ID:"G53018965",STATION_ID:"S1353974517",station_link:"DuPont-DuPont Sounder Extension-Commuter Rail-planned",existing_housing_units:"178",baseline_under_zoning:"652",plexify_reform:"652",multiply_reform:"1132",legalize_reform:"2669",middle_reform:"1102",all_reforms:"3599",lat:"-122.64058",long:"47.0895",grade:"at grade",status:"planned",year_open:"",name:"DuPont",mode:"Commuter Rail",line:"DuPont Sounder Extension"},{JURISDICTION_ID:"G53003180",STATION_ID:"S2240743357",station_link:"East Main Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"2730",baseline_under_zoning:"22138",plexify_reform:"23124",multiply_reform:"37603",legalize_reform:"22362",middle_reform:"24358",all_reforms:"40863",lat:"-122.22572",long:"47.30756",grade:"at grade",status:"planned",year_open:"",name:"East Main Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3496386732",station_link:"East Main-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"2435",baseline_under_zoning:"3872",plexify_reform:"4903",multiply_reform:"6131",legalize_reform:"3872",middle_reform:"4161",all_reforms:"7448",lat:"-122.19119",long:"47.60849",grade:"at grade",status:"uc",year_open:"",name:"East Main",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S2863156329",station_link:"Eastgate-South Kirkland-Issaquah Link-Light Rail-planned",existing_housing_units:"600",baseline_under_zoning:"1577",plexify_reform:"3117",multiply_reform:"2116",legalize_reform:"1577",middle_reform:"2010",all_reforms:"4061",lat:"-122.14612",long:"47.57928",grade:"at grade",status:"planned",year_open:"",name:"Eastgate",mode:"Light Rail",line:"South Kirkland-Issaquah Link"},{JURISDICTION_ID:"G53040840",STATION_ID:"S442076563",station_link:"Edmonds College-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"2194",baseline_under_zoning:"5278",plexify_reform:"6667",multiply_reform:"7712",legalize_reform:"5725",middle_reform:"6544",all_reforms:"10796",lat:"-122.32489",long:"47.8159",grade:"at grade",status:"uc",year_open:"",name:"Edmonds College",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53020750",STATION_ID:"S4134569177",station_link:"Edmonds-Sounder-Commuter Rail-existing",existing_housing_units:"746",baseline_under_zoning:"4547",plexify_reform:"4765",multiply_reform:"4992",legalize_reform:"4593",middle_reform:"5845",all_reforms:"6502",lat:"-122.38502",long:"47.81073",grade:"at grade",status:"existing",year_open:"1957",name:"Edmonds",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53022640",STATION_ID:"S2166535928",station_link:"Everett Station-Sounder-Commuter Rail-existing",existing_housing_units:"537",baseline_under_zoning:"23841",plexify_reform:"23847",multiply_reform:"34328",legalize_reform:"23841",middle_reform:"26131",all_reforms:"36624",lat:"-122.19732",long:"47.97555",grade:"at grade",status:"existing",year_open:"2002",name:"Everett Station",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53022640",STATION_ID:"S2280522338",station_link:"Everett Station-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"1081",baseline_under_zoning:"7549",plexify_reform:"7549",multiply_reform:"12069",legalize_reform:"7549",middle_reform:"9191",all_reforms:"13351",lat:"-122.19823",long:"47.97524",grade:"at grade",status:"existing",year_open:"2009",name:"Everett Station",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53022640",STATION_ID:"S3187579493",station_link:"Everett-Everett Link Extension-Light Rail-planned",existing_housing_units:"496",baseline_under_zoning:"10206",plexify_reform:"10206",multiply_reform:"11973",legalize_reform:"10206",middle_reform:"10206",all_reforms:"11973",lat:"-122.19721",long:"47.97463",grade:"elevated",status:"planned",year_open:"",name:"Everett",mode:"Light Rail",line:"Everett Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S4107866140",station_link:"Fairview Avenue-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"828",baseline_under_zoning:"11526",plexify_reform:"11526",multiply_reform:"23052",legalize_reform:"14606",middle_reform:"11526",all_reforms:"26132",lat:"-122.33351",long:"47.62668",grade:"at grade",status:"existing",year_open:"2012",name:"Fairview Avenue",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1052475396",station_link:"Fairview-Campus-South Lake Union Line-Streetcar-existing",existing_housing_units:"4790",baseline_under_zoning:"19360",plexify_reform:"19360",multiply_reform:"22810",legalize_reform:"19360",middle_reform:"19360",all_reforms:"22810",lat:"-122.33251",long:"47.62751",grade:"at grade",status:"existing",year_open:"2007",name:"Fairview-Campus",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S97980399",station_link:"Fauntleroy Way SW-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"7068",baseline_under_zoning:"8803",plexify_reform:"10842",multiply_reform:"11322",legalize_reform:"8803",middle_reform:"9565",all_reforms:"13438",lat:"-122.38834",long:"47.54471",grade:"at grade",status:"existing",year_open:"2012",name:"Fauntleroy Way SW",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2765979172",station_link:"Fauntleroy-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"6460",baseline_under_zoning:"9437",plexify_reform:"11420",multiply_reform:"11466",legalize_reform:"9437",middle_reform:"10853",all_reforms:"14443",lat:"-122.3818",long:"47.56107",grade:"at grade",status:"existing",year_open:"2012",name:"Fauntleroy",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1181996317",station_link:"Federal Way Transit Center-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"459",baseline_under_zoning:"5398",plexify_reform:"5539",multiply_reform:"8386",legalize_reform:"6380",middle_reform:"6801",all_reforms:"10676",lat:"-122.29915",long:"47.3178",grade:"at grade",status:"existing",year_open:"2010",name:"Federal Way Transit Center",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S2150240106",station_link:"Federal Way-Red Line (Federal Way Link)-Light Rail-uc",existing_housing_units:"2167",baseline_under_zoning:"20849",plexify_reform:"21146",multiply_reform:"29135",legalize_reform:"20849",middle_reform:"21972",all_reforms:"30336",lat:"-122.30366",long:"47.31645",grade:"elevated",status:"uc",year_open:"",name:"Federal Way",mode:"Light Rail",line:"Red Line (Federal Way Link)"},{JURISDICTION_ID:"G53023795",STATION_ID:"S3630470687",station_link:"Fife-Tacoma Dome Link Extension-Light Rail-planned",existing_housing_units:"113",baseline_under_zoning:"510",plexify_reform:"590",multiply_reform:"510",legalize_reform:"510",middle_reform:"800",all_reforms:"880",lat:"-122.35181",long:"47.24456",grade:"elevated",status:"planned",year_open:"",name:"Fife",mode:"Light Rail",line:"Tacoma Dome Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1200924346",station_link:"Galer-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"20313",baseline_under_zoning:"65868",plexify_reform:"66070",multiply_reform:"90153",legalize_reform:"66080",middle_reform:"67123",all_reforms:"90987",lat:"-122.34346",long:"47.63233",grade:"at grade",status:"existing",year_open:"2014",name:"Galer",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S678094153",station_link:"Garfield Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"2837",baseline_under_zoning:"4101",plexify_reform:"4688",multiply_reform:"5688",legalize_reform:"4101",middle_reform:"4629",all_reforms:"6513",lat:"-122.32558",long:"47.63387",grade:"at grade",status:"proposed",year_open:"",name:"Garfield Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53057745",STATION_ID:"S961714962",station_link:"Grady Way-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1928",baseline_under_zoning:"2824",plexify_reform:"3207",multiply_reform:"3334",legalize_reform:"2824",middle_reform:"4414",all_reforms:"4897",lat:"-122.20887",long:"47.47285",grade:"at grade",status:"planned",year_open:"",name:"Grady Way",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S257766384",station_link:"Hamlin Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"4568",baseline_under_zoning:"5861",plexify_reform:"6061",multiply_reform:"8430",legalize_reform:"5869",middle_reform:"6279",all_reforms:"8655",lat:"-122.32582",long:"47.64562",grade:"at grade",status:"proposed",year_open:"",name:"Hamlin Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3825232333",station_link:"Harrison Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"51495",baseline_under_zoning:"237663",plexify_reform:"237663",multiply_reform:"458757",legalize_reform:"237663",middle_reform:"237663",all_reforms:"458757",lat:"-122.33433",long:"47.62202",grade:"at grade",status:"proposed",year_open:"",name:"Harrison Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3605661608",station_link:"Harvard Avenue-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"3220",baseline_under_zoning:"3713",plexify_reform:"4271",multiply_reform:"4923",legalize_reform:"4197",middle_reform:"4061",all_reforms:"6016",lat:"-122.32215",long:"47.65047",grade:"at grade",status:"proposed",year_open:"",name:"Harvard Avenue",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53070000",STATION_ID:"S4237905433",station_link:"Hilltop District-Link T Line-Streetcar-uc",existing_housing_units:"4547",baseline_under_zoning:"9719",plexify_reform:"10228",multiply_reform:"14241",legalize_reform:"9719",middle_reform:"11678",all_reforms:"15263",lat:"-122.45172",long:"47.25199",grade:"at grade",status:"uc",year_open:"",name:"Hilltop District",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2782746063",station_link:"Interbay-Ballard Link Extension-Light Rail-planned",existing_housing_units:"2842",baseline_under_zoning:"3136",plexify_reform:"3467",multiply_reform:"3307",legalize_reform:"3136",middle_reform:"3603",all_reforms:"4028",lat:"-122.37873",long:"47.65186",grade:"elevated",status:"planned",year_open:"",name:"Interbay",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3691385775",station_link:"International District-Chinatown-Ballard Link Extension-Light Rail-planned",existing_housing_units:"1699",baseline_under_zoning:"1699",plexify_reform:"1699",multiply_reform:"1699",legalize_reform:"1699",middle_reform:"1699",all_reforms:"1699",lat:"-122.32766",long:"47.59849",grade:"subway",status:"planned",year_open:"",name:"International District-Chinatown",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S208336594",station_link:"International District-Chinatown-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"8295",baseline_under_zoning:"8295",plexify_reform:"8295",multiply_reform:"8295",legalize_reform:"8295",middle_reform:"8295",all_reforms:"8295",lat:"-122.32801",long:"47.59843",grade:"subway",status:"existing",year_open:"2009",name:"International District-Chinatown",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2221922088",station_link:"Judkins Park-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"3563",baseline_under_zoning:"6954",plexify_reform:"7493",multiply_reform:"8675",legalize_reform:"6954",middle_reform:"8158",all_reforms:"10101",lat:"-122.30444",long:"47.59029",grade:"at grade",status:"uc",year_open:"",name:"Judkins Park",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53007380",STATION_ID:"S2247206994",station_link:"Kaysner Way-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"2541",baseline_under_zoning:"19903",plexify_reform:"21416",multiply_reform:"27793",legalize_reform:"19903",middle_reform:"21287",all_reforms:"30591",lat:"-122.20162",long:"47.7604",grade:"at grade",status:"planned",year_open:"",name:"Kaysner Way",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53035170",STATION_ID:"S384251920",station_link:"Kenmore Square-Stride S3-Bus Rapid Transit-planned",existing_housing_units:"1586",baseline_under_zoning:"2270",plexify_reform:"3398",multiply_reform:"3084",legalize_reform:"2319",middle_reform:"2764",all_reforms:"4516",lat:"-122.23696",long:"47.75628",grade:"at grade",status:"planned",year_open:"",name:"Kenmore Square",mode:"Bus Rapid Transit",line:"Stride S3"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1224239866",station_link:"Kent High School-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"733",baseline_under_zoning:"3159",plexify_reform:"3328",multiply_reform:"5588",legalize_reform:"3159",middle_reform:"7183",all_reforms:"7535",lat:"-122.20568",long:"47.37253",grade:"at grade",status:"planned",year_open:"",name:"Kent High School",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53035415",STATION_ID:"S133329111",station_link:"Kent-Sounder-Commuter Rail-existing",existing_housing_units:"3260",baseline_under_zoning:"17515",plexify_reform:"17815",multiply_reform:"23616",legalize_reform:"17515",middle_reform:"18023",all_reforms:"24333",lat:"-122.233",long:"47.38451",grade:"at grade",status:"existing",year_open:"2001",name:"Kent",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53017635",STATION_ID:"S2062481089",station_link:"Kent/Des Moines Road-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1670",baseline_under_zoning:"10868",plexify_reform:"12028",multiply_reform:"16245",legalize_reform:"10868",middle_reform:"11827",all_reforms:"17742",lat:"-122.29485",long:"47.3938",grade:"at grade",status:"existing",year_open:"2010",name:"Kent/Des Moines Road",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S2217791522",station_link:"Kent/Des Moines-Red Line (Federal Way Link)-Light Rail-uc",existing_housing_units:"545",baseline_under_zoning:"5799",plexify_reform:"6234",multiply_reform:"11055",legalize_reform:"5799",middle_reform:"5799",all_reforms:"11490",lat:"-122.29409",long:"47.38991",grade:"elevated",status:"uc",year_open:"",name:"Kent/Des Moines",mode:"Light Rail",line:"Red Line (Federal Way Link)"},{JURISDICTION_ID:"G53038038",STATION_ID:"S684341907",station_link:"Lakewood-Sounder-Commuter Rail-existing",existing_housing_units:"959",baseline_under_zoning:"2051",plexify_reform:"2425",multiply_reform:"2694",legalize_reform:"2165",middle_reform:"2264",all_reforms:"3348",lat:"-122.4992",long:"47.15321",grade:"at grade",status:"existing",year_open:"2008",name:"Lakewood",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3096250730",station_link:"Lynn Street-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"7704",baseline_under_zoning:"9366",plexify_reform:"9534",multiply_reform:"12582",legalize_reform:"9366",middle_reform:"10356",all_reforms:"12874",lat:"-122.3259",long:"47.63973",grade:"at grade",status:"proposed",year_open:"",name:"Lynn Street",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S166116690",station_link:"Lynn-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"5118",baseline_under_zoning:"6516",plexify_reform:"6946",multiply_reform:"7710",legalize_reform:"6784",middle_reform:"7286",all_reforms:"8767",lat:"-122.34558",long:"47.63914",grade:"at grade",status:"existing",year_open:"2014",name:"Lynn",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53040840",STATION_ID:"S753658662",station_link:"Lynnwood City Center-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"91",baseline_under_zoning:"832",plexify_reform:"1098",multiply_reform:"1572",legalize_reform:"1156",middle_reform:"840",all_reforms:"2168",lat:"-122.29412",long:"47.81605",grade:"at grade",status:"uc",year_open:"",name:"Lynnwood City Center",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53040840",STATION_ID:"S620179816",station_link:"Lynnwood City Center-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"1586",baseline_under_zoning:"6525",plexify_reform:"6840",multiply_reform:"9427",legalize_reform:"6525",middle_reform:"7940",all_reforms:"10873",lat:"-122.2942",long:"47.81735",grade:"at grade",status:"uc",year_open:"",name:"Lynnwood City Center",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53022640",STATION_ID:"S3271150603",station_link:"Madison Street-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"2295",baseline_under_zoning:"11303",plexify_reform:"14048",multiply_reform:"17251",legalize_reform:"11303",middle_reform:"12133",all_reforms:"20428",lat:"-122.21906",long:"47.93625",grade:"at grade",status:"existing",year_open:"2009",name:"Madison Street",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53040840",STATION_ID:"S2827771919",station_link:"Maple Road-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"1704",baseline_under_zoning:"2334",plexify_reform:"5406",multiply_reform:"2810",legalize_reform:"2334",middle_reform:"4376",all_reforms:"7448",lat:"-122.28172",long:"47.83632",grade:"at grade",status:"uc",year_open:"",name:"Maple Road",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2957132520",station_link:"Martin Luther King Jr. Way-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"4164",baseline_under_zoning:"4849",plexify_reform:"6076",multiply_reform:"6105",legalize_reform:"4849",middle_reform:"5118",all_reforms:"7360",lat:"-122.2964",long:"47.62333",grade:"at grade",status:"proposed",year_open:"",name:"Martin Luther King Jr. Way",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3680547437",station_link:"Mary Avenue-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2721",baseline_under_zoning:"4647",plexify_reform:"7152",multiply_reform:"6995",legalize_reform:"4647",middle_reform:"5172",all_reforms:"9578",lat:"-122.37564",long:"47.69452",grade:"at grade",status:"existing",year_open:"2012",name:"Mary Avenue",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53045005",STATION_ID:"S4066841591",station_link:"Mercer Island-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"1877",baseline_under_zoning:"4036",plexify_reform:"4946",multiply_reform:"5439",legalize_reform:"5142",middle_reform:"4241",all_reforms:"7629",lat:"-122.2332",long:"47.58818",grade:"elevated",status:"uc",year_open:"",name:"Mercer Island",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2457998447",station_link:"Mercer-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"14790",baseline_under_zoning:"34421",plexify_reform:"34421",multiply_reform:"52822",legalize_reform:"34421",middle_reform:"34421",all_reforms:"52822",lat:"-122.33851",long:"47.62462",grade:"at grade",status:"existing",year_open:"2012",name:"Mercer",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3367372691",station_link:"Midtown-Ballard Link Extension-Light Rail-planned",existing_housing_units:"2688",baseline_under_zoning:"11487",plexify_reform:"11487",multiply_reform:"22974",legalize_reform:"11487",middle_reform:"11487",all_reforms:"22974",lat:"-122.33145",long:"47.60615",grade:"subway",status:"planned",year_open:"",name:"Midtown",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53045865",STATION_ID:"S904233868",station_link:"Mill Creek Boulevard-Swift Orange Line-Arterial Rapid Transit-uc",existing_housing_units:"377",baseline_under_zoning:"516",plexify_reform:"1510",multiply_reform:"648",legalize_reform:"516",middle_reform:"778",all_reforms:"1772",lat:"-122.22055",long:"47.84948",grade:"at grade",status:"uc",year_open:"",name:"Mill Creek Boulevard",mode:"Arterial Rapid Transit",line:"Swift Orange Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2508948126",station_link:"Mount Baker-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"2671",baseline_under_zoning:"6742",plexify_reform:"7840",multiply_reform:"10419",legalize_reform:"7624",middle_reform:"7034",all_reforms:"12599",lat:"-122.29757",long:"47.5764",grade:"elevated",status:"existing",year_open:"2009",name:"Mount Baker",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53047490",STATION_ID:"S1679635316",station_link:"Mountlake Terrace-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"939",baseline_under_zoning:"25890",plexify_reform:"25909",multiply_reform:"33734",legalize_reform:"25890",middle_reform:"28648",all_reforms:"36137",lat:"-122.31486",long:"47.78548",grade:"highway",status:"uc",year_open:"",name:"Mountlake Terrace",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53047735",STATION_ID:"S2050178507",station_link:"Mukilteo-Sounder-Commuter Rail-existing",existing_housing_units:"396",baseline_under_zoning:"926",plexify_reform:"1929",multiply_reform:"1239",legalize_reform:"926",middle_reform:"926",all_reforms:"2242",lat:"-122.29808",long:"47.94917",grade:"at grade",status:"existing",year_open:"2008",name:"Mukilteo",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53022640",STATION_ID:"S1711233411",station_link:"Murphys Corner-Swift Green Line-Bus Rapid Transit-existing",existing_housing_units:"605",baseline_under_zoning:"1013",plexify_reform:"2447",multiply_reform:"1136",legalize_reform:"1013",middle_reform:"1843",all_reforms:"3346",lat:"-122.20707",long:"47.87821",grade:"at grade",status:"existing",year_open:"2019",name:"Murphys Corner",mode:"Bus Rapid Transit",line:"Swift Green Line"},{JURISDICTION_ID:"G53057745",STATION_ID:"S391045515",station_link:"N 10-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"2",baseline_under_zoning:"2",plexify_reform:"2",multiply_reform:"2",legalize_reform:"2",middle_reform:"2",all_reforms:"2",lat:"-122.20605",long:"47.49817",grade:"at grade",status:"existing",year_open:"2014",name:"N 10",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1276503096",station_link:"N 100-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2403",baseline_under_zoning:"3732",plexify_reform:"4987",multiply_reform:"5324",legalize_reform:"3732",middle_reform:"4098",all_reforms:"6639",lat:"-122.34466",long:"47.70144",grade:"at grade",status:"existing",year_open:"2014",name:"N 100",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1272873533",station_link:"N 105-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"4347",baseline_under_zoning:"6059",plexify_reform:"7611",multiply_reform:"8433",legalize_reform:"6059",middle_reform:"6763",all_reforms:"10138",lat:"-122.34471",long:"47.70508",grade:"at grade",status:"existing",year_open:"2014",name:"N 105",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1272977116",station_link:"N 115-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"1357",baseline_under_zoning:"2481",plexify_reform:"3378",multiply_reform:"4066",legalize_reform:"2481",middle_reform:"2836",all_reforms:"5075",lat:"-122.3448",long:"47.71233",grade:"at grade",status:"existing",year_open:"2014",name:"N 115",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1272801791",station_link:"N 125-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"1592",baseline_under_zoning:"2207",plexify_reform:"3857",multiply_reform:"2801",legalize_reform:"2207",middle_reform:"2271",all_reforms:"4464",lat:"-122.34489",long:"47.7196",grade:"at grade",status:"existing",year_open:"2014",name:"N 125",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1276467291",station_link:"N 130-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2837",baseline_under_zoning:"4255",plexify_reform:"5151",multiply_reform:"6850",legalize_reform:"4255",middle_reform:"4765",all_reforms:"7965",lat:"-122.34494",long:"47.72326",grade:"at grade",status:"existing",year_open:"2014",name:"N 130",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1272905118",station_link:"N 135-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"5080",baseline_under_zoning:"8800",plexify_reform:"10182",multiply_reform:"14886",legalize_reform:"8800",middle_reform:"9161",all_reforms:"16375",lat:"-122.34499",long:"47.72691",grade:"at grade",status:"existing",year_open:"2014",name:"N 135",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1273017273",station_link:"N 145-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"4490",baseline_under_zoning:"6009",plexify_reform:"8451",multiply_reform:"9101",legalize_reform:"6009",middle_reform:"6289",all_reforms:"11590",lat:"-122.34519",long:"47.73413",grade:"at grade",status:"existing",year_open:"2014",name:"N 145",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1274023455",station_link:"N 152-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2112",baseline_under_zoning:"3392",plexify_reform:"6041",multiply_reform:"5126",legalize_reform:"3392",middle_reform:"3579",all_reforms:"7962",lat:"-122.34535",long:"47.73894",grade:"at grade",status:"existing",year_open:"2014",name:"N 152",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1273120856",station_link:"N 155-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"941",baseline_under_zoning:"11650",plexify_reform:"13917",multiply_reform:"22359",legalize_reform:"11650",middle_reform:"11650",all_reforms:"24626",lat:"-122.3454",long:"47.74147",grade:"at grade",status:"existing",year_open:"2014",name:"N 155",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1276287614",station_link:"N 160-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2323",baseline_under_zoning:"2359",plexify_reform:"5036",multiply_reform:"2813",legalize_reform:"2359",middle_reform:"2843",all_reforms:"5742",lat:"-122.34547",long:"47.74505",grade:"at grade",status:"existing",year_open:"2014",name:"N 160",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1272945531",station_link:"N 165-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"1704",baseline_under_zoning:"2772",plexify_reform:"6270",multiply_reform:"3972",legalize_reform:"2772",middle_reform:"2844",all_reforms:"7498",lat:"-122.34554",long:"47.74864",grade:"at grade",status:"existing",year_open:"2014",name:"N 165",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1276323551",station_link:"N 170-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2482",baseline_under_zoning:"3498",plexify_reform:"6233",multiply_reform:"4774",legalize_reform:"3498",middle_reform:"3530",all_reforms:"7533",lat:"-122.34561",long:"47.75235",grade:"at grade",status:"existing",year_open:"2014",name:"N 170",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1273048858",station_link:"N 175-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"3357",baseline_under_zoning:"7657",plexify_reform:"9665",multiply_reform:"13031",legalize_reform:"7657",middle_reform:"7675",all_reforms:"15039",lat:"-122.34576",long:"47.75598",grade:"at grade",status:"existing",year_open:"2014",name:"N 175",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1276790576",station_link:"N 180-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"1701",baseline_under_zoning:"6045",plexify_reform:"8817",multiply_reform:"10878",legalize_reform:"6357",middle_reform:"6045",all_reforms:"13962",lat:"-122.3461",long:"47.75965",grade:"at grade",status:"existing",year_open:"2014",name:"N 180",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1273161013",station_link:"N 185-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"1425",baseline_under_zoning:"11408",plexify_reform:"13668",multiply_reform:"19202",legalize_reform:"11408",middle_reform:"11504",all_reforms:"21513",lat:"-122.34601",long:"47.76328",grade:"at grade",status:"existing",year_open:"2014",name:"N 185",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1274454675",station_link:"N 192-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"3848",baseline_under_zoning:"6216",plexify_reform:"8313",multiply_reform:"8625",legalize_reform:"12580",middle_reform:"6216",all_reforms:"17086",lat:"-122.3459",long:"47.76781",grade:"at grade",status:"existing",year_open:"2014",name:"N 192",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1276499899",station_link:"N 200-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2387",baseline_under_zoning:"6873",plexify_reform:"9078",multiply_reform:"9631",legalize_reform:"6873",middle_reform:"7153",all_reforms:"12079",lat:"-122.346",long:"47.77395",grade:"at grade",status:"existing",year_open:"2014",name:"N 200",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3395765049",station_link:"N 3-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"1201",baseline_under_zoning:"2350",plexify_reform:"2998",multiply_reform:"3109",legalize_reform:"2350",middle_reform:"2526",all_reforms:"3933",lat:"-122.20854",long:"47.48704",grade:"at grade",status:"existing",year_open:"2014",name:"N 3",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168620587",station_link:"N 46-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"5384",baseline_under_zoning:"9025",plexify_reform:"9261",multiply_reform:"10292",legalize_reform:"9025",middle_reform:"10103",all_reforms:"11267",lat:"-122.34733",long:"47.66217",grade:"at grade",status:"existing",year_open:"2014",name:"N 46",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3395761724",station_link:"N 6-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"690",baseline_under_zoning:"711",plexify_reform:"956",multiply_reform:"711",legalize_reform:"711",middle_reform:"883",all_reforms:"1128",lat:"-122.20738",long:"47.4921",grade:"at grade",status:"existing",year_open:"2014",name:"N 6",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168724170",station_link:"N 65-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"2386",baseline_under_zoning:"2629",plexify_reform:"3203",multiply_reform:"2648",legalize_reform:"2629",middle_reform:"2766",all_reforms:"3355",lat:"-122.34672",long:"47.67602",grade:"at grade",status:"existing",year_open:"2014",name:"N 65",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168623784",station_link:"N 76-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"3097",baseline_under_zoning:"3752",plexify_reform:"4109",multiply_reform:"4577",legalize_reform:"3752",middle_reform:"3919",all_reforms:"4960",lat:"-122.34445",long:"47.68403",grade:"at grade",status:"existing",year_open:"2014",name:"N 76",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168840673",station_link:"N 80-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"3123",baseline_under_zoning:"4015",plexify_reform:"4623",multiply_reform:"4640",legalize_reform:"4015",middle_reform:"4306",all_reforms:"5352",lat:"-122.34447",long:"47.68694",grade:"at grade",status:"existing",year_open:"2014",name:"N 80",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168730692",station_link:"N 85-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"5090",baseline_under_zoning:"7927",plexify_reform:"9104",multiply_reform:"11016",legalize_reform:"7927",middle_reform:"8674",all_reforms:"12387",lat:"-122.3445",long:"47.69057",grade:"at grade",status:"existing",year_open:"2014",name:"N 85",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168841696",station_link:"N 90-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"4502",baseline_under_zoning:"8131",plexify_reform:"9247",multiply_reform:"12738",legalize_reform:"8131",middle_reform:"9439",all_reforms:"13950",lat:"-122.34456",long:"47.6942",grade:"at grade",status:"existing",year_open:"2014",name:"N 90",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53063000",STATION_ID:"S168733893",station_link:"N 95-RapidRide E-Bus Rapid Transit-existing",existing_housing_units:"4574",baseline_under_zoning:"7034",plexify_reform:"7898",multiply_reform:"10493",legalize_reform:"7034",middle_reform:"7997",all_reforms:"11476",lat:"-122.34461",long:"47.69779",grade:"at grade",status:"existing",year_open:"2014",name:"N 95",mode:"Bus Rapid Transit",line:"RapidRide E"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3520851006",station_link:"Naches Avenue SW-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"0",baseline_under_zoning:"0",plexify_reform:"0",multiply_reform:"0",legalize_reform:"0",middle_reform:"0",all_reforms:"0",lat:"-122.23749",long:"47.45702",grade:"at grade",status:"existing",year_open:"2014",name:"Naches Avenue SW",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53005210",STATION_ID:"S238653642",station_link:"NE 10-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"2549",baseline_under_zoning:"3045",plexify_reform:"4088",multiply_reform:"3546",legalize_reform:"3045",middle_reform:"3780",all_reforms:"5092",lat:"-122.13244",long:"47.61871",grade:"at grade",status:"existing",year_open:"2011",name:"NE 10",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1002765547",station_link:"NE 145th-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"1046",baseline_under_zoning:"11747",plexify_reform:"12692",multiply_reform:"16415",legalize_reform:"11747",middle_reform:"11747",all_reforms:"17360",lat:"-122.32424",long:"47.73401",grade:"highway",status:"uc",year_open:"",name:"NE 145th",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53005210",STATION_ID:"S242211087",station_link:"NE 15-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"4400",baseline_under_zoning:"4551",plexify_reform:"5090",multiply_reform:"4915",legalize_reform:"4551",middle_reform:"6252",all_reforms:"6893",lat:"-122.13242",long:"47.62332",grade:"at grade",status:"existing",year_open:"2011",name:"NE 15",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063960",STATION_ID:"S1016996327",station_link:"NE 185th-Red Line (Lynnwood Link)-Light Rail-uc",existing_housing_units:"1299",baseline_under_zoning:"11968",plexify_reform:"14127",multiply_reform:"18216",legalize_reform:"11968",middle_reform:"12006",all_reforms:"20413",lat:"-122.32272",long:"47.76518",grade:"highway",status:"uc",year_open:"",name:"NE 185th",mode:"Light Rail",line:"Red Line (Lynnwood Link)"},{JURISDICTION_ID:"G53057535",STATION_ID:"S237539657",station_link:"NE 31-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"139",baseline_under_zoning:"15728",plexify_reform:"16145",multiply_reform:"31317",legalize_reform:"15728",middle_reform:"15728",all_reforms:"31734",lat:"-122.13236",long:"47.63812",grade:"at grade",status:"existing",year_open:"2011",name:"NE 31",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S238691567",station_link:"NE 40-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"4397",baseline_under_zoning:"6707",plexify_reform:"7010",multiply_reform:"9032",legalize_reform:"6707",middle_reform:"8938",all_reforms:"11551",lat:"-122.14293",long:"47.64597",grade:"at grade",status:"existing",year_open:"2011",name:"NE 40",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S245524073",station_link:"NE 46-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"2281",baseline_under_zoning:"2281",plexify_reform:"2446",multiply_reform:"2281",legalize_reform:"2281",middle_reform:"3543",all_reforms:"3708",lat:"-122.1433",long:"47.65232",grade:"at grade",status:"existing",year_open:"2011",name:"NE 46",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S237611151",station_link:"NE 51-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"438",baseline_under_zoning:"1031",plexify_reform:"1821",multiply_reform:"1621",legalize_reform:"1031",middle_reform:"1143",all_reforms:"2523",lat:"-122.14332",long:"47.6551",grade:"at grade",status:"existing",year_open:"2011",name:"NE 51",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S244840932",station_link:"NE 87-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1061",baseline_under_zoning:"1751",plexify_reform:"2527",multiply_reform:"2729",legalize_reform:"1751",middle_reform:"2639",all_reforms:"3817",lat:"-122.14524",long:"47.68052",grade:"at grade",status:"existing",year_open:"2011",name:"NE 87",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S2666238639",station_link:"NE Old Redmond Road-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1586",baseline_under_zoning:"1586",plexify_reform:"5016",multiply_reform:"1586",legalize_reform:"1586",middle_reform:"1994",all_reforms:"5424",lat:"-122.14313",long:"47.66786",grade:"at grade",status:"existing",year_open:"2011",name:"NE Old Redmond Road",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S1646529343",station_link:"NE Redmond Way-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"3573",baseline_under_zoning:"3780",plexify_reform:"5319",multiply_reform:"5371",legalize_reform:"3780",middle_reform:"5228",all_reforms:"7264",lat:"-122.14322",long:"47.6752",grade:"at grade",status:"existing",year_open:"2011",name:"NE Redmond Way",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3396049082",station_link:"Newton/Armory-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2809",baseline_under_zoning:"3620",plexify_reform:"3640",multiply_reform:"4912",legalize_reform:"3620",middle_reform:"4377",all_reforms:"5399",lat:"-122.37621",long:"47.63663",grade:"at grade",status:"existing",year_open:"2012",name:"Newton/Armory",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53057745",STATION_ID:"S2291850090",station_link:"Northeast 44-Stride S1-Bus Rapid Transit-planned",existing_housing_units:"652",baseline_under_zoning:"1152",plexify_reform:"1746",multiply_reform:"1204",legalize_reform:"1152",middle_reform:"1361",all_reforms:"1978",lat:"-122.19746",long:"47.53227",grade:"highway",status:"planned",year_open:"",name:"Northeast 44",mode:"Bus Rapid Transit",line:"Stride S1"},{JURISDICTION_ID:"G53035940",STATION_ID:"S1900773476",station_link:"Northeast 85-Stride S2-Bus Rapid Transit-planned",existing_housing_units:"2069",baseline_under_zoning:"2935",plexify_reform:"3120",multiply_reform:"3607",legalize_reform:"3972",middle_reform:"8312",all_reforms:"9550",lat:"-122.18453",long:"47.67919",grade:"highway",status:"planned",year_open:"",name:"Northeast 85",mode:"Bus Rapid Transit",line:"Stride S2"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3411302167",station_link:"Northern Terminus - Commerce Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"9085",baseline_under_zoning:"13708",plexify_reform:"13708",multiply_reform:"17408",legalize_reform:"13708",middle_reform:"13708",all_reforms:"17408",lat:"-122.43994",long:"47.25534",grade:"at grade",status:"planned",year_open:"",name:"Northern Terminus - Commerce Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3826495567",station_link:"Northgate-Red Line (Northgate Link)-Light Rail-existing",existing_housing_units:"5238",baseline_under_zoning:"17723",plexify_reform:"18581",multiply_reform:"22073",legalize_reform:"17723",middle_reform:"18084",all_reforms:"23292",lat:"-122.32834",long:"47.7033",grade:"elevated",status:"existing",year_open:"2021",name:"Northgate",mode:"Light Rail",line:"Red Line (Northgate Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2528797049",station_link:"NW 60-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"8833",baseline_under_zoning:"12466",plexify_reform:"13148",multiply_reform:"17219",legalize_reform:"12466",middle_reform:"14171",all_reforms:"18379",lat:"-122.3762",long:"47.67239",grade:"at grade",status:"existing",year_open:"2012",name:"NW 60",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2523226492",station_link:"NW 65-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"5059",baseline_under_zoning:"7549",plexify_reform:"8212",multiply_reform:"10845",legalize_reform:"7549",middle_reform:"8613",all_reforms:"11794",lat:"-122.37654",long:"47.67602",grade:"at grade",status:"existing",year_open:"2012",name:"NW 65",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2528902616",station_link:"NW 70-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"4105",baseline_under_zoning:"4527",plexify_reform:"6070",multiply_reform:"5405",legalize_reform:"4527",middle_reform:"4855",all_reforms:"6985",lat:"-122.37675",long:"47.67952",grade:"at grade",status:"existing",year_open:"2012",name:"NW 70",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2523260189",station_link:"NW 75-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"4811",baseline_under_zoning:"5308",plexify_reform:"6554",multiply_reform:"6080",legalize_reform:"5308",middle_reform:"5580",all_reforms:"7334",lat:"-122.37675",long:"47.68319",grade:"at grade",status:"existing",year_open:"2012",name:"NW 75",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2529299639",station_link:"NW 80-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"3303",baseline_under_zoning:"4710",plexify_reform:"6999",multiply_reform:"6629",legalize_reform:"4710",middle_reform:"5201",all_reforms:"8933",lat:"-122.37678",long:"47.68685",grade:"at grade",status:"existing",year_open:"2012",name:"NW 80",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53057535",STATION_ID:"S242465332",station_link:"NW 85-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"7937",baseline_under_zoning:"9539",plexify_reform:"9539",multiply_reform:"11797",legalize_reform:"9539",middle_reform:"10642",all_reforms:"11839",lat:"-122.12753",long:"47.67854",grade:"at grade",status:"existing",year_open:"2011",name:"NW 85",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2523442098",station_link:"NW 85-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"4269",baseline_under_zoning:"8509",plexify_reform:"10408",multiply_reform:"13458",legalize_reform:"8509",middle_reform:"9342",all_reforms:"15418",lat:"-122.3768",long:"47.6906",grade:"at grade",status:"existing",year_open:"2012",name:"NW 85",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53057535",STATION_ID:"S238941584",station_link:"NW 90-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"4205",baseline_under_zoning:"4321",plexify_reform:"4887",multiply_reform:"5091",legalize_reform:"4321",middle_reform:"8191",all_reforms:"9049",lat:"-122.12754",long:"47.68215",grade:"at grade",status:"existing",year_open:"2011",name:"NW 90",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2292075132",station_link:"NW Leary-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"1206",baseline_under_zoning:"1613",plexify_reform:"1614",multiply_reform:"2341",legalize_reform:"1634",middle_reform:"1752",all_reforms:"2462",lat:"-122.37619",long:"47.66365",grade:"at grade",status:"existing",year_open:"2012",name:"NW Leary",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1555638811",station_link:"NW Market-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2393",baseline_under_zoning:"6962",plexify_reform:"7017",multiply_reform:"10544",legalize_reform:"6962",middle_reform:"8464",all_reforms:"11549",lat:"-122.37619",long:"47.66865",grade:"at grade",status:"existing",year_open:"2012",name:"NW Market",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1180576956",station_link:"Old City Hall-Link T Line-Streetcar-uc",existing_housing_units:"2663",baseline_under_zoning:"7456",plexify_reform:"7456",multiply_reform:"10537",legalize_reform:"7456",middle_reform:"7456",all_reforms:"10537",lat:"-122.44033",long:"47.25752",grade:"at grade",status:"uc",year_open:"",name:"Old City Hall",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3302331061",station_link:"Othello-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"2611",baseline_under_zoning:"5433",plexify_reform:"7316",multiply_reform:"7916",legalize_reform:"5433",middle_reform:"6298",all_reforms:"10240",lat:"-122.28167",long:"47.53815",grade:"at grade",status:"existing",year_open:"2009",name:"Othello",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53057535",STATION_ID:"S3415064724",station_link:"Overlake Park and Ride-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"2042",baseline_under_zoning:"7614",plexify_reform:"7614",multiply_reform:"13132",legalize_reform:"7614",middle_reform:"7614",all_reforms:"13132",lat:"-122.13769",long:"47.63358",grade:"at grade",status:"existing",year_open:"2011",name:"Overlake Park and Ride",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S886263457",station_link:"Overlake Transit Center-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"1098",baseline_under_zoning:"1098",plexify_reform:"1251",multiply_reform:"1098",legalize_reform:"1098",middle_reform:"1182",all_reforms:"1335",lat:"-122.13234",long:"47.64355",grade:"at grade",status:"existing",year_open:"2011",name:"Overlake Transit Center",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057535",STATION_ID:"S449264181",station_link:"Overlake Village-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"639",baseline_under_zoning:"2510",plexify_reform:"2513",multiply_reform:"4241",legalize_reform:"2510",middle_reform:"3099",all_reforms:"4833",lat:"-122.13818",long:"47.63681",grade:"at grade",status:"uc",year_open:"",name:"Overlake Village",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53022640",STATION_ID:"S1706865474",station_link:"Pacific Avenue-Swift Blue Line-Bus Rapid Transit-existing",existing_housing_units:"5780",baseline_under_zoning:"32686",plexify_reform:"32737",multiply_reform:"45999",legalize_reform:"32686",middle_reform:"42342",all_reforms:"52176",lat:"-122.20707",long:"47.97663",grade:"at grade",status:"existing",year_open:"2009",name:"Pacific Avenue",mode:"Bus Rapid Transit",line:"Swift Blue Line"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3971006670",station_link:"Pearl-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"1135",baseline_under_zoning:"1161",plexify_reform:"2765",multiply_reform:"1173",legalize_reform:"1161",middle_reform:"1244",all_reforms:"2848",lat:"-122.51559",long:"47.24282",grade:"at grade",status:"planned",year_open:"",name:"Pearl",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S96590518",station_link:"Pike-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"13749",baseline_under_zoning:"17340",plexify_reform:"17340",multiply_reform:"20973",legalize_reform:"17571",middle_reform:"17340",all_reforms:"21204",lat:"-122.3378",long:"47.60978",grade:"at grade",status:"existing",year_open:"2012",name:"Pike",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3053210151",station_link:"Pioneer Square-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"1598",baseline_under_zoning:"7693",plexify_reform:"7693",multiply_reform:"14021",legalize_reform:"7693",middle_reform:"7693",all_reforms:"14021",lat:"-122.33144",long:"47.60276",grade:"subway",status:"existing",year_open:"2009",name:"Pioneer Square",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2164713217",station_link:"Portland Avenue-Tacoma Dome Link Extension-Light Rail-planned",existing_housing_units:"104",baseline_under_zoning:"2290",plexify_reform:"2305",multiply_reform:"2290",legalize_reform:"2290",middle_reform:"2479",all_reforms:"2494",lat:"-122.41145",long:"47.24294",grade:"elevated",status:"planned",year_open:"",name:"Portland Avenue",mode:"Light Rail",line:"Tacoma Dome Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3365633034",station_link:"Prefontaine Place-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"240",baseline_under_zoning:"432",plexify_reform:"432",multiply_reform:"864",legalize_reform:"432",middle_reform:"432",all_reforms:"864",lat:"-122.33066",long:"47.60189",grade:"at grade",status:"existing",year_open:"2012",name:"Prefontaine Place",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53056695",STATION_ID:"S929285819",station_link:"Puyallup-Sounder-Commuter Rail-existing",existing_housing_units:"2993",baseline_under_zoning:"9131",plexify_reform:"10404",multiply_reform:"13969",legalize_reform:"12200",middle_reform:"9131",all_reforms:"18311",lat:"-122.29507",long:"47.19269",grade:"at grade",status:"existing",year_open:"2001",name:"Puyallup",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1328881380",station_link:"Queen Anne Avenue-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"9258",baseline_under_zoning:"14990",plexify_reform:"15475",multiply_reform:"21569",legalize_reform:"14990",middle_reform:"15311",all_reforms:"22147",lat:"-122.3567",long:"47.62458",grade:"at grade",status:"existing",year_open:"2012",name:"Queen Anne Avenue",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S167552491",station_link:"Rainier Beach-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"1674",baseline_under_zoning:"3438",plexify_reform:"4833",multiply_reform:"4581",legalize_reform:"3568",middle_reform:"3870",all_reforms:"6378",lat:"-122.27942",long:"47.52238",grade:"at grade",status:"existing",year_open:"2009",name:"Rainier Beach",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53057535",STATION_ID:"S180310962",station_link:"Redmond Technology Center-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"1282",baseline_under_zoning:"1282",plexify_reform:"1330",multiply_reform:"1282",legalize_reform:"1282",middle_reform:"2803",all_reforms:"2851",lat:"-122.13357",long:"47.64459",grade:"at grade",status:"uc",year_open:"",name:"Redmond Technology Center",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53057535",STATION_ID:"S891168087",station_link:"Redmond Transit Center-RapidRide B-Bus Rapid Transit-existing",existing_housing_units:"6381",baseline_under_zoning:"8812",plexify_reform:"9768",multiply_reform:"12741",legalize_reform:"8812",middle_reform:"11115",all_reforms:"14252",lat:"-122.11917",long:"47.67531",grade:"at grade",status:"existing",year_open:"2011",name:"Redmond Transit Center",mode:"Bus Rapid Transit",line:"RapidRide B"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1497404932",station_link:"Renton Transit Center-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"4056",baseline_under_zoning:"8763",plexify_reform:"8949",multiply_reform:"14356",legalize_reform:"8763",middle_reform:"9150",all_reforms:"14839",lat:"-122.20912",long:"47.48125",grade:"at grade",status:"existing",year_open:"2014",name:"Renton Transit Center",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3255061630",station_link:"Republican Street-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"7513",baseline_under_zoning:"20555",plexify_reform:"20619",multiply_reform:"36821",legalize_reform:"20555",middle_reform:"20712",all_reforms:"37010",lat:"-122.35541",long:"47.62327",grade:"at grade",status:"existing",year_open:"2012",name:"Republican Street",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53005210",STATION_ID:"S4033276049",station_link:"Richards Road-South Kirkland-Issaquah Link-Light Rail-planned",existing_housing_units:"831",baseline_under_zoning:"1014",plexify_reform:"1718",multiply_reform:"1021",legalize_reform:"1014",middle_reform:"1404",all_reforms:"2108",lat:"-122.16888",long:"47.58027",grade:"elevated",status:"planned",year_open:"",name:"Richards Road",mode:"Light Rail",line:"South Kirkland-Issaquah Link"},{JURISDICTION_ID:"G53063000",STATION_ID:"S584786520",station_link:"Roosevelt-Red Line (Northgate Link)-Light Rail-existing",existing_housing_units:"6654",baseline_under_zoning:"8606",plexify_reform:"9060",multiply_reform:"10079",legalize_reform:"8606",middle_reform:"9508",all_reforms:"10998",lat:"-122.31597",long:"47.67667",grade:"subway",status:"existing",year_open:"2021",name:"Roosevelt",mode:"Light Rail",line:"Red Line (Northgate Link)"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1495628647",station_link:"S 160-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"799",baseline_under_zoning:"2744",plexify_reform:"4124",multiply_reform:"4914",legalize_reform:"2744",middle_reform:"3699",all_reforms:"6827",lat:"-122.29175",long:"47.45967",grade:"at grade",status:"existing",year_open:"2010",name:"S 160",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1495664582",station_link:"S 170-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1280",baseline_under_zoning:"1932",plexify_reform:"3294",multiply_reform:"3312",legalize_reform:"1932",middle_reform:"3847",all_reforms:"5493",lat:"-122.29605",long:"47.45076",grade:"at grade",status:"existing",year_open:"2010",name:"S 170",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1497892672",station_link:"S 176-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2211",baseline_under_zoning:"3584",plexify_reform:"4294",multiply_reform:"4920",legalize_reform:"3584",middle_reform:"7707",all_reforms:"8417",lat:"-122.29622",long:"47.44524",grade:"at grade",status:"existing",year_open:"2010",name:"S 176",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S3096797341",station_link:"S 180/182-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2650",baseline_under_zoning:"13053",plexify_reform:"13068",multiply_reform:"21554",legalize_reform:"13053",middle_reform:"17210",all_reforms:"25726",lat:"-122.29596",long:"47.44058",grade:"at grade",status:"existing",year_open:"2010",name:"S 180/182",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1504756513",station_link:"S 188-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"826",baseline_under_zoning:"5294",plexify_reform:"6557",multiply_reform:"9478",legalize_reform:"5294",middle_reform:"5879",all_reforms:"11326",lat:"-122.29552",long:"47.43455",grade:"at grade",status:"existing",year_open:"2010",name:"S 188",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1501805517",station_link:"S 195-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"753",baseline_under_zoning:"1137",plexify_reform:"1935",multiply_reform:"2004",legalize_reform:"1137",middle_reform:"2472",all_reforms:"3270",lat:"-122.29589",long:"47.42635",grade:"at grade",status:"existing",year_open:"2010",name:"S 195",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1495553442",station_link:"S 200-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"711",baseline_under_zoning:"1028",plexify_reform:"2597",multiply_reform:"1348",legalize_reform:"1028",middle_reform:"1967",all_reforms:"3752",lat:"-122.29633",long:"47.42272",grade:"at grade",status:"existing",year_open:"2010",name:"S 200",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1505040810",station_link:"S 208-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2466",baseline_under_zoning:"3966",plexify_reform:"4574",multiply_reform:"5638",legalize_reform:"4182",middle_reform:"12112",all_reforms:"12936",lat:"-122.29732",long:"47.41546",grade:"at grade",status:"existing",year_open:"2010",name:"S 208",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53062288",STATION_ID:"S1497963397",station_link:"S 216-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2450",baseline_under_zoning:"8908",plexify_reform:"9859",multiply_reform:"15780",legalize_reform:"10774",middle_reform:"10895",all_reforms:"19064",lat:"-122.29819",long:"47.4083",grade:"at grade",status:"existing",year_open:"2010",name:"S 216",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53017635",STATION_ID:"S1500229732",station_link:"S 224-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1920",baseline_under_zoning:"8900",plexify_reform:"9967",multiply_reform:"16371",legalize_reform:"8900",middle_reform:"11600",all_reforms:"18175",lat:"-122.29753",long:"47.40095",grade:"at grade",status:"existing",year_open:"2010",name:"S 224",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1495697190",station_link:"S 240-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1197",baseline_under_zoning:"12236",plexify_reform:"13200",multiply_reform:"22654",legalize_reform:"12494",middle_reform:"12866",all_reforms:"24276",lat:"-122.29649",long:"47.38656",grade:"at grade",status:"existing",year_open:"2010",name:"S 240",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1505184558",station_link:"S 248-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"834",baseline_under_zoning:"951",plexify_reform:"1899",multiply_reform:"1352",legalize_reform:"951",middle_reform:"1479",all_reforms:"2533",lat:"-122.29833",long:"47.37937",grade:"at grade",status:"existing",year_open:"2010",name:"S 248",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1493363461",station_link:"S 252-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1920",baseline_under_zoning:"1941",plexify_reform:"4453",multiply_reform:"1965",legalize_reform:"1941",middle_reform:"1999",all_reforms:"4523",lat:"-122.29995",long:"47.37589",grade:"at grade",status:"existing",year_open:"2010",name:"S 252",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1495629796",station_link:"S 260-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1356",baseline_under_zoning:"1361",plexify_reform:"2308",multiply_reform:"1366",legalize_reform:"1571",middle_reform:"1719",all_reforms:"2876",lat:"-122.30372",long:"47.36874",grade:"at grade",status:"existing",year_open:"2010",name:"S 260",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1505117164",station_link:"S 268-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1133",baseline_under_zoning:"1133",plexify_reform:"2453",multiply_reform:"1133",legalize_reform:"1343",middle_reform:"1449",all_reforms:"2979",lat:"-122.30759",long:"47.36143",grade:"at grade",status:"existing",year_open:"2010",name:"S 268",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S1493431111",station_link:"S 272-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"6775",baseline_under_zoning:"12010",plexify_reform:"13040",multiply_reform:"17254",legalize_reform:"12103",middle_reform:"12397",all_reforms:"18377",lat:"-122.30941",long:"47.35798",grade:"at grade",status:"existing",year_open:"2010",name:"S 272",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53035415",STATION_ID:"S783798966",station_link:"S 272nd-Red Line (Federal Way Link)-Light Rail-uc",existing_housing_units:"2256",baseline_under_zoning:"2431",plexify_reform:"3486",multiply_reform:"2602",legalize_reform:"2448",middle_reform:"4096",all_reforms:"5189",lat:"-122.29727",long:"47.35931",grade:"elevated",status:"uc",year_open:"",name:"S 272nd",mode:"Light Rail",line:"Red Line (Federal Way Link)"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1497887299",station_link:"S 276-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1718",baseline_under_zoning:"2318",plexify_reform:"4738",multiply_reform:"3458",legalize_reform:"2318",middle_reform:"3887",all_reforms:"6619",lat:"-122.31151",long:"47.35374",grade:"at grade",status:"existing",year_open:"2010",name:"S 276",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1494589609",station_link:"S 283-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1421",baseline_under_zoning:"1500",plexify_reform:"3480",multiply_reform:"1859",legalize_reform:"1500",middle_reform:"2491",all_reforms:"4505",lat:"-122.31241",long:"47.34757",grade:"at grade",status:"existing",year_open:"2010",name:"S 283",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1504753314",station_link:"S 288-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2023",baseline_under_zoning:"2206",plexify_reform:"5485",multiply_reform:"2931",legalize_reform:"2206",middle_reform:"4113",all_reforms:"7546",lat:"-122.31231",long:"47.34341",grade:"at grade",status:"existing",year_open:"2010",name:"S 288",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1505041835",station_link:"S 308-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"2140",baseline_under_zoning:"8784",plexify_reform:"10245",multiply_reform:"15843",legalize_reform:"8908",middle_reform:"9864",all_reforms:"17989",lat:"-122.3132",long:"47.32602",grade:"at grade",status:"existing",year_open:"2010",name:"S 308",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1493222912",station_link:"S 312-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1423",baseline_under_zoning:"2947",plexify_reform:"3910",multiply_reform:"4432",legalize_reform:"2947",middle_reform:"5045",all_reforms:"7286",lat:"-122.31337",long:"47.32236",grade:"at grade",status:"existing",year_open:"2010",name:"S 312",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S1497966596",station_link:"S 316-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1497",baseline_under_zoning:"9481",plexify_reform:"10654",multiply_reform:"16218",legalize_reform:"9481",middle_reform:"9810",all_reforms:"17464",lat:"-122.31342",long:"47.31865",grade:"at grade",status:"existing",year_open:"2010",name:"S 316",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3395759523",station_link:"S 4-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"387",baseline_under_zoning:"835",plexify_reform:"860",multiply_reform:"1355",legalize_reform:"835",middle_reform:"1240",all_reforms:"1667",lat:"-122.21535",long:"47.47658",grade:"at grade",status:"existing",year_open:"2014",name:"S 4",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2044338911",station_link:"S. 25th-Orange Line (Tacoma Link)-Light Rail-existing",existing_housing_units:"6",baseline_under_zoning:"6604",plexify_reform:"6604",multiply_reform:"13208",legalize_reform:"6604",middle_reform:"6604",all_reforms:"13208",lat:"-122.43426",long:"47.2391",grade:"at grade",status:"existing",year_open:"2003",name:"S. 25th",mode:"Light Rail",line:"Orange Line (Tacoma Link)"},{JURISDICTION_ID:"G53057535",STATION_ID:"S3915389825",station_link:"S.E. Redmond-Blue Line (Downtown Redmond Link)-Light Rail-uc",existing_housing_units:"145",baseline_under_zoning:"506",plexify_reform:"581",multiply_reform:"682",legalize_reform:"1021",middle_reform:"606",all_reforms:"1372",lat:"-122.10997",long:"47.6673",grade:"at grade",status:"uc",year_open:"",name:"S.E. Redmond",mode:"Light Rail",line:"Blue Line (Downtown Redmond Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1683692964",station_link:"Seattle Center-Ballard Link Extension-Light Rail-planned",existing_housing_units:"4965",baseline_under_zoning:"5640",plexify_reform:"5640",multiply_reform:"9240",legalize_reform:"5640",middle_reform:"5640",all_reforms:"9240",lat:"-122.35858",long:"47.62317",grade:"subway",status:"planned",year_open:"",name:"Seattle Center",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2301426360",station_link:"Seneca Street-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"46",baseline_under_zoning:"12144",plexify_reform:"12144",multiply_reform:"24288",legalize_reform:"12144",middle_reform:"12144",all_reforms:"24288",lat:"-122.3353",long:"47.60703",grade:"at grade",status:"existing",year_open:"2012",name:"Seneca Street",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53057745",STATION_ID:"S778852035",station_link:"Shattuck-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"628",baseline_under_zoning:"21289",plexify_reform:"21346",multiply_reform:"41855",legalize_reform:"21289",middle_reform:"21762",all_reforms:"42260",lat:"-122.21322",long:"47.47976",grade:"at grade",status:"existing",year_open:"2014",name:"Shattuck",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3328369285",station_link:"Smith Cove-Ballard Link Extension-Light Rail-planned",existing_housing_units:"196",baseline_under_zoning:"203",plexify_reform:"203",multiply_reform:"203",legalize_reform:"203",middle_reform:"208",all_reforms:"208",lat:"-122.37802",long:"47.63318",grade:"elevated",status:"planned",year_open:"",name:"Smith Cove",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1299318075",station_link:"Sodo-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"305",baseline_under_zoning:"305",plexify_reform:"305",multiply_reform:"305",legalize_reform:"305",middle_reform:"305",all_reforms:"305",lat:"-122.3274",long:"47.58119",grade:"at grade",status:"existing",year_open:"2009",name:"Sodo",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2730723065",station_link:"SODO-West Seattle Link Extension-Light Rail-planned",existing_housing_units:"1",baseline_under_zoning:"1",plexify_reform:"1",multiply_reform:"1",legalize_reform:"1",middle_reform:"1",all_reforms:"1",lat:"-122.32753",long:"47.58187",grade:"at grade",status:"planned",year_open:"",name:"SODO",mode:"Light Rail",line:"West Seattle Link Extension"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2239721321",station_link:"South 13 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"6867",baseline_under_zoning:"28307",plexify_reform:"28307",multiply_reform:"38879",legalize_reform:"28307",middle_reform:"28307",all_reforms:"38879",lat:"-122.44107",long:"47.25101",grade:"at grade",status:"planned",year_open:"",name:"South 13 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S4094137891",station_link:"South 19 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"3711",baseline_under_zoning:"11504",plexify_reform:"11504",multiply_reform:"19149",legalize_reform:"11504",middle_reform:"11504",all_reforms:"19149",lat:"-122.43968",long:"47.24486",grade:"at grade",status:"planned",year_open:"",name:"South 19 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S31151274",station_link:"South 23 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"3174",baseline_under_zoning:"8607",plexify_reform:"8622",multiply_reform:"13325",legalize_reform:"8607",middle_reform:"8775",all_reforms:"13508",lat:"-122.43914",long:"47.24064",grade:"at grade",status:"planned",year_open:"",name:"South 23 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1762234145",station_link:"South 23 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"797",baseline_under_zoning:"797",plexify_reform:"2767",multiply_reform:"797",legalize_reform:"797",middle_reform:"797",all_reforms:"2767",lat:"-122.21207",long:"47.45931",grade:"at grade",status:"planned",year_open:"",name:"South 23 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53070000",STATION_ID:"S410100943",station_link:"South 26 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"536",baseline_under_zoning:"4976",plexify_reform:"4976",multiply_reform:"8983",legalize_reform:"4976",middle_reform:"4976",all_reforms:"8983",lat:"-122.43513",long:"47.23802",grade:"at grade",status:"planned",year_open:"",name:"South 26 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1520963521",station_link:"South 32 Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"693",baseline_under_zoning:"693",plexify_reform:"2172",multiply_reform:"693",legalize_reform:"693",middle_reform:"693",all_reforms:"2172",lat:"-122.21136",long:"47.45069",grade:"at grade",status:"planned",year_open:"",name:"South 32 Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2108143948",station_link:"South 34 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"2661",baseline_under_zoning:"9011",plexify_reform:"9034",multiply_reform:"13514",legalize_reform:"9011",middle_reform:"10275",all_reforms:"14477",lat:"-122.43403",long:"47.23022",grade:"at grade",status:"planned",year_open:"",name:"South 34 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3451759040",station_link:"South 38 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"775",baseline_under_zoning:"1198",plexify_reform:"1990",multiply_reform:"1354",legalize_reform:"1198",middle_reform:"1573",all_reforms:"2464",lat:"-122.43407",long:"47.22305",grade:"at grade",status:"planned",year_open:"",name:"South 38 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S877152940",station_link:"South 43 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"2040",baseline_under_zoning:"2082",plexify_reform:"7678",multiply_reform:"2132",legalize_reform:"2082",middle_reform:"2106",all_reforms:"7732",lat:"-122.43402",long:"47.2184",grade:"at grade",status:"planned",year_open:"",name:"South 43 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3426832050",station_link:"South 48 Court-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"623",baseline_under_zoning:"767",plexify_reform:"2072",multiply_reform:"915",legalize_reform:"767",middle_reform:"803",all_reforms:"2256",lat:"-122.21117",long:"47.4458",grade:"at grade",status:"planned",year_open:"",name:"South 48 Court",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3934609416",station_link:"South 4th-Link T Line-Streetcar-uc",existing_housing_units:"11452",baseline_under_zoning:"16523",plexify_reform:"16523",multiply_reform:"22448",legalize_reform:"16523",middle_reform:"16523",all_reforms:"22448",lat:"-122.44262",long:"47.2612",grade:"at grade",status:"uc",year_open:"",name:"South 4th",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2499859406",station_link:"South 50 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"2277",baseline_under_zoning:"2408",plexify_reform:"7748",multiply_reform:"2560",legalize_reform:"2408",middle_reform:"2521",all_reforms:"7947",lat:"-122.43396",long:"47.21178",grade:"at grade",status:"planned",year_open:"",name:"South 50 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1781864840",station_link:"South 56 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"1737",baseline_under_zoning:"2163",plexify_reform:"7074",multiply_reform:"2437",legalize_reform:"2163",middle_reform:"2262",all_reforms:"7423",lat:"-122.4339",long:"47.20631",grade:"at grade",status:"planned",year_open:"",name:"South 56 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S4194266505",station_link:"South 64 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"1913",baseline_under_zoning:"1968",plexify_reform:"7494",multiply_reform:"1988",legalize_reform:"1968",middle_reform:"1998",all_reforms:"7528",lat:"-122.43397",long:"47.19915",grade:"at grade",status:"planned",year_open:"",name:"South 64 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1293746446",station_link:"South 72 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"1470",baseline_under_zoning:"3791",plexify_reform:"7581",multiply_reform:"6266",legalize_reform:"3791",middle_reform:"5231",all_reforms:"10074",lat:"-122.43404",long:"47.19185",grade:"at grade",status:"planned",year_open:"",name:"South 72 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2581133508",station_link:"South 78 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"2054",baseline_under_zoning:"2530",plexify_reform:"5896",multiply_reform:"3497",legalize_reform:"2530",middle_reform:"3084",all_reforms:"6959",lat:"-122.43407",long:"47.18608",grade:"at grade",status:"planned",year_open:"",name:"South 78 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S4188345991",station_link:"South 84 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"1665",baseline_under_zoning:"2226",plexify_reform:"5951",multiply_reform:"2712",legalize_reform:"2226",middle_reform:"2534",all_reforms:"6643",lat:"-122.43407",long:"47.18096",grade:"at grade",status:"planned",year_open:"",name:"South 84 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3483371652",station_link:"South 96 Street-Pacific Avenue/SR 7 BRT-Bus Rapid Transit-planned",existing_housing_units:"1203",baseline_under_zoning:"3652",plexify_reform:"5218",multiply_reform:"5967",legalize_reform:"3652",middle_reform:"7485",all_reforms:"10991",lat:"-122.43407",long:"47.17009",grade:"at grade",status:"planned",year_open:"",name:"South 96 Street",mode:"Bus Rapid Transit",line:"Pacific Avenue/SR 7 BRT"},{JURISDICTION_ID:"G53005210",STATION_ID:"S2145863381",station_link:"South Bellevue-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"637",baseline_under_zoning:"638",plexify_reform:"2147",multiply_reform:"638",legalize_reform:"638",middle_reform:"736",all_reforms:"2245",lat:"-122.19042",long:"47.58656",grade:"elevated",status:"uc",year_open:"",name:"South Bellevue",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53072625",STATION_ID:"S4169951618",station_link:"South Boeing Access Road-Link 1 Line-Light Rail-planned",existing_housing_units:"132",baseline_under_zoning:"133",plexify_reform:"423",multiply_reform:"133",legalize_reform:"165",middle_reform:"133",all_reforms:"455",lat:"-122.2823",long:"47.50729",grade:"at grade",status:"planned",year_open:"",name:"South Boeing Access Road",mode:"Light Rail",line:"Link 1 Line"},{JURISDICTION_ID:"G53023515",STATION_ID:"S108760708",station_link:"South Dash Point-RapidRide A-Bus Rapid Transit-existing",existing_housing_units:"1121",baseline_under_zoning:"1547",plexify_reform:"3856",multiply_reform:"2063",legalize_reform:"1547",middle_reform:"1766",all_reforms:"4512",lat:"-122.31217",long:"47.33586",grade:"at grade",status:"existing",year_open:"2010",name:"South Dash Point",mode:"Bus Rapid Transit",line:"RapidRide A"},{JURISDICTION_ID:"G53023515",STATION_ID:"S3296766132",station_link:"South Federal Way-Tacoma Dome Link Extension-Light Rail-planned",existing_housing_units:"908",baseline_under_zoning:"917",plexify_reform:"1006",multiply_reform:"1137",legalize_reform:"2036",middle_reform:"3660",all_reforms:"4903",lat:"-122.30916",long:"47.28232",grade:"elevated",status:"planned",year_open:"",name:"South Federal Way",mode:"Light Rail",line:"Tacoma Dome Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2745647335",station_link:"South Graham Street-Link 1 Line-Light Rail-planned",existing_housing_units:"2611",baseline_under_zoning:"5493",plexify_reform:"7194",multiply_reform:"7216",legalize_reform:"5493",middle_reform:"6305",all_reforms:"9550",lat:"-122.2856",long:"47.54609",grade:"at grade",status:"planned",year_open:"",name:"South Graham Street",mode:"Light Rail",line:"Link 1 Line"},{JURISDICTION_ID:"G53005210",STATION_ID:"S247568052",station_link:"South Kirkland-South Kirkland-Issaquah Link-Light Rail-planned",existing_housing_units:"1057",baseline_under_zoning:"1617",plexify_reform:"2094",multiply_reform:"1974",legalize_reform:"1617",middle_reform:"2502",all_reforms:"3308",lat:"-122.19434",long:"47.64412",grade:"at grade",status:"planned",year_open:"",name:"South Kirkland",mode:"Light Rail",line:"South Kirkland-Issaquah Link"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3438230004",station_link:"South Lake Union-Ballard Link Extension-Light Rail-planned",existing_housing_units:"17258",baseline_under_zoning:"45397",plexify_reform:"45397",multiply_reform:"79869",legalize_reform:"45397",middle_reform:"45432",all_reforms:"79904",lat:"-122.3423",long:"47.62192",grade:"subway",status:"planned",year_open:"",name:"South Lake Union",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53057745",STATION_ID:"S919352062",station_link:"South Puget Drive-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1439",baseline_under_zoning:"1565",plexify_reform:"2258",multiply_reform:"1827",legalize_reform:"1565",middle_reform:"2188",all_reforms:"2881",lat:"-122.20783",long:"47.46658",grade:"at grade",status:"planned",year_open:"",name:"South Puget Drive",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53057745",STATION_ID:"S3454067364",station_link:"South Renton Park and Ride-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"200",baseline_under_zoning:"326",plexify_reform:"326",multiply_reform:"572",legalize_reform:"326",middle_reform:"356",all_reforms:"590",lat:"-122.21607",long:"47.47375",grade:"at grade",status:"existing",year_open:"2014",name:"South Renton Park and Ride",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1931196819",station_link:"South Renton Transit Center-Stride S1-Bus Rapid Transit-planned",existing_housing_units:"528",baseline_under_zoning:"14024",plexify_reform:"15220",multiply_reform:"27528",legalize_reform:"14024",middle_reform:"14024",all_reforms:"28724",lat:"-122.21376",long:"47.46814",grade:"highway",status:"planned",year_open:"",name:"South Renton Transit Center",mode:"Bus Rapid Transit",line:"Stride S1"},{JURISDICTION_ID:"G53070000",STATION_ID:"S515297859",station_link:"South Tacoma-Sounder-Commuter Rail-existing",existing_housing_units:"664",baseline_under_zoning:"1067",plexify_reform:"2149",multiply_reform:"1138",legalize_reform:"1067",middle_reform:"1264",all_reforms:"2400",lat:"-122.48553",long:"47.20355",grade:"at grade",status:"existing",year_open:"2009",name:"South Tacoma",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53070000",STATION_ID:"S697140835",station_link:"Sprague-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"1163",baseline_under_zoning:"1295",plexify_reform:"4348",multiply_reform:"1295",legalize_reform:"1295",middle_reform:"1378",all_reforms:"4431",lat:"-122.46663",long:"47.24276",grade:"at grade",status:"planned",year_open:"",name:"Sprague",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53005210",STATION_ID:"S3132888947",station_link:"Spring District/120th-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"5",baseline_under_zoning:"1146",plexify_reform:"1146",multiply_reform:"2026",legalize_reform:"1146",middle_reform:"1146",all_reforms:"2026",lat:"-122.17859",long:"47.62378",grade:"at grade",status:"uc",year_open:"",name:"Spring District/120th",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53007380",STATION_ID:"S2115996819",station_link:"SR 522/I-405 Transit Hub-Stride S2-Bus Rapid Transit-planned",existing_housing_units:"238",baseline_under_zoning:"2434",plexify_reform:"2464",multiply_reform:"2764",legalize_reform:"2434",middle_reform:"2434",all_reforms:"2794",lat:"-122.18959",long:"47.76898",grade:"at grade",status:"planned",year_open:"",name:"SR 522/I-405 Transit Hub",mode:"Bus Rapid Transit",line:"Stride S2"},{JURISDICTION_ID:"G53022640",STATION_ID:"S604467492",station_link:"SR 526/Evergreen-Everett Link Extension-Light Rail-planned",existing_housing_units:"622",baseline_under_zoning:"2773",plexify_reform:"4416",multiply_reform:"3389",legalize_reform:"2773",middle_reform:"3117",all_reforms:"5376",lat:"-122.22675",long:"47.92321",grade:"at grade",status:"planned",year_open:"",name:"SR 526/Evergreen",mode:"Light Rail",line:"Everett Link Extension"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1659641582",station_link:"St.  Joseph-Link T Line-Light Rail-uc",existing_housing_units:"2436",baseline_under_zoning:"26911",plexify_reform:"28947",multiply_reform:"50736",legalize_reform:"26911",middle_reform:"28249",all_reforms:"53211",lat:"-122.44996",long:"47.24397",grade:"at grade",status:"uc",year_open:"",name:"St.  Joseph",mode:"Light Rail",line:"Link T Line"},{JURISDICTION_ID:"G53070000",STATION_ID:"S1841691744",station_link:"Stadium District-Link T Line-Streetcar-uc",existing_housing_units:"6940",baseline_under_zoning:"8467",plexify_reform:"8747",multiply_reform:"10337",legalize_reform:"8467",middle_reform:"8924",all_reforms:"10642",lat:"-122.44846",long:"47.26462",grade:"at grade",status:"uc",year_open:"",name:"Stadium District",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1506955455",station_link:"Stadium-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"1291",baseline_under_zoning:"1310",plexify_reform:"1312",multiply_reform:"1310",legalize_reform:"1310",middle_reform:"1363",all_reforms:"1365",lat:"-122.32716",long:"47.59106",grade:"at grade",status:"existing",year_open:"2009",name:"Stadium",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53070000",STATION_ID:"S2035282728",station_link:"Stevens-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"748",baseline_under_zoning:"906",plexify_reform:"2875",multiply_reform:"1027",legalize_reform:"906",middle_reform:"1235",all_reforms:"3215",lat:"-122.49447",long:"47.24291",grade:"at grade",status:"planned",year_open:"",name:"Stevens",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53068435",STATION_ID:"S3083032273",station_link:"Sumner-Sounder-Commuter Rail-existing",existing_housing_units:"780",baseline_under_zoning:"863",plexify_reform:"2127",multiply_reform:"921",legalize_reform:"863",middle_reform:"2235",all_reforms:"3499",lat:"-122.24526",long:"47.20098",grade:"at grade",status:"existing",year_open:"2001",name:"Sumner",mode:"Commuter Rail",line:"Sounder"},{JURISDICTION_ID:"G53008850",STATION_ID:"S720899638",station_link:"SW 152-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"8383",baseline_under_zoning:"23553",plexify_reform:"25506",multiply_reform:"38321",legalize_reform:"23553",middle_reform:"25545",all_reforms:"41526",lat:"-122.34504",long:"47.46678",grade:"at grade",status:"existing",year_open:"2014",name:"SW 152",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53057745",STATION_ID:"S390952695",station_link:"SW 7-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"3799",baseline_under_zoning:"5070",plexify_reform:"5603",multiply_reform:"6355",legalize_reform:"5070",middle_reform:"6801",all_reforms:"7334",lat:"-122.22328",long:"47.47375",grade:"at grade",status:"existing",year_open:"2014",name:"SW 7",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3184407608",station_link:"SW Andover-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1176",baseline_under_zoning:"6516",plexify_reform:"6989",multiply_reform:"12182",legalize_reform:"6516",middle_reform:"7151",all_reforms:"12697",lat:"-122.36326",long:"47.56835",grade:"at grade",status:"proposed",year_open:"",name:"SW Andover",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S674486270",station_link:"SW Avalon-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"11581",baseline_under_zoning:"17564",plexify_reform:"17991",multiply_reform:"25432",legalize_reform:"17564",middle_reform:"17847",all_reforms:"25859",lat:"-122.37621",long:"47.56407",grade:"at grade",status:"existing",year_open:"2012",name:"SW Avalon",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1737913377",station_link:"SW Barton-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"737",baseline_under_zoning:"750",plexify_reform:"1961",multiply_reform:"750",legalize_reform:"750",middle_reform:"750",all_reforms:"1961",lat:"-122.39305",long:"47.5232",grade:"at grade",status:"existing",year_open:"2012",name:"SW Barton",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S4239585140",station_link:"SW Findlay-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"3608",baseline_under_zoning:"4597",plexify_reform:"6800",multiply_reform:"5931",legalize_reform:"4597",middle_reform:"4989",all_reforms:"8253",lat:"-122.38704",long:"47.55211",grade:"at grade",status:"existing",year_open:"2012",name:"SW Findlay",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1070358700",station_link:"SW Findlay-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"3058",baseline_under_zoning:"4193",plexify_reform:"5716",multiply_reform:"5879",legalize_reform:"4193",middle_reform:"4748",all_reforms:"7444",lat:"-122.36298",long:"47.55194",grade:"at grade",status:"proposed",year_open:"",name:"SW Findlay",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3019114023",station_link:"SW Genesee-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"909",baseline_under_zoning:"1316",plexify_reform:"1815",multiply_reform:"2056",legalize_reform:"1316",middle_reform:"1508",all_reforms:"2555",lat:"-122.36332",long:"47.56478",grade:"at grade",status:"proposed",year_open:"",name:"SW Genesee",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1768405769",station_link:"SW Grady-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"236",baseline_under_zoning:"366",plexify_reform:"366",multiply_reform:"506",legalize_reform:"366",middle_reform:"366",all_reforms:"506",lat:"-122.22331",long:"47.46983",grade:"at grade",status:"existing",year_open:"2014",name:"SW Grady",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S160919853",station_link:"SW Graham-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1782",baseline_under_zoning:"2506",plexify_reform:"3461",multiply_reform:"2568",legalize_reform:"2506",middle_reform:"3648",all_reforms:"4639",lat:"-122.36293",long:"47.54674",grade:"at grade",status:"proposed",year_open:"",name:"SW Graham",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S934348127",station_link:"SW Henderson-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"3996",baseline_under_zoning:"5550",plexify_reform:"7479",multiply_reform:"8296",legalize_reform:"5550",middle_reform:"6629",all_reforms:"10297",lat:"-122.3604",long:"47.52294",grade:"at grade",status:"proposed",year_open:"",name:"SW Henderson",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3713038521",station_link:"SW Holden-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"3784",baseline_under_zoning:"6351",plexify_reform:"7888",multiply_reform:"10615",legalize_reform:"6351",middle_reform:"7147",all_reforms:"12178",lat:"-122.36039",long:"47.53355",grade:"at grade",status:"proposed",year_open:"",name:"SW Holden",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1493436643",station_link:"SW Holly-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1387",baseline_under_zoning:"1402",plexify_reform:"3067",multiply_reform:"1471",legalize_reform:"1402",middle_reform:"1402",all_reforms:"3136",lat:"-122.36119",long:"47.54297",grade:"at grade",status:"proposed",year_open:"",name:"SW Holly",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1513068342",station_link:"SW Hudson-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1556",baseline_under_zoning:"1744",plexify_reform:"3050",multiply_reform:"2196",legalize_reform:"1744",middle_reform:"1841",all_reforms:"3502",lat:"-122.36289",long:"47.55744",grade:"at grade",status:"proposed",year_open:"",name:"SW Hudson",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S701142526",station_link:"SW Myrtle-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"2494",baseline_under_zoning:"2718",plexify_reform:"4712",multiply_reform:"3363",legalize_reform:"2718",middle_reform:"2964",all_reforms:"5357",lat:"-122.39068",long:"47.53974",grade:"at grade",status:"existing",year_open:"2012",name:"SW Myrtle",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S211781286",station_link:"SW Myrtle-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"1739",baseline_under_zoning:"1900",plexify_reform:"3507",multiply_reform:"2214",legalize_reform:"1900",middle_reform:"2111",all_reforms:"3845",lat:"-122.36093",long:"47.53919",grade:"at grade",status:"proposed",year_open:"",name:"SW Myrtle",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1168298094",station_link:"SW Rose-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"1025",baseline_under_zoning:"1030",plexify_reform:"2053",multiply_reform:"1030",legalize_reform:"1030",middle_reform:"1030",all_reforms:"2053",lat:"-122.3927",long:"47.52976",grade:"at grade",status:"existing",year_open:"2012",name:"SW Rose",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3579694214",station_link:"SW Thistle-RapidRide H-Bus Rapid Transit-proposed",existing_housing_units:"3117",baseline_under_zoning:"3627",plexify_reform:"5903",multiply_reform:"5122",legalize_reform:"3627",middle_reform:"3962",all_reforms:"7410",lat:"-122.3604",long:"47.52832",grade:"at grade",status:"proposed",year_open:"",name:"SW Thistle",mode:"Bus Rapid Transit",line:"RapidRide H"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3730083365",station_link:"SW Webster-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"1133",baseline_under_zoning:"5512",plexify_reform:"6529",multiply_reform:"9653",legalize_reform:"5512",middle_reform:"5678",all_reforms:"10810",lat:"-122.39247",long:"47.53591",grade:"at grade",status:"existing",year_open:"2012",name:"SW Webster",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53023970",STATION_ID:"S1257292393",station_link:"Tacoma Community College-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"263",baseline_under_zoning:"7352",plexify_reform:"7481",multiply_reform:"8252",legalize_reform:"7352",middle_reform:"7970",all_reforms:"8761",lat:"-122.52215",long:"47.24273",grade:"at grade",status:"planned",year_open:"",name:"Tacoma Community College",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3425406580",station_link:"Tacoma Dome-Orange Line (Tacoma Link)/Sounder-Light Rail-existing",existing_housing_units:"175",baseline_under_zoning:"10986",plexify_reform:"10989",multiply_reform:"21792",legalize_reform:"10986",middle_reform:"11075",all_reforms:"21884",lat:"-122.42777",long:"47.23963",grade:"at grade",status:"existing",year_open:"2003",name:"Tacoma Dome",mode:"Light Rail",line:"Orange Line (Tacoma Link)/Sounder"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3728641829",station_link:"Tacoma Dome-Tacoma Dome Link Extension-Light Rail-planned",existing_housing_units:"1062",baseline_under_zoning:"4752",plexify_reform:"4752",multiply_reform:"8442",legalize_reform:"4752",middle_reform:"4752",all_reforms:"8442",lat:"-122.42805",long:"47.24149",grade:"elevated",status:"planned",year_open:"",name:"Tacoma Dome",mode:"Light Rail",line:"Tacoma Dome Link Extension"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3984413014",station_link:"Tacoma General-Link T Line-Streetcar-uc",existing_housing_units:"1348",baseline_under_zoning:"8906",plexify_reform:"9269",multiply_reform:"16560",legalize_reform:"8906",middle_reform:"9350",all_reforms:"17046",lat:"-122.45363",long:"47.26052",grade:"at grade",status:"uc",year_open:"",name:"Tacoma General",mode:"Streetcar",line:"Link T Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2066597457",station_link:"Terrace Street-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"10918",baseline_under_zoning:"29179",plexify_reform:"29179",multiply_reform:"54992",legalize_reform:"29179",middle_reform:"29179",all_reforms:"54992",lat:"-122.3279",long:"47.60228",grade:"at grade",status:"existing",year_open:"2012",name:"Terrace Street",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S4292623553",station_link:"Terry Avenue-Madison RapidRide G-Bus Rapid Transit-proposed",existing_housing_units:"35987",baseline_under_zoning:"155503",plexify_reform:"155503",multiply_reform:"287773",legalize_reform:"155503",middle_reform:"155815",all_reforms:"288085",lat:"-122.32582",long:"47.60907",grade:"at grade",status:"proposed",year_open:"",name:"Terry Avenue",mode:"Bus Rapid Transit",line:"Madison RapidRide G"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3855275016",station_link:"Terry/Mercer-South Lake Union Line-Streetcar-existing",existing_housing_units:"480",baseline_under_zoning:"1935",plexify_reform:"1935",multiply_reform:"3870",legalize_reform:"1935",middle_reform:"1935",all_reforms:"3870",lat:"-122.33719",long:"47.62432",grade:"at grade",status:"existing",year_open:"2007",name:"Terry/Mercer",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3634300042",station_link:"Terry/Thomas-South Lake Union Line-Streetcar-existing",existing_housing_units:"2096",baseline_under_zoning:"38144",plexify_reform:"38144",multiply_reform:"76288",legalize_reform:"38144",middle_reform:"38144",all_reforms:"76288",lat:"-122.33721",long:"47.62139",grade:"at grade",status:"existing",year_open:"2007",name:"Terry/Thomas",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53072625",STATION_ID:"S1205527351",station_link:"The Boulevard at South Station-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"1373",baseline_under_zoning:"1382",plexify_reform:"3542",multiply_reform:"2021",legalize_reform:"1382",middle_reform:"2024",all_reforms:"4184",lat:"-122.27705",long:"47.46622",grade:"at grade",status:"existing",year_open:"2014",name:"The Boulevard at South Station",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53057745",STATION_ID:"S1273236346",station_link:"The Landing-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"3898",baseline_under_zoning:"11861",plexify_reform:"11966",multiply_reform:"20871",legalize_reform:"11861",middle_reform:"12330",all_reforms:"21445",lat:"-122.20081",long:"47.49811",grade:"at grade",status:"existing",year_open:"2014",name:"The Landing",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53070000",STATION_ID:"S159173960",station_link:"Theater District-S. 9th-Orange Line (Tacoma Link)-Streetcar-existing",existing_housing_units:"1645",baseline_under_zoning:"5157",plexify_reform:"5157",multiply_reform:"9530",legalize_reform:"5157",middle_reform:"5157",all_reforms:"9530",lat:"-122.44",long:"47.2562",grade:"at grade",status:"existing",year_open:"2003",name:"Theater District-S. 9th",mode:"Streetcar",line:"Orange Line (Tacoma Link)"},{JURISDICTION_ID:"G53038038",STATION_ID:"S160847662",station_link:"Tillicum-DuPont Sounder Extension-Commuter Rail-planned",existing_housing_units:"490",baseline_under_zoning:"583",plexify_reform:"1252",multiply_reform:"636",legalize_reform:"583",middle_reform:"630",all_reforms:"1337",lat:"-122.55746",long:"47.11901",grade:"at grade",status:"planned",year_open:"",name:"Tillicum",mode:"Commuter Rail",line:"DuPont Sounder Extension"},{JURISDICTION_ID:"G53035415",STATION_ID:"S3707478650",station_link:"Titus Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1467",baseline_under_zoning:"1479",plexify_reform:"4291",multiply_reform:"1479",legalize_reform:"1479",middle_reform:"1491",all_reforms:"4303",lat:"-122.22568",long:"47.3834",grade:"at grade",status:"planned",year_open:"",name:"Titus Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53035940",STATION_ID:"S2402648545",station_link:"Totem Lake/Kingsgate-Stride S2-Bus Rapid Transit-planned",existing_housing_units:"3778",baseline_under_zoning:"8236",plexify_reform:"9507",multiply_reform:"10881",legalize_reform:"8236",middle_reform:"12663",all_reforms:"16003",lat:"-122.18742",long:"47.71839",grade:"highway",status:"planned",year_open:"",name:"Totem Lake/Kingsgate",mode:"Bus Rapid Transit",line:"Stride S2"},{JURISDICTION_ID:"G53072625",STATION_ID:"S178533331",station_link:"Tukwila International Blvd-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"2050",baseline_under_zoning:"2522",plexify_reform:"2522",multiply_reform:"3946",legalize_reform:"2522",middle_reform:"4404",all_reforms:"4404",lat:"-122.28774",long:"47.46392",grade:"elevated",status:"existing",year_open:"2009",name:"Tukwila International Blvd",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53072625",STATION_ID:"S3028049141",station_link:"Tukwila International Boulevard-Stride S1-Bus Rapid Transit-planned",existing_housing_units:"1414",baseline_under_zoning:"1630",plexify_reform:"2214",multiply_reform:"1939",legalize_reform:"1630",middle_reform:"2855",all_reforms:"3439",lat:"-122.28793",long:"47.46323",grade:"highway",status:"planned",year_open:"",name:"Tukwila International Boulevard",mode:"Bus Rapid Transit",line:"Stride S1"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1552897316",station_link:"U District-Red Line (Northgate Link)-Light Rail-existing",existing_housing_units:"14317",baseline_under_zoning:"25442",plexify_reform:"25481",multiply_reform:"37504",legalize_reform:"25442",middle_reform:"27331",all_reforms:"39003",lat:"-122.31409",long:"47.66111",grade:"subway",status:"existing",year_open:"2021",name:"U District",mode:"Light Rail",line:"Red Line (Northgate Link)"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3123467437",station_link:"Union Station-S. 19th-Orange Line (Tacoma Link)-Streetcar-existing",existing_housing_units:"2899",baseline_under_zoning:"5938",plexify_reform:"5938",multiply_reform:"9356",legalize_reform:"5938",middle_reform:"5938",all_reforms:"9356",lat:"-122.43662",long:"47.24477",grade:"at grade",status:"existing",year_open:"2003",name:"Union Station-S. 19th",mode:"Streetcar",line:"Orange Line (Tacoma Link)"},{JURISDICTION_ID:"G53070000",STATION_ID:"S3967888471",station_link:"Union-TCC Tacoma Link Extension-Light Rail-planned",existing_housing_units:"910",baseline_under_zoning:"1250",plexify_reform:"3418",multiply_reform:"1442",legalize_reform:"1250",middle_reform:"1700",all_reforms:"3937",lat:"-122.48275",long:"47.24284",grade:"at grade",status:"planned",year_open:"",name:"Union",mode:"Light Rail",line:"TCC Tacoma Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2468443006",station_link:"University of Washington-Red Line (University Link)-Light Rail-existing",existing_housing_units:"203",baseline_under_zoning:"205",plexify_reform:"366",multiply_reform:"205",legalize_reform:"205",middle_reform:"207",all_reforms:"368",lat:"-122.3037",long:"47.64982",grade:"subway",status:"existing",year_open:"2016",name:"University of Washington",mode:"Light Rail",line:"Red Line (University Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S138986857",station_link:"University Street-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"5830",baseline_under_zoning:"73364",plexify_reform:"73364",multiply_reform:"146728",legalize_reform:"73364",middle_reform:"73364",all_reforms:"146728",lat:"-122.33602",long:"47.60783",grade:"subway",status:"existing",year_open:"2009",name:"University Street",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53057745",STATION_ID:"S515663967",station_link:"Valley Medical Center-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1196",baseline_under_zoning:"7382",plexify_reform:"7520",multiply_reform:"13572",legalize_reform:"7382",middle_reform:"7478",all_reforms:"13806",lat:"-122.21283",long:"47.44137",grade:"at grade",status:"planned",year_open:"",name:"Valley Medical Center",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S155797971",station_link:"Vine Street-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"50733",baseline_under_zoning:"53674",plexify_reform:"53674",multiply_reform:"56810",legalize_reform:"53674",middle_reform:"53674",all_reforms:"56810",lat:"-122.34801",long:"47.61659",grade:"at grade",status:"existing",year_open:"2012",name:"Vine Street",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1699909316",station_link:"Virginia-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"38882",baseline_under_zoning:"46526",plexify_reform:"46526",multiply_reform:"56031",legalize_reform:"46526",middle_reform:"46526",all_reforms:"56031",lat:"-122.34087",long:"47.61243",grade:"at grade",status:"existing",year_open:"2012",name:"Virginia",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53035415",STATION_ID:"S2715513237",station_link:"Ward Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"96",baseline_under_zoning:"780",plexify_reform:"780",multiply_reform:"1560",legalize_reform:"780",middle_reform:"780",all_reforms:"1560",lat:"-122.23108",long:"47.38251",grade:"at grade",status:"planned",year_open:"",name:"Ward Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53040840",STATION_ID:"S2603258460",station_link:"West Alderwood-Everett Link Extension-Light Rail-planned",existing_housing_units:"891",baseline_under_zoning:"2298",plexify_reform:"3290",multiply_reform:"3524",legalize_reform:"2298",middle_reform:"4280",all_reforms:"6450",lat:"-122.27885",long:"47.82181",grade:"elevated",status:"planned",year_open:"",name:"West Alderwood",mode:"Light Rail",line:"Everett Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3165785989",station_link:"West Armour-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"4774",baseline_under_zoning:"5174",plexify_reform:"5721",multiply_reform:"5965",legalize_reform:"11174",middle_reform:"5604",all_reforms:"12712",lat:"-122.37631",long:"47.64475",grade:"at grade",status:"existing",year_open:"2012",name:"West Armour",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S254359220",station_link:"West Dravus-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"5606",baseline_under_zoning:"6315",plexify_reform:"7355",multiply_reform:"8657",legalize_reform:"6315",middle_reform:"6653",all_reforms:"9717",lat:"-122.37634",long:"47.64846",grade:"at grade",status:"existing",year_open:"2012",name:"West Dravus",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1266954302",station_link:"West Emerson-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2510",baseline_under_zoning:"3023",plexify_reform:"3315",multiply_reform:"3925",legalize_reform:"3065",middle_reform:"3614",all_reforms:"4528",lat:"-122.37613",long:"47.65403",grade:"at grade",status:"existing",year_open:"2012",name:"West Emerson",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1609418542",station_link:"West Galer-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"375",baseline_under_zoning:"385",plexify_reform:"447",multiply_reform:"385",legalize_reform:"385",middle_reform:"390",all_reforms:"452",lat:"-122.3757",long:"47.63229",grade:"at grade",status:"existing",year_open:"2012",name:"West Galer",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S448950447",station_link:"West Prospect-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"2217",baseline_under_zoning:"2281",plexify_reform:"3093",multiply_reform:"2494",legalize_reform:"2281",middle_reform:"2362",all_reforms:"3306",lat:"-122.37106",long:"47.62866",grade:"at grade",status:"existing",year_open:"2012",name:"West Prospect",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53072625",STATION_ID:"S229861179",station_link:"West Valley Highway-RapidRide F-Bus Rapid Transit-existing",existing_housing_units:"8",baseline_under_zoning:"5248",plexify_reform:"5248",multiply_reform:"5248",legalize_reform:"5248",middle_reform:"5248",all_reforms:"5248",lat:"-122.24381",long:"47.45686",grade:"at grade",status:"existing",year_open:"2014",name:"West Valley Highway",mode:"Bus Rapid Transit",line:"RapidRide F"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1405184343",station_link:"West Wheeler-RapidRide D-Bus Rapid Transit-existing",existing_housing_units:"4358",baseline_under_zoning:"4874",plexify_reform:"5160",multiply_reform:"6301",legalize_reform:"4874",middle_reform:"5402",all_reforms:"6684",lat:"-122.37626",long:"47.64066",grade:"at grade",status:"existing",year_open:"2012",name:"West Wheeler",mode:"Bus Rapid Transit",line:"RapidRide D"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3205574120",station_link:"Westlake Hub-South Lake Union Line-Streetcar-existing",existing_housing_units:"19",baseline_under_zoning:"15352",plexify_reform:"15352",multiply_reform:"30704",legalize_reform:"15352",middle_reform:"15352",all_reforms:"30704",lat:"-122.33728",long:"47.61289",grade:"at grade",status:"existing",year_open:"2007",name:"Westlake Hub",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3926191399",station_link:"Westlake-Ballard Link Extension-Light Rail-planned",existing_housing_units:"60504",baseline_under_zoning:"125005",plexify_reform:"125005",multiply_reform:"196744",legalize_reform:"131627",middle_reform:"125005",all_reforms:"203366",lat:"-122.33608",long:"47.61119",grade:"subway",status:"planned",year_open:"",name:"Westlake",mode:"Light Rail",line:"Ballard Link Extension"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1041866010",station_link:"Westlake-Red Line (Central Link)-Light Rail-existing",existing_housing_units:"9885",baseline_under_zoning:"18525",plexify_reform:"18525",multiply_reform:"31645",legalize_reform:"18525",middle_reform:"18525",all_reforms:"31645",lat:"-122.33652",long:"47.61166",grade:"subway",status:"existing",year_open:"2009",name:"Westlake",mode:"Light Rail",line:"Red Line (Central Link)"},{JURISDICTION_ID:"G53063000",STATION_ID:"S2878452211",station_link:"Westlake/7th-South Lake Union Line-Streetcar-existing",existing_housing_units:"12859",baseline_under_zoning:"63515",plexify_reform:"63515",multiply_reform:"120285",legalize_reform:"63515",middle_reform:"63515",all_reforms:"120285",lat:"-122.33781",long:"47.61507",grade:"at grade",status:"existing",year_open:"2007",name:"Westlake/7th",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1192341864",station_link:"Westlake/Denny-9th-South Lake Union Line-Streetcar-existing",existing_housing_units:"27564",baseline_under_zoning:"29524",plexify_reform:"29524",multiply_reform:"31764",legalize_reform:"29524",middle_reform:"29524",all_reforms:"31764",lat:"-122.33838",long:"47.61802",grade:"at grade",status:"existing",year_open:"2007",name:"Westlake/Denny-9th",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3988523510",station_link:"Westlake/Mercer-South Lake Union Line-Streetcar-existing",existing_housing_units:"630",baseline_under_zoning:"1935",plexify_reform:"1935",multiply_reform:"3870",legalize_reform:"1935",middle_reform:"1935",all_reforms:"3870",lat:"-122.33845",long:"47.62428",grade:"at grade",status:"existing",year_open:"2007",name:"Westlake/Mercer",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S4048736436",station_link:"Westlake/Thomas-South Lake Union Line-Streetcar-existing",existing_housing_units:"14655",baseline_under_zoning:"23083",plexify_reform:"23083",multiply_reform:"39702",legalize_reform:"23083",middle_reform:"23083",all_reforms:"39702",lat:"-122.33846",long:"47.62146",grade:"at grade",status:"existing",year_open:"2007",name:"Westlake/Thomas",mode:"Streetcar",line:"South Lake Union Line"},{JURISDICTION_ID:"G53063000",STATION_ID:"S1444897563",station_link:"Westwood Village-RapidRide C-Bus Rapid Transit-existing",existing_housing_units:"785",baseline_under_zoning:"1693",plexify_reform:"3254",multiply_reform:"2664",legalize_reform:"1693",middle_reform:"2255",all_reforms:"4225",lat:"-122.36738",long:"47.52102",grade:"at grade",status:"existing",year_open:"2012",name:"Westwood Village",mode:"Bus Rapid Transit",line:"RapidRide C"},{JURISDICTION_ID:"G53005210",STATION_ID:"S1096747238",station_link:"Wilburton-Blue Line (East Link)-Light Rail-uc",existing_housing_units:"180",baseline_under_zoning:"1255",plexify_reform:"1255",multiply_reform:"2510",legalize_reform:"1255",middle_reform:"1255",all_reforms:"2510",lat:"-122.18377",long:"47.61797",grade:"elevated",status:"uc",year_open:"",name:"Wilburton",mode:"Light Rail",line:"Blue Line (East Link)"},{JURISDICTION_ID:"G53035415",STATION_ID:"S2082969009",station_link:"Willis Street-RapidRide I-Arterial Rapid Transit-planned",existing_housing_units:"1333",baseline_under_zoning:"3372",plexify_reform:"5001",multiply_reform:"5513",legalize_reform:"3372",middle_reform:"4011",all_reforms:"7266",lat:"-122.23062",long:"47.37778",grade:"at grade",status:"planned",year_open:"",name:"Willis Street",mode:"Arterial Rapid Transit",line:"RapidRide I"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3637736163",station_link:"Yale Avenue-Roosevelt RapidRide-Bus Rapid Transit-proposed",existing_housing_units:"20353",baseline_under_zoning:"47128",plexify_reform:"47172",multiply_reform:"73620",legalize_reform:"47128",middle_reform:"47633",all_reforms:"73934",lat:"-122.3309",long:"47.62874",grade:"at grade",status:"proposed",year_open:"",name:"Yale Avenue",mode:"Bus Rapid Transit",line:"Roosevelt RapidRide"},{JURISDICTION_ID:"G53063000",STATION_ID:"S3230223454",station_link:"Yesler/Broadway-Yesler Terrace-First Hill Line-Streetcar-existing",existing_housing_units:"6182",baseline_under_zoning:"9397",plexify_reform:"9397",multiply_reform:"14480",legalize_reform:"9397",middle_reform:"9684",all_reforms:"14490",lat:"-122.32008",long:"47.60169",grade:"at grade",status:"existing",year_open:"2016",name:"Yesler/Broadway-Yesler Terrace",mode:"Streetcar",line:"First Hill Line"}],r2="https://raw.githubusercontent.com/jeffmacinnes/urban_amzPugetSound/main/data/geo/",mf=async k=>{let H={},g;return g=await fetch(`${r2}/${k}_jurisdiction.geojson`),H.jurisdiction=await g.json(),g=await fetch(`${r2}/${k}_tracts.geojson`),H.tracts=await g.json(),g=await fetch(`${r2}/${k}_stations.geojson`),H.stations=await g.json(),H},ff=A2(pf.map(k=>({display:k.NAME,key:k.JURISDICTION_ID}))),gf=A2([{display:"Population Density",key:"Pop_density"},{display:"Cost Burdended",key:"Cost_burdened"}]),Tf=A2([{display:"Baseline",key:"baseline_under_zoning"},{display:"Plexify",key:"plexify_reform"},{display:"Multiply",key:"multiply_reform"},{display:"Legalize",key:"legalize_reform"},{display:"Missing Middle",key:"middle_reform"},{display:"All",key:"all_reforms"}]),gp=vp("G53063960"),h2=vp("Pop_density"),Tp=vp("All"),yp=vp("baseline_under_zoning"),yf=P1(gp,k=>{if(!k)return{};const{lat:H,lng:g}=df.find(L=>L.JURISDICTION_ID===k);return{lat:H,lng:g,pitch:60,bearing:-30,zoom:12}}),Sh=P1(gp,(k,H)=>{H({}),k&&(Tp.set("All"),mf(k).then(g=>H(g)))}),Af=P1(Sh,k=>{if(!k.stations)return[{display:"All",key:"All"}];const H=k.stations.features.map(G=>G.properties.STATION_ID);let g=rm.filter(G=>H.includes(G.STATION_ID));return["All",...new Set(g.map(G=>G.mode))].map(G=>({display:G,key:G}))}),sm=P1([Sh,h2],([k,H])=>{if(!k.tracts)return{data:[]};const g=k.tracts.features.map(J=>J.properties.TRACT_ID);let L=k3.filter(J=>g.includes(J.TRACT_ID)).map(J=>({TRACT_ID:J.TRACT_ID,value:+J[H]}));const G=nm(hf).domain(m5(k3.map(J=>J[H])));return L=L.map(J=>({...J,color:G(J.value)})),{data:L,colorScale:G}}),C2=P1([Sh,Tp],([k,H])=>{if(!k.stations)return{data:[]};const g=k.stations.features.map(G=>G.properties.STATION_ID);let L=rm.filter(G=>g.includes(G.STATION_ID));return H!=="All"&&(L=L.filter(G=>G.mode===H)),{data:L}});function L3(k,H,g){const L=k.slice();return L[7]=H[g],L}function D3(k){let H,g=k[7].display+"",L,G,J;return{c(){H=eu("option"),L=u5(g),G=nd(),this.h()},l(O){H=tu(O,"OPTION",{});var a=qu(H);L=c5(a,g),G=rd(a),a.forEach(za),this.h()},h(){H.__value=J=k[7].key,H.value=H.__value},m(O,a){bh(O,H,a),iu(H,L),iu(H,G)},p(O,a){a&1&&g!==(g=O[7].display+"")&&h5(L,g),a&1&&J!==(J=O[7].key)&&(H.__value=J,H.value=H.__value)},d(O){O&&za(H)}}}function bf(k){let H,g,L,G,J,O=k[0],a=[];for(let j=0;j<O.length;j+=1)a[j]=D3(L3(k,O,j));return{c(){H=eu("div"),g=eu("form"),L=eu("select");for(let j=0;j<a.length;j+=1)a[j].c();this.h()},l(j){H=tu(j,"DIV",{class:!0});var Z=qu(H);g=tu(Z,"FORM",{});var ye=qu(g);L=tu(ye,"SELECT",{id:!0});var me=qu(L);for(let rt=0;rt<a.length;rt+=1)a[rt].l(me);me.forEach(za),ye.forEach(za),Z.forEach(za),this.h()},h(){$u(L,"id","test"),$u(H,"class","dropdown-container")},m(j,Z){bh(j,H,Z),iu(H,g),iu(g,L);for(let ye=0;ye<a.length;ye+=1)a[ye].m(L,null);g3(L,k[1]),k[4](L),G||(J=a5(L,"change",k[5]),G=!0)},p(j,[Z]){if(Z&1){O=j[0];let ye;for(ye=0;ye<O.length;ye+=1){const me=L3(j,O,ye);a[ye]?a[ye].p(me,Z):(a[ye]=D3(me),a[ye].c(),a[ye].m(L,null))}for(;ye<a.length;ye+=1)a[ye].d(1);a.length=O.length}Z&2&&g3(L,j[1])},i:yh,o:yh,d(j){j&&za(H),l5(a,j),k[4](null),G=!1,J()}}}function vf(k,H,g){let{options:L=[]}=H,{currentValue:G=null}=H,J;const O=_5(),a=ye=>{let me=L[J.selectedIndex].key;O("update",{value:me})};function j(ye){q3[ye?"unshift":"push"](()=>{J=ye,g(2,J),g(0,L)})}const Z=ye=>a();return k.$$set=ye=>{"options"in ye&&g(0,L=ye.options),"currentValue"in ye&&g(1,G=ye.currentValue)},[L,G,J,a,j,Z]}class cp extends S1{constructor(H){super(),x1(this,H,vf,bf,C1,{options:0,currentValue:1})}}function Sf(k){let H,g,L,G,J,O,a,j,Z;return g=new cp({props:{options:k[4],currentValue:k[3]}}),g.$on("update",k[9]),G=new cp({props:{options:k[5],currentValue:k[2]}}),G.$on("update",k[10]),O=new cp({props:{options:k[6],currentValue:k[1]}}),O.$on("update",k[11]),j=new cp({props:{options:k[7],currentValue:k[0]}}),j.$on("update",k[12]),{c(){H=eu("div"),hh(g.$$.fragment),L=nd(),hh(G.$$.fragment),J=nd(),hh(O.$$.fragment),a=nd(),hh(j.$$.fragment),this.h()},l(ye){H=tu(ye,"DIV",{class:!0});var me=qu(H);dh(g.$$.fragment,me),L=rd(me),dh(G.$$.fragment,me),J=rd(me),dh(O.$$.fragment,me),a=rd(me),dh(j.$$.fragment,me),me.forEach(za),this.h()},h(){$u(H,"class","options-container svelte-14si522")},m(ye,me){bh(ye,H,me),ph(g,H,null),iu(H,L),ph(G,H,null),iu(H,J),ph(O,H,null),iu(H,a),ph(j,H,null),Z=!0},p(ye,[me]){const rt={};me&16&&(rt.options=ye[4]),me&8&&(rt.currentValue=ye[3]),g.$set(rt);const ht={};me&32&&(ht.options=ye[5]),me&4&&(ht.currentValue=ye[2]),G.$set(ht);const Ht={};me&64&&(Ht.options=ye[6]),me&2&&(Ht.currentValue=ye[1]),O.$set(Ht);const Se={};me&128&&(Se.options=ye[7]),me&1&&(Se.currentValue=ye[0]),j.$set(Se)},i(ye){Z||(mh(g.$$.fragment,ye),mh(G.$$.fragment,ye),mh(O.$$.fragment,ye),mh(j.$$.fragment,ye),Z=!0)},o(ye){fh(g.$$.fragment,ye),fh(G.$$.fragment,ye),fh(O.$$.fragment,ye),fh(j.$$.fragment,ye),Z=!1},d(ye){ye&&za(H),gh(g),gh(G),gh(O),gh(j)}}}function xf(k,H,g){let L,G,J,O,a,j,Z,ye;Al(k,yp,Be=>g(0,L=Be)),Al(k,Tp,Be=>g(1,G=Be)),Al(k,h2,Be=>g(2,J=Be)),Al(k,gp,Be=>g(3,O=Be)),Al(k,ff,Be=>g(4,a=Be)),Al(k,gf,Be=>g(5,j=Be)),Al(k,Af,Be=>g(6,Z=Be)),Al(k,Tf,Be=>g(7,ye=Be));const me=(Be,Gt)=>{let xt=Gt.detail.value;Be==="jurisdiction"?gp.set(xt):Be==="demographic"?h2.set(xt):Be==="stationType"?Tp.set(xt):Be==="reformType"?yp.set(xt):console.log("unrecognized dropdown name: ",Be)},rt=Be=>me("jurisdiction",Be),ht=Be=>me("demographic",Be),Ht=Be=>me("stationType",Be),Se=Be=>me("reformType",Be);return k.$$.update=()=>{k.$$.dirty&15&&console.log("current options",O,J,G,L)},[L,G,J,O,a,j,Z,ye,me,rt,ht,Ht,Se]}class Cf extends S1{constructor(H){super(),x1(this,H,xf,Sf,C1,{})}}var P2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},om={exports:{}};(function(k,H){(function(g,L){k.exports=L()})(P2,function(){var g,L,G;function J(a,j){if(!g)g=j;else if(!L)L=j;else{var Z="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+g+")(sharedChunk); ("+L+")(sharedChunk); self.onerror = null;",ye={};g(ye),G=j(ye),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(G.workerUrl=window.URL.createObjectURL(new Blob([Z],{type:"text/javascript"})))}}J(["exports"],function(a){var j=typeof self<"u"?self:{},Z="2.12.0";let ye;const me={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ye==null){const i=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ye={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):i}catch{ye=i}}return ye},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},rt={supported:!1,testSupport:function(i){!Se&&Ht&&(Be?Gt(i):ht=i)}};let ht,Ht,Se=!1,Be=!1;function Gt(i){const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);try{if(i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,Ht),i.isContextLost())return;rt.supported=!0}catch{}i.deleteTexture(t),Se=!0}j.document&&(Ht=j.document.createElement("img"),Ht.onload=function(){ht&&Gt(ht),ht=null,Be=!0},Ht.onerror=function(){Se=!0,ht=null},Ht.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const xt="01";var fi=Fi;function Fi(i,t,n,l){this.cx=3*i,this.bx=3*(n-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(l-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=t,this.p2x=n,this.p2y=l}Fi.prototype={sampleCurveX:function(i){return((this.ax*i+this.bx)*i+this.cx)*i},sampleCurveY:function(i){return((this.ay*i+this.by)*i+this.cy)*i},sampleCurveDerivativeX:function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},solveCurveX:function(i,t){if(t===void 0&&(t=1e-6),i<0)return 0;if(i>1)return 1;for(var n=i,l=0;l<8;l++){var h=this.sampleCurveX(n)-i;if(Math.abs(h)<t)return n;var p=this.sampleCurveDerivativeX(n);if(Math.abs(p)<1e-6)break;n-=h/p}var y=0,v=1;for(n=i,l=0;l<20&&(h=this.sampleCurveX(n),!(Math.abs(h-i)<t));l++)i>h?y=n:v=n,n=.5*(v-y)+y;return n},solve:function(i,t){return this.sampleCurveY(this.solveCurveX(i,t))}};var Me=it;function it(i,t){this.x=i,this.y=t}it.prototype={clone:function(){return new it(this.x,this.y)},add:function(i){return this.clone()._add(i)},sub:function(i){return this.clone()._sub(i)},multByPoint:function(i){return this.clone()._multByPoint(i)},divByPoint:function(i){return this.clone()._divByPoint(i)},mult:function(i){return this.clone()._mult(i)},div:function(i){return this.clone()._div(i)},rotate:function(i){return this.clone()._rotate(i)},rotateAround:function(i,t){return this.clone()._rotateAround(i,t)},matMult:function(i){return this.clone()._matMult(i)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(i){return this.x===i.x&&this.y===i.y},dist:function(i){return Math.sqrt(this.distSqr(i))},distSqr:function(i){var t=i.x-this.x,n=i.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(i){return Math.atan2(this.y-i.y,this.x-i.x)},angleWith:function(i){return this.angleWithSep(i.x,i.y)},angleWithSep:function(i,t){return Math.atan2(this.x*t-this.y*i,this.x*i+this.y*t)},_matMult:function(i){var t=i[2]*this.x+i[3]*this.y;return this.x=i[0]*this.x+i[1]*this.y,this.y=t,this},_add:function(i){return this.x+=i.x,this.y+=i.y,this},_sub:function(i){return this.x-=i.x,this.y-=i.y,this},_mult:function(i){return this.x*=i,this.y*=i,this},_div:function(i){return this.x/=i,this.y/=i,this},_multByPoint:function(i){return this.x*=i.x,this.y*=i.y,this},_divByPoint:function(i){return this.x/=i.x,this.y/=i.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var i=this.y;return this.y=this.x,this.x=-i,this},_rotate:function(i){var t=Math.cos(i),n=Math.sin(i),l=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=l,this},_rotateAround:function(i,t){var n=Math.cos(i),l=Math.sin(i),h=t.y+l*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-l*(this.y-t.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},it.convert=function(i){return i instanceof it?i:Array.isArray(i)?new it(i[0],i[1]):i};const ri=Math.PI/180,Mi=180/Math.PI;function si(i){return i*ri}function Ze(i){return i*Mi}const ze=[[0,0],[1,0],[1,1],[0,1]];function Kt(i){if(i<=0)return 0;if(i>=1)return 1;const t=i*i,n=t*i;return 4*(i<.5?n:3*(i-t)+n-.75)}function ji(i,t,n,l){const h=new fi(i,t,n,l);return function(p){return h.solve(p)}}const oi=ji(.25,.1,.25,1);function Y(i,t,n){return Math.min(n,Math.max(t,i))}function ce(i,t,n){return(n=Y((n-i)/(t-i),0,1))*n*(3-2*n)}function de(i,t,n){const l=n-t,h=((i-t)%l+l)%l+t;return h===t?n:h}function be(i,t,n){if(!i.length)return n(null,[]);let l=i.length;const h=new Array(i.length);let p=null;i.forEach((y,v)=>{t(y,(C,w)=>{C&&(p=C),h[v]=w,--l==0&&n(p,h)})})}function xe(i){const t=[];for(const n in i)t.push(i[n]);return t}function nt(i,...t){for(const n of t)for(const l in n)i[l]=n[l];return i}let dt=1;function yt(){return dt++}function Vt(){return function i(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,i)}()}function mt(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Ot(i){return!!i&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(i)}function Yi(i,t){i.forEach(n=>{t[n]&&(t[n]=t[n].bind(t))})}function Gi(i,t){return i.indexOf(t,i.length-t.length)!==-1}function an(i,t,n){const l={};for(const h in i)l[h]=t.call(n||this,i[h],h,i);return l}function sr(i,t,n){const l={};for(const h in i)t.call(n||this,i[h],h,i)&&(l[h]=i[h]);return l}function Er(i){return Array.isArray(i)?i.map(Er):typeof i=="object"&&i?an(i,Er):i}const Ir={};function _r(i){Ir[i]||(typeof console<"u"&&console.warn(i),Ir[i]=!0)}function Ar(i,t,n){return(n.y-i.y)*(t.x-i.x)>(t.y-i.y)*(n.x-i.x)}function Wn(i){let t=0;for(let n,l,h=0,p=i.length,y=p-1;h<p;y=h++)n=i[h],l=i[y],t+=(l.x-n.x)*(n.y+l.y);return t}function Li(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ie(i){const t={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(n,l,h,p)=>{const y=h||p;return t[l]=!y||y.toLowerCase(),""}),t["max-age"]){const n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}let Ne=null;function st(i){if(Ne==null){const t=i.navigator?i.navigator.userAgent:null;Ne=!!i.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Ne}function Je(i){try{const t=j[i];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}function ot(i,t){return[i[4*t],i[4*t+1],i[4*t+2],i[4*t+3]]}const Tt="mapbox-tiles";let Pt,bt,ii=500,Ui=50;function zi(){try{return j.caches}catch{}}function Mn(){zi()&&!Pt&&(Pt=j.caches.open(Tt))}function Hn(i){const t=i.indexOf("?");if(t<0)return i;const n=function(h){const p=h.indexOf("?");return p>0?h.slice(p+1).split("&"):[]}(i),l=n.filter(h=>{const p=h.split("=");return p[0]==="language"||p[0]==="worldview"});return l.length?`${i.slice(0,t)}?${l.join("&")}`:i.slice(0,t)}let zn=1/0;const Ln={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ln);class In extends Error{constructor(t,n,l){n===401&&es(l)&&(t+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(t),this.status=n,this.url=l}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const tr=Li()?()=>self.worker&&self.worker.referrer:()=>(j.location.protocol==="blob:"?j.parent:j).location.href,ss=function(i,t){if(!(/^file:/.test(n=i.url)||/^file:/.test(tr())&&!/^\w+:/.test(n))){if(j.fetch&&j.Request&&j.AbortController&&j.Request.prototype.hasOwnProperty("signal"))return function(l,h){const p=new j.AbortController,y=new j.Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,referrer:tr(),signal:p.signal});let v=!1,C=!1;const w=(R=y.url).indexOf("sku=")>0&&es(R);var R;l.type==="json"&&y.headers.set("Accept","application/json");const W=(K,re,pe)=>{if(C)return;if(K&&K.message!=="SecurityError"&&_r(K),re&&pe)return V(re);const Pe=Date.now();j.fetch(y).then(je=>{if(je.ok){const lt=w?je.clone():null;return V(je,lt,Pe)}return h(new In(je.statusText,je.status,l.url))}).catch(je=>{je.code!==20&&h(new Error(je.message))})},V=(K,re,pe)=>{(l.type==="arrayBuffer"?K.arrayBuffer():l.type==="json"?K.json():K.text()).then(Pe=>{C||(re&&pe&&function(je,lt,Ve){if(Mn(),!Pt)return;const Qe={status:lt.status,statusText:lt.statusText,headers:new j.Headers};lt.headers.forEach(($t,jt)=>Qe.headers.set(jt,$t));const gt=Ie(lt.headers.get("Cache-Control")||"");if(gt["no-store"])return;gt["max-age"]&&Qe.headers.set("Expires",new Date(Ve+1e3*gt["max-age"]).toUTCString());const ut=Qe.headers.get("Expires");ut&&(new Date(ut).getTime()-Ve<42e4||function($t,jt){if(bt===void 0)try{new Response(new ReadableStream),bt=!0}catch{bt=!1}bt?jt($t.body):$t.blob().then(jt)}(lt,$t=>{const jt=new j.Response($t,Qe);Mn(),Pt&&Pt.then(Si=>Si.put(Hn(je.url),jt)).catch(Si=>_r(Si.message))}))}(y,re,pe),v=!0,h(null,Pe,K.headers.get("Cache-Control"),K.headers.get("Expires")))}).catch(Pe=>{C||h(new Error(Pe.message))})};return w?function(K,re){if(Mn(),!Pt)return re(null);const pe=Hn(K.url);Pt.then(Pe=>{Pe.match(pe).then(je=>{const lt=function(Ve){if(!Ve)return!1;const Qe=new Date(Ve.headers.get("Expires")||0),gt=Ie(Ve.headers.get("Cache-Control")||"");return Qe>Date.now()&&!gt["no-cache"]}(je);Pe.delete(pe),lt&&Pe.put(pe,je.clone()),re(null,je,lt)}).catch(re)}).catch(re)}(y,W):W(null,null),{cancel:()=>{C=!0,v||p.abort()}}}(i,t);if(Li()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",i,t,void 0,!0)}var n;return function(l,h){const p=new j.XMLHttpRequest;p.open(l.method||"GET",l.url,!0),l.type==="arrayBuffer"&&(p.responseType="arraybuffer");for(const y in l.headers)p.setRequestHeader(y,l.headers[y]);return l.type==="json"&&(p.responseType="text",p.setRequestHeader("Accept","application/json")),p.withCredentials=l.credentials==="include",p.onerror=()=>{h(new Error(p.statusText))},p.onload=()=>{if((p.status>=200&&p.status<300||p.status===0)&&p.response!==null){let y=p.response;if(l.type==="json")try{y=JSON.parse(p.response)}catch(v){return h(v)}h(null,y,p.getResponseHeader("Cache-Control"),p.getResponseHeader("Expires"))}else h(new In(p.statusText,p.status,l.url))},p.send(l.body),{cancel:()=>p.abort()}}(i,t)},Or=function(i,t){return ss(nt(i,{type:"arrayBuffer"}),t)};function _o(i){const t=j.document.createElement("a");return t.href=i,t.protocol===j.document.location.protocol&&t.host===j.document.location.host}const fo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Vi,Mr;Vi=[],Mr=0;const bs=function(i,t){if(rt.supported&&(i.headers||(i.headers={}),i.headers.accept="image/webp,*/*"),Mr>=me.MAX_PARALLEL_IMAGE_REQUESTS){const p={requestParameters:i,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return Vi.push(p),p}Mr++;let n=!1;const l=()=>{if(!n)for(n=!0,Mr--;Vi.length&&Mr<me.MAX_PARALLEL_IMAGE_REQUESTS;){const p=Vi.shift(),{requestParameters:y,callback:v,cancelled:C}=p;C||(p.cancel=bs(y,v).cancel)}},h=Or(i,(p,y,v,C)=>{l(),p?t(p):y&&(j.createImageBitmap?function(w,R){const W=new j.Blob([new Uint8Array(w)],{type:"image/png"});j.createImageBitmap(W).then(V=>{R(null,V)}).catch(V=>{R(new Error(`Could not load image because of ${V.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(y,(w,R)=>t(w,R,v,C)):function(w,R){const W=new j.Image,V=j.URL;W.onload=()=>{R(null,W),V.revokeObjectURL(W.src),W.onload=null,j.requestAnimationFrame(()=>{W.src=fo})},W.onerror=()=>R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const K=new j.Blob([new Uint8Array(w)],{type:"image/png"});W.src=w.byteLength?V.createObjectURL(K):fo}(y,(w,R)=>t(w,R,v,C)))});return{cancel:()=>{h.cancel(),l()}}},Ks="NO_ACCESS_TOKEN";function yo(i){return i.indexOf("mapbox:")===0}function es(i){return me.API_URL_REGEX.test(i)}function Ns(i){return me.API_CDN_URL_REGEX.test(i)}function dr(i){return me.API_STYLE_REGEX.test(i)&&!Rs(i)}function Rs(i){return me.API_SPRITE_REGEX.test(i)}const $s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ro(i){const t=i.match($s);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function vs(i){const t=i.params.length?`?${i.params.join("&")}`:"";return`${i.protocol}://${i.authority}${i.path}${t}`}function Ue(i){if(!i)return null;const t=i.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(j.atob(t[1]).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Fe{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const n=Ue(me.ACCESS_TOKEN);let l="";return l=n&&n.u?j.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(h,p)=>String.fromCharCode(Number("0x"+p)))):me.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${l}`:`mapbox.eventData:${l}`}fetchEventData(){const t=Je("localStorage"),n=this.getStorageKey(),l=this.getStorageKey("uuid");if(t)try{const h=j.localStorage.getItem(n);h&&(this.eventData=JSON.parse(h));const p=j.localStorage.getItem(l);p&&(this.anonId=p)}catch{_r("Unable to read from LocalStorage")}}saveEventData(){const t=Je("localStorage"),n=this.getStorageKey(),l=this.getStorageKey("uuid");if(t)try{j.localStorage.setItem(l,this.anonId),Object.keys(this.eventData).length>=1&&j.localStorage.setItem(n,JSON.stringify(this.eventData))}catch{_r("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,n,l,h){if(!me.EVENTS_URL)return;const p=ro(me.EVENTS_URL);p.params.push(`access_token=${h||me.ACCESS_TOKEN||""}`);const y={event:this.type,created:new Date(t).toISOString()},v=n?nt(y,n):y,C={url:vs(p),headers:{"Content-Type":"text/plain"},body:JSON.stringify([v])};this.pendingRequest=function(w,R){return ss(nt(w,{method:"POST"}),R)}(C,w=>{this.pendingRequest=null,l(w),this.saveEventData(),this.processRequests(h)})}queueRequest(t,n){this.queue.push(t),this.processRequests(n)}}const oe=new class extends Fe{constructor(i){super("appUserTurnstile"),this._customAccessToken=i}postTurnstileEvent(i,t){me.EVENTS_URL&&me.ACCESS_TOKEN&&Array.isArray(i)&&i.some(n=>yo(n)||es(n))&&this.queueRequest(Date.now(),t)}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Ue(me.ACCESS_TOKEN),n=t?t.u:me.ACCESS_TOKEN;let l=n!==this.eventData.tokenU;Ot(this.anonId)||(this.anonId=Vt(),l=!0);const h=this.queue.shift();if(this.eventData.lastSuccess){const p=new Date(this.eventData.lastSuccess),y=new Date(h),v=(h-this.eventData.lastSuccess)/864e5;l=l||v>=1||v<-1||p.getDate()!==y.getDate()}else l=!0;l?this.postEvent(h,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Z,skuId:xt,"enabled.telemetry":!1,userId:this.anonId},p=>{p||(this.eventData.lastSuccess=h,this.eventData.tokenU=n)},i):this.processRequests()}},he=oe.postTurnstileEvent.bind(oe),De=new class extends Fe{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(i,t,n,l){this.skuToken=t,this.errorCb=l,me.EVENTS_URL&&(n||me.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},n):this.errorCb(new Error(Ks)))}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),Ot(this.anonId)||(this.anonId=Vt()),this.postEvent(n,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Z,skuId:xt,skuToken:this.skuToken,userId:this.anonId},l=>{l?this.errorCb(l):t&&(this.success[t]=!0)},i))}},$e=De.postMapLoadEvent.bind(De),ft=new class extends Fe{constructor(){super("gljs.performance")}postPerformanceEvent(i,t){me.EVENTS_URL&&(i||me.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},i)}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:t,performanceData:n}=this.queue.shift(),l=function(h){const p=j.performance.getEntriesByType("resource"),y=j.performance.getEntriesByType("mark"),v=function(V){const K={};if(V){for(const re in V)if(re!=="other")for(const pe of V[re]){const Pe=`${re}ResolveRangeMin`,je=`${re}ResolveRangeMax`,lt=`${re}RequestCount`,Ve=`${re}RequestCachedCount`;K[Pe]=Math.min(K[Pe]||1/0,pe.startTime),K[je]=Math.max(K[je]||-1/0,pe.responseEnd);const Qe=gt=>{K[gt]===void 0&&(K[gt]=0),++K[gt]};pe.transferSize!==void 0&&pe.transferSize===0&&Qe(Ve),Qe(lt)}}return K}(function(V,K){const re={};if(V)for(const pe of V){const Pe=K(pe);re[Pe]===void 0&&(re[Pe]=[]),re[Pe].push(pe)}return re}(p,Di)),C=j.devicePixelRatio,w=j.navigator.connection||j.navigator.mozConnection||j.navigator.webkitConnection,R={counters:[],metadata:[],attributes:[]},W=(V,K,re)=>{re!=null&&V.push({name:K,value:re.toString()})};for(const V in v)W(R.counters,V,v[V]);if(h.interactionRange[0]!==1/0&&h.interactionRange[1]!==-1/0&&(W(R.counters,"interactionRangeMin",h.interactionRange[0]),W(R.counters,"interactionRangeMax",h.interactionRange[1])),y)for(const V of Object.keys(vi)){const K=vi[V],re=y.find(pe=>pe.name===K);re&&W(R.counters,K,re.startTime)}return W(R.counters,"visibilityHidden",h.visibilityHidden),W(R.attributes,"style",function(V){if(V)for(const K of V){const re=K.name.split("?")[0];if(dr(re)){const pe=re.split("/").slice(-2);if(pe.length===2)return`mapbox://styles/${pe[0]}/${pe[1]}`}}}(p)),W(R.attributes,"terrainEnabled",h.terrainEnabled?"true":"false"),W(R.attributes,"fogEnabled",h.fogEnabled?"true":"false"),W(R.attributes,"projection",h.projection),W(R.attributes,"zoom",h.zoom),W(R.metadata,"devicePixelRatio",C),W(R.metadata,"connectionEffectiveType",w?w.effectiveType:void 0),W(R.metadata,"navigatorUserAgent",j.navigator.userAgent),W(R.metadata,"screenWidth",j.screen.width),W(R.metadata,"screenHeight",j.screen.height),W(R.metadata,"windowWidth",j.innerWidth),W(R.metadata,"windowHeight",j.innerHeight),W(R.metadata,"mapWidth",h.width/C),W(R.metadata,"mapHeight",h.height/C),W(R.metadata,"webglRenderer",h.renderer),W(R.metadata,"webglVendor",h.vendor),W(R.metadata,"sdkVersion",Z),W(R.metadata,"sdkIdentifier","mapbox-gl-js"),R}(n);for(const h of l.metadata);for(const h of l.counters);for(const h of l.attributes);this.postEvent(t,l,()=>{},i)}},Dt=ft.postPerformanceEvent.bind(ft),It=new class extends Fe{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(i,t,n,l){if(!me.API_URL||!me.SESSION_PATH)return;const h=ro(me.API_URL+me.SESSION_PATH);h.params.push(`sku=${t||""}`),h.params.push(`access_token=${l||me.ACCESS_TOKEN||""}`);const p={url:vs(h),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(y,v){return ss(nt(y,{method:"GET"}),v)}(p,y=>{this.pendingRequest=null,n(y),this.saveEventData(),this.processRequests(l)})}getSessionAPI(i,t,n,l){this.skuToken=t,this.errorCb=l,me.SESSION_PATH&&me.API_URL&&(n||me.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},n):this.errorCb(new Error(Ks)))}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,l=>{l?this.errorCb(l):t&&(this.success[t]=!0)},i)}},vt=It.getSessionAPI.bind(It),Rt=new Set,vi={create:"create",load:"load",fullLoad:"fullLoad"},on={mark(i){j.performance.mark(i)},measure(i,t,n){j.performance.measure(i,t,n)}};function Di(i){const t=i.name.split("?")[0];return Ns(t)&&t.includes("mapbox-gl.js")?"javascript":Ns(t)&&t.includes("mapbox-gl.css")?"css":function(n){return me.API_FONTS_REGEX.test(n)}(t)?"fontRange":Rs(t)?"sprite":dr(t)?"style":function(n){return me.API_TILEJSON_REGEX.test(n)}(t)?"tilejson":"other"}const Vn=j.performance;function Jn(i){const t=i?i.url.toString():void 0;return Vn.getEntriesByName(t)}let Dn,ir,Cr,Br;const On={now:()=>Cr!==void 0?Cr:j.performance.now(),setNow(i){Cr=i},restoreNow(){Cr=void 0},frame(i){const t=j.requestAnimationFrame(i);return{cancel:()=>j.cancelAnimationFrame(t)}},getImageData(i,t=0){const{width:n,height:l}=i;Br||(Br=j.document.createElement("canvas"));const h=Br.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return(n>Br.width||l>Br.height)&&(Br.width=n,Br.height=l),h.clearRect(-t,-t,n+2*t,l+2*t),h.drawImage(i,0,0,n,l),h.getImageData(-t,-t,n+2*t,l+2*t)},resolveURL:i=>(Dn||(Dn=j.document.createElement("a")),Dn.href=i,Dn.href),get devicePixelRatio(){return j.devicePixelRatio},get prefersReducedMotion(){return!!j.matchMedia&&(ir==null&&(ir=j.matchMedia("(prefers-reduced-motion: reduce)")),ir.matches)}};function $r(i,t,n){n[i]&&n[i].indexOf(t)!==-1||(n[i]=n[i]||[],n[i].push(t))}function Gr(i,t,n){if(n&&n[i]){const l=n[i].indexOf(t);l!==-1&&n[i].splice(l,1)}}class us{constructor(t,n={}){nt(this,n),this.type=t}}class Ao extends us{constructor(t,n={}){super("error",nt({error:t},n))}}class Hs{on(t,n){return this._listeners=this._listeners||{},$r(t,n,this._listeners),this}off(t,n){return Gr(t,n,this._listeners),Gr(t,n,this._oneTimeListeners),this}once(t,n){return n?(this._oneTimeListeners=this._oneTimeListeners||{},$r(t,n,this._oneTimeListeners),this):new Promise(l=>this.once(t,l))}fire(t,n){typeof t=="string"&&(t=new us(t,n||{}));const l=t.type;if(this.listens(l)){t.target=this;const h=this._listeners&&this._listeners[l]?this._listeners[l].slice():[];for(const v of h)v.call(this,t);const p=this._oneTimeListeners&&this._oneTimeListeners[l]?this._oneTimeListeners[l].slice():[];for(const v of p)Gr(l,v,this._oneTimeListeners),v.call(this,t);const y=this._eventedParent;y&&(nt(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),y.fire(t))}else t instanceof Ao&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,n){return this._eventedParent=t,this._eventedParentData=n,this}}var ui=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function jo(i,...t){for(const n of t)for(const l in n)i[l]=n[l];return i}function Ss(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function uo(i){if(Array.isArray(i))return i.map(uo);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const t={};for(const n in i)t[n]=uo(i[n]);return t}return Ss(i)}class ia extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}var Tn=ia;class bo{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[l,h]of n)this.bindings[l]=h}concat(t){return new bo(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var vo=bo;const Fs={kind:"null"},pn={kind:"number"},br={kind:"string"},xr={kind:"boolean"},Es={kind:"color"},Da={kind:"object"},Pr={kind:"value"},na={kind:"collator"},ma={kind:"formatted"},xs={kind:"resolvedImage"};function Zs(i,t){return{kind:"array",itemType:i,N:t}}function cs(i){if(i.kind==="array"){const t=cs(i.itemType);return typeof i.N=="number"?`array<${t}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${t}>`}return i.kind}const ae=[Fs,pn,br,xr,Es,ma,Da,Zs(Pr),xs];function se(i,t){if(t.kind==="error")return null;if(i.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!se(i.itemType,t.itemType))&&(typeof i.N!="number"||i.N===t.N))return null}else{if(i.kind===t.kind)return null;if(i.kind==="value"){for(const n of ae)if(!se(n,t))return null}}return`Expected ${cs(i)} but found ${cs(t)} instead.`}function ge(i,t){return t.some(n=>n.kind===i.kind)}function Ye(i,t){return t.some(n=>n==="null"?i===null:n==="array"?Array.isArray(i):n==="object"?i&&!Array.isArray(i)&&typeof i=="object":n===typeof i)}var Qt,Ti={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Wt(i){return(i=Math.round(i))<0?0:i>255?255:i}function Ni(i){return Wt(i[i.length-1]==="%"?parseFloat(i)/100*255:parseInt(i))}function te(i){return(t=i[i.length-1]==="%"?parseFloat(i)/100:parseFloat(i))<0?0:t>1?1:t;var t}function Q(i,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?i+(t-i)*n*6:2*n<1?t:3*n<2?i+(t-i)*(2/3-n)*6:i}try{Qt={}.parseCSSColor=function(i){var t,n=i.replace(/ /g,"").toLowerCase();if(n in Ti)return Ti[n].slice();if(n[0]==="#")return n.length===4?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:n.length===7&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=n.indexOf("("),h=n.indexOf(")");if(l!==-1&&h+1===n.length){var p=n.substr(0,l),y=n.substr(l+1,h-(l+1)).split(","),v=1;switch(p){case"rgba":if(y.length!==4)return null;v=te(y.pop());case"rgb":return y.length!==3?null:[Ni(y[0]),Ni(y[1]),Ni(y[2]),v];case"hsla":if(y.length!==4)return null;v=te(y.pop());case"hsl":if(y.length!==3)return null;var C=(parseFloat(y[0])%360+360)%360/360,w=te(y[1]),R=te(y[2]),W=R<=.5?R*(w+1):R+w-R*w,V=2*R-W;return[Wt(255*Q(V,W,C+1/3)),Wt(255*Q(V,W,C)),Wt(255*Q(V,W,C-1/3)),v];default:return null}}return null}}catch{}class le{constructor(t,n,l,h=1){this.r=t,this.g=n,this.b=l,this.a=h}static parse(t){if(!t)return;if(t instanceof le)return t;if(typeof t!="string")return;const n=Qt(t);return n?new le(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}toString(){const[t,n,l,h]=this.toArray();return`rgba(${Math.round(t)},${Math.round(n)},${Math.round(l)},${h})`}toArray(){const{r:t,g:n,b:l,a:h}=this;return h===0?[0,0,0,0]:[255*t/h,255*n/h,255*l/h,h]}toArray01(){const{r:t,g:n,b:l,a:h}=this;return h===0?[0,0,0,0]:[t/h,n/h,l/h,h]}toArray01PremultipliedAlpha(){const{r:t,g:n,b:l,a:h}=this;return[t,n,l,h]}}le.black=new le(0,0,0,1),le.white=new le(1,1,1,1),le.transparent=new le(0,0,0,0),le.red=new le(1,0,0,1),le.blue=new le(0,0,1,1);var Ae=le;class Te{constructor(t,n,l){this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=l,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class wt{constructor(t,n,l,h,p){this.text=t.normalize?t.normalize():t,this.image=n,this.scale=l,this.fontStack=h,this.textColor=p}}class Bt{constructor(t){this.sections=t}static fromString(t){return new Bt([new wt(t,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Bt?t:Bt.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const n of this.sections){if(n.image){t.push(["image",n.image.name]);continue}t.push(n.text);const l={};n.fontStack&&(l["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(l["font-scale"]=n.scale),n.textColor&&(l["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(l)}return t}}class di{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new di({name:t,available:!1}):null}serialize(){return["image",this.name]}}function qi(i,t,n,l){return typeof i=="number"&&i>=0&&i<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?l===void 0||typeof l=="number"&&l>=0&&l<=1?null:`Invalid rgba value [${[i,t,n,l].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof l=="number"?[i,t,n,l]:[i,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _n(i){if(i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||i instanceof Ae||i instanceof Te||i instanceof Bt||i instanceof di)return!0;if(Array.isArray(i)){for(const t of i)if(!_n(t))return!1;return!0}if(typeof i=="object"){for(const t in i)if(!_n(i[t]))return!1;return!0}return!1}function mi(i){if(i===null)return Fs;if(typeof i=="string")return br;if(typeof i=="boolean")return xr;if(typeof i=="number")return pn;if(i instanceof Ae)return Es;if(i instanceof Te)return na;if(i instanceof Bt)return ma;if(i instanceof di)return xs;if(Array.isArray(i)){const t=i.length;let n;for(const l of i){const h=mi(l);if(n){if(n===h)continue;n=Pr;break}n=h}return Zs(n||Pr,t)}return Da}function gi(i){const t=typeof i;return i===null?"":t==="string"||t==="number"||t==="boolean"?String(i):i instanceof Ae||i instanceof Bt||i instanceof di?i.toString():JSON.stringify(i)}class vn{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!_n(t[1]))return n.error("invalid value");const l=t[1];let h=mi(l);const p=n.expectedType;return h.kind!=="array"||h.N!==0||!p||p.kind!=="array"||typeof p.N=="number"&&p.N!==0||(h=p),new vn(h,l)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ae?["rgba"].concat(this.value.toArray()):this.value instanceof Bt?this.value.serialize():this.value}}var Ii=vn,rn=class{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}};const Ci={string:br,number:pn,boolean:xr,object:Da};class wn{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let l,h=1;const p=t[0];if(p==="array"){let v,C;if(t.length>2){const w=t[1];if(typeof w!="string"||!(w in Ci)||w==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);v=Ci[w],h++}else v=Pr;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);C=t[2],h++}l=Zs(v,C)}else l=Ci[p];const y=[];for(;h<t.length;h++){const v=n.parse(t[h],h,Pr);if(!v)return null;y.push(v)}return new wn(l,y)}evaluate(t){for(let n=0;n<this.args.length;n++){const l=this.args[n].evaluate(t);if(!se(this.type,mi(l)))return l;if(n===this.args.length-1)throw new rn(`Expected value to be of type ${cs(this.type)}, but found ${cs(mi(l))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,n=[t.kind];if(t.kind==="array"){const l=t.itemType;if(l.kind==="string"||l.kind==="number"||l.kind==="boolean"){n.push(l.kind);const h=t.N;(typeof h=="number"||this.args.length>1)&&n.push(h)}}return n.concat(this.args.map(l=>l.serialize()))}}var Bn=wn;class nr{constructor(t){this.type=ma,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const l=t[1];if(!Array.isArray(l)&&typeof l=="object")return n.error("First argument must be an image or text section.");const h=[];let p=!1;for(let y=1;y<=t.length-1;++y){const v=t[y];if(p&&typeof v=="object"&&!Array.isArray(v)){p=!1;let C=null;if(v["font-scale"]&&(C=n.parse(v["font-scale"],1,pn),!C))return null;let w=null;if(v["text-font"]&&(w=n.parse(v["text-font"],1,Zs(br)),!w))return null;let R=null;if(v["text-color"]&&(R=n.parse(v["text-color"],1,Es),!R))return null;const W=h[h.length-1];W.scale=C,W.font=w,W.textColor=R}else{const C=n.parse(t[y],1,Pr);if(!C)return null;const w=C.type.kind;if(w!=="string"&&w!=="value"&&w!=="null"&&w!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");p=!0,h.push({content:C,scale:null,font:null,textColor:null})}}return new nr(h)}evaluate(t){return new Bt(this.sections.map(n=>{const l=n.content.evaluate(t);return mi(l)===xs?new wt("",l,null,null,null):new wt(gi(l),null,n.scale?n.scale.evaluate(t):null,n.font?n.font.evaluate(t).join(","):null,n.textColor?n.textColor.evaluate(t):null)}))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const n of this.sections){t.push(n.content.serialize());const l={};n.scale&&(l["font-scale"]=n.scale.serialize()),n.font&&(l["text-font"]=n.font.serialize()),n.textColor&&(l["text-color"]=n.textColor.serialize()),t.push(l)}return t}}class rr{constructor(t){this.type=xs,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const l=n.parse(t[1],1,br);return l?new rr(l):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),l=di.fromString(n);return l&&t.availableImages&&(l.available=t.availableImages.indexOf(n)>-1),l}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Rr={"to-boolean":xr,"to-color":Es,"to-number":pn,"to-string":br};class Nr{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const l=t[0];if((l==="to-boolean"||l==="to-string")&&t.length!==2)return n.error("Expected one argument.");const h=Rr[l],p=[];for(let y=1;y<t.length;y++){const v=n.parse(t[y],y,Pr);if(!v)return null;p.push(v)}return new Nr(h,p)}evaluate(t){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(t));if(this.type.kind==="color"){let n,l;for(const h of this.args){if(n=h.evaluate(t),l=null,n instanceof Ae)return n;if(typeof n=="string"){const p=t.parseColor(n);if(p)return p}else if(Array.isArray(n)&&(l=n.length<3||n.length>4?`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:qi(n[0],n[1],n[2],n[3]),!l))return new Ae(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new rn(l||`Could not parse color from value '${typeof n=="string"?n:String(JSON.stringify(n))}'`)}if(this.type.kind==="number"){let n=null;for(const l of this.args){if(n=l.evaluate(t),n===null)return 0;const h=Number(n);if(!isNaN(h))return h}throw new rn(`Could not convert ${JSON.stringify(n)} to number.`)}return this.type.kind==="formatted"?Bt.fromString(gi(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?di.fromString(gi(this.args[0].evaluate(t))):gi(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new nr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new rr(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(n=>{t.push(n.serialize())}),t}}var Ki=Nr;const ls=["Unknown","Point","LineString","Polygon"];var pr=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ls[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const i=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:l}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*t-i[0])+this.featureDistanceData.bearing[1]*(l*t-i[1])}return 0}parseColor(i){let t=this._parseColorCache[i];return t||(t=this._parseColorCache[i]=Ae.parse(i)),t}};class Os{constructor(t,n,l,h){this.name=t,this.type=n,this._evaluate=l,this.args=h}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,n){const l=t[0],h=Os.definitions[l];if(!h)return n.error(`Unknown expression "${l}". If you wanted a literal array, use ["literal", [...]].`,0);const p=Array.isArray(h)?h[0]:h.type,y=Array.isArray(h)?[[h[1],h[2]]]:h.overloads,v=y.filter(([w])=>!Array.isArray(w)||w.length===t.length-1);let C=null;for(const[w,R]of v){C=new ua(n.registry,n.path,null,n.scope);const W=[];let V=!1;for(let K=1;K<t.length;K++){const re=t[K],pe=Array.isArray(w)?w[K-1]:w.type,Pe=C.parse(re,1+W.length,pe);if(!Pe){V=!0;break}W.push(Pe)}if(!V)if(Array.isArray(w)&&w.length!==W.length)C.error(`Expected ${w.length} arguments, but found ${W.length} instead.`);else{for(let K=0;K<W.length;K++){const re=Array.isArray(w)?w[K]:w.type,pe=W[K];C.concat(K+1).checkSubtype(re,pe.type)}if(C.errors.length===0)return new Os(l,p,R,W)}}if(v.length===1)n.errors.push(...C.errors);else{const w=(v.length?v:y).map(([W])=>{return V=W,Array.isArray(V)?`(${V.map(cs).join(", ")})`:`(${cs(V.type)}...)`;var V}).join(" | "),R=[];for(let W=1;W<t.length;W++){const V=n.parse(t[W],1+R.length);if(!V)return null;R.push(cs(V.type))}n.error(`Expected arguments of type ${w}, but found (${R.join(", ")}) instead.`)}return null}static register(t,n){Os.definitions=n;for(const l in n)t[l]=Os}}var or=Os;class So{constructor(t,n,l){this.type=na,this.locale=l,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const l=t[1];if(typeof l!="object"||Array.isArray(l))return n.error("Collator options argument must be an object.");const h=n.parse(l["case-sensitive"]!==void 0&&l["case-sensitive"],1,xr);if(!h)return null;const p=n.parse(l["diacritic-sensitive"]!==void 0&&l["diacritic-sensitive"],1,xr);if(!p)return null;let y=null;return l.locale&&(y=n.parse(l.locale,1,br),!y)?null:new So(h,p,y)}evaluate(t){return new Te(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Ms=8192;function xo(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.max(i[2],t[0]),i[3]=Math.max(i[3],t[1])}function Yo(i,t){return!(i[0]<=t[0]||i[2]>=t[2]||i[1]<=t[1]||i[3]>=t[3])}function qo(i,t){const n=(180+i[0])/360,l=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,h=Math.pow(2,t.z);return[Math.round(n*h*Ms),Math.round(l*h*Ms)]}function Eo(i,t,n){const l=i[0]-t[0],h=i[1]-t[1],p=i[0]-n[0],y=i[1]-n[1];return l*y-p*h==0&&l*p<=0&&h*y<=0}function Qs(i,t){let n=!1;for(let y=0,v=t.length;y<v;y++){const C=t[y];for(let w=0,R=C.length;w<R-1;w++){if(Eo(i,C[w],C[w+1]))return!1;(h=C[w])[1]>(l=i)[1]!=(p=C[w+1])[1]>l[1]&&l[0]<(p[0]-h[0])*(l[1]-h[1])/(p[1]-h[1])+h[0]&&(n=!n)}}var l,h,p;return n}function C0(i,t){for(let n=0;n<t.length;n++)if(Qs(i,t[n]))return!0;return!1}function Fn(i,t,n,l){const h=l[0]-n[0],p=l[1]-n[1],y=(i[0]-n[0])*p-h*(i[1]-n[1]),v=(t[0]-n[0])*p-h*(t[1]-n[1]);return y>0&&v<0||y<0&&v>0}function fa(i,t,n){for(const w of n)for(let R=0;R<w.length-1;++R)if((v=[(y=w[R+1])[0]-(p=w[R])[0],y[1]-p[1]])[0]*(C=[(h=t)[0]-(l=i)[0],h[1]-l[1]])[1]-v[1]*C[0]!=0&&Fn(l,h,p,y)&&Fn(p,y,l,h))return!0;var l,h,p,y,v,C;return!1}function $0(i,t){for(let n=0;n<i.length;++n)if(!Qs(i[n],t))return!1;for(let n=0;n<i.length-1;++n)if(fa(i[n],i[n+1],t))return!1;return!0}function Ql(i,t){for(let n=0;n<t.length;n++)if($0(i,t[n]))return!0;return!1}function ga(i,t,n){const l=[];for(let h=0;h<i.length;h++){const p=[];for(let y=0;y<i[h].length;y++){const v=qo(i[h][y],n);xo(t,v),p.push(v)}l.push(p)}return l}function Z0(i,t,n){const l=[];for(let h=0;h<i.length;h++){const p=ga(i[h],t,n);l.push(p)}return l}function Mo(i,t,n,l){if(i[0]<n[0]||i[0]>n[2]){const h=.5*l;let p=i[0]-n[0]>h?-l:n[0]-i[0]>h?l:0;p===0&&(p=i[0]-n[2]>h?-l:n[2]-i[0]>h?l:0),i[0]+=p}xo(t,i)}function os(i,t,n,l){const h=Math.pow(2,l.z)*Ms,p=[l.x*Ms,l.y*Ms],y=[];if(!i)return y;for(const v of i)for(const C of v){const w=[C.x+p[0],C.y+p[1]];Mo(w,t,n,h),y.push(w)}return y}function X0(i,t,n,l){const h=Math.pow(2,l.z)*Ms,p=[l.x*Ms,l.y*Ms],y=[];if(!i)return y;for(const C of i){const w=[];for(const R of C){const W=[R.x+p[0],R.y+p[1]];xo(t,W),w.push(W)}y.push(w)}if(t[2]-t[0]<=h/2){(v=t)[0]=v[1]=1/0,v[2]=v[3]=-1/0;for(const C of y)for(const w of C)Mo(w,t,n,h)}var v;return y}class Bo{constructor(t,n){this.type=xr,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(_n(t[1])){const l=t[1];if(l.type==="FeatureCollection")for(let h=0;h<l.features.length;++h){const p=l.features[h].geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Bo(l,l.features[h].geometry)}else if(l.type==="Feature"){const h=l.geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new Bo(l,l.geometry)}else if(l.type==="Polygon"||l.type==="MultiPolygon")return new Bo(l,l)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(n,l){const h=[1/0,1/0,-1/0,-1/0],p=[1/0,1/0,-1/0,-1/0],y=n.canonicalID();if(!y)return!1;if(l.type==="Polygon"){const v=ga(l.coordinates,p,y),C=os(n.geometry(),h,p,y);if(!Yo(h,p))return!1;for(const w of C)if(!Qs(w,v))return!1}if(l.type==="MultiPolygon"){const v=Z0(l.coordinates,p,y),C=os(n.geometry(),h,p,y);if(!Yo(h,p))return!1;for(const w of C)if(!C0(w,v))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(n,l){const h=[1/0,1/0,-1/0,-1/0],p=[1/0,1/0,-1/0,-1/0],y=n.canonicalID();if(!y)return!1;if(l.type==="Polygon"){const v=ga(l.coordinates,p,y),C=X0(n.geometry(),h,p,y);if(!Yo(h,p))return!1;for(const w of C)if(!$0(w,v))return!1}if(l.type==="MultiPolygon"){const v=Z0(l.coordinates,p,y),C=X0(n.geometry(),h,p,y);if(!Yo(h,p))return!1;for(const w of C)if(!Ql(w,v))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var K0=Bo;function eo(i){if(i instanceof or&&(i.name==="get"&&i.args.length===1||i.name==="feature-state"||i.name==="has"&&i.args.length===1||i.name==="properties"||i.name==="geometry-type"||i.name==="id"||/^filter-/.test(i.name))||i instanceof K0)return!1;let t=!0;return i.eachChild(n=>{t&&!eo(n)&&(t=!1)}),t}function mr(i){if(i instanceof or&&i.name==="feature-state")return!1;let t=!0;return i.eachChild(n=>{t&&!mr(n)&&(t=!1)}),t}function bl(i,t){if(i instanceof or&&t.indexOf(i.name)>=0)return!1;let n=!0;return i.eachChild(l=>{n&&!bl(l,t)&&(n=!1)}),n}class s0{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const l=t[1];return n.scope.has(l)?new s0(l,n.scope.get(l)):n.error(`Unknown variable "${l}". Make sure "${l}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var e_=s0;class Ra{constructor(t,n=[],l,h=new vo,p=[]){this.registry=t,this.path=n,this.key=n.map(y=>`[${y}]`).join(""),this.scope=h,this.errors=p,this.expectedType=l}parse(t,n,l,h,p={}){return n?this.concat(n,l,h)._parse(t,p):this._parse(t,p)}_parse(t,n){function l(h,p,y){return y==="assert"?new Bn(p,[h]):y==="coerce"?new Ki(p,[h]):h}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const h=t[0];if(typeof h!="string")return this.error(`Expression name must be a string, but found ${typeof h} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const p=this.registry[h];if(p){let y=p.parse(t,this);if(!y)return null;if(this.expectedType){const v=this.expectedType,C=y.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||C.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string"){if(this.checkSubtype(v,C))return null}else y=l(y,v,n.typeAnnotation||"coerce");else y=l(y,v,n.typeAnnotation||"assert")}if(!(y instanceof Ii)&&y.type.kind!=="resolvedImage"&&Ta(y)){const v=new pr;try{y=new Ii(y.type,y.evaluate(v))}catch(C){return this.error(C.message),null}}return y}return this.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,n,l){const h=typeof t=="number"?this.path.concat(t):this.path,p=l?this.scope.concat(l):this.scope;return new Ra(this.registry,h,n||null,p,this.errors)}error(t,...n){const l=`${this.key}${n.map(h=>`[${h}]`).join("")}`;this.errors.push(new Tn(l,t))}checkSubtype(t,n){const l=se(t,n);return l&&this.error(l),l}}var ua=Ra;function Ta(i){if(i instanceof e_)return Ta(i.boundExpression);if(i instanceof or&&i.name==="error"||i instanceof So||i instanceof K0)return!1;const t=i instanceof Ki||i instanceof Bn;let n=!0;return i.eachChild(l=>{n=t?n&&Ta(l):n&&l instanceof Ii}),!!n&&eo(i)&&bl(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function vl(i,t){const n=i.length-1;let l,h,p=0,y=n,v=0;for(;p<=y;)if(v=Math.floor((p+y)/2),l=i[v],h=i[v+1],l<=t){if(v===n||t<h)return v;p=v+1}else{if(!(l>t))throw new rn("Input is not a number.");y=v-1}return 0}class Q0{constructor(t,n,l){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[h,p]of l)this.labels.push(h),this.outputs.push(p)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");const l=n.parse(t[1],1,pn);if(!l)return null;const h=[];let p=null;n.expectedType&&n.expectedType.kind!=="value"&&(p=n.expectedType);for(let y=1;y<t.length;y+=2){const v=y===1?-1/0:t[y],C=t[y+1],w=y,R=y+1;if(typeof v!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',w);if(h.length&&h[h.length-1][0]>=v)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',w);const W=n.parse(C,R,p);if(!W)return null;p=p||W.type,h.push([v,W])}return new Q0(p,l,h)}evaluate(t){const n=this.labels,l=this.outputs;if(n.length===1)return l[0].evaluate(t);const h=this.input.evaluate(t);if(h<=n[0])return l[0].evaluate(t);const p=n.length;return h>=n[p-1]?l[p-1].evaluate(t):l[vl(n,h)].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let n=0;n<this.labels.length;n++)n>0&&t.push(this.labels[n]),t.push(this.outputs[n].serialize());return t}}var Sl=Q0;function Vr(i,t,n){return i*(1-n)+t*n}var P0=Object.freeze({__proto__:null,number:Vr,color:function(i,t,n){return new Ae(Vr(i.r,t.r,n),Vr(i.g,t.g,n),Vr(i.b,t.b,n),Vr(i.a,t.a,n))},array:function(i,t,n){return i.map((l,h)=>Vr(l,t[h],n))}});const o0=.95047,el=1.08883,tl=4/29,il=6/29,t_=3*il*il,i_=Math.PI/180,co=180/Math.PI;function nl(i){return i>.008856451679035631?Math.pow(i,1/3):i/t_+tl}function $o(i){return i>il?i*i*i:t_*(i-tl)}function N0(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function Io(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function su(i){const t=Io(i.r),n=Io(i.g),l=Io(i.b),h=nl((.4124564*t+.3575761*n+.1804375*l)/o0),p=nl((.2126729*t+.7151522*n+.072175*l)/1);return{l:116*p-16,a:500*(h-p),b:200*(p-nl((.0193339*t+.119192*n+.9503041*l)/el)),alpha:i.a}}function t0(i){let t=(i.l+16)/116,n=isNaN(i.a)?t:t+i.a/500,l=isNaN(i.b)?t:t-i.b/200;return t=1*$o(t),n=o0*$o(n),l=el*$o(l),new Ae(N0(3.2404542*n-1.5371385*t-.4985314*l),N0(-.969266*n+1.8760108*t+.041556*l),N0(.0556434*n-.2040259*t+1.0572252*l),i.alpha)}function n_(i,t,n){const l=t-i;return i+n*(l>180||l<-180?l-360*Math.round(l/360):l)}const ao={forward:su,reverse:t0,interpolate:function(i,t,n){return{l:Vr(i.l,t.l,n),a:Vr(i.a,t.a,n),b:Vr(i.b,t.b,n),alpha:Vr(i.alpha,t.alpha,n)}}},Va={forward:function(i){const{l:t,a:n,b:l}=su(i),h=Math.atan2(l,n)*co;return{h:h<0?h+360:h,c:Math.sqrt(n*n+l*l),l:t,alpha:i.a}},reverse:function(i){const t=i.h*i_,n=i.c;return t0({l:i.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:i.alpha})},interpolate:function(i,t,n){return{h:n_(i.h,t.h,n),c:Vr(i.c,t.c,n),l:Vr(i.l,t.l,n),alpha:Vr(i.alpha,t.alpha,n)}}};var r_=Object.freeze({__proto__:null,lab:ao,hcl:Va});class a0{constructor(t,n,l,h,p){this.type=t,this.operator=n,this.interpolation=l,this.input=h,this.labels=[],this.outputs=[];for(const[y,v]of p)this.labels.push(y),this.outputs.push(v)}static interpolationFactor(t,n,l,h){let p=0;if(t.name==="exponential")p=rl(n,t.base,l,h);else if(t.name==="linear")p=rl(n,1,l,h);else if(t.name==="cubic-bezier"){const y=t.controlPoints;p=new fi(y[0],y[1],y[2],y[3]).solve(rl(n,1,l,h))}return p}static parse(t,n){let[l,h,p,...y]=t;if(!Array.isArray(h)||h.length===0)return n.error("Expected an interpolation type expression.",1);if(h[0]==="linear")h={name:"linear"};else if(h[0]==="exponential"){const w=h[1];if(typeof w!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);h={name:"exponential",base:w}}else{if(h[0]!=="cubic-bezier")return n.error(`Unknown interpolation type ${String(h[0])}`,1,0);{const w=h.slice(1);if(w.length!==4||w.some(R=>typeof R!="number"||R<0||R>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);h={name:"cubic-bezier",controlPoints:w}}}if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(p=n.parse(p,2,pn),!p)return null;const v=[];let C=null;l==="interpolate-hcl"||l==="interpolate-lab"?C=Es:n.expectedType&&n.expectedType.kind!=="value"&&(C=n.expectedType);for(let w=0;w<y.length;w+=2){const R=y[w],W=y[w+1],V=w+3,K=w+4;if(typeof R!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(v.length&&v[v.length-1][0]>=R)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const re=n.parse(W,K,C);if(!re)return null;C=C||re.type,v.push([R,re])}return C.kind==="number"||C.kind==="color"||C.kind==="array"&&C.itemType.kind==="number"&&typeof C.N=="number"?new a0(C,l,h,p,v):n.error(`Type ${cs(C)} is not interpolatable.`)}evaluate(t){const n=this.labels,l=this.outputs;if(n.length===1)return l[0].evaluate(t);const h=this.input.evaluate(t);if(h<=n[0])return l[0].evaluate(t);const p=n.length;if(h>=n[p-1])return l[p-1].evaluate(t);const y=vl(n,h),v=a0.interpolationFactor(this.interpolation,h,n[y],n[y+1]),C=l[y].evaluate(t),w=l[y+1].evaluate(t);return this.operator==="interpolate"?P0[this.type.kind.toLowerCase()](C,w,v):this.operator==="interpolate-hcl"?Va.reverse(Va.interpolate(Va.forward(C),Va.forward(w),v)):ao.reverse(ao.interpolate(ao.forward(C),ao.forward(w),v))}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const n=[this.operator,t,this.input.serialize()];for(let l=0;l<this.labels.length;l++)n.push(this.labels[l],this.outputs[l].serialize());return n}}function rl(i,t,n,l){const h=l-n,p=i-n;return h===0?0:t===1?p/h:(Math.pow(t,p)-1)/(Math.pow(t,h)-1)}var ya=a0;class v_{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let l=null;const h=n.expectedType;h&&h.kind!=="value"&&(l=h);const p=[];for(const v of t.slice(1)){const C=n.parse(v,1+p.length,l,void 0,{typeAnnotation:"omit"});if(!C)return null;l=l||C.type,p.push(C)}const y=h&&p.some(v=>se(h,v.type));return new v_(y?Pr:l,p)}evaluate(t){let n,l=null,h=0;for(const p of this.args){if(h++,l=p.evaluate(t),l&&l instanceof di&&!l.available&&(n||(n=l),l=null,h===this.args.length))return n;if(l!==null)break}return l}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var ou=v_;class Aa{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const l=[];for(let p=1;p<t.length-1;p+=2){const y=t[p];if(typeof y!="string")return n.error(`Expected string, but found ${typeof y} instead.`,p);if(/[^a-zA-Z0-9_]/.test(y))return n.error("Variable names must contain only alphanumeric characters or '_'.",p);const v=n.parse(t[p+1],p+1);if(!v)return null;l.push([y,v])}const h=n.parse(t[t.length-1],t.length-1,n.expectedType,l);return h?new Aa(l,h):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[n,l]of this.bindings)t.push(n,l.serialize());return t.push(this.result.serialize()),t}}var l0=Aa;class sl{constructor(t,n,l){this.type=t,this.index=n,this.input=l}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const l=n.parse(t[1],1,pn),h=n.parse(t[2],2,Zs(n.expectedType||Pr));return l&&h?new sl(h.type.itemType,l,h):null}evaluate(t){const n=this.index.evaluate(t),l=this.input.evaluate(t);if(n<0)throw new rn(`Array index out of bounds: ${n} < 0.`);if(n>=l.length)throw new rn(`Array index out of bounds: ${n} > ${l.length-1}.`);if(n!==Math.floor(n))throw new rn(`Array index must be an integer, but found ${n} instead.`);return l[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var ol=sl;class xl{constructor(t,n){this.type=xr,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const l=n.parse(t[1],1,Pr),h=n.parse(t[2],2,Pr);return l&&h?ge(l.type,[xr,br,pn,Fs,Pr])?new xl(l,h):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${cs(l.type)} instead`):null}evaluate(t){const n=this.needle.evaluate(t),l=this.haystack.evaluate(t);if(l==null)return!1;if(!Ye(n,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${cs(mi(n))} instead.`);if(!Ye(l,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${cs(mi(l))} instead.`);return l.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var au=xl;class ba{constructor(t,n,l){this.type=pn,this.needle=t,this.haystack=n,this.fromIndex=l}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const l=n.parse(t[1],1,Pr),h=n.parse(t[2],2,Pr);if(!l||!h)return null;if(!ge(l.type,[xr,br,pn,Fs,Pr]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${cs(l.type)} instead`);if(t.length===4){const p=n.parse(t[3],3,pn);return p?new ba(l,h,p):null}return new ba(l,h)}evaluate(t){const n=this.needle.evaluate(t),l=this.haystack.evaluate(t);if(!Ye(n,["boolean","string","number","null"]))throw new rn(`Expected first argument to be of type boolean, string, number or null, but found ${cs(mi(n))} instead.`);if(!Ye(l,["string","array"]))throw new rn(`Expected second argument to be of type array or string, but found ${cs(mi(l))} instead.`);if(this.fromIndex){const h=this.fromIndex.evaluate(t);return l.indexOf(n,h)}return l.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Zr=ba;class Rn{constructor(t,n,l,h,p,y){this.inputType=t,this.type=n,this.input=l,this.cases=h,this.outputs=p,this.otherwise=y}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return n.error("Expected an even number of arguments.");let l,h;n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);const p={},y=[];for(let w=2;w<t.length-1;w+=2){let R=t[w];const W=t[w+1];Array.isArray(R)||(R=[R]);const V=n.concat(w);if(R.length===0)return V.error("Expected at least one branch label.");for(const re of R){if(typeof re!="number"&&typeof re!="string")return V.error("Branch labels must be numbers or strings.");if(typeof re=="number"&&Math.abs(re)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof re=="number"&&Math.floor(re)!==re)return V.error("Numeric branch labels must be integer values.");if(l){if(V.checkSubtype(l,mi(re)))return null}else l=mi(re);if(p[String(re)]!==void 0)return V.error("Branch labels must be unique.");p[String(re)]=y.length}const K=n.parse(W,w,h);if(!K)return null;h=h||K.type,y.push(K)}const v=n.parse(t[1],1,Pr);if(!v)return null;const C=n.parse(t[t.length-1],t.length-1,h);return C?v.type.kind!=="value"&&n.concat(1).checkSubtype(l,v.type)?null:new Rn(l,h,v,p,y,C):null}evaluate(t){const n=this.input.evaluate(t);return(mi(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),l=[],h={};for(const y of n){const v=h[this.cases[y]];v===void 0?(h[this.cases[y]]=l.length,l.push([this.cases[y],[y]])):l[v][1].push(y)}const p=y=>this.inputType.kind==="number"?Number(y):y;for(const[y,v]of l)t.push(v.length===1?p(v[0]):v.map(p)),t.push(this.outputs[y].serialize());return t.push(this.otherwise.serialize()),t}}var Ja=Rn;class Cl{constructor(t,n,l){this.type=t,this.branches=n,this.otherwise=l}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return n.error("Expected an odd number of arguments.");let l;n.expectedType&&n.expectedType.kind!=="value"&&(l=n.expectedType);const h=[];for(let y=1;y<t.length-1;y+=2){const v=n.parse(t[y],y,xr);if(!v)return null;const C=n.parse(t[y+1],y+1,l);if(!C)return null;h.push([v,C]),l=l||C.type}const p=n.parse(t[t.length-1],t.length-1,l);return p?new Cl(l,h,p):null}evaluate(t){for(const[n,l]of this.branches)if(n.evaluate(t))return l.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,l]of this.branches)t(n),t(l);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var Zu=Cl;class s_{constructor(t,n,l,h){this.type=t,this.input=n,this.beginIndex=l,this.endIndex=h}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const l=n.parse(t[1],1,Pr),h=n.parse(t[2],2,pn);if(!l||!h)return null;if(!ge(l.type,[Zs(Pr),br,Pr]))return n.error(`Expected first argument to be of type array or string, but found ${cs(l.type)} instead`);if(t.length===4){const p=n.parse(t[3],3,pn);return p?new s_(l.type,l,h,p):null}return new s_(l.type,l,h)}evaluate(t){const n=this.input.evaluate(t),l=this.beginIndex.evaluate(t);if(!Ye(n,["string","array"]))throw new rn(`Expected first argument to be of type array or string, but found ${cs(mi(n))} instead.`);if(this.endIndex){const h=this.endIndex.evaluate(t);return n.slice(l,h)}return n.slice(l)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Bc=s_;function S_(i,t){return i==="=="||i==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function o_(i,t,n,l){return l.compare(t,n)===0}function va(i,t,n){const l=i!=="=="&&i!=="!=";return class am{constructor(p,y,v){this.type=xr,this.lhs=p,this.rhs=y,this.collator=v,this.hasUntypedArgument=p.type.kind==="value"||y.type.kind==="value"}static parse(p,y){if(p.length!==3&&p.length!==4)return y.error("Expected two or three arguments.");const v=p[0];let C=y.parse(p[1],1,Pr);if(!C)return null;if(!S_(v,C.type))return y.concat(1).error(`"${v}" comparisons are not supported for type '${cs(C.type)}'.`);let w=y.parse(p[2],2,Pr);if(!w)return null;if(!S_(v,w.type))return y.concat(2).error(`"${v}" comparisons are not supported for type '${cs(w.type)}'.`);if(C.type.kind!==w.type.kind&&C.type.kind!=="value"&&w.type.kind!=="value")return y.error(`Cannot compare types '${cs(C.type)}' and '${cs(w.type)}'.`);l&&(C.type.kind==="value"&&w.type.kind!=="value"?C=new Bn(w.type,[C]):C.type.kind!=="value"&&w.type.kind==="value"&&(w=new Bn(C.type,[w])));let R=null;if(p.length===4){if(C.type.kind!=="string"&&w.type.kind!=="string"&&C.type.kind!=="value"&&w.type.kind!=="value")return y.error("Cannot use collator to compare non-string types.");if(R=y.parse(p[3],3,na),!R)return null}return new am(C,w,R)}evaluate(p){const y=this.lhs.evaluate(p),v=this.rhs.evaluate(p);if(l&&this.hasUntypedArgument){const C=mi(y),w=mi(v);if(C.kind!==w.kind||C.kind!=="string"&&C.kind!=="number")throw new rn(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${C.kind}, ${w.kind}) instead.`)}if(this.collator&&!l&&this.hasUntypedArgument){const C=mi(y),w=mi(v);if(C.kind!=="string"||w.kind!=="string")return t(p,y,v)}return this.collator?n(p,y,v,this.collator.evaluate(p)):t(p,y,v)}eachChild(p){p(this.lhs),p(this.rhs),this.collator&&p(this.collator)}outputDefined(){return!0}serialize(){const p=[i];return this.eachChild(y=>{p.push(y.serialize())}),p}}}const al=va("==",function(i,t,n){return t===n},o_),ja=va("!=",function(i,t,n){return t!==n},function(i,t,n,l){return!o_(0,t,n,l)}),Pl=va("<",function(i,t,n){return t<n},function(i,t,n,l){return l.compare(t,n)<0}),Xu=va(">",function(i,t,n){return t>n},function(i,t,n,l){return l.compare(t,n)>0}),x_=va("<=",function(i,t,n){return t<=n},function(i,t,n,l){return l.compare(t,n)<=0}),i0=va(">=",function(i,t,n){return t>=n},function(i,t,n,l){return l.compare(t,n)>=0});class Nl{constructor(t,n,l,h,p,y){this.type=br,this.number=t,this.locale=n,this.currency=l,this.unit=h,this.minFractionDigits=p,this.maxFractionDigits=y}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const l=n.parse(t[1],1,pn);if(!l)return null;const h=t[2];if(typeof h!="object"||Array.isArray(h))return n.error("NumberFormat options argument must be an object.");let p=null;if(h.locale&&(p=n.parse(h.locale,1,br),!p))return null;let y=null;if(h.currency&&(y=n.parse(h.currency,1,br),!y))return null;let v=null;if(h.unit&&(v=n.parse(h.unit,1,br),!v))return null;let C=null;if(h["min-fraction-digits"]&&(C=n.parse(h["min-fraction-digits"],1,pn),!C))return null;let w=null;return h["max-fraction-digits"]&&(w=n.parse(h["max-fraction-digits"],1,pn),!w)?null:new Nl(l,p,y,v,C,w)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class _0{constructor(t){this.type=pn,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const l=n.parse(t[1],1);return l?l.type.kind!=="array"&&l.type.kind!=="string"&&l.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${cs(l.type)} instead.`):new _0(l):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string"||Array.isArray(n))return n.length;throw new rn(`Expected value to be of type string or array, but found ${cs(mi(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(n=>{t.push(n.serialize())}),t}}const lu={"==":al,"!=":ja,">":Xu,"<":Pl,">=":i0,"<=":x_,array:Bn,at:ol,boolean:Bn,case:Zu,coalesce:ou,collator:So,format:nr,image:rr,in:au,"index-of":Zr,interpolate:ya,"interpolate-hcl":ya,"interpolate-lab":ya,length:_0,let:l0,literal:Ii,match:Ja,number:Bn,"number-format":Nl,object:Bn,slice:Bc,step:Sl,string:Bn,"to-boolean":Ki,"to-color":Ki,"to-number":Ki,"to-string":Ki,var:e_,within:K0};function w0(i,[t,n,l,h]){t=t.evaluate(i),n=n.evaluate(i),l=l.evaluate(i);const p=h?h.evaluate(i):1,y=qi(t,n,l,p);if(y)throw new rn(y);return new Ae(t/255*p,n/255*p,l/255*p,p)}function C_(i,t){return i in t}function wl(i,t){const n=t[i];return n===void 0?null:n}function Go(i){return{type:i}}or.register(lu,{error:[{kind:"error"},[br],(i,[t])=>{throw new rn(t.evaluate(i))}],typeof:[br,[Pr],(i,[t])=>cs(mi(t.evaluate(i)))],"to-rgba":[Zs(pn,4),[Es],(i,[t])=>t.evaluate(i).toArray()],rgb:[Es,[pn,pn,pn],w0],rgba:[Es,[pn,pn,pn,pn],w0],has:{type:xr,overloads:[[[br],(i,[t])=>C_(t.evaluate(i),i.properties())],[[br,Da],(i,[t,n])=>C_(t.evaluate(i),n.evaluate(i))]]},get:{type:Pr,overloads:[[[br],(i,[t])=>wl(t.evaluate(i),i.properties())],[[br,Da],(i,[t,n])=>wl(t.evaluate(i),n.evaluate(i))]]},"feature-state":[Pr,[br],(i,[t])=>wl(t.evaluate(i),i.featureState||{})],properties:[Da,[],i=>i.properties()],"geometry-type":[br,[],i=>i.geometryType()],id:[Pr,[],i=>i.id()],zoom:[pn,[],i=>i.globals.zoom],pitch:[pn,[],i=>i.globals.pitch||0],"distance-from-center":[pn,[],i=>i.distanceFromCenter()],"heatmap-density":[pn,[],i=>i.globals.heatmapDensity||0],"line-progress":[pn,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[pn,[],i=>i.globals.skyRadialProgress||0],accumulated:[Pr,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[pn,Go(pn),(i,t)=>{let n=0;for(const l of t)n+=l.evaluate(i);return n}],"*":[pn,Go(pn),(i,t)=>{let n=1;for(const l of t)n*=l.evaluate(i);return n}],"-":{type:pn,overloads:[[[pn,pn],(i,[t,n])=>t.evaluate(i)-n.evaluate(i)],[[pn],(i,[t])=>-t.evaluate(i)]]},"/":[pn,[pn,pn],(i,[t,n])=>t.evaluate(i)/n.evaluate(i)],"%":[pn,[pn,pn],(i,[t,n])=>t.evaluate(i)%n.evaluate(i)],ln2:[pn,[],()=>Math.LN2],pi:[pn,[],()=>Math.PI],e:[pn,[],()=>Math.E],"^":[pn,[pn,pn],(i,[t,n])=>Math.pow(t.evaluate(i),n.evaluate(i))],sqrt:[pn,[pn],(i,[t])=>Math.sqrt(t.evaluate(i))],log10:[pn,[pn],(i,[t])=>Math.log(t.evaluate(i))/Math.LN10],ln:[pn,[pn],(i,[t])=>Math.log(t.evaluate(i))],log2:[pn,[pn],(i,[t])=>Math.log(t.evaluate(i))/Math.LN2],sin:[pn,[pn],(i,[t])=>Math.sin(t.evaluate(i))],cos:[pn,[pn],(i,[t])=>Math.cos(t.evaluate(i))],tan:[pn,[pn],(i,[t])=>Math.tan(t.evaluate(i))],asin:[pn,[pn],(i,[t])=>Math.asin(t.evaluate(i))],acos:[pn,[pn],(i,[t])=>Math.acos(t.evaluate(i))],atan:[pn,[pn],(i,[t])=>Math.atan(t.evaluate(i))],min:[pn,Go(pn),(i,t)=>Math.min(...t.map(n=>n.evaluate(i)))],max:[pn,Go(pn),(i,t)=>Math.max(...t.map(n=>n.evaluate(i)))],abs:[pn,[pn],(i,[t])=>Math.abs(t.evaluate(i))],round:[pn,[pn],(i,[t])=>{const n=t.evaluate(i);return n<0?-Math.round(-n):Math.round(n)}],floor:[pn,[pn],(i,[t])=>Math.floor(t.evaluate(i))],ceil:[pn,[pn],(i,[t])=>Math.ceil(t.evaluate(i))],"filter-==":[xr,[br,Pr],(i,[t,n])=>i.properties()[t.value]===n.value],"filter-id-==":[xr,[Pr],(i,[t])=>i.id()===t.value],"filter-type-==":[xr,[br],(i,[t])=>i.geometryType()===t.value],"filter-<":[xr,[br,Pr],(i,[t,n])=>{const l=i.properties()[t.value],h=n.value;return typeof l==typeof h&&l<h}],"filter-id-<":[xr,[Pr],(i,[t])=>{const n=i.id(),l=t.value;return typeof n==typeof l&&n<l}],"filter->":[xr,[br,Pr],(i,[t,n])=>{const l=i.properties()[t.value],h=n.value;return typeof l==typeof h&&l>h}],"filter-id->":[xr,[Pr],(i,[t])=>{const n=i.id(),l=t.value;return typeof n==typeof l&&n>l}],"filter-<=":[xr,[br,Pr],(i,[t,n])=>{const l=i.properties()[t.value],h=n.value;return typeof l==typeof h&&l<=h}],"filter-id-<=":[xr,[Pr],(i,[t])=>{const n=i.id(),l=t.value;return typeof n==typeof l&&n<=l}],"filter->=":[xr,[br,Pr],(i,[t,n])=>{const l=i.properties()[t.value],h=n.value;return typeof l==typeof h&&l>=h}],"filter-id->=":[xr,[Pr],(i,[t])=>{const n=i.id(),l=t.value;return typeof n==typeof l&&n>=l}],"filter-has":[xr,[Pr],(i,[t])=>t.value in i.properties()],"filter-has-id":[xr,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[xr,[Zs(br)],(i,[t])=>t.value.indexOf(i.geometryType())>=0],"filter-id-in":[xr,[Zs(Pr)],(i,[t])=>t.value.indexOf(i.id())>=0],"filter-in-small":[xr,[br,Zs(Pr)],(i,[t,n])=>n.value.indexOf(i.properties()[t.value])>=0],"filter-in-large":[xr,[br,Zs(Pr)],(i,[t,n])=>function(l,h,p,y){for(;p<=y;){const v=p+y>>1;if(h[v]===l)return!0;h[v]>l?y=v-1:p=v+1}return!1}(i.properties()[t.value],n.value,0,n.value.length-1)],all:{type:xr,overloads:[[[xr,xr],(i,[t,n])=>t.evaluate(i)&&n.evaluate(i)],[Go(xr),(i,t)=>{for(const n of t)if(!n.evaluate(i))return!1;return!0}]]},any:{type:xr,overloads:[[[xr,xr],(i,[t,n])=>t.evaluate(i)||n.evaluate(i)],[Go(xr),(i,t)=>{for(const n of t)if(n.evaluate(i))return!0;return!1}]]},"!":[xr,[xr],(i,[t])=>!t.evaluate(i)],"is-supported-script":[xr,[br],(i,[t])=>{const n=i.globals&&i.globals.isSupportedScript;return!n||n(t.evaluate(i))}],upcase:[br,[br],(i,[t])=>t.evaluate(i).toUpperCase()],downcase:[br,[br],(i,[t])=>t.evaluate(i).toLowerCase()],concat:[br,Go(Pr),(i,t)=>t.map(n=>gi(n.evaluate(i))).join("")],"resolved-locale":[br,[na],(i,[t])=>t.evaluate(i).resolvedLocale()]});var Ha=lu;function _u(i){return{result:"success",value:i}}function ca(i){return{result:"error",value:i}}function ll(i){return i["property-type"]==="data-driven"}function E0(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function a_(i){return!!i.expression&&i.expression.interpolated}function ts(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":i===null?"null":typeof i}function El(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function Ku(i){return i}function Ml(i,t){const n=t.type==="color",l=i.stops&&typeof i.stops[0][0]=="object",h=l||!(l||i.property!==void 0),p=i.type||(a_(t)?"exponential":"interval");if(n&&((i=jo({},i)).stops&&(i.stops=i.stops.map(w=>[w[0],Ae.parse(w[1])])),i.default=Ae.parse(i.default?i.default:t.default)),i.colorSpace&&i.colorSpace!=="rgb"&&!r_[i.colorSpace])throw new Error(`Unknown color space: ${i.colorSpace}`);let y,v,C;if(p==="exponential")y=cu;else if(p==="interval")y=Qu;else if(p==="categorical"){y=uu,v=Object.create(null);for(const w of i.stops)v[w[0]]=w[1];C=typeof i.stops[0][0]}else{if(p!=="identity")throw new Error(`Unknown function type "${p}"`);y=hu}if(l){const w={},R=[];for(let K=0;K<i.stops.length;K++){const re=i.stops[K],pe=re[0].zoom;w[pe]===void 0&&(w[pe]={zoom:pe,type:i.type,property:i.property,default:i.default,stops:[]},R.push(pe)),w[pe].stops.push([re[0].value,re[1]])}const W=[];for(const K of R)W.push([w[K].zoom,Ml(w[K],t)]);const V={name:"linear"};return{kind:"composite",interpolationType:V,interpolationFactor:ya.interpolationFactor.bind(void 0,V),zoomStops:W.map(K=>K[0]),evaluate:({zoom:K},re)=>cu({stops:W,base:i.base},t,K).evaluate(K,re)}}if(h){const w=p==="exponential"?{name:"exponential",base:i.base!==void 0?i.base:1}:null;return{kind:"camera",interpolationType:w,interpolationFactor:ya.interpolationFactor.bind(void 0,w),zoomStops:i.stops.map(R=>R[0]),evaluate:({zoom:R})=>y(i,t,R,v,C)}}return{kind:"source",evaluate(w,R){const W=R&&R.properties?R.properties[i.property]:void 0;return W===void 0?M0(i.default,t.default):y(i,t,W,v,C)}}}function M0(i,t,n){return i!==void 0?i:t!==void 0?t:n!==void 0?n:void 0}function uu(i,t,n,l,h){return M0(typeof n===h?l[n]:void 0,i.default,t.default)}function Qu(i,t,n){if(ts(n)!=="number")return M0(i.default,t.default);const l=i.stops.length;if(l===1||n<=i.stops[0][0])return i.stops[0][1];if(n>=i.stops[l-1][0])return i.stops[l-1][1];const h=vl(i.stops.map(p=>p[0]),n);return i.stops[h][1]}function cu(i,t,n){const l=i.base!==void 0?i.base:1;if(ts(n)!=="number")return M0(i.default,t.default);const h=i.stops.length;if(h===1||n<=i.stops[0][0])return i.stops[0][1];if(n>=i.stops[h-1][0])return i.stops[h-1][1];const p=vl(i.stops.map(R=>R[0]),n),y=function(R,W,V,K){const re=K-V,pe=R-V;return re===0?0:W===1?pe/re:(Math.pow(W,pe)-1)/(Math.pow(W,re)-1)}(n,l,i.stops[p][0],i.stops[p+1][0]),v=i.stops[p][1],C=i.stops[p+1][1];let w=P0[t.type]||Ku;if(i.colorSpace&&i.colorSpace!=="rgb"){const R=r_[i.colorSpace];w=(W,V)=>R.reverse(R.interpolate(R.forward(W),R.forward(V),y))}return typeof v.evaluate=="function"?{evaluate(...R){const W=v.evaluate.apply(void 0,R),V=C.evaluate.apply(void 0,R);if(W!==void 0&&V!==void 0)return w(W,V,y)}}:w(v,C,y)}function hu(i,t,n){return t.type==="color"?n=Ae.parse(n):t.type==="formatted"?n=Bt.fromString(n.toString()):t.type==="resolvedImage"?n=di.fromString(n.toString()):ts(n)===t.type||t.type==="enum"&&t.values[n]||(n=void 0),M0(n,i.default,t.default)}class P_{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new pr,this._defaultValue=n?function(l){return l.type==="color"&&(El(l.default)||Array.isArray(l.default))?new Ae(0,0,0,0):l.type==="color"?Ae.parse(l.default)||null:l.default===void 0?null:l.default}(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,l,h,p,y,v,C){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=l,this._evaluator.canonical=h||null,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=y,this._evaluator.featureTileCoord=v||null,this._evaluator.featureDistanceData=C||null,this.expression.evaluate(this._evaluator)}evaluate(t,n,l,h,p,y,v,C){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=l||null,this._evaluator.canonical=h||null,this._evaluator.availableImages=p||null,this._evaluator.formattedSection=y||null,this._evaluator.featureTileCoord=v||null,this._evaluator.featureDistanceData=C||null;try{const w=this.expression.evaluate(this._evaluator);if(w==null||typeof w=="number"&&w!=w)return this._defaultValue;if(this._enumValues&&!(w in this._enumValues))throw new rn(`Expected value to be one of ${Object.keys(this._enumValues).map(R=>JSON.stringify(R)).join(", ")}, but found ${JSON.stringify(w)} instead.`);return w}catch(w){return this._warningHistory[w.message]||(this._warningHistory[w.message]=!0,typeof console<"u"&&console.warn(w.message)),this._defaultValue}}}function l_(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in Ha}function I0(i,t){const n=new ua(Ha,[],t?function(h){const p={color:Es,string:br,number:pn,enum:br,boolean:xr,formatted:ma,resolvedImage:xs};return h.type==="array"?Zs(p[h.value]||Pr,h.length):p[h.type]}(t):void 0),l=n.parse(i,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return l?_u(new P_(l,t)):ca(n.errors)}class k0{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!mr(n.expression)}evaluateWithoutErrorHandling(t,n,l,h,p,y){return this._styleExpression.evaluateWithoutErrorHandling(t,n,l,h,p,y)}evaluate(t,n,l,h,p,y){return this._styleExpression.evaluate(t,n,l,h,p,y)}}class N_{constructor(t,n,l,h){this.kind=t,this.zoomStops=l,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!mr(n.expression),this.interpolationType=h}evaluateWithoutErrorHandling(t,n,l,h,p,y){return this._styleExpression.evaluateWithoutErrorHandling(t,n,l,h,p,y)}evaluate(t,n,l,h,p,y){return this._styleExpression.evaluate(t,n,l,h,p,y)}interpolationFactor(t,n,l){return this.interpolationType?ya.interpolationFactor(this.interpolationType,t,n,l):0}}function Il(i,t){if((i=I0(i,t)).result==="error")return i;const n=i.value.expression,l=eo(n);if(!l&&!ll(t))return ca([new Tn("","data expressions not supported")]);const h=bl(n,["zoom","pitch","distance-from-center"]);if(!h&&!E0(t))return ca([new Tn("","zoom expressions not supported")]);const p=kl(n);return p||h?p instanceof Tn?ca([p]):p instanceof ya&&!a_(t)?ca([new Tn("",'"interpolate" expressions cannot be used with this property')]):_u(p?new N_(l?"camera":"composite",i.value,p.labels,p instanceof ya?p.interpolation:void 0):new k0(l?"constant":"source",i.value)):ca([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class u0{constructor(t,n){this._parameters=t,this._specification=n,jo(this,Ml(this._parameters,this._specification))}static deserialize(t){return new u0(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function kl(i){let t=null;if(i instanceof l0)t=kl(i.result);else if(i instanceof ou){for(const n of i.args)if(t=kl(n),t)break}else(i instanceof Sl||i instanceof ya)&&i.input instanceof or&&i.input.name==="zoom"&&(t=i);return t instanceof Tn||i.eachChild(n=>{const l=kl(n);l instanceof Tn?t=l:!t&&l?t=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&l&&t!==l&&(t=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}class Sn{constructor(t,n,l,h){this.message=(t?`${t}: `:"")+l,h&&(this.identifier=h),n!=null&&n.__line__&&(this.line=n.__line__)}}function Fa(i){const t=i.key,n=i.value,l=i.valueSpec||{},h=i.objectElementValidators||{},p=i.style,y=i.styleSpec;let v=[];const C=ts(n);if(C!=="object")return[new Sn(t,n,`object expected, ${C} found`)];for(const w in n){const R=w.split(".")[0],W=l[R]||l["*"];let V;h[R]?V=h[R]:l[R]?V=Zo:h["*"]?V=h["*"]:l["*"]&&(V=Zo),V?v=v.concat(V({key:(t&&`${t}.`)+w,value:n[w],valueSpec:W,style:p,styleSpec:y,object:n,objectKey:w},n)):v.push(new Sn(t,n[w],`unknown property "${w}"`))}for(const w in l)h[w]||l[w].required&&l[w].default===void 0&&n[w]===void 0&&v.push(new Sn(t,n,`missing required property "${w}"`));return v}function Ll(i){const t=i.value,n=i.valueSpec,l=i.style,h=i.styleSpec,p=i.key,y=i.arrayElementValidator||Zo;if(ts(t)!=="array")return[new Sn(p,t,`array expected, ${ts(t)} found`)];if(n.length&&t.length!==n.length)return[new Sn(p,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Sn(p,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let v={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};h.$version<7&&(v.function=n.function),ts(n.value)==="object"&&(v=n.value);let C=[];for(let w=0;w<t.length;w++)C=C.concat(y({array:t,arrayIndex:w,value:t[w],valueSpec:v,style:l,styleSpec:h,key:`${p}[${w}]`}));return C}function c0(i){const t=i.key,n=i.value,l=i.valueSpec;let h=ts(n);if(h==="number"&&n!=n&&(h="NaN"),h!=="number")return[new Sn(t,n,`number expected, ${h} found`)];if("minimum"in l){let p=l.minimum;if(ts(l.minimum)==="array"&&(p=l.minimum[i.arrayIndex]),n<p)return[new Sn(t,n,`${n} is less than the minimum value ${p}`)]}if("maximum"in l){let p=l.maximum;if(ts(l.maximum)==="array"&&(p=l.maximum[i.arrayIndex]),n>p)return[new Sn(t,n,`${n} is greater than the maximum value ${p}`)]}return[]}function du(i){const t=i.valueSpec,n=Ss(i.value.type);let l,h,p,y={};const v=n!=="categorical"&&i.value.property===void 0,C=!v,w=ts(i.value.stops)==="array"&&ts(i.value.stops[0])==="array"&&ts(i.value.stops[0][0])==="object",R=Fa({key:i.key,value:i.value,valueSpec:i.styleSpec.function,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(K){if(n==="identity")return[new Sn(K.key,K.value,'identity function may not have a "stops" property')];let re=[];const pe=K.value;return re=re.concat(Ll({key:K.key,value:pe,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:W})),ts(pe)==="array"&&pe.length===0&&re.push(new Sn(K.key,pe,"array must have at least one stop")),re},default:function(K){return Zo({key:K.key,value:K.value,valueSpec:t,style:K.style,styleSpec:K.styleSpec})}}});return n==="identity"&&v&&R.push(new Sn(i.key,i.value,'missing required property "property"')),n==="identity"||i.value.stops||R.push(new Sn(i.key,i.value,'missing required property "stops"')),n==="exponential"&&i.valueSpec.expression&&!a_(i.valueSpec)&&R.push(new Sn(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(C&&!ll(i.valueSpec)?R.push(new Sn(i.key,i.value,"property functions not supported")):v&&!E0(i.valueSpec)&&R.push(new Sn(i.key,i.value,"zoom functions not supported"))),n!=="categorical"&&!w||i.value.property!==void 0||R.push(new Sn(i.key,i.value,'"property" property is required')),R;function W(K){let re=[];const pe=K.value,Pe=K.key;if(ts(pe)!=="array")return[new Sn(Pe,pe,`array expected, ${ts(pe)} found`)];if(pe.length!==2)return[new Sn(Pe,pe,`array length 2 expected, length ${pe.length} found`)];if(w){if(ts(pe[0])!=="object")return[new Sn(Pe,pe,`object expected, ${ts(pe[0])} found`)];if(pe[0].zoom===void 0)return[new Sn(Pe,pe,"object stop key must have zoom")];if(pe[0].value===void 0)return[new Sn(Pe,pe,"object stop key must have value")];const je=Ss(pe[0].zoom);if(typeof je!="number")return[new Sn(Pe,pe[0].zoom,"stop zoom values must be numbers")];if(p&&p>je)return[new Sn(Pe,pe[0].zoom,"stop zoom values must appear in ascending order")];je!==p&&(p=je,h=void 0,y={}),re=re.concat(Fa({key:`${Pe}[0]`,value:pe[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:c0,value:V}}))}else re=re.concat(V({key:`${Pe}[0]`,value:pe[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},pe));return l_(uo(pe[1]))?re.concat([new Sn(`${Pe}[1]`,pe[1],"expressions are not allowed in function stops.")]):re.concat(Zo({key:`${Pe}[1]`,value:pe[1],valueSpec:t,style:K.style,styleSpec:K.styleSpec}))}function V(K,re){const pe=ts(K.value),Pe=Ss(K.value),je=K.value!==null?K.value:re;if(l){if(pe!==l)return[new Sn(K.key,je,`${pe} stop domain type must match previous stop domain type ${l}`)]}else l=pe;if(pe!=="number"&&pe!=="string"&&pe!=="boolean"&&typeof Pe!="number"&&typeof Pe!="string"&&typeof Pe!="boolean")return[new Sn(K.key,je,"stop domain value must be a number, string, or boolean")];if(pe!=="number"&&n!=="categorical"){let lt=`number expected, ${pe} found`;return ll(t)&&n===void 0&&(lt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Sn(K.key,je,lt)]}return n!=="categorical"||pe!=="number"||typeof Pe=="number"&&isFinite(Pe)&&Math.floor(Pe)===Pe?n!=="categorical"&&pe==="number"&&typeof Pe=="number"&&typeof h=="number"&&h!==void 0&&Pe<h?[new Sn(K.key,je,"stop domain values must appear in ascending order")]:(h=Pe,n==="categorical"&&Pe in y?[new Sn(K.key,je,"stop domain values must be unique")]:(y[Pe]=!0,[])):[new Sn(K.key,je,`integer expected, found ${String(Pe)}`)]}}function _l(i){const t=(i.expressionContext==="property"?Il:I0)(uo(i.value),i.valueSpec);if(t.result==="error")return t.value.map(l=>new Sn(`${i.key}${l.key}`,i.value,l.message));const n=t.value.expression||t.value._styleExpression.expression;if(i.expressionContext==="property"&&i.propertyKey==="text-font"&&!n.outputDefined())return[new Sn(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if(i.expressionContext==="property"&&i.propertyType==="layout"&&!mr(n))return[new Sn(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if(i.expressionContext==="filter")return L0(n,i);if(i.expressionContext&&i.expressionContext.indexOf("cluster")===0){if(!bl(n,["zoom","feature-state"]))return[new Sn(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(i.expressionContext==="cluster-initial"&&!eo(n))return[new Sn(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function L0(i,t){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const h of t.valueSpec.expression.parameters)n.delete(h);if(n.size===0)return[];const l=[];return i instanceof or&&n.has(i.name)?[new Sn(t.key,t.value,`["${i.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(i.eachChild(h=>{l.push(...L0(h,t))}),l)}function __(i){const t=i.key,n=i.value,l=i.valueSpec,h=[];return Array.isArray(l.values)?l.values.indexOf(Ss(n))===-1&&h.push(new Sn(t,n,`expected one of [${l.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(l.values).indexOf(Ss(n))===-1&&h.push(new Sn(t,n,`expected one of [${Object.keys(l.values).join(", ")}], ${JSON.stringify(n)} found`)),h}function Ya(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const t of i.slice(1))if(!Ya(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function ho(i,t="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Ya(i)||(i=h0(i));const n=i;let l=!0;try{l=function(w){if(!D0(w))return w;let R=uo(w);return Dl(R),R=Is(R),R}(n)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(n,null,2)}
        `)}const h=ui[`filter_${t}`],p=I0(l,h);let y=null;if(p.result==="error")throw new Error(p.value.map(w=>`${w.key}: ${w.message}`).join(", "));y=(w,R,W)=>p.value.evaluate(w,R,{},W);let v=null,C=null;if(l!==n){const w=I0(n,h);if(w.result==="error")throw new Error(w.value.map(R=>`${R.key}: ${R.message}`).join(", "));v=(R,W,V,K,re)=>w.value.evaluate(R,W,{},V,void 0,void 0,K,re),C=!eo(w.value.expression)}return{filter:y,dynamicFilter:v||void 0,needGeometry:pu(l),needFeature:!!C}}function Is(i){if(!Array.isArray(i))return i;const t=function(n){if(Sa.has(n[0])){for(let l=1;l<n.length;l++)if(D0(n[l]))return!0}return n}(i);return t===!0?t:t.map(n=>Is(n))}function Dl(i){let t=!1;const n=[];if(i[0]==="case"){for(let l=1;l<i.length-1;l+=2)t=t||D0(i[l]),n.push(i[l+1]);n.push(i[i.length-1])}else if(i[0]==="match"){t=t||D0(i[1]);for(let l=2;l<i.length-1;l+=2)n.push(i[l+1]);n.push(i[i.length-1])}else if(i[0]==="step"){t=t||D0(i[1]);for(let l=1;l<i.length-1;l+=2)n.push(i[l+1])}t&&(i.length=0,i.push("any",...n));for(let l=1;l<i.length;l++)Dl(i[l])}function D0(i){if(!Array.isArray(i))return!1;if((t=i[0])==="pitch"||t==="distance-from-center")return!0;var t;for(let n=1;n<i.length;n++)if(D0(i[n]))return!0;return!1}const Sa=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ec(i,t){return i<t?-1:i>t?1:0}function pu(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let t=1;t<i.length;t++)if(pu(i[t]))return!0;return!1}function h0(i){if(!i)return!0;const t=i[0];return i.length<=1?t!=="any":t==="=="?w_(i[1],i[2],"=="):t==="!="?c_(w_(i[1],i[2],"==")):t==="<"||t===">"||t==="<="||t===">="?w_(i[1],i[2],t):t==="any"?(n=i.slice(1),["any"].concat(n.map(h0))):t==="all"?["all"].concat(i.slice(1).map(h0)):t==="none"?["all"].concat(i.slice(1).map(h0).map(c_)):t==="in"?u_(i[1],i.slice(2)):t==="!in"?c_(u_(i[1],i.slice(2))):t==="has"?tc(i[1]):t==="!has"?c_(tc(i[1])):t!=="within"||i;var n}function w_(i,t,n){switch(i){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,i,t]}}function u_(i,t){if(t.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",i,["literal",t.sort(ec)]]:["filter-in-small",i,["literal",t]]}}function tc(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function c_(i){return["!",i]}function ul(i){return Ya(uo(i.value))?_l(jo({},i,{expressionContext:"filter",valueSpec:i.styleSpec[`filter_${i.layerType||"fill"}`]})):ic(i)}function ic(i){const t=i.value,n=i.key;if(ts(t)!=="array")return[new Sn(n,t,`array expected, ${ts(t)} found`)];const l=i.styleSpec;let h,p=[];if(t.length<1)return[new Sn(n,t,"filter array must have at least 1 element")];switch(p=p.concat(__({key:`${n}[0]`,value:t[0],valueSpec:l.filter_operator,style:i.style,styleSpec:i.styleSpec})),Ss(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&Ss(t[1])==="$type"&&p.push(new Sn(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&p.push(new Sn(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(h=ts(t[1]),h!=="string"&&p.push(new Sn(`${n}[1]`,t[1],`string expected, ${h} found`)));for(let y=2;y<t.length;y++)h=ts(t[y]),Ss(t[1])==="$type"?p=p.concat(__({key:`${n}[${y}]`,value:t[y],valueSpec:l.geometry_type,style:i.style,styleSpec:i.styleSpec})):h!=="string"&&h!=="number"&&h!=="boolean"&&p.push(new Sn(`${n}[${y}]`,t[y],`string, number, or boolean expected, ${h} found`));break;case"any":case"all":case"none":for(let y=1;y<t.length;y++)p=p.concat(ic({key:`${n}[${y}]`,value:t[y],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":h=ts(t[1]),t.length!==2?p.push(new Sn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):h!=="string"&&p.push(new Sn(`${n}[1]`,t[1],`string expected, ${h} found`));break;case"within":h=ts(t[1]),t.length!==2?p.push(new Sn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):h!=="object"&&p.push(new Sn(`${n}[1]`,t[1],`object expected, ${h} found`))}return p}function E_(i,t){const n=i.key,l=i.style,h=i.styleSpec,p=i.value,y=i.objectKey,v=h[`${t}_${i.layerType}`];if(!v)return[];const C=y.match(/^(.*)-transition$/);if(t==="paint"&&C&&v[C[1]]&&v[C[1]].transition)return Zo({key:n,value:p,valueSpec:h.transition,style:l,styleSpec:h});const w=i.valueSpec||v[y];if(!w)return[new Sn(n,p,`unknown property "${y}"`)];let R;if(ts(p)==="string"&&ll(w)&&!w.tokens&&(R=/^{([^}]+)}$/.exec(p)))return[new Sn(n,p,`"${y}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(R[1])} }\`.`)];const W=[];return i.layerType==="symbol"&&(y==="text-field"&&l&&!l.glyphs&&W.push(new Sn(n,p,'use of "text-field" requires a style "glyphs" property')),y==="text-font"&&El(uo(p))&&Ss(p.type)==="identity"&&W.push(new Sn(n,p,'"text-font" does not support identity functions'))),W.concat(Zo({key:i.key,value:p,valueSpec:w,style:l,styleSpec:h,expressionContext:"property",propertyType:t,propertyKey:y}))}function M_(i){return E_(i,"paint")}function nc(i){return E_(i,"layout")}function I_(i){let t=[];const n=i.value,l=i.key,h=i.style,p=i.styleSpec;n.type||n.ref||t.push(new Sn(l,n,'either "type" or "ref" is required'));let y=Ss(n.type);const v=Ss(n.ref);if(n.id){const C=Ss(n.id);for(let w=0;w<i.arrayIndex;w++){const R=h.layers[w];Ss(R.id)===C&&t.push(new Sn(l,n.id,`duplicate layer id "${n.id}", previously used at line ${R.id.__line__}`))}}if("ref"in n){let C;["type","source","source-layer","filter","layout"].forEach(w=>{w in n&&t.push(new Sn(l,n[w],`"${w}" is prohibited for ref layers`))}),h.layers.forEach(w=>{Ss(w.id)===v&&(C=w)}),C?C.ref?t.push(new Sn(l,n.ref,"ref cannot reference another ref layer")):y=Ss(C.type):typeof v=="string"&&t.push(new Sn(l,n.ref,`ref layer "${v}" not found`))}else if(y!=="background"&&y!=="sky")if(n.source){const C=h.sources&&h.sources[n.source],w=C&&Ss(C.type);C?w==="vector"&&y==="raster"?t.push(new Sn(l,n.source,`layer "${n.id}" requires a raster source`)):w==="raster"&&y!=="raster"?t.push(new Sn(l,n.source,`layer "${n.id}" requires a vector source`)):w!=="vector"||n["source-layer"]?w==="raster-dem"&&y!=="hillshade"?t.push(new Sn(l,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):y!=="line"||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||w==="geojson"&&C.lineMetrics||t.push(new Sn(l,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Sn(l,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new Sn(l,n.source,`source "${n.source}" not found`))}else t.push(new Sn(l,n,'missing required property "source"'));return t=t.concat(Fa({key:l,value:n,valueSpec:p.layer,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Zo({key:`${l}.type`,value:n.type,valueSpec:p.layer.type,style:i.style,styleSpec:i.styleSpec,object:n,objectKey:"type"}),filter:C=>ul(jo({layerType:y},C)),layout:C=>Fa({layer:n,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":w=>nc(jo({layerType:y},w))}}),paint:C=>Fa({layer:n,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":w=>M_(jo({layerType:y},w))}})}})),t}function d0(i){const t=i.value,n=i.key,l=ts(t);return l!=="string"?[new Sn(n,t,`string expected, ${l} found`)]:[]}const h_={promoteId:function({key:i,value:t}){if(ts(t)==="string")return d0({key:i,value:t});{const n=[];for(const l in t)n.push(...d0({key:`${i}.${l}`,value:t[l]}));return n}}};function cl(i){const t=i.value,n=i.key,l=i.styleSpec,h=i.style;if(!t.type)return[new Sn(n,t,'"type" is required')];const p=Ss(t.type);let y;switch(p){case"vector":case"raster":case"raster-dem":return y=Fa({key:n,value:t,valueSpec:l[`source_${p.replace("-","_")}`],style:i.style,styleSpec:l,objectElementValidators:h_}),y;case"geojson":if(y=Fa({key:n,value:t,valueSpec:l.source_geojson,style:h,styleSpec:l,objectElementValidators:h_}),t.cluster)for(const v in t.clusterProperties){const[C,w]=t.clusterProperties[v],R=typeof C=="string"?[C,["accumulated"],["get",v]]:C;y.push(..._l({key:`${n}.${v}.map`,value:w,expressionContext:"cluster-map"})),y.push(..._l({key:`${n}.${v}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return y;case"video":return Fa({key:n,value:t,valueSpec:l.source_video,style:h,styleSpec:l});case"image":return Fa({key:n,value:t,valueSpec:l.source_image,style:h,styleSpec:l});case"canvas":return[new Sn(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return __({key:`${n}.type`,value:t.type,valueSpec:{values:rc(l)},style:h,styleSpec:l})}}function rc(i){return i.source.reduce((t,n)=>{const l=i[n];return l.type.type==="enum"&&(t=t.concat(Object.keys(l.type.values))),t},[])}function sc(i){const t=i.value,n=i.styleSpec,l=n.light,h=i.style;let p=[];const y=ts(t);if(t===void 0)return p;if(y!=="object")return p=p.concat([new Sn("light",t,`object expected, ${y} found`)]),p;for(const v in t){const C=v.match(/^(.*)-transition$/);p=p.concat(C&&l[C[1]]&&l[C[1]].transition?Zo({key:v,value:t[v],valueSpec:n.transition,style:h,styleSpec:n}):l[v]?Zo({key:v,value:t[v],valueSpec:l[v],style:h,styleSpec:n}):[new Sn(v,t[v],`unknown property "${v}"`)])}return p}function k_(i){const t=i.value,n=i.key,l=i.style,h=i.styleSpec,p=h.terrain;let y=[];const v=ts(t);if(t===void 0)return y;if(v!=="object")return y=y.concat([new Sn("terrain",t,`object expected, ${v} found`)]),y;for(const C in t){const w=C.match(/^(.*)-transition$/);y=y.concat(w&&p[w[1]]&&p[w[1]].transition?Zo({key:C,value:t[C],valueSpec:h.transition,style:l,styleSpec:h}):p[C]?Zo({key:C,value:t[C],valueSpec:p[C],style:l,styleSpec:h}):[new Sn(C,t[C],`unknown property "${C}"`)])}if(t.source){const C=l.sources&&l.sources[t.source],w=C&&Ss(C.type);C?w!=="raster-dem"&&y.push(new Sn(n,t.source,`terrain cannot be used with a source of type ${String(w)}, it only be used with a "raster-dem" source type`)):y.push(new Sn(n,t.source,`source "${t.source}" not found`))}else y.push(new Sn(n,t,'terrain is missing required property "source"'));return y}function mu(i){const t=i.value,n=i.style,l=i.styleSpec,h=l.fog;let p=[];const y=ts(t);if(t===void 0)return p;if(y!=="object")return p=p.concat([new Sn("fog",t,`object expected, ${y} found`)]),p;for(const v in t){const C=v.match(/^(.*)-transition$/);p=p.concat(C&&h[C[1]]&&h[C[1]].transition?Zo({key:v,value:t[v],valueSpec:l.transition,style:n,styleSpec:l}):h[v]?Zo({key:v,value:t[v],valueSpec:h[v],style:n,styleSpec:l}):[new Sn(v,t[v],`unknown property "${v}"`)])}return p}const hl={"*":()=>[],array:Ll,boolean:function(i){const t=i.value,n=i.key,l=ts(t);return l!=="boolean"?[new Sn(n,t,`boolean expected, ${l} found`)]:[]},number:c0,color:function(i){const t=i.key,n=i.value,l=ts(n);return l!=="string"?[new Sn(t,n,`color expected, ${l} found`)]:Qt(n)===null?[new Sn(t,n,`color expected, "${n}" found`)]:[]},enum:__,filter:ul,function:du,layer:I_,object:Fa,source:cl,light:sc,terrain:k_,fog:mu,string:d0,formatted:function(i){return d0(i).length===0?[]:_l(i)},resolvedImage:function(i){return d0(i).length===0?[]:_l(i)},projection:function(i){const t=i.value,n=i.styleSpec,l=n.projection,h=i.style;let p=[];const y=ts(t);if(y==="object")for(const v in t)p=p.concat(Zo({key:v,value:t[v],valueSpec:l[v],style:h,styleSpec:n}));else y!=="string"&&(p=p.concat([new Sn("projection",t,`object or string expected, ${y} found`)]));return p}};function Zo(i){const t=i.value,n=i.valueSpec,l=i.styleSpec;return n.expression&&El(Ss(t))?du(i):n.expression&&l_(uo(t))?_l(i):n.type&&hl[n.type]?hl[n.type](i):Fa(jo({},i,{valueSpec:n.type?l[n.type]:n}))}function oc(i){const t=i.value,n=i.key,l=d0(i);return l.length||(t.indexOf("{fontstack}")===-1&&l.push(new Sn(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&l.push(new Sn(n,t,'"glyphs" url must include a "{range}" token'))),l}function fu(i,t=ui){return p0(Zo({key:"",value:i,valueSpec:t.$root,styleSpec:t,style:i,objectElementValidators:{glyphs:oc,"*":()=>[]}}))}const Gc=i=>p0(M_(i)),Wc=i=>p0(nc(i));function p0(i){return i.slice().sort((t,n)=>t.line&&n.line?t.line-n.line:0)}function ac(i,t){let n=!1;if(t&&t.length)for(const l of t)i.fire(new Ao(new Error(l.message))),n=!0;return n}var Rl=n0;function n0(i,t,n){var l=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var h=new Int32Array(this.arrayBuffer);i=h[0],this.d=(t=h[1])+2*(n=h[2]);for(var p=0;p<this.d*this.d;p++){var y=h[3+p],v=h[3+p+1];l.push(y===v?null:h.subarray(y,v))}var C=h[3+l.length+1];this.keys=h.subarray(h[3+l.length],C),this.bboxes=h.subarray(C),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var w=0;w<this.d*this.d;w++)l.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=i,this.padding=n,this.scale=t/i,this.uid=0;var R=n/t*i;this.min=-R,this.max=i+R}n0.prototype.insert=function(i,t,n,l,h){this._forEachCell(t,n,l,h,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(l),this.bboxes.push(h)},n0.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n0.prototype._insertCell=function(i,t,n,l,h,p){this.cells[h].push(p)},n0.prototype.query=function(i,t,n,l,h){var p=this.min,y=this.max;if(i<=p&&t<=p&&y<=n&&y<=l&&!h)return Array.prototype.slice.call(this.keys);var v=[];return this._forEachCell(i,t,n,l,this._queryCell,v,{},h),v},n0.prototype._queryCell=function(i,t,n,l,h,p,y,v){var C=this.cells[h];if(C!==null)for(var w=this.keys,R=this.bboxes,W=0;W<C.length;W++){var V=C[W];if(y[V]===void 0){var K=4*V;(v?v(R[K+0],R[K+1],R[K+2],R[K+3]):i<=R[K+2]&&t<=R[K+3]&&n>=R[K+0]&&l>=R[K+1])?(y[V]=!0,p.push(w[V])):y[V]=!1}}},n0.prototype._forEachCell=function(i,t,n,l,h,p,y,v){for(var C=this._convertToCellCoord(i),w=this._convertToCellCoord(t),R=this._convertToCellCoord(n),W=this._convertToCellCoord(l),V=C;V<=R;V++)for(var K=w;K<=W;K++){var re=this.d*K+V;if((!v||v(this._convertFromCellCoord(V),this._convertFromCellCoord(K),this._convertFromCellCoord(V+1),this._convertFromCellCoord(K+1)))&&h.call(this,i,t,n,l,re,p,y,v))return}},n0.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},n0.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},n0.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,t=3+this.cells.length+1+1,n=0,l=0;l<this.cells.length;l++)n+=this.cells[l].length;var h=new Int32Array(t+n+this.keys.length+this.bboxes.length);h[0]=this.extent,h[1]=this.n,h[2]=this.padding;for(var p=t,y=0;y<i.length;y++){var v=i[y];h[3+y]=p,h.set(v,p),p+=v.length}return h[3+i.length]=p,h.set(this.keys,p),h[3+i.length+1]=p+=this.keys.length,h.set(this.bboxes,p),p+=this.bboxes.length,h.buffer};const L_={};function En(i,t,n={}){Object.defineProperty(i,"_classRegistryKey",{value:t,writeable:!1}),L_[t]={klass:i,omit:n.omit||[]}}En(Object,"Object"),Rl.serialize=function(i,t){const n=i.toArrayBuffer();return t&&t.push(n),{buffer:n}},Rl.deserialize=function(i){return new Rl(i.buffer)},Object.defineProperty(Rl,"name",{value:"Grid"}),En(Rl,"Grid"),En(Ae,"Color"),En(Error,"Error"),En(In,"AJAXError"),En(di,"ResolvedImage"),En(u0,"StylePropertyFunction"),En(P_,"StyleExpression",{omit:["_evaluator"]}),En(N_,"ZoomDependentExpression"),En(k0,"ZoomConstantExpression"),En(or,"CompoundExpression",{omit:["_evaluate"]});for(const i in Ha)L_[Ha[i]._classRegistryKey]||En(Ha[i],`Expression${i}`);function lc(i){return i&&typeof ArrayBuffer<"u"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function _c(i){return j.ImageBitmap&&i instanceof j.ImageBitmap}function R0(i,t){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp)return i;if(lc(i)||_c(i))return t&&t.push(i),i;if(ArrayBuffer.isView(i)){const n=i;return t&&t.push(n.buffer),n}if(i instanceof j.ImageData)return t&&t.push(i.data.buffer),i;if(Array.isArray(i)){const n=[];for(const l of i)n.push(R0(l,t));return n}if(typeof i=="object"){const n=i.constructor,l=n._classRegistryKey;if(!l)throw new Error(`can't serialize object of unregistered class ${l}`);const h=n.serialize?n.serialize(i,t):{};if(!n.serialize){for(const p in i)i.hasOwnProperty(p)&&(L_[l].omit.indexOf(p)>=0||(h[p]=R0(i[p],t)));i instanceof Error&&(h.message=i.message)}if(h.$name)throw new Error("$name property is reserved for worker serialization logic.");return l!=="Object"&&(h.$name=l),h}throw new Error("can't serialize object of type "+typeof i)}function Hl(i){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||lc(i)||_c(i)||ArrayBuffer.isView(i)||i instanceof j.ImageData)return i;if(Array.isArray(i))return i.map(Hl);if(typeof i=="object"){const t=i.$name||"Object",{klass:n}=L_[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(i);const l=Object.create(n.prototype);for(const h of Object.keys(i))h!=="$name"&&(l[h]=Hl(i[h]));return l}throw new Error("can't deserialize object of type "+typeof i)}const D_=i=>i>=1536&&i<=1791,Fl=i=>i>=1872&&i<=1919,R_=i=>i>=2208&&i<=2303,d_=i=>i>=11904&&i<=12031,Oa=i=>i>=12032&&i<=12255,Ol=i=>i>=12272&&i<=12287,dl=i=>i>=12288&&i<=12351,pl=i=>i>=12352&&i<=12447,p_=i=>i>=12448&&i<=12543,ml=i=>i>=12544&&i<=12591,gu=i=>i>=12704&&i<=12735,Ba=i=>i>=12736&&i<=12783,qa=i=>i>=12784&&i<=12799,Tu=i=>i>=12800&&i<=13055,m_=i=>i>=13056&&i<=13311,uc=i=>i>=13312&&i<=19903,m0=i=>i>=19968&&i<=40959,cc=i=>i>=40960&&i<=42127,hc=i=>i>=42128&&i<=42191,yu=i=>i>=44032&&i<=55215,Bl=i=>i>=63744&&i<=64255,d=i=>i>=64336&&i<=65023,r=i=>i>=65040&&i<=65055,c=i=>i>=65072&&i<=65103,f=i=>i>=65104&&i<=65135,A=i=>i>=65136&&i<=65279,S=i=>i>=65280&&i<=65519;function E(i){for(const t of i)if($(t.charCodeAt(0)))return!0;return!1}function M(i){for(const t of i)if(!F(t.charCodeAt(0)))return!1;return!0}function F(i){return!(D_(i)||Fl(i)||R_(i)||d(i)||A(i))}function $(i){return!(i!==746&&i!==747&&(i<4352||!(gu(i)||ml(i)||c(i)&&!(i>=65097&&i<=65103)||Bl(i)||m_(i)||d_(i)||Ba(i)||!(!dl(i)||i>=12296&&i<=12305||i>=12308&&i<=12319||i===12336)||uc(i)||m0(i)||Tu(i)||(t=>t>=12592&&t<=12687)(i)||(t=>t>=43360&&t<=43391)(i)||(t=>t>=55216&&t<=55295)(i)||(t=>t>=4352&&t<=4607)(i)||yu(i)||pl(i)||Ol(i)||(t=>t>=12688&&t<=12703)(i)||Oa(i)||qa(i)||p_(i)&&i!==12540||!(!S(i)||i===65288||i===65289||i===65293||i>=65306&&i<=65310||i===65339||i===65341||i===65343||i>=65371&&i<=65503||i===65507||i>=65512&&i<=65519)||!(!f(i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||(t=>t>=5120&&t<=5759)(i)||(t=>t>=6320&&t<=6399)(i)||r(i)||(t=>t>=19904&&t<=19967)(i)||cc(i)||hc(i))))}function q(i){return!($(i)||function(t){return!!((n=>n>=128&&n<=255)(t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||(n=>n>=8192&&n<=8303)(t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||(n=>n>=8448&&n<=8527)(t)||(n=>n>=8528&&n<=8591)(t)||(n=>n>=8960&&n<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||(n=>n>=9216&&n<=9279)(t)&&t!==9251||(n=>n>=9280&&n<=9311)(t)||(n=>n>=9312&&n<=9471)(t)||(n=>n>=9632&&n<=9727)(t)||(n=>n>=9728&&n<=9983)(t)&&!(t>=9754&&t<=9759)||(n=>n>=11008&&n<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||dl(t)||p_(t)||(n=>n>=57344&&n<=63743)(t)||c(t)||f(t)||S(t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(i))}function _e(i){return i>=1424&&i<=2303||d(i)||A(i)}function ve(i,t){return!(!t&&_e(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||(n=>n>=6016&&n<=6143)(i))}function Le(i){for(const t of i)if(_e(t.charCodeAt(0)))return!0;return!1}const ke="deferred",He="loading",Ce="loaded";let we=null,Ge="unavailable",Oe=null;const Xe=function(i){i&&typeof i=="string"&&i.indexOf("NetworkError")>-1&&(Ge="error"),we&&we(i)};function pt(){_t.fire(new us("pluginStateChange",{pluginStatus:Ge,pluginURL:Oe}))}const _t=new Hs,Nt=function(){return Ge},Xt=function(){if(Ge!==ke||!Oe)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ge=He,pt(),Oe&&Or({url:Oe},i=>{i?Xe(i):(Ge=Ce,pt())})},zt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ge===Ce||zt.applyArabicShaping!=null,isLoading:()=>Ge===He,setState(i){Ge=i.pluginStatus,Oe=i.pluginURL},isParsed:()=>zt.applyArabicShaping!=null&&zt.processBidirectionalText!=null&&zt.processStyledBidirectionalText!=null,getPluginURL:()=>Oe};class Lt{constructor(t,n){this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.transition=n.transition,this.pitch=n.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(t){return function(n,l){for(const h of n)if(!ve(h.charCodeAt(0),l))return!1;return!0}(t,zt.isLoaded())}}class Qi{constructor(t,n){this.property=t,this.value=n,this.expression=function(l,h){if(El(l))return new u0(l,h);if(l_(l)){const p=Il(l,h);if(p.result==="error")throw new Error(p.value.map(y=>`${y.key}: ${y.message}`).join(", "));return p.value}{let p=l;return typeof l=="string"&&h.type==="color"&&(p=Ae.parse(l)),{kind:"constant",evaluate:()=>p}}}(n===void 0?t.specification.default:n,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,n,l){return this.property.possiblyEvaluate(this,t,n,l)}}class Et{constructor(t){this.property=t,this.value=new Qi(t,void 0)}transitioned(t,n){return new qt(this.property,this.value,n,nt({},t.transition,this.transition),t.now)}untransitioned(){return new qt(this.property,this.value,null,{},0)}}class bi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Er(this._values[t].value.value)}setValue(t,n){this._values.hasOwnProperty(t)||(this._values[t]=new Et(this._values[t].property)),this._values[t].value=new Qi(this._values[t].property,n===null?void 0:Er(n))}getTransition(t){return Er(this._values[t].transition)}setTransition(t,n){this._values.hasOwnProperty(t)||(this._values[t]=new Et(this._values[t].property)),this._values[t].transition=Er(n)||void 0}serialize(){const t={};for(const n of Object.keys(this._values)){const l=this.getValue(n);l!==void 0&&(t[n]=l);const h=this.getTransition(n);h!==void 0&&(t[`${n}-transition`]=h)}return t}transitioned(t,n){const l=new Wi(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].transitioned(t,n._values[h]);return l}untransitioned(){const t=new Wi(this._properties);for(const n of Object.keys(this._values))t._values[n]=this._values[n].untransitioned();return t}}class qt{constructor(t,n,l,h,p){const y=h.delay||0,v=h.duration||0;p=p||0,this.property=t,this.value=n,this.begin=p+y,this.end=this.begin+v,t.specification.transition&&(h.delay||h.duration)&&(this.prior=l)}possiblyEvaluate(t,n,l){const h=t.now||0,p=this.value.possiblyEvaluate(t,n,l),y=this.prior;if(y){if(h>this.end)return this.prior=null,p;if(this.value.isDataDriven())return this.prior=null,p;if(h<this.begin)return y.possiblyEvaluate(t,n,l);{const v=(h-this.begin)/(this.end-this.begin);return this.property.interpolate(y.possiblyEvaluate(t,n,l),p,Kt(v))}}return p}}class Wi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,n,l){const h=new wi(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].possiblyEvaluate(t,n,l);return h}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class ei{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return Er(this._values[t].value)}setValue(t,n){this._values[t]=new Qi(this._values[t].property,n===null?void 0:Er(n))}serialize(){const t={};for(const n of Object.keys(this._values)){const l=this.getValue(n);l!==void 0&&(t[n]=l)}return t}possiblyEvaluate(t,n,l){const h=new wi(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].possiblyEvaluate(t,n,l);return h}}class Pi{constructor(t,n,l){this.property=t,this.value=n,this.parameters=l}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,n,l,h){return this.property.evaluate(this.value,this.parameters,t,n,l,h)}}class wi{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class kt{constructor(t){this.specification=t}possiblyEvaluate(t,n){return t.expression.evaluate(n)}interpolate(t,n,l){const h=P0[this.specification.type];return h?h(t,n,l):t}}class Yt{constructor(t,n){this.specification=t,this.overrides=n}possiblyEvaluate(t,n,l,h){return new Pi(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(n,null,{},l,h)}:t.expression,n)}interpolate(t,n,l){if(t.value.kind!=="constant"||n.value.kind!=="constant")return t;if(t.value.value===void 0||n.value.value===void 0)return new Pi(this,{kind:"constant",value:void 0},t.parameters);const h=P0[this.specification.type];return h?new Pi(this,{kind:"constant",value:h(t.value.value,n.value.value,l)},t.parameters):t}evaluate(t,n,l,h,p,y){return t.kind==="constant"?t.value:t.evaluate(n,l,h,p,y)}}class yn{constructor(t){this.specification=t}possiblyEvaluate(t,n,l,h){return!!t.expression.evaluate(n,null,{},l,h)}interpolate(){return!1}}class An{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const n=new Lt(0,{});for(const l in t){const h=t[l];h.specification.overridable&&this.overridableProperties.push(l);const p=this.defaultPropertyValues[l]=new Qi(h,void 0),y=this.defaultTransitionablePropertyValues[l]=new Et(h);this.defaultTransitioningPropertyValues[l]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=p.possiblyEvaluate(n)}}}function kn(i,t){return 256*(i=Y(Math.floor(i),0,255))+Y(Math.floor(t),0,255)}En(Yt,"DataDrivenProperty"),En(kt,"DataConstantProperty"),En(yn,"ColorRampProperty");const Qn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class vr{constructor(t,n){this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Yn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,n){return t._trim(),n&&(t.isTransferred=!0,n.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const n=Object.create(this.prototype);return n.arrayBuffer=t.arrayBuffer,n.length=t.length,n.capacity=t.arrayBuffer.byteLength/n.bytesPerElement,n._refreshViews(),n}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const n=this.uint8;this._refreshViews(),n&&this.uint8.set(n)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function bn(i,t=1){let n=0,l=0;return{members:i.map(h=>{const p=Qn[h.type].BYTES_PER_ELEMENT,y=n=as(n,Math.max(t,p)),v=h.components||1;return l=Math.max(l,p),n+=p*v,{name:h.name,type:h.type,components:v,offset:y}}),size:as(n,Math.max(l,t)),alignment:t}}function as(i,t){return Math.ceil(i/t)*t}class Jr extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n){const l=this.length;return this.resize(l+1),this.emplace(l,t,n)}emplace(t,n,l){const h=2*t;return this.int16[h+0]=n,this.int16[h+1]=l,t}}Jr.prototype.bytesPerElement=4,En(Jr,"StructArrayLayout2i4");class hs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,l){const h=this.length;return this.resize(h+1),this.emplace(h,t,n,l)}emplace(t,n,l,h){const p=3*t;return this.int16[p+0]=n,this.int16[p+1]=l,this.int16[p+2]=h,t}}hs.prototype.bytesPerElement=6,En(hs,"StructArrayLayout3i6");class fs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,l,h)}emplace(t,n,l,h,p){const y=4*t;return this.int16[y+0]=n,this.int16[y+1]=l,this.int16[y+2]=h,this.int16[y+3]=p,t}}fs.prototype.bytesPerElement=8,En(fs,"StructArrayLayout4i8");class Wo extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,t,n,l,h,p,y,v)}emplace(t,n,l,h,p,y,v,C){const w=6*t,R=12*t,W=3*t;return this.int16[w+0]=n,this.int16[w+1]=l,this.uint8[R+4]=h,this.uint8[R+5]=p,this.uint8[R+6]=y,this.uint8[R+7]=v,this.float32[W+2]=C,t}}Wo.prototype.bytesPerElement=12,En(Wo,"StructArrayLayout2i4ub1f12");class ha extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,l,h)}emplace(t,n,l,h,p){const y=4*t;return this.float32[y+0]=n,this.float32[y+1]=l,this.float32[y+2]=h,this.float32[y+3]=p,t}}ha.prototype.bytesPerElement=16,En(ha,"StructArrayLayout4f16");class ko extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,t,n,l,h,p)}emplace(t,n,l,h,p,y){const v=6*t,C=3*t;return this.uint16[v+0]=n,this.uint16[v+1]=l,this.uint16[v+2]=h,this.uint16[v+3]=p,this.float32[C+2]=y,t}}ko.prototype.bytesPerElement=12,En(ko,"StructArrayLayout4ui1f12");class xa extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,l,h)}emplace(t,n,l,h,p){const y=4*t;return this.uint16[y+0]=n,this.uint16[y+1]=l,this.uint16[y+2]=h,this.uint16[y+3]=p,t}}xa.prototype.bytesPerElement=8,En(xa,"StructArrayLayout4ui8");class gs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,n,l,h,p,y)}emplace(t,n,l,h,p,y,v){const C=6*t;return this.int16[C+0]=n,this.int16[C+1]=l,this.int16[C+2]=h,this.int16[C+3]=p,this.int16[C+4]=y,this.int16[C+5]=v,t}}gs.prototype.bytesPerElement=12,En(gs,"StructArrayLayout6i12");class Ts extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v,C,w,R,W,V){const K=this.length;return this.resize(K+1),this.emplace(K,t,n,l,h,p,y,v,C,w,R,W,V)}emplace(t,n,l,h,p,y,v,C,w,R,W,V,K){const re=12*t;return this.int16[re+0]=n,this.int16[re+1]=l,this.int16[re+2]=h,this.int16[re+3]=p,this.uint16[re+4]=y,this.uint16[re+5]=v,this.uint16[re+6]=C,this.uint16[re+7]=w,this.int16[re+8]=R,this.int16[re+9]=W,this.int16[re+10]=V,this.int16[re+11]=K,t}}Ts.prototype.bytesPerElement=24,En(Ts,"StructArrayLayout4i4ui4i24");class is extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,n,l,h,p,y)}emplace(t,n,l,h,p,y,v){const C=10*t,w=5*t;return this.int16[C+0]=n,this.int16[C+1]=l,this.int16[C+2]=h,this.float32[w+2]=p,this.float32[w+3]=y,this.float32[w+4]=v,t}}is.prototype.bytesPerElement=20,En(is,"StructArrayLayout3i3f20");class js extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint32[1*t+0]=n,t}}js.prototype.bytesPerElement=4,En(js,"StructArrayLayout1ul4");class Co extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v,C,w,R,W,V,K){const re=this.length;return this.resize(re+1),this.emplace(re,t,n,l,h,p,y,v,C,w,R,W,V,K)}emplace(t,n,l,h,p,y,v,C,w,R,W,V,K,re){const pe=20*t,Pe=10*t;return this.int16[pe+0]=n,this.int16[pe+1]=l,this.int16[pe+2]=h,this.int16[pe+3]=p,this.int16[pe+4]=y,this.float32[Pe+3]=v,this.float32[Pe+4]=C,this.float32[Pe+5]=w,this.float32[Pe+6]=R,this.int16[pe+14]=W,this.uint32[Pe+8]=V,this.uint16[pe+18]=K,this.uint16[pe+19]=re,t}}Co.prototype.bytesPerElement=40,En(Co,"StructArrayLayout5i4f1i1ul2ui40");class Cs extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v){const C=this.length;return this.resize(C+1),this.emplace(C,t,n,l,h,p,y,v)}emplace(t,n,l,h,p,y,v,C){const w=8*t;return this.int16[w+0]=n,this.int16[w+1]=l,this.int16[w+2]=h,this.int16[w+4]=p,this.int16[w+5]=y,this.int16[w+6]=v,this.int16[w+7]=C,t}}Cs.prototype.bytesPerElement=16,En(Cs,"StructArrayLayout3i2i2i16");class Xo extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,t,n,l,h,p)}emplace(t,n,l,h,p,y){const v=4*t,C=8*t;return this.float32[v+0]=n,this.float32[v+1]=l,this.float32[v+2]=h,this.int16[C+6]=p,this.int16[C+7]=y,t}}Xo.prototype.bytesPerElement=16,En(Xo,"StructArrayLayout2f1f2i16");class Gl extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,l,h)}emplace(t,n,l,h,p){const y=12*t,v=3*t;return this.uint8[y+0]=n,this.uint8[y+1]=l,this.float32[v+1]=h,this.float32[v+2]=p,t}}Gl.prototype.bytesPerElement=12,En(Gl,"StructArrayLayout2ub2f12");class ks extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l){const h=this.length;return this.resize(h+1),this.emplace(h,t,n,l)}emplace(t,n,l,h){const p=3*t;return this.float32[p+0]=n,this.float32[p+1]=l,this.float32[p+2]=h,t}}ks.prototype.bytesPerElement=12,En(ks,"StructArrayLayout3f12");class Po extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,l){const h=this.length;return this.resize(h+1),this.emplace(h,t,n,l)}emplace(t,n,l,h){const p=3*t;return this.uint16[p+0]=n,this.uint16[p+1]=l,this.uint16[p+2]=h,t}}Po.prototype.bytesPerElement=6,En(Po,"StructArrayLayout3ui6");class z extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt){const ut=this.length;return this.resize(ut+1),this.emplace(ut,t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt)}emplace(t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt,ut){const $t=30*t,jt=15*t,Si=60*t;return this.int16[$t+0]=n,this.int16[$t+1]=l,this.int16[$t+2]=h,this.float32[jt+2]=p,this.float32[jt+3]=y,this.uint16[$t+8]=v,this.uint16[$t+9]=C,this.uint32[jt+5]=w,this.uint32[jt+6]=R,this.uint32[jt+7]=W,this.uint16[$t+16]=V,this.uint16[$t+17]=K,this.uint16[$t+18]=re,this.float32[jt+10]=pe,this.float32[jt+11]=Pe,this.uint8[Si+48]=je,this.uint8[Si+49]=lt,this.uint8[Si+50]=Ve,this.uint32[jt+13]=Qe,this.int16[$t+28]=gt,this.uint8[Si+58]=ut,t}}z.prototype.bytesPerElement=60,En(z,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class ne extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt,ut,$t,jt,Si,tn,li,Ei,ki,Xi){const nn=this.length;return this.resize(nn+1),this.emplace(nn,t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt,ut,$t,jt,Si,tn,li,Ei,ki,Xi)}emplace(t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe,je,lt,Ve,Qe,gt,ut,$t,jt,Si,tn,li,Ei,ki,Xi,nn){const ci=38*t,fn=19*t;return this.int16[ci+0]=n,this.int16[ci+1]=l,this.int16[ci+2]=h,this.float32[fn+2]=p,this.float32[fn+3]=y,this.int16[ci+8]=v,this.int16[ci+9]=C,this.int16[ci+10]=w,this.int16[ci+11]=R,this.int16[ci+12]=W,this.int16[ci+13]=V,this.uint16[ci+14]=K,this.uint16[ci+15]=re,this.uint16[ci+16]=pe,this.uint16[ci+17]=Pe,this.uint16[ci+18]=je,this.uint16[ci+19]=lt,this.uint16[ci+20]=Ve,this.uint16[ci+21]=Qe,this.uint16[ci+22]=gt,this.uint16[ci+23]=ut,this.uint16[ci+24]=$t,this.uint16[ci+25]=jt,this.uint16[ci+26]=Si,this.uint16[ci+27]=tn,this.uint16[ci+28]=li,this.uint32[fn+15]=Ei,this.float32[fn+16]=ki,this.float32[fn+17]=Xi,this.float32[fn+18]=nn,t}}ne.prototype.bytesPerElement=76,En(ne,"StructArrayLayout3i2f6i15ui1ul3f76");class fe extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.float32[1*t+0]=n,t}}fe.prototype.bytesPerElement=4,En(fe,"StructArrayLayout1f4");class qe extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,t,n,l,h,p)}emplace(t,n,l,h,p,y){const v=5*t;return this.float32[v+0]=n,this.float32[v+1]=l,this.float32[v+2]=h,this.float32[v+3]=p,this.float32[v+4]=y,t}}qe.prototype.bytesPerElement=20,En(qe,"StructArrayLayout5f20");class St extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,n,l,h)}emplace(t,n,l,h,p){const y=6*t;return this.uint32[3*t+0]=n,this.uint16[y+2]=l,this.uint16[y+3]=h,this.uint16[y+4]=p,t}}St.prototype.bytesPerElement=12,En(St,"StructArrayLayout1ul3ui12");class Mt extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n){const l=this.length;return this.resize(l+1),this.emplace(l,t,n)}emplace(t,n,l){const h=2*t;return this.uint16[h+0]=n,this.uint16[h+1]=l,t}}Mt.prototype.bytesPerElement=4,En(Mt,"StructArrayLayout2ui4");class At extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint16[1*t+0]=n,t}}At.prototype.bytesPerElement=2,En(At,"StructArrayLayout1ui2");class Jt extends Yn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n){const l=this.length;return this.resize(l+1),this.emplace(l,t,n)}emplace(t,n,l){const h=2*t;return this.float32[h+0]=n,this.float32[h+1]=l,t}}Jt.prototype.bytesPerElement=8,En(Jt,"StructArrayLayout2f8");class Zt extends vr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Zt.prototype.size=40;class Oi extends Co{get(t){return new Zt(this,t)}}En(Oi,"CollisionBoxArray");class Ji extends vr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}Ji.prototype.size=60;class Gn extends z{get(t){return new Ji(this,t)}}En(Gn,"PlacedSymbolArray");class un extends vr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}un.prototype.size=76;class Kn extends ne{get(t){return new un(this,t)}}En(Kn,"SymbolInstanceArray");class $n extends fe{getoffsetX(t){return this.float32[1*t+0]}}En($n,"GlyphOffsetArray");class Fr extends Jr{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}En(Fr,"SymbolLineVertexArray");class Lr extends vr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Lr.prototype.size=12;class ds extends St{get(t){return new Lr(this,t)}}En(ds,"FeatureIndexArray");class Ps extends Mt{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}En(Ps,"FillExtrusionCentroidArray");const Bs=bn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Lo=bn([{name:"a_dash",components:4,type:"Uint16"}]);var so={exports:{}},_s={exports:{}};_s.exports=function(i,t){var n,l,h,p,y,v,C,w;for(l=i.length-(n=3&i.length),h=t,y=3432918353,v=461845907,w=0;w<l;)C=255&i.charCodeAt(w)|(255&i.charCodeAt(++w))<<8|(255&i.charCodeAt(++w))<<16|(255&i.charCodeAt(++w))<<24,++w,h=27492+(65535&(p=5*(65535&(h=(h^=C=(65535&(C=(C=(65535&C)*y+(((C>>>16)*y&65535)<<16)&4294967295)<<15|C>>>17))*v+(((C>>>16)*v&65535)<<16)&4294967295)<<13|h>>>19))+((5*(h>>>16)&65535)<<16)&4294967295))+((58964+(p>>>16)&65535)<<16);switch(C=0,n){case 3:C^=(255&i.charCodeAt(w+2))<<16;case 2:C^=(255&i.charCodeAt(w+1))<<8;case 1:h^=C=(65535&(C=(C=(65535&(C^=255&i.charCodeAt(w)))*y+(((C>>>16)*y&65535)<<16)&4294967295)<<15|C>>>17))*v+(((C>>>16)*v&65535)<<16)&4294967295}return h^=i.length,h=2246822507*(65535&(h^=h>>>16))+((2246822507*(h>>>16)&65535)<<16)&4294967295,h=3266489909*(65535&(h^=h>>>13))+((3266489909*(h>>>16)&65535)<<16)&4294967295,(h^=h>>>16)>>>0};var cn={exports:{}};cn.exports=function(i,t){for(var n,l=i.length,h=t^l,p=0;l>=4;)n=1540483477*(65535&(n=255&i.charCodeAt(p)|(255&i.charCodeAt(++p))<<8|(255&i.charCodeAt(++p))<<16|(255&i.charCodeAt(++p))<<24))+((1540483477*(n>>>16)&65535)<<16),h=1540483477*(65535&h)+((1540483477*(h>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),l-=4,++p;switch(l){case 3:h^=(255&i.charCodeAt(p+2))<<16;case 2:h^=(255&i.charCodeAt(p+1))<<8;case 1:h=1540483477*(65535&(h^=255&i.charCodeAt(p)))+((1540483477*(h>>>16)&65535)<<16)}return h=1540483477*(65535&(h^=h>>>13))+((1540483477*(h>>>16)&65535)<<16),(h^=h>>>15)>>>0};var yr=_s.exports,jr=cn.exports;so.exports=yr,so.exports.murmur3=yr,so.exports.murmur2=jr;class Dr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,n,l,h){this.ids.push(Uo(t)),this.positions.push(n,l,h)}getPositions(t){const n=Uo(t);let l=0,h=this.ids.length-1;for(;l<h;){const y=l+h>>1;this.ids[y]>=n?h=y:l=y+1}const p=[];for(;this.ids[l]===n;)p.push({index:this.positions[3*l],start:this.positions[3*l+1],end:this.positions[3*l+2]}),l++;return p}static serialize(t,n){const l=new Float64Array(t.ids),h=new Uint32Array(t.positions);return Us(l,h,0,l.length-1),n&&n.push(l.buffer,h.buffer),{ids:l,positions:h}}static deserialize(t){const n=new Dr;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}function Uo(i){const t=+i;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:so.exports(String(i))}function Us(i,t,n,l){for(;n<l;){const h=i[n+l>>1];let p=n-1,y=l+1;for(;;){do p++;while(i[p]<h);do y--;while(i[y]>h);if(p>=y)break;ns(i,p,y),ns(t,3*p,3*y),ns(t,3*p+1,3*y+1),ns(t,3*p+2,3*y+2)}y-n<l-y?(Us(i,t,n,y),n=y+1):(Us(i,t,y+1,l),l=y)}}function ns(i,t,n){const l=i[t];i[t]=i[n],i[n]=l}En(Dr,"FeaturePositionMap");class rs{constructor(t){this.gl=t.gl,this.initialized=!1}fetchUniformLocation(t,n){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,n),this.initialized=!0),!!this.location}}class ys extends rs{constructor(t){super(t),this.current=0}set(t,n,l){this.fetchUniformLocation(t,n)&&this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class ms extends rs{constructor(t){super(t),this.current=[0,0,0,0]}set(t,n,l){this.fetchUniformLocation(t,n)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3])))}}class zo extends rs{constructor(t){super(t),this.current=Ae.transparent}set(t,n,l){this.fetchUniformLocation(t,n)&&(l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a)))}}const $a=new Float32Array(16),ra=new Float32Array(9),f0=new Float32Array(4);function g0(i){return[kn(255*i.r,255*i.g),kn(255*i.b,255*i.a)]}class da{constructor(t,n,l){this.value=t,this.uniformNames=n.map(h=>`u_${h}`),this.type=l}setUniform(t,n,l,h,p){n.set(t,p,h.constantOr(this.value))}getBinding(t,n){return this.type==="color"?new zo(t):new ys(t)}}class Ga{constructor(t,n){this.uniformNames=n.map(l=>`u_${l}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br)}setUniform(t,n,l,h,p){const y=p==="u_pattern"||p==="u_dash"?this.pattern:p==="u_pixel_ratio"?this.pixelRatio:null;y&&n.set(t,p,y)}getBinding(t,n){return n==="u_pattern"||n==="u_dash"?new ms(t):new ys(t)}}class pa{constructor(t,n,l,h){this.expression=t,this.type=l,this.maxValue=0,this.paintVertexAttributes=n.map(p=>({name:`a_${p}`,type:"Float32",components:l==="color"?2:1,offset:0})),this.paintVertexArray=new h}populatePaintArray(t,n,l,h,p,y){const v=this.paintVertexArray.length,C=this.expression.evaluate(new Lt(0),n,{},p,h,y);this.paintVertexArray.resize(t),this._setPaintValue(v,t,C)}updatePaintArray(t,n,l,h,p){const y=this.expression.evaluate({zoom:0},l,h,void 0,p);this._setPaintValue(t,n,y)}_setPaintValue(t,n,l){if(this.type==="color"){const h=g0(l);for(let p=t;p<n;p++)this.paintVertexArray.emplace(p,h[0],h[1])}else{for(let h=t;h<n;h++)this.paintVertexArray.emplace(h,l);this.maxValue=Math.max(this.maxValue,Math.abs(l))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Vo{constructor(t,n,l,h,p,y){this.expression=t,this.uniformNames=n.map(v=>`u_${v}_t`),this.type=l,this.useIntegerZoom=h,this.zoom=p,this.maxValue=0,this.paintVertexAttributes=n.map(v=>({name:`a_${v}`,type:"Float32",components:l==="color"?4:2,offset:0})),this.paintVertexArray=new y}populatePaintArray(t,n,l,h,p,y){const v=this.expression.evaluate(new Lt(this.zoom),n,{},p,h,y),C=this.expression.evaluate(new Lt(this.zoom+1),n,{},p,h,y),w=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(w,t,v,C)}updatePaintArray(t,n,l,h,p){const y=this.expression.evaluate({zoom:this.zoom},l,h,void 0,p),v=this.expression.evaluate({zoom:this.zoom+1},l,h,void 0,p);this._setPaintValue(t,n,y,v)}_setPaintValue(t,n,l,h){if(this.type==="color"){const p=g0(l),y=g0(h);for(let v=t;v<n;v++)this.paintVertexArray.emplace(v,p[0],p[1],y[0],y[1])}else{for(let p=t;p<n;p++)this.paintVertexArray.emplace(p,l,h);this.maxValue=Math.max(this.maxValue,Math.abs(l),Math.abs(h))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,n,l,h,p){const y=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,v=Y(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);n.set(t,p,v)}getBinding(t,n){return new ys(t)}}class go{constructor(t,n,l,h,p){this.expression=t,this.layerId=p,this.paintVertexAttributes=(l==="array"?Lo:Bs).members;for(let y=0;y<n.length;++y);this.paintVertexArray=new h}populatePaintArray(t,n,l){const h=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(h,t,n.patterns&&n.patterns[this.layerId],l)}updatePaintArray(t,n,l,h,p,y){this._setPaintValues(t,n,l.patterns&&l.patterns[this.layerId],y)}_setPaintValues(t,n,l,h){if(!h||!l)return;const p=h[l];if(!p)return;const{tl:y,br:v,pixelRatio:C}=p;for(let w=t;w<n;w++)this.paintVertexArray.emplace(w,y[0],y[1],v[0],v[1],C)}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Wa{constructor(t,n,l=()=>!0){this.binders={},this._buffers=[];const h=[];for(const p in t.paint._values){if(!l(p))continue;const y=t.paint.get(p);if(!(y instanceof Pi&&ll(y.property.specification)))continue;const v=xh(p,t.type),C=y.value,w=y.property.specification.type,R=y.property.useIntegerZoom,W=p==="line-dasharray"||p.endsWith("pattern"),V=p==="line-dasharray"&&t.layout.get("line-cap").value.kind!=="constant";if(C.kind!=="constant"||V)if(C.kind==="source"||V||W){const K=Ch(p,w,"source");this.binders[p]=W?new go(C,v,w,K,t.id):new pa(C,v,w,K),h.push(`/a_${p}`)}else{const K=Ch(p,w,"composite");this.binders[p]=new Vo(C,v,w,R,n,K),h.push(`/z_${p}`)}else this.binders[p]=W?new Ga(C.value,v):new da(C.value,v,w),h.push(`/u_${p}`)}this.cacheKey=h.sort().join("")}getMaxValue(t){const n=this.binders[t];return n instanceof pa||n instanceof Vo?n.maxValue:0}populatePaintArrays(t,n,l,h,p,y){for(const v in this.binders){const C=this.binders[v];(C instanceof pa||C instanceof Vo||C instanceof go)&&C.populatePaintArray(t,n,l,h,p,y)}}setConstantPatternPositions(t){for(const n in this.binders){const l=this.binders[n];l instanceof Ga&&l.setConstantPatternPositions(t)}}updatePaintArrays(t,n,l,h,p,y){let v=!1;for(const C in t){const w=n.getPositions(C);for(const R of w){const W=l.feature(R.index);for(const V in this.binders){const K=this.binders[V];if((K instanceof pa||K instanceof Vo||K instanceof go)&&K.expression.isStateDependent===!0){const re=h.paint.get(V);K.expression=re.value,K.updatePaintArray(R.start,R.end,W,t[C],p,y),v=!0}}}}return v}defines(){const t=[];for(const n in this.binders){const l=this.binders[n];(l instanceof da||l instanceof Ga)&&t.push(...l.uniformNames.map(h=>`#define HAS_UNIFORM_${h}`))}return t}getBinderAttributes(){const t=[];for(const n in this.binders){const l=this.binders[n];if(l instanceof pa||l instanceof Vo||l instanceof go)for(let h=0;h<l.paintVertexAttributes.length;h++)t.push(l.paintVertexAttributes[h].name)}return t}getBinderUniforms(){const t=[];for(const n in this.binders){const l=this.binders[n];if(l instanceof da||l instanceof Ga||l instanceof Vo)for(const h of l.uniformNames)t.push(h)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const n=[];for(const l in this.binders){const h=this.binders[l];if(h instanceof da||h instanceof Ga||h instanceof Vo)for(const p of h.uniformNames)n.push({name:p,property:l,binding:h.getBinding(t,p)})}return n}setUniforms(t,n,l,h,p){for(const{name:y,property:v,binding:C}of l)this.binders[v].setUniform(t,C,p,h.get(v),y)}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const n=this.binders[t];(n instanceof pa||n instanceof Vo||n instanceof go)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(t){for(const n in this.binders){const l=this.binders[n];(l instanceof pa||l instanceof Vo||l instanceof go)&&l.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const n=this.binders[t];(n instanceof pa||n instanceof Vo||n instanceof go)&&n.destroy()}}}class f_{constructor(t,n,l=()=>!0){this.programConfigurations={};for(const h of t)this.programConfigurations[h.id]=new Wa(h,n,l);this.needsUpload=!1,this._featureMap=new Dr,this._bufferOffset=0}populatePaintArrays(t,n,l,h,p,y,v){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(t,n,h,p,y,v);n.id!==void 0&&this._featureMap.add(n.id,l,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,n,l,h,p){for(const y of l)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(t,this._featureMap,n,y,h,p)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const n in this.programConfigurations)this.programConfigurations[n].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const ad={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function xh(i,t){return ad[i]||[i.replace(`${t}-`,"").replace(/-/g,"_")]}const ld={"line-pattern":{source:ko,composite:ko},"fill-pattern":{source:ko,composite:ko},"fill-extrusion-pattern":{source:ko,composite:ko},"line-dasharray":{source:xa,composite:xa}},_d={color:{source:Jt,composite:ha},number:{source:fe,composite:Jt}};function Ch(i,t,n){const l=ld[i];return l&&l[n]||_d[t][n]}En(da,"ConstantBinder"),En(Ga,"PatternConstantBinder"),En(pa,"SourceExpressionBinder"),En(go,"PatternCompositeBinder"),En(Vo,"CompositeExpressionBinder"),En(Wa,"ProgramConfiguration",{omit:["_buffers"]}),En(f_,"ProgramConfigurationSet");const dc="-transition";class H0 extends Hs{constructor(t,n){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&t.type!=="sky"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new ei(n.layout)),n.paint)){this._transitionablePaint=new bi(n.paint);for(const l in t.paint)this.setPaintProperty(l,t.paint[l],{validate:!1});for(const l in t.layout)this.setLayoutProperty(l,t.layout[l],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wi(n.paint)}}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,n,l={}){n!=null&&this._validate(Wc,`layers.${this.id}.layout.${t}`,t,n,l)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,n):this.visibility=n)}getPaintProperty(t){return Gi(t,dc)?this._transitionablePaint.getTransition(t.slice(0,-dc.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,n,l={}){if(n!=null&&this._validate(Gc,`layers.${this.id}.paint.${t}`,t,n,l))return!1;if(Gi(t,dc))return this._transitionablePaint.setTransition(t.slice(0,-dc.length),n||void 0),!1;{const h=this._transitionablePaint._values[t],p=h.value.isDataDriven(),y=h.value;this._transitionablePaint.setValue(t,n),this._handleSpecialPaintPropertyUpdate(t);const v=this._transitionablePaint._values[t].value,C=v.isDataDriven(),w=Gi(t,"pattern")||t==="line-dasharray";return C||p||w||this._handleOverridablePaintPropertyUpdate(t,y,v)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,n,l){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,n){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,n)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,n)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),sr(t,(n,l)=>!(n===void 0||l==="layout"&&!Object.keys(n).length||l==="paint"&&!Object.keys(n).length))}_validate(t,n,l,h,p={}){return(!p||p.validate!==!1)&&ac(this,t.call(fu,{key:n,layerType:this.type,objectKey:l,value:h,styleSpec:ui,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const n=this.paint.get(t);if(n instanceof Pi&&ll(n.property.specification)&&(n.value.kind==="source"||n.value.kind==="composite")&&n.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=ho(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Uc=bn([{name:"a_pos",components:2,type:"Int16"}],4),zc=bn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class po{constructor(t=[]){this.segments=t}prepareSegment(t,n,l,h){let p=this.segments[this.segments.length-1];return t>po.MAX_VERTEX_ARRAY_LENGTH&&_r(`Max vertices per segment is ${po.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!p||p.vertexLength+t>po.MAX_VERTEX_ARRAY_LENGTH||p.sortKey!==h)&&(p={vertexOffset:n.length,primitiveOffset:l.length,vertexLength:0,primitiveLength:0},h!==void 0&&(p.sortKey=h),this.segments.push(p)),p}get(){return this.segments}destroy(){for(const t of this.segments)for(const n in t.vaos)t.vaos[n].destroy()}static simpleSegment(t,n,l,h){return new po([{vertexOffset:t,primitiveOffset:n,vertexLength:l,primitiveLength:h,vaos:{},sortKey:0}])}}po.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,En(po,"SegmentVector");var ar=8192;class F0{constructor(t,n){t&&(n?this.setSouthWest(t).setNorthEast(n):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof Xr?new Xr(t.lng,t.lat):Xr.convert(t),this}setSouthWest(t){return this._sw=t instanceof Xr?new Xr(t.lng,t.lat):Xr.convert(t),this}extend(t){const n=this._sw,l=this._ne;let h,p;if(t instanceof Xr)h=t,p=t;else{if(!(t instanceof F0))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(F0.convert(t)):this.extend(Xr.convert(t)):typeof t=="object"&&t!==null&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(Xr.convert(t)):this;if(h=t._sw,p=t._ne,!h||!p)return this}return n||l?(n.lng=Math.min(h.lng,n.lng),n.lat=Math.min(h.lat,n.lat),l.lng=Math.max(p.lng,l.lng),l.lat=Math.max(p.lat,l.lat)):(this._sw=new Xr(h.lng,h.lat),this._ne=new Xr(p.lng,p.lat)),this}getCenter(){return new Xr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Xr(this.getWest(),this.getNorth())}getSouthEast(){return new Xr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:n,lat:l}=Xr.convert(t);let h=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(h=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=l&&l<=this._ne.lat&&h}static convert(t){return!t||t instanceof F0?t:new F0(t)}}const Vc=63710088e-1;class Xr{constructor(t,n){if(isNaN(t)||isNaN(n))throw new Error(`Invalid LngLat object: (${t}, ${n})`);if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Xr(de(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const n=Math.PI/180,l=this.lat*n,h=t.lat*n,p=Math.sin(l)*Math.sin(h)+Math.cos(l)*Math.cos(h)*Math.cos((t.lng-this.lng)*n);return Vc*Math.acos(Math.min(p,1))}toBounds(t=0){const n=360*t/40075017,l=n/Math.cos(Math.PI/180*this.lat);return new F0(new Xr(this.lng-l,this.lat-n),new Xr(this.lng+l,this.lat+n))}static convert(t){if(t instanceof Xr)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Xr(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Xr(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ph=2*Math.PI*Vc;function pc(i){return Ph*Math.cos(i*Math.PI/180)}function O0(i){return(180+i)/360}function Wl(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function T0(i,t){return i/pc(t)}function Ko(i){return 360*i-180}function Do(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}function M1(i,t){return i*pc(Do(t))}const Ul=85.051129;function I1(i){return 1/Math.cos(i*Math.PI/180)}class mc{constructor(t,n,l=0){this.x=+t,this.y=+n,this.z=+l}static fromLngLat(t,n=0){const l=Xr.convert(t);return new mc(O0(l.lng),Wl(l.lat),T0(n,l.lat))}toLngLat(){return new Xr(Ko(this.x),Do(this.y))}toAltitude(){return M1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ph*I1(Do(this.y))}}function ud(i,t,n,l,h,p,y,v,C){const w=(t+l)/2,R=(n+h)/2,W=new Me(w,R);v(W),function(V,K,re,pe,Pe,je){const lt=re-Pe,Ve=pe-je;return Math.abs((pe-K)*lt-(re-V)*Ve)/Math.hypot(lt,Ve)}(W.x,W.y,p.x,p.y,y.x,y.y)>=C?(ud(i,t,n,w,R,p,W,v,C),ud(i,w,R,l,h,W,y,v,C)):i.push(y)}function k1(i,t,n){let l=i[0],h=l.x,p=l.y;t(l);const y=[l];for(let v=1;v<i.length;v++){const C=i[v],{x:w,y:R}=C;t(C),ud(y,h,p,w,R,l,C,t,n),h=w,p=R,l=C}return y}function cd(i,t,n,l){if(l(t,n)){const h=t.add(n)._mult(.5);cd(i,t,h,l),cd(i,h,n,l)}else i.push(n)}function hd(i,t){let n=i[0];const l=[n];for(let h=1;h<i.length;h++){const p=i[h];cd(l,n,p,t),n=p}return l}const dd=Math.pow(2,14)-1,Au=-dd-1;function Cp(i,t){const n=Math.round(i.x*t),l=Math.round(i.y*t);return i.x=Y(n,Au,dd),i.y=Y(l,Au,dd),(n<i.x||n>i.x+1||l<i.y||l>i.y+1)&&_r("Geometry exceeds allowed extent, reduce your vector tile buffer size"),i}function zs(i,t,n){const l=i.loadGeometry(),h=i.extent,p=ar/h;if(t&&n&&n.projection.isReprojectedInTileSpace){const y=1<<t.z,{scale:v,x:C,y:w,projection:R}=n,W=V=>{const K=Ko((t.x+V.x/h)/y),re=Do((t.y+V.y/h)/y),pe=R.project(K,re);V.x=(pe.x*v-C)*h,V.y=(pe.y*v-w)*h};for(let V=0;V<l.length;V++)if(i.type!==1)l[V]=k1(l[V],W,1);else{const K=[];for(const re of l[V])re.x<0||re.x>=h||re.y<0||re.y>=h||(W(re),K.push(re));l[V]=K}}for(const y of l)for(const v of y)Cp(v,p);return l}function zl(i,t){return{type:i.type,id:i.id,properties:i.properties,geometry:t?zs(i):[]}}function Jc(i,t,n,l,h){i.emplaceBack(2*t+(l+1)/2,2*n+(h+1)/2)}function bu(i,t,n){i.emplaceBack(t.x,t.y,t.z,n[0]*16384,n[1]*16384,n[2]*16384)}class fc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new Jr,this.indexArray=new Po,this.segments=new po,this.programConfigurations=new f_(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,l,h){const p=this.layers[0],y=[];let v=null;p.type==="circle"&&(v=p.layout.get("circle-sort-key"));for(const{feature:w,id:R,index:W,sourceLayerIndex:V}of t){const K=this.layers[0]._featureFilter.needGeometry,re=zl(w,K);if(!this.layers[0]._featureFilter.filter(new Lt(this.zoom),re,l))continue;const pe=v?v.evaluate(re,{},l):void 0,Pe={id:R,properties:w.properties,type:w.type,sourceLayerIndex:V,index:W,geometry:K?re.geometry:zs(w,l,h),patterns:{},sortKey:pe};y.push(Pe)}v&&y.sort((w,R)=>w.sortKey-R.sortKey);let C=null;h.projection.name==="globe"&&(this.globeExtVertexArray=new gs,C=h.projection);for(const w of y){const{geometry:R,index:W,sourceLayerIndex:V}=w,K=t[W].feature;this.addFeature(w,R,W,n.availableImages,l,C),n.featureIndex.insert(K,R,W,V,this.index)}}update(t,n,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,l,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Uc.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,zc.members))),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(t,n,l,h,p,y){for(const v of n)for(const C of v){const w=C.x,R=C.y;if(w<0||w>=ar||R<0||R>=ar)continue;if(y){const K=y.projectTilePoint(w,R,p),re=y.upVector(p,w,R),pe=this.globeExtVertexArray;bu(pe,K,re),bu(pe,K,re),bu(pe,K,re),bu(pe,K,re)}const W=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),V=W.vertexLength;Jc(this.layoutVertexArray,w,R,-1,-1),Jc(this.layoutVertexArray,w,R,1,-1),Jc(this.layoutVertexArray,w,R,1,1),Jc(this.layoutVertexArray,w,R,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+2,V+3),W.vertexLength+=4,W.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,{},h,p)}}function gc(i,t){for(let n=0;n<i.length;n++)if(vu(t,i[n]))return!0;for(let n=0;n<t.length;n++)if(vu(i,t[n]))return!0;return!!Yc(i,t)}function L1(i,t,n){return!!vu(i,t)||!!Nh(t,i,n)}function pd(i,t){if(i.length===1)return B0(t,i[0]);for(let n=0;n<t.length;n++){const l=t[n];for(let h=0;h<l.length;h++)if(vu(i,l[h]))return!0}for(let n=0;n<i.length;n++)if(B0(t,i[n]))return!0;for(let n=0;n<t.length;n++)if(Yc(i,t[n]))return!0;return!1}function jc(i,t,n){if(i.length>1){if(Yc(i,t))return!0;for(let l=0;l<t.length;l++)if(Nh(t[l],i,n))return!0}for(let l=0;l<i.length;l++)if(Nh(i[l],t,n))return!0;return!1}function Yc(i,t){if(i.length===0||t.length===0)return!1;for(let n=0;n<i.length-1;n++){const l=i[n],h=i[n+1];for(let p=0;p<t.length-1;p++)if(Vl(l,h,t[p],t[p+1]))return!0}return!1}function Vl(i,t,n,l){return Ar(i,n,l)!==Ar(t,n,l)&&Ar(i,t,n)!==Ar(i,t,l)}function Nh(i,t,n){const l=n*n;if(t.length===1)return i.distSqr(t[0])<l;for(let h=1;h<t.length;h++)if(md(i,t[h-1],t[h])<l)return!0;return!1}function md(i,t,n){const l=t.distSqr(n);if(l===0)return i.distSqr(t);const h=((i.x-t.x)*(n.x-t.x)+(i.y-t.y)*(n.y-t.y))/l;return i.distSqr(h<0?t:h>1?n:n.sub(t)._mult(h)._add(t))}function B0(i,t){let n,l,h,p=!1;for(let y=0;y<i.length;y++){n=i[y];for(let v=0,C=n.length-1;v<n.length;C=v++)l=n[v],h=n[C],l.y>t.y!=h.y>t.y&&t.x<(h.x-l.x)*(t.y-l.y)/(h.y-l.y)+l.x&&(p=!p)}return p}function vu(i,t){let n=!1;for(let l=0,h=i.length-1;l<i.length;h=l++){const p=i[l],y=i[h];p.y>t.y!=y.y>t.y&&t.x<(y.x-p.x)*(t.y-p.y)/(y.y-p.y)+p.x&&(n=!n)}return n}function Su(i,t,n,l,h){for(const y of i)if(t<=y.x&&n<=y.y&&l>=y.x&&h>=y.y)return!0;const p=[new Me(t,n),new Me(t,h),new Me(l,h),new Me(l,n)];if(i.length>2){for(const y of p)if(vu(i,y))return!0}for(let y=0;y<i.length-1;y++)if(Tc(i[y],i[y+1],p))return!0;return!1}function Tc(i,t,n){const l=n[0],h=n[2];if(i.x<l.x&&t.x<l.x||i.x>h.x&&t.x>h.x||i.y<l.y&&t.y<l.y||i.y>h.y&&t.y>h.y)return!1;const p=Ar(i,t,n[0]);return p!==Ar(i,t,n[1])||p!==Ar(i,t,n[2])||p!==Ar(i,t,n[3])}function G0(i,t,n){const l=t.paint.get(i).value;return l.kind==="constant"?l.value:n.programConfigurations.get(t.id).getMaxValue(i)}function xu(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Cu(i,t,n,l,h){if(!t[0]&&!t[1])return i;const p=Me.convert(t)._mult(h);n==="viewport"&&p._rotate(-l);const y=[];for(let v=0;v<i.length;v++)y.push(i[v].sub(p));return y}function H_(i,t,n,l){const h=Me.convert(i)._mult(l);return t==="viewport"&&h._rotate(-n),h}En(fc,"CircleBucket",{omit:["layers"]});const Pu=new An({"circle-sort-key":new Yt(ui.layout_circle["circle-sort-key"])});var yc={paint:new An({"circle-radius":new Yt(ui.paint_circle["circle-radius"]),"circle-color":new Yt(ui.paint_circle["circle-color"]),"circle-blur":new Yt(ui.paint_circle["circle-blur"]),"circle-opacity":new Yt(ui.paint_circle["circle-opacity"]),"circle-translate":new kt(ui.paint_circle["circle-translate"]),"circle-translate-anchor":new kt(ui.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new kt(ui.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new kt(ui.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Yt(ui.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Yt(ui.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Yt(ui.paint_circle["circle-stroke-opacity"])}),layout:Pu},Nu=1e-6,sa=typeof Float32Array<"u"?Float32Array:Array;function wu(){var i=new sa(9);return sa!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Eu(i,t,n){var l=t[0],h=t[1],p=t[2],y=t[3],v=t[4],C=t[5],w=t[6],R=t[7],W=t[8],V=n[0],K=n[1],re=n[2],pe=n[3],Pe=n[4],je=n[5],lt=n[6],Ve=n[7],Qe=n[8];return i[0]=V*l+K*y+re*w,i[1]=V*h+K*v+re*R,i[2]=V*p+K*C+re*W,i[3]=pe*l+Pe*y+je*w,i[4]=pe*h+Pe*v+je*R,i[5]=pe*p+Pe*C+je*W,i[6]=lt*l+Ve*y+Qe*w,i[7]=lt*h+Ve*v+Qe*R,i[8]=lt*p+Ve*C+Qe*W,i}function y0(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function wh(i,t){var n=t[0],l=t[1],h=t[2],p=t[3],y=t[4],v=t[5],C=t[6],w=t[7],R=t[8],W=t[9],V=t[10],K=t[11],re=t[12],pe=t[13],Pe=t[14],je=t[15],lt=n*v-l*y,Ve=n*C-h*y,Qe=n*w-p*y,gt=l*C-h*v,ut=l*w-p*v,$t=h*w-p*C,jt=R*pe-W*re,Si=R*Pe-V*re,tn=R*je-K*re,li=W*Pe-V*pe,Ei=W*je-K*pe,ki=V*je-K*Pe,Xi=lt*ki-Ve*Ei+Qe*li+gt*tn-ut*Si+$t*jt;return Xi?(i[0]=(v*ki-C*Ei+w*li)*(Xi=1/Xi),i[1]=(h*Ei-l*ki-p*li)*Xi,i[2]=(pe*$t-Pe*ut+je*gt)*Xi,i[3]=(V*ut-W*$t-K*gt)*Xi,i[4]=(C*tn-y*ki-w*Si)*Xi,i[5]=(n*ki-h*tn+p*Si)*Xi,i[6]=(Pe*Qe-re*$t-je*Ve)*Xi,i[7]=(R*$t-V*Qe+K*Ve)*Xi,i[8]=(y*Ei-v*tn+w*jt)*Xi,i[9]=(l*tn-n*Ei-p*jt)*Xi,i[10]=(re*ut-pe*Qe+je*lt)*Xi,i[11]=(W*Qe-R*ut-K*lt)*Xi,i[12]=(v*Si-y*li-C*jt)*Xi,i[13]=(n*li-l*Si+h*jt)*Xi,i[14]=(pe*Ve-re*gt-Pe*lt)*Xi,i[15]=(R*gt-W*Ve+V*lt)*Xi,i):null}function F_(i,t,n){var l=t[0],h=t[1],p=t[2],y=t[3],v=t[4],C=t[5],w=t[6],R=t[7],W=t[8],V=t[9],K=t[10],re=t[11],pe=t[12],Pe=t[13],je=t[14],lt=t[15],Ve=n[0],Qe=n[1],gt=n[2],ut=n[3];return i[0]=Ve*l+Qe*v+gt*W+ut*pe,i[1]=Ve*h+Qe*C+gt*V+ut*Pe,i[2]=Ve*p+Qe*w+gt*K+ut*je,i[3]=Ve*y+Qe*R+gt*re+ut*lt,i[4]=(Ve=n[4])*l+(Qe=n[5])*v+(gt=n[6])*W+(ut=n[7])*pe,i[5]=Ve*h+Qe*C+gt*V+ut*Pe,i[6]=Ve*p+Qe*w+gt*K+ut*je,i[7]=Ve*y+Qe*R+gt*re+ut*lt,i[8]=(Ve=n[8])*l+(Qe=n[9])*v+(gt=n[10])*W+(ut=n[11])*pe,i[9]=Ve*h+Qe*C+gt*V+ut*Pe,i[10]=Ve*p+Qe*w+gt*K+ut*je,i[11]=Ve*y+Qe*R+gt*re+ut*lt,i[12]=(Ve=n[12])*l+(Qe=n[13])*v+(gt=n[14])*W+(ut=n[15])*pe,i[13]=Ve*h+Qe*C+gt*V+ut*Pe,i[14]=Ve*p+Qe*w+gt*K+ut*je,i[15]=Ve*y+Qe*R+gt*re+ut*lt,i}function Mu(i,t,n){var l,h,p,y,v,C,w,R,W,V,K,re,pe=n[0],Pe=n[1],je=n[2];return t===i?(i[12]=t[0]*pe+t[4]*Pe+t[8]*je+t[12],i[13]=t[1]*pe+t[5]*Pe+t[9]*je+t[13],i[14]=t[2]*pe+t[6]*Pe+t[10]*je+t[14],i[15]=t[3]*pe+t[7]*Pe+t[11]*je+t[15]):(h=t[1],p=t[2],y=t[3],v=t[4],C=t[5],w=t[6],R=t[7],W=t[8],V=t[9],K=t[10],re=t[11],i[0]=l=t[0],i[1]=h,i[2]=p,i[3]=y,i[4]=v,i[5]=C,i[6]=w,i[7]=R,i[8]=W,i[9]=V,i[10]=K,i[11]=re,i[12]=l*pe+v*Pe+W*je+t[12],i[13]=h*pe+C*Pe+V*je+t[13],i[14]=p*pe+w*Pe+K*je+t[14],i[15]=y*pe+R*Pe+re*je+t[15]),i}function Jl(i,t,n){var l=n[0],h=n[1],p=n[2];return i[0]=t[0]*l,i[1]=t[1]*l,i[2]=t[2]*l,i[3]=t[3]*l,i[4]=t[4]*h,i[5]=t[5]*h,i[6]=t[6]*h,i[7]=t[7]*h,i[8]=t[8]*p,i[9]=t[9]*p,i[10]=t[10]*p,i[11]=t[11]*p,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function qc(i,t,n){var l=Math.sin(n),h=Math.cos(n),p=t[4],y=t[5],v=t[6],C=t[7],w=t[8],R=t[9],W=t[10],V=t[11];return t!==i&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[4]=p*h+w*l,i[5]=y*h+R*l,i[6]=v*h+W*l,i[7]=C*h+V*l,i[8]=w*h-p*l,i[9]=R*h-y*l,i[10]=W*h-v*l,i[11]=V*h-C*l,i}function Ac(i,t,n){var l=Math.sin(n),h=Math.cos(n),p=t[0],y=t[1],v=t[2],C=t[3],w=t[8],R=t[9],W=t[10],V=t[11];return t!==i&&(i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=p*h-w*l,i[1]=y*h-R*l,i[2]=v*h-W*l,i[3]=C*h-V*l,i[8]=p*l+w*h,i[9]=y*l+R*h,i[10]=v*l+W*h,i[11]=C*l+V*h,i}function Eh(i,t){return i[0]=t[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=t[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=t[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Mh(i,t,n){var l,h,p,y=n[0],v=n[1],C=n[2],w=Math.hypot(y,v,C);return w<Nu?null:(y*=w=1/w,v*=w,C*=w,l=Math.sin(t),h=Math.cos(t),i[0]=y*y*(p=1-h)+h,i[1]=v*y*p+C*l,i[2]=C*y*p-v*l,i[3]=0,i[4]=y*v*p-C*l,i[5]=v*v*p+h,i[6]=C*v*p+y*l,i[7]=0,i[8]=y*C*p+v*l,i[9]=v*C*p-y*l,i[10]=C*C*p+h,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}Math.hypot||(Math.hypot=function(){for(var i=0,t=arguments.length;t--;)i+=arguments[t]*arguments[t];return Math.sqrt(i)});var fd=F_;function $c(){var i=new sa(3);return sa!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function Ih(i){var t=new sa(3);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t}function Zc(i){return Math.hypot(i[0],i[1],i[2])}function Ys(i,t,n){var l=new sa(3);return l[0]=i,l[1]=t,l[2]=n,l}function Ca(i,t,n){return i[0]=t[0]+n[0],i[1]=t[1]+n[1],i[2]=t[2]+n[2],i}function kh(i,t,n){return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],i}function Lh(i,t,n){return i[0]=t[0]*n[0],i[1]=t[1]*n[1],i[2]=t[2]*n[2],i}function bc(i,t,n){return i[0]=Math.min(t[0],n[0]),i[1]=Math.min(t[1],n[1]),i[2]=Math.min(t[2],n[2]),i}function Za(i,t,n){return i[0]=Math.max(t[0],n[0]),i[1]=Math.max(t[1],n[1]),i[2]=Math.max(t[2],n[2]),i}function oa(i,t,n){return i[0]=t[0]*n,i[1]=t[1]*n,i[2]=t[2]*n,i}function Iu(i,t,n,l){return i[0]=t[0]+n[0]*l,i[1]=t[1]+n[1]*l,i[2]=t[2]+n[2]*l,i}function Qo(i,t){var n=t[0],l=t[1],h=t[2],p=n*n+l*l+h*h;return p>0&&(p=1/Math.sqrt(p)),i[0]=t[0]*p,i[1]=t[1]*p,i[2]=t[2]*p,i}function A0(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]}function O_(i,t,n){var l=t[0],h=t[1],p=t[2],y=n[0],v=n[1],C=n[2];return i[0]=h*C-p*v,i[1]=p*y-l*C,i[2]=l*v-h*y,i}function qs(i,t,n){var l=t[0],h=t[1],p=t[2],y=n[3]*l+n[7]*h+n[11]*p+n[15];return i[0]=(n[0]*l+n[4]*h+n[8]*p+n[12])/(y=y||1),i[1]=(n[1]*l+n[5]*h+n[9]*p+n[13])/y,i[2]=(n[2]*l+n[6]*h+n[10]*p+n[14])/y,i}function vc(i,t,n){var l=n[0],h=n[1],p=n[2],y=t[0],v=t[1],C=t[2],w=h*C-p*v,R=p*y-l*C,W=l*v-h*y,V=h*W-p*R,K=p*w-l*W,re=l*R-h*w,pe=2*n[3];return R*=pe,W*=pe,K*=2,re*=2,i[0]=y+(w*=pe)+(V*=2),i[1]=v+R+K,i[2]=C+W+re,i}var g_,fl=kh,ku=Lh,gd=Zc;function Td(i,t,n){return i[0]=t[0]*n,i[1]=t[1]*n,i[2]=t[2]*n,i[3]=t[3]*n,i}function Pa(i,t){var n=t[0],l=t[1],h=t[2],p=t[3],y=n*n+l*l+h*h+p*p;return y>0&&(y=1/Math.sqrt(y)),i[0]=n*y,i[1]=l*y,i[2]=h*y,i[3]=p*y,i}function Na(i,t,n){var l=t[0],h=t[1],p=t[2],y=t[3];return i[0]=n[0]*l+n[4]*h+n[8]*p+n[12]*y,i[1]=n[1]*l+n[5]*h+n[9]*p+n[13]*y,i[2]=n[2]*l+n[6]*h+n[10]*p+n[14]*y,i[3]=n[3]*l+n[7]*h+n[11]*p+n[15]*y,i}function W0(){var i=new sa(4);return sa!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function Sc(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function yd(i,t,n){n*=.5;var l=t[0],h=t[1],p=t[2],y=t[3],v=Math.sin(n),C=Math.cos(n);return i[0]=l*C+y*v,i[1]=h*C+p*v,i[2]=p*C-h*v,i[3]=y*C-l*v,i}function Ad(i,t,n){n*=.5;var l=t[0],h=t[1],p=t[2],y=t[3],v=Math.sin(n),C=Math.cos(n);return i[0]=l*C-p*v,i[1]=h*C+y*v,i[2]=p*C+l*v,i[3]=y*C-h*v,i}$c(),g_=new sa(4),sa!=Float32Array&&(g_[0]=0,g_[1]=0,g_[2]=0,g_[3]=0);var D1=Pa;$c(),Ys(1,0,0),Ys(0,1,0),W0(),W0(),wu();class Dh{constructor(t,n){this.pos=t,this.dir=n}intersectsPlane(t,n,l){const h=A0(n,this.dir);if(Math.abs(h)<1e-6)return!1;const p=((t[0]-this.pos[0])*n[0]+(t[1]-this.pos[1])*n[1]+(t[2]-this.pos[2])*n[2])/h;return l[0]=this.pos[0]+this.dir[0]*p,l[1]=this.pos[1]+this.dir[1]*p,l[2]=this.pos[2]+this.dir[2]*p,!0}closestPointOnSphere(t,n,l){if(function(K,re){var pe=K[0],Pe=K[1],je=K[2],lt=re[0],Ve=re[1],Qe=re[2];return Math.abs(pe-lt)<=Nu*Math.max(1,Math.abs(pe),Math.abs(lt))&&Math.abs(Pe-Ve)<=Nu*Math.max(1,Math.abs(Pe),Math.abs(Ve))&&Math.abs(je-Qe)<=Nu*Math.max(1,Math.abs(je),Math.abs(Qe))}(this.pos,t)||n===0)return l[0]=l[1]=l[2]=0,!1;const[h,p,y]=this.dir,v=this.pos[0]-t[0],C=this.pos[1]-t[1],w=this.pos[2]-t[2],R=h*h+p*p+y*y,W=2*(v*h+C*p+w*y),V=W*W-4*R*(v*v+C*C+w*w-n*n);if(V<0){const K=Math.max(-W/2,0),re=v+h*K,pe=C+p*K,Pe=w+y*K,je=Math.hypot(re,pe,Pe);return l[0]=re*n/je,l[1]=pe*n/je,l[2]=Pe*n/je,!1}{const K=(-W-Math.sqrt(V))/(2*R);if(K<0){const re=Math.hypot(v,C,w);return l[0]=v*n/re,l[1]=C*n/re,l[2]=w*n/re,!1}return l[0]=v+h*K,l[1]=C+p*K,l[2]=w+y*K,!0}}}class Lu{constructor(t,n,l,h,p){this.TL=t,this.TR=n,this.BR=l,this.BL=h,this.horizon=p}static fromInvProjectionMatrix(t,n,l){const h=[-1,1,1],p=[1,1,1],y=[1,-1,1],v=[-1,-1,1],C=qs(h,h,t),w=qs(p,p,t),R=qs(y,y,t),W=qs(v,v,t);return new Lu(C,w,R,W,n/l)}}class jl{constructor(t,n){this.points=t,this.planes=n}static fromInvProjectionMatrix(t,n,l,h){const p=Math.pow(2,l),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(C=>{const w=Na([],C,t),R=1/w[3]/n*p;return function(W,V,K){return W[0]=V[0]*K[0],W[1]=V[1]*K[1],W[2]=V[2]*K[2],W[3]=V[3]*K[3],W}(w,w,[R,R,h?1/w[3]:R,R])}),v=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(C=>{const w=Qo([],O_([],fl([],y[C[0]],y[C[1]]),fl([],y[C[2]],y[C[1]]))),R=-A0(w,y[C[1]]);return w.concat(R)});return new jl(y,v)}}class lo{static fromPoints(t){const n=[1/0,1/0,1/0],l=[-1/0,-1/0,-1/0];for(const h of t)bc(n,n,h),Za(l,l,h);return new lo(n,l)}static applyTransform(t,n){const l=t.getCorners();for(let h=0;h<l.length;++h)qs(l[h],l[h],n);return lo.fromPoints(l)}constructor(t,n){this.min=t,this.max=n,this.center=oa([],Ca([],this.min,this.max),.5)}quadrant(t){const n=[t%2==0,t<2],l=Ih(this.min),h=Ih(this.max);for(let p=0;p<n.length;p++)l[p]=n[p]?this.min[p]:this.center[p],h[p]=n[p]?this.center[p]:this.max[p];return h[2]=this.max[2],new lo(l,h)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,n=this.max;return[[t[0],t[1],t[2]],[n[0],t[1],t[2]],[n[0],n[1],t[2]],[t[0],n[1],t[2]],[t[0],t[1],n[2]],[n[0],t[1],n[2]],[n[0],n[1],n[2]],[t[0],n[1],n[2]]]}intersects(t){const n=this.getCorners();let l=!0;for(let h=0;h<t.planes.length;h++){const p=t.planes[h];let y=0;for(let v=0;v<n.length;v++)y+=A0(p,n[v])+p[3]>=0;if(y===0)return 0;y!==n.length&&(l=!1)}if(l)return 2;for(let h=0;h<3;h++){let p=Number.MAX_VALUE,y=-Number.MAX_VALUE;for(let v=0;v<t.points.length;v++){const C=t.points[v][h]-this.min[h];p=Math.min(p,C),y=Math.max(y,C)}if(y<0||p>this.max[h]-this.min[h])return 0}return 1}}function Rh(i,t,n,l,h,p,y,v,C){if(p&&i.queryGeometry.isAboveHorizon)return!1;p&&(C*=i.pixelToTileUnitsFactor);const w=i.tileID.canonical,R=n.projection.upVectorScale(w,n.center.lat,n.worldSize).metersToTile;for(const W of t)for(const V of W){const K=V.add(v),re=h&&n.elevation?n.elevation.exaggeration()*h.getElevationAt(K.x,K.y,!0):0,pe=n.projection.projectTilePoint(K.x,K.y,w);if(re>0){const Ve=n.projection.upVector(w,K.x,K.y);pe.x+=Ve[0]*R*re,pe.y+=Ve[1]*R*re,pe.z+=Ve[2]*R*re}const Pe=p?K:R1(pe.x,pe.y,pe.z,l),je=p?i.tilespaceRays.map(Ve=>vd(Ve,re)):i.queryGeometry.screenGeometry,lt=Na([],[pe.x,pe.y,pe.z,1],l);if(!y&&p?C*=lt[3]/n.cameraToCenterDistance:y&&!p&&(C*=n.cameraToCenterDistance/lt[3]),p){const Ve=Do((V.y/ar+w.y)/(1<<w.z));C/=n.projection.pixelsPerMeter(Ve,1)/T0(1,Ve)}if(L1(je,Pe,C))return!0}return!1}function R1(i,t,n,l){const h=Na([],[i,t,n,1],l);return new Me(h[0]/h[3],h[1]/h[3])}const bd=Ys(0,0,0),H1=Ys(0,0,1);function vd(i,t){const n=$c();return bd[2]=t,i.intersectsPlane(bd,H1,n),new Me(n[0],n[1])}class Sd extends fc{}function Hh(i,{width:t,height:n},l,h){if(h){if(h instanceof Uint8ClampedArray)h=new Uint8Array(h.buffer);else if(h.length!==t*n*l)throw new RangeError("mismatched image size")}else h=new Uint8Array(t*n*l);return i.width=t,i.height=n,i.data=h,i}function xd(i,t,n){const{width:l,height:h}=t;l===i.width&&h===i.height||(Du(i,t,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,l),height:Math.min(i.height,h)},n),i.width=l,i.height=h,i.data=t.data)}function Du(i,t,n,l,h,p){if(h.width===0||h.height===0)return t;if(h.width>i.width||h.height>i.height||n.x>i.width-h.width||n.y>i.height-h.height)throw new RangeError("out of range source coordinates for image copy");if(h.width>t.width||h.height>t.height||l.x>t.width-h.width||l.y>t.height-h.height)throw new RangeError("out of range destination coordinates for image copy");const y=i.data,v=t.data;for(let C=0;C<h.height;C++){const w=((n.y+C)*i.width+n.x)*p,R=((l.y+C)*t.width+l.x)*p;for(let W=0;W<h.width*p;W++)v[R+W]=y[w+W]}return t}En(Sd,"HeatmapBucket",{omit:["layers"]});class gl{constructor(t,n){Hh(this,t,1,n)}resize(t){xd(this,new gl(t),1)}clone(){return new gl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,l,h,p){Du(t,n,l,h,p,1)}}class Xa{constructor(t,n){Hh(this,t,4,n)}resize(t){xd(this,new Xa(t),4)}replace(t,n){n?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Xa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,l,h,p){Du(t,n,l,h,p,4)}}En(gl,"AlphaImage"),En(Xa,"RGBAImage");var Cd={paint:new An({"heatmap-radius":new Yt(ui.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Yt(ui.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new kt(ui.paint_heatmap["heatmap-intensity"]),"heatmap-color":new yn(ui.paint_heatmap["heatmap-color"]),"heatmap-opacity":new kt(ui.paint_heatmap["heatmap-opacity"])})};function Fh(i){const t={},n=i.resolution||256,l=i.clips?i.clips.length:1,h=i.image||new Xa({width:n,height:l}),p=(y,v,C)=>{t[i.evaluationKey]=C;const w=i.expression.evaluate(t);h.data[y+v+0]=Math.floor(255*w.r/w.a),h.data[y+v+1]=Math.floor(255*w.g/w.a),h.data[y+v+2]=Math.floor(255*w.b/w.a),h.data[y+v+3]=Math.floor(255*w.a)};if(i.clips)for(let y=0,v=0;y<l;++y,v+=4*n)for(let C=0,w=0;C<n;C++,w+=4){const R=C/(n-1),{start:W,end:V}=i.clips[y];p(v,w,W*(1-R)+V*R)}else for(let y=0,v=0;y<n;y++,v+=4)p(0,v,y/(n-1));return h}var Pd={paint:new An({"hillshade-illumination-direction":new kt(ui.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new kt(ui.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new kt(ui.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new kt(ui.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new kt(ui.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new kt(ui.paint_hillshade["hillshade-accent-color"])})};const Nd=bn([{name:"a_pos",components:2,type:"Int16"}],4),{members:wd}=Nd;var Ru={exports:{}};function B_(i,t,n){n=n||2;var l,h,p,y,v,C,w,R=t&&t.length,W=R?t[0]*n:i.length,V=Ed(i,0,W,n,!0),K=[];if(!V||V.next===V.prev)return K;if(R&&(V=function(pe,Pe,je,lt){var Ve,Qe,gt,ut=[];for(Ve=0,Qe=Pe.length;Ve<Qe;Ve++)(gt=Ed(pe,Pe[Ve]*lt,Ve<Qe-1?Pe[Ve+1]*lt:pe.length,lt,!1))===gt.next&&(gt.steiner=!0),ut.push(Oh(gt));for(ut.sort(G1),Ve=0;Ve<ut.length;Ve++)je=W1(ut[Ve],je);return je}(i,t,V,n)),i.length>80*n){l=p=i[0],h=y=i[1];for(var re=n;re<W;re+=n)(v=i[re])<l&&(l=v),(C=i[re+1])<h&&(h=C),v>p&&(p=v),C>y&&(y=C);w=(w=Math.max(p-l,y-h))!==0?32767/w:0}return Hu(V,K,n,l,h,w,0),K}function Ed(i,t,n,l,h){var p,y;if(h===th(i,t,n,l)>0)for(p=t;p<n;p+=l)y=Ld(p,i[p],i[p+1],y);else for(p=n-l;p>=t;p-=l)y=Ld(p,i[p],i[p+1],y);return y&&Xc(y,y.next)&&(eh(y),y=y.next),y}function Yl(i,t){if(!i)return i;t||(t=i);var n,l=i;do if(n=!1,l.steiner||!Xc(l,l.next)&&To(l.prev,l,l.next)!==0)l=l.next;else{if(eh(l),(l=t=l.prev)===l.next)break;n=!0}while(n||l!==t);return t}function Hu(i,t,n,l,h,p,y){if(i){!y&&p&&function(R,W,V,K){var re=R;do re.z===0&&(re.z=Id(re.x,re.y,W,V,K)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==R);re.prevZ.nextZ=null,re.prevZ=null,function(pe){var Pe,je,lt,Ve,Qe,gt,ut,$t,jt=1;do{for(je=pe,pe=null,Qe=null,gt=0;je;){for(gt++,lt=je,ut=0,Pe=0;Pe<jt&&(ut++,lt=lt.nextZ);Pe++);for($t=jt;ut>0||$t>0&&lt;)ut!==0&&($t===0||!lt||je.z<=lt.z)?(Ve=je,je=je.nextZ,ut--):(Ve=lt,lt=lt.nextZ,$t--),Qe?Qe.nextZ=Ve:pe=Ve,Ve.prevZ=Qe,Qe=Ve;je=lt}Qe.nextZ=null,jt*=2}while(gt>1)}(re)}(i,l,h,p);for(var v,C,w=i;i.prev!==i.next;)if(v=i.prev,C=i.next,p?Pp(i,l,h,p):F1(i))t.push(v.i/n|0),t.push(i.i/n|0),t.push(C.i/n|0),eh(i),i=C.next,w=C.next;else if((i=C)===w){y?y===1?Hu(i=O1(Yl(i),t,n),t,n,l,h,p,2):y===2&&B1(i,t,n,l,h,p):Hu(Yl(i),t,n,l,h,p,1);break}}}function F1(i){var t=i.prev,n=i,l=i.next;if(To(t,n,l)>=0)return!1;for(var h=t.x,p=n.x,y=l.x,v=t.y,C=n.y,w=l.y,R=h<p?h<y?h:y:p<y?p:y,W=v<C?v<w?v:w:C<w?C:w,V=h>p?h>y?h:y:p>y?p:y,K=v>C?v>w?v:w:C>w?C:w,re=l.next;re!==t;){if(re.x>=R&&re.x<=V&&re.y>=W&&re.y<=K&&G_(h,v,p,C,y,w,re.x,re.y)&&To(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function Pp(i,t,n,l){var h=i.prev,p=i,y=i.next;if(To(h,p,y)>=0)return!1;for(var v=h.x,C=p.x,w=y.x,R=h.y,W=p.y,V=y.y,K=v<C?v<w?v:w:C<w?C:w,re=R<W?R<V?R:V:W<V?W:V,pe=v>C?v>w?v:w:C>w?C:w,Pe=R>W?R>V?R:V:W>V?W:V,je=Id(K,re,t,n,l),lt=Id(pe,Pe,t,n,l),Ve=i.prevZ,Qe=i.nextZ;Ve&&Ve.z>=je&&Qe&&Qe.z<=lt;){if(Ve.x>=K&&Ve.x<=pe&&Ve.y>=re&&Ve.y<=Pe&&Ve!==h&&Ve!==y&&G_(v,R,C,W,w,V,Ve.x,Ve.y)&&To(Ve.prev,Ve,Ve.next)>=0||(Ve=Ve.prevZ,Qe.x>=K&&Qe.x<=pe&&Qe.y>=re&&Qe.y<=Pe&&Qe!==h&&Qe!==y&&G_(v,R,C,W,w,V,Qe.x,Qe.y)&&To(Qe.prev,Qe,Qe.next)>=0))return!1;Qe=Qe.nextZ}for(;Ve&&Ve.z>=je;){if(Ve.x>=K&&Ve.x<=pe&&Ve.y>=re&&Ve.y<=Pe&&Ve!==h&&Ve!==y&&G_(v,R,C,W,w,V,Ve.x,Ve.y)&&To(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.prevZ}for(;Qe&&Qe.z<=lt;){if(Qe.x>=K&&Qe.x<=pe&&Qe.y>=re&&Qe.y<=Pe&&Qe!==h&&Qe!==y&&G_(v,R,C,W,w,V,Qe.x,Qe.y)&&To(Qe.prev,Qe,Qe.next)>=0)return!1;Qe=Qe.nextZ}return!0}function O1(i,t,n){var l=i;do{var h=l.prev,p=l.next.next;!Xc(h,p)&&kd(h,l,l.next,p)&&xc(h,p)&&xc(p,h)&&(t.push(h.i/n|0),t.push(l.i/n|0),t.push(p.i/n|0),eh(l),eh(l.next),l=i=p),l=l.next}while(l!==i);return Yl(l)}function B1(i,t,n,l,h,p){var y=i;do{for(var v=y.next.next;v!==y.prev;){if(y.i!==v.i&&U1(y,v)){var C=W_(y,v);return y=Yl(y,y.next),C=Yl(C,C.next),Hu(y,t,n,l,h,p,0),void Hu(C,t,n,l,h,p,0)}v=v.next}y=y.next}while(y!==i)}function G1(i,t){return i.x-t.x}function W1(i,t){var n=function(h,p){var y,v=p,C=h.x,w=h.y,R=-1/0;do{if(w<=v.y&&w>=v.next.y&&v.next.y!==v.y){var W=v.x+(w-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(W<=C&&W>R&&(R=W,y=v.x<v.next.x?v:v.next,W===C))return y}v=v.next}while(v!==p);if(!y)return null;var V,K=y,re=y.x,pe=y.y,Pe=1/0;v=y;do C>=v.x&&v.x>=re&&C!==v.x&&G_(w<pe?C:R,w,re,pe,w<pe?R:C,w,v.x,v.y)&&(V=Math.abs(w-v.y)/(C-v.x),xc(v,h)&&(V<Pe||V===Pe&&(v.x>y.x||v.x===y.x&&Md(y,v)))&&(y=v,Pe=V)),v=v.next;while(v!==K);return y}(i,t);if(!n)return t;var l=W_(n,i);return Yl(l,l.next),Yl(n,n.next)}function Md(i,t){return To(i.prev,i,t.prev)<0&&To(t.next,i,i.next)<0}function Id(i,t,n,l,h){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-n)*h|0)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-l)*h|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Oh(i){var t=i,n=i;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==i);return n}function G_(i,t,n,l,h,p,y,v){return(h-y)*(t-v)>=(i-y)*(p-v)&&(i-y)*(l-v)>=(n-y)*(t-v)&&(n-y)*(p-v)>=(h-y)*(l-v)}function U1(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!function(n,l){var h=n;do{if(h.i!==n.i&&h.next.i!==n.i&&h.i!==l.i&&h.next.i!==l.i&&kd(h,h.next,n,l))return!0;h=h.next}while(h!==n);return!1}(i,t)&&(xc(i,t)&&xc(t,i)&&function(n,l){var h=n,p=!1,y=(n.x+l.x)/2,v=(n.y+l.y)/2;do h.y>v!=h.next.y>v&&h.next.y!==h.y&&y<(h.next.x-h.x)*(v-h.y)/(h.next.y-h.y)+h.x&&(p=!p),h=h.next;while(h!==n);return p}(i,t)&&(To(i.prev,i,t.prev)||To(i,t.prev,t))||Xc(i,t)&&To(i.prev,i,i.next)>0&&To(t.prev,t,t.next)>0)}function To(i,t,n){return(t.y-i.y)*(n.x-t.x)-(t.x-i.x)*(n.y-t.y)}function Xc(i,t){return i.x===t.x&&i.y===t.y}function kd(i,t,n,l){var h=Qc(To(i,t,n)),p=Qc(To(i,t,l)),y=Qc(To(n,l,i)),v=Qc(To(n,l,t));return h!==p&&y!==v||!(h!==0||!Kc(i,n,t))||!(p!==0||!Kc(i,l,t))||!(y!==0||!Kc(n,i,l))||!(v!==0||!Kc(n,t,l))}function Kc(i,t,n){return t.x<=Math.max(i.x,n.x)&&t.x>=Math.min(i.x,n.x)&&t.y<=Math.max(i.y,n.y)&&t.y>=Math.min(i.y,n.y)}function Qc(i){return i>0?1:i<0?-1:0}function xc(i,t){return To(i.prev,i,i.next)<0?To(i,t,i.next)>=0&&To(i,i.prev,t)>=0:To(i,t,i.prev)<0||To(i,i.next,t)<0}function W_(i,t){var n=new T_(i.i,i.x,i.y),l=new T_(t.i,t.x,t.y),h=i.next,p=t.prev;return i.next=t,t.prev=i,n.next=h,h.prev=n,l.next=n,n.prev=l,p.next=l,l.prev=p,l}function Ld(i,t,n,l){var h=new T_(i,t,n);return l?(h.next=l.next,h.prev=l,l.next.prev=h,l.next=h):(h.prev=h,h.next=h),h}function eh(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function T_(i,t,n){this.i=i,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function th(i,t,n,l){for(var h=0,p=t,y=n-l;p<n;p+=l)h+=(i[y]-i[p])*(i[p+1]+i[y+1]),y=p;return h}function Fu(i,t,n,l,h){Dd(i,t,n||0,l||i.length-1,h||Ou)}function Dd(i,t,n,l,h){for(;l>n;){if(l-n>600){var p=l-n+1,y=t-n+1,v=Math.log(p),C=.5*Math.exp(2*v/3),w=.5*Math.sqrt(v*C*(p-C)/p)*(y-p/2<0?-1:1);Dd(i,t,Math.max(n,Math.floor(t-y*C/p+w)),Math.min(l,Math.floor(t+(p-y)*C/p+w)),h)}var R=i[t],W=n,V=l;for(ih(i,n,t),h(i[l],R)>0&&ih(i,n,l);W<V;){for(ih(i,W,V),W++,V--;h(i[W],R)<0;)W++;for(;h(i[V],R)>0;)V--}h(i[n],R)===0?ih(i,n,V):ih(i,++V,l),V<=t&&(n=V+1),t<=V&&(l=V-1)}}function ih(i,t,n){var l=i[t];i[t]=i[n],i[n]=l}function Ou(i,t){return i<t?-1:i>t?1:0}function Bh(i,t){const n=i.length;if(n<=1)return[i];const l=[];let h,p;for(let y=0;y<n;y++){const v=Wn(i[y]);v!==0&&(i[y].area=Math.abs(v),p===void 0&&(p=v<0),p===v<0?(h&&l.push(h),h=[i[y]]):h.push(i[y]))}if(h&&l.push(h),t>1)for(let y=0;y<l.length;y++)l[y].length<=t||(Fu(l[y],t,1,l[y].length-1,z1),l[y]=l[y].slice(0,t));return l}function z1(i,t){return t.area-i.area}function Rd(i,t,n){const l=n.patternDependencies;let h=!1;for(const p of t){const y=p.paint.get(`${i}-pattern`);y.isConstant()||(h=!0);const v=y.constantOr(null);v&&(h=!0,l[v]=!0)}return h}function Hd(i,t,n,l,h){const p=h.patternDependencies;for(const y of t){const v=y.paint.get(`${i}-pattern`).value;if(v.kind!=="constant"){let C=v.evaluate({zoom:l},n,{},h.availableImages);C=C&&C.name?C.name:C,p[C]=!0,n.patterns[y.id]=C}}return n}Ru.exports=B_,Ru.exports.default=B_,B_.deviation=function(i,t,n,l){var h=t&&t.length,p=Math.abs(th(i,0,h?t[0]*n:i.length,n));if(h)for(var y=0,v=t.length;y<v;y++)p-=Math.abs(th(i,t[y]*n,y<v-1?t[y+1]*n:i.length,n));var C=0;for(y=0;y<l.length;y+=3){var w=l[y]*n,R=l[y+1]*n,W=l[y+2]*n;C+=Math.abs((i[w]-i[W])*(i[R+1]-i[w+1])-(i[w]-i[R])*(i[W+1]-i[w+1]))}return p===0&&C===0?0:Math.abs((C-p)/p)},B_.flatten=function(i){for(var t=i[0][0].length,n={vertices:[],holes:[],dimensions:t},l=0,h=0;h<i.length;h++){for(var p=0;p<i[h].length;p++)for(var y=0;y<t;y++)n.vertices.push(i[h][p][y]);h>0&&n.holes.push(l+=i[h-1].length)}return n};class Cc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Jr,this.indexArray=new Po,this.indexArray2=new Mt,this.programConfigurations=new f_(t.layers,t.zoom),this.segments=new po,this.segments2=new po,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id),this.projection=t.projection}populate(t,n,l,h){this.hasPattern=Rd("fill",this.layers,n);const p=this.layers[0].layout.get("fill-sort-key"),y=[];for(const{feature:v,id:C,index:w,sourceLayerIndex:R}of t){const W=this.layers[0]._featureFilter.needGeometry,V=zl(v,W);if(!this.layers[0]._featureFilter.filter(new Lt(this.zoom),V,l))continue;const K=p?p.evaluate(V,{},l,n.availableImages):void 0,re={id:C,properties:v.properties,type:v.type,sourceLayerIndex:R,index:w,geometry:W?V.geometry:zs(v,l,h),patterns:{},sortKey:K};y.push(re)}p&&y.sort((v,C)=>v.sortKey-C.sortKey);for(const v of y){const{geometry:C,index:w,sourceLayerIndex:R}=v;if(this.hasPattern){const W=Hd("fill",this.layers,v,this.zoom,n);this.patternFeatures.push(W)}else this.addFeature(v,C,w,l,{},n.availableImages);n.featureIndex.insert(t[w].feature,C,w,R,this.index)}}update(t,n,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,l,h)}addFeatures(t,n,l,h,p){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,n,l,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,wd),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,n,l,h,p,y=[]){for(const v of Bh(n,500)){let C=0;for(const re of v)C+=re.length;const w=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),R=w.vertexLength,W=[],V=[];for(const re of v){if(re.length===0)continue;re!==v[0]&&V.push(W.length/2);const pe=this.segments2.prepareSegment(re.length,this.layoutVertexArray,this.indexArray2),Pe=pe.vertexLength;this.layoutVertexArray.emplaceBack(re[0].x,re[0].y),this.indexArray2.emplaceBack(Pe+re.length-1,Pe),W.push(re[0].x),W.push(re[0].y);for(let je=1;je<re.length;je++)this.layoutVertexArray.emplaceBack(re[je].x,re[je].y),this.indexArray2.emplaceBack(Pe+je-1,Pe+je),W.push(re[je].x),W.push(re[je].y);pe.vertexLength+=re.length,pe.primitiveLength+=re.length}const K=Ru.exports(W,V);for(let re=0;re<K.length;re+=3)this.indexArray.emplaceBack(R+K[re],R+K[re+1],R+K[re+2]);w.vertexLength+=C,w.primitiveLength+=K.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,p,y,h)}}En(Cc,"FillBucket",{omit:["layers","patternFeatures"]});const Np=new An({"fill-sort-key":new Yt(ui.layout_fill["fill-sort-key"])});var wp={paint:new An({"fill-antialias":new kt(ui.paint_fill["fill-antialias"]),"fill-opacity":new Yt(ui.paint_fill["fill-opacity"]),"fill-color":new Yt(ui.paint_fill["fill-color"]),"fill-outline-color":new Yt(ui.paint_fill["fill-outline-color"]),"fill-translate":new kt(ui.paint_fill["fill-translate"]),"fill-translate-anchor":new kt(ui.paint_fill["fill-translate-anchor"]),"fill-pattern":new Yt(ui.paint_fill["fill-pattern"])}),layout:Np};const Ep=bn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Mp=bn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Ip=bn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:kp}=Ep;var Gh={},Ls=Me,Fd=Pc;function Pc(i,t,n,l,h){this.properties={},this.extent=n,this.type=0,this._pbf=i,this._geometry=-1,this._keys=l,this._values=h,i.readFields(V1,this,t)}function V1(i,t,n){i==1?t.id=n.readVarint():i==2?function(l,h){for(var p=l.readVarint()+l.pos;l.pos<p;){var y=h._keys[l.readVarint()],v=h._values[l.readVarint()];h.properties[y]=v}}(n,t):i==3?t.type=n.readVarint():i==4&&(t._geometry=n.pos)}function Wh(i){for(var t,n,l=0,h=0,p=i.length,y=p-1;h<p;y=h++)l+=((n=i[y]).x-(t=i[h]).x)*(t.y+n.y);return l}Pc.types=["Unknown","Point","LineString","Polygon"],Pc.prototype.loadGeometry=function(){var i=this._pbf;i.pos=this._geometry;for(var t,n=i.readVarint()+i.pos,l=1,h=0,p=0,y=0,v=[];i.pos<n;){if(h<=0){var C=i.readVarint();l=7&C,h=C>>3}if(h--,l===1||l===2)p+=i.readSVarint(),y+=i.readSVarint(),l===1&&(t&&v.push(t),t=[]),t.push(new Ls(p,y));else{if(l!==7)throw new Error("unknown command "+l);t&&t.push(t[0].clone())}}return t&&v.push(t),v},Pc.prototype.bbox=function(){var i=this._pbf;i.pos=this._geometry;for(var t=i.readVarint()+i.pos,n=1,l=0,h=0,p=0,y=1/0,v=-1/0,C=1/0,w=-1/0;i.pos<t;){if(l<=0){var R=i.readVarint();n=7&R,l=R>>3}if(l--,n===1||n===2)(h+=i.readSVarint())<y&&(y=h),h>v&&(v=h),(p+=i.readSVarint())<C&&(C=p),p>w&&(w=p);else if(n!==7)throw new Error("unknown command "+n)}return[y,C,v,w]},Pc.prototype.toGeoJSON=function(i,t,n){var l,h,p=this.extent*Math.pow(2,n),y=this.extent*i,v=this.extent*t,C=this.loadGeometry(),w=Pc.types[this.type];function R(K){for(var re=0;re<K.length;re++){var pe=K[re];K[re]=[360*(pe.x+y)/p-180,360/Math.PI*Math.atan(Math.exp((180-360*(pe.y+v)/p)*Math.PI/180))-90]}}switch(this.type){case 1:var W=[];for(l=0;l<C.length;l++)W[l]=C[l][0];R(C=W);break;case 2:for(l=0;l<C.length;l++)R(C[l]);break;case 3:for(C=function(K){var re=K.length;if(re<=1)return[K];for(var pe,Pe,je=[],lt=0;lt<re;lt++){var Ve=Wh(K[lt]);Ve!==0&&(Pe===void 0&&(Pe=Ve<0),Pe===Ve<0?(pe&&je.push(pe),pe=[K[lt]]):pe.push(K[lt]))}return pe&&je.push(pe),je}(C),l=0;l<C.length;l++)for(h=0;h<C[l].length;h++)R(C[l][h])}C.length===1?C=C[0]:w="Multi"+w;var V={type:"Feature",geometry:{type:w,coordinates:C},properties:this.properties};return"id"in this&&(V.id=this.id),V};var J1=Fd,Od=Bd;function Bd(i,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=i,this._keys=[],this._values=[],this._features=[],i.readFields(Gd,this,t),this.length=this._features.length}function Gd(i,t,n){i===15?t.version=n.readVarint():i===1?t.name=n.readString():i===5?t.extent=n.readVarint():i===2?t._features.push(n.pos):i===3?t._keys.push(n.readString()):i===4&&t._values.push(function(l){for(var h=null,p=l.readVarint()+l.pos;l.pos<p;){var y=l.readVarint()>>3;h=y===1?l.readString():y===2?l.readFloat():y===3?l.readDouble():y===4?l.readVarint64():y===5?l.readVarint():y===6?l.readSVarint():y===7?l.readBoolean():null}return h}(n))}Bd.prototype.feature=function(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];var t=this._pbf.readVarint()+this._pbf.pos;return new J1(this._pbf,t,this.extent,this._keys,this._values)};var j1=Od;function Nc(i,t,n){if(i===3){var l=new j1(n,n.readVarint()+n.pos);l.length&&(t[l.name]=l)}}var Uh=Gh.VectorTile=function(i,t){this.layers=i.readFields(Nc,{},t)},Bu=Gh.VectorTileFeature=Fd;function nh(i,t,n,l){const h=[],p=l===0?(y,v,C,w,R,W)=>{y.push(new Me(W,C+(W-v)/(w-v)*(R-C)))}:(y,v,C,w,R,W)=>{y.push(new Me(v+(W-C)/(R-C)*(w-v),W))};for(const y of i){const v=[];for(const C of y){if(C.length<=2)continue;const w=[];for(let V=0;V<C.length-1;V++){const K=C[V].x,re=C[V].y,pe=C[V+1].x,Pe=C[V+1].y,je=l===0?K:re,lt=l===0?pe:Pe;je<t?lt>t&&p(w,K,re,pe,Pe,t):je>n?lt<n&&p(w,K,re,pe,Pe,n):w.push(C[V]),lt<t&&je>=t&&p(w,K,re,pe,Pe,t),lt>n&&je<=n&&p(w,K,re,pe,Pe,n)}let R=C[C.length-1];const W=l===0?R.x:R.y;W>=t&&W<=n&&w.push(R),w.length&&(R=w[w.length-1],w[0].x===R.x&&w[0].y===R.y||w.push(w[0]),v.push(w))}v.length&&h.push(v)}return h}Gh.VectorTileLayer=Od;const Y1=Bu.types,q1=Math.pow(2,13);function U0(i,t,n,l,h,p,y,v){i.emplaceBack((t<<1)+y,(n<<1)+p,(Math.floor(l*q1)<<1)+h,Math.round(v))}function U_(i,t,n){i.emplaceBack(t.x,t.y,t.z,n[0]*16384,n[1]*16384,n[2]*16384)}class zh{constructor(){this.acc=new Me(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Me(t.x,t.y),this.max=new Me(t.x,t.y))}append(t,n){this.currentPolyCount.edges++,this.acc._add(t);const l=this.min,h=this.max;t.x<l.x?l.x=t.x:t.x>h.x&&(h.x=t.x),t.y<l.y?l.y=t.y:t.y>h.y&&(h.y=t.y),((t.x===0||t.x===ar)&&t.x===n.x)!=((t.y===0||t.y===ar)&&t.y===n.y)&&this.processBorderOverlap(t,n),n.x<0!=t.x<0&&this.addBorderIntersection(0,Vr(n.y,t.y,(0-n.x)/(t.x-n.x))),n.x>ar!=t.x>ar&&this.addBorderIntersection(1,Vr(n.y,t.y,(ar-n.x)/(t.x-n.x))),n.y<0!=t.y<0&&this.addBorderIntersection(2,Vr(n.x,t.x,(0-n.y)/(t.y-n.y))),n.y>ar!=t.y>ar&&this.addBorderIntersection(3,Vr(n.x,t.x,(ar-n.y)/(t.y-n.y)))}addBorderIntersection(t,n){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const l=this.borders[t];n<l[0]&&(l[0]=n),n>l[1]&&(l[1]=n)}processBorderOverlap(t,n){if(t.x===n.x){if(t.y===n.y)return;const l=t.x===0?0:1;this.addBorderIntersection(l,n.y),this.addBorderIntersection(l,t.y)}else{const l=t.y===0?2:3;this.addBorderIntersection(l,n.x),this.addBorderIntersection(l,t.x)}}centroid(){const t=this.polyCount.reduce((n,l)=>n+l.edges,0);return t!==0?this.acc.div(t)._round():new Me(0,0)}span(){return new Me(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((t,n)=>t+ +(n[0]!==Number.MAX_VALUE),0)}}class wc{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new fs,this.centroidVertexArray=new Ps,this.indexArray=new Po,this.programConfigurations=new f_(t.layers,t.zoom),this.segments=new po,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id),this.enableTerrain=t.enableTerrain}populate(t,n,l,h){this.features=[],this.hasPattern=Rd("fill-extrusion",this.layers,n),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(p){const y=Math.exp(Math.PI*(1-p.y/(1<<p.z)*2));return 80150034*y/(y*y+1)/ar/(1<<p.z)}(l),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:p,id:y,index:v,sourceLayerIndex:C}of t){const w=this.layers[0]._featureFilter.needGeometry,R=zl(p,w);if(!this.layers[0]._featureFilter.filter(new Lt(this.zoom),R,l))continue;const W={id:y,sourceLayerIndex:C,index:v,geometry:w?R.geometry:zs(p,l,h),properties:p.properties,type:p.type,patterns:{}},V=this.layoutVertexArray.length;this.hasPattern?this.features.push(Hd("fill-extrusion",this.layers,W,this.zoom,n)):this.addFeature(W,W.geometry,v,l,{},n.availableImages,h),n.featureIndex.insert(p,W.geometry,v,C,this.index,V)}this.sortBorders()}addFeatures(t,n,l,h,p){for(const y of this.features){const{geometry:v}=y;this.addFeature(y,v,y.index,n,l,h,p)}this.sortBorders()}update(t,n,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,l,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,kp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,Ip.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,Mp.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,n,l,h,p,y,v){const C=[new Me(0,0),new Me(ar,ar)],w=v.projection,R=w.name==="globe",W=this.enableTerrain&&!R?new zh:null,V=Y1[t.type]==="Polygon";R&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gs);const K=Bh(n,500);for(let je=K.length-1;je>=0;je--){const lt=K[je];(lt.length===0||(re=lt[0]).every(Ve=>Ve.x<=0)||re.every(Ve=>Ve.x>=ar)||re.every(Ve=>Ve.y<=0)||re.every(Ve=>Ve.y>=ar))&&K.splice(je,1)}var re;let pe;if(R)pe=jd(K,C,h);else{pe=[];for(const je of K)pe.push({polygon:je,bounds:C})}const Pe=V?this.edgeRadius:0;for(const{polygon:je,bounds:lt}of pe){let Ve=0,Qe=0;for(const ut of je)V&&!ut[0].equals(ut[ut.length-1])&&ut.push(ut[0]),Qe+=V?ut.length-1:ut.length;const gt=this.segments.prepareSegment((V?5:4)*Qe,this.layoutVertexArray,this.indexArray);if(V){const ut=[],$t=[];Ve=gt.vertexLength;for(const Si of je){let tn,li;Si.length&&Si!==je[0]&&$t.push(ut.length/2),tn=Si[1].sub(Si[0])._perp()._unit();for(let Ei=1;Ei<Si.length;Ei++){const ki=Si[Ei],Xi=Si[Ei===Si.length-1?1:Ei+1];let{x:nn,y:ci}=ki;if(Pe){li=Xi.sub(ki)._perp()._unit();const fn=tn.add(li)._unit(),lr=Pe*Math.min(4,1/(tn.x*fn.x+tn.y*fn.y));nn+=lr*fn.x,ci+=lr*fn.y,tn=li}U0(this.layoutVertexArray,nn,ci,0,0,1,1,0),gt.vertexLength++,ut.push(ki.x,ki.y),R&&U_(this.layoutVertexExtArray,w.projectTilePoint(nn,ci,h),w.upVector(h,nn,ci))}}const jt=Ru.exports(ut,$t);for(let Si=0;Si<jt.length;Si+=3)this.indexArray.emplaceBack(Ve+jt[Si],Ve+jt[Si+2],Ve+jt[Si+1]),gt.primitiveLength++}for(const ut of je){W&&ut.length&&W.startRing(ut[0]);let $t,jt,Si,tn=ut.length>4&&Vd(ut[ut.length-2],ut[0],ut[1]),li=Pe?Lp(ut[ut.length-2],ut[0],ut[1],Pe):0;jt=ut[1].sub(ut[0])._perp()._unit();let Ei=!0;for(let ki=1,Xi=0;ki<ut.length;ki++){let nn=ut[ki-1],ci=ut[ki];const fn=ut[ki===ut.length-1?1:ki+1];if(W&&V&&W.currentPolyCount.top++,zd(ci,nn,lt)){Pe&&(jt=fn.sub(ci)._perp()._unit(),Ei=!Ei);continue}W&&W.append(ci,nn);const lr=ci.sub(nn)._perp(),Nn=lr.x/(Math.abs(lr.x)+Math.abs(lr.y)),jn=lr.y>0?1:0,gn=nn.dist(ci);if(Xi+gn>32768&&(Xi=0),Pe){Si=fn.sub(ci)._perp()._unit();let zr=Ud(nn,ci,fn,Wd(jt,Si),Pe);isNaN(zr)&&(zr=0);const Tr=ci.sub(nn)._unit();nn=nn.add(Tr.mult(li))._round(),ci=ci.add(Tr.mult(-zr))._round(),li=zr,jt=Si}const hr=gt.vertexLength,Kr=ut.length>4&&Vd(nn,ci,fn);let qr=Jd(Xi,tn,Ei);if(U0(this.layoutVertexArray,nn.x,nn.y,Nn,jn,0,0,qr),U0(this.layoutVertexArray,nn.x,nn.y,Nn,jn,0,1,qr),Xi+=gn,qr=Jd(Xi,Kr,!Ei),tn=Kr,U0(this.layoutVertexArray,ci.x,ci.y,Nn,jn,0,0,qr),U0(this.layoutVertexArray,ci.x,ci.y,Nn,jn,0,1,qr),gt.vertexLength+=4,this.indexArray.emplaceBack(hr+0,hr+1,hr+2),this.indexArray.emplaceBack(hr+1,hr+3,hr+2),gt.primitiveLength+=2,Pe){const zr=Ve+(ki===1?ut.length-2:ki-2),Tr=ki===1?Ve:zr+1;if(this.indexArray.emplaceBack(hr+1,zr,hr+3),this.indexArray.emplaceBack(zr,Tr,hr+3),gt.primitiveLength+=2,$t===void 0&&($t=hr),!zd(fn,ut[ki],lt)){const Gs=ki===ut.length-1?$t:gt.vertexLength;this.indexArray.emplaceBack(hr+2,hr+3,Gs),this.indexArray.emplaceBack(hr+3,Gs+1,Gs),this.indexArray.emplaceBack(hr+3,Tr,Gs+1),gt.primitiveLength+=3}Ei=!Ei}if(R){const zr=this.layoutVertexExtArray,Tr=w.projectTilePoint(nn.x,nn.y,h),Gs=w.projectTilePoint(ci.x,ci.y,h),wr=w.upVector(h,nn.x,nn.y),Qr=w.upVector(h,ci.x,ci.y);U_(zr,Tr,wr),U_(zr,Tr,wr),U_(zr,Gs,Qr),U_(zr,Gs,Qr)}}V&&(Ve+=ut.length-1)}}if(W&&W.polyCount.length>0){if(W.borders){W.vertexArrayOffset=this.centroidVertexArray.length;const je=W.borders,lt=this.featuresOnBorder.push(W)-1;for(let Ve=0;Ve<4;Ve++)je[Ve][0]!==Number.MAX_VALUE&&this.borders[Ve].push(lt)}this.encodeCentroid(W.borders?void 0:W.centroid(),W)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,p,y,h)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort((n,l)=>this.featuresOnBorder[n].borders[t][0]-this.featuresOnBorder[l].borders[t][0])}encodeCentroid(t,n,l=!0){let h,p;if(t)if(t.y!==0){const v=n.span()._mult(this.tileToMeter);h=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(v.x/10)),p=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(v.y/10))}else h=Math.ceil(7*(t.x+450)),p=0;else h=0,p=+l;let y=l?this.centroidVertexArray.length:n.vertexArrayOffset;for(const v of n.polyCount){l&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*v.edges+v.top);for(let C=0;C<v.top;C++)this.centroidVertexArray.emplace(y++,h,p);for(let C=0;C<2*v.edges;C++)this.centroidVertexArray.emplace(y++,0,p),this.centroidVertexArray.emplace(y++,h,p)}}}function Wd(i,t){const n=i.add(t)._unit();return i.x*n.x+i.y*n.y}function Lp(i,t,n,l){const h=t.sub(i)._perp()._unit(),p=n.sub(t)._perp()._unit();return Ud(i,t,n,Wd(h,p),l)}function Ud(i,t,n,l,h){const p=Math.sqrt(1-l*l);return Math.min(i.dist(t)/3,t.dist(n)/3,h*p/l)}function zd(i,t,n){return i.x<n[0].x&&t.x<n[0].x||i.x>n[1].x&&t.x>n[1].x||i.y<n[0].y&&t.y<n[0].y||i.y>n[1].y&&t.y>n[1].y}function Vd(i,t,n){if(i.x<0||i.x>=ar||t.x<0||t.x>=ar||n.x<0||n.x>=ar)return!1;const l=n.sub(t),h=l.perp(),p=i.sub(t);return(l.x*p.x+l.y*p.y)/Math.sqrt((l.x*l.x+l.y*l.y)*(p.x*p.x+p.y*p.y))>-.866&&h.x*p.x+h.y*p.y<0}function Jd(i,t,n){const l=t?2|i:-3&i;return n?1|l:-2&l}function rh(){const i=Math.PI/32,t=Math.tan(i),n=Vc;return n*Math.sqrt(1+2*t*t)-n}function jd(i,t,n){const l=1<<n.z,h=Ko(n.x/l),p=Ko((n.x+1)/l),y=Do(n.y/l),v=Do((n.y+1)/l);return function(C,w,R,W,V=0,K){const re=[];if(!C.length||!R||!W)return re;const pe=(ut,$t)=>{for(const jt of ut)re.push({polygon:jt,bounds:$t})},Pe=Math.ceil(Math.log2(R)),je=Math.ceil(Math.log2(W)),lt=Pe-je,Ve=[];for(let ut=0;ut<Math.abs(lt);ut++)Ve.push(lt>0?0:1);for(let ut=0;ut<Math.min(Pe,je);ut++)Ve.push(0),Ve.push(1);let Qe=C;if(Qe=nh(Qe,w[0].y-V,w[1].y+V,1),Qe=nh(Qe,w[0].x-V,w[1].x+V,0),!Qe.length)return re;const gt=[];for(Ve.length?gt.push({polygons:Qe,bounds:w,depth:0}):pe(Qe,w);gt.length;){const ut=gt.pop(),$t=ut.depth,jt=Ve[$t],Si=ut.bounds[0],tn=ut.bounds[1],li=jt===0?Si.x:Si.y,Ei=jt===0?tn.x:tn.y,ki=K?K(jt,li,Ei):.5*(li+Ei),Xi=nh(ut.polygons,li-V,ki+V,jt),nn=nh(ut.polygons,ki-V,Ei+V,jt);if(Xi.length){const ci=[Si,new Me(jt===0?ki:tn.x,jt===1?ki:tn.y)];Ve.length>$t+1?gt.push({polygons:Xi,bounds:ci,depth:$t+1}):pe(Xi,ci)}if(nn.length){const ci=[new Me(jt===0?ki:Si.x,jt===1?ki:Si.y),tn];Ve.length>$t+1?gt.push({polygons:nn,bounds:ci,depth:$t+1}):pe(nn,ci)}}return re}(i,t,Math.ceil((p-h)/11.25),Math.ceil((y-v)/11.25),1,(C,w,R)=>{if(C===0)return .5*(w+R);{const W=Do((n.y+w/ar)/l);return(Wl(.5*(Do((n.y+R/ar)/l)+W))*l-n.y)*ar}})}En(wc,"FillExtrusionBucket",{omit:["layers","features"]}),En(zh,"PartMetadata");const Vh=new An({"fill-extrusion-edge-radius":new kt(ui["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Ro={paint:new An({"fill-extrusion-opacity":new kt(ui["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Yt(ui["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new kt(ui["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new kt(ui["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Yt(ui["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Yt(ui["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Yt(ui["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new kt(ui["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new kt(ui["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new kt(ui["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Vh};function Ho(i,t,n){var l=2*Math.PI*6378137/256/Math.pow(2,n);return[i*l-2*Math.PI*6378137/2,t*l-2*Math.PI*6378137/2]}class Gu{constructor(t,n,l){this.z=t,this.x=n,this.y=l,this.key=z_(0,t,t,n,l)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,n){const l=function(p,y,v){var C=Ho(256*p,256*(y=Math.pow(2,v)-y-1),v),w=Ho(256*(p+1),256*(y+1),v);return C[0]+","+C[1]+","+w[0]+","+w[1]}(this.x,this.y,this.z),h=function(p,y,v){let C,w="";for(let R=p;R>0;R--)C=1<<R-1,w+=(y&C?1:0)+(v&C?2:0);return w}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(n==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",h).replace("{bbox-epsg-3857}",l)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Yd{constructor(t,n){this.wrap=t,this.canonical=n,this.key=z_(t,n.z,n.z,n.x,n.y)}}class wa{constructor(t,n,l,h,p){this.overscaledZ=t,this.wrap=n,this.canonical=new Gu(l,+h,+p),this.key=n===0&&t===l?this.canonical.key:z_(n,t,l,h,p)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const n=this.canonical.z-t;return t>this.canonical.z?new wa(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wa(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}calculateScaledKey(t,n=!0){if(this.overscaledZ===t&&n)return this.key;if(t>this.canonical.z)return z_(this.wrap*+n,t,this.canonical.z,this.canonical.x,this.canonical.y);{const l=this.canonical.z-t;return z_(this.wrap*+n,t,t,this.canonical.x>>l,this.canonical.y>>l)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const n=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>n&&t.canonical.y===this.canonical.y>>n}children(t){if(this.overscaledZ>=t)return[new wa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const n=this.canonical.z+1,l=2*this.canonical.x,h=2*this.canonical.y;return[new wa(n,this.wrap,n,l,h),new wa(n,this.wrap,n,l+1,h),new wa(n,this.wrap,n,l,h+1),new wa(n,this.wrap,n,l+1,h+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new wa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new wa(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Yd(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function z_(i,t,n,l,h){const p=1<<Math.min(n,22);let y=p*(h%p)+l%p;return i&&n<22&&(y+=p*p*((i<0?-2*i-1:2*i)%(1<<2*(22-n)))),16*(32*y+n)+(t-n)}En(Gu,"CanonicalTileID"),En(wa,"OverscaledTileID",{omit:["projMatrix"]});class V_ extends Me{constructor(t,n,l){super(t,n),this.z=l}}function Ec(i,t){return i.x*t.x+i.y*t.y}function qd(i,t){if(i.length===1){let n=0;const l=t[n++];let h;for(;!h||l.equals(h);)if(h=t[n++],!h)return 1/0;for(;n<t.length;n++){const p=t[n],y=i[0],v=h.sub(l),C=p.sub(l),w=y.sub(l),R=Ec(v,v),W=Ec(v,C),V=Ec(C,C),K=Ec(w,v),re=Ec(w,C),pe=R*V-W*W,Pe=(V*K-W*re)/pe,je=(R*re-W*K)/pe,lt=l.z*(1-Pe-je)+h.z*Pe+p.z*je;if(isFinite(lt))return lt}return 1/0}{let n=1/0;for(const l of t)n=Math.min(n,l.z);return n}}function $1(i,t,n,l,h,p,y,v){const C=y*h.getElevationAt(i,t,!0,!0),w=p[0]!==0,R=w?p[1]===0?y*(p[0]/7-450):y*function(W,V,K){const re=Math.floor(V[0]/8),pe=Math.floor(V[1]/8),Pe=10*(V[0]-8*re),je=10*(V[1]-8*pe),lt=W.getElevationAt(re,pe,!0,!0),Ve=W.getMeterToDEM(K),Qe=Math.floor(.5*(Pe*Ve-1)),gt=Math.floor(.5*(je*Ve-1)),ut=W.tileCoordToPixel(re,pe),$t=2*Qe+1,jt=2*gt+1,Si=function(nn,ci,fn,lr,Nn){return[nn.getElevationAtPixel(ci,fn,!0),nn.getElevationAtPixel(ci+Nn,fn,!0),nn.getElevationAtPixel(ci,fn+Nn,!0),nn.getElevationAtPixel(ci+lr,fn+Nn,!0)]}(W,ut.x-Qe,ut.y-gt,$t,jt),tn=Math.abs(Si[0]-Si[1]),li=Math.abs(Si[2]-Si[3]),Ei=Math.abs(Si[0]-Si[2])+Math.abs(Si[1]-Si[3]),ki=Math.min(.25,.5*Ve*(tn+li)/$t),Xi=Math.min(.25,.5*Ve*Ei/jt);return lt+Math.max(ki*Pe,Xi*je)}(h,p,v):C;return{base:C+(n===0)?-1:n,top:w?Math.max(R+l,C+n+2):C+l}}const Dp=bn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:T}=Dp,e=bn([{name:"a_packed",components:4,type:"Float32"}]),{members:s}=e,_=Bu.types,u=Math.cos(Math.PI/180*37.5);class m{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(n=>{this.gradients[n.id]={}}),this.layoutVertexArray=new Wo,this.layoutVertexArray2=new ha,this.indexArray=new Po,this.programConfigurations=new f_(t.layers,t.zoom),this.segments=new po,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,l,h){this.hasPattern=Rd("line",this.layers,n);const p=this.layers[0].layout.get("line-sort-key"),y=[];for(const{feature:R,id:W,index:V,sourceLayerIndex:K}of t){const re=this.layers[0]._featureFilter.needGeometry,pe=zl(R,re);if(!this.layers[0]._featureFilter.filter(new Lt(this.zoom),pe,l))continue;const Pe=p?p.evaluate(pe,{},l):void 0,je={id:W,properties:R.properties,type:R.type,sourceLayerIndex:K,index:V,geometry:re?pe.geometry:zs(R,l,h),patterns:{},sortKey:Pe};y.push(je)}p&&y.sort((R,W)=>R.sortKey-W.sortKey);const{lineAtlas:v,featureIndex:C}=n,w=this.addConstantDashes(v);for(const R of y){const{geometry:W,index:V,sourceLayerIndex:K}=R;if(w&&this.addFeatureDashes(R,v),this.hasPattern){const re=Hd("line",this.layers,R,this.zoom,n);this.patternFeatures.push(re)}else this.addFeature(R,W,V,l,v.positions,n.availableImages);C.insert(t[V].feature,W,V,K,this.index)}}addConstantDashes(t){let n=!1;for(const l of this.layers){const h=l.paint.get("line-dasharray").value,p=l.layout.get("line-cap").value;if(h.kind!=="constant"||p.kind!=="constant")n=!0;else{const y=p.value,v=h.value;if(!v)continue;t.addDash(v,y)}}return n}addFeatureDashes(t,n){const l=this.zoom;for(const h of this.layers){const p=h.paint.get("line-dasharray").value,y=h.layout.get("line-cap").value;if(p.kind==="constant"&&y.kind==="constant")continue;let v,C;if(p.kind==="constant"){if(v=p.value,!v)continue}else v=p.evaluate({zoom:l},t);C=y.kind==="constant"?y.value:y.evaluate({zoom:l},t),n.addDash(v,C),t.patterns[h.id]=n.getKey(v,C)}}update(t,n,l,h){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,l,h)}addFeatures(t,n,l,h,p){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,n,l,h)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,s)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,T),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,n,l,h,p,y){const v=this.layers[0].layout,C=v.get("line-join").evaluate(t,{}),w=v.get("line-cap").evaluate(t,{}),R=v.get("line-miter-limit"),W=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const V of n)this.addLine(V,t,C,w,R,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,p,y,h)}addLine(t,n,l,h,p,y){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let je=0;je<t.length-1;je++)this.totalDistance+=t[je].dist(t[je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const v=_[n.type]==="Polygon";let C=t.length;for(;C>=2&&t[C-1].equals(t[C-2]);)C--;let w=0;for(;w<C-1&&t[w].equals(t[w+1]);)w++;if(C<(v?3:2))return;l==="bevel"&&(p=1.05);const R=this.overscaling<=16?122880/(512*this.overscaling):0,W=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let V,K,re,pe,Pe;this.e1=this.e2=-1,v&&(V=t[C-2],Pe=t[w].sub(V)._unit()._perp());for(let je=w;je<C;je++){if(re=je===C-1?v?t[w+1]:void 0:t[je+1],re&&t[je].equals(re))continue;Pe&&(pe=Pe),V&&(K=V),V=t[je],Pe=re?re.sub(V)._unit()._perp():pe,pe=pe||Pe;let lt=pe.add(Pe);lt.x===0&&lt.y===0||lt._unit();const Ve=pe.x*Pe.x+pe.y*Pe.y,Qe=lt.x*Pe.x+lt.y*Pe.y,gt=Qe!==0?1/Qe:1/0,ut=2*Math.sqrt(2-2*Qe),$t=Qe<u&&K&&re,jt=pe.x*Pe.y-pe.y*Pe.x>0;if($t&&je>w){const li=V.dist(K);if(li>2*R){const Ei=V.sub(V.sub(K)._mult(R/li)._round());this.updateDistance(K,Ei),this.addCurrentVertex(Ei,pe,0,0,W),K=Ei}}const Si=K&&re;let tn=Si?l:v?"butt":h;if(Si&&tn==="round"&&(gt<y?tn="miter":gt<=2&&(tn="fakeround")),tn==="miter"&&gt>p&&(tn="bevel"),tn==="bevel"&&(gt>2&&(tn="flipbevel"),gt<p&&(tn="miter")),K&&this.updateDistance(K,V),tn==="miter")lt._mult(gt),this.addCurrentVertex(V,lt,0,0,W);else if(tn==="flipbevel"){if(gt>100)lt=Pe.mult(-1);else{const li=gt*pe.add(Pe).mag()/pe.sub(Pe).mag();lt._perp()._mult(li*(jt?-1:1))}this.addCurrentVertex(V,lt,0,0,W),this.addCurrentVertex(V,lt.mult(-1),0,0,W)}else if(tn==="bevel"||tn==="fakeround"){const li=-Math.sqrt(gt*gt-1),Ei=jt?li:0,ki=jt?0:li;if(K&&this.addCurrentVertex(V,pe,Ei,ki,W),tn==="fakeround"){const Xi=Math.round(180*ut/Math.PI/20);for(let nn=1;nn<Xi;nn++){let ci=nn/Xi;if(ci!==.5){const lr=ci-.5;ci+=ci*lr*(ci-1)*((1.0904+Ve*(Ve*(3.55645-1.43519*Ve)-3.2452))*lr*lr+(.848013+Ve*(.215638*Ve-1.06021)))}const fn=Pe.sub(pe)._mult(ci)._add(pe)._unit()._mult(jt?-1:1);this.addHalfVertex(V,fn.x,fn.y,!1,jt,0,W)}}re&&this.addCurrentVertex(V,Pe,-Ei,-ki,W)}else if(tn==="butt")this.addCurrentVertex(V,lt,0,0,W);else if(tn==="square"){const li=K?1:-1;K||this.addCurrentVertex(V,lt,li,li,W),this.addCurrentVertex(V,lt,0,0,W),K&&this.addCurrentVertex(V,lt,li,li,W)}else tn==="round"&&(K&&(this.addCurrentVertex(V,pe,0,0,W),this.addCurrentVertex(V,pe,1,1,W,!0)),re&&(this.addCurrentVertex(V,Pe,-1,-1,W,!0),this.addCurrentVertex(V,Pe,0,0,W)));if($t&&je<C-1){const li=V.dist(re);if(li>2*R){const Ei=V.add(re.sub(V)._mult(R/li)._round());this.updateDistance(V,Ei),this.addCurrentVertex(Ei,Pe,0,0,W),V=Ei}}}}addCurrentVertex(t,n,l,h,p,y=!1){const v=n.y*h-n.x,C=-n.y-n.x*h;this.addHalfVertex(t,n.x+n.y*l,n.y-n.x*l,y,!1,l,p),this.addHalfVertex(t,v,C,y,!0,-h,p)}addHalfVertex({x:t,y:n},l,h,p,y,v,C){this.layoutVertexArray.emplaceBack((t<<1)+(p?1:0),(n<<1)+(y?1:0),Math.round(63*l)+128,Math.round(63*h)+128,1+(v===0?0:v<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const w=C.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,w),C.primitiveLength++),y?this.e2=w:this.e1=w}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,n){this.distance+=t.dist(n),this.updateScaledDistance()}}En(m,"LineBucket",{omit:["layers","patternFeatures"]});const b=new An({"line-cap":new Yt(ui.layout_line["line-cap"]),"line-join":new Yt(ui.layout_line["line-join"]),"line-miter-limit":new kt(ui.layout_line["line-miter-limit"]),"line-round-limit":new kt(ui.layout_line["line-round-limit"]),"line-sort-key":new Yt(ui.layout_line["line-sort-key"])});var x={paint:new An({"line-opacity":new Yt(ui.paint_line["line-opacity"]),"line-color":new Yt(ui.paint_line["line-color"]),"line-translate":new kt(ui.paint_line["line-translate"]),"line-translate-anchor":new kt(ui.paint_line["line-translate-anchor"]),"line-width":new Yt(ui.paint_line["line-width"]),"line-gap-width":new Yt(ui.paint_line["line-gap-width"]),"line-offset":new Yt(ui.paint_line["line-offset"]),"line-blur":new Yt(ui.paint_line["line-blur"]),"line-dasharray":new Yt(ui.paint_line["line-dasharray"]),"line-pattern":new Yt(ui.paint_line["line-pattern"]),"line-gradient":new yn(ui.paint_line["line-gradient"]),"line-trim-offset":new kt(ui.paint_line["line-trim-offset"])}),layout:b};const P=new class extends Yt{possiblyEvaluate(i,t){return t=new Lt(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(i,t)}evaluate(i,t,n,l){return t=nt({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(i,t,n,l)}}(x.paint.properties["line-width"].specification);function N(i,t){return t>0?t+2*i:i}P.useIntegerZoom=!0;const I=bn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),D=bn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),B=bn([{name:"a_projected_pos",components:4,type:"Float32"}],4);bn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const U=bn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),X=bn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);bn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ee=bn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ue=bn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);bn([{name:"triangle",components:3,type:"Uint16"}]),bn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),bn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),bn([{type:"Float32",name:"offsetX"}]),bn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var ie=24;const Ee=128;function We(i,t){const{expression:n}=t;if(n.kind==="constant")return{kind:"constant",layoutSize:n.evaluate(new Lt(i+1))};if(n.kind==="source")return{kind:"source"};{const{zoomStops:l,interpolationType:h}=n;let p=0;for(;p<l.length&&l[p]<=i;)p++;p=Math.max(0,p-1);let y=p;for(;y<l.length&&l[y]<i+1;)y++;y=Math.min(l.length-1,y);const v=l[p],C=l[y];return n.kind==="composite"?{kind:"composite",minZoom:v,maxZoom:C,interpolationType:h}:{kind:"camera",minZoom:v,maxZoom:C,minSize:n.evaluate(new Lt(v)),maxSize:n.evaluate(new Lt(C)),interpolationType:h}}}function Re(i,{uSize:t,uSizeT:n},{lowerSize:l,upperSize:h}){return i.kind==="source"?l/Ee:i.kind==="composite"?Vr(l/Ee,h/Ee,n):t}function et(i,t){let n=0,l=0;if(i.kind==="constant")l=i.layoutSize;else if(i.kind!=="source"){const{interpolationType:h,minZoom:p,maxZoom:y}=i,v=h?Y(ya.interpolationFactor(h,t,p,y),0,1):0;i.kind==="camera"?l=Vr(i.minSize,i.maxSize,v):n=v}return{uSizeT:n,uSize:l}}var ct=Object.freeze({__proto__:null,getSizeData:We,evaluateSizeForFeature:Re,evaluateSizeForZoom:et,SIZE_PACK_FACTOR:Ee});function Ft(i,t,n){return i.sections.forEach(l=>{l.text=function(h,p,y){const v=p.layout.get("text-transform").evaluate(y,{});return v==="uppercase"?h=h.toLocaleUpperCase():v==="lowercase"&&(h=h.toLocaleLowerCase()),zt.applyArabicShaping&&(h=zt.applyArabicShaping(h)),h}(l.text,t,n)}),i}const Ut={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function yi(i){return i==="︶"||i==="﹈"||i==="︸"||i==="﹄"||i==="﹂"||i==="︾"||i==="︼"||i==="︺"||i==="︘"||i==="﹀"||i==="︐"||i==="︓"||i==="︔"||i==="｀"||i==="￣"||i==="︑"||i==="︒"}function ai(i){return i==="︵"||i==="﹇"||i==="︷"||i==="﹃"||i==="﹁"||i==="︽"||i==="︻"||i==="︹"||i==="︗"||i==="︿"}var hi=_i,Cn=function(i,t,n,l,h){var p,y,v=8*h-l-1,C=(1<<v)-1,w=C>>1,R=-7,W=n?h-1:0,V=n?-1:1,K=i[t+W];for(W+=V,p=K&(1<<-R)-1,K>>=-R,R+=v;R>0;p=256*p+i[t+W],W+=V,R-=8);for(y=p&(1<<-R)-1,p>>=-R,R+=l;R>0;y=256*y+i[t+W],W+=V,R-=8);if(p===0)p=1-w;else{if(p===C)return y?NaN:1/0*(K?-1:1);y+=Math.pow(2,l),p-=w}return(K?-1:1)*y*Math.pow(2,p-l)},sn=function(i,t,n,l,h,p){var y,v,C,w=8*p-h-1,R=(1<<w)-1,W=R>>1,V=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=l?0:p-1,re=l?1:-1,pe=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(v=isNaN(t)?1:0,y=R):(y=Math.floor(Math.log(t)/Math.LN2),t*(C=Math.pow(2,-y))<1&&(y--,C*=2),(t+=y+W>=1?V/C:V*Math.pow(2,1-W))*C>=2&&(y++,C/=2),y+W>=R?(v=0,y=R):y+W>=1?(v=(t*C-1)*Math.pow(2,h),y+=W):(v=t*Math.pow(2,W-1)*Math.pow(2,h),y=0));h>=8;i[n+K]=255&v,K+=re,v/=256,h-=8);for(y=y<<h|v,w+=h;w>0;i[n+K]=255&y,K+=re,y/=256,w-=8);i[n+K-re]|=128*pe};function _i(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}_i.Varint=0,_i.Fixed64=1,_i.Bytes=2,_i.Fixed32=5;var ln=4294967296,Un=1/ln,qn=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Zn(i){return i.type===_i.Bytes?i.readVarint()+i.pos:i.pos+1}function ur(i,t,n){return n?4294967296*t+(i>>>0):4294967296*(t>>>0)+(i>>>0)}function Sr(i,t,n){var l=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(l);for(var h=n.pos-1;h>=i;h--)n.buf[h+l]=n.buf[h]}function hn(i,t){for(var n=0;n<i.length;n++)t.writeVarint(i[n])}function at(i,t){for(var n=0;n<i.length;n++)t.writeSVarint(i[n])}function Ct(i,t){for(var n=0;n<i.length;n++)t.writeFloat(i[n])}function Bi(i,t){for(var n=0;n<i.length;n++)t.writeDouble(i[n])}function xi(i,t){for(var n=0;n<i.length;n++)t.writeBoolean(i[n])}function pi(i,t){for(var n=0;n<i.length;n++)t.writeFixed32(i[n])}function Pn(i,t){for(var n=0;n<i.length;n++)t.writeSFixed32(i[n])}function xn(i,t){for(var n=0;n<i.length;n++)t.writeFixed64(i[n])}function Ai(i,t){for(var n=0;n<i.length;n++)t.writeSFixed64(i[n])}function Ke(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16)+16777216*i[t+3]}function ti(i,t,n){i[n]=t,i[n+1]=t>>>8,i[n+2]=t>>>16,i[n+3]=t>>>24}function $i(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16)+(i[t+3]<<24)}function en(i,t,n){t.glyphs=[],i===1&&n.readMessage(Zi,t)}function Zi(i,t,n){if(i===3){const{id:l,bitmap:h,width:p,height:y,left:v,top:C,advance:w}=n.readMessage(Xn,{});t.glyphs.push({id:l,bitmap:new gl({width:p+6,height:y+6},h),metrics:{width:p,height:y,left:v,top:C,advance:w}})}else i===4?t.ascender=n.readSVarint():i===5&&(t.descender=n.readSVarint())}function Xn(i,t,n){i===1?t.id=n.readVarint():i===2?t.bitmap=n.readBytes():i===3?t.width=n.readVarint():i===4?t.height=n.readVarint():i===5?t.left=n.readSVarint():i===6?t.top=n.readSVarint():i===7&&(t.advance=n.readVarint())}function cr(i){let t=0,n=0;for(const y of i)t+=y.w*y.h,n=Math.max(n,y.w);i.sort((y,v)=>v.h-y.h);const l=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let h=0,p=0;for(const y of i)for(let v=l.length-1;v>=0;v--){const C=l[v];if(!(y.w>C.w||y.h>C.h)){if(y.x=C.x,y.y=C.y,p=Math.max(p,y.y+y.h),h=Math.max(h,y.x+y.w),y.w===C.w&&y.h===C.h){const w=l.pop();v<l.length&&(l[v]=w)}else y.h===C.h?(C.x+=y.w,C.w-=y.w):y.w===C.w?(C.y+=y.h,C.h-=y.h):(l.push({x:C.x+y.w,y:C.y,w:C.w-y.w,h:y.h}),C.y+=y.h,C.h-=y.h);break}}return{w:h,h:p,fill:t/(h*p)||0}}_i.prototype={destroy:function(){this.buf=null},readFields:function(i,t,n){for(n=n||this.length;this.pos<n;){var l=this.readVarint(),h=l>>3,p=this.pos;this.type=7&l,i(h,t,this),this.pos===p&&this.skip(l)}return t},readMessage:function(i,t){return this.readFields(i,t,this.readVarint()+this.pos)},readFixed32:function(){var i=Ke(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=$i(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=Ke(this.buf,this.pos)+Ke(this.buf,this.pos+4)*ln;return this.pos+=8,i},readSFixed64:function(){var i=Ke(this.buf,this.pos)+$i(this.buf,this.pos+4)*ln;return this.pos+=8,i},readFloat:function(){var i=Cn(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=Cn(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var t,n,l=this.buf;return t=127&(n=l[this.pos++]),n<128?t:(t|=(127&(n=l[this.pos++]))<<7,n<128?t:(t|=(127&(n=l[this.pos++]))<<14,n<128?t:(t|=(127&(n=l[this.pos++]))<<21,n<128?t:function(h,p,y){var v,C,w=y.buf;if(v=(112&(C=w[y.pos++]))>>4,C<128||(v|=(127&(C=w[y.pos++]))<<3,C<128)||(v|=(127&(C=w[y.pos++]))<<10,C<128)||(v|=(127&(C=w[y.pos++]))<<17,C<128)||(v|=(127&(C=w[y.pos++]))<<24,C<128)||(v|=(1&(C=w[y.pos++]))<<31,C<128))return ur(h,v,p);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=l[this.pos]))<<28,i,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2==1?(i+1)/-2:i/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var i=this.readVarint()+this.pos,t=this.pos;return this.pos=i,i-t>=12&&qn?function(n,l,h){return qn.decode(n.subarray(l,h))}(this.buf,t,i):function(n,l,h){for(var p="",y=l;y<h;){var v,C,w,R=n[y],W=null,V=R>239?4:R>223?3:R>191?2:1;if(y+V>h)break;V===1?R<128&&(W=R):V===2?(192&(v=n[y+1]))==128&&(W=(31&R)<<6|63&v)<=127&&(W=null):V===3?(C=n[y+2],(192&(v=n[y+1]))==128&&(192&C)==128&&((W=(15&R)<<12|(63&v)<<6|63&C)<=2047||W>=55296&&W<=57343)&&(W=null)):V===4&&(C=n[y+2],w=n[y+3],(192&(v=n[y+1]))==128&&(192&C)==128&&(192&w)==128&&((W=(15&R)<<18|(63&v)<<12|(63&C)<<6|63&w)<=65535||W>=1114112)&&(W=null)),W===null?(W=65533,V=1):W>65535&&(W-=65536,p+=String.fromCharCode(W>>>10&1023|55296),W=56320|1023&W),p+=String.fromCharCode(W),y+=V}return p}(this.buf,t,i)},readBytes:function(){var i=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,i);return this.pos=i,t},readPackedVarint:function(i,t){if(this.type!==_i.Bytes)return i.push(this.readVarint(t));var n=Zn(this);for(i=i||[];this.pos<n;)i.push(this.readVarint(t));return i},readPackedSVarint:function(i){if(this.type!==_i.Bytes)return i.push(this.readSVarint());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==_i.Bytes)return i.push(this.readBoolean());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==_i.Bytes)return i.push(this.readFloat());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==_i.Bytes)return i.push(this.readDouble());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==_i.Bytes)return i.push(this.readFixed32());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==_i.Bytes)return i.push(this.readSFixed32());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==_i.Bytes)return i.push(this.readFixed64());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==_i.Bytes)return i.push(this.readSFixed64());var t=Zn(this);for(i=i||[];this.pos<t;)i.push(this.readSFixed64());return i},skip:function(i){var t=7&i;if(t===_i.Varint)for(;this.buf[this.pos++]>127;);else if(t===_i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===_i.Fixed32)this.pos+=4;else{if(t!==_i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(i,t){this.writeVarint(i<<3|t)},realloc:function(i){for(var t=this.length||16;t<this.pos+i;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),ti(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),ti(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),ti(this.buf,-1&i,this.pos),ti(this.buf,Math.floor(i*Un),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),ti(this.buf,-1&i,this.pos),ti(this.buf,Math.floor(i*Un),this.pos+4),this.pos+=8},writeVarint:function(i){(i=+i||0)>268435455||i<0?function(t,n){var l,h;if(t>=0?(l=t%4294967296|0,h=t/4294967296|0):(h=~(-t/4294967296),4294967295^(l=~(-t%4294967296))?l=l+1|0:(l=0,h=h+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),function(p,y,v){v.buf[v.pos++]=127&p|128,p>>>=7,v.buf[v.pos++]=127&p|128,p>>>=7,v.buf[v.pos++]=127&p|128,p>>>=7,v.buf[v.pos++]=127&p|128,v.buf[v.pos]=127&(p>>>=7)}(l,0,n),function(p,y){var v=(7&p)<<4;y.buf[y.pos++]|=v|((p>>>=3)?128:0),p&&(y.buf[y.pos++]=127&p|((p>>>=7)?128:0),p&&(y.buf[y.pos++]=127&p|((p>>>=7)?128:0),p&&(y.buf[y.pos++]=127&p|((p>>>=7)?128:0),p&&(y.buf[y.pos++]=127&p|((p>>>=7)?128:0),p&&(y.buf[y.pos++]=127&p)))))}(h,n)}(i,this):(this.realloc(4),this.buf[this.pos++]=127&i|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=i>>>7&127))))},writeSVarint:function(i){this.writeVarint(i<0?2*-i-1:2*i)},writeBoolean:function(i){this.writeVarint(Boolean(i))},writeString:function(i){i=String(i),this.realloc(4*i.length),this.pos++;var t=this.pos;this.pos=function(l,h,p){for(var y,v,C=0;C<h.length;C++){if((y=h.charCodeAt(C))>55295&&y<57344){if(!v){y>56319||C+1===h.length?(l[p++]=239,l[p++]=191,l[p++]=189):v=y;continue}if(y<56320){l[p++]=239,l[p++]=191,l[p++]=189,v=y;continue}y=v-55296<<10|y-56320|65536,v=null}else v&&(l[p++]=239,l[p++]=191,l[p++]=189,v=null);y<128?l[p++]=y:(y<2048?l[p++]=y>>6|192:(y<65536?l[p++]=y>>12|224:(l[p++]=y>>18|240,l[p++]=y>>12&63|128),l[p++]=y>>6&63|128),l[p++]=63&y|128)}return p}(this.buf,i,this.pos);var n=this.pos-t;n>=128&&Sr(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(i){this.realloc(4),sn(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),sn(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var t=i.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=i[n]},writeRawMessage:function(i,t){this.pos++;var n=this.pos;i(t,this);var l=this.pos-n;l>=128&&Sr(n,l,this),this.pos=n-1,this.writeVarint(l),this.pos+=l},writeMessage:function(i,t,n){this.writeTag(i,_i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(i,t){t.length&&this.writeMessage(i,hn,t)},writePackedSVarint:function(i,t){t.length&&this.writeMessage(i,at,t)},writePackedBoolean:function(i,t){t.length&&this.writeMessage(i,xi,t)},writePackedFloat:function(i,t){t.length&&this.writeMessage(i,Ct,t)},writePackedDouble:function(i,t){t.length&&this.writeMessage(i,Bi,t)},writePackedFixed32:function(i,t){t.length&&this.writeMessage(i,pi,t)},writePackedSFixed32:function(i,t){t.length&&this.writeMessage(i,Pn,t)},writePackedFixed64:function(i,t){t.length&&this.writeMessage(i,xn,t)},writePackedSFixed64:function(i,t){t.length&&this.writeMessage(i,Ai,t)},writeBytesField:function(i,t){this.writeTag(i,_i.Bytes),this.writeBytes(t)},writeFixed32Field:function(i,t){this.writeTag(i,_i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(i,t){this.writeTag(i,_i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(i,t){this.writeTag(i,_i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(i,t){this.writeTag(i,_i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(i,t){this.writeTag(i,_i.Varint),this.writeVarint(t)},writeSVarintField:function(i,t){this.writeTag(i,_i.Varint),this.writeSVarint(t)},writeStringField:function(i,t){this.writeTag(i,_i.Bytes),this.writeString(t)},writeFloatField:function(i,t){this.writeTag(i,_i.Fixed32),this.writeFloat(t)},writeDoubleField:function(i,t){this.writeTag(i,_i.Fixed64),this.writeDouble(t)},writeBooleanField:function(i,t){this.writeVarintField(i,Boolean(t))}};class er{constructor(t,{pixelRatio:n,version:l,stretchX:h,stretchY:p,content:y}){this.paddedRect=t,this.pixelRatio=n,this.stretchX=h,this.stretchY=p,this.content=y,this.version=l}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Wr{constructor(t,n){const l={},h={};this.haveRenderCallbacks=[];const p=[];this.addImages(t,l,p),this.addImages(n,h,p);const{w:y,h:v}=cr(p),C=new Xa({width:y||1,height:v||1});for(const w in t){const R=t[w],W=l[w].paddedRect;Xa.copy(R.data,C,{x:0,y:0},{x:W.x+1,y:W.y+1},R.data)}for(const w in n){const R=n[w],W=h[w].paddedRect,V=W.x+1,K=W.y+1,re=R.data.width,pe=R.data.height;Xa.copy(R.data,C,{x:0,y:0},{x:V,y:K},R.data),Xa.copy(R.data,C,{x:0,y:pe-1},{x:V,y:K-1},{width:re,height:1}),Xa.copy(R.data,C,{x:0,y:0},{x:V,y:K+pe},{width:re,height:1}),Xa.copy(R.data,C,{x:re-1,y:0},{x:V-1,y:K},{width:1,height:pe}),Xa.copy(R.data,C,{x:0,y:0},{x:V+re,y:K},{width:1,height:pe})}this.image=C,this.iconPositions=l,this.patternPositions=h}addImages(t,n,l){for(const h in t){const p=t[h],y={x:0,y:0,w:p.data.width+2,h:p.data.height+2};l.push(y),n[h]=new er(y,p),p.hasRenderCallback&&this.haveRenderCallbacks.push(h)}}patchUpdatedImages(t,n){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(l=>t.hasImage(l)),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const l in t.updatedImages)this.patchUpdatedImage(this.iconPositions[l],t.getImage(l),n),this.patchUpdatedImage(this.patternPositions[l],t.getImage(l),n)}patchUpdatedImage(t,n,l){if(!t||!n||t.version===n.version)return;t.version=n.version;const[h,p]=t.tl;l.update(n.data,void 0,{x:h,y:p})}}En(er,"ImagePosition"),En(Wr,"ImageAtlas");const fr={horizontal:1,vertical:2,horizontalOnly:3};class Fo{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,n){const l=new Fo;return l.scale=t||1,l.fontStack=n,l}static forImage(t){const n=new Fo;return n.imageName=t,n}}class ws{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,n){const l=new ws;for(let h=0;h<t.sections.length;h++){const p=t.sections[h];p.image?l.addImageSection(p):l.addTextSection(p,n)}return l}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(n,l){let h="";for(let p=0;p<n.length;p++){const y=n.charCodeAt(p+1)||null,v=n.charCodeAt(p-1)||null;h+=!l&&(y&&q(y)&&!Ut[n[p+1]]||v&&q(v)&&!Ut[n[p-1]])||!Ut[n[p]]?n[p]:Ut[n[p]]}return h}(this.text,t)}trim(){let t=0;for(let l=0;l<this.text.length&&Ua[this.text.charCodeAt(l)];l++)t++;let n=this.text.length;for(let l=this.text.length-1;l>=0&&l>=t&&Ua[this.text.charCodeAt(l)];l--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)}substring(t,n){const l=new ws;return l.text=this.text.substring(t,n),l.sectionIndex=this.sectionIndex.slice(t,n),l.sections=this.sections,l}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,n)=>Math.max(t,this.sections[n].scale),0)}addTextSection(t,n){this.text+=t.text,this.sections.push(Fo.forText(t.scale,t.fontStack||n));const l=this.sections.length-1;for(let h=0;h<t.text.length;++h)this.sectionIndex.push(l)}addImageSection(t){const n=t.image?t.image.name:"";if(n.length===0)return void _r("Can't add FormattedSection with an empty image.");const l=this.getNextImageSectionCharCode();l?(this.text+=String.fromCharCode(l),this.sections.push(Fo.forImage(n)),this.sectionIndex.push(this.sections.length-1)):_r("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ea(i,t,n,l,h,p,y,v,C,w,R,W,V,K,re){const pe=ws.fromFeature(i,h);W===fr.vertical&&pe.verticalizePunctuation(V);let Pe=[];const je=function(ut,$t,jt,Si,tn,li){if(!ut)return[];const Ei=[],ki=function(fn,lr,Nn,jn,gn,hr){let Kr=0;for(let qr=0;qr<fn.length();qr++){const zr=fn.getSection(qr);Kr+=J_(fn.getCharCode(qr),zr,jn,gn,lr,hr)}return Kr/Math.max(1,Math.ceil(Kr/Nn))}(ut,$t,jt,Si,tn,li),Xi=ut.text.indexOf("​")>=0;let nn=0;for(let fn=0;fn<ut.length();fn++){const lr=ut.getSection(fn),Nn=ut.getCharCode(fn);if(Ua[Nn]||(nn+=J_(Nn,lr,Si,tn,$t,li)),fn<ut.length()-1){const jn=!((ci=Nn)<11904||!(gu(ci)||ml(ci)||c(ci)||Bl(ci)||m_(ci)||d_(ci)||Ba(ci)||dl(ci)||uc(ci)||m0(ci)||Tu(ci)||S(ci)||pl(ci)||Ol(ci)||Oa(ci)||qa(ci)||p_(ci)||r(ci)||hc(ci)||cc(ci)));(Wu[Nn]||jn||lr.imageName)&&Ei.push(Ka(fn+1,nn,ki,Ei,z0(Nn,ut.getCharCode(fn+1),jn&&Xi),!1))}}var ci;return mn(Ka(ut.length(),nn,ki,Ei,0,!0))}(pe,w,p,t,l,K),{processBidirectionalText:lt,processStyledBidirectionalText:Ve}=zt;if(lt&&pe.sections.length===1){const ut=lt(pe.toString(),je);for(const $t of ut){const jt=new ws;jt.text=$t,jt.sections=pe.sections;for(let Si=0;Si<$t.length;Si++)jt.sectionIndex.push(0);Pe.push(jt)}}else if(Ve){const ut=Ve(pe.text,pe.sectionIndex,je);for(const $t of ut){const jt=new ws;jt.text=$t[0],jt.sectionIndex=$t[1],jt.sections=pe.sections,Pe.push(jt)}}else Pe=function(ut,$t){const jt=[],Si=ut.text;let tn=0;for(const li of $t)jt.push(ut.substring(tn,li)),tn=li;return tn<Si.length&&jt.push(ut.substring(tn,Si.length)),jt}(pe,je);const Qe=[],gt={positionedLines:Qe,text:pe.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:W,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(ut,$t,jt,Si,tn,li,Ei,ki,Xi,nn,ci,fn){let lr=0,Nn=0,jn=0;const gn=ki==="right"?1:ki==="left"?0:.5;let hr=!1;for(const wr of tn){const Qr=wr.getSections();for(const Vs of Qr){if(Vs.imageName)continue;const io=$t[Vs.fontStack];if(io&&(hr=io.ascender!==void 0&&io.descender!==void 0,!hr))break}if(!hr)break}let Kr=0;for(const wr of tn){wr.trim();const Qr=wr.getMaxScale(),Vs=(Qr-1)*ie,io={positionedGlyphs:[],lineOffset:0};ut.positionedLines[Kr]=io;const Xs=io.positionedGlyphs;let no=0;if(!wr.length()){Nn+=li,++Kr;continue}let oo=0,wo=0;for(let Ws=0;Ws<wr.length();Ws++){const ta=wr.getSection(Ws),Jo=wr.getSectionIndex(Ws),As=wr.getCharCode(Ws);let mo=ta.scale,_a=null,Js=null,Oo=null,e0=ie,Ma=0;const Ia=!(Xi===fr.horizontal||!ci&&!$(As)||ci&&(Ua[As]||(qr=As,D_(qr)||Fl(qr)||R_(qr)||d(qr)||A(qr))));if(ta.imageName){const r0=Si[ta.imageName];if(!r0)continue;Oo=ta.imageName,ut.iconsInText=ut.iconsInText||!0,Js=r0.paddedRect;const ka=r0.displaySize;mo=mo*ie/fn,_a={width:ka[0],height:ka[1],left:1,top:-3,advance:Ia?ka[1]:ka[0],localGlyph:!1},Ma=hr?-_a.height*mo:Qr*ie-17-ka[1]*mo,e0=_a.advance;const ju=(Ia?ka[0]:ka[1])*mo-ie*Qr;ju>0&&ju>no&&(no=ju)}else{const r0=jt[ta.fontStack];if(!r0)continue;r0[As]&&(Js=r0[As]);const ka=$t[ta.fontStack];if(!ka)continue;const ju=ka.glyphs[As];if(!ju)continue;if(_a=ju.metrics,e0=As!==8203?ie:0,hr){const td=ka.ascender!==void 0?Math.abs(ka.ascender):0,h1=ka.descender!==void 0?Math.abs(ka.descender):0,d1=(td+h1)*mo;oo<d1&&(oo=d1,wo=(td-h1)/2*mo),Ma=-td*mo}else Ma=(Qr-mo)*ie-17}Ia?(ut.verticalizable=!0,Xs.push({glyph:As,imageName:Oo,x:lr,y:Nn+Ma,vertical:Ia,scale:mo,localGlyph:_a.localGlyph,fontStack:ta.fontStack,sectionIndex:Jo,metrics:_a,rect:Js}),lr+=e0*mo+nn):(Xs.push({glyph:As,imageName:Oo,x:lr,y:Nn+Ma,vertical:Ia,scale:mo,localGlyph:_a.localGlyph,fontStack:ta.fontStack,sectionIndex:Jo,metrics:_a,rect:Js}),lr+=_a.advance*mo+nn)}Xs.length!==0&&(jn=Math.max(lr-nn,jn),hr?$d(Xs,gn,no,wo,li*Qr/2):$d(Xs,gn,no,0,li/2)),lr=0;const Ea=li*Qr+no;io.lineOffset=Math.max(no,Vs),Nn+=Ea,++Kr}var qr;const zr=Nn,{horizontalAlign:Tr,verticalAlign:Gs}=Jh(Ei);(function(wr,Qr,Vs,io,Xs,no){const oo=(Qr-Vs)*Xs,wo=-no*io;for(const Ea of wr)for(const Ws of Ea.positionedGlyphs)Ws.x+=oo,Ws.y+=wo})(ut.positionedLines,gn,Tr,Gs,jn,zr),ut.top+=-Gs*zr,ut.bottom=ut.top+zr,ut.left+=-Tr*jn,ut.right=ut.left+jn,ut.hasBaseline=hr}(gt,t,n,l,Pe,y,v,C,W,w,V,re),!function(ut){for(const $t of ut)if($t.positionedGlyphs.length!==0)return!1;return!0}(Qe)&&gt}const Ua={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wu={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function J_(i,t,n,l,h,p){if(t.imageName){const y=l[t.imageName];return y?y.displaySize[0]*t.scale*ie/p+h:0}{const y=n[t.fontStack],v=y&&y.glyphs[i];return v?v.metrics.advance*t.scale+h:0}}function j_(i,t,n,l){const h=Math.pow(i-t,2);return l?i<t?h/2:2*h:h+Math.abs(n)*n}function z0(i,t,n){let l=0;return i===10&&(l-=1e4),n&&(l+=150),i!==40&&i!==65288||(l+=50),t!==41&&t!==65289||(l+=50),l}function Ka(i,t,n,l,h,p){let y=null,v=j_(t,n,h,p);for(const C of l){const w=j_(t-C.x,n,h,p)+C.badness;w<=v&&(y=C,v=w)}return{index:i,x:t,priorBreak:y,badness:v}}function mn(i){return i?mn(i.priorBreak).concat(i.index):[]}function Jh(i){let t=.5,n=.5;switch(i){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function $d(i,t,n,l,h){if(!(t||n||l||h))return;const p=i.length-1,y=i[p],v=(y.x+y.metrics.advance*y.scale)*t;for(let C=0;C<=p;C++)i[C].x-=v,i[C].y+=n+l+h}function b0(i,t,n){const{horizontalAlign:l,verticalAlign:h}=Jh(n),p=t[0]-i.displaySize[0]*l,y=t[1]-i.displaySize[1]*h;return{image:i,top:y,bottom:y+i.displaySize[1],left:p,right:p+i.displaySize[0]}}function Zd(i,t,n,l,h,p){const y=i.image;let v;if(y.content){const Pe=y.content,je=y.pixelRatio||1;v=[Pe[0]/je,Pe[1]/je,y.displaySize[0]-Pe[2]/je,y.displaySize[1]-Pe[3]/je]}const C=t.left*p,w=t.right*p;let R,W,V,K;n==="width"||n==="both"?(K=h[0]+C-l[3],W=h[0]+w+l[1]):(K=h[0]+(C+w-y.displaySize[0])/2,W=K+y.displaySize[0]);const re=t.top*p,pe=t.bottom*p;return n==="height"||n==="both"?(R=h[1]+re-l[0],V=h[1]+pe+l[2]):(R=h[1]+(re+pe-y.displaySize[1])/2,V=R+y.displaySize[1]),{image:y,top:R,right:W,bottom:V,left:K,collisionPadding:v}}class ql extends Me{constructor(t,n,l,h,p){super(t,n),this.angle=h,this.z=l,p!==void 0&&(this.segment=p)}clone(){return new ql(this.x,this.y,this.z,this.angle,this.segment)}}function Xd(i,t,n,l,h){if(t.segment===void 0)return!0;let p=t,y=t.segment+1,v=0;for(;v>-n/2;){if(y--,y<0)return!1;v-=i[y].dist(p),p=i[y]}v+=i[y].dist(i[y+1]),y++;const C=[];let w=0;for(;v<n/2;){const R=i[y],W=i[y+1];if(!W)return!1;let V=i[y-1].angleTo(R)-R.angleTo(W);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:v,angleDelta:V}),w+=V;v-C[0].distance>l;)w-=C.shift().angleDelta;if(w>h)return!1;y++,v+=R.dist(W)}return!0}function jh(i){let t=0;for(let n=0;n<i.length-1;n++)t+=i[n].dist(i[n+1]);return t}function Kd(i,t,n){return i?.6*t*n:0}function Qd(i,t){return Math.max(i?i.right-i.left:0,t?t.right-t.left:0)}function Uu(i,t,n,l,h,p){const y=Kd(n,h,p),v=Qd(n,l)*p;let C=0;const w=jh(i)/2;for(let R=0;R<i.length-1;R++){const W=i[R],V=i[R+1],K=W.dist(V);if(C+K>w){const re=(w-C)/K,pe=Vr(W.x,V.x,re),Pe=Vr(W.y,V.y,re),je=new ql(pe,Pe,0,V.angleTo(W),R);return!y||Xd(i,je,v,y,t)?je:void 0}C+=K}}function Z1(i,t,n,l,h,p,y,v,C){const w=Kd(l,p,y),R=Qd(l,h),W=R*y,V=i[0].x===0||i[0].x===C||i[0].y===0||i[0].y===C;return t-W<t/4&&(t=W+t/4),e1(i,V?t/2*v%t:(R/2+2*p)*y*v%t,t,w,n,W,V,!1,C)}function e1(i,t,n,l,h,p,y,v,C){const w=p/2,R=jh(i);let W=0,V=t-n,K=[];for(let re=0;re<i.length-1;re++){const pe=i[re],Pe=i[re+1],je=pe.dist(Pe),lt=Pe.angleTo(pe);for(;V+n<W+je;){V+=n;const Ve=(V-W)/je,Qe=Vr(pe.x,Pe.x,Ve),gt=Vr(pe.y,Pe.y,Ve);if(Qe>=0&&Qe<C&&gt>=0&&gt<C&&V-w>=0&&V+w<=R){const ut=new ql(Qe,gt,0,lt,re);ut._round(),l&&!Xd(i,ut,p,l,h)||K.push(ut)}}W+=je}return v||K.length||y||(K=e1(i,W/2,n,l,h,p,y,!0,C)),K}function sh(i,t,n,l,h){const p=[];for(let y=0;y<i.length;y++){const v=i[y];let C;for(let w=0;w<v.length-1;w++){let R=v[w],W=v[w+1];R.x<t&&W.x<t||(R.x<t?R=new Me(t,R.y+(t-R.x)/(W.x-R.x)*(W.y-R.y))._round():W.x<t&&(W=new Me(t,R.y+(t-R.x)/(W.x-R.x)*(W.y-R.y))._round()),R.y<n&&W.y<n||(R.y<n?R=new Me(R.x+(n-R.y)/(W.y-R.y)*(W.x-R.x),n)._round():W.y<n&&(W=new Me(R.x+(n-R.y)/(W.y-R.y)*(W.x-R.x),n)._round()),R.x>=l&&W.x>=l||(R.x>=l?R=new Me(l,R.y+(l-R.x)/(W.x-R.x)*(W.y-R.y))._round():W.x>=l&&(W=new Me(l,R.y+(l-R.x)/(W.x-R.x)*(W.y-R.y))._round()),R.y>=h&&W.y>=h||(R.y>=h?R=new Me(R.x+(h-R.y)/(W.y-R.y)*(W.x-R.x),h)._round():W.y>=h&&(W=new Me(R.x+(h-R.y)/(W.y-R.y)*(W.x-R.x),h)._round()),C&&R.equals(C[C.length-1])||(C=[R],p.push(C)),C.push(W)))))}}return p}En(ql,"Anchor");const oh=1e20;function Yh(i,t,n,l,h,p,y,v,C){for(let w=t;w<t+l;w++)t1(i,n*p+w,p,h,y,v,C);for(let w=n;w<n+h;w++)t1(i,w*p+t,1,l,y,v,C)}function t1(i,t,n,l,h,p,y){p[0]=0,y[0]=-oh,y[1]=oh,h[0]=i[t];for(let v=1,C=0,w=0;v<l;v++){h[v]=i[t+v*n];const R=v*v;do{const W=p[C];w=(h[v]-h[W]+R-W*W)/(v-W)/2}while(w<=y[C]&&--C>-1);C++,p[C]=v,y[C]=w,y[C+1]=oh}for(let v=0,C=0;v<l;v++){for(;y[C+1]<v;)C++;const w=p[C],R=v-w;i[t+v*n]=h[w]+R*R}}const qh={none:0,ideographs:1,all:2};class tt{constructor(t,n,l){this.requestManager=t,this.localGlyphMode=n,this.localFontFamily=l,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,n){const l=[];for(const h in t)for(const p of t[h])l.push({stack:h,id:p});be(l,({stack:h,id:p},y)=>{let v=this.entries[h];v||(v=this.entries[h]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let C=v.glyphs[p];if(C!==void 0)return void y(null,{stack:h,id:p,glyph:C});if(C=this._tinySDF(v,h,p),C)return v.glyphs[p]=C,void y(null,{stack:h,id:p,glyph:C});const w=Math.floor(p/256);if(256*w>65535)return void y(new Error("glyphs > 65535 not supported"));if(v.ranges[w])return void y(null,{stack:h,id:p,glyph:C});let R=v.requests[w];R||(R=v.requests[w]=[],tt.loadGlyphRange(h,w,this.url,this.requestManager,(W,V)=>{if(V){v.ascender=V.ascender,v.descender=V.descender;for(const K in V.glyphs)this._doesCharSupportLocalGlyph(+K)||(v.glyphs[+K]=V.glyphs[+K]);v.ranges[w]=!0}for(const K of R)K(W,V);delete v.requests[w]})),R.push((W,V)=>{W?y(W):V&&y(null,{stack:h,id:p,glyph:V.glyphs[p]||null})})},(h,p)=>{if(h)n(h);else if(p){const y={};for(const{stack:v,id:C,glyph:w}of p)y[v]===void 0&&(y[v]={}),y[v].glyphs===void 0&&(y[v].glyphs={}),y[v].glyphs[C]=w&&{id:w.id,bitmap:w.bitmap.clone(),metrics:w.metrics},y[v].ascender=this.entries[v].ascender,y[v].descender=this.entries[v].descender;n(null,y)}})}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==qh.none&&(this.localGlyphMode===qh.all?!!this.localFontFamily:!!this.localFontFamily&&(m0(t)||yu(t)||pl(t)||p_(t)||dl(t)))}_tinySDF(t,n,l){const h=this.localFontFamily;if(!h||!this._doesCharSupportLocalGlyph(l))return;let p=t.tinySDF;if(!p){let pe="400";/bold/i.test(n)?pe="900":/medium/i.test(n)?pe="500":/light/i.test(n)&&(pe="200"),p=t.tinySDF=new tt.TinySDF({fontFamily:h,fontWeight:pe,fontSize:48,buffer:6,radius:16}),p.fontWeight=pe}if(this.localGlyphs[p.fontWeight][l])return this.localGlyphs[p.fontWeight][l];const y=String.fromCharCode(l),{data:v,width:C,height:w,glyphWidth:R,glyphHeight:W,glyphLeft:V,glyphTop:K,glyphAdvance:re}=p.draw(y);return this.localGlyphs[p.fontWeight][l]={id:l,bitmap:new gl({width:C,height:w},v),metrics:{width:R/2,height:W/2,left:V/2,top:K/2-27,advance:re/2,localGlyph:!0}}}}function Ri(i,t,n,l){const h=[],p=i.image,y=p.pixelRatio,v=p.paddedRect.w-2,C=p.paddedRect.h-2,w=i.right-i.left,R=i.bottom-i.top,W=p.stretchX||[[0,v]],V=p.stretchY||[[0,C]],K=(li,Ei)=>li+Ei[1]-Ei[0],re=W.reduce(K,0),pe=V.reduce(K,0),Pe=v-re,je=C-pe;let lt=0,Ve=re,Qe=0,gt=pe,ut=0,$t=Pe,jt=0,Si=je;if(p.content&&l){const li=p.content;lt=ni(W,0,li[0]),Qe=ni(V,0,li[1]),Ve=ni(W,li[0],li[2]),gt=ni(V,li[1],li[3]),ut=li[0]-lt,jt=li[1]-Qe,$t=li[2]-li[0]-Ve,Si=li[3]-li[1]-gt}const tn=(li,Ei,ki,Xi)=>{const nn=dn(li.stretch-lt,Ve,w,i.left),ci=kr(li.fixed-ut,$t,li.stretch,re),fn=dn(Ei.stretch-Qe,gt,R,i.top),lr=kr(Ei.fixed-jt,Si,Ei.stretch,pe),Nn=dn(ki.stretch-lt,Ve,w,i.left),jn=kr(ki.fixed-ut,$t,ki.stretch,re),gn=dn(Xi.stretch-Qe,gt,R,i.top),hr=kr(Xi.fixed-jt,Si,Xi.stretch,pe),Kr=new Me(nn,fn),qr=new Me(Nn,fn),zr=new Me(Nn,gn),Tr=new Me(nn,gn),Gs=new Me(ci/y,lr/y),wr=new Me(jn/y,hr/y),Qr=t*Math.PI/180;if(Qr){const Xs=Math.sin(Qr),no=Math.cos(Qr),oo=[no,-Xs,Xs,no];Kr._matMult(oo),qr._matMult(oo),Tr._matMult(oo),zr._matMult(oo)}const Vs=li.stretch+li.fixed,io=Ei.stretch+Ei.fixed;return{tl:Kr,tr:qr,bl:Tr,br:zr,tex:{x:p.paddedRect.x+1+Vs,y:p.paddedRect.y+1+io,w:ki.stretch+ki.fixed-Vs,h:Xi.stretch+Xi.fixed-io},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Gs,pixelOffsetBR:wr,minFontScaleX:$t/y/w,minFontScaleY:Si/y/R,isSDF:n}};if(l&&(p.stretchX||p.stretchY)){const li=Hi(W,Pe,re),Ei=Hi(V,je,pe);for(let ki=0;ki<li.length-1;ki++){const Xi=li[ki],nn=li[ki+1];for(let ci=0;ci<Ei.length-1;ci++)h.push(tn(Xi,Ei[ci],nn,Ei[ci+1]))}}else h.push(tn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:v+1},{fixed:0,stretch:C+1}));return h}function ni(i,t,n){let l=0;for(const h of i)l+=Math.max(t,Math.min(n,h[1]))-Math.max(t,Math.min(n,h[0]));return l}function Hi(i,t,n){const l=[{fixed:-1,stretch:0}];for(const[h,p]of i){const y=l[l.length-1];l.push({fixed:h-y.stretch,stretch:y.stretch}),l.push({fixed:h-y.stretch,stretch:y.stretch+(p-h)})}return l.push({fixed:t+1,stretch:n}),l}function dn(i,t,n,l){return i/t*n+l}function kr(i,t,n,l){return i-t*n/l}function gr(i,t,n,l){const h=t+i.positionedLines[l].lineOffset;return l===0?n+h/2:n+(h+(t+i.positionedLines[l-1].lineOffset))/2}tt.loadGlyphRange=function(i,t,n,l,h){const p=256*t,y=p+255,v=l.transformRequest(l.normalizeGlyphsURL(n).replace("{fontstack}",i).replace("{range}",`${p}-${y}`),Ln.Glyphs);Or(v,(C,w)=>{if(C)h(C);else if(w){const R={},W=function(V){return new hi(V).readFields(en,{})}(w);for(const V of W.glyphs)R[V.id]=V;h(null,{glyphs:R,ascender:W.ascender,descender:W.descender})}})},tt.TinySDF=class{constructor({fontSize:i=24,buffer:t=3,radius:n=8,cutoff:l=.25,fontFamily:h="sans-serif",fontWeight:p="normal",fontStyle:y="normal"}={}){this.buffer=t,this.cutoff=l,this.radius=n;const v=this.size=i+4*t,C=this._createCanvas(v),w=this.ctx=C.getContext("2d",{willReadFrequently:!0});w.font=`${y} ${p} ${i}px ${h}`,w.textBaseline="alphabetic",w.textAlign="left",w.fillStyle="black",this.gridOuter=new Float64Array(v*v),this.gridInner=new Float64Array(v*v),this.f=new Float64Array(v),this.z=new Float64Array(v+1),this.v=new Uint16Array(v)}_createCanvas(i){const t=document.createElement("canvas");return t.width=t.height=i,t}draw(i){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:l,actualBoundingBoxLeft:h,actualBoundingBoxRight:p}=this.ctx.measureText(i),y=Math.ceil(n),v=Math.min(this.size-this.buffer,Math.ceil(p-h)),C=Math.min(this.size-this.buffer,y+Math.ceil(l)),w=v+2*this.buffer,R=C+2*this.buffer,W=Math.max(w*R,0),V=new Uint8ClampedArray(W),K={data:V,width:w,height:R,glyphWidth:v,glyphHeight:C,glyphTop:y,glyphLeft:0,glyphAdvance:t};if(v===0||C===0)return K;const{ctx:re,buffer:pe,gridInner:Pe,gridOuter:je}=this;re.clearRect(pe,pe,v,C),re.fillText(i,pe,pe+y);const lt=re.getImageData(pe,pe,v,C);je.fill(oh,0,W),Pe.fill(0,0,W);for(let Ve=0;Ve<C;Ve++)for(let Qe=0;Qe<v;Qe++){const gt=lt.data[4*(Ve*v+Qe)+3]/255;if(gt===0)continue;const ut=(Ve+pe)*w+Qe+pe;if(gt===1)je[ut]=0,Pe[ut]=oh;else{const $t=.5-gt;je[ut]=$t>0?$t*$t:0,Pe[ut]=$t<0?$t*$t:0}}Yh(je,0,0,w,R,w,this.f,this.v,this.z),Yh(Pe,pe,pe,v,C,w,this.f,this.v,this.z);for(let Ve=0;Ve<W;Ve++){const Qe=Math.sqrt(je[Ve])-Math.sqrt(Pe[Ve]);V[Ve]=Math.round(255-255*(Qe/this.radius+this.cutoff))}return K}};class Ur{constructor(t=[],n=ps){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:l}=this,h=n[t];for(;t>0;){const p=t-1>>1,y=n[p];if(l(h,y)>=0)break;n[t]=y,t=p}n[t]=h}_down(t){const{data:n,compare:l}=this,h=this.length>>1,p=n[t];for(;t<h;){let y=1+(t<<1),v=n[y];const C=y+1;if(C<this.length&&l(n[C],v)<0&&(y=C,v=n[C]),l(v,p)>=0)break;n[t]=v,t=y}n[t]=p}}function ps(i,t){return i<t?-1:i>t?1:0}function to(i,t=1,n=!1){let l=1/0,h=1/0,p=-1/0,y=-1/0;const v=i[0];for(let K=0;K<v.length;K++){const re=v[K];(!K||re.x<l)&&(l=re.x),(!K||re.y<h)&&(h=re.y),(!K||re.x>p)&&(p=re.x),(!K||re.y>y)&&(y=re.y)}const C=Math.min(p-l,y-h);let w=C/2;const R=new Ur([],Ds);if(C===0)return new Me(l,h);for(let K=l;K<p;K+=C)for(let re=h;re<y;re+=C)R.push(new Yr(K+w,re+w,w,i));let W=function(K){let re=0,pe=0,Pe=0;const je=K[0];for(let lt=0,Ve=je.length,Qe=Ve-1;lt<Ve;Qe=lt++){const gt=je[lt],ut=je[Qe],$t=gt.x*ut.y-ut.x*gt.y;pe+=(gt.x+ut.x)*$t,Pe+=(gt.y+ut.y)*$t,re+=3*$t}return new Yr(pe/re,Pe/re,0,K)}(i),V=R.length;for(;R.length;){const K=R.pop();(K.d>W.d||!W.d)&&(W=K,n&&console.log("found best %d after %d probes",Math.round(1e4*K.d)/1e4,V)),K.max-W.d<=t||(w=K.h/2,R.push(new Yr(K.p.x-w,K.p.y-w,w,i)),R.push(new Yr(K.p.x+w,K.p.y-w,w,i)),R.push(new Yr(K.p.x-w,K.p.y+w,w,i)),R.push(new Yr(K.p.x+w,K.p.y+w,w,i)),V+=4)}return n&&(console.log(`num probes: ${V}`),console.log(`best distance: ${W.d}`)),W.p}function Ds(i,t){return t.max-i.max}function Yr(i,t,n,l){this.p=new Me(i,t),this.h=n,this.d=function(h,p){let y=!1,v=1/0;for(let C=0;C<p.length;C++){const w=p[C];for(let R=0,W=w.length,V=W-1;R<W;V=R++){const K=w[R],re=w[V];K.y>h.y!=re.y>h.y&&h.x<(re.x-K.x)*(h.y-K.y)/(re.y-K.y)+K.x&&(y=!y),v=Math.min(v,md(h,K,re))}}return(y?1:-1)*Math.sqrt(v)}(this.p,l),this.max=this.d+this.h*Math.SQRT2}const Hr=Number.POSITIVE_INFINITY,zu=Math.sqrt(2);function No(i,[t,n]){let l=0,h=0;if(n===Hr){t<0&&(t=0);const p=t/zu;switch(i){case"top-right":case"top-left":h=p-7;break;case"bottom-right":case"bottom-left":h=7-p;break;case"bottom":h=7-t;break;case"top":h=t-7}switch(i){case"top-right":case"bottom-right":l=-p;break;case"top-left":case"bottom-left":l=p;break;case"left":l=t;break;case"right":l=-t}}else{switch(t=Math.abs(t),n=Math.abs(n),i){case"top-right":case"top-left":case"top":h=n-7;break;case"bottom-right":case"bottom-left":case"bottom":h=7-n}switch(i){case"top-right":case"bottom-right":case"right":l=-t;break;case"top-left":case"bottom-left":case"left":l=t}}return[l,h]}function Y_(i,t,n,l,h,p,y,v,C,w){i.createArrays(),i.tilePixelRatio=ar/(512*i.overscaling),i.compareText={},i.iconsNeedLinear=!1;const R=i.layers[0].layout,W=i.layers[0]._unevaluatedLayout._values,V={};if(i.textSizeData.kind==="composite"){const{minZoom:pe,maxZoom:Pe}=i.textSizeData;V.compositeTextSizes=[W["text-size"].possiblyEvaluate(new Lt(pe),v),W["text-size"].possiblyEvaluate(new Lt(Pe),v)]}if(i.iconSizeData.kind==="composite"){const{minZoom:pe,maxZoom:Pe}=i.iconSizeData;V.compositeIconSizes=[W["icon-size"].possiblyEvaluate(new Lt(pe),v),W["icon-size"].possiblyEvaluate(new Lt(Pe),v)]}V.layoutTextSize=W["text-size"].possiblyEvaluate(new Lt(C+1),v),V.layoutIconSize=W["icon-size"].possiblyEvaluate(new Lt(C+1),v),V.textMaxSize=W["text-size"].possiblyEvaluate(new Lt(18),v);const K=R.get("text-rotation-alignment")==="map"&&R.get("symbol-placement")!=="point",re=R.get("text-size");for(const pe of i.features){const Pe=R.get("text-font").evaluate(pe,{},v).join(","),je=re.evaluate(pe,{},v),lt=V.layoutTextSize.evaluate(pe,{},v),Ve=(V.layoutIconSize.evaluate(pe,{},v),{horizontal:{},vertical:void 0}),Qe=pe.text;let gt,ut=[0,0];if(Qe){const Si=Qe.toString(),tn=R.get("text-letter-spacing").evaluate(pe,{},v)*ie,li=R.get("text-line-height").evaluate(pe,{},v)*ie,Ei=M(Si)?tn:0,ki=R.get("text-anchor").evaluate(pe,{},v),Xi=R.get("text-variable-anchor");if(!Xi){const Nn=R.get("text-radial-offset").evaluate(pe,{},v);ut=Nn?No(ki,[Nn*ie,Hr]):R.get("text-offset").evaluate(pe,{},v).map(jn=>jn*ie)}let nn=K?"center":R.get("text-justify").evaluate(pe,{},v);const ci=R.get("symbol-placement")==="point",fn=ci?R.get("text-max-width").evaluate(pe,{},v)*ie:1/0,lr=Nn=>{i.allowVerticalPlacement&&E(Si)&&(Ve.vertical=ea(Qe,t,n,h,Pe,fn,li,ki,Nn,Ei,ut,fr.vertical,!0,lt,je))};if(!K&&Xi){const Nn=nn==="auto"?Xi.map(gn=>v0(gn)):[nn];let jn=!1;for(let gn=0;gn<Nn.length;gn++){const hr=Nn[gn];if(!Ve.horizontal[hr])if(jn)Ve.horizontal[hr]=Ve.horizontal[0];else{const Kr=ea(Qe,t,n,h,Pe,fn,li,"center",hr,Ei,ut,fr.horizontal,!1,lt,je);Kr&&(Ve.horizontal[hr]=Kr,jn=Kr.positionedLines.length===1)}}lr("left")}else{if(nn==="auto"&&(nn=v0(ki)),ci||R.get("text-writing-mode").indexOf("horizontal")>=0||!E(Si)){const Nn=ea(Qe,t,n,h,Pe,fn,li,ki,nn,Ei,ut,fr.horizontal,!1,lt,je);Nn&&(Ve.horizontal[nn]=Nn)}lr(ci?"left":nn)}}let $t=!1;if(pe.icon&&pe.icon.name){const Si=l[pe.icon.name];Si&&(gt=b0(h[pe.icon.name],R.get("icon-offset").evaluate(pe,{},v),R.get("icon-anchor").evaluate(pe,{},v)),$t=Si.sdf,i.sdfIcons===void 0?i.sdfIcons=Si.sdf:i.sdfIcons!==Si.sdf&&_r("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Si.pixelRatio!==i.pixelRatio||R.get("icon-rotate").constantOr(1)!==0)&&(i.iconsNeedLinear=!0))}const jt=Tl(Ve.horizontal)||Ve.vertical;i.iconsInText||(i.iconsInText=!!jt&&jt.iconsInText),(jt||gt)&&Vu(i,pe,Ve,gt,l,V,lt,0,ut,$t,y,v,w)}p&&i.generateCollisionDebugBuffers(C,i.collisionBoxArray)}function v0(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Vu(i,t,n,l,h,p,y,v,C,w,R,W,V){let K=p.textMaxSize.evaluate(t,{},W);K===void 0&&(K=y);const re=i.layers[0].layout,pe=re.get("icon-offset").evaluate(t,{},W),Pe=Tl(n.horizontal)||n.vertical,je=V.name==="globe",lt=y/24,Ve=i.tilePixelRatio*K/24,Qe=(Ei=i.overscaling,i.zoom>18&&Ei>2&&(Ei>>=1),Math.max(ar/(512*Ei),1)*re.get("symbol-spacing")),gt=re.get("text-padding")*i.tilePixelRatio,ut=re.get("icon-padding")*i.tilePixelRatio,$t=si(re.get("text-max-angle")),jt=re.get("text-rotation-alignment")==="map"&&re.get("symbol-placement")!=="point",Si=re.get("icon-rotation-alignment")==="map"&&re.get("symbol-placement")!=="point",tn=re.get("symbol-placement"),li=Qe/2;var Ei;const ki=re.get("icon-text-fit");let Xi;l&&ki!=="none"&&(i.allowVerticalPlacement&&n.vertical&&(Xi=Zd(l,n.vertical,ki,re.get("icon-text-fit-padding"),pe,lt)),Pe&&(l=Zd(l,Pe,ki,re.get("icon-text-fit-padding"),pe,lt)));const nn=(ci,fn,lr)=>{if(fn.x<0||fn.x>=ar||fn.y<0||fn.y>=ar)return;let Nn=null;if(je){const{x:jn,y:gn,z:hr}=V.projectTilePoint(fn.x,fn.y,lr);Nn={anchor:new ql(jn,gn,hr,0,void 0),up:V.upVector(lr,fn.x,fn.y)}}(function(jn,gn,hr,Kr,qr,zr,Tr,Gs,wr,Qr,Vs,io,Xs,no,oo,wo,Ea,Ws,ta,Jo,As,mo,_a,Js,Oo){const e0=jn.addToLineVertexArray(gn,Kr);let Ma,Ia,r0,ka,ju,td,h1,d1=0,h3=0,d3=0,p3=0,Zp=-1,Xp=-1;const K_={};let m3=so.exports("");const uh=hr?hr.anchor:gn;let Kp=0,Qp=0;if(wr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Kp,Qp]=wr.layout.get("text-offset").evaluate(As,{},Oo).map(V0=>V0*ie):(Kp=wr.layout.get("text-radial-offset").evaluate(As,{},Oo)*ie,Qp=Hr),jn.allowVerticalPlacement&&qr.vertical){const V0=qr.vertical;if(oo)td=S0(V0),Gs&&(h1=S0(Gs));else{const J0=wr.layout.get("text-rotate").evaluate(As,{},Oo)+90;r0=la(Qr,uh,gn,Vs,io,Xs,V0,no,J0,wo),Gs&&(ka=la(Qr,uh,gn,Vs,io,Xs,Gs,Ws,J0))}}if(zr){const V0=wr.layout.get("icon-rotate").evaluate(As,{},Oo),J0=wr.layout.get("icon-text-fit")!=="none",p1=Ri(zr,V0,_a,J0),t2=Gs?Ri(Gs,V0,_a,J0):void 0;Ia=la(Qr,uh,gn,Vs,io,Xs,zr,Ws,V0),d1=4*p1.length;const f3=jn.iconSizeData;let ch=null;f3.kind==="source"?(ch=[Ee*wr.layout.get("icon-size").evaluate(As,{},Oo)],ch[0]>Qa&&_r(`${jn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):f3.kind==="composite"&&(ch=[Ee*mo.compositeIconSizes[0].evaluate(As,{},Oo),Ee*mo.compositeIconSizes[1].evaluate(As,{},Oo)],(ch[0]>Qa||ch[1]>Qa)&&_r(`${jn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),jn.addSymbols(jn.icon,p1,ch,Jo,ta,As,!1,hr,gn,e0.lineStartIndex,e0.lineLength,-1,Js,Oo),Zp=jn.icon.placedSymbolArray.length-1,t2&&(h3=4*t2.length,jn.addSymbols(jn.icon,t2,ch,Jo,ta,As,fr.vertical,hr,gn,e0.lineStartIndex,e0.lineLength,-1,Js,Oo),Xp=jn.icon.placedSymbolArray.length-1)}for(const V0 in qr.horizontal){const J0=qr.horizontal[V0];Ma||(m3=so.exports(J0.text),oo?ju=S0(J0):Ma=la(Qr,uh,gn,Vs,io,Xs,J0,no,wr.layout.get("text-rotate").evaluate(As,{},Oo),wo));const p1=J0.positionedLines.length===1;if(d3+=aa(jn,hr,gn,J0,Tr,wr,oo,As,wo,e0,qr.vertical?fr.horizontal:fr.horizontalOnly,p1?Object.keys(qr.horizontal):[V0],K_,Zp,mo,Js,Oo),p1)break}qr.vertical&&(p3+=aa(jn,hr,gn,qr.vertical,Tr,wr,oo,As,wo,e0,fr.vertical,["vertical"],K_,Xp,mo,Js,Oo));let Rc=-1;const e2=(V0,J0)=>V0?Math.max(V0,J0):J0;Rc=e2(ju,Rc),Rc=e2(td,Rc),Rc=e2(h1,Rc);const o5=Rc>-1?1:0;jn.glyphOffsetArray.length>=Ic.MAX_GLYPHS&&_r("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),As.sortKey!==void 0&&jn.addToSortKeyRanges(jn.symbolInstances.length,As.sortKey),jn.symbolInstances.emplaceBack(uh.x,uh.y,uh.z,gn.x,gn.y,K_.right>=0?K_.right:-1,K_.center>=0?K_.center:-1,K_.left>=0?K_.left:-1,K_.vertical>=0?K_.vertical:-1,Zp,Xp,m3,Ma!==void 0?Ma:jn.collisionBoxArray.length,Ma!==void 0?Ma+1:jn.collisionBoxArray.length,r0!==void 0?r0:jn.collisionBoxArray.length,r0!==void 0?r0+1:jn.collisionBoxArray.length,Ia!==void 0?Ia:jn.collisionBoxArray.length,Ia!==void 0?Ia+1:jn.collisionBoxArray.length,ka||jn.collisionBoxArray.length,ka?ka+1:jn.collisionBoxArray.length,Vs,d3,p3,d1,h3,o5,0,Kp,Qp,Rc)})(i,fn,Nn,ci,n,l,h,Xi,i.layers[0],i.collisionBoxArray,t.index,t.sourceLayerIndex,i.index,gt,jt,C,0,ut,Si,pe,t,p,w,R,W)};if(tn==="line")for(const ci of sh(t.geometry,0,0,ar,ar)){const fn=Z1(ci,Qe,$t,n.vertical||Pe,l,24,Ve,i.overscaling,ar);for(const lr of fn){const Nn=Pe;Nn&&yl(i,Nn.text,li,lr)||nn(ci,lr,W)}}else if(tn==="line-center"){for(const ci of t.geometry)if(ci.length>1){const fn=Uu(ci,$t,n.vertical||Pe,l,24,Ve);fn&&nn(ci,fn,W)}}else if(t.type==="Polygon")for(const ci of Bh(t.geometry,0)){const fn=to(ci,16);nn(ci[0],new ql(fn.x,fn.y,0,0,void 0),W)}else if(t.type==="LineString")for(const ci of t.geometry)nn(ci,new ql(ci[0].x,ci[0].y,0,0,void 0),W);else if(t.type==="Point")for(const ci of t.geometry)for(const fn of ci)nn([fn],new ql(fn.x,fn.y,0,0,void 0),W)}const Qa=32640;function aa(i,t,n,l,h,p,y,v,C,w,R,W,V,K,re,pe,Pe){const je=function(Qe,gt,ut,$t,jt,Si,tn,li){const Ei=[];if(gt.positionedLines.length===0)return Ei;const ki=$t.layout.get("text-rotate").evaluate(Si,{})*Math.PI/180,Xi=function(Nn){const jn=Nn[0],gn=Nn[1],hr=jn*gn;return hr>0?[jn,-gn]:hr<0?[-jn,gn]:jn===0?[gn,jn]:[gn,-jn]}(ut);let nn=Math.abs(gt.top-gt.bottom);for(const Nn of gt.positionedLines)nn-=Nn.lineOffset;const ci=gt.positionedLines.length,fn=nn/ci;let lr=gt.top-ut[1];for(let Nn=0;Nn<ci;++Nn){const jn=gt.positionedLines[Nn];lr=gr(gt,fn,lr,Nn);for(const gn of jn.positionedGlyphs){if(!gn.rect)continue;const hr=gn.rect||{};let Kr=4,qr=!0,zr=1,Tr=0;if(gn.imageName){const Js=tn[gn.imageName];if(!Js)continue;if(Js.sdf){_r("SDF images are not supported in formatted text and will be ignored.");continue}qr=!1,zr=Js.pixelRatio,Kr=1/zr}const Gs=(jt||li)&&gn.vertical,wr=gn.metrics.advance*gn.scale/2,Qr=gn.metrics,Vs=gn.rect;if(Vs===null)continue;li&&gt.verticalizable&&(Tr=gn.imageName?wr-gn.metrics.width*gn.scale/2:0);const io=jt?[gn.x+wr,gn.y]:[0,0];let Xs=[0,0],no=[0,0],oo=!1;jt||(Gs?(no=[gn.x+wr+Xi[0],gn.y+Xi[1]-Tr],oo=!0):Xs=[gn.x+wr+ut[0],gn.y+ut[1]-Tr]);const wo=Vs.w*gn.scale/(zr*(gn.localGlyph?2:1)),Ea=Vs.h*gn.scale/(zr*(gn.localGlyph?2:1));let Ws,ta,Jo,As;if(Gs){const Js=gn.y-lr,Oo=new Me(-wr,wr-Js),e0=-Math.PI/2,Ma=new Me(...no);Ws=new Me(-wr+Xs[0],Xs[1]),Ws._rotateAround(e0,Oo)._add(Ma),Ws.x+=-Js+wr,Ws.y-=(Qr.left-Kr)*gn.scale;const Ia=gn.imageName?Qr.advance*gn.scale:ie*gn.scale,r0=String.fromCharCode(gn.glyph);yi(r0)?Ws.x+=(1-Kr)*gn.scale:ai(r0)?Ws.x+=Ia-Qr.height*gn.scale+(-Kr-1)*gn.scale:Ws.x+=gn.imageName||Qr.width+2*Kr===Vs.w&&Qr.height+2*Kr===Vs.h?(Ia-Ea)/2:(Ia-(Qr.height+2*Kr)*gn.scale)/2,ta=new Me(Ws.x,Ws.y-wo),Jo=new Me(Ws.x+Ea,Ws.y),As=new Me(Ws.x+Ea,Ws.y-wo)}else{const Js=(Qr.left-Kr)*gn.scale-wr+Xs[0],Oo=(-Qr.top-Kr)*gn.scale+Xs[1],e0=Js+wo,Ma=Oo+Ea;Ws=new Me(Js,Oo),ta=new Me(e0,Oo),Jo=new Me(Js,Ma),As=new Me(e0,Ma)}if(ki){let Js;Js=jt?new Me(0,0):oo?new Me(Xi[0],Xi[1]):new Me(ut[0],ut[1]),Ws._rotateAround(ki,Js),ta._rotateAround(ki,Js),Jo._rotateAround(ki,Js),As._rotateAround(ki,Js)}const mo=new Me(0,0),_a=new Me(0,0);Ei.push({tl:Ws,tr:ta,bl:Jo,br:As,tex:hr,writingMode:gt.writingMode,glyphOffset:io,sectionIndex:gn.sectionIndex,isSDF:qr,pixelOffsetTL:mo,pixelOffsetBR:_a,minFontScaleX:0,minFontScaleY:0})}}return Ei}(0,l,C,p,y,v,h,i.allowVerticalPlacement),lt=i.textSizeData;let Ve=null;lt.kind==="source"?(Ve=[Ee*p.layout.get("text-size").evaluate(v,{},Pe)],Ve[0]>Qa&&_r(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):lt.kind==="composite"&&(Ve=[Ee*re.compositeTextSizes[0].evaluate(v,{},Pe),Ee*re.compositeTextSizes[1].evaluate(v,{},Pe)],(Ve[0]>Qa||Ve[1]>Qa)&&_r(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),i.addSymbols(i.text,je,Ve,C,y,v,R,t,n,w.lineStartIndex,w.lineLength,K,pe,Pe);for(const Qe of W)V[Qe]=i.text.placedSymbolArray.length-1;return 4*je.length}function Tl(i){for(const t in i)return i[t];return null}function la(i,t,n,l,h,p,y,v,C,w){let R=y.top,W=y.bottom,V=y.left,K=y.right;const re=y.collisionPadding;if(re&&(V-=re[0],R-=re[1],K+=re[2],W+=re[3]),C){const pe=new Me(V,R),Pe=new Me(K,R),je=new Me(V,W),lt=new Me(K,W),Ve=si(C);let Qe=new Me(0,0);w&&(Qe=new Me(w[0],w[1])),pe._rotateAround(Ve,Qe),Pe._rotateAround(Ve,Qe),je._rotateAround(Ve,Qe),lt._rotateAround(Ve,Qe),V=Math.min(pe.x,Pe.x,je.x,lt.x),K=Math.max(pe.x,Pe.x,je.x,lt.x),R=Math.min(pe.y,Pe.y,je.y,lt.y),W=Math.max(pe.y,Pe.y,je.y,lt.y)}return i.emplaceBack(t.x,t.y,t.z,n.x,n.y,V,R,K,W,v,l,h,p),i.length-1}function S0(i){i.collisionPadding&&(i.top-=i.collisionPadding[1],i.bottom+=i.collisionPadding[3]);const t=i.bottom-i.top;return t>0?Math.max(10,t):null}function yl(i,t,n,l){const h=i.compareText;if(t in h){const p=h[t];for(let y=p.length-1;y>=0;y--)if(l.dist(p[y])<n)return!0}else h[t]=[];return h[t].push(l),!1}const Mm=bn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:E2}=Mm,M2=bn([{name:"a_pos_3",components:3,type:"Int16"}]);var i1=bn([{name:"a_pos",type:"Int16",components:2}]);const Ju=ar/Math.PI/2,Rp=2*T0(1,0)*Ju*Math.PI,$h=64,Zh=[$h,32,16],$l=-Ju,Zl=Ju,Im=[new lo([$l,$l,$l],[Zl,Zl,Zl]),new lo([$l,$l,$l],[0,0,Zl]),new lo([0,$l,$l],[Zl,0,Zl]),new lo([$l,0,$l],[0,Zl,Zl]),new lo([0,0,$l],[Zl,Zl,Zl])];function I2(i,t,n,l=!0){const h=oa([],i._camera.position,i.worldSize),p=[t,n,1,1];Na(p,p,i.pixelMatrixInverse),Td(p,p,1/p[3]);const y=Qo([],fl([],p,h)),v=i.globeMatrix,C=[v[12],v[13],v[14]],w=fl([],C,h),R=Zc(w),W=Qo([],w),V=i.worldSize/(2*Math.PI),K=A0(W,y),re=Math.asin(V/R);if(re<Math.acos(K)){if(!l)return null;const tn=[],li=[];oa(tn,y,R/K),Qo(li,fl(li,tn,w)),Qo(y,Ca(y,w,oa(y,li,Math.tan(re)*R)))}const pe=[];new Dh(h,y).closestPointOnSphere(C,V,pe);const Pe=Qo([],ot(v,0)),je=Qo([],ot(v,1)),lt=Qo([],ot(v,2)),Ve=A0(Pe,pe),Qe=A0(je,pe),gt=A0(lt,pe),ut=Ze(Math.asin(-Qe/V));let $t=Ze(Math.atan2(Ve,gt));$t=i.center.lng+function(tn,li){const Ei=(li-tn+180)%360-180;return Ei<-180?Ei+360:Ei}(i.center.lng,$t);const jt=O0($t),Si=Y(Wl(ut),0,1);return new mc(jt,Si)}class km{constructor(t,n,l){this.a=fl([],t,l),this.b=fl([],n,l),this.center=l;const h=Qo([],this.a),p=Qo([],this.b);this.angle=Math.acos(A0(h,p))}}function Hp(i,t){if(i.angle===0)return null;let n;return n=i.a[t]===0?1/i.angle*.5*Math.PI:1/i.angle*Math.atan(i.b[t]/i.a[t]/Math.sin(i.angle)-1/Math.tan(i.angle)),n<0||n>1?null:function(l,h,p,y){const v=Math.sin(p);return l*(Math.sin((1-y)*p)/v)+h*(Math.sin(y*p)/v)}(i.a[t],i.b[t],i.angle,Y(n,0,1))+i.center[t]}function q_(i){if(i.z<=1)return Im[i.z+2*i.y+i.x];const t=Fp(X1(i));return lo.fromPoints(t)}function ah(i,t,n){return oa(i,i,1-n),Iu(i,i,t,n)}function k2(i,t){const n=Kh(t.zoom);if(n===0)return q_(i);const l=X1(i),h=Fp(l),p=O0(l.getWest())*t.worldSize,y=O0(l.getEast())*t.worldSize,v=Wl(l.getNorth())*t.worldSize,C=Wl(l.getSouth())*t.worldSize,w=[p,v,0],R=[y,v,0],W=[p,C,0],V=[y,C,0],K=wh([],t.globeMatrix);return qs(w,w,K),qs(R,R,K),qs(W,W,K),qs(V,V,K),h[0]=ah(h[0],W,n),h[1]=ah(h[1],V,n),h[2]=ah(h[2],R,n),h[3]=ah(h[3],w,n),lo.fromPoints(h)}function L2(i,t,n){for(const l of i)qs(l,l,t),oa(l,l,n)}function Lm(i,t,n){const l=t/i.worldSize,h=i.globeMatrix;if(n.z<=1){const jt=q_(n).getCorners();return L2(jt,h,l),lo.fromPoints(jt)}const p=X1(n),y=Fp(p);L2(y,h,l);const v=Number.MAX_VALUE,C=[-v,-v,-v],w=[v,v,v];if(p.contains(i.center)){for(const tn of y)bc(w,w,tn),Za(C,C,tn);C[2]=0;const jt=i.point,Si=[jt.x*l,jt.y*l,0];return bc(w,w,Si),Za(C,C,Si),new lo(w,C)}const R=[h[12]*l,h[13]*l,h[14]*l],W=p.getCenter(),V=Y(i.center.lat,-85.051129,Ul),K=Y(W.lat,-85.051129,Ul),re=O0(i.center.lng),pe=Wl(V);let Pe=re-O0(W.lng);const je=pe-Wl(K);Pe>.5?Pe-=1:Pe<-.5&&(Pe+=1);let lt=0;Math.abs(Pe)>Math.abs(je)?lt=Pe>=0?1:3:(lt=je>=0?0:2,Iu(R,R,[h[4]*l,h[5]*l,h[6]*l],-Math.sin(si(je>=0?p.getSouth():p.getNorth()))*Ju));const Ve=y[lt],Qe=y[(lt+1)%4],gt=new km(Ve,Qe,R),ut=[Hp(gt,0)||Ve[0],Hp(gt,1)||Ve[1],Hp(gt,2)||Ve[2]],$t=Kh(i.zoom);if($t>0){const jt=function({x:tn,y:li,z:Ei},ki,Xi,nn,ci){const fn=1/(1<<Ei);let lr=tn*fn,Nn=lr+fn,jn=li*fn,gn=jn+fn,hr=0;const Kr=(lr+Nn)/2-nn;return Kr>.5?hr=-1:Kr<-.5&&(hr=1),lr=((lr+hr)*ki-(nn*=ki))*Xi+nn,Nn=((Nn+hr)*ki-nn)*Xi+nn,jn=(jn*ki-(ci*=ki))*Xi+ci,gn=(gn*ki-ci)*Xi+ci,[[lr,gn,0],[Nn,gn,0],[Nn,jn,0],[lr,jn,0]]}(n,t,i._pixelsPerMercatorPixel,re,pe);for(let tn=0;tn<y.length;tn++)ah(y[tn],jt[tn],$t);const Si=Ca([],jt[lt],jt[(lt+1)%4]);oa(Si,Si,.5),ah(ut,Si,$t)}for(const jt of y)bc(w,w,jt),Za(C,C,jt);return w[2]=Math.min(Ve[2],Qe[2]),bc(w,w,ut),Za(C,C,ut),new lo(w,C)}function X1({x:i,y:t,z:n}){const l=1/(1<<n),h=new Xr(Ko(i*l),Do((t+1)*l)),p=new Xr(Ko((i+1)*l),Do(t*l));return new F0(h,p)}function Fp(i){const t=si(i.getNorth()),n=si(i.getSouth()),l=Math.cos(t),h=Math.cos(n),p=Math.sin(t),y=Math.sin(n),v=i.getWest(),C=i.getEast();return[Xh(h,y,v),Xh(h,y,C),Xh(l,p,C),Xh(l,p,v)]}function Xh(i,t,n,l=Ju){return n=si(n),[i*Math.sin(n)*l,-t*l,i*Math.cos(n)*l]}function n1(i,t,n){return Xh(Math.cos(si(i)),Math.sin(si(i)),t,n)}function r1(i,t,n,l){const h=1<<n.z,p=(i/ar+n.x)/h;return n1(Do((t/ar+n.y)/h),Ko(p),l)}function K1({min:i,max:t}){return 16383/Math.max(t[0]-i[0],t[1]-i[1],t[2]-i[2])}const D2=new Float64Array(16);function s1(i){const t=K1(i),n=Eh(D2,[t,t,t]);return Mu(n,n,((l=[])[0]=-(h=i.min)[0],l[1]=-h[1],l[2]=-h[2],l));var l,h}function Op(i){const t=(l=i.min,(n=D2)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=l[0],n[13]=l[1],n[14]=l[2],n[15]=1,n);var n,l;const h=1/K1(i);return Jl(t,t,[h,h,h])}function R2(i,t,n,l,h){const p=function(C){const w=ar/(2*Math.PI);return C/(2*Math.PI)/w}(n),y=[i,t,-n/(2*Math.PI)],v=y0(new Float64Array(16));return Mu(v,v,y),Jl(v,v,[p,p,p]),qc(v,v,si(-h)),Ac(v,v,si(-l)),v}function Kh(i){return ce(5,6,i)}function H2(i,t){const n=n1(t.lat,t.lng),l=function(re){const pe=n1(re._center.lat,re._center.lng);let Pe=O_([],Ys(0,1,0),pe);const je=Mh([],-re.angle,pe);Pe=qs(Pe,Pe,je),Mh(je,-re._pitch,Pe);const lt=Qo([],pe);return oa(lt,lt,re.cameraToCenterDistance/re.pixelsPerMeter*Rp),qs(lt,lt,je),Ca([],pe,lt)}(i);return y=(h=kh([],l,n))[0],v=h[1],C=h[2],w=(p=n)[0],R=p[1],W=p[2],K=(V=Math.sqrt(y*y+v*v+C*C)*Math.sqrt(w*w+R*R+W*W))&&A0(h,p)/V,Math.acos(Math.min(Math.max(K,-1),1));var h,p,y,v,C,w,R,W,V,K}function Bp(i,t){return H2(i,t)>Math.PI/2*1.01}const F2=si(85),Dm=Math.cos(F2),Rm=Math.sin(F2);function O2(i,t){const n=i.fovAboveCenter,l=i.elevation?i.elevation.getMinElevationBelowMSL()*t:0,h=(i._camera.position[2]*i.worldSize-l)/Math.cos(i._pitch),p=Math.sin(n)*h/Math.sin(Math.max(Math.PI/2-i._pitch-n,.01)),y=Math.sin(i._pitch)*p+h;return Math.min(1.01*y,h*(1/i._horizonShift))}function lh(i,t){if(!t.isReprojectedInTileSpace)return{scale:1<<i.z,x:i.x,y:i.y,x2:i.x+1,y2:i.y+1,projection:t};const n=Math.pow(2,-i.z),l=i.x*n,h=(i.x+1)*n,p=i.y*n,y=(i.y+1)*n,v=Ko(l),C=Ko(h),w=Do(p),R=Do(y),W=t.project(v,w),V=t.project(C,w),K=t.project(C,R),re=t.project(v,R);let pe=Math.min(W.x,V.x,K.x,re.x),Pe=Math.min(W.y,V.y,K.y,re.y),je=Math.max(W.x,V.x,K.x,re.x),lt=Math.max(W.y,V.y,K.y,re.y);const Ve=n/16;function Qe(ut,$t,jt,Si,tn,li){const Ei=(jt+tn)/2,ki=(Si+li)/2,Xi=t.project(Ko(Ei),Do(ki)),nn=Math.max(0,pe-Xi.x,Pe-Xi.y,Xi.x-je,Xi.y-lt);pe=Math.min(pe,Xi.x),je=Math.max(je,Xi.x),Pe=Math.min(Pe,Xi.y),lt=Math.max(lt,Xi.y),nn>Ve&&(Qe(ut,Xi,jt,Si,Ei,ki),Qe(Xi,$t,Ei,ki,tn,li))}Qe(W,V,l,p,h,p),Qe(V,K,h,p,h,y),Qe(K,re,h,y,l,y),Qe(re,W,l,y,l,p),pe-=Ve,Pe-=Ve,je+=Ve,lt+=Ve;const gt=1/Math.max(je-pe,lt-Pe);return{scale:gt,x:pe*gt,y:Pe*gt,x2:je*gt,y2:lt*gt,projection:t}}const Hm=y0(new Float32Array(16));class Mc{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(t,n){return{x:0,y:0,z:0}}unproject(t,n){return new Xr(0,0)}projectTilePoint(t,n,l){return{x:t,y:n,z:0}}locationPoint(t,n,l=!0){return t._coordinatePoint(t.locationCoordinate(n),l)}pixelsPerMeter(t,n){return T0(1,t)*n}pixelSpaceConversion(t,n,l){return 1}farthestPixelDistance(t){return O2(t,t.pixelsPerMeter)}pointCoordinate(t,n,l,h){const p=t.horizonLineFromTop(!1),y=new Me(n,Math.max(p,l));return t.rayIntersectionCoordinate(t.pointRayIntersection(y,h))}pointCoordinate3D(t,n,l){const h=new Me(n,l);if(t.elevation)return t.elevation.pointCoordinate(h);{const p=this.pointCoordinate(t,h.x,h.y,0);return[p.x,p.y,p.z]}}isPointAboveHorizon(t,n){if(t.elevation)return!this.pointCoordinate3D(t,n.x,n.y);const l=t.horizonLineFromTop();return n.y<l}createInversionMatrix(t,n){return Hm}createTileMatrix(t,n,l){let h,p,y;const v=l.canonical,C=y0(new Float64Array(16));if(this.isReprojectedInTileSpace){const w=lh(v,this);h=1,p=w.x+l.wrap*w.scale,y=w.y,Jl(C,C,[h/w.scale,h/w.scale,t.pixelsPerMeter/n])}else h=n/t.zoomScale(v.z),p=(v.x+Math.pow(2,v.z)*l.wrap)*h,y=v.y*h;return Mu(C,C,[p,y,0]),Jl(C,C,[h/ar,h/ar,1]),C}upVector(t,n,l){return[0,0,1]}upVectorScale(t,n,l){return{metersToTile:1}}}class Fm extends Mc{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[n,l]=this.parallels=t.parallels||[29.5,45.5],h=Math.sin(si(n));this.n=(h+Math.sin(si(l)))/2,this.c=1+h*(2*this.n-h),this.r0=Math.sqrt(this.c)/this.n}project(t,n){const{n:l,c:h,r0:p}=this,y=si(t-this.center[0]),v=si(n),C=Math.sqrt(h-2*l*Math.sin(v))/l;return{x:C*Math.sin(y*l),y:C*Math.cos(y*l)-p,z:0}}unproject(t,n){const{n:l,c:h,r0:p}=this,y=p+n;let v=Math.atan2(t,Math.abs(y))*Math.sign(y);y*l<0&&(v-=Math.PI*Math.sign(t)*Math.sign(y));const C=si(this.center[0])*l;v=de(v,-Math.PI-C,Math.PI-C);const w=Y(Ze(v/l)+this.center[0],-180,180),R=Math.asin(Y((h-(t*t+y*y)*l*l)/(2*l),-1,1)),W=Y(Ze(R),-85.051129,Ul);return new Xr(w,W)}}const o1=1.340264,a1=-.081106,l1=893e-6,_1=.003796,Q1=Math.sqrt(3)/2;class Om extends Mc{project(t,n){n=n/180*Math.PI,t=t/180*Math.PI;const l=Math.asin(Q1*Math.sin(n)),h=l*l,p=h*h*h;return{x:.5*(t*Math.cos(l)/(Q1*(o1+3*a1*h+p*(7*l1+9*_1*h)))/Math.PI+.5),y:1-.5*(l*(o1+a1*h+p*(l1+_1*h))/Math.PI+1),z:0}}unproject(t,n){t=(2*t-.5)*Math.PI;let l=n=(2*(1-n)-1)*Math.PI,h=l*l,p=h*h*h;for(let R,W,V,K=0;K<12&&(W=l*(o1+a1*h+p*(l1+_1*h))-n,V=o1+3*a1*h+p*(7*l1+9*_1*h),R=W/V,l=Y(l-R,-Math.PI/3,Math.PI/3),h=l*l,p=h*h*h,!(Math.abs(R)<1e-12));++K);const y=Q1*t*(o1+3*a1*h+p*(7*l1+9*_1*h))/Math.cos(l),v=Math.asin(Math.sin(l)/Q1),C=Y(180*y/Math.PI,-180,180),w=Y(180*v/Math.PI,-85.051129,Ul);return new Xr(C,w)}}class Bm extends Mc{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0}project(t,n){return{x:.5+t/360,y:.5-n/360,z:0}}unproject(t,n){const l=360*(t-.5),h=Y(360*(.5-n),-85.051129,Ul);return new Xr(l,h)}}const Qh=Math.PI/2;function ep(i){return Math.tan((Qh+i)/2)}class Gm extends Mc{constructor(t){super(t),this.center=t.center||[0,30];const[n,l]=this.parallels=t.parallels||[30,30];let h=si(n),p=si(l);this.southernCenter=h+p<0,this.southernCenter&&(h=-h,p=-p);const y=Math.cos(h),v=ep(h);this.n=h===p?Math.sin(h):Math.log(y/Math.cos(p))/Math.log(ep(p)/v),this.f=y*Math.pow(ep(h),this.n)/this.n}project(t,n){n=si(n),this.southernCenter&&(n=-n),t=si(t-this.center[0]);const l=1e-6,{n:h,f:p}=this;p>0?n<-Qh+l&&(n=-Qh+l):n>Qh-l&&(n=Qh-l);const y=p/Math.pow(ep(n),h);let v=y*Math.sin(h*t),C=p-y*Math.cos(h*t);return v=.5*(v/Math.PI+.5),C=.5*(C/Math.PI+.5),{x:v,y:this.southernCenter?C:1-C,z:0}}unproject(t,n){t=(2*t-.5)*Math.PI,this.southernCenter&&(n=1-n),n=(2*(1-n)-.5)*Math.PI;const{n:l,f:h}=this,p=h-n,y=Math.sign(p),v=Math.sign(l)*Math.sqrt(t*t+p*p);let C=Math.atan2(t,Math.abs(p))*y;p*l<0&&(C-=Math.PI*Math.sign(t)*y);const w=Y(Ze(C/l)+this.center[0],-180,180),R=Y(Ze(2*Math.atan(Math.pow(h/v,1/l))-Qh),-85.051129,Ul);return new Xr(w,this.southernCenter?-R:R)}}class B2 extends Mc{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(t,n){return{x:O0(t),y:Wl(n),z:0}}unproject(t,n){const l=Ko(t),h=Do(n);return new Xr(l,h)}}const G2=si(Ul);class Wm extends Mc{project(t,n){const l=(n=si(n))*n,h=l*l;return{x:.5*((t=si(t))*(.8707-.131979*l+h*(h*(.003971*l-.001529*h)-.013791))/Math.PI+.5),y:1-.5*(n*(1.007226+l*(.015085+h*(.028874*l-.044475-.005916*h)))/Math.PI+1),z:0}}unproject(t,n){t=(2*t-.5)*Math.PI;let l=n=(2*(1-n)-1)*Math.PI,h=25,p=0,y=l*l;do{y=l*l;const w=y*y;p=(l*(1.007226+y*(.015085+w*(.028874*y-.044475-.005916*w)))-n)/(1.007226+y*(.045255+w*(.259866*y-.311325-.005916*11*w))),l=Y(l-p,-G2,G2)}while(Math.abs(p)>1e-6&&--h>0);y=l*l;const v=Y(Ze(t/(.8707+y*(y*(y*y*y*(.003971-.001529*y)-.013791)-.131979))),-180,180),C=Ze(l);return new Xr(v,C)}}const W2=si(Ul);class Um extends Mc{project(t,n){n=si(n),t=si(t);const l=Math.cos(n),h=2/Math.PI,p=Math.acos(l*Math.cos(t/2)),y=Math.sin(p)/p,v=.5*(t*h+2*l*Math.sin(t/2)/y)||0,C=.5*(n+Math.sin(n)/y)||0;return{x:.5*(v/Math.PI+.5),y:1-.5*(C/Math.PI+1),z:0}}unproject(t,n){let l=t=(2*t-.5)*Math.PI,h=n=(2*(1-n)-1)*Math.PI,p=25;const y=1e-6;let v=0,C=0;do{const w=Math.cos(h),R=Math.sin(h),W=2*R*w,V=R*R,K=w*w,re=Math.cos(l/2),pe=Math.sin(l/2),Pe=2*re*pe,je=pe*pe,lt=1-K*re*re,Ve=lt?1/lt:0,Qe=lt?Math.acos(w*re)*Math.sqrt(1/lt):0,gt=.5*(2*Qe*w*pe+2*l/Math.PI)-t,ut=.5*(Qe*R+h)-n,$t=.5*Ve*(K*je+Qe*w*re*V)+1/Math.PI,jt=Ve*(Pe*W/4-Qe*R*pe),Si=.125*Ve*(W*pe-Qe*R*K*Pe),tn=.5*Ve*(V*re+Qe*je*w)+.5,li=jt*Si-tn*$t;v=(ut*jt-gt*tn)/li,C=(gt*Si-ut*$t)/li,l=Y(l-v,-Math.PI,Math.PI),h=Y(h-C,-W2,W2)}while((Math.abs(v)>y||Math.abs(C)>y)&&--p>0);return new Xr(Ze(l),Ze(h))}}class U2 extends Mc{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(si(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(t,n){const{scale:l,cosPhi:h}=this;return{x:si(t)*h*l+.5,y:-Math.sin(si(n))/h*l+.5,z:0}}unproject(t,n){const{scale:l,cosPhi:h}=this,p=-(n-.5)/l,y=Y(Ze((t-.5)/l)/h,-180,180),v=Math.asin(Y(p*h,-1,1)),C=Y(Ze(v),-85.051129,Ul);return new Xr(y,C)}}class zm extends B2{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(t,n,l){const h=r1(t,n,l);return qs(h,h,s1(q_(l))),{x:h[0],y:h[1],z:h[2]}}locationPoint(t,n){const l=n1(n.lat,n.lng),h=Qo([],l),p=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(n),t._centerAltitude):t._centerAltitude;Iu(l,l,h,T0(1,0)*ar*p);const y=y0(new Float64Array(16));return F_(y,t.pixelMatrix,t.globeMatrix),qs(l,l,y),new Me(l[0],l[1])}pixelsPerMeter(t,n){return T0(1,0)*n}pixelSpaceConversion(t,n,l){const h=T0(1,t)*n,p=Vr(T0(1,45)*n,h,l);return this.pixelsPerMeter(t,n)/p}createTileMatrix(t,n,l){const h=Op(q_(l.canonical));return F_(new Float64Array(16),t.globeMatrix,h)}createInversionMatrix(t,n){const{center:l}=t,h=s1(q_(n));return Ac(h,h,si(l.lng)),qc(h,h,si(l.lat)),Jl(h,h,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(h)}pointCoordinate(t,n,l,h){return I2(t,n,l,!0)||new mc(0,0)}pointCoordinate3D(t,n,l){const h=this.pointCoordinate(t,n,l,0);return[h.x,h.y,h.z]}isPointAboveHorizon(t,n){return!I2(t,n.x,n.y,!1)}farthestPixelDistance(t){const n=function(h,p){const y=h.cameraToCenterDistance,v=h._centerAltitude*p,C=h._camera,w=h._camera.forward(),R=Ca([],oa([],w,-y),[0,0,v]),W=h.worldSize/(2*Math.PI),V=[0,0,-W],K=h.width/h.height,re=Math.tan(h.fovAboveCenter),pe=oa([],C.up(),re),Pe=oa([],C.right(),re*K),je=Qo([],Ca([],Ca([],w,pe),Pe)),lt=[];let Ve;if(new Dh(R,je).closestPointOnSphere(V,W,lt)){const Qe=Ca([],lt,V),gt=fl([],Qe,R);Ve=Math.cos(h.fovAboveCenter)*Zc(gt)}else{const Qe=fl([],R,V),gt=fl([],V,R);Qo(gt,gt);const ut=Zc(Qe)-W;Ve=Math.sqrt(ut*(ut+2*W));const $t=Math.acos(Ve/(W+ut))-Math.acos(A0(w,gt));Ve*=Math.cos($t)}return 1.01*Ve}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),l=Kh(t.zoom);if(l>0){const h=O2(t,T0(1,t.center.lat)*t.worldSize),p=t.worldSize/(2*Math.PI),y=Math.max(t.width,t.height)/t.worldSize*Math.PI;return Vr(n,h+p*(1-Math.cos(y)),Math.pow(l,10))}return n}upVector(t,n,l){return r1(n,l,t,1)}upVectorScale(t){return{metersToTile:Rp*K1(q_(t))}}}function z2(i){const t=i.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(i.name){case"mercator":return new B2(i);case"equirectangular":return new Bm(i);case"naturalEarth":return new Wm(i);case"equalEarth":return new Om(i);case"winkelTripel":return new Um(i);case"albers":return n?new U2(i):new Fm(i);case"lambertConformalConic":return n?new U2(i):new Gm(i);case"globe":return new zm(i)}throw new Error(`Invalid projection name: ${i.name}`)}const Vm=Bu.types,Jm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function tp(i,t,n,l,h,p,y,v,C,w,R,W,V){const K=v?Math.min(Qa,Math.round(v[0])):0,re=v?Math.min(Qa,Math.round(v[1])):0;i.emplaceBack(t,n,Math.round(32*l),Math.round(32*h),p,y,(K<<1)+(C?1:0),re,16*w,16*R,256*W,256*V)}function ip(i,t,n,l,h,p,y){i.emplaceBack(t,n,l,h,p,y)}function np(i,t,n,l,h){i.emplaceBack(t,n,l,h),i.emplaceBack(t,n,l,h),i.emplaceBack(t,n,l,h),i.emplaceBack(t,n,l,h)}function jm(i){for(const t of i.sections)if(Le(t.text))return!0;return!1}class Gp{constructor(t){this.layoutVertexArray=new Ts,this.indexArray=new Po,this.programConfigurations=t,this.segments=new po,this.dynamicLayoutVertexArray=new ha,this.opacityVertexArray=new js,this.placedSymbolArray=new Gn,this.globeExtVertexArray=new is}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,n,l,h){this.isEmpty()||(l&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,I.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,n),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,B.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Jm,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,D.members,!0)),this.opacityVertexBuffer.itemSize=1),(l||h)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}En(Gp,"SymbolBuffers");class Wp{constructor(t,n,l){this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new l,this.segments=new po,this.collisionVertexArray=new Gl,this.collisionVertexArrayExt=new ks}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,U.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,X.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}En(Wp,"CollisionBuffers");class Ic{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(y=>y.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=y0([]),this.placementViewportMatrix=y0([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=We(this.zoom,n["text-size"]),this.iconSizeData=We(this.zoom,n["icon-size"]);const l=this.layers[0].layout,h=l.get("symbol-sort-key"),p=l.get("symbol-z-order");this.canOverlap=l.get("text-allow-overlap")||l.get("icon-allow-overlap")||l.get("text-ignore-placement")||l.get("icon-ignore-placement"),this.sortFeaturesByKey=p!=="viewport-y"&&h.constantOr(1)!==void 0,this.sortFeaturesByY=(p==="viewport-y"||p==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=l.get("text-writing-mode").map(y=>fr[y]),this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id),this.sourceID=t.sourceID,this.projection=t.projection}createArrays(){this.text=new Gp(new f_(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new Gp(new f_(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new $n,this.lineVertexArray=new Fr,this.symbolInstances=new Kn}calculateGlyphDependencies(t,n,l,h,p){for(let y=0;y<t.length;y++)if(n[t.charCodeAt(y)]=!0,h&&p){const v=Ut[t.charAt(y)];v&&(n[v.charCodeAt(0)]=!0)}}populate(t,n,l,h){const p=this.layers[0],y=p.layout,v=this.projection.name==="globe",C=y.get("text-font"),w=y.get("text-field"),R=y.get("icon-image"),W=(w.value.kind!=="constant"||w.value.value instanceof Bt&&!w.value.value.isEmpty()||w.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),V=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,K=y.get("symbol-sort-key");if(this.features=[],!W&&!V)return;const re=n.iconDependencies,pe=n.glyphDependencies,Pe=n.availableImages,je=new Lt(this.zoom);for(const{feature:lt,id:Ve,index:Qe,sourceLayerIndex:gt}of t){const ut=p._featureFilter.needGeometry,$t=zl(lt,ut);if(!p._featureFilter.filter(je,$t,l))continue;if(ut||($t.geometry=zs(lt,l,h)),v&&lt.type!==1&&l.z<=5){const li=$t.geometry,Ei=.98078528056,ki=(Xi,nn)=>A0(r1(Xi.x,Xi.y,l,1),r1(nn.x,nn.y,l,1))<Ei;for(let Xi=0;Xi<li.length;Xi++)li[Xi]=hd(li[Xi],ki)}let jt,Si;if(W){const li=p.getValueAndResolveTokens("text-field",$t,l,Pe),Ei=Bt.factory(li);jm(Ei)&&(this.hasRTLText=!0),(!this.hasRTLText||Nt()==="unavailable"||this.hasRTLText&&zt.isParsed())&&(jt=Ft(Ei,p,$t))}if(V){const li=p.getValueAndResolveTokens("icon-image",$t,l,Pe);Si=li instanceof di?li:di.fromString(li)}if(!jt&&!Si)continue;const tn=this.sortFeaturesByKey?K.evaluate($t,{},l):void 0;if(this.features.push({id:Ve,text:jt,icon:Si,index:Qe,sourceLayerIndex:gt,geometry:$t.geometry,properties:lt.properties,type:Vm[lt.type],sortKey:tn}),Si&&(re[Si.name]=!0),jt){const li=C.evaluate($t,{},l).join(","),Ei=y.get("text-rotation-alignment")==="map"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(fr.vertical)>=0;for(const ki of jt.sections)if(ki.image)re[ki.image.name]=!0;else{const Xi=E(jt.toString()),nn=ki.fontStack||li,ci=pe[nn]=pe[nn]||{};this.calculateGlyphDependencies(ki.text,ci,Ei,this.allowVerticalPlacement,Xi)}}}y.get("symbol-placement")==="line"&&(this.features=function(lt){const Ve={},Qe={},gt=[];let ut=0;function $t(li){gt.push(lt[li]),ut++}function jt(li,Ei,ki){const Xi=Qe[li];return delete Qe[li],Qe[Ei]=Xi,gt[Xi].geometry[0].pop(),gt[Xi].geometry[0]=gt[Xi].geometry[0].concat(ki[0]),Xi}function Si(li,Ei,ki){const Xi=Ve[Ei];return delete Ve[Ei],Ve[li]=Xi,gt[Xi].geometry[0].shift(),gt[Xi].geometry[0]=ki[0].concat(gt[Xi].geometry[0]),Xi}function tn(li,Ei,ki){const Xi=ki?Ei[0][Ei[0].length-1]:Ei[0][0];return`${li}:${Xi.x}:${Xi.y}`}for(let li=0;li<lt.length;li++){const Ei=lt[li],ki=Ei.geometry,Xi=Ei.text?Ei.text.toString():null;if(!Xi){$t(li);continue}const nn=tn(Xi,ki),ci=tn(Xi,ki,!0);if(nn in Qe&&ci in Ve&&Qe[nn]!==Ve[ci]){const fn=Si(nn,ci,ki),lr=jt(nn,ci,gt[fn].geometry);delete Ve[nn],delete Qe[ci],Qe[tn(Xi,gt[lr].geometry,!0)]=lr,gt[fn].geometry=null}else nn in Qe?jt(nn,ci,ki):ci in Ve?Si(nn,ci,ki):($t(li),Ve[nn]=ut-1,Qe[ci]=ut-1)}return gt.filter(li=>li.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((lt,Ve)=>lt.sortKey-Ve.sortKey)}update(t,n,l,h){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,n,this.layers,l,h),this.icon.programConfigurations.updatePaintArrays(t,n,this.layers,l,h))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=z2(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,n){const l=this.lineVertexArray.length;if(t.segment!==void 0)for(const{x:h,y:p}of n)this.lineVertexArray.emplaceBack(h,p);return{lineStartIndex:l,lineLength:this.lineVertexArray.length-l}}addSymbols(t,n,l,h,p,y,v,C,w,R,W,V,K,re){const pe=t.indexArray,Pe=t.layoutVertexArray,je=t.globeExtVertexArray,lt=t.segments.prepareSegment(4*n.length,Pe,pe,this.canOverlap?y.sortKey:void 0),Ve=this.glyphOffsetArray.length,Qe=lt.vertexLength,gt=this.allowVerticalPlacement&&v===fr.vertical?Math.PI/2:0,ut=y.text&&y.text.sections;for(let jt=0;jt<n.length;jt++){const{tl:Si,tr:tn,bl:li,br:Ei,tex:ki,pixelOffsetTL:Xi,pixelOffsetBR:nn,minFontScaleX:ci,minFontScaleY:fn,glyphOffset:lr,isSDF:Nn,sectionIndex:jn}=n[jt],gn=lt.vertexLength,hr=lr[1];if(tp(Pe,w.x,w.y,Si.x,hr+Si.y,ki.x,ki.y,l,Nn,Xi.x,Xi.y,ci,fn),tp(Pe,w.x,w.y,tn.x,hr+tn.y,ki.x+ki.w,ki.y,l,Nn,nn.x,Xi.y,ci,fn),tp(Pe,w.x,w.y,li.x,hr+li.y,ki.x,ki.y+ki.h,l,Nn,Xi.x,nn.y,ci,fn),tp(Pe,w.x,w.y,Ei.x,hr+Ei.y,ki.x+ki.w,ki.y+ki.h,l,Nn,nn.x,nn.y,ci,fn),C){const{x:Kr,y:qr,z:zr}=C.anchor,[Tr,Gs,wr]=C.up;ip(je,Kr,qr,zr,Tr,Gs,wr),ip(je,Kr,qr,zr,Tr,Gs,wr),ip(je,Kr,qr,zr,Tr,Gs,wr),ip(je,Kr,qr,zr,Tr,Gs,wr),np(t.dynamicLayoutVertexArray,Kr,qr,zr,gt)}else np(t.dynamicLayoutVertexArray,w.x,w.y,w.z,gt);pe.emplaceBack(gn,gn+1,gn+2),pe.emplaceBack(gn+1,gn+2,gn+3),lt.vertexLength+=4,lt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(lr[0]),jt!==n.length-1&&jn===n[jt+1].sectionIndex||t.programConfigurations.populatePaintArrays(Pe.length,y,y.index,{},K,re,ut&&ut[jn])}const $t=C?C.anchor:w;t.placedSymbolArray.emplaceBack($t.x,$t.y,$t.z,w.x,w.y,Ve,this.glyphOffsetArray.length-Ve,Qe,R,W,w.segment,l?l[0]:0,l?l[1]:0,h[0],h[1],v,0,!1,0,V,0)}_commitLayoutVertex(t,n,l,h,p,y,v){t.emplaceBack(n,l,h,p,y,Math.round(v.x),Math.round(v.y))}_addCollisionDebugVertices(t,n,l,h,p,y,v){const C=l.segments.prepareSegment(4,l.layoutVertexArray,l.indexArray),w=C.vertexLength,R=v.tileAnchorX,W=v.tileAnchorY;for(let K=0;K<4;K++)l.collisionVertexArray.emplaceBack(0,0,0,0);l.collisionVertexArrayExt.emplaceBack(n,-t.padding,-t.padding),l.collisionVertexArrayExt.emplaceBack(n,t.padding,-t.padding),l.collisionVertexArrayExt.emplaceBack(n,t.padding,t.padding),l.collisionVertexArrayExt.emplaceBack(n,-t.padding,t.padding),this._commitLayoutVertex(l.layoutVertexArray,h,p,y,R,W,new Me(t.x1,t.y1)),this._commitLayoutVertex(l.layoutVertexArray,h,p,y,R,W,new Me(t.x2,t.y1)),this._commitLayoutVertex(l.layoutVertexArray,h,p,y,R,W,new Me(t.x2,t.y2)),this._commitLayoutVertex(l.layoutVertexArray,h,p,y,R,W,new Me(t.x1,t.y2)),C.vertexLength+=4;const V=l.indexArray;V.emplaceBack(w,w+1),V.emplaceBack(w+1,w+2),V.emplaceBack(w+2,w+3),V.emplaceBack(w+3,w),C.primitiveLength+=4}_addTextDebugCollisionBoxes(t,n,l,h,p,y){for(let v=h;v<p;v++){const C=l.get(v),w=this.getSymbolInstanceTextSize(t,y,n,v);this._addCollisionDebugVertices(C,w,this.textCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,y)}}_addIconDebugCollisionBoxes(t,n,l,h,p,y){for(let v=h;v<p;v++){const C=l.get(v),w=this.getSymbolInstanceIconSize(t,n,y.placedIconSymbolIndex);this._addCollisionDebugVertices(C,w,this.iconCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,y)}}generateCollisionDebugBuffers(t,n){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Wp(Cs,ee.members,Mt),this.iconCollisionBox=new Wp(Cs,ee.members,Mt);const l=et(this.iconSizeData,t),h=et(this.textSizeData,t);for(let p=0;p<this.symbolInstances.length;p++){const y=this.symbolInstances.get(p);this._addTextDebugCollisionBoxes(h,t,n,y.textBoxStartIndex,y.textBoxEndIndex,y),this._addTextDebugCollisionBoxes(h,t,n,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y),this._addIconDebugCollisionBoxes(l,t,n,y.iconBoxStartIndex,y.iconBoxEndIndex,y),this._addIconDebugCollisionBoxes(l,t,n,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex,y)}}getSymbolInstanceTextSize(t,n,l,h){const p=this.text.placedSymbolArray.get(n.rightJustifiedTextSymbolIndex>=0?n.rightJustifiedTextSymbolIndex:n.centerJustifiedTextSymbolIndex>=0?n.centerJustifiedTextSymbolIndex:n.leftJustifiedTextSymbolIndex>=0?n.leftJustifiedTextSymbolIndex:n.verticalPlacedTextSymbolIndex>=0?n.verticalPlacedTextSymbolIndex:h),y=Re(this.textSizeData,t,p)/ie;return this.tilePixelRatio*y}getSymbolInstanceIconSize(t,n,l){const h=this.icon.placedSymbolArray.get(l),p=Re(this.iconSizeData,t,h);return this.tilePixelRatio*p}_commitDebugCollisionVertexUpdate(t,n,l){t.emplaceBack(n,-l,-l),t.emplaceBack(n,l,-l),t.emplaceBack(n,l,l),t.emplaceBack(n,-l,l)}_updateTextDebugCollisionBoxes(t,n,l,h,p,y){for(let v=h;v<p;v++){const C=l.get(v),w=this.getSymbolInstanceTextSize(t,y,n,v);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,w,C.padding)}}_updateIconDebugCollisionBoxes(t,n,l,h,p,y){for(let v=h;v<p;v++){const C=l.get(v),w=this.getSymbolInstanceIconSize(t,n,y);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,w,C.padding)}}updateCollisionDebugBuffers(t,n){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const l=et(this.iconSizeData,t),h=et(this.textSizeData,t);for(let p=0;p<this.symbolInstances.length;p++){const y=this.symbolInstances.get(p);this._updateTextDebugCollisionBoxes(h,t,n,y.textBoxStartIndex,y.textBoxEndIndex,y),this._updateTextDebugCollisionBoxes(h,t,n,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y),this._updateIconDebugCollisionBoxes(l,t,n,y.iconBoxStartIndex,y.iconBoxEndIndex,y.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(l,t,n,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex,y.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,n,l,h,p,y,v,C,w){const R={};if(n<l){const{x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe,featureIndex:gt}=t.get(n);R.textBox={x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe},R.textFeatureIndex=gt}if(h<p){const{x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe,featureIndex:gt}=t.get(h);R.verticalTextBox={x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe},R.verticalTextFeatureIndex=gt}if(y<v){const{x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe,featureIndex:gt}=t.get(y);R.iconBox={x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe},R.iconFeatureIndex=gt}if(C<w){const{x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe,featureIndex:gt}=t.get(C);R.verticalIconBox={x1:W,y1:V,x2:K,y2:re,padding:pe,projectedAnchorX:Pe,projectedAnchorY:je,projectedAnchorZ:lt,tileAnchorX:Ve,tileAnchorY:Qe},R.verticalIconFeatureIndex=gt}return R}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let n=0;n<this.symbolInstances.length;n++){const l=this.symbolInstances.get(n);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,l.textBoxStartIndex,l.textBoxEndIndex,l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l.iconBoxStartIndex,l.iconBoxEndIndex,l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,n){const l=t.placedSymbolArray.get(n),h=l.vertexStartIndex+4*l.numGlyphs;for(let p=l.vertexStartIndex;p<h;p+=4)t.indexArray.emplaceBack(p,p+1,p+2),t.indexArray.emplaceBack(p+1,p+2,p+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const n=Math.sin(t),l=Math.cos(t),h=[],p=[],y=[];for(let v=0;v<this.symbolInstances.length;++v){y.push(v);const C=this.symbolInstances.get(v);h.push(0|Math.round(n*C.tileAnchorX+l*C.tileAnchorY)),p.push(C.featureIndex)}return y.sort((v,C)=>h[v]-h[C]||p[C]-p[v]),y}addToSortKeyRanges(t,n){const l=this.sortKeyRanges[this.sortKeyRanges.length-1];l&&l.sortKey===n?l.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:n,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const n of this.symbolInstanceIndexes){const l=this.symbolInstances.get(n);this.featureSortOrder.push(l.featureIndex);const{rightJustifiedTextSymbolIndex:h,centerJustifiedTextSymbolIndex:p,leftJustifiedTextSymbolIndex:y,verticalPlacedTextSymbolIndex:v,placedIconSymbolIndex:C,verticalPlacedIconSymbolIndex:w}=l;h>=0&&this.addIndicesForPlacedSymbol(this.text,h),p>=0&&p!==h&&this.addIndicesForPlacedSymbol(this.text,p),y>=0&&y!==p&&y!==h&&this.addIndicesForPlacedSymbol(this.text,y),v>=0&&this.addIndicesForPlacedSymbol(this.text,v),C>=0&&this.addIndicesForPlacedSymbol(this.icon,C),w>=0&&this.addIndicesForPlacedSymbol(this.icon,w)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}En(Ic,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ic.MAX_GLYPHS=65535,Ic.addDynamicAttributes=np;const Ym=new An({"symbol-placement":new kt(ui.layout_symbol["symbol-placement"]),"symbol-spacing":new kt(ui.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new kt(ui.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Yt(ui.layout_symbol["symbol-sort-key"]),"symbol-z-order":new kt(ui.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new kt(ui.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new kt(ui.layout_symbol["icon-ignore-placement"]),"icon-optional":new kt(ui.layout_symbol["icon-optional"]),"icon-rotation-alignment":new kt(ui.layout_symbol["icon-rotation-alignment"]),"icon-size":new Yt(ui.layout_symbol["icon-size"]),"icon-text-fit":new kt(ui.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new kt(ui.layout_symbol["icon-text-fit-padding"]),"icon-image":new Yt(ui.layout_symbol["icon-image"]),"icon-rotate":new Yt(ui.layout_symbol["icon-rotate"]),"icon-padding":new kt(ui.layout_symbol["icon-padding"]),"icon-keep-upright":new kt(ui.layout_symbol["icon-keep-upright"]),"icon-offset":new Yt(ui.layout_symbol["icon-offset"]),"icon-anchor":new Yt(ui.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new kt(ui.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new kt(ui.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new kt(ui.layout_symbol["text-rotation-alignment"]),"text-field":new Yt(ui.layout_symbol["text-field"]),"text-font":new Yt(ui.layout_symbol["text-font"]),"text-size":new Yt(ui.layout_symbol["text-size"]),"text-max-width":new Yt(ui.layout_symbol["text-max-width"]),"text-line-height":new Yt(ui.layout_symbol["text-line-height"]),"text-letter-spacing":new Yt(ui.layout_symbol["text-letter-spacing"]),"text-justify":new Yt(ui.layout_symbol["text-justify"]),"text-radial-offset":new Yt(ui.layout_symbol["text-radial-offset"]),"text-variable-anchor":new kt(ui.layout_symbol["text-variable-anchor"]),"text-anchor":new Yt(ui.layout_symbol["text-anchor"]),"text-max-angle":new kt(ui.layout_symbol["text-max-angle"]),"text-writing-mode":new kt(ui.layout_symbol["text-writing-mode"]),"text-rotate":new Yt(ui.layout_symbol["text-rotate"]),"text-padding":new kt(ui.layout_symbol["text-padding"]),"text-keep-upright":new kt(ui.layout_symbol["text-keep-upright"]),"text-transform":new Yt(ui.layout_symbol["text-transform"]),"text-offset":new Yt(ui.layout_symbol["text-offset"]),"text-allow-overlap":new kt(ui.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new kt(ui.layout_symbol["text-ignore-placement"]),"text-optional":new kt(ui.layout_symbol["text-optional"])});var Up={paint:new An({"icon-opacity":new Yt(ui.paint_symbol["icon-opacity"]),"icon-color":new Yt(ui.paint_symbol["icon-color"]),"icon-halo-color":new Yt(ui.paint_symbol["icon-halo-color"]),"icon-halo-width":new Yt(ui.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Yt(ui.paint_symbol["icon-halo-blur"]),"icon-translate":new kt(ui.paint_symbol["icon-translate"]),"icon-translate-anchor":new kt(ui.paint_symbol["icon-translate-anchor"]),"text-opacity":new Yt(ui.paint_symbol["text-opacity"]),"text-color":new Yt(ui.paint_symbol["text-color"],{runtimeType:Es,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new Yt(ui.paint_symbol["text-halo-color"]),"text-halo-width":new Yt(ui.paint_symbol["text-halo-width"]),"text-halo-blur":new Yt(ui.paint_symbol["text-halo-blur"]),"text-translate":new kt(ui.paint_symbol["text-translate"]),"text-translate-anchor":new kt(ui.paint_symbol["text-translate-anchor"])}),layout:Ym};class V2{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Fs,this.defaultValue=t}evaluate(t){if(t.formattedSection){const n=this.defaultValue.property.overrides;if(n&&n.hasOverride(t.formattedSection))return n.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}En(V2,"FormatSectionOverride",{omit:["defaultValue"]});class rp extends H0{constructor(t){super(t,Up)}recalculate(t,n){super.recalculate(t,n),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const l=this.layout.get("text-writing-mode");if(l){const h=[];for(const p of l)h.indexOf(p)<0&&h.push(p);this.layout._values["text-writing-mode"]=h}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,n,l,h){const p=this.layout.get(t).evaluate(n,{},l,h),y=this._unevaluatedLayout._values[t];return y.isDataDriven()||l_(y.value)||!p?p:function(v,C){return C.replace(/{([^{}]+)}/g,(w,R)=>R in v?String(v[R]):"")}(n.properties,p)}createBucket(t){return new Ic(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of Up.paint.overridableProperties){if(!rp.hasPaintOverride(this.layout,t))continue;const n=this.paint.get(t),l=new V2(n),h=new P_(l,n.property.specification);let p=null;p=n.value.kind==="constant"||n.value.kind==="source"?new k0("source",h):new N_("composite",h,n.value.zoomStops,n.value._interpolationType),this.paint._values[t]=new Pi(n.property,p,n.parameters)}}_handleOverridablePaintPropertyUpdate(t,n,l){return!(!this.layout||n.isDataDriven()||l.isDataDriven())&&rp.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,n){const l=t.get("text-field"),h=Up.paint.properties[n];let p=!1;const y=v=>{for(const C of v)if(h.overrides&&h.overrides.hasOverride(C))return void(p=!0)};if(l.value.kind==="constant"&&l.value.value instanceof Bt)y(l.value.value.sections);else if(l.value.kind==="source"){const v=w=>{p||(w instanceof Ii&&mi(w.value)===ma?y(w.value.sections):w instanceof nr?y(w.sections):w.eachChild(v))},C=l.value;C._styleExpression&&v(C._styleExpression.expression)}return p}getProgramConfiguration(t){return new Wa(this,t)}}var qm={paint:new An({"background-color":new kt(ui.paint_background["background-color"]),"background-pattern":new kt(ui.paint_background["background-pattern"]),"background-opacity":new kt(ui.paint_background["background-opacity"])})},$m={paint:new An({"raster-opacity":new kt(ui.paint_raster["raster-opacity"]),"raster-hue-rotate":new kt(ui.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new kt(ui.paint_raster["raster-brightness-min"]),"raster-brightness-max":new kt(ui.paint_raster["raster-brightness-max"]),"raster-saturation":new kt(ui.paint_raster["raster-saturation"]),"raster-contrast":new kt(ui.paint_raster["raster-contrast"]),"raster-resampling":new kt(ui.paint_raster["raster-resampling"]),"raster-fade-duration":new kt(ui.paint_raster["raster-fade-duration"])})};class Zm extends H0{constructor(t){super(t,{}),this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var Xm={paint:new An({"sky-type":new kt(ui.paint_sky["sky-type"]),"sky-atmosphere-sun":new kt(ui.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new kt(ui.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new kt(ui.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new kt(ui.paint_sky["sky-gradient-radius"]),"sky-gradient":new yn(ui.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new kt(ui.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new kt(ui.paint_sky["sky-atmosphere-color"]),"sky-opacity":new kt(ui.paint_sky["sky-opacity"])})};function zp(i,t,n){const l=[0,0,1],h=Sc([]);return Ad(h,h,n?-si(i)+Math.PI:si(i)),yd(h,h,-si(t)),vc(l,l,h),Qo(l,l)}const Km={circle:class extends H0{constructor(i){super(i,yc)}createBucket(i){return new fc(i)}queryRadius(i){const t=i;return G0("circle-radius",this,t)+G0("circle-stroke-width",this,t)+xu(this.paint.get("circle-translate"))}queryIntersectsFeature(i,t,n,l,h,p,y,v){const C=H_(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),p.angle,i.pixelToTileUnitsFactor),w=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return Rh(i,l,p,y,v,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",C,w)}getProgramIds(){return["circle"]}getProgramConfiguration(i){return new Wa(this,i)}},heatmap:class extends H0{createBucket(i){return new Sd(i)}constructor(i){super(i,Cd),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Fh({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(i){return G0("heatmap-radius",this,i)}queryIntersectsFeature(i,t,n,l,h,p,y,v){const C=this.paint.get("heatmap-radius").evaluate(t,n);return Rh(i,l,p,y,v,!0,!0,new Me(0,0),C)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(i){return new Wa(this,i)}},hillshade:class extends H0{constructor(i){super(i,Pd)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends H0{constructor(i){super(i,wp)}getProgramIds(){const i=this.paint.get("fill-pattern"),t=i&&i.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(i){return new Wa(this,i)}recalculate(i,t){super.recalculate(i,t);const n=this.paint._values["fill-outline-color"];n.value.kind==="constant"&&n.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Cc(i)}queryRadius(){return xu(this.paint.get("fill-translate"))}queryIntersectsFeature(i,t,n,l,h,p){return!i.queryGeometry.isAboveHorizon&&pd(Cu(i.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),p.angle,i.pixelToTileUnitsFactor),l)}isTileClipped(){return!0}},"fill-extrusion":class extends H0{constructor(i){super(i,Ro)}createBucket(i){return new wc(i)}queryRadius(){return xu(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(i){return new Wa(this,i)}queryIntersectsFeature(i,t,n,l,h,p,y,v,C){const w=H_(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),p.angle,i.pixelToTileUnitsFactor),R=this.paint.get("fill-extrusion-height").evaluate(t,n),W=this.paint.get("fill-extrusion-base").evaluate(t,n),V=[0,0],K=v&&p.elevation,re=p.elevation?p.elevation.exaggeration():1,pe=i.tile.getBucket(this);if(K&&pe instanceof wc){const Qe=pe.centroidVertexArray,gt=C+1;gt<Qe.length&&(V[0]=Qe.geta_centroid_pos0(gt),V[1]=Qe.geta_centroid_pos1(gt))}if(V[0]===0&&V[1]===1)return!1;p.projection.name==="globe"&&(l=jd([l],[new Me(0,0),new Me(ar,ar)],i.tileID.canonical).map(Qe=>Qe.polygon).flat());const Pe=K?v:null,[je,lt]=function(Qe,gt,ut,$t,jt,Si,tn,li,Ei,ki,Xi){return Qe.projection.name==="globe"?function(nn,ci,fn,lr,Nn,jn,gn,hr,Kr,qr,zr){const Tr=[],Gs=[],wr=nn.projection.upVectorScale(zr,nn.center.lat,nn.worldSize).metersToTile,Qr=[0,0,0,1],Vs=[0,0,0,1],io=(no,oo,wo,Ea)=>{no[0]=oo,no[1]=wo,no[2]=Ea,no[3]=1},Xs=rh();fn>0&&(fn+=Xs),lr+=Xs;for(const no of ci){const oo=[],wo=[];for(const Ea of no){const Ws=Ea.x+Nn.x,ta=Ea.y+Nn.y,Jo=nn.projection.projectTilePoint(Ws,ta,zr),As=nn.projection.upVector(zr,Ea.x,Ea.y);let mo=fn,_a=lr;if(gn){const Js=$1(Ws,ta,fn,lr,gn,hr,Kr,qr);mo+=Js.base,_a+=Js.top}fn!==0?io(Qr,Jo.x+As[0]*wr*mo,Jo.y+As[1]*wr*mo,Jo.z+As[2]*wr*mo):io(Qr,Jo.x,Jo.y,Jo.z),io(Vs,Jo.x+As[0]*wr*_a,Jo.y+As[1]*wr*_a,Jo.z+As[2]*wr*_a),qs(Qr,Qr,jn),qs(Vs,Vs,jn),oo.push(new V_(Qr[0],Qr[1],Qr[2])),wo.push(new V_(Vs[0],Vs[1],Vs[2]))}Tr.push(oo),Gs.push(wo)}return[Tr,Gs]}(Qe,gt,ut,$t,jt,Si,tn,li,Ei,ki,Xi):tn?function(nn,ci,fn,lr,Nn,jn,gn,hr,Kr){const qr=[],zr=[],Tr=[0,0,0,1];for(const Gs of nn){const wr=[],Qr=[];for(const Vs of Gs){const io=Vs.x+lr.x,Xs=Vs.y+lr.y,no=$1(io,Xs,ci,fn,jn,gn,hr,Kr);Tr[0]=io,Tr[1]=Xs,Tr[2]=no.base,Tr[3]=1,Na(Tr,Tr,Nn),Tr[3]=Math.max(Tr[3],1e-5);const oo=new V_(Tr[0]/Tr[3],Tr[1]/Tr[3],Tr[2]/Tr[3]);Tr[0]=io,Tr[1]=Xs,Tr[2]=no.top,Tr[3]=1,Na(Tr,Tr,Nn),Tr[3]=Math.max(Tr[3],1e-5);const wo=new V_(Tr[0]/Tr[3],Tr[1]/Tr[3],Tr[2]/Tr[3]);wr.push(oo),Qr.push(wo)}qr.push(wr),zr.push(Qr)}return[qr,zr]}(gt,ut,$t,jt,Si,tn,li,Ei,ki):function(nn,ci,fn,lr,Nn){const jn=[],gn=[],hr=Nn[8]*ci,Kr=Nn[9]*ci,qr=Nn[10]*ci,zr=Nn[11]*ci,Tr=Nn[8]*fn,Gs=Nn[9]*fn,wr=Nn[10]*fn,Qr=Nn[11]*fn;for(const Vs of nn){const io=[],Xs=[];for(const no of Vs){const oo=no.x+lr.x,wo=no.y+lr.y,Ea=Nn[0]*oo+Nn[4]*wo+Nn[12],Ws=Nn[1]*oo+Nn[5]*wo+Nn[13],ta=Nn[2]*oo+Nn[6]*wo+Nn[14],Jo=Nn[3]*oo+Nn[7]*wo+Nn[15],As=Ea+hr,mo=Ws+Kr,_a=ta+qr,Js=Math.max(Jo+zr,1e-5),Oo=Ea+Tr,e0=Ws+Gs,Ma=ta+wr,Ia=Math.max(Jo+Qr,1e-5);io.push(new V_(As/Js,mo/Js,_a/Js)),Xs.push(new V_(Oo/Ia,e0/Ia,Ma/Ia))}jn.push(io),gn.push(Xs)}return[jn,gn]}(gt,ut,$t,jt,Si)}(p,l,W,R,w,y,Pe,V,re,p.center.lat,i.tileID.canonical),Ve=i.queryGeometry;return function(Qe,gt,ut){let $t=1/0;pd(ut,gt)&&($t=qd(ut,gt[0]));for(let jt=0;jt<gt.length;jt++){const Si=gt[jt],tn=Qe[jt];for(let li=0;li<Si.length-1;li++){const Ei=Si[li],ki=[Ei,Si[li+1],tn[li+1],tn[li],Ei];gc(ut,ki)&&($t=Math.min($t,qd(ut,ki)))}}return $t!==1/0&&$t}(je,lt,Ve.isPointQuery()?Ve.screenBounds:Ve.screenGeometry)}},line:class extends H0{constructor(i){super(i,x),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Sl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,t){super.recalculate(i,t),this.paint._values["line-floorwidth"]=P.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new m(i)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(i){return new Wa(this,i)}queryRadius(i){const t=i,n=N(G0("line-width",this,t),G0("line-gap-width",this,t)),l=G0("line-offset",this,t);return n/2+Math.abs(l)+xu(this.paint.get("line-translate"))}queryIntersectsFeature(i,t,n,l,h,p){if(i.queryGeometry.isAboveHorizon)return!1;const y=Cu(i.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),p.angle,i.pixelToTileUnitsFactor),v=i.pixelToTileUnitsFactor/2*N(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),C=this.paint.get("line-offset").evaluate(t,n);return C&&(l=function(w,R){const W=[],V=new Me(0,0);for(let K=0;K<w.length;K++){const re=w[K],pe=[];for(let Pe=0;Pe<re.length;Pe++){const je=re[Pe-1],lt=re[Pe],Ve=re[Pe+1],Qe=Pe===0?V:lt.sub(je)._unit()._perp(),gt=Pe===re.length-1?V:Ve.sub(lt)._unit()._perp(),ut=Qe._add(gt)._unit();ut._mult(1/(ut.x*gt.x+ut.y*gt.y)),pe.push(ut._mult(R)._add(lt))}W.push(pe)}return W}(l,C*i.pixelToTileUnitsFactor)),function(w,R,W){for(let V=0;V<R.length;V++){const K=R[V];if(w.length>=3){for(let re=0;re<K.length;re++)if(vu(w,K[re]))return!0}if(jc(w,K,W))return!0}return!1}(y,l,v)}isTileClipped(){return!0}},symbol:rp,background:class extends H0{constructor(i){super(i,qm)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends H0{constructor(i){super(i,$m)}getProgramIds(){return["raster"]}},sky:class extends H0{constructor(i){super(i,Xm),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="sky-gradient"?this._updateColorRamp():i!=="sky-atmosphere-sun"&&i!=="sky-atmosphere-halo-color"&&i!=="sky-atmosphere-color"&&i!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Fh({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(i){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=i.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(i,t){if(this.paint.get("sky-type")==="atmosphere"){const l=this.paint.get("sky-atmosphere-sun"),h=!l,p=i.style.light,y=p.properties.get("position");return h&&p.properties.get("anchor")==="viewport"&&_r("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),h?zp(y.azimuthal,90-y.polar,t):zp(l[0],90-l[1],t)}const n=this.paint.get("sky-gradient-center");return zp(n[0],90-n[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(i){this._skyboxInvalidated=!1,this._lightPosition=i.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const i=this.paint.get("sky-type");return i==="atmosphere"?["skyboxCapture","skybox"]:i==="gradient"?["skyboxGradient"]:null}}};class u1{constructor(t,n,l,h){this.context=t,this.format=l,this.texture=t.gl.createTexture(),this.update(n,h)}update(t,n,l){const{width:h,height:p}=t,{context:y}=this,{gl:v}=y,{HTMLImageElement:C,HTMLCanvasElement:w,HTMLVideoElement:R,ImageData:W,ImageBitmap:V}=j;if(v.bindTexture(v.TEXTURE_2D,this.texture),y.pixelStoreUnpackFlipY.set(!1),y.pixelStoreUnpack.set(1),y.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA&&(!n||n.premultiply!==!1)),l||this.size&&this.size[0]===h&&this.size[1]===p){const{x:K,y:re}=l||{x:0,y:0};t instanceof C||t instanceof w||t instanceof R||t instanceof W||V&&t instanceof V?v.texSubImage2D(v.TEXTURE_2D,0,K,re,v.RGBA,v.UNSIGNED_BYTE,t):v.texSubImage2D(v.TEXTURE_2D,0,K,re,h,p,v.RGBA,v.UNSIGNED_BYTE,t.data)}else this.size=[h,p],t instanceof C||t instanceof w||t instanceof R||t instanceof W||V&&t instanceof V?v.texImage2D(v.TEXTURE_2D,0,this.format,this.format,v.UNSIGNED_BYTE,t):v.texImage2D(v.TEXTURE_2D,0,this.format,h,p,0,this.format,v.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(n&&n.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(t,n){const{context:l}=this,{gl:h}=l;h.bindTexture(h.TEXTURE_2D,this.texture),t!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,t),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap?t===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_NEAREST:t),this.filter=t),n!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,n),this.wrap=n)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class Qm{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class e5{constructor(){this.tasks={},this.taskQueue=[],Yi(["process"],this),this.invoker=new Qm(this.process),this.nextId=0}add(t,n){const l=this.nextId++,h=function({type:p,isSymbolTile:y,zoom:v}){return v=v||0,p==="message"?0:p!=="maybePrepare"||y?p!=="parseTile"||y?p==="parseTile"&&y?300-v:p==="maybePrepare"&&y?400-v:500:200-v:100-v}(n);if(h===0){Li();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[l]={fn:t,metadata:n,priority:h,id:l},this.taskQueue.push(l),this.invoker.trigger(),{cancel:()=>{delete this.tasks[l]}}}process(){Li();try{if(this.taskQueue=this.taskQueue.filter(l=>!!this.tasks[l]),!this.taskQueue.length)return;const t=this.pick();if(t===null)return;const n=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}pick(){let t=null,n=1/0;for(let h=0;h<this.taskQueue.length;h++){const p=this.tasks[this.taskQueue[h]];p.priority<n&&(n=p.priority,t=h)}if(t===null)return null;const l=this.taskQueue[t];return this.taskQueue.splice(t,1),l}remove(){this.invoker.remove()}}class J2{constructor(t){this._stringToNumber={},this._numberToString=[];for(let n=0;n<t.length;n++){const l=t[n];this._stringToNumber[l]=n,this._numberToString[n]=l}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const t5=["tile","layer","source","sourceLayer","state"];class j2{constructor(t,n,l,h,p){this.type="Feature",this._vectorTileFeature=t,this._z=n,this._x=l,this._y=h,this.properties=t.properties,this.id=p}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(t.id=this.id);for(const n of t5)this[n]!==void 0&&(t[n]=this[n]);return t}}const Xl=32,$_=33,kc=new Uint16Array(8184);for(let i=0;i<2046;i++){let t=i+2,n=0,l=0,h=0,p=0,y=0,v=0;for(1&t?h=p=y=Xl:n=l=v=Xl;(t>>=1)>1;){const w=n+h>>1,R=l+p>>1;1&t?(h=n,p=l,n=y,l=v):(n=h,l=p,h=y,p=v),y=w,v=R}const C=4*i;kc[C+0]=n,kc[C+1]=l,kc[C+2]=h,kc[C+3]=p}const Z_=new Uint16Array(2178),Lc=new Uint8Array(1089),sp=new Uint16Array(1089);function Y2(i){return i===0?-.03125:i===32?.03125:0}var q2=bn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const $2={type:2,extent:ar,loadGeometry:()=>[[new Me(0,0),new Me(8193,0),new Me(8193,8193),new Me(0,8193),new Me(0,0)]]};class Vp{constructor(t,n,l,h,p){this.tileID=t,this.uid=yt(),this.uses=0,this.tileSize=n,this.tileZoom=l,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=p,this.expiredRequestCount=0,this.state="loading",h&&h.transform&&(this.projection=h.transform.projection)}registerFadeDuration(t){const n=t+this.timeAdded;n<On.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=lh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,n,l){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(h,p){const y={};if(!p)return y;for(const v of h){const C=v.layerIds.map(w=>p.getLayer(w)).filter(Boolean);if(C.length!==0){v.layers=C,v.stateDependentLayerIds&&(v.stateDependentLayers=v.stateDependentLayerIds.map(w=>C.filter(R=>R.id===w)[0]));for(const w of C)y[w.id]=v}}return y}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const h in this.buckets){const p=this.buckets[h];if(p instanceof Ic){if(this.hasSymbolBuckets=!0,!l)break;p.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const h in this.buckets){const p=this.buckets[h];if(p instanceof Ic&&p.hasRTLText){this.hasRTLText=!0,zt.isLoading()||zt.isLoaded()||Nt()!=="deferred"||Xt();break}}this.queryPadding=0;for(const h in this.buckets){const p=this.buckets[h];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(h).queryRadius(p))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new Oi}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const l in this.buckets){const h=this.buckets[l];h.uploadPending()&&h.upload(t)}const n=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new u1(t,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new u1(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new u1(t,this.lineAtlas.image,n.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,n,l,h,p,y,v,C){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:h,pixelPosMatrix:v,transform:y,params:p,tileTransform:this.tileTransform},t,n,l):{}}querySourceFeatures(t,n){const l=this.latestFeatureIndex;if(!l||!l.rawTileData)return;const h=l.loadVTLayers(),p=n?n.sourceLayer:"",y=h._geojsonTileLayer||h[p];if(!y)return;const v=ho(n&&n.filter),{z:C,x:w,y:R}=this.tileID.canonical,W={z:C,x:w,y:R};for(let V=0;V<y.length;V++){const K=y.feature(V);if(v.needGeometry){const Pe=zl(K,!0);if(!v.filter(new Lt(this.tileID.overscaledZ),Pe,this.tileID.canonical))continue}else if(!v.filter(new Lt(this.tileID.overscaledZ),K))continue;const re=l.getId(K,p),pe=new j2(K,C,w,R,re);pe.tile=W,t.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const l=Ie(t.cacheControl);l["max-age"]&&(this.expirationTime=Date.now()+1e3*l["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const l=Date.now();let h=!1;if(this.expirationTime>l)h=!1;else if(n)if(this.expirationTime<n)h=!0;else{const p=this.expirationTime-n;p?this.expirationTime=l+Math.max(p,3e4):h=!0}else h=!0;h?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,n){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0||!n)return;const l=this.latestFeatureIndex.loadVTLayers(),h=n.style.listImages();for(const p in this.buckets){if(!n.style.hasLayer(p))continue;const y=this.buckets[p],v=y.layers[0].sourceLayer||"_geojsonTileLayer",C=l[v],w=t[v];if(!C||!w||Object.keys(w).length===0)continue;if(y.update(w,C,h,this.imageAtlas&&this.imageAtlas.patternPositions||{}),y instanceof m||y instanceof Cc){const W=n.style._getSourceCache(y.layers[0].source);n._terrain&&n._terrain.enabled&&W&&y.programConfigurations.needsUpload&&n._terrain._clearRenderCacheForTile(W.id,this.tileID)}const R=n&&n.style&&n.style.getLayer(p);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(y)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<On.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=On.now()+t}setTexture(t,n){const l=n.context,h=l.gl;this.texture=this.texture||n.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new u1(l,t,h.RGBA,{useMipmap:!0}),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),l.extTextureFilterAnisotropic&&h.texParameterf(h.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax))}setDependencies(t,n){const l={};for(const h of n)l[h]=!0;this.dependencies[t]=l}hasDependency(t,n){for(const l of t){const h=this.dependencies[l];if(h){for(const p of n)if(h[p])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,n){if(!n||n.name==="mercator"||this._tileDebugBuffer)return;const l=zs($2,this.tileID.canonical,this.tileTransform)[0],h=new Jr,p=new At;for(let y=0;y<l.length;y++){const{x:v,y:C}=l[y];h.emplaceBack(v,C),p.emplaceBack(y)}p.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(p),this._tileDebugBuffer=t.createVertexBuffer(h,i1.members),this._tileDebugSegments=po.simpleSegment(0,0,h.length,p.length)}_makeTileBoundsBuffers(t,n){if(this._tileBoundsBuffer||!n||n.name==="mercator")return;const l=zs($2,this.tileID.canonical,this.tileTransform)[0];let h,p;if(this.isRaster){const y=function(v,C){const w=lh(v,C),R=Math.pow(2,v.z);for(let Pe=0;Pe<$_;Pe++)for(let je=0;je<$_;je++){const lt=Ko((v.x+(je+Y2(je))/Xl)/R),Ve=Do((v.y+(Pe+Y2(Pe))/Xl)/R),Qe=C.project(lt,Ve),gt=Pe*$_+je;Z_[2*gt+0]=Math.round((Qe.x*w.scale-w.x)*ar),Z_[2*gt+1]=Math.round((Qe.y*w.scale-w.y)*ar)}Lc.fill(0),sp.fill(0);for(let Pe=2045;Pe>=0;Pe--){const je=4*Pe,lt=kc[je+0],Ve=kc[je+1],Qe=kc[je+2],gt=kc[je+3],ut=lt+Qe>>1,$t=Ve+gt>>1,jt=ut+$t-Ve,Si=$t+lt-ut,tn=Ve*$_+lt,li=gt*$_+Qe,Ei=$t*$_+ut,ki=Math.hypot((Z_[2*tn+0]+Z_[2*li+0])/2-Z_[2*Ei+0],(Z_[2*tn+1]+Z_[2*li+1])/2-Z_[2*Ei+1])>=16;if(Lc[Ei]=Lc[Ei]||(ki?1:0),Pe<1022){const Xi=(Ve+Si>>1)*$_+(lt+jt>>1),nn=(gt+Si>>1)*$_+(Qe+jt>>1);Lc[Ei]=Lc[Ei]||Lc[Xi]||Lc[nn]}}const W=new fs,V=new Po;let K=0;function re(Pe,je){const lt=je*$_+Pe;return sp[lt]===0&&(W.emplaceBack(Z_[2*lt+0],Z_[2*lt+1],Pe*ar/Xl,je*ar/Xl),sp[lt]=++K),sp[lt]-1}function pe(Pe,je,lt,Ve,Qe,gt){const ut=Pe+lt>>1,$t=je+Ve>>1;if(Math.abs(Pe-Qe)+Math.abs(je-gt)>1&&Lc[$t*$_+ut])pe(Qe,gt,Pe,je,ut,$t),pe(lt,Ve,Qe,gt,ut,$t);else{const jt=re(Pe,je),Si=re(lt,Ve),tn=re(Qe,gt);V.emplaceBack(jt,Si,tn)}}return pe(0,0,Xl,Xl,Xl,0),pe(Xl,Xl,0,0,0,Xl),{vertices:W,indices:V}}(this.tileID.canonical,n);h=y.vertices,p=y.indices}else{h=new fs,p=new Po;for(const{x:v,y:C}of l)h.emplaceBack(v,C,0,0);const y=Ru.exports(h.int16,void 0,4);for(let v=0;v<y.length;v+=3)p.emplaceBack(y[v],y[v+1],y[v+2])}this._tileBoundsBuffer=t.createVertexBuffer(h,q2.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(p),this._tileBoundsSegments=po.simpleSegment(0,0,h.length,p.length)}_makeGlobeTileDebugBuffers(t,n){const l=n.projection;if(!l||l.name!=="globe"||n.freezeTileCoverage)return;const h=this.tileID.canonical,p=s1(k2(h,n)),y=Kh(n.zoom);let v;y>0&&(v=wh(new Float64Array(16),n.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,h,n,p,v,y),this._makeGlobeTileDebugTextBuffer(t,h,n,p,v,y)}_globePoint(t,n,l,h,p,y,v){let C=r1(t,n,l);if(y){const w=1<<l.z,R=O0(h.center.lng),W=Wl(h.center.lat),V=(l.x+.5)/w-R;let K=0;V>.5?K=-1:V<-.5&&(K=1);let re=(t/ar+l.x)/w+K,pe=(n/ar+l.y)/w;re=(re-R)*h._pixelsPerMercatorPixel+R,pe=(pe-W)*h._pixelsPerMercatorPixel+W;const Pe=[re*h.worldSize,pe*h.worldSize,0];qs(Pe,Pe,y),C=ah(C,Pe,v)}return qs(C,C,p)}_makeGlobeTileDebugBorderBuffer(t,n,l,h,p,y){const v=new Jr,C=new At,w=new hs,R=(V,K,re,pe,Pe)=>{const je=(re-V)/(Pe-1),lt=(pe-K)/(Pe-1),Ve=v.length;for(let Qe=0;Qe<Pe;Qe++){const gt=V+Qe*je,ut=K+Qe*lt;v.emplaceBack(gt,ut);const $t=this._globePoint(gt,ut,n,l,h,p,y);w.emplaceBack($t[0],$t[1],$t[2]),C.emplaceBack(Ve+Qe)}},W=ar;R(0,0,W,0,16),R(W,0,W,W,16),R(W,W,0,W,16),R(0,W,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(C),this._tileDebugBuffer=t.createVertexBuffer(v,i1.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(w,M2.members),this._tileDebugSegments=po.simpleSegment(0,0,v.length,C.length)}_makeGlobeTileDebugTextBuffer(t,n,l,h,p,y){const v=new Jr,C=new Po,w=new hs,R=25;C.reserve(32),v.reserve(R),w.reserve(R);const W=(V,K)=>R*V+K;for(let V=0;V<R;V++){const K=2048*V;for(let re=0;re<R;re++){const pe=2048*re;v.emplaceBack(pe,K);const Pe=this._globePoint(pe,K,n,l,h,p,y);w.emplaceBack(Pe[0],Pe[1],Pe[2])}}for(let V=0;V<4;V++)for(let K=0;K<4;K++){const re=W(V,K),pe=W(V,K+1),Pe=W(V+1,K),je=W(V+1,K+1);C.emplaceBack(re,pe,Pe),C.emplaceBack(Pe,pe,je)}this._tileDebugTextIndexBuffer=t.createIndexBuffer(C),this._tileDebugTextBuffer=t.createVertexBuffer(v,i1.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(w,M2.members),this._tileDebugTextSegments=po.simpleSegment(0,0,R,32)}}class i5{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,l){const h=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][h]=this.stateChanges[t][h]||{},nt(this.stateChanges[t][h],l),this.deletedStates[t]===null){this.deletedStates[t]={};for(const p in this.state[t])p!==h&&(this.deletedStates[t][p]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][h]===null){this.deletedStates[t][h]={};for(const p in this.state[t][h])l[p]||(this.deletedStates[t][h][p]=null)}else for(const p in l)this.deletedStates[t]&&this.deletedStates[t][h]&&this.deletedStates[t][h][p]===null&&delete this.deletedStates[t][h][p]}removeFeatureState(t,n,l){if(this.deletedStates[t]===null)return;const h=String(n);if(this.deletedStates[t]=this.deletedStates[t]||{},l&&n!==void 0)this.deletedStates[t][h]!==null&&(this.deletedStates[t][h]=this.deletedStates[t][h]||{},this.deletedStates[t][h][l]=null);else if(n!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][h])for(l in this.deletedStates[t][h]={},this.stateChanges[t][h])this.deletedStates[t][h][l]=null;else this.deletedStates[t][h]=null;else this.deletedStates[t]=null}getState(t,n){const l=String(n),h=nt({},(this.state[t]||{})[l],(this.stateChanges[t]||{})[l]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const p=this.deletedStates[t][n];if(p===null)return{};for(const y in p)delete h[y]}return h}initializeTileState(t,n){t.setFeatureState(this.state,n)}coalesceChanges(t,n){const l={};for(const h in this.stateChanges){this.state[h]=this.state[h]||{};const p={};for(const y in this.stateChanges[h])this.state[h][y]||(this.state[h][y]={}),nt(this.state[h][y],this.stateChanges[h][y]),p[y]=this.state[h][y];l[h]=p}for(const h in this.deletedStates){this.state[h]=this.state[h]||{};const p={};if(this.deletedStates[h]===null)for(const y in this.state[h])p[y]={},this.state[h][y]={};else for(const y in this.deletedStates[h]){if(this.deletedStates[h][y]===null)this.state[h][y]={};else for(const v of Object.keys(this.deletedStates[h][y]))delete this.state[h][y][v];p[y]=this.state[h][y]}l[h]=l[h]||{},nt(l[h],p)}if(this.stateChanges={},this.deletedStates={},Object.keys(l).length!==0)for(const h in t)t[h].setFeatureState(l,n)}}class Z2{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,n){const l=this.toIdx(t,n);return{min:this.minimums[l],max:this.maximums[l]}}isLeaf(t,n){return this.leaves[this.toIdx(t,n)]}toIdx(t,n){return n*this.size+t}}function X2(i,t,n,l){let h=0,p=Number.MAX_VALUE;for(let y=0;y<3;y++)if(Math.abs(l[y])<1e-15){if(n[y]<i[y]||n[y]>t[y])return null}else{const v=1/l[y];let C=(i[y]-n[y])*v,w=(t[y]-n[y])*v;if(C>w){const R=C;C=w,w=R}if(C>h&&(h=C),w<p&&(p=w),h>p)return null}return h}function K2(i,t,n,l,h,p,y,v,C,w,R){const W=l-i,V=h-t,K=p-n,re=y-i,pe=v-t,Pe=C-n,je=R[1]*Pe-R[2]*pe,lt=R[2]*re-R[0]*Pe,Ve=R[0]*pe-R[1]*re,Qe=W*je+V*lt+K*Ve;if(Math.abs(Qe)<1e-15)return null;const gt=1/Qe,ut=w[0]-i,$t=w[1]-t,jt=w[2]-n,Si=(ut*je+$t*lt+jt*Ve)*gt;if(Si<0||Si>1)return null;const tn=$t*K-jt*V,li=jt*W-ut*K,Ei=ut*V-$t*W,ki=(R[0]*tn+R[1]*li+R[2]*Ei)*gt;return ki<0||Si+ki>1?null:(re*tn+pe*li+Pe*Ei)*gt}function Q2(i,t,n){return(i-t)/(n-t)}function e3(i,t,n,l,h,p,y,v,C){const w=1<<n,R=p-l,W=y-h,V=(i+1)/w*R+l,K=(t+0)/w*W+h,re=(t+1)/w*W+h;v[0]=(i+0)/w*R+l,v[1]=K,C[0]=V,C[1]=re}class t3{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const n=function(p){const y=Math.ceil(Math.log2(p.dim/8)),v=[];let C=Math.ceil(Math.pow(2,y));const w=1/C,R=(K,re,pe,Pe,je)=>{const lt=Pe?1:0,Ve=(K+1)*pe-lt,Qe=re*pe,gt=(re+1)*pe-lt;je[0]=K*pe,je[1]=Qe,je[2]=Ve,je[3]=gt};let W=new Z2(C);const V=[];for(let K=0;K<C*C;K++){R(K%C,Math.floor(K/C),w,!1,V);const re=Dc(V[0],V[1],p),pe=Dc(V[2],V[1],p),Pe=Dc(V[2],V[3],p),je=Dc(V[0],V[3],p);W.minimums.push(Math.min(re,pe,Pe,je)),W.maximums.push(Math.max(re,pe,Pe,je)),W.leaves.push(1)}for(v.push(W),C/=2;C>=1;C/=2){const K=v[v.length-1];W=new Z2(C);for(let re=0;re<C*C;re++){R(re%C,Math.floor(re/C),2,!0,V);const pe=K.getElevation(V[0],V[1]),Pe=K.getElevation(V[2],V[1]),je=K.getElevation(V[2],V[3]),lt=K.getElevation(V[0],V[3]),Ve=K.isLeaf(V[0],V[1]),Qe=K.isLeaf(V[2],V[1]),gt=K.isLeaf(V[2],V[3]),ut=K.isLeaf(V[0],V[3]),$t=Math.min(pe.min,Pe.min,je.min,lt.min),jt=Math.max(pe.max,Pe.max,je.max,lt.max),Si=Ve&&Qe&&gt&&ut;W.maximums.push(jt),W.minimums.push($t),W.leaves.push(jt-$t<=5&&Si?1:0)}v.push(W)}return v}(this.dem),l=n.length-1,h=n[l];this._addNode(h.minimums[0],h.maximums[0],h.leaves[0]),this._construct(n,0,0,l,0)}raycastRoot(t,n,l,h,p,y,v=1){return X2([t,n,-100],[l,h,this.maximums[0]*v],p,y)}raycast(t,n,l,h,p,y,v=1){if(!this.nodeCount)return null;const C=this.raycastRoot(t,n,l,h,p,y,v);if(C==null)return null;const w=[],R=[],W=[],V=[],K=[{idx:0,t:C,nodex:0,nodey:0,depth:0}];for(;K.length>0;){const{idx:re,t:pe,nodex:Pe,nodey:je,depth:lt}=K.pop();if(this.leaves[re]){e3(Pe,je,lt,t,n,l,h,W,V);const Qe=1<<lt,gt=(Pe+0)/Qe,ut=(Pe+1)/Qe,$t=(je+0)/Qe,jt=(je+1)/Qe,Si=Dc(gt,$t,this.dem)*v,tn=Dc(ut,$t,this.dem)*v,li=Dc(ut,jt,this.dem)*v,Ei=Dc(gt,jt,this.dem)*v,ki=K2(W[0],W[1],Si,V[0],W[1],tn,V[0],V[1],li,p,y),Xi=K2(V[0],V[1],li,W[0],V[1],Ei,W[0],W[1],Si,p,y),nn=Math.min(ki!==null?ki:Number.MAX_VALUE,Xi!==null?Xi:Number.MAX_VALUE);if(nn!==Number.MAX_VALUE)return nn;{const ci=Iu([],p,y,pe);if(i3(Si,tn,Ei,li,Q2(ci[0],W[0],V[0]),Q2(ci[1],W[1],V[1]))>=ci[2])return pe}continue}let Ve=0;for(let Qe=0;Qe<this._siblingOffset.length;Qe++){e3((Pe<<1)+this._siblingOffset[Qe][0],(je<<1)+this._siblingOffset[Qe][1],lt+1,t,n,l,h,W,V),W[2]=-100,V[2]=this.maximums[this.childOffsets[re]+Qe]*v;const gt=X2(W,V,p,y);if(gt!=null){const ut=gt;w[Qe]=ut;let $t=!1;for(let jt=0;jt<Ve&&!$t;jt++)ut>=w[R[jt]]&&(R.splice(jt,0,Qe),$t=!0);$t||(R[Ve]=Qe),Ve++}}for(let Qe=0;Qe<Ve;Qe++){const gt=R[Qe];K.push({idx:this.childOffsets[re]+gt,t:w[gt],nodex:(Pe<<1)+this._siblingOffset[gt][0],nodey:(je<<1)+this._siblingOffset[gt][1],depth:lt+1})}}return null}_addNode(t,n,l){return this.minimums.push(t),this.maximums.push(n),this.leaves.push(l),this.childOffsets.push(0),this.nodeCount++}_construct(t,n,l,h,p){if(t[h].isLeaf(n,l)===1)return;this.childOffsets[p]||(this.childOffsets[p]=this.nodeCount);const y=h-1,v=t[y];let C=0,w=0;for(let R=0;R<this._siblingOffset.length;R++){const W=2*n+this._siblingOffset[R][0],V=2*l+this._siblingOffset[R][1],K=v.getElevation(W,V),re=v.isLeaf(W,V),pe=this._addNode(K.min,K.max,re);re&&(C|=1<<R),w||(w=pe)}for(let R=0;R<this._siblingOffset.length;R++)C&1<<R||this._construct(t,2*n+this._siblingOffset[R][0],2*l+this._siblingOffset[R][1],y,w+R)}}function i3(i,t,n,l,h,p){return Vr(Vr(i,n,p),Vr(t,l,p),h)}function Dc(i,t,n){const l=n.dim,h=Y(i*l-.5,0,l-1),p=Y(t*l-.5,0,l-1),y=Math.floor(h),v=Math.floor(p),C=Math.min(y+1,l-1),w=Math.min(v+1,l-1);return i3(n.get(y,v),n.get(C,v),n.get(y,w),n.get(C,w),h-y,p-v)}const n3={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class op{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,n,l,h=!1,p=!1){if(this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(l&&l!=="mapbox"&&l!=="terrarium")return _r(`"${l}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=n.height;const y=this.dim=n.height-2,v=new Uint32Array(n.data.buffer);if(this.pixels=new Uint8Array(n.data.buffer),this.encoding=l||"mapbox",this.borderReady=h,!h){for(let C=0;C<y;C++)v[this._idx(-1,C)]=v[this._idx(0,C)],v[this._idx(y,C)]=v[this._idx(y-1,C)],v[this._idx(C,-1)]=v[this._idx(C,0)],v[this._idx(C,y)]=v[this._idx(C,y-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(y,-1)]=v[this._idx(y-1,0)],v[this._idx(-1,y)]=v[this._idx(0,y-1)],v[this._idx(y,y)]=v[this._idx(y-1,y-1)],p&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new t3(this)}get(t,n,l=!1){l&&(t=Y(t,-1,this.dim),n=Y(n,-1,this.dim));const h=4*this._idx(t,n);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[h],this.pixels[h+1],this.pixels[h+2])}static getUnpackVector(t){return n3[t]}get unpackVector(){return n3[this.encoding]}_idx(t,n){if(t<-1||t>=this.dim+1||n<-1||n>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(n+1)*this.stride+(t+1)}_unpackMapbox(t,n,l){return(256*t*256+256*n+l)/10-1e4}_unpackTerrarium(t,n,l){return 256*t+n+l/256-32768}static pack(t,n){const l=[0,0,0,0],h=op.getUnpackVector(n);let p=Math.floor((t+h[3])/h[2]);return l[2]=p%256,p=Math.floor(p/256),l[1]=p%256,p=Math.floor(p/256),l[0]=p,l}getPixels(){return new Xa({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,n,l){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let h=n*this.dim,p=n*this.dim+this.dim,y=l*this.dim,v=l*this.dim+this.dim;switch(n){case-1:h=p-1;break;case 1:p=h+1}switch(l){case-1:y=v-1;break;case 1:v=y+1}const C=-n*this.dim,w=-l*this.dim;for(let R=y;R<v;R++)for(let W=h;W<p;W++){const V=4*this._idx(W,R),K=4*this._idx(W+C,R+w);this.pixels[V+0]=t.pixels[K+0],this.pixels[V+1]=t.pixels[K+1],this.pixels[V+2]=t.pixels[K+2],this.pixels[V+3]=t.pixels[K+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}En(op,"DEMData"),En(t3,"DemMinMaxQuadTree",{omit:["dem"]});class n5{constructor(t,n){this.max=t,this.onRemove=n,this.reset()}reset(){for(const t in this.data)for(const n of this.data[t])n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value);return this.data={},this.order=[],this}add(t,n,l){const h=t.wrapped().key;this.data[h]===void 0&&(this.data[h]=[]);const p={value:n,timeout:void 0};if(l!==void 0&&(p.timeout=setTimeout(()=>{this.remove(t,p)},l)),this.data[h].push(p),this.order.push(h),this.order.length>this.max){const y=this._getAndRemoveByKey(this.order[0]);y&&this.onRemove(y)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const n=this.data[t].shift();return n.timeout&&clearTimeout(n.timeout),this.data[t].length===0&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),n.value}getByKey(t){const n=this.data[t];return n?n[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,n){if(!this.has(t))return this;const l=t.wrapped().key,h=n===void 0?0:this.data[l].indexOf(n),p=this.data[l][h];return this.data[l].splice(h,1),p.timeout&&clearTimeout(p.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(p.value),this.order.splice(this.order.indexOf(l),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const n=this._getAndRemoveByKey(this.order[0]);n&&this.onRemove(n)}return this}filter(t){const n=[];for(const l in this.data)for(const h of this.data[l])t(h.value)||n.push(h);for(const l of n)this.remove(l.value.tileID,l)}}class ed{constructor(t,n,l){this.func=t,this.mask=n,this.range=l}}ed.ReadOnly=!1,ed.ReadWrite=!0,ed.disabled=new ed(519,ed.ReadOnly,[0,1]);const Jp=7680;class jp{constructor(t,n,l,h,p,y){this.test=t,this.ref=n,this.mask=l,this.fail=h,this.depthFail=p,this.pass=y}}jp.disabled=new jp({func:519,mask:0},0,0,Jp,Jp,Jp);class X_{constructor(t,n,l){this.blendFunction=t,this.blendColor=n,this.mask=l}}X_.Replace=[1,0],X_.disabled=new X_(X_.Replace,Ae.transparent,[!1,!1,!1,!1]),X_.unblended=new X_(X_.Replace,Ae.transparent,[!0,!0,!0,!0]),X_.alphaBlended=new X_([1,771],Ae.transparent,[!0,!0,!0,!0]);const Yp=1029,qp=2305;class y_{constructor(t,n,l){this.enable=t,this.mode=n,this.frontFace=l}}y_.disabled=new y_(!1,Yp,qp),y_.backCCW=new y_(!0,Yp,qp),y_.backCW=new y_(!0,Yp,2304),y_.frontCW=new y_(!0,1028,2304),y_.frontCCW=new y_(!0,1028,qp);class _h extends Hs{constructor(t,n,l){super(),this.id=t,this._onlySymbols=l,n.on("data",h=>{h.dataType==="source"&&h.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&h.dataType==="source"&&h.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),n.on("error",()=>{this._sourceErrored=!0}),this._source=n,this._tiles={},this._cache=new n5(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=n.minTileCacheSize,this._maxTileCacheSize=n.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new i5,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(t){this.map=t,this._minTileCacheSize=this._minTileCacheSize===void 0&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&t?t._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const t in this._tiles){const n=this._tiles[t];if(n.state!=="loaded"&&n.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,n){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,n)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,()=>{})}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,()=>{})}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const n in this._tiles){const l=this._tiles[n];l.upload(t),l.prepare(this.map.style.imageManager)}}getIds(){return xe(this._tiles).map(t=>t.tileID).sort(r3).map(t=>t.key)}getRenderableIds(t){const n=[];for(const l in this._tiles)this._isIdRenderable(+l,t)&&n.push(this._tiles[l]);return t?n.sort((l,h)=>{const p=l.tileID,y=h.tileID,v=new Me(p.canonical.x,p.canonical.y)._rotate(this.transform.angle),C=new Me(y.canonical.x,y.canonical.y)._rotate(this.transform.angle);return p.overscaledZ-y.overscaledZ||C.y-v.y||C.x-v.x}).map(l=>l.tileID.key):n.map(l=>l.tileID).sort(r3).map(l=>l.key)}hasRenderableParent(t){const n=this.findLoadedParent(t,0);return!!n&&this._isIdRenderable(n.tileID.key)}_isIdRenderable(t,n){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(n||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)this._tiles[t].state!=="errored"&&this._reloadTile(+t,"reloading")}}_reloadTile(t,n){const l=this._tiles[t];l&&(l.state!=="loading"&&(l.state=n),this._loadTile(l,this._tileLoaded.bind(this,l,t,n)))}_tileLoaded(t,n,l,h){if(h)if(t.state="errored",h.status!==404)this._source.fire(new Ao(h,{tile:t}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const p=this.map.painter.terrain;this.update(this.transform,p.getScaledDemTileSize(),!0),p.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=On.now(),l==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),this._source.type==="raster-dem"&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new us("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const n=this.getRenderableIds();for(let h=0;h<n.length;h++){const p=n[h];if(t.neighboringTiles&&t.neighboringTiles[p]){const y=this.getTileByID(p);l(t,y),l(y,t)}}function l(h,p){if(!h.dem||h.dem.borderReady)return;h.needsHillshadePrepare=!0,h.needsDEMTextureUpload=!0;let y=p.tileID.canonical.x-h.tileID.canonical.x;const v=p.tileID.canonical.y-h.tileID.canonical.y,C=Math.pow(2,h.tileID.canonical.z),w=p.tileID.key;y===0&&v===0||Math.abs(v)>1||(Math.abs(y)>1&&(Math.abs(y+C)===1?y+=C:Math.abs(y-C)===1&&(y-=C)),p.dem&&h.dem&&(h.dem.backfillBorder(p.dem,y,v),h.neighboringTiles&&h.neighboringTiles[w]&&(h.neighboringTiles[w].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,n,l,h){for(const p in this._tiles){let y=this._tiles[p];if(h[p]||!y.hasData()||y.tileID.overscaledZ<=n||y.tileID.overscaledZ>l)continue;let v=y.tileID;for(;y&&y.tileID.overscaledZ>n+1;){const w=y.tileID.scaledTo(y.tileID.overscaledZ-1);y=this._tiles[w.key],y&&y.hasData()&&(v=w)}let C=v;for(;C.overscaledZ>n;)if(C=C.scaledTo(C.overscaledZ-1),t[C.key]){h[v.key]=v;break}}}findLoadedParent(t,n){if(t.key in this._loadedParentTiles){const l=this._loadedParentTiles[t.key];return l&&l.tileID.overscaledZ>=n?l:null}for(let l=t.overscaledZ-1;l>=n;l--){const h=t.scaledTo(l),p=this._getLoadedTile(h);if(p)return p}}_getLoadedTile(t){const n=this._tiles[t.key];return n&&n.hasData()?n:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,n){n=n||this._source.tileSize;const l=Math.ceil(t.width/n)+1,h=Math.ceil(t.height/n)+1,p=Math.floor(l*h*5),y=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,p):p,v=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(v)}handleWrapJump(t){const n=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);if(this._prevLng=t,n){const l={};for(const h in this._tiles){const p=this._tiles[h];p.tileID=p.tileID.unwrapTo(p.tileID.wrap+n),l[p.tileID.key]=p}this._tiles=l;for(const h in this._timers)clearTimeout(this._timers[h]),delete this._timers[h];for(const h in this._tiles)this._setTileReloadTimer(+h,this._tiles[h])}}update(t,n,l){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!l)return;let h;this.updateCacheSize(t,n),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?h=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(v=>new wa(v.canonical.z,v.wrap,v.canonical.z,v.canonical.x,v.canonical.y)):(h=t.coveringTiles({tileSize:n||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!l,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(h=h.filter(v=>this._source.hasTile(v)))):h=[];const p=this._updateRetainedTiles(h);if(s3(this._source.type)&&h.length!==0){const v={},C={},w=Object.keys(p);for(const W of w){const V=p[W],K=this._tiles[W];if(!K||K.fadeEndTime&&K.fadeEndTime<=On.now())continue;const re=this.findLoadedParent(V,Math.max(V.overscaledZ-_h.maxOverzooming,this._source.minzoom));re&&(this._addTile(re.tileID),v[re.tileID.key]=re.tileID),C[W]=V}const R=h[h.length-1].overscaledZ;for(const W in this._tiles){const V=this._tiles[W];if(p[W]||!V.hasData())continue;let K=V.tileID;for(;K.overscaledZ>R;){K=K.scaledTo(K.overscaledZ-1);const re=this._tiles[K.key];if(re&&re.hasData()&&C[K.key]){p[W]=V.tileID;break}}}for(const W in v)p[W]||(this._coveredTiles[W]=!0,p[W]=v[W])}for(const v in p)this._tiles[v].clearFadeHold();const y=function(v,C){const w=[];for(const R in v)R in C||w.push(R);return w}(this._tiles,p);for(const v of y){const C=this._tiles[v];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(+v)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const n={};if(t.length===0)return n;const l={},h=t.reduce((w,R)=>Math.min(w,R.overscaledZ),1/0),p=t[0].overscaledZ,y=Math.max(p-_h.maxOverzooming,this._source.minzoom),v=Math.max(p+_h.maxUnderzooming,this._source.minzoom),C={};for(const w of t){const R=this._addTile(w);n[w.key]=w,R.hasData()||h<this._source.maxzoom&&(C[w.key]=w)}this._retainLoadedChildren(C,h,v,n);for(const w of t){let R=this._tiles[w.key];if(R.hasData())continue;if(w.canonical.z>=this._source.maxzoom){const V=w.children(this._source.maxzoom)[0],K=this.getTile(V);if(K&&K.hasData()){n[V.key]=V;continue}}else{const V=w.children(this._source.maxzoom);if(n[V[0].key]&&n[V[1].key]&&n[V[2].key]&&n[V[3].key])continue}let W=R.wasRequested();for(let V=w.overscaledZ-1;V>=y;--V){const K=w.scaledTo(V);if(l[K.key]||(l[K.key]=!0,R=this.getTile(K),!R&&W&&(R=this._addTile(K)),R&&(n[K.key]=K,W=R.wasRequested(),R.hasData())))break}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const n=[];let l,h=this._tiles[t].tileID;for(;h.overscaledZ>0;){if(h.key in this._loadedParentTiles){l=this._loadedParentTiles[h.key];break}n.push(h.key);const p=h.scaledTo(h.overscaledZ-1);if(l=this._getLoadedTile(p),l)break;h=p}for(const p of n)this._loadedParentTiles[p]=l}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const l=Boolean(n);if(!l){const h=this.map?this.map.painter:null;n=new Vp(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,h,this._isRaster),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))}return n?(n.uses++,this._tiles[t.key]=n,l||this._source.fire(new us("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null}_setTileReloadTimer(t,n){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const l=n.getExpiryTimeout();l&&(this._timers[t]=setTimeout(()=>{this._reloadTile(t,"expired"),delete this._timers[t]},l))}_removeTile(t){const n=this._tiles[t];n&&(n.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),n.uses>0||(n.hasData()&&n.state!=="reloading"?this._cache.add(n.tileID,n,n.getExpiryTimeout()):(n.aborted=!0,this._abortTile(n),this._unloadTile(n))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(t,n,l){const h=[],p=this.transform;if(!p)return h;const y=p.projection.name==="globe",v=O0(p.center.lng);for(const C in this._tiles){const w=this._tiles[C];if(l&&w.clearQueryDebugViz(),w.holdingForFade())continue;let R;if(y){const W=w.tileID.canonical;if(W.z===0){const V=[Math.abs(Y(v,...c1(W,-1))-v),Math.abs(Y(v,...c1(W,1))-v)];R=[0,2*V.indexOf(Math.min(...V))-1]}else{const V=[Math.abs(Y(v,...c1(W,-1))-v),Math.abs(Y(v,...c1(W,0))-v),Math.abs(Y(v,...c1(W,1))-v)];R=[V.indexOf(Math.min(...V))-1]}}else R=[0];for(const W of R){const V=t.containsTile(w,p,n,W);V&&h.push(V)}}return h}getVisibleCoordinates(t){const n=this.getRenderableIds(t).map(l=>this._tiles[l].tileID);for(const l of n)l.projMatrix=this.transform.calculateProjMatrix(l.toUnwrapped());return n}hasTransition(){if(this._source.hasTransition())return!0;if(s3(this._source.type))for(const t in this._tiles){const n=this._tiles[t];if(n.fadeEndTime!==void 0&&n.fadeEndTime>=On.now())return!0}return!1}setFeatureState(t,n,l){this._state.updateState(t=t||"_geojsonTileLayer",n,l)}removeFeatureState(t,n,l){this._state.removeFeatureState(t=t||"_geojsonTileLayer",n,l)}getFeatureState(t,n){return this._state.getState(t=t||"_geojsonTileLayer",n)}setDependencies(t,n,l){const h=this._tiles[t];h&&h.setDependencies(n,l)}reloadTilesForDependencies(t,n){for(const l in this._tiles)this._tiles[l].hasDependency(t,n)&&this._reloadTile(+l,"reloading");this._cache.filter(l=>!l.hasDependency(t,n))}_preloadTiles(t,n){const l=new Map,h=Array.isArray(t)?t:[t],p=this.map.painter.terrain,y=this.usedForTerrain&&p?p.getScaledDemTileSize():this._source.tileSize;for(const v of h){const C=v.coveringTiles({tileSize:y,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const w of C)l.set(w.key,w);this.usedForTerrain&&v.updateElevation(!1)}be(Array.from(l.values()),(v,C)=>{const w=new Vp(v,this._source.tileSize*v.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(w,R=>{this._source.type==="raster-dem"&&w.dem&&this._backfillDEM(w),C(R,w)})},n)}}function r3(i,t){const n=Math.abs(2*i.wrap)-+(i.wrap<0),l=Math.abs(2*t.wrap)-+(t.wrap<0);return i.overscaledZ-t.overscaledZ||l-n||t.canonical.y-i.canonical.y||t.canonical.x-i.canonical.x}function s3(i){return i==="raster"||i==="image"||i==="video"||i==="custom"}function c1(i,t){const n=1<<i.z;return[i.x/n+t,(i.x+1)/n+t]}_h.maxOverzooming=10,_h.maxUnderzooming=3;class ap{constructor(t,n,l){this._demTile=t,this._dem=this._demTile.dem,this._scale=n,this._offset=l}static create(t,n,l){const h=l||t.findDEMTileFor(n);if(!h||!h.dem)return;const p=h.dem,y=h.tileID,v=1<<n.canonical.z-y.canonical.z;return new ap(h,h.tileSize/ar/v,[(n.canonical.x/v-y.canonical.x)*p.dim,(n.canonical.y/v-y.canonical.y)*p.dim])}tileCoordToPixel(t,n){const l=n*this._scale+this._offset[1],h=Math.floor(t*this._scale+this._offset[0]),p=Math.floor(l);return new Me(h,p)}getElevationAt(t,n,l,h){const p=t*this._scale+this._offset[0],y=n*this._scale+this._offset[1],v=Math.floor(p),C=Math.floor(y),w=this._dem;return h=!!h,l?Vr(Vr(w.get(v,C,h),w.get(v,C+1,h),y-C),Vr(w.get(v+1,C,h),w.get(v+1,C+1,h),y-C),p-v):w.get(v,C,h)}getElevationAtPixel(t,n,l){return this._dem.get(t,n,!!l)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*T0(1,t)*this._dem.stride}}class o3{constructor(t,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Rl(ar,16,0),this.featureIndexArray=new ds,this.promoteId=n}insert(t,n,l,h,p,y=0){const v=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(l,h,p,y);const C=this.grid;for(let w=0;w<n.length;w++){const R=n[w],W=[1/0,1/0,-1/0,-1/0];for(let V=0;V<R.length;V++){const K=R[V];W[0]=Math.min(W[0],K.x),W[1]=Math.min(W[1],K.y),W[2]=Math.max(W[2],K.x),W[3]=Math.max(W[3],K.y)}W[0]<ar&&W[1]<ar&&W[2]>=0&&W[3]>=0&&C.insert(v,W[0],W[1],W[2],W[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Uh(new hi(this.rawTileData)).layers,this.sourceLayerCoder=new J2(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,n,l,h){this.loadVTLayers();const p=t.params||{},y=ho(p.filter),v=t.tileResult,C=t.transform,w=v.bufferedTilespaceBounds,R=this.grid.query(w.min.x,w.min.y,w.max.x,w.max.y,(re,pe,Pe,je)=>Su(v.bufferedTilespaceGeometry,re,pe,Pe,je));R.sort(r5);let W=null;C.elevation&&R.length>0&&(W=ap.create(C.elevation,this.tileID));const V={};let K;for(let re=0;re<R.length;re++){const pe=R[re];if(pe===K)continue;K=pe;const Pe=this.featureIndexArray.get(pe);let je=null;this.loadMatchingFeature(V,Pe,y,p.layers,p.availableImages,n,l,h,(lt,Ve,Qe,gt=0)=>(je||(je=zs(lt,this.tileID.canonical,t.tileTransform)),Ve.queryIntersectsFeature(v,lt,Qe,je,this.z,t.transform,t.pixelPosMatrix,W,gt)))}return V}loadMatchingFeature(t,n,l,h,p,y,v,C,w){const{featureIndex:R,bucketIndex:W,sourceLayerIndex:V,layoutVertexArrayOffset:K}=n,re=this.bucketLayerIDs[W];if(h&&!function(lt,Ve){for(let Qe=0;Qe<lt.length;Qe++)if(Ve.indexOf(lt[Qe])>=0)return!0;return!1}(h,re))return;const pe=this.sourceLayerCoder.decode(V),Pe=this.vtLayers[pe].feature(R);if(l.needGeometry){const lt=zl(Pe,!0);if(!l.filter(new Lt(this.tileID.overscaledZ),lt,this.tileID.canonical))return}else if(!l.filter(new Lt(this.tileID.overscaledZ),Pe))return;const je=this.getId(Pe,pe);for(let lt=0;lt<re.length;lt++){const Ve=re[lt];if(h&&h.indexOf(Ve)<0)continue;const Qe=y[Ve];if(!Qe)continue;let gt={};je!==void 0&&C&&(gt=C.getState(Qe.sourceLayer||"_geojsonTileLayer",je));const ut=nt({},v[Ve]);ut.paint=a3(ut.paint,Qe.paint,Pe,gt,p),ut.layout=a3(ut.layout,Qe.layout,Pe,gt,p);const $t=!w||w(Pe,Qe,gt,K);if(!$t)continue;const jt=new j2(Pe,this.z,this.x,this.y,je);jt.layer=ut;let Si=t[Ve];Si===void 0&&(Si=t[Ve]=[]),Si.push({featureIndex:R,feature:jt,intersectionZ:$t})}}lookupSymbolFeatures(t,n,l,h,p,y,v,C){const w={};this.loadVTLayers();const R=ho(p);for(const W of t)this.loadMatchingFeature(w,{bucketIndex:l,sourceLayerIndex:h,featureIndex:W,layoutVertexArrayOffset:0},R,y,v,C,n);return w}loadFeature(t){const{featureIndex:n,sourceLayerIndex:l}=t;this.loadVTLayers();const h=this.sourceLayerCoder.decode(l),p=this.vtFeatures[h];if(p[n])return p[n];const y=this.vtLayers[h].feature(n);return p[n]=y,y}hasLayer(t){for(const n of this.bucketLayerIDs)for(const l of n)if(t===l)return!0;return!1}getId(t,n){let l=t.id;if(this.promoteId){const h=typeof this.promoteId=="string"?this.promoteId:this.promoteId[n];h!=null&&(l=t.properties[h]),typeof l=="boolean"&&(l=Number(l))}return l}}function a3(i,t,n,l,h){return an(i,(p,y)=>{const v=t instanceof wi?t.get(y):null;return v&&v.evaluate?v.evaluate(n,l,h):v})}function r5(i,t){return t-i}En(o3,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class l3{constructor(t,n){this.width=t,this.height=n,this.nextRow=0,this.image=new gl({width:t,height:n}),this.positions={},this.uploaded=!1}getDash(t,n){const l=this.getKey(t,n);return this.positions[l]}trim(){const t=this.width,n=this.height=mt(this.nextRow);this.image.resize({width:t,height:n})}getKey(t,n){return t.join(",")+n}getDashRanges(t,n,l){const h=[];let p=t.length%2==1?-t[t.length-1]*l:0,y=t[0]*l,v=!0;h.push({left:p,right:y,isDash:v,zeroLength:t[0]===0});let C=t[0];for(let w=1;w<t.length;w++){v=!v;const R=t[w];p=C*l,C+=R,y=C*l,h.push({left:p,right:y,isDash:v,zeroLength:R===0})}return h}addRoundDash(t,n,l){const h=n/2;for(let p=-l;p<=l;p++){const y=this.width*(this.nextRow+l+p);let v=0,C=t[v];for(let w=0;w<this.width;w++){w/C.right>1&&(C=t[++v]);const R=Math.abs(w-C.left),W=Math.abs(w-C.right),V=Math.min(R,W);let K;const re=p/l*(h+1);if(C.isDash){const pe=h-Math.abs(re);K=Math.sqrt(V*V+pe*pe)}else K=h-Math.sqrt(V*V+re*re);this.image.data[y+w]=Math.max(0,Math.min(255,K+128))}}}addRegularDash(t,n){for(let C=t.length-1;C>=0;--C){const w=t[C],R=t[C+1];w.zeroLength?t.splice(C,1):R&&R.isDash===w.isDash&&(R.left=w.left,t.splice(C,1))}const l=t[0],h=t[t.length-1];l.isDash===h.isDash&&(l.left=h.left-this.width,h.right=l.right+this.width);const p=this.width*this.nextRow;let y=0,v=t[y];for(let C=0;C<this.width;C++){C/v.right>1&&(v=t[++y]);const w=Math.abs(C-v.left),R=Math.abs(C-v.right),W=Math.min(w,R);this.image.data[p+C]=Math.max(0,Math.min(255,(v.isDash?W:-W)+n+128))}}addDash(t,n){const l=this.getKey(t,n);if(this.positions[l])return this.positions[l];const h=n==="round",p=h?7:0,y=2*p+1;if(this.nextRow+y>this.height)return _r("LineAtlas out of space"),null;t.length===0&&t.push(1);let v=0;for(let R=0;R<t.length;R++)t[R]<0&&(_r("Negative value is found in line dasharray, replacing values with 0"),t[R]=0),v+=t[R];if(v!==0){const R=this.width/v,W=this.getDashRanges(t,this.width,R);h?this.addRoundDash(W,R,p):this.addRegularDash(W,n==="square"?.5*R:0)}const C=this.nextRow+p;this.nextRow+=y;const w={tl:[C,p],br:[v,0]};return this.positions[l]=w,w}}En(l3,"LineAtlas");class _3{constructor(t){const n={},l=[];for(const v in t){const C=t[v],w=n[v]={};for(const R in C.glyphs){const W=C.glyphs[+R];if(!W||W.bitmap.width===0||W.bitmap.height===0)continue;const V=W.metrics.localGlyph?2:1,K={x:0,y:0,w:W.bitmap.width+2*V,h:W.bitmap.height+2*V};l.push(K),w[R]=K}}const{w:h,h:p}=cr(l),y=new gl({width:h||1,height:p||1});for(const v in t){const C=t[v];for(const w in C.glyphs){const R=C.glyphs[+w];if(!R||R.bitmap.width===0||R.bitmap.height===0)continue;const W=n[v][w],V=R.metrics.localGlyph?2:1;gl.copy(R.bitmap,y,{x:0,y:0},{x:W.x+V,y:W.y+V},R.bitmap)}}this.image=y,this.positions=n}}En(_3,"GlyphAtlas");class s5{constructor(t){this.tileID=new wa(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=lh(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,n,l,h,p){this.status="parsing",this.data=t,this.collisionBoxArray=new Oi;const y=new J2(Object.keys(t.layers).sort()),v=new o3(this.tileID,this.promoteId);v.bucketLayerIDs=[];const C={},w=new l3(256,256),R={featureIndex:v,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:w,availableImages:l},W=n.familiesBySource[this.source];for(const gt in W){const ut=t.layers[gt];if(!ut)continue;let $t=!1,jt=!1;for(const li of W[gt])li[0].type==="symbol"?$t=!0:jt=!0;if(this.isSymbolTile===!0&&!$t||this.isSymbolTile===!1&&!jt)continue;ut.version===1&&_r(`Vector tile source "${this.source}" layer "${gt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Si=y.encode(gt),tn=[];for(let li=0;li<ut.length;li++){const Ei=ut.feature(li),ki=v.getId(Ei,gt);tn.push({feature:Ei,id:ki,index:li,sourceLayerIndex:Si})}for(const li of W[gt]){const Ei=li[0];this.isSymbolTile!==void 0&&Ei.type==="symbol"!==this.isSymbolTile||Ei.minzoom&&this.zoom<Math.floor(Ei.minzoom)||Ei.maxzoom&&this.zoom>=Ei.maxzoom||Ei.visibility!=="none"&&($p(li,this.zoom,l),(C[Ei.id]=Ei.createBucket({index:v.bucketLayerIDs.length,layers:li,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Si,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:l})).populate(tn,R,this.tileID.canonical,this.tileTransform),v.bucketLayerIDs.push(li.map(ki=>ki.id)))}}let V,K,re,pe;w.trim();const Pe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},je=an(R.glyphDependencies,gt=>Object.keys(gt).map(Number));Object.keys(je).length?h.send("getGlyphs",{uid:this.uid,stacks:je},(gt,ut)=>{V||(V=gt,K=ut,Qe.call(this))},void 0,!1,Pe):K={};const lt=Object.keys(R.iconDependencies);lt.length?h.send("getImages",{icons:lt,source:this.source,tileID:this.tileID,type:"icons"},(gt,ut)=>{V||(V=gt,re=ut,Qe.call(this))},void 0,!1,Pe):re={};const Ve=Object.keys(R.patternDependencies);function Qe(){if(V)return p(V);if(K&&re&&pe){const gt=new _3(K),ut=new Wr(re,pe);for(const $t in C){const jt=C[$t];jt instanceof Ic?($p(jt.layers,this.zoom,l),Y_(jt,K,gt.positions,re,ut.iconPositions,this.showCollisionBoxes,l,this.tileID.canonical,this.tileZoom,this.projection)):jt.hasPattern&&(jt instanceof m||jt instanceof Cc||jt instanceof wc)&&($p(jt.layers,this.zoom,l),jt.addFeatures(R,this.tileID.canonical,ut.patternPositions,l,this.tileTransform))}this.status="done",p(null,{buckets:xe(C).filter($t=>!$t.isEmpty()),featureIndex:v,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gt.image,lineAtlas:w,imageAtlas:ut,glyphMap:this.returnDependencies?K:null,iconMap:this.returnDependencies?re:null,glyphPositions:this.returnDependencies?gt.positions:null})}}Ve.length?h.send("getImages",{icons:Ve,source:this.source,tileID:this.tileID,type:"patterns"},(gt,ut)=>{V||(V=gt,pe=ut,Qe.call(this))},void 0,!1,Pe):pe={},Qe.call(this)}}function $p(i,t,n){const l=new Lt(t);for(const h of i)h.recalculate(l,n)}class u3{constructor(t){this.entries={},this.scheduler=t}request(t,n,l,h){const p=this.entries[t]=this.entries[t]||{callbacks:[]};if(p.result){const[y,v]=p.result;return this.scheduler?this.scheduler.add(()=>{h(y,v)},n):h(y,v),()=>{}}return p.callbacks.push(h),p.cancel||(p.cancel=l((y,v)=>{p.result=[y,v];for(const C of p.callbacks)this.scheduler?this.scheduler.add(()=>{C(y,v)},n):C(y,v);setTimeout(()=>delete this.entries[t],3e3)})),()=>{p.result||(p.callbacks=p.callbacks.filter(y=>y!==h),p.callbacks.length||(p.cancel(),delete this.entries[t]))}}}function c3(i,t,n){const l=JSON.stringify(i.request);return i.data&&(this.deduped.entries[l]={result:[null,i.data]}),this.deduped.request(l,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom},h=>{const p=Or(i.request,(y,v,C,w)=>{y?h(y):v&&h(null,{vectorTile:n?void 0:new Uh(new hi(v)),rawData:v,cacheControl:C,expires:w})});return()=>{p.cancel(),h()}},t)}a.ARRAY_TYPE=sa,a.AUTH_ERR_MSG=Ks,a.Aabb=lo,a.Actor=class{constructor(i,t,n){this.target=i,this.parent=t,this.mapId=n,this.callbacks={},this.cancelCallbacks={},Yi(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Li()?i:j,this.scheduler=new e5}send(i,t,n,l,h=!1,p){const y=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=p,this.callbacks[y]=n);const v=st(this.globalScope)?void 0:[];return this.target.postMessage({id:y,type:i,hasCallback:!!n,targetMapId:l,mustQueue:h,sourceMapId:this.mapId,data:R0(t,v)},v),{cancel:()=>{n&&delete this.callbacks[y],this.target.postMessage({id:y,type:"<cancel>",targetMapId:l,sourceMapId:this.mapId})}}}receive(i){const t=i.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){const l=this.cancelCallbacks[n];delete this.cancelCallbacks[n],l&&l.cancel()}else if(t.mustQueue||Li()){const l=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add(()=>this.processTask(n,t),l&&l.metadata||{type:"message"})}else this.processTask(n,t)}processTask(i,t){if(t.type==="<response>"){const n=this.callbacks[i];delete this.callbacks[i],n&&(t.error?n(Hl(t.error)):n(null,Hl(t.data)))}else{const n=st(this.globalScope)?void 0:[],l=t.hasCallback?(p,y)=>{delete this.cancelCallbacks[i],this.target.postMessage({id:i,type:"<response>",sourceMapId:this.mapId,error:p?R0(p):null,data:R0(y,n)},n)}:p=>{},h=Hl(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,h,l);else if(this.parent.getWorkerSource){const p=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,p[0],h.source)[p[1]](h,l)}else l(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=Gu,a.Color=Ae,a.ColorMode=X_,a.CullFaceMode=y_,a.DEMData=op,a.DataConstantProperty=kt,a.DedupedRequest=u3,a.DepthMode=ed,a.EXTENT=ar,a.Elevation=class{isDataAvailableAtPoint(i){const t=this._source();if(this.isUsingMockSource()||!t||i.y<0||i.y>1)return!1;const n=t.getSource().maxzoom,l=1<<n,h=Math.floor(i.x),p=Math.floor((i.x-h)*l),y=Math.floor(i.y*l),v=this.findDEMTileFor(new wa(n,h,n,p,y));return!(!v||!v.dem)}getAtPointOrZero(i,t=0){return this.getAtPoint(i,t)||0}getAtPoint(i,t,n=!0){if(this.isUsingMockSource())return null;t==null&&(t=null);const l=this._source();if(!l||i.y<0||i.y>1)return t;const h=l.getSource().maxzoom,p=1<<h,y=Math.floor(i.x),v=i.x-y,C=new wa(h,y,h,Math.floor(v*p),Math.floor(i.y*p)),w=this.findDEMTileFor(C);if(!w||!w.dem)return t;const R=w.dem,W=1<<w.tileID.canonical.z,V=(v*W-w.tileID.canonical.x)*R.dim,K=(i.y*W-w.tileID.canonical.y)*R.dim,re=Math.floor(V),pe=Math.floor(K);return(n?this.exaggeration():1)*Vr(Vr(R.get(re,pe),R.get(re,pe+1),K-pe),Vr(R.get(re+1,pe),R.get(re+1,pe+1),K-pe),V-re)}getAtTileOffset(i,t,n){const l=1<<i.canonical.z;return this.getAtPointOrZero(new mc(i.wrap+(i.canonical.x+t/ar)/l,(i.canonical.y+n/ar)/l))}getAtTileOffsetFunc(i,t,n,l){return h=>{const p=this.getAtTileOffset(i,h.x,h.y),y=l.upVector(i.canonical,h.x,h.y);return oa(y,y,p*l.upVectorScale(i.canonical,t,n).metersToTile),y}}getForTilePoints(i,t,n,l){if(this.isUsingMockSource())return!1;const h=ap.create(this,i,l);return!!h&&(t.forEach(p=>{p[2]=this.exaggeration()*h.getElevationAt(p[0],p[1],n)}),!0)}getMinMaxForTile(i){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(i);if(!t||!t.dem)return null;const n=t.dem.tree,l=t.tileID,h=1<<i.canonical.z-l.canonical.z;let p=i.canonical.x/h-l.canonical.x,y=i.canonical.y/h-l.canonical.y,v=0;for(let C=0;C<i.canonical.z-l.canonical.z&&!n.leaves[v];C++){p*=2,y*=2;const w=2*Math.floor(y)+Math.floor(p);v=n.childOffsets[v]+w,p%=1,y%=1}return{min:this.exaggeration()*n.minimums[v],max:this.exaggeration()*n.maximums[v]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(i,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(i){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(i){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=Ao,a.EvaluationParameters=Lt,a.Event=us,a.Evented=Hs,a.FillExtrusionBucket=wc,a.Frustum=jl,a.FrustumCorners=Lu,a.GLOBE_METERS_TO_ECEF=Rp,a.GLOBE_RADIUS=Ju,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=6,a.GLOBE_ZOOM_THRESHOLD_MIN=5,a.GlobeSharedBuffers=class{constructor(i){this._createGrid(i),this._createPoles(i)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const i of this._poleSegments)i.destroy();for(const i of this._gridSegments)i.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const i of this._wireframeSegments)i.destroy()}}_createGrid(i){const t=new Jr,n=new Po,l=65;for(let h=0;h<l;h++)for(let p=0;p<l;p++)t.emplaceBack(p,h);this._gridSegments=[];for(let h=0,p=0;h<Zh.length;h++){const y=Zh[h];for(let C=0;C<y;C++)for(let w=0;w<64;w++){const R=C*l+w;n.emplaceBack(R+1,R,R+l),n.emplaceBack(R+l,R+l+1,R+1)}const v=64*y*2;this._gridSegments.push(po.simpleSegment(0,p,(y+1)*l,v)),p+=v}this._gridBuffer=i.createVertexBuffer(t,i1.members),this._gridIndexBuffer=i.createIndexBuffer(n,!0)}_createPoles(i){const t=new Po;for(let h=0;h<=$h;h++)t.emplaceBack(0,h+1,h+2);this._poleIndexBuffer=i.createIndexBuffer(t,!0);const n=new qe,l=new qe;this._poleSegments=[];for(let h=0,p=0;h<5;h++){const y=360/(1<<h);n.emplaceBack(0,-Ju,0,.5,0),l.emplaceBack(0,-Ju,0,.5,1);for(let v=0;v<=$h;v++){const C=v/$h,w=Vr(0,y,C),[R,W,V]=Xh(Dm,Rm,w,Ju);n.emplaceBack(R,W,V,C,0),l.emplaceBack(R,W,V,C,1)}this._poleSegments.push(po.simpleSegment(p,0,66,64)),p+=66}this._poleNorthVertexBuffer=i.createVertexBuffer(n,E2,!1),this._poleSouthVertexBuffer=i.createVertexBuffer(l,E2,!1)}getGridBuffers(i){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[i]]}getPoleBuffers(i){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[i]]}getWirefameBuffers(i,t){if(!this._wireframeSegments){const n=new Mt,l=$h,h=l+1;this._wireframeSegments=[];for(let p=0,y=0;p<Zh.length;p++){const v=Zh[p];for(let w=0;w<v;w++)for(let R=0;R<l;R++){const W=w*h+R;n.emplaceBack(W,W+1),n.emplaceBack(W,W+h),n.emplaceBack(W,W+h+1)}const C=v*l*3;this._wireframeSegments.push(po.simpleSegment(0,y,(v+1)*h,C)),y+=C}this._wireframeIndexBuffer=i.createIndexBuffer(n)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},a.GlyphManager=tt,a.ImagePosition=er,a.LivePerformanceUtils=on,a.LngLat=Xr,a.LngLatBounds=F0,a.LocalGlyphMode=qh,a.MAX_MERCATOR_LATITUDE=Ul,a.MercatorCoordinate=mc,a.ONE_EM=ie,a.OverscaledTileID=wa,a.PerformanceMarkers=vi,a.Properties=An,a.RGBAImage=Xa,a.Ray=Dh,a.RequestManager=class{constructor(i,t,n){this._transformRequestFn=i,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const i=function(){let t="";for(let n=0;n<10;n++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",xt,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=i.token,this._skuTokenExpiresAt=i.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(i,t){return this._transformRequestFn&&this._transformRequestFn(i,t)||{url:i}}normalizeStyleURL(i,t){if(!yo(i))return i;const n=ro(i);return n.path=`/styles/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(i,t){if(!yo(i))return i;const n=ro(i);return n.path=`/fonts/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(i,t,n,l){if(!yo(i))return i;const h=ro(i);return h.path=`/v4/${h.authority}.json`,h.params.push("secure"),n&&h.params.push(`language=${n}`),l&&h.params.push(`worldview=${l}`),this._makeAPIURL(h,this._customAccessToken||t)}normalizeSpriteURL(i,t,n,l){const h=ro(i);return yo(i)?(h.path=`/styles/v1${h.path}/sprite${t}${n}`,this._makeAPIURL(h,this._customAccessToken||l)):(h.path+=`${t}${n}`,vs(h))}normalizeTileURL(i,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),i&&!yo(i))return i;const l=ro(i);l.path=l.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||n&&l.authority!=="raster"&&n===512?"@2x":""}${rt.supported?".webp":"$1"}`),l.authority==="raster"?l.path=`/${me.RASTER_URL_PREFIX}${l.path}`:(l.path=l.path.replace(/^.+\/v4\//,"/"),l.path=`/${me.TILE_URL_VERSION}${l.path}`);const h=this._customAccessToken||function(p){for(const y of p){const v=y.match(/^access_token=(.*)$/);if(v)return v[1]}return null}(l.params)||me.ACCESS_TOKEN;return me.REQUIRE_ACCESS_TOKEN&&h&&this._skuToken&&l.params.push(`sku=${this._skuToken}`),this._makeAPIURL(l,h)}canonicalizeTileURL(i,t){const n=ro(i);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return i;let l="mapbox://";n.path.match(/^\/raster\/v1\//)?l+=`raster/${n.path.replace(`/${me.RASTER_URL_PREFIX}/`,"")}`:l+=`tiles/${n.path.replace(`/${me.TILE_URL_VERSION}/`,"")}`;let h=n.params;return t&&(h=h.filter(p=>!p.match(/^access_token=/))),h.length&&(l+=`?${h.join("&")}`),l}canonicalizeTileset(i,t){const n=!!t&&yo(t),l=[];for(const h of i.tiles||[])es(h)?l.push(this.canonicalizeTileURL(h,n)):l.push(h);return l}_makeAPIURL(i,t){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",l=ro(me.API_URL);if(i.protocol=l.protocol,i.authority=l.authority,i.protocol==="http"){const h=i.params.indexOf("secure");h>=0&&i.params.splice(h,1)}if(l.path!=="/"&&(i.path=`${l.path}${i.path}`),!me.REQUIRE_ACCESS_TOKEN)return vs(i);if(t=t||me.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${n}`);if(t[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${n}`)}return i.params=i.params.filter(h=>h.indexOf("access_token")===-1),i.params.push(`access_token=${t||""}`),vs(i)}},a.ResourceType=Ln,a.SegmentVector=po,a.SourceCache=_h,a.StencilMode=jp,a.StructArrayLayout1ui2=At,a.StructArrayLayout2f1f2i16=Xo,a.StructArrayLayout2i4=Jr,a.StructArrayLayout2ui4=Mt,a.StructArrayLayout3f12=ks,a.StructArrayLayout3ui6=Po,a.StructArrayLayout4i8=fs,a.StructArrayLayout5f20=qe,a.Texture=u1,a.Tile=Vp,a.Transitionable=bi,a.Uniform1f=ys,a.Uniform1i=class extends rs{constructor(i){super(i),this.current=0}set(i,t,n){this.fetchUniformLocation(i,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},a.Uniform2f=class extends rs{constructor(i){super(i),this.current=[0,0]}set(i,t,n){this.fetchUniformLocation(i,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},a.Uniform3f=class extends rs{constructor(i){super(i),this.current=[0,0,0]}set(i,t,n){this.fetchUniformLocation(i,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},a.Uniform4f=ms,a.UniformColor=zo,a.UniformMatrix2f=class extends rs{constructor(i){super(i),this.current=f0}set(i,t,n){if(this.fetchUniformLocation(i,t)){for(let l=0;l<4;l++)if(n[l]!==this.current[l]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}}},a.UniformMatrix3f=class extends rs{constructor(i){super(i),this.current=ra}set(i,t,n){if(this.fetchUniformLocation(i,t)){for(let l=0;l<9;l++)if(n[l]!==this.current[l]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}}},a.UniformMatrix4f=class extends rs{constructor(i){super(i),this.current=$a}set(i,t,n){if(this.fetchUniformLocation(i,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let l=1;l<16;l++)if(n[l]!==this.current[l]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},a.UnwrappedTileID=Yd,a.ValidationError=Sn,a.VectorTileFeature=Bu,a.VectorTileWorkerSource=class extends Hs{constructor(i,t,n,l,h){super(),this.actor=i,this.layerIndex=t,this.availableImages=n,this.loadVectorData=h||c3,this.loading={},this.loaded={},this.deduped=new u3(i.scheduler),this.isSpriteLoaded=l,this.scheduler=i.scheduler}loadTile(i,t){const n=i.uid,l=i&&i.request,h=l&&l.collectResourceTiming,p=this.loading[n]=new s5(i);p.abort=this.loadVectorData(i,(y,v)=>{const C=!this.loading[n];if(delete this.loading[n],C||y||!v)return p.status="done",C||(this.loaded[n]=p),t(y);const w=v.rawData,R={};v.expires&&(R.expires=v.expires),v.cacheControl&&(R.cacheControl=v.cacheControl),p.vectorTile=v.vectorTile||new Uh(new hi(w));const W=()=>{p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,(V,K)=>{if(V||!K)return t(V);const re={};if(h){const pe=Jn(l);pe.length>0&&(re.resourceTiming=JSON.parse(JSON.stringify(pe)))}t(null,nt({rawTileData:w.slice(0)},K,R,re))})};this.isSpriteLoaded?W():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(W,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom}):W()}),this.loaded=this.loaded||{},this.loaded[n]=p})}reloadTile(i,t){const n=this.loaded,l=i.uid,h=this;if(n&&n[l]){const p=n[l];p.showCollisionBoxes=i.showCollisionBoxes,p.enableTerrain=!!i.enableTerrain,p.projection=i.projection,p.tileTransform=lh(i.tileID.canonical,i.projection);const y=(v,C)=>{const w=p.reloadCallback;w&&(delete p.reloadCallback,p.parse(p.vectorTile,h.layerIndex,this.availableImages,h.actor,w)),t(v,C)};p.status==="parsing"?p.reloadCallback=y:p.status==="done"&&(p.vectorTile?p.parse(p.vectorTile,this.layerIndex,this.availableImages,this.actor,y):y())}}abortTile(i,t){const n=i.uid,l=this.loading[n];l&&(l.abort&&l.abort(),delete this.loading[n]),t()}removeTile(i,t){const n=this.loaded,l=i.uid;n&&n[l]&&delete n[l],t()}},a.WritingMode=fr,a.add=Ca,a.addDynamicAttributes=np,a.adjoint=function(i,t){var n=t[0],l=t[1],h=t[2],p=t[3],y=t[4],v=t[5],C=t[6],w=t[7],R=t[8];return i[0]=y*R-v*w,i[1]=h*w-l*R,i[2]=l*v-h*y,i[3]=v*C-p*R,i[4]=n*R-h*C,i[5]=h*p-n*v,i[6]=p*w-y*C,i[7]=l*C-n*w,i[8]=n*y-l*p,i},a.asyncAll=be,a.bezier=ji,a.bindAll=Yi,a.boundsAttributes=q2,a.bufferConvexPolygon=function(i,t){const n=[];for(let l=0;l<i.length;l++){const h=de(l-1,-1,i.length-1),p=de(l+1,-1,i.length-1),y=i[l],v=i[p],C=i[h].sub(y).unit(),w=v.sub(y).unit(),R=w.angleWithSep(C.x,C.y),W=C.add(w).unit().mult(-1*t/Math.sin(R/2));n.push(y.add(W))}return n},a.cacheEntryPossiblyAdded=function(i){zn++,zn>Ui&&(i.getActor().send("enforceCacheSizeLimit",ii),zn=0)},a.calculateGlobeLabelMatrix=function(i,t){const{x:n,y:l}=i.point,h=R2(n,l,i.worldSize/i._pixelsPerMercatorPixel,0,0);return F_(h,h,Op(q_(t)))},a.calculateGlobeMatrix=function(i){const{x:t,y:n}=i.point,{lng:l,lat:h}=i._center;return R2(t,n,i.worldSize,l,h)},a.calculateGlobeMercatorMatrix=function(i){const t=i.pixelsPerMeter,n=t/T0(1,i.center.lat),l=y0(new Float64Array(16));return Mu(l,l,[i.point.x,i.point.y,0]),Jl(l,l,[n,n,t]),Float32Array.from(l)},a.circumferenceAtLatitude=pc,a.clamp=Y,a.clearTileCache=function(i){if(!zi())return;const t=j.caches.delete(Tt);i&&t.catch(i).then(()=>i())},a.clipLine=sh,a.clone=function(i){var t=new sa(16);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t},a.clone$1=Er,a.collisionCircleLayout=ue,a.config=me,a.conjugate=function(i,t){return i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i[3]=t[3],i},a.create=function(){var i=new sa(16);return sa!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},a.create$1=wu,a.createExpression=I0,a.createLayout=bn,a.createStyleLayer=function(i){return i.type==="custom"?new Zm(i):new Km[i.type](i)},a.cross=O_,a.degToRad=si,a.distance=function(i,t){return Math.hypot(t[0]-i[0],t[1]-i[1],t[2]-i[2])},a.div=function(i,t,n){return i[0]=t[0]/n[0],i[1]=t[1]/n[1],i[2]=t[2]/n[2],i},a.dot=A0,a.earthRadius=Vc,a.ease=oi,a.easeCubicInOut=Kt,a.ecefToLatLng=function([i,t,n]){const l=Math.hypot(i,t,n),h=Math.atan2(i,n),p=.5*Math.PI-Math.acos(-t/l);return new Xr(Ze(h),Ze(p))},a.emitValidationErrors=ac,a.endsWith=Gi,a.enforceCacheSizeLimit=function(i){Mn(),Pt&&Pt.then(t=>{t.keys().then(n=>{for(let l=0;l<n.length-i;l++)t.delete(n[l])})})},a.evaluateSizeForFeature=Re,a.evaluateSizeForZoom=et,a.evaluateVariableOffset=No,a.evented=_t,a.exactEquals=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]},a.exactEquals$1=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]},a.exported=On,a.exported$1=rt,a.extend=nt,a.extend$1=jo,a.fillExtrusionHeightLift=rh,a.filterObject=sr,a.fromMat4=function(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i},a.fromQuat=function(i,t){var n=t[0],l=t[1],h=t[2],p=t[3],y=n+n,v=l+l,C=h+h,w=n*y,R=l*y,W=l*v,V=h*y,K=h*v,re=h*C,pe=p*y,Pe=p*v,je=p*C;return i[0]=1-W-re,i[1]=R+je,i[2]=V-Pe,i[3]=0,i[4]=R-je,i[5]=1-w-re,i[6]=K+pe,i[7]=0,i[8]=V+Pe,i[9]=K-pe,i[10]=1-w-W,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},a.fromRotation=function(i,t){var n=Math.sin(t),l=Math.cos(t);return i[0]=l,i[1]=n,i[2]=0,i[3]=-n,i[4]=l,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},a.fromScaling=Eh,a.furthestTileCorner=function(i){const t=Math.round((i+45+360)%360/90)%4;return ze[t]},a.getAABBPointSquareDist=function(i,t,n){let l=0;for(let h=0;h<2;++h){const p=n?n[h]:0;i[h]>p&&(l+=(i[h]-p)*(i[h]-p)),t[h]<p&&(l+=(p-t[h])*(p-t[h]))}return l},a.getAnchorAlignment=Jh,a.getAnchorJustification=v0,a.getBounds=function(i){let t=1/0,n=1/0,l=-1/0,h=-1/0;for(const p of i)t=Math.min(t,p.x),n=Math.min(n,p.y),l=Math.max(l,p.x),h=Math.max(h,p.y);return{min:new Me(t,n),max:new Me(l,h)}},a.getColumn=ot,a.getGridMatrix=function(i,t,n,l){const h=t.getNorth(),p=t.getSouth(),y=t.getWest(),v=t.getEast(),C=1<<i.z,w=v-y,R=h-p,W=w/$h,V=-R/Zh[n],K=[0,W,0,V,0,0,h,y,0];if(i.z>0){const re=180/l;Eu(K,K,[re/w+1,0,0,0,re/R+1,0,-.5*re/W,.5*re/V,1])}return K[2]=C,K[5]=i.x,K[8]=i.y,K},a.getImage=bs,a.getJSON=function(i,t){return ss(nt(i,{type:"json"}),t)},a.getLatitudinalLod=function(i){const t=80.051129;i=Y(i,-80.051129,t)/t*90;const n=Math.pow(Math.abs(Math.sin(si(i))),3);return Math.round(n*(Zh.length-1))},a.getMapSessionAPI=vt,a.getPerformanceMeasurement=Jn,a.getProjection=z2,a.getRTLTextPluginStatus=Nt,a.getReferrer=tr,a.getTilePoint=function(i,{x:t,y:n},l=0){return new Me(((t-l)*i.scale-i.x)*ar,(n*i.scale-i.y)*ar)},a.getTileVec3=function(i,t,n=0){return Ys(((t.x-n)*i.scale-i.x)*ar,(t.y*i.scale-i.y)*ar,M1(t.z,t.y))},a.getVideo=function(i,t){const n=j.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let l=0;l<i.length;l++){const h=j.document.createElement("source");_o(i[l])||(n.crossOrigin="Anonymous"),h.src=i[l],n.appendChild(h)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(i){const t=[0,0,0],n=y0(new Float64Array(16));return F_(n,i.pixelMatrix,i.globeMatrix),qs(t,t,n),new Me(t[0],t[1])},a.globeDenormalizeECEF=Op,a.globeECEFOrigin=function(i,t){const n=[0,0,0];return qs(n,n,s1(q_(t.canonical))),qs(n,n,i),n},a.globeNormalizeECEF=s1,a.globePixelsToTileUnits=function(i,t){return ar/(512*Math.pow(2,i))*K1(q_(t))},a.globePoleMatrixForTile=function(i,t,n){const l=y0(new Float64Array(16)),h=(t/(1<<i)-.5)*Math.PI*2;return Ac(l,n.globeMatrix,h),Float32Array.from(l)},a.globeTileBounds=q_,a.globeTiltAtLngLat=H2,a.globeToMercatorTransition=Kh,a.globeUseCustomAntiAliasing=function(i,t,n){const l=Kh(n.zoom),h=i.style.map._antialias,p=!!t.extStandardDerivatives,y=t.extStandardDerivativesForceOff||i.terrain&&i.terrain.exaggeration()>0;return l===0&&!h&&!y&&p},a.identity=y0,a.identity$1=Sc,a.invert=wh,a.isFullscreen=function(){return!!j.document.fullscreenElement||!!j.document.webkitFullscreenElement},a.isLngLatBehindGlobe=Bp,a.isMapAuthenticated=function(i){return Rt.has(i)},a.isMapboxURL=yo,a.isSafariWithAntialiasingBug=function(i){const t=i.navigator?i.navigator.userAgent:null;return!!st(i)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=Do,a.latLngToECEF=n1,a.len=gd,a.length=Zc,a.length$1=function(i){return Math.hypot(i[0],i[1],i[2],i[3])},a.lngFromMercatorX=Ko,a.loadVectorTile=c3,a.makeRequest=ss,a.mapValue=function(i,t,n,l,h){return Y((i-t)/(n-t)*(h-l)+l,l,h)},a.mercatorScale=I1,a.mercatorXfromLng=O0,a.mercatorYfromLat=Wl,a.mercatorZfromAltitude=T0,a.mul=fd,a.mul$1=ku,a.multiply=F_,a.multiply$1=Eu,a.multiply$2=Lh,a.nextPowerOfTwo=mt,a.normalize=Qo,a.normalize$1=D1,a.normalize$2=Pa,a.number=Vr,a.ortho=function(i,t,n,l,h,p,y){var v=1/(t-n),C=1/(l-h),w=1/(p-y);return i[0]=-2*v,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*C,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*w,i[11]=0,i[12]=(t+n)*v,i[13]=(h+l)*C,i[14]=(y+p)*w,i[15]=1,i},a.pbf=hi,a.perspective=function(i,t,n,l,h){var p,y=1/Math.tan(t/2);return i[0]=y/n,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=y,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,h!=null&&h!==1/0?(i[10]=(h+l)*(p=1/(l-h)),i[14]=2*h*l*p):(i[10]=-1,i[14]=-2*l),i},a.pick=function(i,t){const n={};for(let l=0;l<t.length;l++){const h=t[l];h in i&&(n[h]=i[h])}return n},a.plugin=zt,a.pointGeometry=Me,a.polesInViewport=function(i){const t=y0(new Float64Array(16));F_(t,i.pixelMatrix,i.globeMatrix);const n=[0,$l,0],l=[0,Zl,0];return qs(n,n,t),qs(l,l,t),[n[0]>0&&n[0]<=i.width&&n[1]>0&&n[1]<=i.height&&!Bp(i,new Xr(i.center.lat,90)),l[0]>0&&l[0]<=i.width&&l[1]>0&&l[1]<=i.height&&!Bp(i,new Xr(i.center.lat,-90))]},a.polygonContainsPoint=vu,a.polygonIntersectsBox=Su,a.polygonIntersectsPolygon=gc,a.polygonizeBounds=function(i,t,n=0,l=!0){const h=new Me(n,n),p=i.sub(h),y=t.add(h),v=[p,new Me(y.x,p.y),y,new Me(p.x,y.y)];return l&&v.push(p.clone()),v},a.posAttributes=i1,a.postMapLoadEvent=$e,a.postPerformanceEvent=Dt,a.postTurnstileEvent=he,a.potpack=cr,a.prevPowerOfTwo=function(i){return i<=1?1:Math.pow(2,Math.floor(Math.log(i)/Math.LN2))},a.radToDeg=Ze,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(i){return i({pluginStatus:Ge,pluginURL:Oe}),_t.on("pluginStateChange",i),i},a.removeAuthState=function(i){Rt.delete(i)},a.renderColorRamp=Fh,a.resample=k1,a.rotateX=qc,a.rotateX$1=yd,a.rotateY=Ac,a.rotateY$1=Ad,a.rotateZ=function(i,t,n){var l=Math.sin(n),h=Math.cos(n),p=t[0],y=t[1],v=t[2],C=t[3],w=t[4],R=t[5],W=t[6],V=t[7];return t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=p*h+w*l,i[1]=y*h+R*l,i[2]=v*h+W*l,i[3]=C*h+V*l,i[4]=w*h-p*l,i[5]=R*h-y*l,i[6]=W*h-v*l,i[7]=V*h-C*l,i},a.rotateZ$1=function(i,t,n){n*=.5;var l=t[0],h=t[1],p=t[2],y=t[3],v=Math.sin(n),C=Math.cos(n);return i[0]=l*C+h*v,i[1]=h*C-l*v,i[2]=p*C+y*v,i[3]=y*C-p*v,i},a.scale=Jl,a.scale$1=Td,a.scale$2=oa,a.scaleAndAdd=Iu,a.set=function(i,t,n,l){return i[0]=t,i[1]=n,i[2]=l,i},a.setCacheLimits=function(i,t){ii=i,Ui=t},a.setColumn=function(i,t,n){i[4*t+0]=n[0],i[4*t+1]=n[1],i[4*t+2]=n[2],i[4*t+3]=n[3]},a.setRTLTextPlugin=function(i,t,n=!1){if(Ge===ke||Ge===He||Ge===Ce)throw new Error("setRTLTextPlugin cannot be called multiple times.");Oe=On.resolveURL(i),Ge=ke,we=t,pt(),n||Xt()},a.smoothstep=ce,a.spec=ui,a.squaredLength=function(i){var t=i[0],n=i[1],l=i[2];return t*t+n*n+l*l},a.storeAuthState=function(i,t){t?Rt.add(i):Rt.delete(i)},a.sub=fl,a.subtract=kh,a.symbolSize=ct,a.tileAABB=function(i,t,n,l,h,p,y,v,C){if(C.name==="globe")return Lm(i,t,new Gu(n,l,h));const w=lh({z:n,x:l,y:h},C);return new lo([(p+w.x/w.scale)*t,t*(w.y/w.scale),y],[(p+w.x2/w.scale)*t,t*(w.y2/w.scale),v])},a.tileCornersToBounds=X1,a.tileTransform=lh,a.transformMat3=function(i,t,n){var l=t[0],h=t[1],p=t[2];return i[0]=l*n[0]+h*n[3]+p*n[6],i[1]=l*n[1]+h*n[4]+p*n[7],i[2]=l*n[2]+h*n[5]+p*n[8],i},a.transformMat4=qs,a.transformMat4$1=Na,a.transformQuat=vc,a.transitionTileAABBinECEF=k2,a.translate=Mu,a.transpose=function(i,t){if(i===t){var n=t[1],l=t[2],h=t[5];i[1]=t[3],i[2]=t[6],i[3]=n,i[5]=t[7],i[6]=l,i[7]=h}else i[0]=t[0],i[1]=t[3],i[2]=t[6],i[3]=t[1],i[4]=t[4],i[5]=t[7],i[6]=t[2],i[7]=t[5],i[8]=t[8];return i},a.triggerPluginCompletionEvent=Xe,a.uniqueId=yt,a.updateGlobeVertexNormal=function(i,t,n,l,h){const p=5*t+2;i.float32[p+0]=n,i.float32[p+1]=l,i.float32[p+2]=h},a.validateCustomStyleLayer=function(i){const t=[],n=i.id;return n===void 0&&t.push({message:`layers.${n}: missing required property "id"`}),i.render===void 0&&t.push({message:`layers.${n}: missing required method "render"`}),i.renderingMode&&i.renderingMode!=="2d"&&i.renderingMode!=="3d"&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},a.validateFilter=i=>p0(ul(i)),a.validateFog=i=>p0(mu(i)),a.validateLayer=i=>p0(I_(i)),a.validateLight=i=>p0(sc(i)),a.validateSource=i=>p0(cl(i)),a.validateStyle=fu,a.validateTerrain=i=>p0(k_(i)),a.values=xe,a.vectorTile=Gh,a.version=Z,a.warnOnce=_r,a.window=j,a.wrap=de}),J(["./shared"],function(a){function j(Fe){if(typeof Fe=="number"||typeof Fe=="boolean"||typeof Fe=="string"||Fe==null)return JSON.stringify(Fe);if(Array.isArray(Fe)){let he="[";for(const De of Fe)he+=`${j(De)},`;return`${he}]`}let oe="{";for(const he of Object.keys(Fe).sort())oe+=`${he}:${j(Fe[he])},`;return`${oe}}`}function Z(Fe){let oe="";for(const he of a.refProperties)oe+=`/${j(Fe[he])}`;return oe}class ye{constructor(oe){this.keyCache={},oe&&this.replace(oe)}replace(oe){this._layerConfigs={},this._layers={},this.update(oe,[])}update(oe,he){for(const $e of oe)this._layerConfigs[$e.id]=$e,(this._layers[$e.id]=a.createStyleLayer($e)).compileFilter(),this.keyCache[$e.id]&&delete this.keyCache[$e.id];for(const $e of he)delete this.keyCache[$e],delete this._layerConfigs[$e],delete this._layers[$e];this.familiesBySource={};const De=function($e,ft){const Dt={};for(let vt=0;vt<$e.length;vt++){const Rt=ft&&ft[$e[vt].id]||Z($e[vt]);ft&&(ft[$e[vt].id]=Rt);let vi=Dt[Rt];vi||(vi=Dt[Rt]=[]),vi.push($e[vt])}const It=[];for(const vt in Dt)It.push(Dt[vt]);return It}(a.values(this._layerConfigs),this.keyCache);for(const $e of De){const ft=$e.map(on=>this._layers[on.id]),Dt=ft[0];if(Dt.visibility==="none")continue;const It=Dt.source||"";let vt=this.familiesBySource[It];vt||(vt=this.familiesBySource[It]={});const Rt=Dt.sourceLayer||"_geojsonTileLayer";let vi=vt[Rt];vi||(vi=vt[Rt]=[]),vi.push(ft)}}}class me{loadTile(oe,he){const{uid:De,encoding:$e,rawImageData:ft,padding:Dt,buildQuadTree:It}=oe,vt=a.window.ImageBitmap&&ft instanceof a.window.ImageBitmap?this.getImageData(ft,Dt):ft;he(null,new a.DEMData(De,vt,$e,Dt<1,It))}getImageData(oe,he){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(oe.width,oe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=oe.width,this.offscreenCanvas.height=oe.height,this.offscreenCanvasContext.drawImage(oe,0,0,oe.width,oe.height);const De=this.offscreenCanvasContext.getImageData(-he,-he,oe.width+2*he,oe.height+2*he);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),De}}var rt=function Fe(oe,he){var De,$e=oe&&oe.type;if($e==="FeatureCollection")for(De=0;De<oe.features.length;De++)Fe(oe.features[De],he);else if($e==="GeometryCollection")for(De=0;De<oe.geometries.length;De++)Fe(oe.geometries[De],he);else if($e==="Feature")Fe(oe.geometry,he);else if($e==="Polygon")ht(oe.coordinates,he);else if($e==="MultiPolygon")for(De=0;De<oe.coordinates.length;De++)ht(oe.coordinates[De],he);return oe};function ht(Fe,oe){if(Fe.length!==0){Ht(Fe[0],oe);for(var he=1;he<Fe.length;he++)Ht(Fe[he],!oe)}}function Ht(Fe,oe){for(var he=0,De=0,$e=0,ft=Fe.length,Dt=ft-1;$e<ft;Dt=$e++){var It=(Fe[$e][0]-Fe[Dt][0])*(Fe[Dt][1]+Fe[$e][1]),vt=he+It;De+=Math.abs(he)>=Math.abs(It)?he-vt+It:It-vt+he,he=vt}he+De>=0!=!!oe&&Fe.reverse()}const Se=a.VectorTileFeature.prototype.toGeoJSON;class Be{constructor(oe){this._feature=oe,this.extent=a.EXTENT,this.type=oe.type,this.properties=oe.tags,"id"in oe&&!isNaN(oe.id)&&(this.id=parseInt(oe.id,10))}loadGeometry(){if(this._feature.type===1){const oe=[];for(const he of this._feature.geometry)oe.push([new a.pointGeometry(he[0],he[1])]);return oe}{const oe=[];for(const he of this._feature.geometry){const De=[];for(const $e of he)De.push(new a.pointGeometry($e[0],$e[1]));oe.push(De)}return oe}}toGeoJSON(oe,he,De){return Se.call(this,oe,he,De)}}class Gt{constructor(oe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=oe.length,this._features=oe}feature(oe){return new Be(this._features[oe])}}var xt={exports:{}},fi=a.pointGeometry,Fi=a.vectorTile.VectorTileFeature,Me=it;function it(Fe,oe){this.options=oe||{},this.features=Fe,this.length=Fe.length}function ri(Fe,oe){this.id=typeof Fe.id=="number"?Fe.id:void 0,this.type=Fe.type,this.rawGeometry=Fe.type===1?[Fe.geometry]:Fe.geometry,this.properties=Fe.tags,this.extent=oe||4096}it.prototype.feature=function(Fe){return new ri(this.features[Fe],this.options.extent)},ri.prototype.loadGeometry=function(){var Fe=this.rawGeometry;this.geometry=[];for(var oe=0;oe<Fe.length;oe++){for(var he=Fe[oe],De=[],$e=0;$e<he.length;$e++)De.push(new fi(he[$e][0],he[$e][1]));this.geometry.push(De)}return this.geometry},ri.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Fe=this.geometry,oe=1/0,he=-1/0,De=1/0,$e=-1/0,ft=0;ft<Fe.length;ft++)for(var Dt=Fe[ft],It=0;It<Dt.length;It++){var vt=Dt[It];oe=Math.min(oe,vt.x),he=Math.max(he,vt.x),De=Math.min(De,vt.y),$e=Math.max($e,vt.y)}return[oe,De,he,$e]},ri.prototype.toGeoJSON=Fi.prototype.toGeoJSON;var Mi=a.pbf,si=Me;function Ze(Fe){var oe=new Mi;return function(he,De){for(var $e in he.layers)De.writeMessage(3,ze,he.layers[$e])}(Fe,oe),oe.finish()}function ze(Fe,oe){var he;oe.writeVarintField(15,Fe.version||1),oe.writeStringField(1,Fe.name||""),oe.writeVarintField(5,Fe.extent||4096);var De={keys:[],values:[],keycache:{},valuecache:{}};for(he=0;he<Fe.length;he++)De.feature=Fe.feature(he),oe.writeMessage(2,Kt,De);var $e=De.keys;for(he=0;he<$e.length;he++)oe.writeStringField(3,$e[he]);var ft=De.values;for(he=0;he<ft.length;he++)oe.writeMessage(4,de,ft[he])}function Kt(Fe,oe){var he=Fe.feature;he.id!==void 0&&oe.writeVarintField(1,he.id),oe.writeMessage(2,ji,Fe),oe.writeVarintField(3,he.type),oe.writeMessage(4,ce,he)}function ji(Fe,oe){var he=Fe.feature,De=Fe.keys,$e=Fe.values,ft=Fe.keycache,Dt=Fe.valuecache;for(var It in he.properties){var vt=he.properties[It],Rt=ft[It];if(vt!==null){Rt===void 0&&(De.push(It),ft[It]=Rt=De.length-1),oe.writeVarint(Rt);var vi=typeof vt;vi!=="string"&&vi!=="boolean"&&vi!=="number"&&(vt=JSON.stringify(vt));var on=vi+":"+vt,Di=Dt[on];Di===void 0&&($e.push(vt),Dt[on]=Di=$e.length-1),oe.writeVarint(Di)}}}function oi(Fe,oe){return(oe<<3)+(7&Fe)}function Y(Fe){return Fe<<1^Fe>>31}function ce(Fe,oe){for(var he=Fe.loadGeometry(),De=Fe.type,$e=0,ft=0,Dt=he.length,It=0;It<Dt;It++){var vt=he[It],Rt=1;De===1&&(Rt=vt.length),oe.writeVarint(oi(1,Rt));for(var vi=De===3?vt.length-1:vt.length,on=0;on<vi;on++){on===1&&De!==1&&oe.writeVarint(oi(2,vi-1));var Di=vt[on].x-$e,Vn=vt[on].y-ft;oe.writeVarint(Y(Di)),oe.writeVarint(Y(Vn)),$e+=Di,ft+=Vn}De===3&&oe.writeVarint(oi(7,1))}}function de(Fe,oe){var he=typeof Fe;he==="string"?oe.writeStringField(1,Fe):he==="boolean"?oe.writeBooleanField(7,Fe):he==="number"&&(Fe%1!=0?oe.writeDoubleField(3,Fe):Fe<0?oe.writeSVarintField(6,Fe):oe.writeVarintField(5,Fe))}function be(Fe,oe,he,De,$e,ft){if($e-De<=he)return;const Dt=De+$e>>1;xe(Fe,oe,Dt,De,$e,ft%2),be(Fe,oe,he,De,Dt-1,ft+1),be(Fe,oe,he,Dt+1,$e,ft+1)}function xe(Fe,oe,he,De,$e,ft){for(;$e>De;){if($e-De>600){const Rt=$e-De+1,vi=he-De+1,on=Math.log(Rt),Di=.5*Math.exp(2*on/3),Vn=.5*Math.sqrt(on*Di*(Rt-Di)/Rt)*(vi-Rt/2<0?-1:1);xe(Fe,oe,he,Math.max(De,Math.floor(he-vi*Di/Rt+Vn)),Math.min($e,Math.floor(he+(Rt-vi)*Di/Rt+Vn)),ft)}const Dt=oe[2*he+ft];let It=De,vt=$e;for(nt(Fe,oe,De,he),oe[2*$e+ft]>Dt&&nt(Fe,oe,De,$e);It<vt;){for(nt(Fe,oe,It,vt),It++,vt--;oe[2*It+ft]<Dt;)It++;for(;oe[2*vt+ft]>Dt;)vt--}oe[2*De+ft]===Dt?nt(Fe,oe,De,vt):(vt++,nt(Fe,oe,vt,$e)),vt<=he&&(De=vt+1),he<=vt&&($e=vt-1)}}function nt(Fe,oe,he,De){dt(Fe,he,De),dt(oe,2*he,2*De),dt(oe,2*he+1,2*De+1)}function dt(Fe,oe,he){const De=Fe[oe];Fe[oe]=Fe[he],Fe[he]=De}function yt(Fe,oe,he,De){const $e=Fe-he,ft=oe-De;return $e*$e+ft*ft}xt.exports=Ze,xt.exports.fromVectorTileJs=Ze,xt.exports.fromGeojsonVt=function(Fe,oe){oe=oe||{};var he={};for(var De in Fe)he[De]=new si(Fe[De].features,oe),he[De].name=De,he[De].version=oe.version,he[De].extent=oe.extent;return Ze({layers:he})},xt.exports.GeoJSONWrapper=si;const Vt=Fe=>Fe[0],mt=Fe=>Fe[1];class Ot{constructor(oe,he=Vt,De=mt,$e=64,ft=Float64Array){this.nodeSize=$e,this.points=oe;const Dt=oe.length<65536?Uint16Array:Uint32Array,It=this.ids=new Dt(oe.length),vt=this.coords=new ft(2*oe.length);for(let Rt=0;Rt<oe.length;Rt++)It[Rt]=Rt,vt[2*Rt]=he(oe[Rt]),vt[2*Rt+1]=De(oe[Rt]);be(It,vt,$e,0,It.length-1,0)}range(oe,he,De,$e){return function(ft,Dt,It,vt,Rt,vi,on){const Di=[0,ft.length-1,0],Vn=[];let Jn,Dn;for(;Di.length;){const ir=Di.pop(),Cr=Di.pop(),Br=Di.pop();if(Cr-Br<=on){for(let Gr=Br;Gr<=Cr;Gr++)Jn=Dt[2*Gr],Dn=Dt[2*Gr+1],Jn>=It&&Jn<=Rt&&Dn>=vt&&Dn<=vi&&Vn.push(ft[Gr]);continue}const On=Math.floor((Br+Cr)/2);Jn=Dt[2*On],Dn=Dt[2*On+1],Jn>=It&&Jn<=Rt&&Dn>=vt&&Dn<=vi&&Vn.push(ft[On]);const $r=(ir+1)%2;(ir===0?It<=Jn:vt<=Dn)&&(Di.push(Br),Di.push(On-1),Di.push($r)),(ir===0?Rt>=Jn:vi>=Dn)&&(Di.push(On+1),Di.push(Cr),Di.push($r))}return Vn}(this.ids,this.coords,oe,he,De,$e,this.nodeSize)}within(oe,he,De){return function($e,ft,Dt,It,vt,Rt){const vi=[0,$e.length-1,0],on=[],Di=vt*vt;for(;vi.length;){const Vn=vi.pop(),Jn=vi.pop(),Dn=vi.pop();if(Jn-Dn<=Rt){for(let $r=Dn;$r<=Jn;$r++)yt(ft[2*$r],ft[2*$r+1],Dt,It)<=Di&&on.push($e[$r]);continue}const ir=Math.floor((Dn+Jn)/2),Cr=ft[2*ir],Br=ft[2*ir+1];yt(Cr,Br,Dt,It)<=Di&&on.push($e[ir]);const On=(Vn+1)%2;(Vn===0?Dt-vt<=Cr:It-vt<=Br)&&(vi.push(Dn),vi.push(ir-1),vi.push(On)),(Vn===0?Dt+vt>=Cr:It+vt>=Br)&&(vi.push(ir+1),vi.push(Jn),vi.push(On))}return on}(this.ids,this.coords,oe,he,De,this.nodeSize)}}const Yi={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Fe=>Fe},Gi=Math.fround||(an=new Float32Array(1),Fe=>(an[0]=+Fe,an[0]));var an;class sr{constructor(oe){this.options=Ne(Object.create(Yi),oe),this.trees=new Array(this.options.maxZoom+1)}load(oe){const{log:he,minZoom:De,maxZoom:$e,nodeSize:ft}=this.options;he&&console.time("total time");const Dt=`prepare ${oe.length} points`;he&&console.time(Dt),this.points=oe;let It=[];for(let vt=0;vt<oe.length;vt++)oe[vt].geometry&&It.push(Ir(oe[vt],vt));this.trees[$e+1]=new Ot(It,st,Je,ft,Float32Array),he&&console.timeEnd(Dt);for(let vt=$e;vt>=De;vt--){const Rt=+Date.now();It=this._cluster(It,vt),this.trees[vt]=new Ot(It,st,Je,ft,Float32Array),he&&console.log("z%d: %d clusters in %dms",vt,It.length,+Date.now()-Rt)}return he&&console.timeEnd("total time"),this}getClusters(oe,he){let De=((oe[0]+180)%360+360)%360-180;const $e=Math.max(-90,Math.min(90,oe[1]));let ft=oe[2]===180?180:((oe[2]+180)%360+360)%360-180;const Dt=Math.max(-90,Math.min(90,oe[3]));if(oe[2]-oe[0]>=360)De=-180,ft=180;else if(De>ft){const vi=this.getClusters([De,$e,180,Dt],he),on=this.getClusters([-180,$e,ft,Dt],he);return vi.concat(on)}const It=this.trees[this._limitZoom(he)],vt=It.range(Wn(De),Li(Dt),Wn(ft),Li($e)),Rt=[];for(const vi of vt){const on=It.points[vi];Rt.push(on.numPoints?_r(on):this.points[on.index])}return Rt}getChildren(oe){const he=this._getOriginId(oe),De=this._getOriginZoom(oe),$e="No cluster with the specified id.",ft=this.trees[De];if(!ft)throw new Error($e);const Dt=ft.points[he];if(!Dt)throw new Error($e);const It=this.options.radius/(this.options.extent*Math.pow(2,De-1)),vt=ft.within(Dt.x,Dt.y,It),Rt=[];for(const vi of vt){const on=ft.points[vi];on.parentId===oe&&Rt.push(on.numPoints?_r(on):this.points[on.index])}if(Rt.length===0)throw new Error($e);return Rt}getLeaves(oe,he,De){const $e=[];return this._appendLeaves($e,oe,he=he||10,De=De||0,0),$e}getTile(oe,he,De){const $e=this.trees[this._limitZoom(oe)],ft=Math.pow(2,oe),{extent:Dt,radius:It}=this.options,vt=It/Dt,Rt=(De-vt)/ft,vi=(De+1+vt)/ft,on={features:[]};return this._addTileFeatures($e.range((he-vt)/ft,Rt,(he+1+vt)/ft,vi),$e.points,he,De,ft,on),he===0&&this._addTileFeatures($e.range(1-vt/ft,Rt,1,vi),$e.points,ft,De,ft,on),he===ft-1&&this._addTileFeatures($e.range(0,Rt,vt/ft,vi),$e.points,-1,De,ft,on),on.features.length?on:null}getClusterExpansionZoom(oe){let he=this._getOriginZoom(oe)-1;for(;he<=this.options.maxZoom;){const De=this.getChildren(oe);if(he++,De.length!==1)break;oe=De[0].properties.cluster_id}return he}_appendLeaves(oe,he,De,$e,ft){const Dt=this.getChildren(he);for(const It of Dt){const vt=It.properties;if(vt&&vt.cluster?ft+vt.point_count<=$e?ft+=vt.point_count:ft=this._appendLeaves(oe,vt.cluster_id,De,$e,ft):ft<$e?ft++:oe.push(It),oe.length===De)break}return ft}_addTileFeatures(oe,he,De,$e,ft,Dt){for(const It of oe){const vt=he[It],Rt=vt.numPoints;let vi,on,Di;if(Rt)vi=Ar(vt),on=vt.x,Di=vt.y;else{const Dn=this.points[vt.index];vi=Dn.properties,on=Wn(Dn.geometry.coordinates[0]),Di=Li(Dn.geometry.coordinates[1])}const Vn={type:1,geometry:[[Math.round(this.options.extent*(on*ft-De)),Math.round(this.options.extent*(Di*ft-$e))]],tags:vi};let Jn;Rt?Jn=vt.id:this.options.generateId?Jn=vt.index:this.points[vt.index].id&&(Jn=this.points[vt.index].id),Jn!==void 0&&(Vn.id=Jn),Dt.features.push(Vn)}}_limitZoom(oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+oe),this.options.maxZoom+1))}_cluster(oe,he){const De=[],{radius:$e,extent:ft,reduce:Dt,minPoints:It}=this.options,vt=$e/(ft*Math.pow(2,he));for(let Rt=0;Rt<oe.length;Rt++){const vi=oe[Rt];if(vi.zoom<=he)continue;vi.zoom=he;const on=this.trees[he+1],Di=on.within(vi.x,vi.y,vt),Vn=vi.numPoints||1;let Jn=Vn;for(const Dn of Di){const ir=on.points[Dn];ir.zoom>he&&(Jn+=ir.numPoints||1)}if(Jn>Vn&&Jn>=It){let Dn=vi.x*Vn,ir=vi.y*Vn,Cr=Dt&&Vn>1?this._map(vi,!0):null;const Br=(Rt<<5)+(he+1)+this.points.length;for(const On of Di){const $r=on.points[On];if($r.zoom<=he)continue;$r.zoom=he;const Gr=$r.numPoints||1;Dn+=$r.x*Gr,ir+=$r.y*Gr,$r.parentId=Br,Dt&&(Cr||(Cr=this._map(vi,!0)),Dt(Cr,this._map($r)))}vi.parentId=Br,De.push(Er(Dn/Jn,ir/Jn,Br,Jn,Cr))}else if(De.push(vi),Jn>1)for(const Dn of Di){const ir=on.points[Dn];ir.zoom<=he||(ir.zoom=he,De.push(ir))}}return De}_getOriginId(oe){return oe-this.points.length>>5}_getOriginZoom(oe){return(oe-this.points.length)%32}_map(oe,he){if(oe.numPoints)return he?Ne({},oe.properties):oe.properties;const De=this.points[oe.index].properties,$e=this.options.map(De);return he&&$e===De?Ne({},$e):$e}}function Er(Fe,oe,he,De,$e){return{x:Gi(Fe),y:Gi(oe),zoom:1/0,id:he,parentId:-1,numPoints:De,properties:$e}}function Ir(Fe,oe){const[he,De]=Fe.geometry.coordinates;return{x:Gi(Wn(he)),y:Gi(Li(De)),zoom:1/0,index:oe,parentId:-1}}function _r(Fe){return{type:"Feature",id:Fe.id,properties:Ar(Fe),geometry:{type:"Point",coordinates:[(oe=Fe.x,360*(oe-.5)),Ie(Fe.y)]}};var oe}function Ar(Fe){const oe=Fe.numPoints,he=oe>=1e4?`${Math.round(oe/1e3)}k`:oe>=1e3?Math.round(oe/100)/10+"k":oe;return Ne(Ne({},Fe.properties),{cluster:!0,cluster_id:Fe.id,point_count:oe,point_count_abbreviated:he})}function Wn(Fe){return Fe/360+.5}function Li(Fe){const oe=Math.sin(Fe*Math.PI/180),he=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return he<0?0:he>1?1:he}function Ie(Fe){const oe=(180-360*Fe)*Math.PI/180;return 360*Math.atan(Math.exp(oe))/Math.PI-90}function Ne(Fe,oe){for(const he in oe)Fe[he]=oe[he];return Fe}function st(Fe){return Fe.x}function Je(Fe){return Fe.y}function ot(Fe,oe,he,De){for(var $e,ft=De,Dt=he-oe>>1,It=he-oe,vt=Fe[oe],Rt=Fe[oe+1],vi=Fe[he],on=Fe[he+1],Di=oe+3;Di<he;Di+=3){var Vn=Tt(Fe[Di],Fe[Di+1],vt,Rt,vi,on);if(Vn>ft)$e=Di,ft=Vn;else if(Vn===ft){var Jn=Math.abs(Di-Dt);Jn<It&&($e=Di,It=Jn)}}ft>De&&($e-oe>3&&ot(Fe,oe,$e,De),Fe[$e+2]=ft,he-$e>3&&ot(Fe,$e,he,De))}function Tt(Fe,oe,he,De,$e,ft){var Dt=$e-he,It=ft-De;if(Dt!==0||It!==0){var vt=((Fe-he)*Dt+(oe-De)*It)/(Dt*Dt+It*It);vt>1?(he=$e,De=ft):vt>0&&(he+=Dt*vt,De+=It*vt)}return(Dt=Fe-he)*Dt+(It=oe-De)*It}function Pt(Fe,oe,he,De){var $e={id:Fe===void 0?null:Fe,type:oe,geometry:he,tags:De,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ft){var Dt=ft.geometry,It=ft.type;if(It==="Point"||It==="MultiPoint"||It==="LineString")bt(ft,Dt);else if(It==="Polygon"||It==="MultiLineString")for(var vt=0;vt<Dt.length;vt++)bt(ft,Dt[vt]);else if(It==="MultiPolygon")for(vt=0;vt<Dt.length;vt++)for(var Rt=0;Rt<Dt[vt].length;Rt++)bt(ft,Dt[vt][Rt])}($e),$e}function bt(Fe,oe){for(var he=0;he<oe.length;he+=3)Fe.minX=Math.min(Fe.minX,oe[he]),Fe.minY=Math.min(Fe.minY,oe[he+1]),Fe.maxX=Math.max(Fe.maxX,oe[he]),Fe.maxY=Math.max(Fe.maxY,oe[he+1])}function ii(Fe,oe,he,De){if(oe.geometry){var $e=oe.geometry.coordinates,ft=oe.geometry.type,Dt=Math.pow(he.tolerance/((1<<he.maxZoom)*he.extent),2),It=[],vt=oe.id;if(he.promoteId?vt=oe.properties[he.promoteId]:he.generateId&&(vt=De||0),ft==="Point")Ui($e,It);else if(ft==="MultiPoint")for(var Rt=0;Rt<$e.length;Rt++)Ui($e[Rt],It);else if(ft==="LineString")zi($e,It,Dt,!1);else if(ft==="MultiLineString"){if(he.lineMetrics){for(Rt=0;Rt<$e.length;Rt++)zi($e[Rt],It=[],Dt,!1),Fe.push(Pt(vt,"LineString",It,oe.properties));return}Mn($e,It,Dt,!1)}else if(ft==="Polygon")Mn($e,It,Dt,!0);else{if(ft!=="MultiPolygon"){if(ft==="GeometryCollection"){for(Rt=0;Rt<oe.geometry.geometries.length;Rt++)ii(Fe,{id:vt,geometry:oe.geometry.geometries[Rt],properties:oe.properties},he,De);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Rt=0;Rt<$e.length;Rt++){var vi=[];Mn($e[Rt],vi,Dt,!0),It.push(vi)}}Fe.push(Pt(vt,ft,It,oe.properties))}}function Ui(Fe,oe){oe.push(Hn(Fe[0])),oe.push(zn(Fe[1])),oe.push(0)}function zi(Fe,oe,he,De){for(var $e,ft,Dt=0,It=0;It<Fe.length;It++){var vt=Hn(Fe[It][0]),Rt=zn(Fe[It][1]);oe.push(vt),oe.push(Rt),oe.push(0),It>0&&(Dt+=De?($e*Rt-vt*ft)/2:Math.sqrt(Math.pow(vt-$e,2)+Math.pow(Rt-ft,2))),$e=vt,ft=Rt}var vi=oe.length-3;oe[2]=1,ot(oe,0,vi,he),oe[vi+2]=1,oe.size=Math.abs(Dt),oe.start=0,oe.end=oe.size}function Mn(Fe,oe,he,De){for(var $e=0;$e<Fe.length;$e++){var ft=[];zi(Fe[$e],ft,he,De),oe.push(ft)}}function Hn(Fe){return Fe/360+.5}function zn(Fe){var oe=Math.sin(Fe*Math.PI/180),he=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return he<0?0:he>1?1:he}function Ln(Fe,oe,he,De,$e,ft,Dt,It){if(De/=oe,ft>=(he/=oe)&&Dt<De)return Fe;if(Dt<he||ft>=De)return null;for(var vt=[],Rt=0;Rt<Fe.length;Rt++){var vi=Fe[Rt],on=vi.geometry,Di=vi.type,Vn=$e===0?vi.minX:vi.minY,Jn=$e===0?vi.maxX:vi.maxY;if(Vn>=he&&Jn<De)vt.push(vi);else if(!(Jn<he||Vn>=De)){var Dn=[];if(Di==="Point"||Di==="MultiPoint")In(on,Dn,he,De,$e);else if(Di==="LineString")tr(on,Dn,he,De,$e,!1,It.lineMetrics);else if(Di==="MultiLineString")Or(on,Dn,he,De,$e,!1);else if(Di==="Polygon")Or(on,Dn,he,De,$e,!0);else if(Di==="MultiPolygon")for(var ir=0;ir<on.length;ir++){var Cr=[];Or(on[ir],Cr,he,De,$e,!0),Cr.length&&Dn.push(Cr)}if(Dn.length){if(It.lineMetrics&&Di==="LineString"){for(ir=0;ir<Dn.length;ir++)vt.push(Pt(vi.id,Di,Dn[ir],vi.tags));continue}Di!=="LineString"&&Di!=="MultiLineString"||(Dn.length===1?(Di="LineString",Dn=Dn[0]):Di="MultiLineString"),Di!=="Point"&&Di!=="MultiPoint"||(Di=Dn.length===3?"Point":"MultiPoint"),vt.push(Pt(vi.id,Di,Dn,vi.tags))}}}return vt.length?vt:null}function In(Fe,oe,he,De,$e){for(var ft=0;ft<Fe.length;ft+=3){var Dt=Fe[ft+$e];Dt>=he&&Dt<=De&&(oe.push(Fe[ft]),oe.push(Fe[ft+1]),oe.push(Fe[ft+2]))}}function tr(Fe,oe,he,De,$e,ft,Dt){for(var It,vt,Rt=ss(Fe),vi=$e===0?fo:Vi,on=Fe.start,Di=0;Di<Fe.length-3;Di+=3){var Vn=Fe[Di],Jn=Fe[Di+1],Dn=Fe[Di+2],ir=Fe[Di+3],Cr=Fe[Di+4],Br=$e===0?Vn:Jn,On=$e===0?ir:Cr,$r=!1;Dt&&(It=Math.sqrt(Math.pow(Vn-ir,2)+Math.pow(Jn-Cr,2))),Br<he?On>he&&(vt=vi(Rt,Vn,Jn,ir,Cr,he),Dt&&(Rt.start=on+It*vt)):Br>De?On<De&&(vt=vi(Rt,Vn,Jn,ir,Cr,De),Dt&&(Rt.start=on+It*vt)):_o(Rt,Vn,Jn,Dn),On<he&&Br>=he&&(vt=vi(Rt,Vn,Jn,ir,Cr,he),$r=!0),On>De&&Br<=De&&(vt=vi(Rt,Vn,Jn,ir,Cr,De),$r=!0),!ft&&$r&&(Dt&&(Rt.end=on+It*vt),oe.push(Rt),Rt=ss(Fe)),Dt&&(on+=It)}var Gr=Fe.length-3;Vn=Fe[Gr],Jn=Fe[Gr+1],Dn=Fe[Gr+2],(Br=$e===0?Vn:Jn)>=he&&Br<=De&&_o(Rt,Vn,Jn,Dn),Gr=Rt.length-3,ft&&Gr>=3&&(Rt[Gr]!==Rt[0]||Rt[Gr+1]!==Rt[1])&&_o(Rt,Rt[0],Rt[1],Rt[2]),Rt.length&&oe.push(Rt)}function ss(Fe){var oe=[];return oe.size=Fe.size,oe.start=Fe.start,oe.end=Fe.end,oe}function Or(Fe,oe,he,De,$e,ft){for(var Dt=0;Dt<Fe.length;Dt++)tr(Fe[Dt],oe,he,De,$e,ft,!1)}function _o(Fe,oe,he,De){Fe.push(oe),Fe.push(he),Fe.push(De)}function fo(Fe,oe,he,De,$e,ft){var Dt=(ft-oe)/(De-oe);return Fe.push(ft),Fe.push(he+($e-he)*Dt),Fe.push(1),Dt}function Vi(Fe,oe,he,De,$e,ft){var Dt=(ft-he)/($e-he);return Fe.push(oe+(De-oe)*Dt),Fe.push(ft),Fe.push(1),Dt}function Mr(Fe,oe){for(var he=[],De=0;De<Fe.length;De++){var $e,ft=Fe[De],Dt=ft.type;if(Dt==="Point"||Dt==="MultiPoint"||Dt==="LineString")$e=bs(ft.geometry,oe);else if(Dt==="MultiLineString"||Dt==="Polygon"){$e=[];for(var It=0;It<ft.geometry.length;It++)$e.push(bs(ft.geometry[It],oe))}else if(Dt==="MultiPolygon")for($e=[],It=0;It<ft.geometry.length;It++){for(var vt=[],Rt=0;Rt<ft.geometry[It].length;Rt++)vt.push(bs(ft.geometry[It][Rt],oe));$e.push(vt)}he.push(Pt(ft.id,Dt,$e,ft.tags))}return he}function bs(Fe,oe){var he=[];he.size=Fe.size,Fe.start!==void 0&&(he.start=Fe.start,he.end=Fe.end);for(var De=0;De<Fe.length;De+=3)he.push(Fe[De]+oe,Fe[De+1],Fe[De+2]);return he}function Ks(Fe,oe){if(Fe.transformed)return Fe;var he,De,$e,ft=1<<Fe.z,Dt=Fe.x,It=Fe.y;for(he=0;he<Fe.features.length;he++){var vt=Fe.features[he],Rt=vt.geometry,vi=vt.type;if(vt.geometry=[],vi===1)for(De=0;De<Rt.length;De+=2)vt.geometry.push(yo(Rt[De],Rt[De+1],oe,ft,Dt,It));else for(De=0;De<Rt.length;De++){var on=[];for($e=0;$e<Rt[De].length;$e+=2)on.push(yo(Rt[De][$e],Rt[De][$e+1],oe,ft,Dt,It));vt.geometry.push(on)}}return Fe.transformed=!0,Fe}function yo(Fe,oe,he,De,$e,ft){return[Math.round(he*(Fe*De-$e)),Math.round(he*(oe*De-ft))]}function es(Fe,oe,he,De,$e){for(var ft=oe===$e.maxZoom?0:$e.tolerance/((1<<oe)*$e.extent),Dt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:he,y:De,z:oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},It=0;It<Fe.length;It++){Dt.numFeatures++,Ns(Dt,Fe[It],ft,$e);var vt=Fe[It].minX,Rt=Fe[It].minY,vi=Fe[It].maxX,on=Fe[It].maxY;vt<Dt.minX&&(Dt.minX=vt),Rt<Dt.minY&&(Dt.minY=Rt),vi>Dt.maxX&&(Dt.maxX=vi),on>Dt.maxY&&(Dt.maxY=on)}return Dt}function Ns(Fe,oe,he,De){var $e=oe.geometry,ft=oe.type,Dt=[];if(ft==="Point"||ft==="MultiPoint")for(var It=0;It<$e.length;It+=3)Dt.push($e[It]),Dt.push($e[It+1]),Fe.numPoints++,Fe.numSimplified++;else if(ft==="LineString")dr(Dt,$e,Fe,he,!1,!1);else if(ft==="MultiLineString"||ft==="Polygon")for(It=0;It<$e.length;It++)dr(Dt,$e[It],Fe,he,ft==="Polygon",It===0);else if(ft==="MultiPolygon")for(var vt=0;vt<$e.length;vt++){var Rt=$e[vt];for(It=0;It<Rt.length;It++)dr(Dt,Rt[It],Fe,he,!0,It===0)}if(Dt.length){var vi=oe.tags||null;if(ft==="LineString"&&De.lineMetrics){for(var on in vi={},oe.tags)vi[on]=oe.tags[on];vi.mapbox_clip_start=$e.start/$e.size,vi.mapbox_clip_end=$e.end/$e.size}var Di={geometry:Dt,type:ft==="Polygon"||ft==="MultiPolygon"?3:ft==="LineString"||ft==="MultiLineString"?2:1,tags:vi};oe.id!==null&&(Di.id=oe.id),Fe.features.push(Di)}}function dr(Fe,oe,he,De,$e,ft){var Dt=De*De;if(De>0&&oe.size<($e?Dt:De))he.numPoints+=oe.length/3;else{for(var It=[],vt=0;vt<oe.length;vt+=3)(De===0||oe[vt+2]>Dt)&&(he.numSimplified++,It.push(oe[vt]),It.push(oe[vt+1])),he.numPoints++;$e&&function(Rt,vi){for(var on=0,Di=0,Vn=Rt.length,Jn=Vn-2;Di<Vn;Jn=Di,Di+=2)on+=(Rt[Di]-Rt[Jn])*(Rt[Di+1]+Rt[Jn+1]);if(on>0===vi)for(Di=0,Vn=Rt.length;Di<Vn/2;Di+=2){var Dn=Rt[Di],ir=Rt[Di+1];Rt[Di]=Rt[Vn-2-Di],Rt[Di+1]=Rt[Vn-1-Di],Rt[Vn-2-Di]=Dn,Rt[Vn-1-Di]=ir}}(It,ft),Fe.push(It)}}function Rs(Fe,oe){var he=(oe=this.options=function($e,ft){for(var Dt in ft)$e[Dt]=ft[Dt];return $e}(Object.create(this.options),oe)).debug;if(he&&console.time("preprocess data"),oe.maxZoom<0||oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(oe.promoteId&&oe.generateId)throw new Error("promoteId and generateId cannot be used together.");var De=function($e,ft){var Dt=[];if($e.type==="FeatureCollection")for(var It=0;It<$e.features.length;It++)ii(Dt,$e.features[It],ft,It);else ii(Dt,$e.type==="Feature"?$e:{geometry:$e},ft);return Dt}(Fe,oe);this.tiles={},this.tileCoords=[],he&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",oe.indexMaxZoom,oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),De=function($e,ft){var Dt=ft.buffer/ft.extent,It=$e,vt=Ln($e,1,-1-Dt,Dt,0,-1,2,ft),Rt=Ln($e,1,1-Dt,2+Dt,0,-1,2,ft);return(vt||Rt)&&(It=Ln($e,1,-Dt,1+Dt,0,-1,2,ft)||[],vt&&(It=Mr(vt,1).concat(It)),Rt&&(It=It.concat(Mr(Rt,-1)))),It}(De,oe),De.length&&this.splitTile(De,0,0,0),he&&(De.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $s(Fe,oe,he){return 32*((1<<Fe)*he+oe)+Fe}function ro(Fe,oe){const he=Fe.tileID.canonical;if(!this._geoJSONIndex)return oe(null,null);const De=this._geoJSONIndex.getTile(he.z,he.x,he.y);if(!De)return oe(null,null);const $e=new Gt(De.features);let ft=xt.exports($e);ft.byteOffset===0&&ft.byteLength===ft.buffer.byteLength||(ft=new Uint8Array(ft)),oe(null,{vectorTile:$e,rawData:ft.buffer})}Rs.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Rs.prototype.splitTile=function(Fe,oe,he,De,$e,ft,Dt){for(var It=[Fe,oe,he,De],vt=this.options,Rt=vt.debug;It.length;){De=It.pop(),he=It.pop(),oe=It.pop(),Fe=It.pop();var vi=1<<oe,on=$s(oe,he,De),Di=this.tiles[on];if(!Di&&(Rt>1&&console.time("creation"),Di=this.tiles[on]=es(Fe,oe,he,De,vt),this.tileCoords.push({z:oe,x:he,y:De}),Rt)){Rt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",oe,he,De,Di.numFeatures,Di.numPoints,Di.numSimplified),console.timeEnd("creation"));var Vn="z"+oe;this.stats[Vn]=(this.stats[Vn]||0)+1,this.total++}if(Di.source=Fe,$e){if(oe===vt.maxZoom||oe===$e)continue;var Jn=1<<$e-oe;if(he!==Math.floor(ft/Jn)||De!==Math.floor(Dt/Jn))continue}else if(oe===vt.indexMaxZoom||Di.numPoints<=vt.indexMaxPoints)continue;if(Di.source=null,Fe.length!==0){Rt>1&&console.time("clipping");var Dn,ir,Cr,Br,On,$r,Gr=.5*vt.buffer/vt.extent,us=.5-Gr,Ao=.5+Gr,Hs=1+Gr;Dn=ir=Cr=Br=null,On=Ln(Fe,vi,he-Gr,he+Ao,0,Di.minX,Di.maxX,vt),$r=Ln(Fe,vi,he+us,he+Hs,0,Di.minX,Di.maxX,vt),Fe=null,On&&(Dn=Ln(On,vi,De-Gr,De+Ao,1,Di.minY,Di.maxY,vt),ir=Ln(On,vi,De+us,De+Hs,1,Di.minY,Di.maxY,vt),On=null),$r&&(Cr=Ln($r,vi,De-Gr,De+Ao,1,Di.minY,Di.maxY,vt),Br=Ln($r,vi,De+us,De+Hs,1,Di.minY,Di.maxY,vt),$r=null),Rt>1&&console.timeEnd("clipping"),It.push(Dn||[],oe+1,2*he,2*De),It.push(ir||[],oe+1,2*he,2*De+1),It.push(Cr||[],oe+1,2*he+1,2*De),It.push(Br||[],oe+1,2*he+1,2*De+1)}}},Rs.prototype.getTile=function(Fe,oe,he){var De=this.options,$e=De.extent,ft=De.debug;if(Fe<0||Fe>24)return null;var Dt=1<<Fe,It=$s(Fe,oe=(oe%Dt+Dt)%Dt,he);if(this.tiles[It])return Ks(this.tiles[It],$e);ft>1&&console.log("drilling down to z%d-%d-%d",Fe,oe,he);for(var vt,Rt=Fe,vi=oe,on=he;!vt&&Rt>0;)Rt--,vi=Math.floor(vi/2),on=Math.floor(on/2),vt=this.tiles[$s(Rt,vi,on)];return vt&&vt.source?(ft>1&&console.log("found parent tile z%d-%d-%d",Rt,vi,on),ft>1&&console.time("drilling down"),this.splitTile(vt.source,Rt,vi,on,Fe,oe,he),ft>1&&console.timeEnd("drilling down"),this.tiles[It]?Ks(this.tiles[It],$e):null):null};class vs extends a.VectorTileWorkerSource{constructor(oe,he,De,$e,ft){super(oe,he,De,$e,ro),ft&&(this.loadGeoJSON=ft)}loadData(oe,he){const De=oe&&oe.request,$e=De&&De.collectResourceTiming;this.loadGeoJSON(oe,(ft,Dt)=>{if(ft||!Dt)return he(ft);if(typeof Dt!="object")return he(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`));{rt(Dt,!0);try{if(oe.filter){const vt=a.createExpression(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(vt.result==="error")throw new Error(vt.value.map(vi=>`${vi.key}: ${vi.message}`).join(", "));Dt={type:"FeatureCollection",features:Dt.features.filter(vi=>vt.value.evaluate({zoom:0},vi))}}this._geoJSONIndex=oe.cluster?new sr(function({superclusterOptions:vt,clusterProperties:Rt}){if(!Rt||!vt)return vt;const vi={},on={},Di={accumulated:null,zoom:0},Vn={properties:null},Jn=Object.keys(Rt);for(const Dn of Jn){const[ir,Cr]=Rt[Dn],Br=a.createExpression(Cr),On=a.createExpression(typeof ir=="string"?[ir,["accumulated"],["get",Dn]]:ir);vi[Dn]=Br.value,on[Dn]=On.value}return vt.map=Dn=>{Vn.properties=Dn;const ir={};for(const Cr of Jn)ir[Cr]=vi[Cr].evaluate(Di,Vn);return ir},vt.reduce=(Dn,ir)=>{Vn.properties=ir;for(const Cr of Jn)Di.accumulated=Dn[Cr],Dn[Cr]=on[Cr].evaluate(Di,Vn)},vt}(oe)).load(Dt.features):function(vt,Rt){return new Rs(vt,Rt)}(Dt,oe.geojsonVtOptions)}catch(vt){return he(vt)}this.loaded={};const It={};if($e){const vt=a.getPerformanceMeasurement(De);vt&&(It.resourceTiming={},It.resourceTiming[oe.source]=JSON.parse(JSON.stringify(vt)))}he(null,It)}})}reloadTile(oe,he){const De=this.loaded;return De&&De[oe.uid]?super.reloadTile(oe,he):this.loadTile(oe,he)}loadGeoJSON(oe,he){if(oe.request)a.getJSON(oe.request,he);else{if(typeof oe.data!="string")return he(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`));try{return he(null,JSON.parse(oe.data))}catch{return he(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(oe,he){try{he(null,this._geoJSONIndex.getClusterExpansionZoom(oe.clusterId))}catch(De){he(De)}}getClusterChildren(oe,he){try{he(null,this._geoJSONIndex.getChildren(oe.clusterId))}catch(De){he(De)}}getClusterLeaves(oe,he){try{he(null,this._geoJSONIndex.getLeaves(oe.clusterId,oe.limit,oe.offset))}catch(De){he(De)}}}class Ue{constructor(oe){this.self=oe,this.actor=new a.Actor(oe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:vs},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(he,De)=>{if(this.workerSourceTypes[he])throw new Error(`Worker source with name "${he}" already registered.`);this.workerSourceTypes[he]=De},this.self.registerRTLTextPlugin=he=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=he.applyArabicShaping,a.plugin.processBidirectionalText=he.processBidirectionalText,a.plugin.processStyledBidirectionalText=he.processStyledBidirectionalText}}clearCaches(oe,he,De){delete this.layerIndexes[oe],delete this.availableImages[oe],delete this.workerSources[oe],delete this.demWorkerSources[oe],De()}checkIfReady(oe,he,De){De()}setReferrer(oe,he){this.referrer=he}spriteLoaded(oe,he){this.isSpriteLoaded[oe]=he;for(const De in this.workerSources[oe]){const $e=this.workerSources[oe][De];for(const ft in $e)$e[ft]instanceof a.VectorTileWorkerSource&&($e[ft].isSpriteLoaded=he,$e[ft].fire(new a.Event("isSpriteLoaded")))}}setImages(oe,he,De){this.availableImages[oe]=he;for(const $e in this.workerSources[oe]){const ft=this.workerSources[oe][$e];for(const Dt in ft)ft[Dt].availableImages=he}De()}enableTerrain(oe,he,De){this.terrain=he,De()}setProjection(oe,he){this.projections[oe]=a.getProjection(he)}setLayers(oe,he,De){this.getLayerIndex(oe).replace(he),De()}updateLayers(oe,he,De){this.getLayerIndex(oe).update(he.layers,he.removedIds),De()}loadTile(oe,he,De){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},he):he;$e.projection=this.projections[oe]||this.defaultProjection,this.getWorkerSource(oe,he.type,he.source).loadTile($e,De)}loadDEMTile(oe,he,De){const $e=this.enableTerrain?a.extend({buildQuadTree:this.terrain},he):he;this.getDEMWorkerSource(oe,he.source).loadTile($e,De)}reloadTile(oe,he,De){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},he):he;$e.projection=this.projections[oe]||this.defaultProjection,this.getWorkerSource(oe,he.type,he.source).reloadTile($e,De)}abortTile(oe,he,De){this.getWorkerSource(oe,he.type,he.source).abortTile(he,De)}removeTile(oe,he,De){this.getWorkerSource(oe,he.type,he.source).removeTile(he,De)}removeSource(oe,he,De){if(!this.workerSources[oe]||!this.workerSources[oe][he.type]||!this.workerSources[oe][he.type][he.source])return;const $e=this.workerSources[oe][he.type][he.source];delete this.workerSources[oe][he.type][he.source],$e.removeSource!==void 0?$e.removeSource(he,De):De()}loadWorkerSource(oe,he,De){try{this.self.importScripts(he.url),De()}catch($e){De($e.toString())}}syncRTLPluginState(oe,he,De){try{a.plugin.setState(he);const $e=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&$e!=null){this.self.importScripts($e);const ft=a.plugin.isParsed();De(ft?void 0:new Error(`RTL Text Plugin failed to import scripts from ${$e}`),ft)}}catch($e){De($e.toString())}}getAvailableImages(oe){let he=this.availableImages[oe];return he||(he=[]),he}getLayerIndex(oe){let he=this.layerIndexes[oe];return he||(he=this.layerIndexes[oe]=new ye),he}getWorkerSource(oe,he,De){if(this.workerSources[oe]||(this.workerSources[oe]={}),this.workerSources[oe][he]||(this.workerSources[oe][he]={}),!this.workerSources[oe][he][De]){const $e={send:(ft,Dt,It,vt,Rt,vi)=>{this.actor.send(ft,Dt,It,oe,Rt,vi)},scheduler:this.actor.scheduler};this.workerSources[oe][he][De]=new this.workerSourceTypes[he]($e,this.getLayerIndex(oe),this.getAvailableImages(oe),this.isSpriteLoaded[oe])}return this.workerSources[oe][he][De]}getDEMWorkerSource(oe,he){return this.demWorkerSources[oe]||(this.demWorkerSources[oe]={}),this.demWorkerSources[oe][he]||(this.demWorkerSources[oe][he]=new me),this.demWorkerSources[oe][he]}enforceCacheSizeLimit(oe,he){a.enforceCacheSizeLimit(he)}getWorkerPerformanceMetrics(oe,he,De){De(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Ue(self)),Ue}),J(["./shared"],function(a){function j(d,r){if(Array.isArray(d)){if(!Array.isArray(r)||d.length!==r.length)return!1;for(let c=0;c<d.length;c++)if(!j(d[c],r[c]))return!1;return!0}if(typeof d=="object"&&d!==null&&r!==null){if(typeof r!="object"||Object.keys(d).length!==Object.keys(r).length)return!1;for(const c in d)if(!j(d[c],r[c]))return!1;return!0}return d===r}var Z=ye;function ye(d){return!function(r){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var f,A,S=new Blob([""],{type:"text/javascript"}),E=URL.createObjectURL(S);try{A=new Worker(E),f=!0}catch{f=!1}return A&&A.terminate(),URL.revokeObjectURL(E),f}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var f=document.createElement("canvas");f.width=f.height=1;var A=f.getContext("2d");if(!A)return!1;var S=A.getImageData(0,0,1,1);return S&&S.width===f.width}()?(me[c=r&&r.failIfMajorPerformanceCaveat]===void 0&&(me[c]=function(f){var A,S=function(E){var M=document.createElement("canvas"),F=Object.create(ye.webGLContextAttributes);return F.failIfMajorPerformanceCaveat=E,M.getContext("webgl",F)||M.getContext("experimental-webgl",F)}(f);if(!S)return!1;try{A=S.createShader(S.VERTEX_SHADER)}catch{return!1}return!(!A||S.isContextLost())&&(S.shaderSource(A,"void main() {}"),S.compileShader(A),S.getShaderParameter(A,S.COMPILE_STATUS)===!0)}(c)),me[c]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var c}(d)}var me={};function rt(d,r,c){const f=a.window.document.createElement(d);return r!==void 0&&(f.className=r),c&&c.appendChild(f),f}function ht(d,r,c){const f=a.window.document.createElementNS("http://www.w3.org/2000/svg",d);for(const A of Object.keys(r))f.setAttributeNS(null,A,r[A]);return c&&c.appendChild(f),f}ye.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Ht=a.window.document&&a.window.document.documentElement.style,Se=Ht&&Ht.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Be;function Gt(){Ht&&Se&&(Be=Ht[Se],Ht[Se]="none")}function xt(){Ht&&Se&&(Ht[Se]=Be)}function fi(d){d.preventDefault(),d.stopPropagation(),a.window.removeEventListener("click",fi,!0)}function Fi(){a.window.addEventListener("click",fi,!0),a.window.setTimeout(()=>{a.window.removeEventListener("click",fi,!0)},0)}function Me(d,r){const c=d.getBoundingClientRect();return Mi(d,c,r)}function it(d,r){const c=d.getBoundingClientRect(),f=[];for(let A=0;A<r.length;A++)f.push(Mi(d,c,r[A]));return f}function ri(d){return a.window.InstallTrigger!==void 0&&d.button===2&&d.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:d.button}function Mi(d,r,c){const f=d.offsetWidth===r.width?1:d.offsetWidth/r.width;return new a.pointGeometry((c.clientX-r.left)*f,(c.clientY-r.top)*f)}function si(d,r){var c=r[0],f=r[1],A=r[2],S=r[3],E=c*S-A*f;return E?(d[0]=S*(E=1/E),d[1]=-f*E,d[2]=-A*E,d[3]=c*E,d):null}function Ze(d){const{userImage:r}=d;return!!(r&&r.render&&r.render())&&(d.data.replace(new Uint8Array(r.data.buffer)),!0)}class ze extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(const{ids:c,callback:f}of this.requestors)this._notify(c,f);this.requestors=[]}}hasImage(r){return!!this.getImage(r)}getImage(r){return this.images[r]}addImage(r,c){this._validate(r,c)&&(this.images[r]=c)}_validate(r,c){let f=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${r}" has invalid "stretchX" value`))),f=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${r}" has invalid "stretchY" value`))),f=!1),this._validateContent(c.content,c)||(this.fire(new a.ErrorEvent(new Error(`Image "${r}" has invalid "content" value`))),f=!1),f}_validateStretch(r,c){if(!r)return!0;let f=0;for(const A of r){if(A[0]<f||A[1]<A[0]||c<A[1])return!1;f=A[1]}return!0}_validateContent(r,c){return!(r&&(r.length!==4||r[0]<0||c.data.width<r[0]||r[1]<0||c.data.height<r[1]||r[2]<0||c.data.width<r[2]||r[3]<0||c.data.height<r[3]||r[2]<r[0]||r[3]<r[1]))}updateImage(r,c){c.version=this.images[r].version+1,this.images[r]=c,this.updatedImages[r]=!0}removeImage(r){const c=this.images[r];delete this.images[r],delete this.patterns[r],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r,c){let f=!0;if(!this.isLoaded())for(const A of r)this.images[A]||(f=!1);this.isLoaded()||f?this._notify(r,c):this.requestors.push({ids:r,callback:c})}_notify(r,c){const f={};for(const A of r){this.images[A]||this.fire(new a.Event("styleimagemissing",{id:A}));const S=this.images[A];S?f[A]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:Boolean(S.userImage&&S.userImage.render)}:a.warnOnce(`Image "${A}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,f)}getPixelSize(){const{width:r,height:c}=this.atlasImage;return{width:r,height:c}}getPattern(r){const c=this.patterns[r],f=this.getImage(r);if(!f)return null;if(c&&c.position.version===f.version)return c.position;if(c)c.position.version=f.version;else{const A={w:f.data.width+2,h:f.data.height+2,x:0,y:0},S=new a.ImagePosition(A,f);this.patterns[r]={bin:A,position:S}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){const c=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(r,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const r=[];for(const S in this.patterns)r.push(this.patterns[S].bin);const{w:c,h:f}=a.potpack(r),A=this.atlasImage;A.resize({width:c||1,height:f||1});for(const S in this.patterns){const{bin:E}=this.patterns[S],M=E.x+1,F=E.y+1,$=this.images[S].data,q=$.width,_e=$.height;a.RGBAImage.copy($,A,{x:0,y:0},{x:M,y:F},{width:q,height:_e}),a.RGBAImage.copy($,A,{x:0,y:_e-1},{x:M,y:F-1},{width:q,height:1}),a.RGBAImage.copy($,A,{x:0,y:0},{x:M,y:F+_e},{width:q,height:1}),a.RGBAImage.copy($,A,{x:q-1,y:0},{x:M-1,y:F},{width:1,height:_e}),a.RGBAImage.copy($,A,{x:0,y:0},{x:M+q,y:F},{width:1,height:_e})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(const c of r){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const f=this.images[c];Ze(f)&&this.updateImage(c,f)}}}const Kt=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(d,r){return function([c,f,A]){const S=a.degToRad(f+90),E=a.degToRad(A);return{x:c*Math.cos(S)*Math.sin(E),y:c*Math.sin(S)*Math.sin(E),z:c*Math.cos(E),azimuthal:f,polar:A}}(d.expression.evaluate(r))}interpolate(d,r,c){return{x:a.number(d.x,r.x,c),y:a.number(d.y,r.y,c),z:a.number(d.z,r.z,c),azimuthal:a.number(d.azimuthal,r.azimuthal,c),polar:a.number(d.polar,r.polar,c)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)}),ji="-transition";class oi extends a.Evented{constructor(r){super(),this._transitionable=new a.Transitionable(Kt),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,c={}){if(!this._validate(a.validateLight,r,c))for(const f in r){const A=r[f];a.endsWith(f,ji)?this._transitionable.setTransition(f.slice(0,-ji.length),A):this._transitionable.setValue(f,A)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,f){return(!f||f.validate!==!1)&&a.emitValidationErrors(this,r.call(a.validateStyle,a.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const Y=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)}),ce="-transition";class de extends a.Evented{constructor(r,c){super(),this._transitionable=new a.Transitionable(Y),this.set(r),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=c}get(){return this._transitionable.serialize()}set(r){for(const c in r){const f=r[c];a.endsWith(c,ce)?this._transitionable.setTransition(c.slice(0,-ce.length),f):this._transitionable.setValue(c,f)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}}function be(d,r,c,f){const A=a.smoothstep(45,65,c),[S,E]=xe(d,f),M=a.length(r);let F=1-Math.min(1,Math.exp((M-S)/(E-S)*-6));return F*=F*F,F=Math.min(1,1.00747*F),F*A*d.alpha}function xe(d,r){const c=.5/Math.tan(.5*r);return[d.range[0]+c,d.range[1]+c]}const nt=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])}),dt="-transition";class yt extends a.Evented{constructor(r,c){super(),this._transitionable=new a.Transitionable(nt),this.set(r),this._transitioning=this._transitionable.untransitioned(),this._transform=c}get state(){const r=this._transform,c=r.projection.name==="globe",f=a.globeToMercatorTransition(r.zoom),A=this.properties.get("range"),S=[.5,3];return{range:c?[a.number(S[0],A[0],f),a.number(S[1],A[1],f)]:A,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,c={}){if(!this._validate(a.validateFog,r,c)){for(const f of Object.keys(a.spec.fog))r&&r[f]===void 0&&(r[f]=a.spec.fog[f].default);for(const f in r){const A=r[f];a.endsWith(f,dt)?this._transitionable.setTransition(f.slice(0,-dt.length),A):this._transitionable.setValue(f,A)}}}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const c=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.smoothstep(45,65,r))*c.a}getOpacityAtLatLng(r,c){return this._transform.projection.supportsFog?function(f,A,S){const E=a.MercatorCoordinate.fromLngLat(A),M=S.elevation?S.elevation.getAtPointOrZero(E):0,F=[E.x,E.y,M];return a.transformMat4(F,F,S.mercatorFogMatrix),be(f,F,S.pitch,S._fov)}(this.state,r,c):0}getFovAdjustedRange(r){return this._transform.projection.supportsFog?xe(this.state,r):[0,1]}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,f){return(!f||f.validate!==!1)&&a.emitValidationErrors(this,r.call(a.validateStyle,a.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class Vt{constructor(r,c){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const f=this.workerPool.acquire(this.id);for(let A=0;A<f.length;A++){const S=new Vt.Actor(f[A],c,this.id);S.name=`Worker ${A}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(r,c,f){a.asyncAll(this.actors,(A,S)=>{A.send(r,c,S)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(r=>{r.remove()}),this.actors=[],this.workerPool.release(this.id)}}function mt(d,r,c){return r*(a.EXTENT/(d.tileSize*Math.pow(2,c-d.tileID.overscaledZ)))}Vt.Actor=a.Actor;class Ot{constructor(r,c,f,A){this.screenBounds=r,this.cameraPoint=c,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=f,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,A)}static createFromScreenPoints(r,c){let f,A;if(r instanceof a.pointGeometry||typeof r[0]=="number"){const S=a.pointGeometry.convert(r);f=[S],A=c.isPointAboveHorizon(S)}else{const S=a.pointGeometry.convert(r[0]),E=a.pointGeometry.convert(r[1]);f=[S,E],A=a.polygonizeBounds(S,E).every(M=>c.isPointAboveHorizon(M))}return new Ot(f,c.getCameraPoint(),A,c)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return a.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const c=this.screenBounds[0],f=this.screenBounds.length===1?this.screenBounds[0].add(new a.pointGeometry(1,1)):this.screenBounds[1],A=a.polygonizeBounds(c,f,0,!1);return this.cameraPoint.y>f.y&&(this.cameraPoint.x>c.x&&this.cameraPoint.x<f.x?A.splice(3,0,this.cameraPoint):this.cameraPoint.x>=f.x?A[2]=this.cameraPoint:this.cameraPoint.x<=c.x&&(A[3]=this.cameraPoint)),a.bufferConvexPolygon(A,r)}bufferedCameraGeometryGlobe(r){const c=this.screenBounds[0],f=this.screenBounds.length===1?this.screenBounds[0].add(new a.pointGeometry(1,1)):this.screenBounds[1],A=a.polygonizeBounds(c,f,r),S=this.cameraPoint.clone();switch(3*((S.y>c.y)+(S.y>f.y))+((S.x>c.x)+(S.x>f.x))){case 0:A[0]=S,A[4]=S.clone();break;case 1:A.splice(1,0,S);break;case 2:A[1]=S;break;case 3:A.splice(4,0,S);break;case 5:A.splice(2,0,S);break;case 6:A[3]=S;break;case 7:A.splice(3,0,S);break;case 8:A[2]=S}return A}containsTile(r,c,f,A=0){const S=r.queryPadding/c._pixelsPerMercatorPixel+1,E=f?this._bufferedCameraMercator(S,c):this._bufferedScreenMercator(S,c);let M=r.tileID.wrap+(E.unwrapped?A:0);const F=E.polygon.map(Ce=>a.getTilePoint(r.tileTransform,Ce,M));if(!a.polygonIntersectsBox(F,0,0,a.EXTENT,a.EXTENT))return;M=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?A:0);const $=this.screenGeometryMercator.polygon.map(Ce=>a.getTileVec3(r.tileTransform,Ce,M)),q=$.map(Ce=>new a.pointGeometry(Ce[0],Ce[1])),_e=c.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),ve=a.getTileVec3(r.tileTransform,_e,M),Le=$.map(Ce=>{const we=a.sub(Ce,Ce,ve);return a.normalize(we,we),new a.Ray(ve,we)}),ke=mt(r,1,c.zoom)*c._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:Le,bufferedTilespaceGeometry:F,bufferedTilespaceBounds:(He=a.getBounds(F),He.min.x=a.clamp(He.min.x,0,a.EXTENT),He.min.y=a.clamp(He.min.y,0,a.EXTENT),He.max.x=a.clamp(He.max.x,0,a.EXTENT),He.max.y=a.clamp(He.max.y,0,a.EXTENT),He),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:ke};var He}_bufferedScreenMercator(r,c){const f=an(r);if(this._screenRaycastCache[f])return this._screenRaycastCache[f];{let A;return A=c.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),c):{polygon:this.bufferedScreenGeometry(r).map(S=>c.pointCoordinate3D(S)),unwrapped:!0},this._screenRaycastCache[f]=A,A}}_bufferedCameraMercator(r,c){const f=an(r);if(this._cameraRaycastCache[f])return this._cameraRaycastCache[f];{let A;return A=c.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),c):{polygon:this.bufferedCameraGeometry(r).map(S=>c.pointCoordinate3D(S)),unwrapped:!0},this._cameraRaycastCache[f]=A,A}}_projectAndResample(r,c){const f=function(S,E){const M=a.multiply([],E.pixelMatrix,E.globeMatrix),F=[0,-a.GLOBE_RADIUS,0,1],$=[0,a.GLOBE_RADIUS,0,1],q=[0,0,0,1];a.transformMat4$1(F,F,M),a.transformMat4$1($,$,M),a.transformMat4$1(q,q,M);const _e=new a.pointGeometry(F[0]/F[3],F[1]/F[3]),ve=new a.pointGeometry($[0]/$[3],$[1]/$[3]),Le=a.polygonContainsPoint(S,_e)&&F[3]<q[3],ke=a.polygonContainsPoint(S,ve)&&$[3]<q[3];if(!Le&&!ke)return null;const He=function(Nt,Xt,zt){for(let Lt=1;Lt<Nt.length;Lt++){const Qi=Gi(Xt.pointCoordinate3D(Nt[Lt-1]).x),Et=Gi(Xt.pointCoordinate3D(Nt[Lt]).x);if(zt<0){if(Qi<Et)return{idx:Lt,t:-Qi/(Et-1-Qi)}}else if(Et<Qi)return{idx:Lt,t:(1-Qi)/(Et+1-Qi)}}return null}(S,E,Le?-1:1);if(!He)return null;const{idx:Ce,t:we}=He;let Ge=Ce>1?Yi(S.slice(0,Ce),E):[],Oe=Ce<S.length?Yi(S.slice(Ce),E):[];Ge=Ge.map(Nt=>new a.pointGeometry(Gi(Nt.x),Nt.y)),Oe=Oe.map(Nt=>new a.pointGeometry(Gi(Nt.x),Nt.y));const Xe=[...Ge];Xe.length===0&&Xe.push(Oe[Oe.length-1]);const pt=a.number(Xe[Xe.length-1].y,(Oe.length===0?Ge[0]:Oe[0]).y,we);let _t;return _t=Le?[new a.pointGeometry(0,pt),new a.pointGeometry(0,0),new a.pointGeometry(1,0),new a.pointGeometry(1,pt)]:[new a.pointGeometry(1,pt),new a.pointGeometry(1,1),new a.pointGeometry(0,1),new a.pointGeometry(0,pt)],Xe.push(..._t),Oe.length===0?Xe.push(Ge[0]):Xe.push(...Oe),{polygon:Xe.map(Nt=>new a.MercatorCoordinate(Nt.x,Nt.y)),unwrapped:!1}}(r,c);if(f)return f;const A=function(S,E){let M=!1,F=-1/0,$=0;for(let _e=0;_e<S.length-1;_e++)S[_e].x>F&&(F=S[_e].x,$=_e);for(let _e=0;_e<S.length-1;_e++){const ve=($+_e)%(S.length-1),Le=S[ve],ke=S[ve+1];Math.abs(Le.x-ke.x)>.5&&(Le.x<ke.x?(Le.x+=1,ve===0&&(S[S.length-1].x+=1)):(ke.x+=1,ve+1===S.length-1&&(S[0].x+=1)),M=!0)}const q=a.mercatorXfromLng(E.center.lng);return M&&q<Math.abs(q-1)&&S.forEach(_e=>{_e.x-=1}),{polygon:S,unwrapped:M}}(Yi(r,c).map(S=>new a.pointGeometry(Gi(S.x),S.y)),c);return{polygon:A.polygon.map(S=>new a.MercatorCoordinate(S.x,S.y)),unwrapped:A.unwrapped}}}function Yi(d,r){return a.resample(d,c=>{const f=r.pointCoordinate3D(c);c.x=f.x,c.y=f.y},1/256)}function Gi(d){return d<0?1+d%1:d%1}function an(d){return 100*d|0}function sr(d,r,c,f,A){const S=function(E,M){if(E)return A(E);if(M){d.url&&M.tiles&&d.tiles&&delete d.tiles;const F=a.pick(a.extend(M,d),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);M.vector_layers&&(F.vectorLayers=M.vector_layers,F.vectorLayerIds=F.vectorLayers.map($=>$.id)),F.tiles=r.canonicalizeTileset(F,d.url),A(null,F)}};return d.url?a.getJSON(r.transformRequest(r.normalizeSourceURL(d.url,null,c,f),a.ResourceType.Source),S):a.exported.frame(()=>S(null,d))}class Er{constructor(r,c,f){this.bounds=a.LngLatBounds.convert(this.validateBounds(r)),this.minzoom=c||0,this.maxzoom=f||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const c=Math.pow(2,r.z),f=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*c),A=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*c),S=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*c),E=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*c);return r.x>=f&&r.x<S&&r.y>=A&&r.y<E}}class Ir{constructor(r,c,f){this.context=r;const A=r.gl;this.buffer=A.createBuffer(),this.dynamicDraw=Boolean(f),this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),A.bufferData(A.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const _r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ar{constructor(r,c,f,A){this.length=c.length,this.attributes=f,this.itemSize=c.bytesPerElement,this.dynamicDraw=A,this.context=r;const S=r.gl;this.buffer=S.createBuffer(),r.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||c.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,c){for(let f=0;f<this.attributes.length;f++){const A=c.attributes[this.attributes[f].name];A!==void 0&&r.enableVertexAttribArray(A)}}setVertexAttribPointers(r,c,f){for(let A=0;A<this.attributes.length;A++){const S=this.attributes[A],E=c.attributes[S.name];E!==void 0&&r.vertexAttribPointer(E,S.components,r[_r[S.type]],!1,this.itemSize,S.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Wn{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Li extends Wn{getDefault(){return a.Color.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Ie extends Wn{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Ne extends Wn{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class st extends Wn{getDefault(){return[!0,!0,!0,!0]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Je extends Wn{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class ot extends Wn{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Tt extends Wn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const c=this.current;(r.func!==c.func||r.ref!==c.ref||r.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Pt extends Wn{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class bt extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=r,this.dirty=!1}}class ii extends Wn{getDefault(){return[0,1]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class Ui extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=r,this.dirty=!1}}class zi extends Wn{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Mn extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.BLEND):c.disable(c.BLEND),this.current=r,this.dirty=!1}}class Hn extends Wn{getDefault(){const r=this.gl;return[r.ONE,r.ZERO]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class zn extends Wn{getDefault(){return a.Color.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Ln extends Wn{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class In extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=r,this.dirty=!1}}class tr extends Wn{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class ss extends Wn{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class Or extends Wn{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class _o extends Wn{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class fo extends Wn{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Vi extends Wn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class Mr extends Wn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class bs extends Wn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class Ks extends Wn{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class yo extends Wn{getDefault(){return null}set(r){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class es extends Wn{constructor(r){super(r),this.vao=r.extVertexArrayObject}getDefault(){return null}set(r){this.vao&&(r!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(r),this.current=r,this.dirty=!1)}}class Ns extends Wn{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class dr extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class Rs extends Wn{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class $s extends Wn{constructor(r,c){super(r),this.context=r,this.parent=c}getDefault(){return null}}class ro extends $s{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class vs extends $s{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,this.attachment(),c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Ue extends vs{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Fe{constructor(r,c,f,A){this.context=r,this.width=c,this.height=f;const S=this.framebuffer=r.gl.createFramebuffer();this.colorAttachment=new ro(r,S),A&&(this.depthAttachment=new vs(r,S))}destroy(){const r=this.context.gl,c=this.colorAttachment.get();if(c&&r.deleteTexture(c),this.depthAttachment){const f=this.depthAttachment.get();f&&r.deleteRenderbuffer(f)}r.deleteFramebuffer(this.framebuffer)}}class oe{constructor(r){this.gl=r,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Li(this),this.clearDepth=new Ie(this),this.clearStencil=new Ne(this),this.colorMask=new st(this),this.depthMask=new Je(this),this.stencilMask=new ot(this),this.stencilFunc=new Tt(this),this.stencilOp=new Pt(this),this.stencilTest=new bt(this),this.depthRange=new ii(this),this.depthTest=new Ui(this),this.depthFunc=new zi(this),this.blend=new Mn(this),this.blendFunc=new Hn(this),this.blendColor=new zn(this),this.blendEquation=new Ln(this),this.cullFace=new In(this),this.cullFaceSide=new tr(this),this.frontFace=new ss(this),this.program=new Or(this),this.activeTexture=new _o(this),this.viewport=new fo(this),this.bindFramebuffer=new Vi(this),this.bindRenderbuffer=new Mr(this),this.bindTexture=new bs(this),this.bindVertexBuffer=new Ks(this),this.bindElementBuffer=new yo(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new es(this),this.pixelStoreUnpack=new Ns(this),this.pixelStoreUnpackPremultiplyAlpha=new dr(this),this.pixelStoreUnpackFlipY=new Rs(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=r.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(r.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=r.getExtension("OES_standard_derivatives"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,c){return new Ir(this,r,c)}createVertexBuffer(r,c,f){return new Ar(this,r,c,f)}createRenderbuffer(r,c,f){const A=this.gl,S=A.createRenderbuffer();return this.bindRenderbuffer.set(S),A.renderbufferStorage(A.RENDERBUFFER,r,c,f),this.bindRenderbuffer.set(null),S}createFramebuffer(r,c,f){return new Fe(this,r,c,f)}clear({color:r,depth:c,stencil:f}){const A=this.gl;let S=0;r&&(S|=A.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(S|=A.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),f!==void 0&&(S|=A.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),A.clear(S)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){j(r.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class he extends a.Evented{constructor(r,c,f,A){super(),this.id=r,this.dispatcher=f,this.setEventedParent(A),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},c),a.extend(this,a.pick(c,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=sr(this._options,this.map._requestManager,null,null,(r,c)=>{this._tileJSONRequest=null,this._loaded=!0,r?this.fire(new a.ErrorEvent(r)):c&&(a.extend(this,c),c.bounds&&(this.tileBounds=new Er(c.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(c.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,c){const f=a.exported.devicePixelRatio>=2,A=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),f,this.tileSize);r.request=a.getImage(this.map._requestManager.transformRequest(A,a.ResourceType.Tile),(S,E,M,F)=>(delete r.request,r.aborted?(r.state="unloaded",c(null)):S?(r.state="errored",c(S)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:M,expires:F}),r.setTexture(E,this.map.painter),r.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void c(null)):c(null)))}static loadTileData(r,c,f){r.setTexture(c,f)}static unloadTileData(r,c){r.texture&&c.saveTileTexture(r.texture)}abortTile(r,c){r.request&&(r.request.cancel(),delete r.request),c()}unloadTile(r,c){r.texture&&this.map.painter.saveTileTexture(r.texture),c()}hasTransition(){return!1}}let De;function $e(d,r,c,f,A,S,E,M){const F=[d,c,A,r,f,S,1,1,1],$=[E,M,1],q=a.adjoint([],F),[_e,ve,Le]=a.transformMat3($,$,a.transpose(q,q));return a.multiply$1(F,[_e,0,0,0,ve,0,0,0,Le],F)}class ft extends a.Evented{constructor(r,c,f,A){super(),this.id=r,this.dispatcher=f,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(A),this.options=c,this._dirty=!1}load(r,c){this._loaded=c||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(f,A)=>{if(this._imageRequest=null,this._loaded=!0,f)this.fire(new a.ErrorEvent(f));else if(A){const{HTMLImageElement:S}=a.window;this.image=A instanceof S?a.exported.getImageData(A):A,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,r&&(this.coordinates=r),this._finishLoading()}})}loaded(){return this._loaded}updateImage(r){return this.image&&r.url?(this._imageRequest&&r.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=r.url,this.load(r.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(r){this.coordinates=r,this._boundsArray=void 0;const c=r.map(a.MercatorCoordinate.fromLngLat);return this.tileID=function(f){let A=1/0,S=1/0,E=-1/0,M=-1/0;for(const _e of f)A=Math.min(A,_e.x),S=Math.min(S,_e.y),E=Math.max(E,_e.x),M=Math.max(M,_e.y);const F=Math.max(E-A,M-S),$=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),q=Math.pow(2,$);return new a.CanonicalTileID($,Math.floor((A+E)/2*q),Math.floor((S+M)/2*q))}(c),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(r){for(const F in this.tiles){const $=this.tiles[F];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}if(this._boundsArray)return;const c=a.tileTransform(this.tileID,this.map.transform.projection),[f,A,S,E]=this.coordinates.map(F=>{const $=c.projection.project(F[0],F[1]);return a.getTilePoint(c,$)._round()});this.perspectiveTransform=function(F,$,q,_e,ve,Le,ke,He,Ce,we){const Ge=$e(0,0,F,0,0,$,F,$),Oe=$e(q,_e,ve,Le,ke,He,Ce,we);return a.multiply$1(Oe,a.adjoint(Ge,Ge),Oe),[Oe[6]/Oe[8]*F/a.EXTENT,Oe[7]/Oe[8]*$/a.EXTENT]}(this.width,this.height,f.x,f.y,A.x,A.y,E.x,E.y,S.x,S.y);const M=this._boundsArray=new a.StructArrayLayout4i8;M.emplaceBack(f.x,f.y,0,0),M.emplaceBack(A.x,A.y,a.EXTENT,0),M.emplaceBack(E.x,E.y,0,a.EXTENT),M.emplaceBack(S.x,S.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=r.createVertexBuffer(M,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const r=this.map.painter.context,c=r.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(r,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(r)}loadTile(r,c){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={},c(null)):(r.state="errored",c(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Dt={vector:class extends a.Evented{constructor(d,r,c,f){if(super(),this.id=d,this.dispatcher=c,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(r,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(d){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,c=this.map._worldview;this._tileJSONRequest=sr(this._options,this.map._requestManager,r,c,(f,A)=>{this._tileJSONRequest=null,this._loaded=!0,f?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),c&&c.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${c}`),this.fire(new a.ErrorEvent(f))):A&&(a.extend(this,A),A.bounds&&(this.tileBounds=new Er(A.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(A.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),d&&d(f)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const d=this.map.style._getSourceCaches(this.id);for(const r of d)r.clearTiles()})}setSourceProperty(d){d(),this.reload()}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(d,r){const c=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),f={request:this.map._requestManager.transformRequest(c,a.ResourceType.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile};if(f.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=r:d.request=d.actor.send("reloadTile",f,A.bind(this));else if(d.actor=this._tileWorkers[c]=this._tileWorkers[c]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",f,A.bind(this),void 0,!0);else{const S=a.loadVectorTile.call({deduped:this._deduped},f,(E,M)=>{E||!M?A.call(this,E):(f.data={cacheControl:M.cacheControl,expires:M.expires,rawData:M.rawData.slice(0)},d.actor&&d.actor.send("loadTile",f,A.bind(this),void 0,!0))},!0);d.request={cancel:S}}function A(S,E){return delete d.request,d.aborted?r(null):S&&S.status!==404?r(S):(E&&E.resourceTiming&&(d.resourceTiming=E.resourceTiming),this.map._refreshExpiredTiles&&E&&d.setExpiryData(E),d.loadVectorData(E,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id})}unloadTile(d){d.unloadVectorData(),d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:he,"raster-dem":class extends he{constructor(d,r,c,f){super(d,r,c,f),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(d,r){const c=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function f(A,S){A&&(d.state="errored",r(A)),S&&(d.dem=S,d.dem.onDeserialize(),d.needsHillshadePrepare=!0,d.needsDEMTextureUpload=!0,d.state="loaded",r(null))}d.request=a.getImage(this.map._requestManager.transformRequest(c,a.ResourceType.Tile),function(A,S,E,M){if(delete d.request,d.aborted)d.state="unloaded",r(null);else if(A)d.state="errored",r(A);else if(S){this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:E,expires:M});const F=a.window.ImageBitmap&&S instanceof a.window.ImageBitmap&&(De==null&&(De=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&typeof a.window.createImageBitmap=="function"),De),$=1-(S.width-a.prevPowerOfTwo(S.width))/2;$<1||d.neighboringTiles||(d.neighboringTiles=this._getNeighboringTiles(d.tileID));const q=F?S:a.exported.getImageData(S,$),_e={uid:d.uid,coord:d.tileID,source:this.id,rawImageData:q,encoding:this.encoding,padding:$};d.actor&&d.state!=="expired"||(d.actor=this.dispatcher.getActor(),d.actor.send("loadDEMTile",_e,f.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(d){const r=d.canonical,c=Math.pow(2,r.z),f=(r.x-1+c)%c,A=r.x===0?d.wrap-1:d.wrap,S=(r.x+1+c)%c,E=r.x+1===c?d.wrap+1:d.wrap,M={};return M[new a.OverscaledTileID(d.overscaledZ,A,r.z,f,r.y).key]={backfilled:!1},M[new a.OverscaledTileID(d.overscaledZ,E,r.z,S,r.y).key]={backfilled:!1},r.y>0&&(M[new a.OverscaledTileID(d.overscaledZ,A,r.z,f,r.y-1).key]={backfilled:!1},M[new a.OverscaledTileID(d.overscaledZ,d.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},M[new a.OverscaledTileID(d.overscaledZ,E,r.z,S,r.y-1).key]={backfilled:!1}),r.y+1<c&&(M[new a.OverscaledTileID(d.overscaledZ,A,r.z,f,r.y+1).key]={backfilled:!1},M[new a.OverscaledTileID(d.overscaledZ,d.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},M[new a.OverscaledTileID(d.overscaledZ,E,r.z,S,r.y+1).key]={backfilled:!1}),M}unloadTile(d){d.demTexture&&this.map.painter.saveTileTexture(d.demTexture),d.fbo&&(d.fbo.destroy(),delete d.fbo),d.dem&&delete d.dem,delete d.neighboringTiles,d.state="unloaded"}},geojson:class extends a.Evented{constructor(d,r,c,f){super(),this.id=d,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=c.getActor(),this.setEventedParent(f),this._data=r.data,this._options=a.extend({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const A=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*A,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*A,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:a.EXTENT,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*A,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}onAdd(d){this.map=d,this.setData(this._data)}setData(d){return this._data=d,this._updateWorkerData(),this}getClusterExpansionZoom(d,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:d,source:this.id},r),this}getClusterChildren(d,r){return this.actor.send("geojson.getClusterChildren",{clusterId:d,source:this.id},r),this}getClusterLeaves(d,r,c,f){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:d,limit:r,offset:c},f),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const d=a.extend({},this.workerOptions),r=this._data;typeof r=="string"?(d.request=this.map._requestManager.transformRequest(a.exported.resolveURL(r),a.ResourceType.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(r),this._pendingLoad=this.actor.send(`${this.type}.loadData`,d,(c,f)=>{if(this._loaded=!0,this._pendingLoad=null,c)this.fire(new a.ErrorEvent(c));else{const A={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&f&&f.resourceTiming&&f.resourceTiming[this.id]&&(A.resourceTiming=f.resourceTiming[this.id]),this.fire(new a.Event("data",A)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(d,r){const c=d.actor?"reloadTile":"loadTile";d.actor=this.actor,d.request=this.actor.send(c,{type:this.type,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(f,A)=>(delete d.request,d.unloadVectorData(),d.aborted?r(null):f?r(f):(d.loadVectorData(A,this.map.painter,c==="reloadTile"),r(null))),void 0,c==="loadTile")}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.aborted=!0}unloadTile(d){d.unloadVectorData(),this.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ft{constructor(d,r,c,f){super(d,r,c,f),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const d=this.options;this.urls=[];for(const r of d.urls)this.urls.push(this.map._requestManager.transformRequest(r,a.ResourceType.Source).url);a.getVideo(this.urls,(r,c)=>{this._loaded=!0,r?this.fire(new a.ErrorEvent(r)):c&&(this.video=c,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(d){if(this.video){const r=this.video.seekable;d<r.start(0)||d>r.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=d}}getVideo(){return this.video}onAdd(d){this.map||(this.map=d,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const d=this.map.painter.context,r=d.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(d,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(d)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ft,canvas:class extends ft{constructor(d,r,c,f){super(d,r,c,f),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(A=>!Array.isArray(A)||A.length!==2||A.some(S=>typeof S!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${d}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${d}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${d}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${d}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${d}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(d){this.map=d,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let d=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,d=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,d=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?(d||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(r,this.canvas,r.gl.RGBA,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const d of[this.canvas.width,this.canvas.height])if(isNaN(d)||d<=0)return!0;return!1}},custom:class extends a.Evented{constructor(d,r,c,f){super(),this.id=d,this.type="custom",this._dataType="raster",this._dispatcher=c,this._implementation=r,this.setEventedParent(f),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Er(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(d){this._map=d,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(d),this.load()}onRemove(d){this._implementation.onRemove&&this._implementation.onRemove(d)}hasTile(d){if(this._implementation.hasTile){const{x:r,y:c,z:f}=d.canonical;return this._implementation.hasTile({x:r,y:c,z:f})}return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,r){const{x:c,y:f,z:A}=d.tileID.canonical,S=new a.window.AbortController;d.request=Promise.resolve(this._implementation.loadTile({x:c,y:f,z:A},{signal:S.signal})).then(function(E){return delete d.request,d.aborted?(d.state="unloaded",r(null)):E===void 0?(d.state="errored",r(null)):E===null?(this.loadTileData(d,{width:this.tileSize,height:this.tileSize,data:null}),d.state="loaded",r(null)):function(M){return M instanceof a.window.ImageData||M instanceof a.window.HTMLCanvasElement||M instanceof a.window.ImageBitmap||M instanceof a.window.HTMLImageElement}(E)?(this.loadTileData(d,E),d.state="loaded",void r(null)):(d.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(E=>{E.code!==20&&(d.state="errored",r(E))}),d.request.cancel=()=>S.abort()}loadTileData(d,r){he.loadTileData(d,r,this._map.painter)}unloadTileData(d){he.unloadTileData(d,this._map.painter)}unloadTile(d,r){if(this.unloadTileData(d),this._implementation.unloadTile){const{x:c,y:f,z:A}=d.tileID.canonical;this._implementation.unloadTile({x:c,y:f,z:A})}r()}abortTile(d,r){d.request&&d.request.cancel&&(d.request.cancel(),delete d.request),r()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(d=>({x:d.canonical.x,y:d.canonical.y,z:d.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},It=function(d,r,c,f){const A=new Dt[r.type](d,r,c,f);if(A.id!==d)throw new Error(`Expected Source id to be ${d} instead of ${A.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],A),A};function vt(d,r){const c=a.identity([]);return a.scale(c,c,[.5*d.width,.5*-d.height,1]),a.translate(c,c,[1,-1,0]),a.multiply(c,c,d.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(c)}function Rt(d,r,c,f,A,S,E,M=!1){const F=d.tilesIn(f,E,M);F.sort(on);const $=[];for(const _e of F)$.push({wrappedTileID:_e.tile.tileID.wrapped().key,queryResults:_e.tile.queryRenderedFeatures(r,c,d._state,_e,A,S,vt(d.transform,_e.tile.tileID),M)});const q=function(_e){const ve={},Le={};for(const ke of _e){const He=ke.queryResults,Ce=ke.wrappedTileID,we=Le[Ce]=Le[Ce]||{};for(const Ge in He){const Oe=He[Ge],Xe=we[Ge]=we[Ge]||{},pt=ve[Ge]=ve[Ge]||[];for(const _t of Oe)Xe[_t.featureIndex]||(Xe[_t.featureIndex]=!0,pt.push(_t))}}return ve}($);for(const _e in q)q[_e].forEach(ve=>{const Le=ve.feature,ke=Le.layer;ke&&ke.type!=="background"&&ke.type!=="sky"&&(Le.source=ke.source,ke["source-layer"]&&(Le.sourceLayer=ke["source-layer"]),Le.state=Le.id!==void 0?d.getFeatureState(ke["source-layer"],Le.id):{})});return q}function vi(d,r){const c=d.getRenderableIds().map(S=>d.getTileByID(S)),f=[],A={};for(let S=0;S<c.length;S++){const E=c[S],M=E.tileID.canonical.key;A[M]||(A[M]=!0,E.querySourceFeatures(f,r))}return f}function on(d,r){const c=d.tileID,f=r.tileID;return c.overscaledZ-f.overscaledZ||c.canonical.y-f.canonical.y||c.wrap-f.wrap||c.canonical.x-f.canonical.x}function Di(){return Bl.workerClass!=null?new Bl.workerClass:new a.window.Worker(Bl.workerUrl)}const Vn="mapboxgl_preloaded_worker_pool";class Jn{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<Jn.workerCount;)this.workers.push(new Di);return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Vn]}numActive(){return Object.keys(this.active).length}}let Dn;function ir(){return Dn||(Dn=new Jn),Dn}function Cr(d,r){const c={};for(const f in d)f!=="ref"&&(c[f]=d[f]);return a.refProperties.forEach(f=>{f in r&&(c[f]=r[f])}),c}function Br(d){d=d.slice();const r=Object.create(null);for(let c=0;c<d.length;c++)r[d[c].id]=d[c];for(let c=0;c<d.length;c++)"ref"in d[c]&&(d[c]=Cr(d[c],r[d[c].ref]));return d}Jn.workerCount=2;const On={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function $r(d,r,c){c.push({command:On.addSource,args:[d,r[d]]})}function Gr(d,r,c){r.push({command:On.removeSource,args:[d]}),c[d]=!0}function us(d,r,c,f){Gr(d,c,f),$r(d,r,c)}function Ao(d,r,c){let f;for(f in d[c])if(d[c].hasOwnProperty(f)&&f!=="data"&&!j(d[c][f],r[c][f]))return!1;for(f in r[c])if(r[c].hasOwnProperty(f)&&f!=="data"&&!j(d[c][f],r[c][f]))return!1;return!0}function Hs(d,r,c,f,A,S){let E;for(E in r=r||{},d=d||{})d.hasOwnProperty(E)&&(j(d[E],r[E])||c.push({command:S,args:[f,E,r[E],A]}));for(E in r)r.hasOwnProperty(E)&&!d.hasOwnProperty(E)&&(j(d[E],r[E])||c.push({command:S,args:[f,E,r[E],A]}))}function ui(d){return d.id}function jo(d,r){return d[r.id]=r,d}class Ss{constructor(r,c){this.reset(r,c)}reset(r,c){this.points=r||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=a.clamp(r,0,1);let c=1,f=this._distances[c];const A=r*this.paddedLength+this.padding;for(;f<A&&c<this._distances.length;)f=this._distances[++c];const S=c-1,E=this._distances[S],M=f-E,F=M>0?(A-E)/M:0;return this.points[S].mult(1-F).add(this.points[c].mult(F))}}class uo{constructor(r,c,f){const A=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(r/f),this.yCellCount=Math.ceil(c/f);for(let E=0;E<this.xCellCount*this.yCellCount;E++)A.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=c,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,c,f,A,S){this._forEachCell(c,f,A,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(A),this.bboxes.push(S)}insertCircle(r,c,f,A){this._forEachCell(c-A,f-A,c+A,f+A,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(c),this.circles.push(f),this.circles.push(A)}_insertBoxCell(r,c,f,A,S,E){this.boxCells[S].push(E)}_insertCircleCell(r,c,f,A,S,E){this.circleCells[S].push(E)}_query(r,c,f,A,S,E){if(f<0||r>this.width||A<0||c>this.height)return!S&&[];const M=[];if(r<=0&&c<=0&&this.width<=f&&this.height<=A){if(S)return!0;for(let F=0;F<this.boxKeys.length;F++)M.push({key:this.boxKeys[F],x1:this.bboxes[4*F],y1:this.bboxes[4*F+1],x2:this.bboxes[4*F+2],y2:this.bboxes[4*F+3]});for(let F=0;F<this.circleKeys.length;F++){const $=this.circles[3*F],q=this.circles[3*F+1],_e=this.circles[3*F+2];M.push({key:this.circleKeys[F],x1:$-_e,y1:q-_e,x2:$+_e,y2:q+_e})}return E?M.filter(E):M}return this._forEachCell(r,c,f,A,this._queryCell,M,{hitTest:S,seenUids:{box:{},circle:{}}},E),S?M.length>0:M}_queryCircle(r,c,f,A,S){const E=r-f,M=r+f,F=c-f,$=c+f;if(M<0||E>this.width||$<0||F>this.height)return!A&&[];const q=[];return this._forEachCell(E,F,M,$,this._queryCellCircle,q,{hitTest:A,circle:{x:r,y:c,radius:f},seenUids:{box:{},circle:{}}},S),A?q.length>0:q}query(r,c,f,A,S){return this._query(r,c,f,A,!1,S)}hitTest(r,c,f,A,S){return this._query(r,c,f,A,!0,S)}hitTestCircle(r,c,f,A){return this._queryCircle(r,c,f,!0,A)}_queryCell(r,c,f,A,S,E,M,F){const $=M.seenUids,q=this.boxCells[S];if(q!==null){const ve=this.bboxes;for(const Le of q)if(!$.box[Le]){$.box[Le]=!0;const ke=4*Le;if(r<=ve[ke+2]&&c<=ve[ke+3]&&f>=ve[ke+0]&&A>=ve[ke+1]&&(!F||F(this.boxKeys[Le]))){if(M.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[Le],x1:ve[ke],y1:ve[ke+1],x2:ve[ke+2],y2:ve[ke+3]})}}}const _e=this.circleCells[S];if(_e!==null){const ve=this.circles;for(const Le of _e)if(!$.circle[Le]){$.circle[Le]=!0;const ke=3*Le;if(this._circleAndRectCollide(ve[ke],ve[ke+1],ve[ke+2],r,c,f,A)&&(!F||F(this.circleKeys[Le]))){if(M.hitTest)return E.push(!0),!0;{const He=ve[ke],Ce=ve[ke+1],we=ve[ke+2];E.push({key:this.circleKeys[Le],x1:He-we,y1:Ce-we,x2:He+we,y2:Ce+we})}}}}}_queryCellCircle(r,c,f,A,S,E,M,F){const $=M.circle,q=M.seenUids,_e=this.boxCells[S];if(_e!==null){const Le=this.bboxes;for(const ke of _e)if(!q.box[ke]){q.box[ke]=!0;const He=4*ke;if(this._circleAndRectCollide($.x,$.y,$.radius,Le[He+0],Le[He+1],Le[He+2],Le[He+3])&&(!F||F(this.boxKeys[ke])))return E.push(!0),!0}}const ve=this.circleCells[S];if(ve!==null){const Le=this.circles;for(const ke of ve)if(!q.circle[ke]){q.circle[ke]=!0;const He=3*ke;if(this._circlesCollide(Le[He],Le[He+1],Le[He+2],$.x,$.y,$.radius)&&(!F||F(this.circleKeys[ke])))return E.push(!0),!0}}}_forEachCell(r,c,f,A,S,E,M,F){const $=this._convertToXCellCoord(r),q=this._convertToYCellCoord(c),_e=this._convertToXCellCoord(f),ve=this._convertToYCellCoord(A);for(let Le=$;Le<=_e;Le++)for(let ke=q;ke<=ve;ke++)if(S.call(this,r,c,f,A,this.xCellCount*ke+Le,E,M,F))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,c,f,A,S,E){const M=A-r,F=S-c,$=f+E;return $*$>M*M+F*F}_circleAndRectCollide(r,c,f,A,S,E,M){const F=(E-A)/2,$=Math.abs(r-(A+F));if($>F+f)return!1;const q=(M-S)/2,_e=Math.abs(c-(S+q));if(_e>q+f)return!1;if($<=F||_e<=q)return!0;const ve=$-F,Le=_e-q;return ve*ve+Le*Le<=f*f}}const ia=Math.tan(85*Math.PI/180);function Tn(d,r,c,f,A,S,E){const M=a.create();if(c)if(S.name==="globe"){const F=a.calculateGlobeLabelMatrix(A,r);a.multiply(M,M,F)}else{const F=si([],E);M[0]=F[0],M[1]=F[1],M[4]=F[2],M[5]=F[3],f||a.rotateZ(M,M,A.angle)}else a.multiply(M,A.labelPlaneMatrix,d);return M}function bo(d,r,c,f,A,S,E){const M=Tn(d,r,c,f,A,S,E);return S.name==="globe"&&c||(M[2]=M[6]=M[10]=M[14]=0),M}function vo(d,r,c,f,A,S,E){if(c){if(S.name==="globe"){const M=Tn(d,r,c,f,A,S,E);return a.invert(M,M),a.multiply(M,d,M),M}{const M=a.clone(d),F=a.identity([]);return F[0]=E[0],F[1]=E[1],F[4]=E[2],F[5]=E[3],a.multiply(M,M,F),f||a.rotateZ(M,M,-A.angle),M}}return A.glCoordMatrix}function Fs(d,r,c,f){const A=[d,r,c,1];c?a.transformMat4$1(A,A,f):cs(A,A,f);const S=A[3];return A[0]/=S,A[1]/=S,A[2]/=S,A}function pn(d,r){return Math.min(.5+d/r*.5,1.5)}function br(d,r){const c=d[0]/d[3],f=d[1]/d[3];return c>=-r[0]&&c<=r[0]&&f>=-r[1]&&f<=r[1]}function xr(d,r,c,f,A,S,E,M,F,$){const q=c.transform,_e=f?d.textSizeData:d.iconSizeData,ve=a.evaluateSizeForZoom(_e,c.transform.zoom),Le=q.projection.name==="globe",ke=[256/c.width*2+1,256/c.height*2+1],He=f?d.text.dynamicLayoutVertexArray:d.icon.dynamicLayoutVertexArray;He.clear();let Ce=null;Le&&(Ce=f?d.text.globeExtVertexArray:d.icon.globeExtVertexArray);const we=d.lineVertexArray,Ge=f?d.text.placedSymbolArray:d.icon.placedSymbolArray,Oe=c.transform.width/c.transform.height;let Xe,pt=!1;for(let _t=0;_t<Ge.length;_t++){const Nt=Ge.get(_t),{numGlyphs:Xt,writingMode:zt}=Nt;if(zt!==a.WritingMode.vertical||pt||Xe===a.WritingMode.horizontal||(pt=!0),Xe=zt,(Nt.hidden||zt===a.WritingMode.vertical)&&!pt){Zs(Xt,He);continue}pt=!1;const Lt=new a.pointGeometry(Nt.tileAnchorX,Nt.tileAnchorY);let{x:Qi,y:Et,z:bi}=q.projection.projectTilePoint(Lt.x,Lt.y,$.canonical);if(F){const[An,kn,Qn]=F(Lt);Qi+=An,Et+=kn,bi+=Qn}const qt=[Qi,Et,bi,1];if(a.transformMat4$1(qt,qt,r),!br(qt,ke)){Zs(Xt,He);continue}const Wi=pn(c.transform.cameraToCenterDistance,qt[3]),ei=a.evaluateSizeForFeature(_e,ve,Nt),Pi=E?ei/Wi:ei*Wi,wi=Fs(Qi,Et,bi,A);if(wi[3]<=0){Zs(Xt,He);continue}let kt={};const Yt=E?null:F,yn=Pr(Nt,Pi,!1,M,r,A,S,d.glyphOffsetArray,we,He,Ce,wi,Lt,kt,Oe,Yt,q.projection,$,E);pt=yn.useVertical,Yt&&yn.needsFlipping&&(kt={}),(yn.notEnoughRoom||pt||yn.needsFlipping&&Pr(Nt,Pi,!0,M,r,A,S,d.glyphOffsetArray,we,He,Ce,wi,Lt,kt,Oe,Yt,q.projection,$,E).notEnoughRoom)&&Zs(Xt,He)}f?(d.text.dynamicLayoutVertexBuffer.updateData(He),Ce&&d.text.globeExtVertexBuffer.updateData(Ce)):(d.icon.dynamicLayoutVertexBuffer.updateData(He),Ce&&d.icon.globeExtVertexBuffer.updateData(Ce))}function Es(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He){const{lineStartIndex:Ce,glyphStartIndex:we,segment:Ge}=M,Oe=we+M.numGlyphs,Xe=Ce+M.lineLength,pt=r.getoffsetX(we),_t=r.getoffsetX(Oe-1),Nt=xs(d*pt,c,f,A,S,E,Ge,Ce,Xe,F,$,q,_e,ve,!0,Le,ke,He);if(!Nt)return null;const Xt=xs(d*_t,c,f,A,S,E,Ge,Ce,Xe,F,$,q,_e,ve,!0,Le,ke,He);return Xt?{first:Nt,last:Xt}:null}function Da(d,r,c,f){return d===a.WritingMode.horizontal&&Math.abs(f)>Math.abs(c)?{useVertical:!0}:d===a.WritingMode.vertical?f>0?{needsFlipping:!0}:null:r!==0&&function(A,S){return A===0||Math.abs(S/A)>ia}(c,f)?r===1?{needsFlipping:!0}:null:c<0?{needsFlipping:!0}:null}function Pr(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He,Ce,we,Ge){const Oe=r/24,Xe=d.lineOffsetX*Oe,pt=d.lineOffsetY*Oe,{lineStartIndex:_t,glyphStartIndex:Nt,numGlyphs:Xt,segment:zt,writingMode:Lt,flipState:Qi}=d,Et=_t+d.lineLength,bi=qt=>{if(q){const[wi,kt,Yt]=qt.up,yn=$.length;a.updateGlobeVertexNormal(q,yn+0,wi,kt,Yt),a.updateGlobeVertexNormal(q,yn+1,wi,kt,Yt),a.updateGlobeVertexNormal(q,yn+2,wi,kt,Yt),a.updateGlobeVertexNormal(q,yn+3,wi,kt,Yt)}const[Wi,ei,Pi]=qt.point;a.addDynamicAttributes($,Wi,ei,Pi,qt.angle)};if(Xt>1){const qt=Es(Oe,M,Xe,pt,c,_e,ve,d,F,S,Le,He,!1,Ce,we,Ge);if(!qt)return{notEnoughRoom:!0};if(f&&!c){let[Wi,ei,Pi]=qt.first.point,[wi,kt,Yt]=qt.last.point;[Wi,ei]=Fs(Wi,ei,Pi,E),[wi,kt]=Fs(wi,kt,Yt,E);const yn=Da(Lt,Qi,(wi-Wi)*ke,kt-ei);if(d.flipState=yn&&yn.needsFlipping?1:2,yn)return yn}bi(qt.first);for(let Wi=Nt+1;Wi<Nt+Xt-1;Wi++){const ei=xs(Oe*M.getoffsetX(Wi),Xe,pt,c,_e,ve,zt,_t,Et,F,S,Le,He,!1,!1,Ce,we,Ge);if(!ei)return $.length-=4*(Wi-Nt),{notEnoughRoom:!0};bi(ei)}bi(qt.last)}else{if(f&&!c){const Wi=Fs(ve.x,ve.y,0,A),ei=_t+zt+1,Pi=new a.pointGeometry(F.getx(ei),F.gety(ei)),wi=Fs(Pi.x,Pi.y,0,A),kt=wi[3]>0?wi:ma(ve,Pi,Wi,1,A,void 0,Ce,we.canonical),Yt=Da(Lt,Qi,(kt[0]-Wi[0])*ke,kt[1]-Wi[1]);if(d.flipState=Yt&&Yt.needsFlipping?1:2,Yt)return Yt}const qt=xs(Oe*M.getoffsetX(Nt),Xe,pt,c,_e,ve,zt,_t,Et,F,S,Le,He,!1,!1,Ce,we,Ge);if(!qt)return{notEnoughRoom:!0};bi(qt)}return{}}function na(d,r,c,f,A){const{x:S,y:E,z:M}=f.projectTilePoint(d.x,d.y,r);if(!A)return Fs(S,E,M,c);const[F,$,q]=A(d);return Fs(S+F,E+$,M+q,c)}function ma(d,r,c,f,A,S,E,M){const F=na(d.sub(r)._unit()._add(d),M,A,E,S);return a.sub(F,c,F),a.normalize(F,F),a.scaleAndAdd(F,c,F,f)}function xs(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He,Ce,we){const Ge=f?d-r:d+r;let Oe=Ge>0?1:-1,Xe=0;f&&(Oe*=-1,Xe=Math.PI),Oe<0&&(Xe+=Math.PI);let pt=M+E+(Oe>0?0:1)|0,_t=A,Nt=A,Xt=0,zt=0;const Lt=Math.abs(Ge),Qi=[],Et=[];let bi=S,qt=bi;const Wi=()=>ma(qt,bi,Nt,Lt-Xt+1,q,ve,He,Ce.canonical);for(;Xt+zt<=Lt;){if(pt+=Oe,pt<M||pt>=F)return null;if(Nt=_t,qt=bi,Qi.push(Nt),Le&&Et.push(qt),bi=new a.pointGeometry($.getx(pt),$.gety(pt)),_t=_e[pt],!_t){const Qn=na(bi,Ce.canonical,q,He,ve);_t=Qn[3]>0?_e[pt]=Qn:Wi()}Xt+=zt,zt=a.distance(Nt,_t)}ke&&ve&&(_e[pt]&&(_t=Wi(),zt=a.distance(Nt,_t)),_e[pt]=_t);const ei=(Lt-Xt)/zt,Pi=bi.sub(qt)._mult(ei)._add(qt),wi=a.sub([],_t,Nt),kt=a.scaleAndAdd([],Nt,wi,ei);let Yt=[0,0,1],yn=wi[0],An=wi[1];if(we&&(Yt=He.upVector(Ce.canonical,Pi.x,Pi.y),Yt[0]!==0||Yt[1]!==0||Yt[2]!==1)){const Qn=[Yt[2],0,-Yt[0]],vr=a.cross([],Yt,Qn);a.normalize(Qn,Qn),a.normalize(vr,vr),yn=a.dot(wi,Qn),An=a.dot(wi,vr)}if(c){const Qn=a.cross([],Yt,wi);a.normalize(Qn,Qn),a.scaleAndAdd(kt,kt,Qn,c*Oe)}const kn=Xe+Math.atan2(An,yn);return Qi.push(kt),Le&&Et.push(Pi),{point:kt,angle:kn,path:Qi,tilePath:Et,up:Yt}}function Zs(d,r){const c=r.length,f=c+4*d;r.resize(f),r.float32.fill(-1/0,4*c,4*f)}function cs(d,r,c){const f=r[0],A=r[1];return d[0]=c[0]*f+c[4]*A+c[12],d[1]=c[1]*f+c[5]*A+c[13],d[3]=c[3]*f+c[7]*A+c[15],d}const ae=100;class se{constructor(r,c,f=new uo(r.width+200,r.height+200,25),A=new uo(r.width+200,r.height+200,25)){this.transform=r,this.grid=f,this.ignoredGrid=A,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+ae,this.screenBottomBoundary=r.height+ae,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=c}placeCollisionBox(r,c,f,A,S,E,M,F){let $=f.projectedAnchorX,q=f.projectedAnchorY,_e=f.projectedAnchorZ;const ve=f.elevation,Le=f.tileID,ke=r.getProjection();if(ve&&Le){const[_t,Nt,Xt]=ke.upVector(Le.canonical,f.tileAnchorX,f.tileAnchorY),zt=ke.upVectorScale(Le.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;$+=_t*ve*zt,q+=Nt*ve*zt,_e+=Xt*ve*zt}const He=this.projectAndGetPerspectiveRatio(M,$,q,_e,f.tileID,ke.name==="globe"||!!ve||this.transform.pitch>0,ke),Ce=E*He.perspectiveRatio,we=(f.x1*c+A.x-f.padding)*Ce+He.point.x,Ge=(f.y1*c+A.y-f.padding)*Ce+He.point.y,Oe=(f.x2*c+A.x+f.padding)*Ce+He.point.x,Xe=(f.y2*c+A.y+f.padding)*Ce+He.point.y,pt=He.perspectiveRatio<=.55||He.occluded;return!this.isInsideGrid(we,Ge,Oe,Xe)||!S&&this.grid.hitTest(we,Ge,Oe,Xe,F)||pt?{box:[],offscreen:!1,occluded:He.occluded}:{box:[we,Ge,Oe,Xe],offscreen:this.isOffscreen(we,Ge,Oe,Xe),occluded:!1}}placeCollisionCircles(r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He){const Ce=[],we=this.transform.elevation,Ge=r.getProjection(),Oe=we?we.getAtTileOffsetFunc(He,this.transform.center.lat,this.transform.worldSize,Ge):null,Xe=new a.pointGeometry(f.tileAnchorX,f.tileAnchorY);let{x:pt,y:_t,z:Nt}=Ge.projectTilePoint(Xe.x,Xe.y,He.canonical);if(Oe){const[Pi,wi,kt]=Oe(Xe);pt+=Pi,_t+=wi,Nt+=kt}const Xt=Ge.name==="globe",zt=this.projectAndGetPerspectiveRatio(M,pt,_t,Nt,He,Xt||!!we||this.transform.pitch>0,Ge),{perspectiveRatio:Lt}=zt,Qi=(_e?E/Lt:E*Lt)/a.ONE_EM,Et=Fs(pt,_t,Nt,F),bi=zt.signedDistanceFromCamera>0?Es(Qi,S,f.lineOffsetX*Qi,f.lineOffsetY*Qi,!1,Et,Xe,f,A,F,{},we&&!_e?Oe:null,_e&&!!we,Ge,He,_e):null;let qt=!1,Wi=!1,ei=!0;if(bi&&!zt.occluded){const Pi=.5*Le*Lt+ke,wi=new a.pointGeometry(-100,-100),kt=new a.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Yt=new Ss,{first:yn,last:An}=bi,kn=yn.path.length;let Qn=[];for(let bn=kn-1;bn>=1;bn--)Qn.push(yn.path[bn]);for(let bn=1;bn<An.path.length;bn++)Qn.push(An.path[bn]);const vr=2.5*Pi;$&&(Qn=Qn.map(([bn,as,Jr],hs)=>(Oe&&!Xt&&(Jr=Oe(hs<kn-1?yn.tilePath[kn-1-hs]:An.tilePath[hs-kn+2])[2]),Fs(bn,as,Jr,$))),Qn.some(bn=>bn[3]<=0)&&(Qn=[]));let Yn=[];if(Qn.length>0){let bn=1/0,as=-1/0,Jr=1/0,hs=-1/0;for(const fs of Qn)bn=Math.min(bn,fs[0]),Jr=Math.min(Jr,fs[1]),as=Math.max(as,fs[0]),hs=Math.max(hs,fs[1]);as>=wi.x&&bn<=kt.x&&hs>=wi.y&&Jr<=kt.y&&(Yn=[Qn.map(fs=>new a.pointGeometry(fs[0],fs[1]))],(bn<wi.x||as>kt.x||Jr<wi.y||hs>kt.y)&&(Yn=a.clipLine(Yn,wi.x,wi.y,kt.x,kt.y)))}for(const bn of Yn){Yt.reset(bn,.25*Pi);let as=0;as=Yt.length<=.5*Pi?1:Math.ceil(Yt.paddedLength/vr)+1;for(let Jr=0;Jr<as;Jr++){const hs=Jr/Math.max(as-1,1),fs=Yt.lerp(hs),Wo=fs.x+ae,ha=fs.y+ae;Ce.push(Wo,ha,Pi,0);const ko=Wo-Pi,xa=ha-Pi,gs=Wo+Pi,Ts=ha+Pi;if(ei=ei&&this.isOffscreen(ko,xa,gs,Ts),Wi=Wi||this.isInsideGrid(ko,xa,gs,Ts),!c&&this.grid.hitTestCircle(Wo,ha,Pi,ve)&&(qt=!0,!q))return{circles:[],offscreen:!1,collisionDetected:qt,occluded:!1}}}}return{circles:!q&&qt||!Wi?[]:Ce,offscreen:ei,collisionDetected:qt,occluded:zt.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let f=1/0,A=1/0,S=-1/0,E=-1/0;for(const q of r){const _e=new a.pointGeometry(q.x+ae,q.y+ae);f=Math.min(f,_e.x),A=Math.min(A,_e.y),S=Math.max(S,_e.x),E=Math.max(E,_e.y),c.push(_e)}const M=this.grid.query(f,A,S,E).concat(this.ignoredGrid.query(f,A,S,E)),F={},$={};for(const q of M){const _e=q.key;if(F[_e.bucketInstanceId]===void 0&&(F[_e.bucketInstanceId]={}),F[_e.bucketInstanceId][_e.featureIndex])continue;const ve=[new a.pointGeometry(q.x1,q.y1),new a.pointGeometry(q.x2,q.y1),new a.pointGeometry(q.x2,q.y2),new a.pointGeometry(q.x1,q.y2)];a.polygonIntersectsPolygon(c,ve)&&(F[_e.bucketInstanceId][_e.featureIndex]=!0,$[_e.bucketInstanceId]===void 0&&($[_e.bucketInstanceId]=[]),$[_e.bucketInstanceId].push(_e.featureIndex))}return $}insertCollisionBox(r,c,f,A,S){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:A,collisionGroupID:S},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,c,f,A,S){const E=c?this.ignoredGrid:this.grid,M={bucketInstanceId:f,featureIndex:A,collisionGroupID:S};for(let F=0;F<r.length;F+=4)E.insertCircle(M,r[F],r[F+1],r[F+2])}projectAndGetPerspectiveRatio(r,c,f,A,S,E,M){const F=[c,f,A,1];let $=!1;if(A||this.transform.pitch>0){a.transformMat4$1(F,F,r);const _e=M.name==="globe";this.fogState&&S&&!_e&&($=function(Le,ke,He,Ce,we,Ge){const Oe=Ge.calculateFogTileMatrix(we),Xe=[ke,He,Ce];return a.transformMat4(Xe,Xe,Oe),be(Le,Xe,Ge.pitch,Ge._fov)}(this.fogState,c,f,A,S.toUnwrapped(),this.transform)>.9)}else cs(F,F,r);const q=F[3];return{point:new a.pointGeometry((F[0]/q+1)/2*this.transform.width+ae,(-F[1]/q+1)/2*this.transform.height+ae),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(M)/q*.5,1.5),signedDistanceFromCamera:q,occluded:E&&F[2]>q||$}}isOffscreen(r,c,f,A){return f<ae||r>=this.screenRightBoundary||A<ae||c>this.screenBottomBoundary}isInsideGrid(r,c,f,A){return f>=0&&r<this.gridRightBoundary&&A>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const r=a.identity([]);return a.translate(r,r,[-100,-100,0]),r}}function ge(d,r,c){const f=r.createTileMatrix(d,d.worldSize,c.toUnwrapped());return a.multiply(new Float32Array(16),d.projMatrix,f)}function Ye(d,r,c){if(r.projection.name===c.projection.name)return d.projMatrix;const f=c.clone();return f.setProjection(r.projection),ge(f,r.getProjection(),d)}function Qt(d,r,c){return r.name===c.projection.name?d.projMatrix:ge(c,r,d)}class Ti{constructor(r,c,f,A){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?c:-c))):A&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class Wt{constructor(r,c,f,A,S,E=!1){this.text=new Ti(r?r.text:null,c,f,S),this.icon=new Ti(r?r.icon:null,c,A,S),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ni{constructor(r,c,f,A=!1){this.text=r,this.icon=c,this.skipFade=f,this.clipped=A}}class te{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class Q{constructor(r,c,f,A,S){this.bucketInstanceId=r,this.featureIndex=c,this.sourceLayerIndex=f,this.bucketIndex=A,this.tileID=S}}class le{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const c=++this.maxGroupID;this.collisionGroups[r]={ID:c,predicate:f=>f.collisionGroupID===c}}return this.collisionGroups[r]}}function Ae(d,r,c,f,A){const{horizontalAlign:S,verticalAlign:E}=a.getAnchorAlignment(d),M=-(S-.5)*r,F=-(E-.5)*c,$=a.evaluateVariableOffset(d,f);return new a.pointGeometry(M+$[0]*A,F+$[1]*A)}function Te(d,r,c,f,A){const S=new a.pointGeometry(d,r);return c&&S._rotate(f?A:-A),S}class wt{constructor(r,c,f,A,S){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new se(this.transform,S),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=c,this.retainedQueryData={},this.collisionGroups=new le(f),this.collisionCircleArrays={},this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,c,f,A){const S=f.getBucket(c),E=f.latestFeatureIndex;if(!S||!E||c.id!==S.layerIds[0])return;const M=S.layers[0].layout,F=f.collisionBoxArray,$=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),q=f.tileSize/a.EXTENT,_e=f.tileID.toUnwrapped();this.transform.setProjection(S.projection);const ve=(Le=f.tileID,ke=S.getProjection(),He=this.transform,ke.name===this.projection?He.calculateProjMatrix(Le.toUnwrapped()):ge(He,ke,Le));var Le,ke,He;const Ce=M.get("text-pitch-alignment")==="map",we=M.get("text-rotation-alignment")==="map";c.compileFilter();const Ge=c.dynamicFilter(),Oe=c.dynamicFilterNeedsFeature(),Xe=this.transform.calculatePixelsToTileUnitsMatrix(f),pt=bo(ve,f.tileID.canonical,Ce,we,this.transform,S.getProjection(),Xe);let _t=null;if(Ce){const zt=vo(ve,f.tileID.canonical,Ce,we,this.transform,S.getProjection(),Xe);_t=a.multiply([],this.transform.labelPlaneMatrix,zt)}let Nt=null;Ge&&f.latestFeatureIndex&&(Nt={unwrappedTileID:_e,dynamicFilter:Ge,dynamicFilterNeedsFeature:Oe,featureIndex:f.latestFeatureIndex}),this.retainedQueryData[S.bucketInstanceId]=new Q(S.bucketInstanceId,E,S.sourceLayerIndex,S.index,f.tileID);const Xt={bucket:S,layout:M,posMatrix:ve,textLabelPlaneMatrix:pt,labelToScreenMatrix:_t,clippingData:Nt,scale:$,textPixelRatio:q,holdingForFade:f.holdingForFade(),collisionBoxArray:F,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(S.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(A)for(const zt of S.sortKeyRanges){const{sortKey:Lt,symbolInstanceStart:Qi,symbolInstanceEnd:Et}=zt;r.push({sortKey:Lt,symbolInstanceStart:Qi,symbolInstanceEnd:Et,parameters:Xt})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:Xt})}attemptAnchorPlacement(r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He,Ce,we,Ge){const{textOffset0:Oe,textOffset1:Xe,crossTileID:pt}=ve,_t=[Oe,Xe],Nt=Ae(r,f,A,_t,S),Xt=this.collisionIndex.placeCollisionBox(ke,S,c,Te(Nt.x,Nt.y,E,M,this.transform.angle),_e,F,$,q.predicate);if(Ce){const zt=ke.getSymbolInstanceIconSize(Ge,this.transform.zoom,ve.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(ke,zt,Ce,Te(Nt.x,Nt.y,E,M,this.transform.angle),_e,F,$,q.predicate).box.length===0)return}if(Xt.box.length>0){let zt;return this.prevPlacement&&this.prevPlacement.variableOffsets[pt]&&this.prevPlacement.placements[pt]&&this.prevPlacement.placements[pt].text&&(zt=this.prevPlacement.variableOffsets[pt].anchor),this.variableOffsets[pt]={textOffset:_t,width:f,height:A,anchor:r,textScale:S,prevAnchor:zt},this.markUsedJustification(ke,r,ve,He),ke.allowVerticalPlacement&&(this.markUsedOrientation(ke,He,ve),this.placedOrientations[pt]=He),{shift:Nt,placedGlyphBoxes:Xt}}}placeLayerBucketPart(r,c,f,A){const{bucket:S,layout:E,posMatrix:M,textLabelPlaneMatrix:F,labelToScreenMatrix:$,clippingData:q,textPixelRatio:_e,holdingForFade:ve,collisionBoxArray:Le,partiallyEvaluatedTextSize:ke,partiallyEvaluatedIconSize:He,collisionGroup:Ce}=r.parameters,we=E.get("text-optional"),Ge=E.get("icon-optional"),Oe=E.get("text-allow-overlap"),Xe=E.get("icon-allow-overlap"),pt=E.get("text-rotation-alignment")==="map",_t=E.get("text-pitch-alignment")==="map",Nt=E.get("icon-text-fit")!=="none",Xt=E.get("symbol-z-order")==="viewport-y";this.transform.setProjection(S.projection);let zt=Oe&&(Xe||!S.hasIconData()||Ge),Lt=Xe&&(Oe||!S.hasTextData()||we);!S.collisionArrays&&Le&&S.deserializeCollisionBoxes(Le),f&&A&&S.updateCollisionDebugBuffers(this.transform.zoom,Le);const Qi=(Et,bi,qt)=>{const{crossTileID:Wi,numVerticalGlyphVertices:ei}=Et;if(q){const gs={zoom:this.transform.zoom,pitch:this.transform.pitch};let Ts=null;if(q.dynamicFilterNeedsFeature){const is=this.retainedQueryData[S.bucketInstanceId];Ts=q.featureIndex.loadFeature({featureIndex:Et.featureIndex,bucketIndex:is.bucketIndex,sourceLayerIndex:is.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(gs,Ts,this.retainedQueryData[S.bucketInstanceId].tileID.canonical,new a.pointGeometry(Et.tileAnchorX,Et.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Wi]=new Ni(!1,!1,!1,!0),void(c[Wi]=!0)}if(c[Wi])return;if(ve)return void(this.placements[Wi]=new Ni(!1,!1,!1));let Pi=!1,wi=!1,kt=!0,Yt=!1,yn=!1,An=null,kn={box:null,offscreen:null,occluded:null},Qn={box:null,offscreen:null,occluded:null},vr=null,Yn=null,bn=null,as=0,Jr=0,hs=0;qt.textFeatureIndex?as=qt.textFeatureIndex:Et.useRuntimeCollisionCircles&&(as=Et.featureIndex),qt.verticalTextFeatureIndex&&(Jr=qt.verticalTextFeatureIndex);const fs=gs=>{gs.tileID=this.retainedQueryData[S.bucketInstanceId].tileID;const Ts=this.transform.elevation;(Ts||gs.elevation)&&(gs.elevation=Ts?Ts.getAtTileOffset(gs.tileID,gs.tileAnchorX,gs.tileAnchorY):0)},Wo=qt.textBox;if(Wo){fs(Wo);const gs=is=>{let js=a.WritingMode.horizontal;if(S.allowVerticalPlacement&&!is&&this.prevPlacement){const Co=this.prevPlacement.placedOrientations[Wi];Co&&(this.placedOrientations[Wi]=Co,js=Co,this.markUsedOrientation(S,js,Et))}return js},Ts=(is,js)=>{if(S.allowVerticalPlacement&&ei>0&&qt.verticalTextBox){for(const Co of S.writingModes)if(Co===a.WritingMode.vertical?(kn=js(),Qn=kn):kn=is(),kn&&kn.box&&kn.box.length)break}else kn=is()};if(E.get("text-variable-anchor")){let is=E.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Wi]){const Cs=this.prevPlacement.variableOffsets[Wi];is.indexOf(Cs.anchor)>0&&(is=is.filter(Xo=>Xo!==Cs.anchor),is.unshift(Cs.anchor))}const js=(Cs,Xo,Gl)=>{const ks=S.getSymbolInstanceTextSize(ke,Et,this.transform.zoom,bi),Po=(Cs.x2-Cs.x1)*ks+2*Cs.padding,z=(Cs.y2-Cs.y1)*ks+2*Cs.padding,ne=Nt&&!Xe?Xo:null;ne&&fs(ne);let fe={box:[],offscreen:!1,occluded:!1};const qe=Oe?2*is.length:is.length;for(let St=0;St<qe;++St){const Mt=this.attemptAnchorPlacement(is[St%is.length],Cs,Po,z,ks,pt,_t,_e,M,Ce,St>=is.length,Et,bi,S,Gl,ne,ke,He);if(Mt&&(fe=Mt.placedGlyphBoxes,fe&&fe.box&&fe.box.length)){Pi=!0,An=Mt.shift;break}}return fe};Ts(()=>js(Wo,qt.iconBox,a.WritingMode.horizontal),()=>{const Cs=qt.verticalTextBox;return Cs&&fs(Cs),S.allowVerticalPlacement&&!(kn&&kn.box&&kn.box.length)&&ei>0&&Cs?js(Cs,qt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),kn&&(Pi=kn.box,kt=kn.offscreen,Yt=kn.occluded);const Co=gs(kn&&kn.box);if(!Pi&&this.prevPlacement){const Cs=this.prevPlacement.variableOffsets[Wi];Cs&&(this.variableOffsets[Wi]=Cs,this.markUsedJustification(S,Cs.anchor,Et,Co))}}else{const is=(js,Co)=>{const Cs=S.getSymbolInstanceTextSize(ke,Et,this.transform.zoom,bi),Xo=this.collisionIndex.placeCollisionBox(S,Cs,js,new a.pointGeometry(0,0),Oe,_e,M,Ce.predicate);return Xo&&Xo.box&&Xo.box.length&&(this.markUsedOrientation(S,Co,Et),this.placedOrientations[Wi]=Co),Xo};Ts(()=>is(Wo,a.WritingMode.horizontal),()=>{const js=qt.verticalTextBox;return S.allowVerticalPlacement&&ei>0&&js?(fs(js),is(js,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gs(kn&&kn.box&&kn.box.length)}}if(vr=kn,Pi=vr&&vr.box&&vr.box.length>0,kt=vr&&vr.offscreen,Yt=vr&&vr.occluded,Et.useRuntimeCollisionCircles){const gs=S.text.placedSymbolArray.get(Et.centerJustifiedTextSymbolIndex>=0?Et.centerJustifiedTextSymbolIndex:Et.verticalPlacedTextSymbolIndex),Ts=a.evaluateSizeForFeature(S.textSizeData,ke,gs),is=E.get("text-padding");Yn=this.collisionIndex.placeCollisionCircles(S,Oe,gs,S.lineVertexArray,S.glyphOffsetArray,Ts,M,F,$,f,_t,Ce.predicate,Et.collisionCircleDiameter*Ts/a.ONE_EM,is,this.retainedQueryData[S.bucketInstanceId].tileID),Pi=Oe||Yn.circles.length>0&&!Yn.collisionDetected,kt=kt&&Yn.offscreen,Yt=Yn.occluded}if(qt.iconFeatureIndex&&(hs=qt.iconFeatureIndex),qt.iconBox){const gs=Ts=>{fs(Ts);const is=Nt&&An?Te(An.x,An.y,pt,_t,this.transform.angle):new a.pointGeometry(0,0),js=S.getSymbolInstanceIconSize(He,this.transform.zoom,Et.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(S,js,Ts,is,Xe,_e,M,Ce.predicate)};Qn&&Qn.box&&Qn.box.length&&qt.verticalIconBox?(bn=gs(qt.verticalIconBox),wi=bn.box.length>0):(bn=gs(qt.iconBox),wi=bn.box.length>0),kt=kt&&bn.offscreen,yn=bn.occluded}const ha=we||Et.numHorizontalGlyphVertices===0&&ei===0,ko=Ge||Et.numIconVertices===0;if(ha||ko?ko?ha||(wi=wi&&Pi):Pi=wi&&Pi:wi=Pi=wi&&Pi,Pi&&vr&&vr.box&&this.collisionIndex.insertCollisionBox(vr.box,E.get("text-ignore-placement"),S.bucketInstanceId,Qn&&Qn.box&&Jr?Jr:as,Ce.ID),wi&&bn&&this.collisionIndex.insertCollisionBox(bn.box,E.get("icon-ignore-placement"),S.bucketInstanceId,hs,Ce.ID),Yn&&(Pi&&this.collisionIndex.insertCollisionCircles(Yn.circles,E.get("text-ignore-placement"),S.bucketInstanceId,as,Ce.ID),f)){const gs=S.bucketInstanceId;let Ts=this.collisionCircleArrays[gs];Ts===void 0&&(Ts=this.collisionCircleArrays[gs]=new te);for(let is=0;is<Yn.circles.length;is+=4)Ts.circles.push(Yn.circles[is+0]),Ts.circles.push(Yn.circles[is+1]),Ts.circles.push(Yn.circles[is+2]),Ts.circles.push(Yn.collisionDetected?1:0)}const xa=S.projection.name!=="globe";zt=zt&&(xa||!Yt),Lt=Lt&&(xa||!yn),this.placements[Wi]=new Ni(Pi||zt,wi||Lt,kt||S.justReloaded),c[Wi]=!0};if(Xt){const Et=S.getSortedSymbolIndexes(this.transform.angle);for(let bi=Et.length-1;bi>=0;--bi){const qt=Et[bi];Qi(S.symbolInstances.get(qt),qt,S.collisionArrays[qt])}}else for(let Et=r.symbolInstanceStart;Et<r.symbolInstanceEnd;Et++)Qi(S.symbolInstances.get(Et),Et,S.collisionArrays[Et]);if(f&&S.bucketInstanceId in this.collisionCircleArrays){const Et=this.collisionCircleArrays[S.bucketInstanceId];a.invert(Et.invProjMatrix,M),Et.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(r,c,f,A){const{leftJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:M,verticalPlacedTextSymbolIndex:F,crossTileID:$}=f,q=a.getAnchorJustification(c),_e=A===a.WritingMode.vertical?F:q==="left"?S:q==="center"?E:q==="right"?M:-1;S>=0&&(r.text.placedSymbolArray.get(S).crossTileID=_e>=0&&S!==_e?0:$),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=_e>=0&&E!==_e?0:$),M>=0&&(r.text.placedSymbolArray.get(M).crossTileID=_e>=0&&M!==_e?0:$),F>=0&&(r.text.placedSymbolArray.get(F).crossTileID=_e>=0&&F!==_e?0:$)}markUsedOrientation(r,c,f){const A=c===a.WritingMode.horizontal||c===a.WritingMode.horizontalOnly?c:0,S=c===a.WritingMode.vertical?c:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:M,rightJustifiedTextSymbolIndex:F,verticalPlacedTextSymbolIndex:$}=f,q=r.text.placedSymbolArray;E>=0&&(q.get(E).placedOrientation=A),M>=0&&(q.get(M).placedOrientation=A),F>=0&&(q.get(F).placedOrientation=A),$>=0&&(q.get($).placedOrientation=S)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let f=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const A=c?c.symbolFadeChange(r):1,S=c?c.opacities:{},E=c?c.variableOffsets:{},M=c?c.placedOrientations:{};for(const F in this.placements){const $=this.placements[F],q=S[F];q?(this.opacities[F]=new Wt(q,A,$.text,$.icon,null,$.clipped),f=f||$.text!==q.text.placed||$.icon!==q.icon.placed):(this.opacities[F]=new Wt(null,A,$.text,$.icon,$.skipFade,$.clipped),f=f||$.text||$.icon)}for(const F in S){const $=S[F];if(!this.opacities[F]){const q=new Wt($,A,!1,!1);q.isHidden()||(this.opacities[F]=q,f=f||$.text.placed||$.icon.placed)}}for(const F in E)this.variableOffsets[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.variableOffsets[F]=E[F]);for(const F in M)this.placedOrientations[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.placedOrientations[F]=M[F]);f?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:r)}updateLayerOpacities(r,c){const f={};for(const A of c){const S=A.getBucket(r);S&&A.latestFeatureIndex&&r.id===S.layerIds[0]&&this.updateBucketOpacities(S,f,A.collisionBoxArray)}}updateBucketOpacities(r,c,f){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const A=r.layers[0].layout,S=!!r.layers[0].dynamicFilter(),E=new Wt(null,0,!1,!1,!0),M=A.get("text-allow-overlap"),F=A.get("icon-allow-overlap"),$=A.get("text-variable-anchor"),q=A.get("text-rotation-alignment")==="map",_e=A.get("text-pitch-alignment")==="map",ve=A.get("icon-text-fit")!=="none",Le=new Wt(null,0,M&&(F||!r.hasIconData()||A.get("icon-optional")),F&&(M||!r.hasTextData()||A.get("text-optional")),!0);!r.collisionArrays&&f&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(f);const ke=(Ce,we,Ge)=>{for(let Oe=0;Oe<we/4;Oe++)Ce.opacityVertexArray.emplaceBack(Ge)};let He=0;for(let Ce=0;Ce<r.symbolInstances.length;Ce++){const we=r.symbolInstances.get(Ce),{numHorizontalGlyphVertices:Ge,numVerticalGlyphVertices:Oe,crossTileID:Xe,numIconVertices:pt}=we;let _t=this.opacities[Xe];c[Xe]?_t=E:_t||(_t=Le,this.opacities[Xe]=_t),c[Xe]=!0;const Nt=Ge>0||Oe>0,Xt=pt>0,zt=this.placedOrientations[Xe],Lt=zt===a.WritingMode.vertical,Qi=zt===a.WritingMode.horizontal||zt===a.WritingMode.horizontalOnly;if(!Nt&&!Xt||_t.isHidden()||He++,Nt){const Et=rn(_t.text);ke(r.text,Ge,Lt?Ci:Et),ke(r.text,Oe,Qi?Ci:Et);const bi=_t.text.isHidden(),{leftJustifiedTextSymbolIndex:qt,centerJustifiedTextSymbolIndex:Wi,rightJustifiedTextSymbolIndex:ei,verticalPlacedTextSymbolIndex:Pi}=we,wi=r.text.placedSymbolArray,kt=bi||Lt?1:0;qt>=0&&(wi.get(qt).hidden=kt),Wi>=0&&(wi.get(Wi).hidden=kt),ei>=0&&(wi.get(ei).hidden=kt),Pi>=0&&(wi.get(Pi).hidden=bi||Qi?1:0);const Yt=this.variableOffsets[Xe];Yt&&this.markUsedJustification(r,Yt.anchor,we,zt);const yn=this.placedOrientations[Xe];yn&&(this.markUsedJustification(r,"left",we,yn),this.markUsedOrientation(r,yn,we))}if(Xt){const Et=rn(_t.icon),{placedIconSymbolIndex:bi,verticalPlacedIconSymbolIndex:qt}=we,Wi=r.icon.placedSymbolArray,ei=_t.icon.isHidden()?1:0;bi>=0&&(ke(r.icon,pt,Lt?Ci:Et),Wi.get(bi).hidden=ei),qt>=0&&(ke(r.icon,we.numVerticalIconVertices,Qi?Ci:Et),Wi.get(qt).hidden=ei)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const Et=r.collisionArrays[Ce];if(Et){let bi=new a.pointGeometry(0,0),qt=!0;if(Et.textBox||Et.verticalTextBox){if($){const ei=this.variableOffsets[Xe];ei?(bi=Ae(ei.anchor,ei.width,ei.height,ei.textOffset,ei.textScale),q&&bi._rotate(_e?this.transform.angle:-this.transform.angle)):qt=!1}S&&(qt=!_t.clipped),Et.textBox&&Bt(r.textCollisionBox.collisionVertexArray,_t.text.placed,!qt||Lt,bi.x,bi.y),Et.verticalTextBox&&Bt(r.textCollisionBox.collisionVertexArray,_t.text.placed,!qt||Qi,bi.x,bi.y)}const Wi=qt&&Boolean(!Qi&&Et.verticalIconBox);Et.iconBox&&Bt(r.iconCollisionBox.collisionVertexArray,_t.icon.placed,Wi,ve?bi.x:0,ve?bi.y:0),Et.verticalIconBox&&Bt(r.iconCollisionBox.collisionVertexArray,_t.icon.placed,!Wi,ve?bi.x:0,ve?bi.y:0)}}}if(r.fullyClipped=He===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const Ce=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=Ce.invProjMatrix,r.placementViewportMatrix=Ce.viewportMatrix,r.collisionCircleArray=Ce.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,c){const f=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*f>r}setStale(){this.stale=!0}}function Bt(d,r,c,f,A){d.emplaceBack(r?1:0,c?1:0,f||0,A||0),d.emplaceBack(r?1:0,c?1:0,f||0,A||0),d.emplaceBack(r?1:0,c?1:0,f||0,A||0),d.emplaceBack(r?1:0,c?1:0,f||0,A||0)}const di=Math.pow(2,25),qi=Math.pow(2,24),_n=Math.pow(2,17),mi=Math.pow(2,16),gi=Math.pow(2,9),vn=Math.pow(2,8),Ii=Math.pow(2,1);function rn(d){if(d.opacity===0&&!d.placed)return 0;if(d.opacity===1&&d.placed)return 4294967295;const r=d.placed?1:0,c=Math.floor(127*d.opacity);return c*di+r*qi+c*_n+r*mi+c*gi+r*vn+c*Ii+r}const Ci=0;class wn{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,c,f,A,S){const E=this._bucketParts;for(;this._currentTileIndex<r.length;)if(c.getBucketParts(E,A,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((M,F)=>M.sortKey-F.sortKey));this._currentPartIndex<E.length;){const M=E[this._currentPartIndex];if(c.placeLayerBucketPart(M,this._seenCrossTileIDs,f,M.symbolInstanceStart===0),this._currentPartIndex++,S())return!0}return!1}}class Bn{constructor(r,c,f,A,S,E,M,F){this.placement=new wt(r,S,E,M,F),this._currentPlacementIndex=c.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=A,this._done=!1}isDone(){return this._done}continuePlacement(r,c,f){const A=a.exported.now(),S=()=>{const E=a.exported.now()-A;return!this._forceFullPlacement&&E>2};for(;this._currentPlacementIndex>=0;){const E=c[r[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=M)&&(!E.maxzoom||E.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new wn(E)),this._inProgressLayer.continuePlacement(f[E.source],this.placement,this._showCollisionBoxes,E,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const nr=512/a.EXTENT/2;class rr{constructor(r,c,f){this.tileID=r,this.indexedSymbolInstances={},this.bucketInstanceId=f;for(let A=0;A<c.length;A++){const S=c.get(A),E=S.key;this.indexedSymbolInstances[E]||(this.indexedSymbolInstances[E]=[]),this.indexedSymbolInstances[E].push({crossTileID:S.crossTileID,coord:this.getScaledCoordinates(S,r)})}}getScaledCoordinates(r,c){const f=nr/Math.pow(2,c.canonical.z-this.tileID.canonical.z);return{x:Math.floor((c.canonical.x*a.EXTENT+r.tileAnchorX)*f),y:Math.floor((c.canonical.y*a.EXTENT+r.tileAnchorY)*f)}}findMatches(r,c,f){const A=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let S=0;S<r.length;S++){const E=r.get(S);if(E.crossTileID)continue;const M=this.indexedSymbolInstances[E.key];if(!M)continue;const F=this.getScaledCoordinates(E,c);for(const $ of M)if(Math.abs($.coord.x-F.x)<=A&&Math.abs($.coord.y-F.y)<=A&&!f[$.crossTileID]){f[$.crossTileID]=!0,E.crossTileID=$.crossTileID;break}}}}class Rr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Nr{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const c=Math.round((r-this.lng)/360);if(c!==0)for(const f in this.indexes){const A=this.indexes[f],S={};for(const E in A){const M=A[E];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+c),S[M.tileID.key]=M}this.indexes[f]=S}this.lng=r}addBucket(r,c,f){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let S=0;S<c.symbolInstances.length;S++)c.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});const A=this.usedCrossTileIDs[r.overscaledZ];for(const S in this.indexes){const E=this.indexes[S];if(Number(S)>r.overscaledZ)for(const M in E){const F=E[M];F.tileID.isChildOf(r)&&F.findMatches(c.symbolInstances,r,A)}else{const M=E[r.scaledTo(Number(S)).key];M&&M.findMatches(c.symbolInstances,r,A)}}for(let S=0;S<c.symbolInstances.length;S++){const E=c.symbolInstances.get(S);E.crossTileID||(E.crossTileID=f.generate(),A[E.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new rr(r,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(r,c){for(const f in c.indexedSymbolInstances)for(const A of c.indexedSymbolInstances[f])delete this.usedCrossTileIDs[r][A.crossTileID]}removeStaleBuckets(r){let c=!1;for(const f in this.indexes){const A=this.indexes[f];for(const S in A)r[A[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,A[S]),delete A[S],c=!0)}return c}}class Ki{constructor(){this.layerIndexes={},this.crossTileIDs=new Rr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,c,f,A){let S=this.layerIndexes[r.id];S===void 0&&(S=this.layerIndexes[r.id]=new Nr);let E=!1;const M={};A.name!=="globe"&&S.handleWrapJump(f);for(const F of c){const $=F.getBucket(r);$&&r.id===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(F.tileID,$,this.crossTileIDs)&&(E=!0),M[$.bucketInstanceId]=!0)}return S.removeStaleBuckets(M)&&(E=!0),E}pruneUnusedLayers(r){const c={};r.forEach(f=>{c[f]=!0});for(const f in this.layerIndexes)c[f]||delete this.layerIndexes[f]}}const ls=(d,r)=>a.emitValidationErrors(d,r&&r.filter(c=>c.identifier!=="source.canvas")),pr=a.pick(On,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Os=a.pick(On,["setCenter","setZoom","setBearing","setPitch"]),or={version:8,layers:[],sources:{}},So={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ms extends a.Evented{constructor(r,c={}){super(),this.map=r,this.dispatcher=new Vt(ir(),this),this.imageManager=new ze,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(r._requestManager,c.localFontFamily?a.LocalGlyphMode.all:c.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,c.localFontFamily||c.localIdeographFontFamily),this.crossTileSymbolIndex=new Ki,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const f=this;this._rtlTextPluginCallback=Ms.registerForPluginStateChange(A=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:A.pluginStatus,pluginURL:A.pluginURL},(S,E)=>{if(a.triggerPluginCompletionEvent(S),E&&E.every(M=>M))for(const M in f._sourceCaches){const F=f._sourceCaches[M],$=F.getSource().type;$!=="vector"&&$!=="geojson"||F.reload()}})}),this.on("data",A=>{if(A.dataType!=="source"||A.sourceDataType!=="metadata")return;const S=this.getSource(A.sourceId);if(S&&S.vectorLayerIds)for(const E in this._layers){const M=this._layers[E];M.source===S.id&&this._validateLayer(M)}})}loadURL(r,c={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const f=typeof c.validate=="boolean"?c.validate:!a.isMapboxURL(r);r=this.map._requestManager.normalizeStyleURL(r,c.accessToken);const A=this.map._requestManager.transformRequest(r,a.ResourceType.Style);this._request=a.getJSON(A,(S,E)=>{this._request=null,S?this.fire(new a.ErrorEvent(S)):E&&this._load(E,f)})}loadJSON(r,c={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(r,c.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(or,!1)}_updateLayerCount(r,c){const f=c?1:-1;r.is3D()&&(this._num3DLayers+=f),r.type==="circle"&&(this._numCircleLayers+=f),r.type==="symbol"&&(this._numSymbolLayers+=f)}_load(r,c){if(c&&ls(this,a.validateStyle(r)))return;this._loaded=!0,this.stylesheet=a.clone$1(r),this._updateMapProjection();for(const A in r.sources)this.addSource(A,r.sources[A],{validate:!1});this._changed=!1,r.sprite?this._loadSprite(r.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(r.glyphs);const f=Br(this.stylesheet.layers);this._order=f.map(A=>A.id),this._layers={},this._serializedLayers={};for(let A of f)A=a.createStyleLayer(A),A.setEventedParent(this,{layer:{id:A.id}}),this._layers[A.id]=A,this._serializedLayers[A.id]=A.serialize(),this._updateLayerCount(A,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new oi(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(r){this._spriteRequest=function(c,f,A){let S,E,M;const F=a.exported.devicePixelRatio>1?"@2x":"";let $=a.getJSON(f.transformRequest(f.normalizeSpriteURL(c,F,".json"),a.ResourceType.SpriteJSON),(ve,Le)=>{$=null,M||(M=ve,S=Le,_e())}),q=a.getImage(f.transformRequest(f.normalizeSpriteURL(c,F,".png"),a.ResourceType.SpriteImage),(ve,Le)=>{q=null,M||(M=ve,E=Le,_e())});function _e(){if(M)A(M);else if(S&&E){const ve=a.exported.getImageData(E),Le={};for(const ke in S){const{width:He,height:Ce,x:we,y:Ge,sdf:Oe,pixelRatio:Xe,stretchX:pt,stretchY:_t,content:Nt}=S[ke],Xt=new a.RGBAImage({width:He,height:Ce});a.RGBAImage.copy(ve,Xt,{x:we,y:Ge},{x:0,y:0},{width:He,height:Ce}),Le[ke]={data:Xt,pixelRatio:Xe,sdf:Oe,stretchX:pt,stretchY:_t,content:Nt}}A(null,Le)}}return{cancel(){$&&($.cancel(),$=null),q&&(q.cancel(),q=null)}}}(r,this.map._requestManager,(c,f)=>{if(this._spriteRequest=null,c)this.fire(new a.ErrorEvent(c));else if(f)for(const A in f)this.imageManager.addImage(A,f[A]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(r){const c=this.getSource(r.source);if(!c)return;const f=r.sourceLayer;f&&(c.type==="geojson"||c.vectorLayerIds&&c.vectorLayerIds.indexOf(f)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${f}" does not exist on source "${c.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(r){const c=[];for(const f of r){const A=this._layers[f];A.type!=="custom"&&c.push(A.serialize())}return c}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(r){return!!this.terrain&&So[r.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(r){if(!this._loaded)return;const c=this._changed;if(this._changed){const A=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(A.length||S.length)&&this._updateWorkerLayers(A,S);for(const E in this._updatedSources){const M=this._updatedSources[E];M==="reload"?this._reloadSource(E):M==="clear"&&this._clearSource(E)}this._updateTilesForChangedImages();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(r);this.light.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this._resetUpdates()}const f={};for(const A in this._sourceCaches){const S=this._sourceCaches[A];f[A]=S.used,S.used=!1}for(const A of this._order){const S=this._layers[A];if(S.recalculate(r,this._availableImages),!S.isHidden(r.zoom)){const M=this._getLayerSourceCache(S);M&&(M.used=!0)}const E=this.map.painter;if(E){const M=S.getProgramIds();if(!M)continue;const F=S.getProgramConfiguration(r.zoom);for(const $ of M)E.useProgram($,F)}}for(const A in f){const S=this._sourceCaches[A];f[A]!==S.used&&S.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),c&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=Object.keys(this._changedImages);if(r.length){for(const c in this._sourceCaches)this._sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateWorkerLayers(r,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(r),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(r){if(this._checkLoaded(),ls(this,a.validateStyle(r)))return!1;(r=a.clone$1(r)).layers=Br(r.layers);const c=function(A,S){if(!A)return[{command:On.setStyle,args:[S]}];let E=[];try{if(!j(A.version,S.version))return[{command:On.setStyle,args:[S]}];j(A.center,S.center)||E.push({command:On.setCenter,args:[S.center]}),j(A.zoom,S.zoom)||E.push({command:On.setZoom,args:[S.zoom]}),j(A.bearing,S.bearing)||E.push({command:On.setBearing,args:[S.bearing]}),j(A.pitch,S.pitch)||E.push({command:On.setPitch,args:[S.pitch]}),j(A.sprite,S.sprite)||E.push({command:On.setSprite,args:[S.sprite]}),j(A.glyphs,S.glyphs)||E.push({command:On.setGlyphs,args:[S.glyphs]}),j(A.transition,S.transition)||E.push({command:On.setTransition,args:[S.transition]}),j(A.light,S.light)||E.push({command:On.setLight,args:[S.light]}),j(A.fog,S.fog)||E.push({command:On.setFog,args:[S.fog]}),j(A.projection,S.projection)||E.push({command:On.setProjection,args:[S.projection]});const M={},F=[];(function(_e,ve,Le,ke){let He;for(He in ve=ve||{},_e=_e||{})_e.hasOwnProperty(He)&&(ve.hasOwnProperty(He)||Gr(He,Le,ke));for(He in ve)ve.hasOwnProperty(He)&&(_e.hasOwnProperty(He)?j(_e[He],ve[He])||(_e[He].type==="geojson"&&ve[He].type==="geojson"&&Ao(_e,ve,He)?Le.push({command:On.setGeoJSONSourceData,args:[He,ve[He].data]}):us(He,ve,Le,ke)):$r(He,ve,Le))})(A.sources,S.sources,F,M);const $=[];A.layers&&A.layers.forEach(_e=>{_e.source&&M[_e.source]?E.push({command:On.removeLayer,args:[_e.id]}):$.push(_e)});let q=A.terrain;q&&M[q.source]&&(E.push({command:On.setTerrain,args:[void 0]}),q=void 0),E=E.concat(F),j(q,S.terrain)||E.push({command:On.setTerrain,args:[S.terrain]}),function(_e,ve,Le){ve=ve||[];const ke=(_e=_e||[]).map(ui),He=ve.map(ui),Ce=_e.reduce(jo,{}),we=ve.reduce(jo,{}),Ge=ke.slice(),Oe=Object.create(null);let Xe,pt,_t,Nt,Xt,zt,Lt;for(Xe=0,pt=0;Xe<ke.length;Xe++)_t=ke[Xe],we.hasOwnProperty(_t)?pt++:(Le.push({command:On.removeLayer,args:[_t]}),Ge.splice(Ge.indexOf(_t,pt),1));for(Xe=0,pt=0;Xe<He.length;Xe++)_t=He[He.length-1-Xe],Ge[Ge.length-1-Xe]!==_t&&(Ce.hasOwnProperty(_t)?(Le.push({command:On.removeLayer,args:[_t]}),Ge.splice(Ge.lastIndexOf(_t,Ge.length-pt),1)):pt++,zt=Ge[Ge.length-Xe],Le.push({command:On.addLayer,args:[we[_t],zt]}),Ge.splice(Ge.length-Xe,0,_t),Oe[_t]=!0);for(Xe=0;Xe<He.length;Xe++)if(_t=He[Xe],Nt=Ce[_t],Xt=we[_t],!Oe[_t]&&!j(Nt,Xt))if(j(Nt.source,Xt.source)&&j(Nt["source-layer"],Xt["source-layer"])&&j(Nt.type,Xt.type)){for(Lt in Hs(Nt.layout,Xt.layout,Le,_t,null,On.setLayoutProperty),Hs(Nt.paint,Xt.paint,Le,_t,null,On.setPaintProperty),j(Nt.filter,Xt.filter)||Le.push({command:On.setFilter,args:[_t,Xt.filter]}),j(Nt.minzoom,Xt.minzoom)&&j(Nt.maxzoom,Xt.maxzoom)||Le.push({command:On.setLayerZoomRange,args:[_t,Xt.minzoom,Xt.maxzoom]}),Nt)Nt.hasOwnProperty(Lt)&&Lt!=="layout"&&Lt!=="paint"&&Lt!=="filter"&&Lt!=="metadata"&&Lt!=="minzoom"&&Lt!=="maxzoom"&&(Lt.indexOf("paint.")===0?Hs(Nt[Lt],Xt[Lt],Le,_t,Lt.slice(6),On.setPaintProperty):j(Nt[Lt],Xt[Lt])||Le.push({command:On.setLayerProperty,args:[_t,Lt,Xt[Lt]]}));for(Lt in Xt)Xt.hasOwnProperty(Lt)&&!Nt.hasOwnProperty(Lt)&&Lt!=="layout"&&Lt!=="paint"&&Lt!=="filter"&&Lt!=="metadata"&&Lt!=="minzoom"&&Lt!=="maxzoom"&&(Lt.indexOf("paint.")===0?Hs(Nt[Lt],Xt[Lt],Le,_t,Lt.slice(6),On.setPaintProperty):j(Nt[Lt],Xt[Lt])||Le.push({command:On.setLayerProperty,args:[_t,Lt,Xt[Lt]]}))}else Le.push({command:On.removeLayer,args:[_t]}),zt=Ge[Ge.lastIndexOf(_t)+1],Le.push({command:On.addLayer,args:[Xt,zt]})}($,S.layers,E)}catch(M){console.warn("Unable to compute style diff:",M),E=[{command:On.setStyle,args:[S]}]}return E}(this.serialize(),r).filter(A=>!(A.command in Os));if(c.length===0)return!1;const f=c.filter(A=>!(A.command in pr));if(f.length>0)throw new Error(`Unimplemented: ${f.map(A=>A.command).join(", ")}.`);return c.forEach(A=>{A.command!=="setTransition"&&A.command!=="setProjection"&&this[A.command].apply(this,A.args)}),this.stylesheet=r,this._updateMapProjection(),!0}addImage(r,c){return this.getImage(r)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,c),this._afterImageUpdated(r),this)}updateImage(r,c){this.imageManager.updateImage(r,c)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r),this._afterImageUpdated(r),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(r,c,f={}){if(this._checkLoaded(),this.getSource(r)!==void 0)throw new Error("There is already a source with this ID");if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(a.validateSource,`sources.${r}`,c,null,f))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const A=It(r,c,this.dispatcher,this);A.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(r),source:A.serialize(),sourceId:r}));const S=E=>{const M=(E?"symbol:":"other:")+r,F=this._sourceCaches[M]=new a.SourceCache(M,A,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[r]=F,F.style=this,F.onAdd(this.map)};S(!1),c.type!=="vector"&&c.type!=="geojson"||S(!0),A.onAdd&&A.onAdd(this.map),this._changed=!0}removeSource(r){this._checkLoaded();const c=this.getSource(r);if(!c)throw new Error("There is no source with this ID");for(const A in this._layers)if(this._layers[A].source===r)return this.fire(new a.ErrorEvent(new Error(`Source "${r}" cannot be removed while layer "${A}" is using it.`)));if(this.terrain&&this.terrain.get().source===r)return this.fire(new a.ErrorEvent(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const f=this._getSourceCaches(r);for(const A of f)delete this._sourceCaches[A.id],delete this._updatedSources[A.id],A.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:A.getSource().id})),A.setEventedParent(null),A.clearTiles();return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],c.setEventedParent(null),c.onRemove&&c.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(r,c){this._checkLoaded(),this.getSource(r).setData(c),this._changed=!0}getSource(r){const c=this._getSourceCache(r);return c&&c.getSource()}_getSources(){const r=[];for(const c in this._otherSourceCaches){const f=this._getSourceCache(c);f&&r.push(f.getSource())}return r}addLayer(r,c,f={}){this._checkLoaded();const A=r.id;if(this.getLayer(A))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${A}" already exists on this map`)));let S;if(r.type==="custom"){if(ls(this,a.validateCustomStyleLayer(r)))return;S=a.createStyleLayer(r)}else{if(typeof r.source=="object"&&(this.addSource(A,r.source),r=a.clone$1(r),r=a.extend(r,{source:A})),this._validate(a.validateLayer,`layers.${A}`,r,{arrayIndex:-1},f))return;S=a.createStyleLayer(r),this._validateLayer(S),S.setEventedParent(this,{layer:{id:A}}),this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}const E=c?this._order.indexOf(c):this._order.length;if(c&&E===-1)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`)));this._order.splice(E,0,A),this._layerOrderChanged=!0,this._layers[A]=S;const M=this._getLayerSourceCache(S);if(this._removedLayers[A]&&S.source&&M&&S.type!=="custom"){const F=this._removedLayers[A];delete this._removedLayers[A],F.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",M.pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(r,c){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===c)return;const f=this._order.indexOf(r);this._order.splice(f,1);const A=c?this._order.indexOf(c):this._order.length;c&&A===-1?this.fire(new a.ErrorEvent(new Error(`Layer with id "${c}" does not exist on this map.`))):(this._order.splice(A,0,r),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(r){this._checkLoaded();const c=this._layers[r];if(!c)return void this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be removed.`)));c.setEventedParent(null),this._updateLayerCount(c,!1);const f=this._order.indexOf(r);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=c,delete this._layers[r],delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],c.onRemove&&c.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(r){return this._layers[r]}hasLayer(r){return r in this._layers}hasLayerType(r){for(const c in this._layers)if(this._layers[c].type===r)return!0;return!1}setLayerZoomRange(r,c,f){this._checkLoaded();const A=this.getLayer(r);A?A.minzoom===c&&A.maxzoom===f||(c!=null&&(A.minzoom=c),f!=null&&(A.maxzoom=f),this._updateLayer(A)):this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(r,c,f={}){this._checkLoaded();const A=this.getLayer(r);if(A){if(!j(A.filter,c))return c==null?(A.filter=void 0,void this._updateLayer(A)):void(this._validate(a.validateFilter,`layers.${A.id}.filter`,c,{layerType:A.type},f)||(A.filter=a.clone$1(c),this._updateLayer(A)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be filtered.`)))}getFilter(r){const c=this.getLayer(r);return c&&a.clone$1(c.filter)}setLayoutProperty(r,c,f,A={}){this._checkLoaded();const S=this.getLayer(r);S?j(S.getLayoutProperty(c),f)||(S.setLayoutProperty(c,f,A),this._updateLayer(S)):this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(r,c){const f=this.getLayer(r);if(f)return f.getLayoutProperty(c);this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style.`)))}setPaintProperty(r,c,f,A={}){this._checkLoaded();const S=this.getLayer(r);S?j(S.getPaintProperty(c),f)||(S.setPaintProperty(c,f,A)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(r,c){const f=this.getLayer(r);return f&&f.getPaintProperty(c)}setFeatureState(r,c){this._checkLoaded();const f=r.source,A=r.sourceLayer,S=this.getSource(f);if(!S)return void this.fire(new a.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const E=S.type;if(E==="geojson"&&A)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(E==="vector"&&!A)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const M=this._getSourceCaches(f);for(const F of M)F.setFeatureState(A,r.id,c)}removeFeatureState(r,c){this._checkLoaded();const f=r.source,A=this.getSource(f);if(!A)return void this.fire(new a.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)));const S=A.type,E=S==="vector"?r.sourceLayer:void 0;if(S==="vector"&&!E)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(c&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const M=this._getSourceCaches(f);for(const F of M)F.removeFeatureState(E,r.id,c)}getFeatureState(r){this._checkLoaded();const c=r.source,f=r.sourceLayer,A=this.getSource(c);if(A){if(A.type!=="vector"||f)return r.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(c)[0].getFeatureState(f,r.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const r={};for(const c in this._sourceCaches){const f=this._sourceCaches[c].getSource();r[f.id]||(r[f.id]=f.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:r,layers:this._serializeLayers(this._order)},c=>c!==void 0)}_updateLayer(r){this._updatedLayers[r.id]=!0;const c=this._getLayerSourceCache(r);r.source&&!this._updatedSources[r.source]&&c&&c.getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",c.pause()),this._changed=!0,r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const c=E=>this._layers[E].type==="fill-extrusion",f={},A=[];for(let E=this._order.length-1;E>=0;E--){const M=this._order[E];if(c(M)){f[M]=E;for(const F of r){const $=F[M];if($)for(const q of $)A.push(q)}}}A.sort((E,M)=>M.intersectionZ-E.intersectionZ);const S=[];for(let E=this._order.length-1;E>=0;E--){const M=this._order[E];if(c(M))for(let F=A.length-1;F>=0;F--){const $=A[F].feature;if(f[$.layer.id]<E)break;S.push($),A.pop()}else for(const F of r){const $=F[M];if($)for(const q of $)S.push(q.feature)}}return S}queryRenderedFeatures(r,c,f){c&&c.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",c.filter,null,c);const A={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const F of c.layers){const $=this._layers[F];if(!$)return this.fire(new a.ErrorEvent(new Error(`The layer '${F}' does not exist in the map's style and cannot be queried for features.`))),[];A[$.source]=!0}}const S=[];c.availableImages=this._availableImages;const E=c&&c.layers?c.layers.some(F=>{const $=this.getLayer(F);return $&&$.is3D()}):this.has3DLayers(),M=Ot.createFromScreenPoints(r,f);for(const F in this._sourceCaches){const $=this._sourceCaches[F].getSource().id;c.layers&&!A[$]||S.push(Rt(this._sourceCaches[F],this._layers,this._serializedLayers,M,c,f,E,!!this.map._showQueryGeometry))}return this.placement&&S.push(function(F,$,q,_e,ve,Le,ke){const He={},Ce=Le.queryRenderedSymbols(_e),we=[];for(const Ge of Object.keys(Ce).map(Number))we.push(ke[Ge]);we.sort(on);for(const Ge of we){const Oe=Ge.featureIndex.lookupSymbolFeatures(Ce[Ge.bucketInstanceId],$,Ge.bucketIndex,Ge.sourceLayerIndex,ve.filter,ve.layers,ve.availableImages,F);for(const Xe in Oe){const pt=He[Xe]=He[Xe]||[],_t=Oe[Xe];_t.sort((Nt,Xt)=>{const zt=Ge.featureSortOrder;if(zt){const Lt=zt.indexOf(Nt.featureIndex);return zt.indexOf(Xt.featureIndex)-Lt}return Xt.featureIndex-Nt.featureIndex});for(const Nt of _t)pt.push(Nt)}}for(const Ge in He)He[Ge].forEach(Oe=>{const Xe=Oe.feature,pt=q(F[Ge]).getFeatureState(Xe.layer["source-layer"],Xe.id);Xe.source=Xe.layer.source,Xe.layer["source-layer"]&&(Xe.sourceLayer=Xe.layer["source-layer"]),Xe.state=pt});return He}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),M.screenGeometry,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(r,c){c&&c.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",c.filter,null,c);const f=this._getSourceCaches(r);let A=[];for(const S of f)A=A.concat(vi(S,c));return A}addSourceType(r,c,f){return Ms.getSourceType(r)?f(new Error(`A source type called "${r}" already exists.`)):(Ms.setSourceType(r,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:c.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(r,c={}){this._checkLoaded();const f=this.light.getLight();let A=!1;for(const E in r)if(!j(r[E],f[E])){A=!0;break}if(!A)return;const S=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(r,c),this.light.updateTransitions(S)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(r,c=1){if(this._checkLoaded(),!r)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(c===1){if(typeof r.source=="object"){const f="terrain-dem-src";this.addSource(f,r.source),r=a.clone$1(r),r=a.extend(r,{source:f})}if(this._validate(a.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&c!==this.terrain.drapeRenderMode)this._createTerrain(r,c);else{const f=this.terrain,A=f.get();for(const S of Object.keys(a.spec.terrain))!r.hasOwnProperty(S)&&a.spec.terrain[S].default&&(r[S]=a.spec.terrain[S].default);for(const S in r)if(!j(r[S],A[S])){f.set(r),this.stylesheet.terrain=r;const E=this._setTransitionParameters({duration:0});f.updateTransitions(E);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const c=this.fog=new yt(r,this.map.transform);this.stylesheet.fog=r;const f=this._setTransitionParameters({duration:0});c.updateTransitions(f)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const c=this.fog,f=c.get();Object.keys(r).length===0&&c.set(r);for(const A in r)if(!j(r[A],f[A])){c.set(r),this.stylesheet.fog=r;const S=this._setTransitionParameters({duration:0});c.updateTransitions(S);break}}else this._createFog(r);this._markersNeedUpdate=!0}_setTransitionParameters(r){return{now:a.exported.now(),transition:a.extend(r,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const r=this._order.filter(f=>this.isLayerDraped(this._layers[f])),c=this._order.filter(f=>!this.isLayerDraped(this._layers[f]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...c)}_createTerrain(r,c){const f=this.terrain=new de(r,c);this.stylesheet.terrain=r,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const A=this._setTransitionParameters({duration:0});f.updateTransitions(A)}_force3DLayerUpdate(){for(const r in this._layers){const c=this._layers[r];c.type==="fill-extrusion"&&this._updateLayer(c)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const c=this._layers[r];c.type==="symbol"&&this._updateLayer(c)}}_validate(r,c,f,A,S={}){return(!S||S.validate!==!1)&&ls(this,r.call(a.validateStyle,a.extend({key:c,style:this.serialize(),value:f,styleSpec:a.spec},A)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._layers)this._layers[r].setEventedParent(null);for(const r in this._sourceCaches)this._sourceCaches[r].clearTiles(),this._sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(r){const c=this._getSourceCaches(r);for(const f of c)f.clearTiles()}_reloadSource(r){const c=this._getSourceCaches(r);for(const f of c)f.resume(),f.reload()}_reloadSources(){for(const r of this._getSources())r.reload&&r.reload()}_updateSources(r){for(const c in this._sourceCaches)this._sourceCaches[c].update(r)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const c=this._sourceCaches[r];c.resume(),c.reload()}}_updatePlacement(r,c,f,A,S=!1){let E=!1,M=!1;const F={};for(const $ of this._order){const q=this._layers[$];if(q.type!=="symbol")continue;if(!F[q.source]){const ve=this._getLayerSourceCache(q);if(!ve)continue;F[q.source]=ve.getRenderableIds(!0).map(Le=>ve.getTileByID(Le)).sort((Le,ke)=>ke.tileID.overscaledZ-Le.tileID.overscaledZ||(Le.tileID.isLessThan(ke.tileID)?-1:1))}const _e=this.crossTileSymbolIndex.addLayer(q,F[q.source],r.center.lng,r.projection);E=E||_e}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),S=S||this._layerOrderChanged||f===0,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(S||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),r.zoom))&&(this.pauseablePlacement=new Bn(r,this._order,S,c,f,A,this.placement,this.fog&&r.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,F),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),M=!0),E&&this.pauseablePlacement.placement.setStale()),M||E)for(const $ of this._order){const q=this._layers[$];q.type==="symbol"&&this.placement.updateLayerOpacities(q,F[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}getImages(r,c,f){this.imageManager.getImages(c.icons,f),this._updateTilesForChangedImages();const A=S=>{S&&S.setDependencies(c.tileID.key,c.type,c.icons)};A(this._otherSourceCaches[c.source]),A(this._symbolSourceCaches[c.source])}getGlyphs(r,c,f){this.glyphManager.getGlyphs(c.stacks,f)}getResource(r,c,f){return a.makeRequest(c,f)}_getSourceCache(r){return this._otherSourceCaches[r]}_getLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}_getSourceCaches(r){const c=[];return this._otherSourceCaches[r]&&c.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&c.push(this._symbolSourceCaches[r]),c}_isSourceCacheLoaded(r){const c=this._getSourceCaches(r);return c.length===0?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${r}'`))),!1):c.every(f=>f.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Ms.getSourceType=function(d){return Dt[d]},Ms.setSourceType=function(d,r){Dt[d]=r},Ms.registerForPluginStateChange=a.registerForPluginStateChange;var xo=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Yo="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",qo=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Eo=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Qs=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let C0={},Fn={};const fa=[];Mo(xo,fa),Mo(qo,fa),Mo(Eo,fa),Mo(Qs,fa),C0=os("",qo),Fn=os(Qs,Eo);const $0=os(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Ql=xo,ga=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Z0={background:os(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:os(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:os(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:os("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:os(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:os(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:os("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:os("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:os("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:os(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:os(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:os(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:os(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:os(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:os(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:os(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:os(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:os(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:os(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:os(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:os(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:os(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:os(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:os(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:os(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:os(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yo),skyboxGradient:os(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yo),skyboxCapture:os(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:os(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:os(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Mo(d,r){const c=d.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let f of c)if(f=f.trim(),f[0]==="#"&&f.includes("if")&&!f.includes("endif")){f=f.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const A=f.split(" ");for(const S of A)r.includes(S)||r.push(S)}}function os(d,r){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=r.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),A={},S=[...fa];return Mo(d,S),Mo(r,S),{fragmentSource:d=d.replace(c,(E,M,F,$,q)=>(A[q]=!0,M==="define"?`
#ifndef HAS_UNIFORM_u_${q}
varying ${F} ${$} ${q};
#else
uniform ${F} ${$} u_${q};
#endif
`:`
#ifdef HAS_UNIFORM_u_${q}
    ${F} ${$} ${q} = u_${q};
#endif
`)),vertexSource:r=r.replace(c,(E,M,F,$,q)=>{const _e=$==="float"?"vec2":"vec4",ve=q.match(/color/)?"color":_e;return A[q]?M==="define"?`
#ifndef HAS_UNIFORM_u_${q}
uniform lowp float u_${q}_t;
attribute ${F} ${_e} a_${q};
varying ${F} ${$} ${q};
#else
uniform ${F} ${$} u_${q};
#endif
`:ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${q}
    ${q} = a_${q};
#else
    ${F} ${$} ${q} = u_${q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${q}
    ${q} = unpack_mix_${ve}(a_${q}, u_${q}_t);
#else
    ${F} ${$} ${q} = u_${q};
#endif
`:M==="define"?`
#ifndef HAS_UNIFORM_u_${q}
uniform lowp float u_${q}_t;
attribute ${F} ${_e} a_${q};
#else
uniform ${F} ${$} u_${q};
#endif
`:ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${q}
    ${F} ${$} ${q} = a_${q};
#else
    ${F} ${$} ${q} = u_${q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${q}
    ${F} ${$} ${q} = unpack_mix_${ve}(a_${q}, u_${q}_t);
#else
    ${F} ${$} ${q} = u_${q};
#endif
`}),staticAttributes:f,usedDefines:S}}class X0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,c,f,A,S,E,M){this.context=r;let F=this.boundPaintVertexBuffers.length!==A.length;for(let q=0;!F&&q<A.length;q++)this.boundPaintVertexBuffers[q]!==A[q]&&(F=!0);let $=this.boundDynamicVertexBuffers.length!==M.length;for(let q=0;!$&&q<M.length;q++)this.boundDynamicVertexBuffers[q]!==M[q]&&($=!0);if(!r.extVertexArrayObject||!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==f||F||$||this.boundIndexBuffer!==S||this.boundVertexOffset!==E)this.freshBind(c,f,A,S,E,M);else{r.bindVertexArrayOES.set(this.vao);for(const q of M)q&&q.bind();S&&S.dynamicDraw&&S.bind()}}freshBind(r,c,f,A,S,E){let M;const F=r.numAttributes,$=this.context,q=$.gl;if($.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$.extVertexArrayObject.createVertexArrayOES(),$.bindVertexArrayOES.set(this.vao),M=0,this.boundProgram=r,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=A,this.boundVertexOffset=S,this.boundDynamicVertexBuffers=E;else{M=$.currentNumAttributes||0;for(let _e=F;_e<M;_e++)q.disableVertexAttribArray(_e)}c.enableAttributes(q,r),c.bind(),c.setVertexAttribPointers(q,r,S);for(const _e of f)_e.enableAttributes(q,r),_e.bind(),_e.setVertexAttribPointers(q,r,S);for(const _e of E)_e&&(_e.enableAttributes(q,r),_e.bind(),_e.setVertexAttribPointers(q,r,S));A&&A.bind(),$.currentNumAttributes=F}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Bo(d,r){const c=Math.pow(2,r.canonical.z),f=r.canonical.y;return[new a.MercatorCoordinate(0,f/c).toLngLat().lat,new a.MercatorCoordinate(0,(f+1)/c).toLngLat().lat]}function K0(d,r,c,f,A,S,E){const M=d.context,F=M.gl,$=c.fbo;if(!$)return;d.prepareDrawTile();const q=d.useProgram("hillshade");M.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,$.colorAttachment.get());const _e=((He,Ce,we,Ge)=>{const Oe=we.paint.get("hillshade-shadow-color"),Xe=we.paint.get("hillshade-highlight-color"),pt=we.paint.get("hillshade-accent-color");let _t=we.paint.get("hillshade-illumination-direction")*(Math.PI/180);we.paint.get("hillshade-illumination-anchor")==="viewport"&&(_t-=He.transform.angle);const Nt=!He.options.moving;return{u_matrix:Ge||He.transform.calculateProjMatrix(Ce.tileID.toUnwrapped(),Nt),u_image:0,u_latrange:Bo(0,Ce.tileID),u_light:[we.paint.get("hillshade-exaggeration"),_t],u_shadow:Oe,u_highlight:Xe,u_accent:pt}})(d,c,f,d.terrain?r.projMatrix:null);d.prepareDrawProgram(M,q,r.toUnwrapped());const{tileBoundsBuffer:ve,tileBoundsIndexBuffer:Le,tileBoundsSegments:ke}=d.getTileBoundsBuffers(c);q.draw(M,F.TRIANGLES,A,S,E,a.CullFaceMode.disabled,_e,f.id,ve,Le,ke)}function eo(d,r,c){if(!r.needsDEMTextureUpload)return;const f=d.context,A=f.gl;f.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||d.getTileTexture(c.stride);const S=c.getPixels();r.demTexture?r.demTexture.update(S,{premultiply:!1}):r.demTexture=new a.Texture(f,S,A.RGBA,{premultiply:!1}),r.needsDEMTextureUpload=!1}function mr(d,r,c,f,A,S){const E=d.context,M=E.gl;if(!r.dem)return;const F=r.dem;if(E.activeTexture.set(M.TEXTURE1),eo(d,r,F),!r.demTexture)return;r.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);const $=F.dim;E.activeTexture.set(M.TEXTURE0);let q=r.fbo;if(!q){const ke=new a.Texture(E,{width:$,height:$,data:null},M.RGBA);ke.bind(M.LINEAR,M.CLAMP_TO_EDGE),q=r.fbo=E.createFramebuffer($,$,!0),q.colorAttachment.set(ke.texture)}E.bindFramebuffer.set(q.framebuffer),E.viewport.set([0,0,$,$]);const{tileBoundsBuffer:_e,tileBoundsIndexBuffer:ve,tileBoundsSegments:Le}=d.getMercatorTileBoundsBuffers();d.useProgram("hillshadePrepare").draw(E,M.TRIANGLES,f,A,S,a.CullFaceMode.disabled,((ke,He)=>{const Ce=He.stride,we=a.create();return a.ortho(we,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(we,we,[0,-a.EXTENT,0]),{u_matrix:we,u_image:1,u_dimension:[Ce,Ce],u_zoom:ke.overscaledZ,u_unpack:He.unpackVector}})(r.tileID,F),c.id,_e,ve,Le),r.needsHillshadePrepare=!1}const bl=d=>({u_matrix:new a.UniformMatrix4f(d),u_image0:new a.Uniform1i(d),u_skirt_height:new a.Uniform1f(d)}),s0=(d,r)=>({u_matrix:d,u_image0:0,u_skirt_height:r}),e_=(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le)=>({u_proj_matrix:Float32Array.from(d),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(f),u_merc_matrix:c,u_zoom_transition:A,u_merc_center:S,u_image0:0,u_frustum_tl:E,u_frustum_tr:M,u_frustum_br:F,u_frustum_bl:$,u_globe_pos:q,u_globe_radius:_e,u_viewport:ve,u_grid_matrix:Le?Float32Array.from(Le):new Float32Array(9)});function Ra(d,r){return d!=null&&r!=null&&!(!d.hasData()||!r.hasData())&&d.demTexture!=null&&r.demTexture!=null&&d.tileID.key!==r.tileID.key}const ua=new class{constructor(){this.operations={}}newMorphing(d,r,c,f,A){if(d in this.operations){const S=this.operations[d];S.to.tileID.key!==c.tileID.key&&(S.queued=c)}else this.operations[d]={startTime:f,phase:0,duration:A,from:r,to:c,queued:null}}getMorphValuesForProxy(d){if(!(d in this.operations))return null;const r=this.operations[d];return{from:r.from,to:r.to,phase:r.phase}}update(d){for(const r in this.operations){const c=this.operations[r];for(c.phase=(d-c.startTime)/c.duration;c.phase>=1||!this._validOp(c);)if(!this._nextOp(c,d)){delete this.operations[r];break}}}_nextOp(d,r){return!!d.queued&&(d.from=d.to,d.to=d.queued,d.queued=null,d.phase=0,d.startTime=r,!0)}_validOp(d){return d.from.hasData()&&d.to.hasData()}},Ta={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function vl(d,r){const c=1<<d.z;return!r&&(d.x===0||d.x===c-1)||d.y===0||d.y===c-1}const Q0=d=>({u_matrix:d});function Sl(d,r,c,f,A){if(A>0){const S=a.exported.now(),E=(S-d.timeAdded)/A,M=r?(S-r.timeAdded)/A:-1,F=c.getSource(),$=f.coveringZoomLevel({tileSize:F.tileSize,roundZoom:F.roundZoom}),q=!r||Math.abs(r.tileID.overscaledZ-$)>Math.abs(d.tileID.overscaledZ-$),_e=q&&d.refreshedUponExpiration?1:a.clamp(q?E:1-M,0,1);return d.refreshedUponExpiration&&E>=1&&(d.refreshedUponExpiration=!1),r?{opacity:1,mix:1-_e}:{opacity:_e,mix:0}}return{opacity:1,mix:0}}class Vr extends a.SourceCache{constructor(r){const c={type:"raster-dem",maxzoom:r.transform.maxZoom},f=new Vt(ir(),null),A=It("mock-dem",c,f,r.style);super("mock-dem",A,!1),A.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,c){r.state="loaded",c(null)}}class P0 extends a.SourceCache{constructor(r){const c=It("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new Vt(ir(),null),r.style);super("proxy",c,!1),c.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,c,f){if(r.freezeTileCoverage)return;this.transform=r;const A=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((S,E)=>{if(S[E.key]="",!this._tiles[E.key]){const M=new a.Tile(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);M.state="loaded",this._tiles[E.key]=M}return S},{});for(const S in this._tiles)S in A||(this.freeFBO(S),this._tiles[S].unloadVectorData(),delete this._tiles[S])}freeFBO(r){const c=this.proxyCachedFBO[r];if(c!==void 0){const f=Object.values(c);this.renderCachePool.push(...f),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class o0 extends a.OverscaledTileID{constructor(r,c,f){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=c,this.projMatrix=f}}class el extends a.Elevation{constructor(r,c){super(),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[f,A,S]=function(F){const $=new a.StructArrayLayout4i8,q=new a.StructArrayLayout3ui6,_e=131;$.reserve(17161),q.reserve(33800);const ve=a.EXTENT/128,Le=a.EXTENT+ve/2,ke=Le+ve;for(let Ce=-ve;Ce<ke;Ce+=ve)for(let we=-ve;we<ke;we+=ve){const Ge=we<0||we>Le||Ce<0||Ce>Le?24575:0,Oe=a.clamp(Math.round(we),0,a.EXTENT),Xe=a.clamp(Math.round(Ce),0,a.EXTENT);$.emplaceBack(Oe+Ge,Xe,Oe,Xe)}const He=(Ce,we)=>{const Ge=we*_e+Ce;q.emplaceBack(Ge+1,Ge,Ge+_e),q.emplaceBack(Ge+_e,Ge+_e+1,Ge+1)};for(let Ce=1;Ce<129;Ce++)for(let we=1;we<129;we++)He(we,Ce);return[0,129].forEach(Ce=>{for(let we=0;we<130;we++)He(we,Ce),He(Ce,we)}),[$,q,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(f,a.boundsAttributes.members),this.gridIndexBuffer=E.createIndexBuffer(A),this.gridSegments=a.SegmentVector.simpleSegment(0,0,f.length,A.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,f.length,S),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new P0(c.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.EXTENT,0,a.EXTENT,0,1);const M=E.gl;this._overlapStencilMode=new a.StencilMode({func:M.GEQUAL,mask:255},0,255,M.KEEP,M.KEEP,M.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=c,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Vr(c.map)}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),r.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=r,this._checkRenderCacheEfficiency()}update(r,c,f){if(r&&r.terrain){this._style!==r&&(this.style=r),this.enabled=!0;const A=r.terrain.properties;this.sourceCache=r.terrain.drapeRenderMode===0?this._mockSourceCache:r._getSourceCache(A.get("source")),this._exaggeration=A.get("exaggeration");const S=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const E=this.getScaledDemTileSize();this.sourceCache.update(c,E,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,S(),this._initializing=!0),S(),c.updateElevation(!0,f),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(c),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const r=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||r.efficiency!==100&&a.warnOnce(`Terrain render cache efficiency is not optimal (${r.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${r.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._sourceCaches)this._style._sourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const c=this.proxySourceCache,f=this.painter.transform;this._initializing&&(this._initializing=f._centerAltitude===0&&this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(f.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const A=this.proxyCoords=c.getIds().map(F=>{const $=c.getTileByID(F).tileID;return $.projMatrix=f.calculateProjMatrix($.toUnwrapped()),$});(function(F,$){const q=$.transform.pointCoordinate($.transform.getCameraPoint()),_e=new a.pointGeometry(q.x,q.y);F.sort((ve,Le)=>{if(Le.overscaledZ-ve.overscaledZ)return Le.overscaledZ-ve.overscaledZ;const ke=new a.pointGeometry(ve.canonical.x+(1<<ve.canonical.z)*ve.wrap,ve.canonical.y),He=new a.pointGeometry(Le.canonical.x+(1<<Le.canonical.z)*Le.wrap,Le.canonical.y),Ce=_e.mult(1<<ve.canonical.z);return Ce.x-=.5,Ce.y-=.5,Ce.distSqr(ke)-Ce.distSqr(He)})})(A,this.painter),this._previousZoom=f.zoom;const S=this.proxyToSource||{};this.proxyToSource={},A.forEach(F=>{this.proxyToSource[F.key]={}}),this.terrainTileForTile={};const E=this._style._sourceCaches;for(const F in E){const $=E[F];if(!$.used||($!==this.sourceCache&&this.resetTileLookupCache($.id),this._setupProxiedCoordsForOrtho($,r[F],S),$.usedForTerrain))continue;const q=r[F];$.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[c.id]=A.map(F=>new o0(F,F.key,this.orthoMatrix)),this._assignTerrainTiles(A),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(S),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const M={};this._visibleDemTiles=[];for(const F of this.proxyCoords){const $=this.terrainTileForTile[F.key];if(!$)continue;const q=$.tileID.key;q in M||(this._visibleDemTiles.push($),M[q]=q)}}_assignTerrainTiles(r){this._initializing||r.forEach(c=>{if(this.terrainTileForTile[c.key])return;const f=this._findTileCoveringTileID(c,this.sourceCache);f&&(this.terrainTileForTile[c.key]=f)})}_prepareDEMTextures(){const r=this.painter.context,c=r.gl;for(const f in this.terrainTileForTile){const A=this.terrainTileForTile[f],S=A.dem;!S||A.demTexture&&!A.needsDEMTextureUpload||(r.activeTexture.set(c.TEXTURE1),eo(this.painter,A,S))}}_prepareDemTileUniforms(r,c,f,A){if(!c||c.demTexture==null)return!1;const S=r.tileID.canonical,E=Math.pow(2,c.tileID.canonical.z-S.z),M=A||"";return f[`u_dem_tl${M}`]=[S.x*E%1,S.y*E%1],f[`u_dem_scale${M}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const r=this.painter.context,c=r.gl;if(!this._emptyDepthBufferTexture){const f=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(r,f,c.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let r=0;const c=this._visibleDemTiles.reduce((f,A)=>{if(!A.dem)return f;const S=A.dem.tree.minimums[0];return S>0&&r++,f+S},0);return r?c/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,c=r.gl;r.activeTexture.set(c.TEXTURE2);const f=this._getLoadedAreaMinimum(),A=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(f,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let S=this._emptyDEMTexture;return S?S.update(A,{premultiply:!1}):S=this._emptyDEMTexture=new a.Texture(r,A,c.RGBA,{premultiply:!1}),S}setupElevationDraw(r,c,f){const A=this.painter.context,S=A.gl,E=(M=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(M),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var M;E.u_dem_size=this.sourceCache.getSource().tileSize,E.u_exaggeration=this.exaggeration();let F=null,$=null,q=1;if(f&&f.morphing&&this._useVertexMorphing){const _e=f.morphing.srcDemTile,ve=f.morphing.dstDemTile;q=f.morphing.phase,_e&&ve&&(this._prepareDemTileUniforms(r,_e,E,"_prev")&&($=_e),this._prepareDemTileUniforms(r,ve,E)&&(F=ve))}if($&&F?(A.activeTexture.set(S.TEXTURE2),F.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),A.activeTexture.set(S.TEXTURE4),$.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),E.u_dem_lerp=q):(F=this.terrainTileForTile[r.tileID.key],A.activeTexture.set(S.TEXTURE2),(this._prepareDemTileUniforms(r,F,E)?F.demTexture:this.emptyDEMTexture).bind(S.NEAREST,S.CLAMP_TO_EDGE)),A.activeTexture.set(S.TEXTURE3),f&&f.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),this._depthFBO&&(E.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),E.u_depth_size_inv=[1,1]),f&&f.useMeterToDem&&F){const _e=(1<<F.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=_e}if(f&&f.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=f.labelPlaneMatrixInv),c.setTerrainUniformValues(A,E),this.painter.transform.projection.name==="globe"){const _e=this.globeUniformValues(this.painter.transform,r.tileID.canonical,f&&f.useDenormalizedUpVectorScale);c.setGlobeUniformValues(A,_e)}}globeUniformValues(r,c,f){const A=r.projection;return{u_tile_tl_up:A.upVector(c,0,0),u_tile_tr_up:A.upVector(c,a.EXTENT,0),u_tile_br_up:A.upVector(c,a.EXTENT,a.EXTENT),u_tile_bl_up:A.upVector(c,0,a.EXTENT),u_tile_up_scale:f?a.GLOBE_METERS_TO_ECEF:A.upVectorScale(c,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const c=this.painter,f=this.painter.context;r.length!==0&&(f.bindFramebuffer.set(null),f.viewport.set([0,0,c.width,c.height]),c.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(A,S,E,M,F){if(A.transform.projection.name==="globe")(function($,q,_e,ve,Le){const ke=$.context,He=ke.gl;let Ce,we;const Ge=$.options.showTerrainWireframe?2:0,Oe=$.transform,Xe=a.globeUseCustomAntiAliasing($,ke,Oe),pt=(Wi,ei)=>{if(we===Wi)return;const Pi=[Ta[Wi],"PROJECTION_GLOBE_VIEW"];Xe&&Pi.push("CUSTOM_ANTIALIASING"),ei&&Pi.push(Ta[Ge]),Ce=$.useProgram("globeRaster",null,Pi),we=Wi},_t=$.colorModeForRenderPass(),Nt=new a.DepthMode(He.LEQUAL,a.DepthMode.ReadWrite,$.depthRangeFor3D);ua.update(Le);const Xt=a.calculateGlobeMercatorMatrix(Oe),zt=[a.mercatorXfromLng(Oe.center.lng),a.mercatorYfromLat(Oe.center.lat)],Lt=Ge?[!1,!0]:[!1],Qi=$.globeSharedBuffers,Et=[Oe.width*a.exported.devicePixelRatio,Oe.height*a.exported.devicePixelRatio],bi=Float32Array.from(Oe.globeMatrix),qt={useDenormalizedUpVectorScale:!0};if(Lt.forEach(Wi=>{we=-1;const ei=Wi?He.LINES:He.TRIANGLES;for(const Pi of ve){const wi=_e.getTile(Pi),kt=a.StencilMode.disabled,Yt=q.prevTerrainTileForTile[Pi.key],yn=q.terrainTileForTile[Pi.key];Ra(Yt,yn)&&ua.newMorphing(Pi.key,Yt,yn,Le,250),ke.activeTexture.set(He.TEXTURE0),wi.texture.bind(He.LINEAR,He.CLAMP_TO_EDGE);const An=ua.getMorphValuesForProxy(Pi.key),kn=An?1:0;An&&a.extend$1(qt,{morphing:{srcDemTile:An.from,dstDemTile:An.to,phase:a.easeCubicInOut(An.phase)}});const Qn=a.tileCornersToBounds(Pi.canonical),vr=a.getLatitudinalLod(Qn.getCenter().lat),Yn=a.getGridMatrix(Pi.canonical,Qn,vr,Oe.worldSize/Oe._pixelsPerMercatorPixel),bn=a.globeNormalizeECEF(a.globeTileBounds(Pi.canonical)),as=e_(Oe.projMatrix,bi,Xt,bn,a.globeToMercatorTransition(Oe.zoom),zt,Oe.frustumCorners.TL,Oe.frustumCorners.TR,Oe.frustumCorners.BR,Oe.frustumCorners.BL,Oe.globeCenterInViewSpace,Oe.globeRadius,Et,Yn);if(pt(kn,Wi),q.setupElevationDraw(wi,Ce,qt),$.prepareDrawProgram(ke,Ce,Pi.toUnwrapped()),Qi){const[Jr,hs,fs]=Wi?Qi.getWirefameBuffers($.context,vr):Qi.getGridBuffers(vr);Ce.draw(ke,ei,Nt,kt,_t,a.CullFaceMode.backCCW,as,"globe_raster",Jr,hs,fs)}}}),Qi){const Wi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Xe&&Wi.push("CUSTOM_ANTIALIASING"),Ce=$.useProgram("globeRaster",null,Wi);for(const ei of ve){const{x:Pi,y:wi,z:kt}=ei.canonical,Yt=wi===0,yn=wi===(1<<kt)-1,[An,kn,Qn,vr]=Qi.getPoleBuffers(kt);if(vr&&(Yt||yn)){const Yn=_e.getTile(ei);ke.activeTexture.set(He.TEXTURE0),Yn.texture.bind(He.LINEAR,He.CLAMP_TO_EDGE);let bn=a.globePoleMatrixForTile(kt,Pi,Oe);const as=a.globeNormalizeECEF(a.globeTileBounds(ei.canonical)),Jr=(hs,fs)=>hs.draw(ke,He.TRIANGLES,Nt,a.StencilMode.disabled,_t,a.CullFaceMode.disabled,e_(Oe.projMatrix,bn,bn,as,0,zt,Oe.frustumCorners.TL,Oe.frustumCorners.TR,Oe.frustumCorners.BR,Oe.frustumCorners.BL,Oe.globeCenterInViewSpace,Oe.globeRadius,Et),"globe_pole_raster",fs,Qn,vr);q.setupElevationDraw(Yn,Ce,qt),$.prepareDrawProgram(ke,Ce,ei.toUnwrapped()),Yt&&Jr(Ce,An),yn&&(bn=a.scale(a.create(),bn,[1,-1,1]),Jr(Ce,kn))}}}})(A,S,E,M,F);else{const $=A.context,q=$.gl;let _e,ve;const Le=A.options.showTerrainWireframe?2:0,ke=(Oe,Xe)=>{if(ve===Oe)return;const pt=[Ta[Oe]];Xe&&pt.push(Ta[Le]),_e=A.useProgram("terrainRaster",null,pt),ve=Oe},He=A.colorModeForRenderPass(),Ce=new a.DepthMode(q.LEQUAL,a.DepthMode.ReadWrite,A.depthRangeFor3D);ua.update(F);const we=A.transform,Ge=6*Math.pow(1.5,22-we.zoom)*S.exaggeration();(Le?[!1,!0]:[!1]).forEach(Oe=>{ve=-1;const Xe=Oe?q.LINES:q.TRIANGLES,[pt,_t]=Oe?S.getWirefameBuffer():[S.gridIndexBuffer,S.gridSegments];for(const Nt of M){const Xt=E.getTile(Nt),zt=a.StencilMode.disabled,Lt=S.prevTerrainTileForTile[Nt.key],Qi=S.terrainTileForTile[Nt.key];Ra(Lt,Qi)&&ua.newMorphing(Nt.key,Lt,Qi,F,250),$.activeTexture.set(q.TEXTURE0),Xt.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE,q.LINEAR_MIPMAP_NEAREST);const Et=ua.getMorphValuesForProxy(Nt.key),bi=Et?1:0;let qt;Et&&(qt={morphing:{srcDemTile:Et.from,dstDemTile:Et.to,phase:a.easeCubicInOut(Et.phase)}});const Wi=s0(Nt.projMatrix,vl(Nt.canonical,we.renderWorldCopies)?Ge/10:Ge);ke(bi,Oe),S.setupElevationDraw(Xt,_e,qt),A.prepareDrawProgram($,_e,Nt.toUnwrapped()),_e.draw($,Xe,Ce,zt,He,a.CullFaceMode.backCCW,Wi,"terrain_raster",S.gridBuffer,pt,_t)}})}}(c,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,c.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const c=this.painter,f=this.painter.context,A=this.proxySourceCache,S=this.proxiedCoords[A.id],E=this._drapedRenderBatches.shift(),M=[],F=c.style.order;let $=0;for(const q of S){const _e=A.getTileByID(q.proxyTileKey),ve=A.proxyCachedFBO[q.key]?A.proxyCachedFBO[q.key][r]:void 0,Le=ve!==void 0?A.renderCache[ve]:this.pool[$++],ke=ve!==void 0;if(_e.texture=Le.tex,ke&&!Le.dirty){M.push(_e.tileID);continue}let He;f.bindFramebuffer.set(Le.fb.framebuffer),this.renderedToTile=!1,Le.dirty&&(f.clear({color:a.Color.transparent,stencil:0}),Le.dirty=!1);for(let Ce=E.start;Ce<=E.end;++Ce){const we=c.style._layers[F[Ce]];if(we.isHidden(c.transform.zoom))continue;const Ge=c.style._getLayerSourceCache(we),Oe=Ge?this.proxyToSource[q.key][Ge.id]:[q];if(!Oe)continue;const Xe=Oe;f.viewport.set([0,0,Le.fb.width,Le.fb.height]),He!==(Ge?Ge.id:null)&&(this._setupStencil(Le,Oe,we,Ge),He=Ge?Ge.id:null),c.renderLayer(c,Ge,we,Xe)}this.renderedToTile?(Le.dirty=!0,M.push(_e.tileID)):ke||--$,$===5&&($=0,this.renderToBackBuffer(M))}return this.renderToBackBuffer(M),this.renderingToTexture=!1,f.bindFramebuffer.set(null),f.viewport.set([0,0,c.width,c.height]),E.end+1}postRender(){}renderCacheEfficiency(r){const c=r.order.length;if(c===0)return{efficiency:100};let f,A=0,S=0,E=!1;for(let M=0;M<c;++M){const F=r._layers[r.order[M]];this._style.isLayerDraped(F)?(E&&++A,++S):E||(E=!0,f=F.id)}return S===0?{efficiency:100}:{efficiency:100*(1-A/S),firstUndrapedLayer:f}}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(c=>c.dem).forEach(c=>{r=Math.min(r,c.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,c,f){if(!this._visibleDemTiles)return null;const A=this._visibleDemTiles.filter(S=>S.dem).map(S=>{const E=S.tileID,M=1<<E.overscaledZ,{x:F,y:$}=E.canonical,q=F/M,_e=(F+1)/M,ve=$/M,Le=($+1)/M;return{minx:q,miny:ve,maxx:_e,maxy:Le,t:S.dem.tree.raycastRoot(q,ve,_e,Le,r,c,f),tile:S}});A.sort((S,E)=>(S.t!==null?S.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const S of A){if(S.t==null)return null;const E=S.tile.dem.tree.raycast(S.minx,S.miny,S.maxx,S.maxy,r,c,f);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,c=r.gl,f=this.drapeBufferSize;r.activeTexture.set(c.TEXTURE0);const A=new a.Texture(r,{width:f[0],height:f[1],data:null},c.RGBA);A.bind(c.LINEAR,c.CLAMP_TO_EDGE);const S=r.createFramebuffer(f[0],f[1],!1);return S.colorAttachment.set(A.texture),S.depthAttachment=new Ue(r,S.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,f[0],f[1]),this._stencilRef=0,S.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):S.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&!r.extTextureFilterAnisotropicForceOff&&c.texParameterf(c.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:S,tex:A,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const r in this._style._sourceCaches)if(this._style._sourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const c=this._style._layers[r],f=c.isHidden(this.painter.transform.zoom);return c.type!=="custom"&&!f&&c.hasTransition()})}_clearRasterFadeFromRenderCache(){let r=!1;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c]._source instanceof he){r=!0;break}if(r)for(let c=0;c<this._style.order.length;++c){const f=this._style._layers[this._style.order[c]],A=f.isHidden(this.painter.transform.zoom),S=this._style._getLayerSourceCache(f);if(f.type!=="raster"||A||!S)continue;const E=f.paint.get("raster-fade-duration");for(const M of this.proxyCoords){const F=this.proxyToSource[M.key][S.id];if(F)for(const $ of F){const q=Sl(S.getTile($),S.findLoadedParent($,0),S,this.painter.transform,E);(q.opacity!==1||q.mix!==0)&&this._clearRenderCacheForTile(S.id,$)}}}}_setupDrapedRenderBatches(){const r=this._style.order,c=r.length;if(c===0)return;const f=[];let A,S=0,E=this._style._layers[r[S]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++S<c;)E=this._style._layers[r[S]];for(;S<c;++S){const M=this._style._layers[r[S]];M.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(M)?A===void 0&&(A=S):A!==void 0&&(f.push({start:A,end:S-1}),A=void 0))}A!==void 0&&f.push({start:A,end:S-1}),this._drapedRenderBatches=f}_setupRenderCache(r){const c=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,c.renderCache.length>c.renderCachePool.length){const E=Object.values(c.proxyCachedFBO);c.proxyCachedFBO={};for(let M=0;M<E.length;++M){const F=Object.values(E[M]);c.renderCachePool.push(...F)}}return}this._clearRasterFadeFromRenderCache();const f=this.proxyCoords,A=this._tilesDirty;for(let E=f.length-1;E>=0;E--){const M=f[E];if(c.getTileByID(M.key),c.proxyCachedFBO[M.key]!==void 0){const F=r[M.key],$=this.proxyToSource[M.key];let q=0;for(const _e in $){const ve=$[_e],Le=F[_e];if(!Le||Le.length!==ve.length||ve.some((ke,He)=>ke!==Le[He]||A[_e]&&A[_e].hasOwnProperty(ke.key))){q=-1;break}++q}for(const _e in c.proxyCachedFBO[M.key])c.renderCache[c.proxyCachedFBO[M.key][_e]].dirty=q<0||q!==Object.values(F).length}}const S=[...this._drapedRenderBatches];S.sort((E,M)=>M.end-M.start-(E.end-E.start));for(const E of S)for(const M of f){if(c.proxyCachedFBO[M.key])continue;let F=c.renderCachePool.pop();F===void 0&&c.renderCache.length<50&&(F=c.renderCache.length,c.renderCache.push(this._createFBO())),F!==void 0&&(c.proxyCachedFBO[M.key]={},c.proxyCachedFBO[M.key][E.start]=F,c.renderCache[F].dirty=!0)}this._tilesDirty={}}_setupStencil(r,c,f,A){if(!A||!this._sourceTilesOverlap[A.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const S=this.painter.context,E=S.gl;if(c.length<=1)return void(this._overlapStencilType=!1);let M;if(f.isTileClipped())M=c.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(c[0].overscaledZ>c[c.length-1].overscaledZ))return void(this._overlapStencilType=!1);M=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+M>255&&(S.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=M,this._overlapStencilMode.ref=this._stencilRef,f.isTileClipped()&&this._renderTileClippingMasks(c,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(r,c){const f=this.painter,A=this.painter.context,S=A.gl;f._tileClippingMaskIDs={},A.setColorMode(a.ColorMode.disabled),A.setDepthMode(a.DepthMode.disabled);const E=f.useProgram("clippingMask");for(const M of r){const F=f._tileClippingMaskIDs[M.key]=--c;E.draw(A,S.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:S.ALWAYS,mask:0},F,255,S.KEEP,S.KEEP,S.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Q0(M.projMatrix),"$clipping",f.tileExtentBuffer,f.quadTriangleIndexBuffer,f.tileExtentSegments)}}pointCoordinate(r){const c=this.painter.transform;if(r.x<0||r.x>c.width||r.y<0||r.y>c.height)return null;const f=[r.x,r.y,1,1];a.transformMat4$1(f,f,c.pixelMatrixInverse),a.scale$1(f,f,1/f[3]),f[0]/=c.worldSize,f[1]/=c.worldSize;const A=c._camera.position,S=a.mercatorZfromAltitude(1,c.center.lat),E=[A[0],A[1],A[2]/S,0],M=a.subtract([],f.slice(0,3),E);a.normalize(M,M);const F=this.raycast(E,M,this._exaggeration);return F!==null&&F?(a.scaleAndAdd(E,E,M,F),E[3]=E[2],E[2]*=S,E):null}drawDepth(){const r=this.painter,c=r.context,f=this.proxySourceCache,A=Math.ceil(r.width),S=Math.ceil(r.height);if(!this._depthFBO||this._depthFBO.width===A&&this._depthFBO.height===S||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const E=c.gl,M=c.createFramebuffer(A,S,!0);c.activeTexture.set(E.TEXTURE0);const F=new a.Texture(c,{width:A,height:S,data:null},E.RGBA);F.bind(E.NEAREST,E.CLAMP_TO_EDGE),M.colorAttachment.set(F.texture);const $=c.createRenderbuffer(c.gl.DEPTH_COMPONENT16,A,S);M.depthAttachment.set($),this._depthFBO=M,this._depthTexture=F}c.bindFramebuffer.set(this._depthFBO.framebuffer),c.viewport.set([0,0,A,S]),function(E,M,F,$){if(E.transform.projection.name==="globe")return;const q=E.context,_e=q.gl;q.clear({depth:1});const ve=E.useProgram("terrainDepth"),Le=new a.DepthMode(_e.LESS,a.DepthMode.ReadWrite,E.depthRangeFor3D);for(const ke of $){const He=F.getTile(ke),Ce=s0(ke.projMatrix,0);M.setupElevationDraw(He,ve),ve.draw(q,_e.TRIANGLES,Le,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,Ce,"terrain_depth",M.gridBuffer,M.gridIndexBuffer,M.gridNoSkirtSegments)}}(r,this,f,this.proxyCoords)}_setupProxiedCoordsForOrtho(r,c,f){if(r.getSource()instanceof ft)return this._setupProxiedCoordsForImageSource(r,c,f);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const A=this.proxiedCoords[r.id]=[],S=this.proxyCoords;for(let M=0;M<S.length;M++){const F=S[M],$=this._findTileCoveringTileID(F,r);if($){const q=this._createProxiedId(F,$,f[F.key]&&f[F.key][r.id]);A.push(q),this.proxyToSource[F.key][r.id]=[q]}}let E=!1;for(let M=0;M<c.length;M++){const F=r.getTile(c[M]);if(!F||!F.hasData())continue;const $=this._findTileCoveringTileID(F.tileID,this.proxySourceCache);if($&&$.tileID.canonical.z!==F.tileID.canonical.z){const q=this.proxyToSource[$.tileID.key][r.id],_e=this._createProxiedId($.tileID,F,f[$.tileID.key]&&f[$.tileID.key][r.id]);q?q.splice(q.length-1,0,_e):this.proxyToSource[$.tileID.key][r.id]=[_e],A.push(_e),E=!0}}this._sourceTilesOverlap[r.id]=E}_setupProxiedCoordsForImageSource(r,c,f){if(!r.getSource().loaded())return;const A=this.proxiedCoords[r.id]=[],S=this.proxyCoords,E=r.getSource(),M=new a.pointGeometry(E.tileID.x,E.tileID.y)._div(1<<E.tileID.z),F=E.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((q,_e)=>(q.min.x=Math.min(q.min.x,_e.x-M.x),q.min.y=Math.min(q.min.y,_e.y-M.y),q.max.x=Math.max(q.max.x,_e.x-M.x),q.max.y=Math.max(q.max.y,_e.y-M.y),q),{min:new a.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),$=(q,_e)=>{const ve=q.wrap+q.canonical.x/(1<<q.canonical.z),Le=q.canonical.y/(1<<q.canonical.z),ke=a.EXTENT/(1<<q.canonical.z),He=_e.wrap+_e.canonical.x/(1<<_e.canonical.z),Ce=_e.canonical.y/(1<<_e.canonical.z);return ve+ke<He+F.min.x||ve>He+F.max.x||Le+ke<Ce+F.min.y||Le>Ce+F.max.y};for(let q=0;q<S.length;q++){const _e=S[q];for(let ve=0;ve<c.length;ve++){const Le=r.getTile(c[ve]);if(!Le||!Le.hasData()||$(_e,Le.tileID))continue;const ke=this._createProxiedId(_e,Le,f[_e.key]&&f[_e.key][r.id]),He=this.proxyToSource[_e.key][r.id];He?He.push(ke):this.proxyToSource[_e.key][r.id]=[ke],A.push(ke)}}}_createProxiedId(r,c,f){let A=this.orthoMatrix;if(f){const S=f.find(E=>E.key===c.tileID.key);if(S)return S}if(c.tileID.key!==r.key){const S=r.canonical.z-c.tileID.canonical.z;let E,M,F;A=a.create();const $=c.tileID.wrap-r.wrap<<r.overscaledZ;S>0?(E=a.EXTENT>>S,M=E*((c.tileID.canonical.x<<S)-r.canonical.x+$),F=E*((c.tileID.canonical.y<<S)-r.canonical.y)):(E=a.EXTENT<<-S,M=a.EXTENT*(c.tileID.canonical.x-(r.canonical.x+$<<-S)),F=a.EXTENT*(c.tileID.canonical.y-(r.canonical.y<<-S))),a.ortho(A,0,E,0,E,0,1),a.translate(A,A,[M,F,0])}return new o0(c.tileID,r.key,A)}_findTileCoveringTileID(r,c){let f=c.getTile(r);if(f&&f.hasData())return f;const A=this._findCoveringTileCache[c.id],S=A[r.key];if(f=S?c.getTileByID(S):null,f&&f.hasData()||S===null)return f;let E=f?f.tileID:r,M=E.overscaledZ;const F=c.getSource().minzoom,$=[];if(!S){const _e=c.getSource().maxzoom;if(r.canonical.z>=_e){const ve=r.canonical.z-_e;c.getSource().reparseOverscaled?(M=Math.max(r.canonical.z+2,c.transform.tileZoom),E=new a.OverscaledTileID(M,r.wrap,_e,r.canonical.x>>ve,r.canonical.y>>ve)):ve!==0&&(M=_e,E=new a.OverscaledTileID(M,r.wrap,_e,r.canonical.x>>ve,r.canonical.y>>ve))}E.key!==r.key&&($.push(E.key),f=c.getTile(E))}const q=_e=>{$.forEach(ve=>{A[ve]=_e}),$.length=0};for(M-=1;M>=F&&(!f||!f.hasData());M--){f&&q(f.tileID.key);const _e=E.calculateScaledKey(M);if(f=c.getTileByID(_e),f&&f.hasData())break;const ve=A[_e];if(ve===null)break;ve===void 0?$.push(_e):f=c.getTileByID(ve)}return q(f?f.tileID.key:null),f&&f.hasData()?f:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,c){let f=this._tilesDirty[r];f||(f=this._tilesDirty[r]={}),f[c.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const r=function(c){let f=0;const A=new a.StructArrayLayout2ui4,S=131;for(let E=1;E<129;E++){for(let M=1;M<129;M++)f=E*S+M,A.emplaceBack(f,f+1),A.emplaceBack(f,f+S),A.emplaceBack(f+1,f+S),E===128&&A.emplaceBack(f+S,f+S+1);A.emplaceBack(f+1,f+1+S)}return A}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(r),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,r.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class tl{static cacheKey(r,c,f,A){let S=`${c}${A?A.cacheKey:""}`;for(const E of f)r.usedDefines.includes(E)&&(S+=`/${E}`);return S}constructor(r,c,f,A,S,E){const M=r.gl;this.program=M.createProgram();const F=function(Ce){const we=[];for(let Ge=0;Ge<Ce.length;Ge++){if(Ce[Ge]===null)continue;const Oe=Ce[Ge].split(" ");we.push(Oe.pop())}return we}(f.staticAttributes),$=A?A.getBinderAttributes():[],q=F.concat($);let _e=A?A.defines():[];_e=_e.concat(E.map(Ce=>`#define ${Ce}`));const ve=_e.concat(r.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(ga):ga,ga,Ql,$0.fragmentSource,Fn.fragmentSource,f.fragmentSource).join(`
`),Le=_e.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Ql,$0.vertexSource,Fn.vertexSource,C0.vertexSource,f.vertexSource).join(`
`),ke=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);M.shaderSource(ke,ve),M.compileShader(ke),M.attachShader(this.program,ke);const He=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())this.failedToCreate=!0;else{M.shaderSource(He,Le),M.compileShader(He),M.attachShader(this.program,He),this.attributes={},this.numAttributes=q.length;for(let Ce=0;Ce<this.numAttributes;Ce++)q[Ce]&&(M.bindAttribLocation(this.program,Ce,q[Ce]),this.attributes[q[Ce]]=Ce);M.linkProgram(this.program),M.deleteShader(He),M.deleteShader(ke),this.fixedUniforms=S(r),this.binderUniforms=A?A.getUniforms(r):[],E.includes("TERRAIN")&&(this.terrainUniforms=(Ce=>({u_dem:new a.Uniform1i(Ce),u_dem_prev:new a.Uniform1i(Ce),u_dem_unpack:new a.Uniform4f(Ce),u_dem_tl:new a.Uniform2f(Ce),u_dem_scale:new a.Uniform1f(Ce),u_dem_tl_prev:new a.Uniform2f(Ce),u_dem_scale_prev:new a.Uniform1f(Ce),u_dem_size:new a.Uniform1f(Ce),u_dem_lerp:new a.Uniform1f(Ce),u_exaggeration:new a.Uniform1f(Ce),u_depth:new a.Uniform1i(Ce),u_depth_size_inv:new a.Uniform2f(Ce),u_meter_to_dem:new a.Uniform1f(Ce),u_label_plane_matrix_inv:new a.UniformMatrix4f(Ce)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(Ce=>({u_tile_tl_up:new a.Uniform3f(Ce),u_tile_tr_up:new a.Uniform3f(Ce),u_tile_br_up:new a.Uniform3f(Ce),u_tile_bl_up:new a.Uniform3f(Ce),u_tile_up_scale:new a.Uniform1f(Ce)}))(r)),E.includes("FOG")&&(this.fogUniforms=(Ce=>({u_fog_matrix:new a.UniformMatrix4f(Ce),u_fog_range:new a.Uniform2f(Ce),u_fog_color:new a.Uniform4f(Ce),u_fog_horizon_blend:new a.Uniform1f(Ce),u_fog_temporal_offset:new a.Uniform1f(Ce),u_frustum_tl:new a.Uniform3f(Ce),u_frustum_tr:new a.Uniform3f(Ce),u_frustum_br:new a.Uniform3f(Ce),u_frustum_bl:new a.Uniform3f(Ce),u_globe_pos:new a.Uniform3f(Ce),u_globe_radius:new a.Uniform1f(Ce),u_globe_transition:new a.Uniform1f(Ce),u_is_globe:new a.Uniform1i(Ce),u_viewport:new a.Uniform2f(Ce)}))(r))}}setTerrainUniformValues(r,c){if(!this.terrainUniforms)return;const f=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const A in c)f[A]&&f[A].set(this.program,A,c[A])}}setGlobeUniformValues(r,c){if(!this.globeUniforms)return;const f=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const A in c)f[A]&&f[A].set(this.program,A,c[A])}}setFogUniformValues(r,c){if(!this.fogUniforms)return;const f=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const A in c)f[A].set(this.program,A,c[A])}}draw(r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He){const Ce=r.gl;if(this.failedToCreate)return;r.program.set(this.program),r.setDepthMode(f),r.setStencilMode(A),r.setColorMode(S),r.setCullFace(E);for(const Ge of Object.keys(this.fixedUniforms))this.fixedUniforms[Ge].set(this.program,Ge,M[Ge]);ke&&ke.setUniforms(this.program,r,this.binderUniforms,ve,{zoom:Le});const we={[Ce.LINES]:2,[Ce.TRIANGLES]:3,[Ce.LINE_STRIP]:1}[c];for(const Ge of _e.get()){const Oe=Ge.vaos||(Ge.vaos={});(Oe[F]||(Oe[F]=new X0)).bind(r,this,$,ke?ke.getPaintVertexBuffers():[],q,Ge.vertexOffset,He||[]),Ce.drawElements(c,Ge.primitiveLength*we,Ce.UNSIGNED_SHORT,Ge.primitiveOffset*we*2)}}}function il(d,r){const c=Math.pow(2,r.tileID.overscaledZ),f=r.tileSize*Math.pow(2,d.transform.tileZoom)/c,A=f*(r.tileID.canonical.x+r.tileID.wrap*c),S=f*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_tile_units_to_pixels:1/mt(r,1,d.transform.tileZoom),u_pixel_coord_upper:[A>>16,S>>16],u_pixel_coord_lower:[65535&A,65535&S]}}const t_=a.create(),i_=(d,r,c,f,A,S,E,M,F,$,q)=>{const _e=r.style.light,ve=_e.properties.get("position"),Le=[ve.x,ve.y,ve.z],ke=a.create$1();_e.properties.get("anchor")==="viewport"&&(a.fromRotation(ke,-r.transform.angle),a.transformMat3(Le,Le,ke));const He=_e.properties.get("color"),Ce=r.transform,we={u_matrix:d,u_lightpos:Le,u_lightintensity:_e.properties.get("intensity"),u_lightcolor:[He.r,He.g,He.b],u_vertical_gradient:+c,u_opacity:f,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:t_,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:A,u_edge_radius:S};return Ce.projection.name==="globe"&&(we.u_tile_id=[E.canonical.x,E.canonical.y,1<<E.canonical.z],we.u_zoom_transition=F,we.u_inv_rot_matrix=q,we.u_merc_center=$,we.u_up_dir=Ce.projection.upVector(new a.CanonicalTileID(0,0,0),$[0]*a.EXTENT,$[1]*a.EXTENT),we.u_height_lift=M),we},co=(d,r,c,f,A,S,E,M,F,$,q,_e)=>{const ve=i_(d,r,c,f,A,S,E,F,$,q,_e),Le={u_height_factor:-Math.pow(2,E.overscaledZ)/M.tileSize/8};return a.extend(ve,il(r,M),Le)},nl=d=>({u_matrix:d}),$o=(d,r,c)=>a.extend(nl(d),il(r,c)),N0=(d,r)=>({u_matrix:d,u_world:r}),Io=(d,r,c,f)=>a.extend($o(d,r,c),{u_world:f}),su=a.create(),t0=(d,r,c,f,A,S)=>{const E=d.transform,M=E.projection.name==="globe";let F;if(S.paint.get("circle-pitch-alignment")==="map")if(M){const q=a.globePixelsToTileUnits(E.zoom,r.canonical)*E._pixelsPerMercatorPixel;F=Float32Array.from([q,0,0,q])}else F=E.calculatePixelsToTileUnitsMatrix(c);else F=new Float32Array([E.pixelsToGLUnits[0],0,0,E.pixelsToGLUnits[1]]);const $={u_camera_to_center_distance:E.cameraToCenterDistance,u_matrix:d.translatePosMatrix(r.projMatrix,c,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:F,u_inv_rot_matrix:su,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(M){$.u_inv_rot_matrix=f,$.u_merc_center=A,$.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],$.u_zoom_transition=a.globeToMercatorTransition(E.zoom);const q=A[0]*a.EXTENT,_e=A[1]*a.EXTENT;$.u_up_dir=E.projection.upVector(new a.CanonicalTileID(0,0,0),q,_e)}return $},n_=d=>{const r=[];return d.paint.get("circle-pitch-alignment")==="map"&&r.push("PITCH_WITH_MAP"),d.paint.get("circle-pitch-scale")==="map"&&r.push("SCALE_WITH_MAP"),r},ao=(d,r,c,f)=>{const A=a.EXTENT/c.tileSize;return{u_matrix:d,u_camera_to_center_distance:r.getCameraToCenterDistance(f),u_extrude_scale:[r.pixelsToGLUnits[0]/A,r.pixelsToGLUnits[1]/A]}},Va=(d,r,c=1)=>({u_matrix:d,u_color:r,u_overlay:0,u_overlay_scale:c}),r_=a.create(),a0=(d,r,c,f,A,S,E)=>{const M=d.transform,F=M.projection.name==="globe",$=F?a.globePixelsToTileUnits(M.zoom,r.canonical)*M._pixelsPerMercatorPixel:mt(c,1,S),q={u_matrix:r.projMatrix,u_extrude_scale:$,u_intensity:E,u_inv_rot_matrix:r_,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(F){q.u_inv_rot_matrix=f,q.u_merc_center=A,q.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],q.u_zoom_transition=a.globeToMercatorTransition(M.zoom);const _e=A[0]*a.EXTENT,ve=A[1]*a.EXTENT;q.u_up_dir=M.projection.upVector(new a.CanonicalTileID(0,0,0),_e,ve)}return q},rl=(d,r,c,f,A,S,E)=>{const M=d.transform,F=M.calculatePixelsToTileUnitsMatrix(r);return{u_matrix:ou(d,r,c,f),u_pixels_to_tile_units:F,u_device_pixel_ratio:S,u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:A,u_texsize:Aa(c)?r.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:v_(r,d.transform),u_alpha_discard_threshold:0,u_trim_offset:E}},ya=(d,r,c,f,A)=>{const S=d.transform;return{u_matrix:ou(d,r,c,f),u_texsize:r.imageAtlasTexture.size,u_pixels_to_tile_units:S.calculatePixelsToTileUnitsMatrix(r),u_device_pixel_ratio:A,u_image:0,u_tile_units_to_pixels:v_(r,S),u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function v_(d,r){return 1/mt(d,1,r.tileZoom)}function ou(d,r,c,f){return d.translatePosMatrix(f||r.tileID.projMatrix,r,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}function Aa(d){const r=d.paint.get("line-dasharray").value;return r.value||r.kind!=="constant"}const l0=(d,r,c,f,A,S)=>{return{u_matrix:d,u_tl_parent:r,u_scale_parent:c,u_fade_t:f.mix,u_opacity:f.opacity*A.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:A.paint.get("raster-brightness-min"),u_brightness_high:A.paint.get("raster-brightness-max"),u_saturation_factor:(M=A.paint.get("raster-saturation"),M>0?1-1/(1.001-M):-M),u_contrast_factor:(E=A.paint.get("raster-contrast"),E>0?1/(1-E):1+E),u_spin_weights:sl(A.paint.get("raster-hue-rotate")),u_perspective_transform:S};var E,M};function sl(d){d*=Math.PI/180;const r=Math.sin(d),c=Math.cos(d);return[(2*c+1)/3,(-Math.sqrt(3)*r-c+1)/3,(Math.sqrt(3)*r-c+1)/3]}const ol=a.create(),xl=(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He)=>{const Ce=A.transform,we={u_is_size_zoom_constant:+(d==="constant"||d==="source"),u_is_size_feature_constant:+(d==="constant"||d==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:Ce.cameraToCenterDistance,u_rotate_symbol:+c,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:A.options.fadeDuration?A.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:E,u_coord_matrix:M,u_is_text:+F,u_pitch_with_map:+f,u_texsize:$,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ol,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ol,u_up_vector:[0,-1,0]};return He.name==="globe"&&(we.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],we.u_zoom_transition=_e,we.u_inv_rot_matrix=Le,we.u_merc_center=ve,we.u_camera_forward=Ce._camera.forward(),we.u_ecef_origin=a.globeECEFOrigin(Ce.globeMatrix,q.toUnwrapped()),we.u_tile_matrix=Float32Array.from(Ce.globeMatrix),we.u_up_vector=ke),we},au=(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He,Ce)=>a.extend(xl(d,r,c,f,A,S,E,M,F,$,_e,ve,Le,ke,He,Ce),{u_gamma_scale:f?A.transform.cameraToCenterDistance*Math.cos(A.terrain?0:A.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:+q}),ba=(d,r,c,f,A,S,E,M,F,$,q,_e,ve,Le,ke,He)=>a.extend(au(d,r,c,f,A,S,E,M,!0,F,!0,q,_e,ve,Le,ke,He),{u_texsize_icon:$,u_texture_icon:1}),Zr=(d,r,c)=>({u_matrix:d,u_opacity:r,u_color:c}),Rn=(d,r,c,f,A)=>a.extend(function(S,E,M){const F=E.imageManager.getPattern(S.toString()),{width:$,height:q}=E.imageManager.getPixelSize(),_e=Math.pow(2,M.tileID.overscaledZ),ve=M.tileSize*Math.pow(2,E.transform.tileZoom)/_e,Le=ve*(M.tileID.canonical.x+M.tileID.wrap*_e),ke=ve*M.tileID.canonical.y;return{u_image:0,u_pattern_tl:F.tl,u_pattern_br:F.br,u_texsize:[$,q],u_pattern_size:F.displaySize,u_tile_units_to_pixels:1/mt(M,1,E.transform.tileZoom),u_pixel_coord_upper:[Le>>16,ke>>16],u_pixel_coord_lower:[65535&Le,65535&ke]}}(f,c,A),{u_matrix:d,u_opacity:r}),Ja={fillExtrusion:d=>({u_matrix:new a.UniformMatrix4f(d),u_lightpos:new a.Uniform3f(d),u_lightintensity:new a.Uniform1f(d),u_lightcolor:new a.Uniform3f(d),u_vertical_gradient:new a.Uniform1f(d),u_opacity:new a.Uniform1f(d),u_edge_radius:new a.Uniform1f(d),u_ao:new a.Uniform2f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_up_dir:new a.Uniform3f(d),u_height_lift:new a.Uniform1f(d)}),fillExtrusionPattern:d=>({u_matrix:new a.UniformMatrix4f(d),u_lightpos:new a.Uniform3f(d),u_lightintensity:new a.Uniform1f(d),u_lightcolor:new a.Uniform3f(d),u_vertical_gradient:new a.Uniform1f(d),u_height_factor:new a.Uniform1f(d),u_edge_radius:new a.Uniform1f(d),u_ao:new a.Uniform2f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_up_dir:new a.Uniform3f(d),u_height_lift:new a.Uniform1f(d),u_image:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_pixel_coord_upper:new a.Uniform2f(d),u_pixel_coord_lower:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d),u_opacity:new a.Uniform1f(d)}),fill:d=>({u_matrix:new a.UniformMatrix4f(d)}),fillPattern:d=>({u_matrix:new a.UniformMatrix4f(d),u_image:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_pixel_coord_upper:new a.Uniform2f(d),u_pixel_coord_lower:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d)}),fillOutline:d=>({u_matrix:new a.UniformMatrix4f(d),u_world:new a.Uniform2f(d)}),fillOutlinePattern:d=>({u_matrix:new a.UniformMatrix4f(d),u_world:new a.Uniform2f(d),u_image:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_pixel_coord_upper:new a.Uniform2f(d),u_pixel_coord_lower:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d)}),circle:d=>({u_camera_to_center_distance:new a.Uniform1f(d),u_extrude_scale:new a.UniformMatrix2f(d),u_device_pixel_ratio:new a.Uniform1f(d),u_matrix:new a.UniformMatrix4f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_up_dir:new a.Uniform3f(d)}),collisionBox:d=>({u_matrix:new a.UniformMatrix4f(d),u_camera_to_center_distance:new a.Uniform1f(d),u_extrude_scale:new a.Uniform2f(d)}),collisionCircle:d=>({u_matrix:new a.UniformMatrix4f(d),u_inv_matrix:new a.UniformMatrix4f(d),u_camera_to_center_distance:new a.Uniform1f(d),u_viewport_size:new a.Uniform2f(d)}),debug:d=>({u_color:new a.UniformColor(d),u_matrix:new a.UniformMatrix4f(d),u_overlay:new a.Uniform1i(d),u_overlay_scale:new a.Uniform1f(d)}),clippingMask:d=>({u_matrix:new a.UniformMatrix4f(d)}),heatmap:d=>({u_extrude_scale:new a.Uniform1f(d),u_intensity:new a.Uniform1f(d),u_matrix:new a.UniformMatrix4f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_up_dir:new a.Uniform3f(d)}),heatmapTexture:d=>({u_image:new a.Uniform1i(d),u_color_ramp:new a.Uniform1i(d),u_opacity:new a.Uniform1f(d)}),hillshade:d=>({u_matrix:new a.UniformMatrix4f(d),u_image:new a.Uniform1i(d),u_latrange:new a.Uniform2f(d),u_light:new a.Uniform2f(d),u_shadow:new a.UniformColor(d),u_highlight:new a.UniformColor(d),u_accent:new a.UniformColor(d)}),hillshadePrepare:d=>({u_matrix:new a.UniformMatrix4f(d),u_image:new a.Uniform1i(d),u_dimension:new a.Uniform2f(d),u_zoom:new a.Uniform1f(d),u_unpack:new a.Uniform4f(d)}),line:d=>({u_matrix:new a.UniformMatrix4f(d),u_pixels_to_tile_units:new a.UniformMatrix2f(d),u_device_pixel_ratio:new a.Uniform1f(d),u_units_to_pixels:new a.Uniform2f(d),u_dash_image:new a.Uniform1i(d),u_gradient_image:new a.Uniform1i(d),u_image_height:new a.Uniform1f(d),u_texsize:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d),u_alpha_discard_threshold:new a.Uniform1f(d),u_trim_offset:new a.Uniform2f(d)}),linePattern:d=>({u_matrix:new a.UniformMatrix4f(d),u_texsize:new a.Uniform2f(d),u_pixels_to_tile_units:new a.UniformMatrix2f(d),u_device_pixel_ratio:new a.Uniform1f(d),u_image:new a.Uniform1i(d),u_units_to_pixels:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d),u_alpha_discard_threshold:new a.Uniform1f(d)}),raster:d=>({u_matrix:new a.UniformMatrix4f(d),u_tl_parent:new a.Uniform2f(d),u_scale_parent:new a.Uniform1f(d),u_fade_t:new a.Uniform1f(d),u_opacity:new a.Uniform1f(d),u_image0:new a.Uniform1i(d),u_image1:new a.Uniform1i(d),u_brightness_low:new a.Uniform1f(d),u_brightness_high:new a.Uniform1f(d),u_saturation_factor:new a.Uniform1f(d),u_contrast_factor:new a.Uniform1f(d),u_spin_weights:new a.Uniform3f(d),u_perspective_transform:new a.Uniform2f(d)}),symbolIcon:d=>({u_is_size_zoom_constant:new a.Uniform1i(d),u_is_size_feature_constant:new a.Uniform1i(d),u_size_t:new a.Uniform1f(d),u_size:new a.Uniform1f(d),u_camera_to_center_distance:new a.Uniform1f(d),u_rotate_symbol:new a.Uniform1i(d),u_aspect_ratio:new a.Uniform1f(d),u_fade_change:new a.Uniform1f(d),u_matrix:new a.UniformMatrix4f(d),u_label_plane_matrix:new a.UniformMatrix4f(d),u_coord_matrix:new a.UniformMatrix4f(d),u_is_text:new a.Uniform1i(d),u_pitch_with_map:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_camera_forward:new a.Uniform3f(d),u_tile_matrix:new a.UniformMatrix4f(d),u_up_vector:new a.Uniform3f(d),u_ecef_origin:new a.Uniform3f(d),u_texture:new a.Uniform1i(d)}),symbolSDF:d=>({u_is_size_zoom_constant:new a.Uniform1i(d),u_is_size_feature_constant:new a.Uniform1i(d),u_size_t:new a.Uniform1f(d),u_size:new a.Uniform1f(d),u_camera_to_center_distance:new a.Uniform1f(d),u_rotate_symbol:new a.Uniform1i(d),u_aspect_ratio:new a.Uniform1f(d),u_fade_change:new a.Uniform1f(d),u_matrix:new a.UniformMatrix4f(d),u_label_plane_matrix:new a.UniformMatrix4f(d),u_coord_matrix:new a.UniformMatrix4f(d),u_is_text:new a.Uniform1i(d),u_pitch_with_map:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_texture:new a.Uniform1i(d),u_gamma_scale:new a.Uniform1f(d),u_device_pixel_ratio:new a.Uniform1f(d),u_tile_id:new a.Uniform3f(d),u_zoom_transition:new a.Uniform1f(d),u_inv_rot_matrix:new a.UniformMatrix4f(d),u_merc_center:new a.Uniform2f(d),u_camera_forward:new a.Uniform3f(d),u_tile_matrix:new a.UniformMatrix4f(d),u_up_vector:new a.Uniform3f(d),u_ecef_origin:new a.Uniform3f(d),u_is_halo:new a.Uniform1i(d)}),symbolTextAndIcon:d=>({u_is_size_zoom_constant:new a.Uniform1i(d),u_is_size_feature_constant:new a.Uniform1i(d),u_size_t:new a.Uniform1f(d),u_size:new a.Uniform1f(d),u_camera_to_center_distance:new a.Uniform1f(d),u_rotate_symbol:new a.Uniform1i(d),u_aspect_ratio:new a.Uniform1f(d),u_fade_change:new a.Uniform1f(d),u_matrix:new a.UniformMatrix4f(d),u_label_plane_matrix:new a.UniformMatrix4f(d),u_coord_matrix:new a.UniformMatrix4f(d),u_is_text:new a.Uniform1i(d),u_pitch_with_map:new a.Uniform1i(d),u_texsize:new a.Uniform2f(d),u_texsize_icon:new a.Uniform2f(d),u_texture:new a.Uniform1i(d),u_texture_icon:new a.Uniform1i(d),u_gamma_scale:new a.Uniform1f(d),u_device_pixel_ratio:new a.Uniform1f(d),u_is_halo:new a.Uniform1i(d)}),background:d=>({u_matrix:new a.UniformMatrix4f(d),u_opacity:new a.Uniform1f(d),u_color:new a.UniformColor(d)}),backgroundPattern:d=>({u_matrix:new a.UniformMatrix4f(d),u_opacity:new a.Uniform1f(d),u_image:new a.Uniform1i(d),u_pattern_tl:new a.Uniform2f(d),u_pattern_br:new a.Uniform2f(d),u_texsize:new a.Uniform2f(d),u_pattern_size:new a.Uniform2f(d),u_pixel_coord_upper:new a.Uniform2f(d),u_pixel_coord_lower:new a.Uniform2f(d),u_tile_units_to_pixels:new a.Uniform1f(d)}),terrainRaster:bl,terrainDepth:bl,skybox:d=>({u_matrix:new a.UniformMatrix4f(d),u_sun_direction:new a.Uniform3f(d),u_cubemap:new a.Uniform1i(d),u_opacity:new a.Uniform1f(d),u_temporal_offset:new a.Uniform1f(d)}),skyboxGradient:d=>({u_matrix:new a.UniformMatrix4f(d),u_color_ramp:new a.Uniform1i(d),u_center_direction:new a.Uniform3f(d),u_radius:new a.Uniform1f(d),u_opacity:new a.Uniform1f(d),u_temporal_offset:new a.Uniform1f(d)}),skyboxCapture:d=>({u_matrix_3f:new a.UniformMatrix3f(d),u_sun_direction:new a.Uniform3f(d),u_sun_intensity:new a.Uniform1f(d),u_color_tint_r:new a.Uniform4f(d),u_color_tint_m:new a.Uniform4f(d),u_luminance:new a.Uniform1f(d)}),globeRaster:d=>({u_proj_matrix:new a.UniformMatrix4f(d),u_globe_matrix:new a.UniformMatrix4f(d),u_normalize_matrix:new a.UniformMatrix4f(d),u_merc_matrix:new a.UniformMatrix4f(d),u_zoom_transition:new a.Uniform1f(d),u_merc_center:new a.Uniform2f(d),u_image0:new a.Uniform1i(d),u_grid_matrix:new a.UniformMatrix3f(d),u_frustum_tl:new a.Uniform3f(d),u_frustum_tr:new a.Uniform3f(d),u_frustum_br:new a.Uniform3f(d),u_frustum_bl:new a.Uniform3f(d),u_globe_pos:new a.Uniform3f(d),u_globe_radius:new a.Uniform1f(d),u_viewport:new a.Uniform2f(d)}),globeAtmosphere:d=>({u_frustum_tl:new a.Uniform3f(d),u_frustum_tr:new a.Uniform3f(d),u_frustum_br:new a.Uniform3f(d),u_frustum_bl:new a.Uniform3f(d),u_horizon:new a.Uniform1f(d),u_transition:new a.Uniform1f(d),u_fadeout_range:new a.Uniform1f(d),u_color:new a.Uniform4f(d),u_high_color:new a.Uniform4f(d),u_space_color:new a.Uniform4f(d),u_star_intensity:new a.Uniform1f(d),u_star_density:new a.Uniform1f(d),u_star_size:new a.Uniform1f(d),u_temporal_offset:new a.Uniform1f(d),u_horizon_angle:new a.Uniform1f(d),u_rotation_matrix:new a.UniformMatrix4f(d)})};let Cl;function Zu(d,r,c,f,A,S,E){const M=d.context,F=M.gl,$=d.transform,q=d.useProgram("collisionBox"),_e=[];let ve=0,Le=0;for(let Xe=0;Xe<f.length;Xe++){const pt=f[Xe],_t=r.getTile(pt),Nt=_t.getBucket(c);if(!Nt)continue;const Xt=Ye(pt,Nt,$);let zt=Xt;A[0]===0&&A[1]===0||(zt=d.translatePosMatrix(Xt,_t,A,S));const Lt=E?Nt.textCollisionBox:Nt.iconCollisionBox,Qi=Nt.collisionCircleArray;if(Qi.length>0){const Et=a.create(),bi=zt;a.mul(Et,Nt.placementInvProjMatrix,$.glCoordMatrix),a.mul(Et,Et,Nt.placementViewportMatrix),_e.push({circleArray:Qi,circleOffset:Le,transform:bi,invTransform:Et,projection:Nt.getProjection()}),ve+=Qi.length/4,Le=ve}Lt&&(d.terrain&&d.terrain.setupElevationDraw(_t,q),q.draw(M,F.LINES,a.DepthMode.disabled,a.StencilMode.disabled,d.colorModeForRenderPass(),a.CullFaceMode.disabled,ao(zt,$,_t,Nt.getProjection()),c.id,Lt.layoutVertexBuffer,Lt.indexBuffer,Lt.segments,null,$.zoom,null,[Lt.collisionVertexBuffer,Lt.collisionVertexBufferExt]))}if(!E||!_e.length)return;const ke=d.useProgram("collisionCircle"),He=new a.StructArrayLayout2f1f2i16;He.resize(4*ve),He._trim();let Ce=0;for(const Xe of _e)for(let pt=0;pt<Xe.circleArray.length/4;pt++){const _t=4*pt,Nt=Xe.circleArray[_t+0],Xt=Xe.circleArray[_t+1],zt=Xe.circleArray[_t+2],Lt=Xe.circleArray[_t+3];He.emplace(Ce++,Nt,Xt,zt,Lt,0),He.emplace(Ce++,Nt,Xt,zt,Lt,1),He.emplace(Ce++,Nt,Xt,zt,Lt,2),He.emplace(Ce++,Nt,Xt,zt,Lt,3)}(!Cl||Cl.length<2*ve)&&(Cl=function(Xe){const pt=2*Xe,_t=new a.StructArrayLayout3ui6;_t.resize(pt),_t._trim();for(let Nt=0;Nt<pt;Nt++){const Xt=6*Nt;_t.uint16[Xt+0]=4*Nt+0,_t.uint16[Xt+1]=4*Nt+1,_t.uint16[Xt+2]=4*Nt+2,_t.uint16[Xt+3]=4*Nt+2,_t.uint16[Xt+4]=4*Nt+3,_t.uint16[Xt+5]=4*Nt+0}return _t}(ve));const we=M.createIndexBuffer(Cl,!0),Ge=M.createVertexBuffer(He,a.collisionCircleLayout.members,!0);for(const Xe of _e){const pt={u_matrix:Xe.transform,u_inv_matrix:Xe.invTransform,u_camera_to_center_distance:(Oe=$).getCameraToCenterDistance(Xe.projection),u_viewport_size:[Oe.width,Oe.height]};ke.draw(M,F.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,d.colorModeForRenderPass(),a.CullFaceMode.disabled,pt,c.id,Ge,we,a.SegmentVector.simpleSegment(0,2*Xe.circleOffset,Xe.circleArray.length,Xe.circleArray.length/2),null,$.zoom)}var Oe;Ge.destroy(),we.destroy()}const s_=a.create();function Bc({width:d,height:r,anchor:c,textOffset:f,textScale:A},S){const{horizontalAlign:E,verticalAlign:M}=a.getAnchorAlignment(c),F=-(E-.5)*d,$=-(M-.5)*r,q=a.evaluateVariableOffset(c,f);return new a.pointGeometry((F/A+q[0])*S,($/A+q[1])*S)}function S_(d,r,c,f,A,S,E,M,F,$,q){const _e=d.text.placedSymbolArray,ve=d.text.dynamicLayoutVertexArray,Le=d.icon.dynamicLayoutVertexArray,ke={},He=d.getProjection(),Ce=Qt(M,He,S),we=S.elevation,Ge=He.upVectorScale(M.canonical,S.center.lat,S.worldSize).metersToTile;ve.clear();for(let Oe=0;Oe<_e.length;Oe++){const Xe=_e.get(Oe),{tileAnchorX:pt,tileAnchorY:_t,numGlyphs:Nt}=Xe,Xt=d.allowVerticalPlacement&&!Xe.placedOrientation,zt=Xe.hidden||!Xe.crossTileID||Xt?null:f[Xe.crossTileID];if(zt){let Lt=0,Qi=0,Et=0;if(we){const yn=we?we.getAtTileOffset(M,pt,_t):0,[An,kn,Qn]=He.upVector(M.canonical,pt,_t);Lt=yn*An*Ge,Qi=yn*kn*Ge,Et=yn*Qn*Ge}let[bi,qt,Wi,ei]=Fs(Xe.projectedAnchorX+Lt,Xe.projectedAnchorY+Qi,Xe.projectedAnchorZ+Et,c?Ce:E);const Pi=pn(S.getCameraToCenterDistance(He),ei);let wi=A.evaluateSizeForFeature(d.textSizeData,$,Xe)*Pi/a.ONE_EM;c&&(wi*=d.tilePixelRatio/F);const kt=Bc(zt,wi);c?({x:bi,y:qt,z:Wi}=He.projectTilePoint(pt+kt.x,_t+kt.y,M.canonical),[bi,qt,Wi]=Fs(bi+Lt,qt+Qi,Wi+Et,E)):(r&&kt._rotate(-S.angle),bi+=kt.x,qt+=kt.y,Wi=0);const Yt=d.allowVerticalPlacement&&Xe.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let yn=0;yn<Nt;yn++)a.addDynamicAttributes(ve,bi,qt,Wi,Yt);q&&Xe.associatedIconIndex>=0&&(ke[Xe.associatedIconIndex]={x:bi,y:qt,z:Wi,angle:Yt})}else Zs(Nt,ve)}if(q){Le.clear();const Oe=d.icon.placedSymbolArray;for(let Xe=0;Xe<Oe.length;Xe++){const pt=Oe.get(Xe),{numGlyphs:_t}=pt,Nt=ke[Xe];if(pt.hidden||!Nt)Zs(_t,Le);else{const{x:Xt,y:zt,z:Lt,angle:Qi}=Nt;for(let Et=0;Et<_t;Et++)a.addDynamicAttributes(Le,Xt,zt,Lt,Qi)}}d.icon.dynamicLayoutVertexBuffer.updateData(Le)}d.text.dynamicLayoutVertexBuffer.updateData(ve)}function o_(d,r,c){return c.iconsInText&&r?"symbolTextAndIcon":d?"symbolSDF":"symbolIcon"}function va(d,r,c,f,A,S,E,M,F,$,q,_e){const ve=d.context,Le=ve.gl,ke=d.transform,He=M==="map",Ce=F==="map",we=He&&c.layout.get("symbol-placement")!=="point",Ge=He&&!Ce&&!we,Oe=c.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Xe=!1;const pt=d.depthModeForSublayer(0,a.DepthMode.ReadOnly),_t=[a.mercatorXfromLng(ke.center.lng),a.mercatorYfromLat(ke.center.lat)],Nt=c.layout.get("text-variable-anchor"),Xt=ke.projection.name==="globe",zt=[],Lt=[0,-1,0];let Qi=Lt;!Xt&&!ke.mercatorFromTransition||He||(Qi=function(Et){const bi=Et._camera.getWorldToCamera(Et.worldSize,1),qt=a.multiply([],bi,Et.globeMatrix);a.invert(qt,qt);const Wi=[0,0,0],ei=[0,1,0,0];return a.transformMat4$1(ei,ei,qt),Wi[0]=ei[0],Wi[1]=ei[1],Wi[2]=ei[2],a.normalize(Wi,Wi),Wi}(ke));for(const Et of f){const bi=r.getTile(Et),qt=bi.getBucket(c);if(!qt||qt.projection.name==="mercator"&&Xt)continue;const Wi=A?qt.text:qt.icon;if(!Wi||qt.fullyClipped||!Wi.segments.get().length)continue;const ei=Wi.programConfigurations.get(c.id),Pi=A||qt.sdfIcons,wi=A?qt.textSizeData:qt.iconSizeData,kt=Ce||ke.pitch!==0,Yt=a.evaluateSizeForZoom(wi,ke.zoom);let yn,An,kn,Qn,vr=[0,0],Yn=null;if(A){if(An=bi.glyphAtlasTexture,kn=Le.LINEAR,yn=bi.glyphAtlasTexture.size,qt.iconsInText){vr=bi.imageAtlasTexture.size,Yn=bi.imageAtlasTexture;const z=wi.kind==="composite"||wi.kind==="camera";Qn=kt||d.options.rotating||d.options.zooming||z?Le.LINEAR:Le.NEAREST}}else{const z=c.layout.get("icon-size").constantOr(0)!==1||qt.iconsNeedLinear;An=bi.imageAtlasTexture,kn=Pi||d.options.rotating||d.options.zooming||z||kt?Le.LINEAR:Le.NEAREST,yn=bi.imageAtlasTexture.size}const bn=qt.projection.name==="globe",as=bn?Qi:Lt,Jr=bn?a.globeToMercatorTransition(ke.zoom):0,hs=Qt(Et,qt.getProjection(),ke),fs=ke.calculatePixelsToTileUnitsMatrix(bi),Wo=Tn(hs,bi.tileID.canonical,Ce,He,ke,qt.getProjection(),fs),ha=d.terrain&&Ce&&we?a.invert(a.create(),Wo):s_,ko=vo(hs,bi.tileID.canonical,Ce,He,ke,qt.getProjection(),fs),xa=Nt&&qt.hasTextData(),gs=c.layout.get("icon-text-fit")!=="none"&&xa&&qt.hasIconData();if(we){const z=ke.elevation,ne=z?z.getAtTileOffsetFunc(Et,ke.center.lat,ke.worldSize,qt.getProjection()):null,fe=bo(hs,bi.tileID.canonical,Ce,He,ke,qt.getProjection(),fs);xr(qt,hs,d,A,fe,ko,Ce,$,ne,Et)}const Ts=we||A&&Nt||gs,is=d.translatePosMatrix(hs,bi,S,E),js=Ts?s_:Wo,Co=d.translatePosMatrix(ko,bi,S,E,!0),Cs=qt.getProjection().createInversionMatrix(ke,Et.canonical),Xo=[];d.terrainRenderModeElevated()&&Ce&&Xo.push("PITCH_WITH_MAP_TERRAIN"),bn&&Xo.push("PROJECTION_GLOBE_VIEW"),Ts&&Xo.push("PROJECTED_POS_ON_VIEWPORT");const Gl=Pi&&c.paint.get(A?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ks;ks=Pi?qt.iconsInText?ba(wi.kind,Yt,Ge,Ce,d,is,js,Co,yn,vr,Et,Jr,_t,Cs,as,qt.getProjection()):au(wi.kind,Yt,Ge,Ce,d,is,js,Co,A,yn,!0,Et,Jr,_t,Cs,as,qt.getProjection()):xl(wi.kind,Yt,Ge,Ce,d,is,js,Co,A,yn,Et,Jr,_t,Cs,as,qt.getProjection());const Po={program:d.useProgram(o_(Pi,A,qt),ei,Xo),buffers:Wi,uniformValues:ks,atlasTexture:An,atlasTextureIcon:Yn,atlasInterpolation:kn,atlasInterpolationIcon:Qn,isSDF:Pi,hasHalo:Gl,tile:bi,labelPlaneMatrixInv:ha};if(Oe&&qt.canOverlap){Xe=!0;const z=Wi.segments.get();for(const ne of z)zt.push({segments:new a.SegmentVector([ne]),sortKey:ne.sortKey,state:Po})}else zt.push({segments:Wi.segments,sortKey:0,state:Po})}Xe&&zt.sort((Et,bi)=>Et.sortKey-bi.sortKey);for(const Et of zt){const bi=Et.state;if(d.terrain&&d.terrain.setupElevationDraw(bi.tile,bi.program,{useDepthForOcclusion:!Xt,labelPlaneMatrixInv:bi.labelPlaneMatrixInv}),ve.activeTexture.set(Le.TEXTURE0),bi.atlasTexture.bind(bi.atlasInterpolation,Le.CLAMP_TO_EDGE),bi.atlasTextureIcon&&(ve.activeTexture.set(Le.TEXTURE1),bi.atlasTextureIcon&&bi.atlasTextureIcon.bind(bi.atlasInterpolationIcon,Le.CLAMP_TO_EDGE)),bi.isSDF){const qt=bi.uniformValues;bi.hasHalo&&(qt.u_is_halo=1,al(bi.buffers,Et.segments,c,d,bi.program,pt,q,_e,qt)),qt.u_is_halo=0}al(bi.buffers,Et.segments,c,d,bi.program,pt,q,_e,bi.uniformValues)}}function al(d,r,c,f,A,S,E,M,F){const $=f.context,q=[d.dynamicLayoutVertexBuffer,d.opacityVertexBuffer,d.globeExtVertexBuffer];A.draw($,$.gl.TRIANGLES,S,E,M,a.CullFaceMode.disabled,F,c.id,d.layoutVertexBuffer,d.indexBuffer,r,c.paint,f.transform.zoom,d.programConfigurations.get(c.id),q)}function ja(d,r,c,f,A,S,E){const M=d.context.gl,F=c.paint.get("fill-pattern"),$=F&&F.constantOr(1);let q,_e,ve,Le,ke;E?(_e=$&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=M.LINES):(_e=$?"fillPattern":"fill",q=M.TRIANGLES);for(const He of f){const Ce=r.getTile(He);if($&&!Ce.patternsLoaded())continue;const we=Ce.getBucket(c);if(!we)continue;d.prepareDrawTile();const Ge=we.programConfigurations.get(c.id),Oe=d.useProgram(_e,Ge);$&&(d.context.activeTexture.set(M.TEXTURE0),Ce.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),Ge.updatePaintBuffers());const Xe=F.constantOr(null);if(Xe&&Ce.imageAtlas){const _t=Ce.imageAtlas.patternPositions[Xe.toString()];_t&&Ge.setConstantPatternPositions(_t)}const pt=d.translatePosMatrix(He.projMatrix,Ce,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(E){Le=we.indexBuffer2,ke=we.segments2;const _t=d.terrain&&d.terrain.renderingToTexture?d.terrain.drapeBufferSize:[M.drawingBufferWidth,M.drawingBufferHeight];ve=_e==="fillOutlinePattern"&&$?Io(pt,d,Ce,_t):N0(pt,_t)}else Le=we.indexBuffer,ke=we.segments,ve=$?$o(pt,d,Ce):nl(pt);d.prepareDrawProgram(d.context,Oe,He.toUnwrapped()),Oe.draw(d.context,q,A,d.stencilModeForClipping(He),S,a.CullFaceMode.disabled,ve,c.id,we.layoutVertexBuffer,Le,ke,c.paint,d.transform.zoom,Ge)}}function Pl(d,r,c,f,A,S,E){const M=d.context,F=M.gl,$=d.transform,q=c.paint.get("fill-extrusion-pattern"),_e=q.constantOr(1),ve=c.paint.get("fill-extrusion-opacity"),Le=[c.paint.get("fill-extrusion-ambient-occlusion-intensity"),c.paint.get("fill-extrusion-ambient-occlusion-radius")],ke=c.layout.get("fill-extrusion-edge-radius"),He=$.projection.name==="globe"?a.fillExtrusionHeightLift():0,Ce=$.projection.name==="globe",we=Ce?a.globeToMercatorTransition($.zoom):0,Ge=[a.mercatorXfromLng($.center.lng),a.mercatorYfromLat($.center.lat)],Oe=[];Ce&&(Oe.push("PROJECTION_GLOBE_VIEW"),d.style.terrainSetForDrapingOnly()&&Oe.push("TERRAIN")),Le[0]>0&&Oe.push("FAUX_AO");for(const Xe of f){const pt=r.getTile(Xe),_t=pt.getBucket(c);if(!_t||_t.projection.name!==$.projection.name)continue;const Nt=_t.programConfigurations.get(c.id),Xt=d.useProgram(_e?"fillExtrusionPattern":"fillExtrusion",Nt,Oe);if(d.terrain){const Wi=d.terrain;if(d.style.terrainSetForDrapingOnly())Wi.setupElevationDraw(pt,Xt,{useMeterToDem:!0});else{if(!_t.enableTerrain)continue;if(Wi.setupElevationDraw(pt,Xt,{useMeterToDem:!0}),Xu(M,r,Xe,_t,c,Wi),!_t.centroidVertexBuffer){const ei=Xt.attributes.a_centroid_pos;ei!==void 0&&F.vertexAttrib2f(ei,0,0)}}}_e&&(d.context.activeTexture.set(F.TEXTURE0),pt.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),Nt.updatePaintBuffers());const zt=q.constantOr(null);if(zt&&pt.imageAtlas){const Wi=pt.imageAtlas.patternPositions[zt.toString()];Wi&&Nt.setConstantPatternPositions(Wi)}const Lt=d.translatePosMatrix(Xe.projMatrix,pt,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Qi=$.projection.createInversionMatrix($,Xe.canonical),Et=c.paint.get("fill-extrusion-vertical-gradient"),bi=_e?co(Lt,d,Et,ve,Le,ke,Xe,pt,He,we,Ge,Qi):i_(Lt,d,Et,ve,Le,ke,Xe,He,we,Ge,Qi);d.prepareDrawProgram(M,Xt,Xe.toUnwrapped());const qt=[];d.terrain&&qt.push(_t.centroidVertexBuffer),Ce&&qt.push(_t.layoutVertexExtBuffer),Xt.draw(M,M.gl.TRIANGLES,A,S,E,a.CullFaceMode.backCCW,bi,c.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,c.paint,d.transform.zoom,Nt,qt)}}function Xu(d,r,c,f,A,S){const E=[we=>{let Ge=we.canonical.x-1,Oe=we.wrap;return Ge<0&&(Ge=(1<<we.canonical.z)-1,Oe--),new a.OverscaledTileID(we.overscaledZ,Oe,we.canonical.z,Ge,we.canonical.y)},we=>{let Ge=we.canonical.x+1,Oe=we.wrap;return Ge===1<<we.canonical.z&&(Ge=0,Oe++),new a.OverscaledTileID(we.overscaledZ,Oe,we.canonical.z,Ge,we.canonical.y)},we=>new a.OverscaledTileID(we.overscaledZ,we.wrap,we.canonical.z,we.canonical.x,(we.canonical.y===0?1<<we.canonical.z:we.canonical.y)-1),we=>new a.OverscaledTileID(we.overscaledZ,we.wrap,we.canonical.z,we.canonical.x,we.canonical.y===(1<<we.canonical.z)-1?0:we.canonical.y+1)],M=we=>{const Ge=r.getSource().minzoom,Oe=pt=>{const _t=r.getTileByID(pt);if(_t&&_t.hasData())return _t.getBucket(A)},Xe=[0,-1,1];for(const pt of Xe){if(we.overscaledZ+pt<Ge)continue;const _t=Oe(we.calculateScaledKey(we.overscaledZ+pt));if(_t)return _t}},F=[0,0,0],$=(we,Ge)=>(F[0]=Math.min(we.min.y,Ge.min.y),F[1]=Math.max(we.max.y,Ge.max.y),F[2]=a.EXTENT-Ge.min.x>we.max.x?Ge.min.x-a.EXTENT:we.max.x,F),q=(we,Ge)=>(F[0]=Math.min(we.min.x,Ge.min.x),F[1]=Math.max(we.max.x,Ge.max.x),F[2]=a.EXTENT-Ge.min.y>we.max.y?Ge.min.y-a.EXTENT:we.max.y,F),_e=[(we,Ge)=>$(we,Ge),(we,Ge)=>$(Ge,we),(we,Ge)=>q(we,Ge),(we,Ge)=>q(Ge,we)],ve=new a.pointGeometry(0,0);let Le,ke,He;const Ce=(we,Ge,Oe,Xe,pt)=>{const _t=[[Xe?Oe:we,Xe?we:Oe,0],[Xe?Oe:Ge,Xe?Ge:Oe,0]],Nt=pt<0?a.EXTENT+pt:pt,Xt=[Xe?Nt:(we+Ge)/2,Xe?(we+Ge)/2:Nt,0];return Oe===0&&pt<0||Oe!==0&&pt>0?S.getForTilePoints(He,[Xt],!0,ke):_t.push(Xt),S.getForTilePoints(c,_t,!0,Le),Math.max(_t[0][2],_t[1][2],Xt[2])/S.exaggeration()};for(let we=0;we<4;we++){const Ge=(we<2?1:5)-we,Oe=f.borders[we];if(Oe.length===0)continue;const Xe=He=E[we](c),pt=M(Xe);if(!(pt&&pt instanceof a.FillExtrusionBucket&&pt.enableTerrain)||f.borderDoneWithNeighborZ[we]===pt.canonical.z&&pt.borderDoneWithNeighborZ[Ge]===f.canonical.z||(ke=S.findDEMTileFor(Xe),!ke||!ke.dem))continue;if(!Le){const zt=S.findDEMTileFor(c);if(!zt||!zt.dem)return;Le=zt}const _t=pt.borders[Ge];let Nt=0;const Xt=pt.borderDoneWithNeighborZ[Ge]!==f.canonical.z;if(f.canonical.z===pt.canonical.z){for(let zt=0;zt<Oe.length;zt++){const Lt=f.featuresOnBorder[Oe[zt]],Qi=Lt.borders[we];let Et;for(;Nt<_t.length&&(Et=pt.featuresOnBorder[_t[Nt]],!(Et.borders[Ge][1]>Qi[0]+3));)Xt&&pt.encodeCentroid(void 0,Et,!1),Nt++;if(Et&&Nt<_t.length){const bi=Nt;let qt=0;for(;!(Et.borders[Ge][0]>Qi[1]-3)&&(qt++,++Nt!==_t.length);)Et=pt.featuresOnBorder[_t[Nt]];if(Et=pt.featuresOnBorder[_t[bi]],Lt.intersectsCount()>1||Et.intersectsCount()>1||qt!==1){qt!==1&&(Nt=bi),f.encodeCentroid(void 0,Lt,!1),Xt&&pt.encodeCentroid(void 0,Et,!1);continue}const Wi=_e[we](Lt,Et),ei=we%2?a.EXTENT-1:0;ve.x=Ce(Wi[0],Math.min(a.EXTENT-1,Wi[1]),ei,we<2,Wi[2]),ve.y=0,f.encodeCentroid(ve,Lt,!1),Xt&&pt.encodeCentroid(ve,Et,!1)}else f.encodeCentroid(void 0,Lt,!1)}f.borderDoneWithNeighborZ[we]=pt.canonical.z,f.needsCentroidUpdate=!0,Xt&&(pt.borderDoneWithNeighborZ[Ge]=f.canonical.z,pt.needsCentroidUpdate=!0)}else{for(const zt of Oe)f.encodeCentroid(void 0,f.featuresOnBorder[zt],!1);if(Xt){for(const zt of _t)pt.encodeCentroid(void 0,pt.featuresOnBorder[zt],!1);pt.borderDoneWithNeighborZ[Ge]=f.canonical.z,pt.needsCentroidUpdate=!0}f.borderDoneWithNeighborZ[we]=pt.canonical.z,f.needsCentroidUpdate=!0}}(f.needsCentroidUpdate||!f.centroidVertexBuffer&&f.centroidVertexArray.length!==0)&&f.uploadCentroid(d)}const x_=new a.Color(1,0,0,1),i0=new a.Color(0,1,0,1),Nl=new a.Color(0,0,1,1),_0=new a.Color(1,0,1,1),lu=new a.Color(0,1,1,1);function w0(d,r,c){const f=d.context,A=d.transform,S=f.gl,E=A.projection.name==="globe",M=E?["PROJECTION_GLOBE_VIEW"]:null;let F=c.projMatrix;if(E&&a.globeToMercatorTransition(A.zoom)>0){const Lt=a.transitionTileAABBinECEF(c.canonical,A),Qi=a.globeDenormalizeECEF(Lt);F=a.multiply(new Float32Array(16),A.globeMatrix,Qi),a.multiply(F,A.projMatrix,F)}const $=d.useProgram("debug",null,M),q=r.getTileByID(c.key);d.terrain&&d.terrain.setupElevationDraw(q,$);const _e=a.DepthMode.disabled,ve=a.StencilMode.disabled,Le=d.colorModeForRenderPass(),ke="$debug";f.activeTexture.set(S.TEXTURE0),d.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),E?q._makeGlobeTileDebugBuffers(d.context,A):q._makeDebugTileBoundsBuffers(d.context,A.projection);const He=q._tileDebugBuffer||d.debugBuffer,Ce=q._tileDebugIndexBuffer||d.debugIndexBuffer,we=q._tileDebugSegments||d.debugSegments;$.draw(f,S.LINE_STRIP,_e,ve,Le,a.CullFaceMode.disabled,Va(F,a.Color.red),ke,He,Ce,we,null,null,null,[q._globeTileDebugBorderBuffer]);const Ge=q.latestRawTileData,Oe=Math.floor((Ge&&Ge.byteLength||0)/1024),Xe=r.getTile(c).tileSize,pt=512/Math.min(Xe,512)*(c.overscaledZ/A.zoom)*.5;let _t=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(_t+=` => ${c.overscaledZ}`),_t+=` ${Oe}kb`,function(Lt,Qi){Lt.initDebugOverlayCanvas();const Et=Lt.debugOverlayCanvas,bi=Lt.context.gl,qt=Lt.debugOverlayCanvas.getContext("2d");qt.clearRect(0,0,Et.width,Et.height),qt.shadowColor="white",qt.shadowBlur=2,qt.lineWidth=1.5,qt.strokeStyle="white",qt.textBaseline="top",qt.font="bold 36px Open Sans, sans-serif",qt.fillText(Qi,5,5),qt.strokeText(Qi,5,5),Lt.debugOverlayTexture.update(Et),Lt.debugOverlayTexture.bind(bi.LINEAR,bi.CLAMP_TO_EDGE)}(d,_t);const Nt=q._tileDebugTextBuffer||d.debugBuffer,Xt=q._tileDebugTextIndexBuffer||d.quadTriangleIndexBuffer,zt=q._tileDebugTextSegments||d.debugSegments;$.draw(f,S.TRIANGLES,_e,ve,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,Va(F,a.Color.transparent,pt),ke,Nt,Xt,zt,null,null,null,[q._globeTileDebugTextBuffer])}function C_(d,r,c,f){Go(d,0,r+c/2,d.transform.width,c,f)}function wl(d,r,c,f){Go(d,r-c/2,0,c,d.transform.height,f)}function Go(d,r,c,f,A,S){const E=d.context,M=E.gl;M.enable(M.SCISSOR_TEST),M.scissor(r*a.exported.devicePixelRatio,c*a.exported.devicePixelRatio,f*a.exported.devicePixelRatio,A*a.exported.devicePixelRatio),E.clear({color:S}),M.disable(M.SCISSOR_TEST)}const Ha=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:_u}=Ha;function ca(d,r,c,f){d.emplaceBack(r,c,f)}class ll{constructor(r){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,ca(this.vertexArray,-1,-1,1),ca(this.vertexArray,1,-1,1),ca(this.vertexArray,-1,1,1),ca(this.vertexArray,1,1,1),ca(this.vertexArray,-1,-1,-1),ca(this.vertexArray,1,-1,-1),ca(this.vertexArray,-1,1,-1),ca(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,_u),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function E0(d,r,c,f,A,S){const E=d.gl,M=r.paint.get("sky-atmosphere-color"),F=r.paint.get("sky-atmosphere-halo-color"),$=r.paint.get("sky-atmosphere-sun-intensity"),q=((_e,ve,Le,ke,He)=>({u_matrix_3f:_e,u_sun_direction:ve,u_sun_intensity:Le,u_color_tint_r:[ke.r,ke.g,ke.b,ke.a],u_color_tint_m:[He.r,He.g,He.b,He.a],u_luminance:5e-5}))(a.fromMat4(a.create$1(),f),A,$,M,F);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+S,r.skyboxTexture,0),c.draw(d,E.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,q,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const a_=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class ts{constructor(r){const c=new a.StructArrayLayout5f20;c.emplaceBack(-1,1,1,0,0),c.emplaceBack(1,1,1,1,0),c.emplaceBack(1,-1,1,1,1),c.emplaceBack(-1,-1,1,0,1);const f=new a.StructArrayLayout3ui6;f.emplaceBack(0,1,2),f.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(c,a_.members),this.indexBuffer=r.createIndexBuffer(f),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const El={symbol:function(d,r,c,f,A){if(d.renderPass!=="translucent")return;const S=a.StencilMode.disabled,E=d.colorModeForRenderPass();c.layout.get("text-variable-anchor")&&function(M,F,$,q,_e,ve,Le){const ke=F.transform,He=_e==="map",Ce=ve==="map";for(const we of M){const Ge=q.getTile(we),Oe=Ge.getBucket($);if(!Oe||!Oe.text||!Oe.text.segments.get().length)continue;const Xe=a.evaluateSizeForZoom(Oe.textSizeData,ke.zoom),pt=Qt(we,Oe.getProjection(),ke),_t=ke.calculatePixelsToTileUnitsMatrix(Ge),Nt=Tn(pt,Ge.tileID.canonical,Ce,He,ke,Oe.getProjection(),_t),Xt=$.layout.get("icon-text-fit")!=="none"&&Oe.hasIconData();if(Xe){const zt=Math.pow(2,ke.zoom-Ge.tileID.overscaledZ);S_(Oe,He,Ce,Le,a.symbolSize,ke,Nt,we,zt,Xe,Xt)}}}(f,d,c,r,c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),A),c.paint.get("icon-opacity").constantOr(1)!==0&&va(d,r,c,f,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),S,E),c.paint.get("text-opacity").constantOr(1)!==0&&va(d,r,c,f,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),S,E),r.map.showCollisionBoxes&&(Zu(d,r,c,f,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),!0),Zu(d,r,c,f,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),!1))},circle:function(d,r,c,f){if(d.renderPass!=="translucent")return;const A=c.paint.get("circle-opacity"),S=c.paint.get("circle-stroke-width"),E=c.paint.get("circle-stroke-opacity"),M=c.layout.get("circle-sort-key").constantOr(1)!==void 0;if(A.constantOr(1)===0&&(S.constantOr(1)===0||E.constantOr(1)===0))return;const F=d.context,$=F.gl,q=d.transform,_e=d.depthModeForSublayer(0,a.DepthMode.ReadOnly),ve=a.StencilMode.disabled,Le=d.colorModeForRenderPass(),ke=q.projection.name==="globe",He=[a.mercatorXfromLng(q.center.lng),a.mercatorYfromLat(q.center.lat)],Ce=[];for(let Ge=0;Ge<f.length;Ge++){const Oe=f[Ge],Xe=r.getTile(Oe),pt=Xe.getBucket(c);if(!pt||pt.projection.name!==q.projection.name)continue;const _t=pt.programConfigurations.get(c.id),Nt=n_(c);ke&&Nt.push("PROJECTION_GLOBE_VIEW");const Xt=d.useProgram("circle",_t,Nt),zt=pt.layoutVertexBuffer,Lt=pt.globeExtVertexBuffer,Qi=pt.indexBuffer,Et=q.projection.createInversionMatrix(q,Oe.canonical),bi={programConfiguration:_t,program:Xt,layoutVertexBuffer:zt,globeExtVertexBuffer:Lt,indexBuffer:Qi,uniformValues:t0(d,Oe,Xe,Et,He,c),tile:Xe};if(M){const qt=pt.segments.get();for(const Wi of qt)Ce.push({segments:new a.SegmentVector([Wi]),sortKey:Wi.sortKey,state:bi})}else Ce.push({segments:pt.segments,sortKey:0,state:bi})}M&&Ce.sort((Ge,Oe)=>Ge.sortKey-Oe.sortKey);const we={useDepthForOcclusion:!ke};for(const Ge of Ce){const{programConfiguration:Oe,program:Xe,layoutVertexBuffer:pt,globeExtVertexBuffer:_t,indexBuffer:Nt,uniformValues:Xt,tile:zt}=Ge.state,Lt=Ge.segments;d.terrain&&d.terrain.setupElevationDraw(zt,Xe,we),d.prepareDrawProgram(F,Xe,zt.tileID.toUnwrapped()),Xe.draw(F,$.TRIANGLES,_e,ve,Le,a.CullFaceMode.disabled,Xt,c.id,pt,Nt,Lt,c.paint,q.zoom,Oe,[_t])}},heatmap:function(d,r,c,f){if(c.paint.get("heatmap-opacity")!==0)if(d.renderPass==="offscreen"){const A=d.context,S=A.gl,E=a.StencilMode.disabled,M=new a.ColorMode([S.ONE,S.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Le,ke,He,Ce){const we=Le.gl,Ge=ke.width*Ce,Oe=ke.height*Ce;Le.activeTexture.set(we.TEXTURE1),Le.viewport.set([0,0,Ge,Oe]);let Xe=He.heatmapFbo;if(!Xe||Xe&&(Xe.width!==Ge||Xe.height!==Oe)){Xe&&Xe.destroy();const pt=we.createTexture();we.bindTexture(we.TEXTURE_2D,pt),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_WRAP_S,we.CLAMP_TO_EDGE),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_WRAP_T,we.CLAMP_TO_EDGE),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MIN_FILTER,we.LINEAR),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MAG_FILTER,we.LINEAR),Xe=He.heatmapFbo=Le.createFramebuffer(Ge,Oe,!1),function(_t,Nt,Xt,zt,Lt,Qi){const Et=_t.gl;Et.texImage2D(Et.TEXTURE_2D,0,Et.RGBA,Lt,Qi,0,Et.RGBA,_t.extRenderToTextureHalfFloat?_t.extTextureHalfFloat.HALF_FLOAT_OES:Et.UNSIGNED_BYTE,null),zt.colorAttachment.set(Xt)}(Le,0,pt,Xe,Ge,Oe)}else we.bindTexture(we.TEXTURE_2D,Xe.colorAttachment.get()),Le.bindFramebuffer.set(Xe.framebuffer)})(A,d,c,d.transform.projection.name==="globe"?.5:.25),A.clear({color:a.Color.transparent});const F=d.transform,$=F.projection.name==="globe",q=$?["PROJECTION_GLOBE_VIEW"]:null,_e=$?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,ve=[a.mercatorXfromLng(F.center.lng),a.mercatorYfromLat(F.center.lat)];for(let Le=0;Le<f.length;Le++){const ke=f[Le];if(r.hasRenderableParent(ke))continue;const He=r.getTile(ke),Ce=He.getBucket(c);if(!Ce||Ce.projection.name!==F.projection.name)continue;const we=Ce.programConfigurations.get(c.id),Ge=d.useProgram("heatmap",we,q),{zoom:Oe}=d.transform;d.terrain&&d.terrain.setupElevationDraw(He,Ge),d.prepareDrawProgram(A,Ge,ke.toUnwrapped());const Xe=F.projection.createInversionMatrix(F,ke.canonical);Ge.draw(A,S.TRIANGLES,a.DepthMode.disabled,E,M,_e,a0(d,ke,He,Xe,ve,Oe,c.paint.get("heatmap-intensity")),c.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,c.paint,d.transform.zoom,we,$?[Ce.globeExtVertexBuffer]:null)}A.viewport.set([0,0,d.width,d.height])}else d.renderPass==="translucent"&&(d.context.setColorMode(d.colorModeForRenderPass()),function(A,S){const E=A.context,M=E.gl,F=S.heatmapFbo;if(!F)return;E.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,F.colorAttachment.get()),E.activeTexture.set(M.TEXTURE1);let $=S.colorRampTexture;$||($=S.colorRampTexture=new a.Texture(E,S.colorRamp,M.RGBA)),$.bind(M.LINEAR,M.CLAMP_TO_EDGE),A.useProgram("heatmapTexture").draw(E,M.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,A.colorModeForRenderPass(),a.CullFaceMode.disabled,((q,_e,ve,Le)=>({u_image:0,u_color_ramp:1,u_opacity:_e.paint.get("heatmap-opacity")}))(0,S),S.id,A.viewportBuffer,A.quadTriangleIndexBuffer,A.viewportSegments,S.paint,A.transform.zoom)}(d,c))},line:function(d,r,c,f){if(d.renderPass!=="translucent")return;const A=c.paint.get("line-opacity"),S=c.paint.get("line-width");if(A.constantOr(1)===0||S.constantOr(1)===0)return;const E=d.depthModeForSublayer(0,a.DepthMode.ReadOnly),M=d.colorModeForRenderPass(),F=d.terrain&&d.terrain.renderingToTexture?1:a.exported.devicePixelRatio,$=c.paint.get("line-dasharray"),q=$.constantOr(1),_e=c.layout.get("line-cap"),ve=c.paint.get("line-pattern"),Le=ve.constantOr(1),ke=c.paint.get("line-gradient"),He=Le?"linePattern":"line",Ce=d.context,we=Ce.gl,Ge=(Xe=>{const pt=[];Aa(Xe)&&pt.push("RENDER_LINE_DASH"),Xe.paint.get("line-gradient")&&pt.push("RENDER_LINE_GRADIENT");const _t=Xe.paint.get("line-trim-offset");_t[0]===0&&_t[1]===0||pt.push("RENDER_LINE_TRIM_OFFSET");const Nt=Xe.paint.get("line-pattern").constantOr(1),Xt=Xe.paint.get("line-opacity").constantOr(1)!==1;return!Nt&&Xt&&pt.push("RENDER_LINE_ALPHA_DISCARD"),pt})(c);let Oe=Ge.includes("RENDER_LINE_ALPHA_DISCARD");d.terrain&&d.terrain.clipOrMaskOverlapStencilType()&&(Oe=!1);for(const Xe of f){const pt=r.getTile(Xe);if(Le&&!pt.patternsLoaded())continue;const _t=pt.getBucket(c);if(!_t)continue;d.prepareDrawTile();const Nt=_t.programConfigurations.get(c.id),Xt=d.useProgram(He,Nt,Ge),zt=ve.constantOr(null);if(zt&&pt.imageAtlas){const Pi=pt.imageAtlas.patternPositions[zt.toString()];Pi&&Nt.setConstantPatternPositions(Pi)}const Lt=$.constantOr(null),Qi=_e.constantOr(null);if(!Le&&Lt&&Qi&&pt.lineAtlas){const Pi=pt.lineAtlas.getDash(Lt,Qi);Pi&&Nt.setConstantPatternPositions(Pi)}let[Et,bi]=c.paint.get("line-trim-offset");(Qi==="round"||Qi==="square")&&Et!==bi&&(Et===0&&(Et-=1),bi===1&&(bi+=1));const qt=d.terrain?Xe.projMatrix:null,Wi=Le?ya(d,pt,c,qt,F):rl(d,pt,c,qt,_t.lineClipsArray.length,F,[Et,bi]);if(ke){const Pi=_t.gradients[c.id];let wi=Pi.texture;if(c.gradientVersion!==Pi.version){let kt=256;if(c.stepInterpolant){const Yt=r.getSource().maxzoom,yn=Xe.canonical.z===Yt?Math.ceil(1<<d.transform.maxZoom-Xe.canonical.z):1;kt=a.clamp(a.nextPowerOfTwo(_t.maxLineLength/a.EXTENT*1024*yn),256,Ce.maxTextureSize)}Pi.gradient=a.renderColorRamp({expression:c.gradientExpression(),evaluationKey:"lineProgress",resolution:kt,image:Pi.gradient||void 0,clips:_t.lineClipsArray}),Pi.texture?Pi.texture.update(Pi.gradient):Pi.texture=new a.Texture(Ce,Pi.gradient,we.RGBA),Pi.version=c.gradientVersion,wi=Pi.texture}Ce.activeTexture.set(we.TEXTURE1),wi.bind(c.stepInterpolant?we.NEAREST:we.LINEAR,we.CLAMP_TO_EDGE)}q&&(Ce.activeTexture.set(we.TEXTURE0),pt.lineAtlasTexture.bind(we.LINEAR,we.REPEAT),Nt.updatePaintBuffers()),Le&&(Ce.activeTexture.set(we.TEXTURE0),pt.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Nt.updatePaintBuffers()),d.prepareDrawProgram(Ce,Xt,Xe.toUnwrapped());const ei=Pi=>{Xt.draw(Ce,we.TRIANGLES,E,Pi,M,a.CullFaceMode.disabled,Wi,c.id,_t.layoutVertexBuffer,_t.indexBuffer,_t.segments,c.paint,d.transform.zoom,Nt,[_t.layoutVertexBuffer2])};if(Oe){const Pi=d.stencilModeForClipping(Xe).ref;Pi===0&&d.terrain&&Ce.clear({stencil:0});const wi={func:we.EQUAL,mask:255};Wi.u_alpha_discard_threshold=.8,ei(new a.StencilMode(wi,Pi,255,we.KEEP,we.KEEP,we.INVERT)),Wi.u_alpha_discard_threshold=0,ei(new a.StencilMode(wi,Pi,255,we.KEEP,we.KEEP,we.KEEP))}else ei(d.stencilModeForClipping(Xe))}Oe&&(d.resetStencilClippingMasks(),d.terrain&&Ce.clear({stencil:0}))},fill:function(d,r,c,f){const A=c.paint.get("fill-color"),S=c.paint.get("fill-opacity");if(S.constantOr(1)===0)return;const E=d.colorModeForRenderPass(),M=c.paint.get("fill-pattern"),F=d.opaquePassEnabledForLayer()&&!M.constantOr(1)&&A.constantOr(a.Color.transparent).a===1&&S.constantOr(0)===1?"opaque":"translucent";if(d.renderPass===F){const $=d.depthModeForSublayer(1,d.renderPass==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);ja(d,r,c,f,$,E,!1)}if(d.renderPass==="translucent"&&c.paint.get("fill-antialias")){const $=d.depthModeForSublayer(c.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);ja(d,r,c,f,$,E,!0)}},"fill-extrusion":function(d,r,c,f){const A=c.paint.get("fill-extrusion-opacity");if(A!==0&&d.renderPass==="translucent"){const S=new a.DepthMode(d.context.gl.LEQUAL,a.DepthMode.ReadWrite,d.depthRangeFor3D);if(A!==1||c.paint.get("fill-extrusion-pattern").constantOr(1))Pl(d,r,c,f,S,a.StencilMode.disabled,a.ColorMode.disabled),Pl(d,r,c,f,S,d.stencilModeFor3D(),d.colorModeForRenderPass()),d.resetStencilClippingMasks();else{const E=d.colorModeForRenderPass();Pl(d,r,c,f,S,a.StencilMode.disabled,E)}}},hillshade:function(d,r,c,f){if(d.renderPass!=="offscreen"&&d.renderPass!=="translucent")return;const A=d.context,S=d.depthModeForSublayer(0,a.DepthMode.ReadOnly),E=d.colorModeForRenderPass(),M=d.terrain&&d.terrain.renderingToTexture,[F,$]=d.renderPass!=="translucent"||M?[{},f]:d.stencilConfigForOverlap(f);for(const q of $){const _e=r.getTile(q);if(_e.needsHillshadePrepare&&d.renderPass==="offscreen")mr(d,_e,c,S,a.StencilMode.disabled,E);else if(d.renderPass==="translucent"){const ve=M&&d.terrain?d.terrain.stencilModeForRTTOverlap(q):F[q.overscaledZ];K0(d,q,_e,c,S,ve,E)}}A.viewport.set([0,0,d.width,d.height]),d.resetStencilClippingMasks()},raster:function(d,r,c,f,A,S){if(d.renderPass!=="translucent"||c.paint.get("raster-opacity")===0||!f.length)return;const E=d.context,M=E.gl,F=r.getSource(),$=d.useProgram("raster"),q=d.colorModeForRenderPass(),_e=d.terrain&&d.terrain.renderingToTexture,[ve,Le]=F instanceof ft||_e?[{},f]:d.stencilConfigForOverlap(f),ke=Le[Le.length-1].overscaledZ,He=!d.options.moving;for(const Ce of Le){const we=_e?a.DepthMode.disabled:d.depthModeForSublayer(Ce.overscaledZ-ke,c.paint.get("raster-opacity")===1?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,M.LESS),Ge=Ce.toUnwrapped(),Oe=r.getTile(Ce);if(_e&&(!Oe||!Oe.hasData()))continue;const Xe=_e?Ce.projMatrix:d.transform.calculateProjMatrix(Ge,He),pt=d.terrain&&_e?d.terrain.stencilModeForRTTOverlap(Ce):ve[Ce.overscaledZ],_t=S?0:c.paint.get("raster-fade-duration");Oe.registerFadeDuration(_t);const Nt=r.findLoadedParent(Ce,0),Xt=Sl(Oe,Nt,r,d.transform,_t);let zt,Lt;d.terrain&&d.terrain.prepareDrawTile();const Qi=c.paint.get("raster-resampling")==="nearest"?M.NEAREST:M.LINEAR;E.activeTexture.set(M.TEXTURE0),Oe.texture.bind(Qi,M.CLAMP_TO_EDGE),E.activeTexture.set(M.TEXTURE1),Nt?(Nt.texture.bind(Qi,M.CLAMP_TO_EDGE),zt=Math.pow(2,Nt.tileID.overscaledZ-Oe.tileID.overscaledZ),Lt=[Oe.tileID.canonical.x*zt%1,Oe.tileID.canonical.y*zt%1]):Oe.texture.bind(Qi,M.CLAMP_TO_EDGE);const Et=l0(Xe,Lt||[0,0],zt||1,Xt,c,F instanceof ft?F.perspectiveTransform:[0,0]);if(d.prepareDrawProgram(E,$,Ge),F instanceof ft)F.boundsBuffer&&F.boundsSegments&&$.draw(E,M.TRIANGLES,we,a.StencilMode.disabled,q,a.CullFaceMode.disabled,Et,c.id,F.boundsBuffer,d.quadTriangleIndexBuffer,F.boundsSegments);else{const{tileBoundsBuffer:bi,tileBoundsIndexBuffer:qt,tileBoundsSegments:Wi}=d.getTileBoundsBuffers(Oe);$.draw(E,M.TRIANGLES,we,pt,q,a.CullFaceMode.disabled,Et,c.id,bi,qt,Wi)}}d.resetStencilClippingMasks()},background:function(d,r,c,f){const A=c.paint.get("background-color"),S=c.paint.get("background-opacity");if(S===0)return;const E=d.context,M=E.gl,F=d.transform,$=F.tileSize,q=c.paint.get("background-pattern");if(d.isPatternMissing(q))return;const _e=!q&&A.a===1&&S===1&&d.opaquePassEnabledForLayer()?"opaque":"translucent";if(d.renderPass!==_e)return;const ve=a.StencilMode.disabled,Le=d.depthModeForSublayer(0,_e==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),ke=d.colorModeForRenderPass(),He=d.useProgram(q?"backgroundPattern":"background");let Ce,we=f;we||(Ce=d.getBackgroundTiles(),we=Object.values(Ce).map(Ge=>Ge.tileID)),q&&(E.activeTexture.set(M.TEXTURE0),d.imageManager.bind(d.context));for(const Ge of we){const Oe=Ge.toUnwrapped(),Xe=f?Ge.projMatrix:d.transform.calculateProjMatrix(Oe);d.prepareDrawTile();const pt=r?r.getTile(Ge):Ce?Ce[Ge.key]:new a.Tile(Ge,$,F.zoom,d),_t=q?Rn(Xe,S,d,q,{tileID:Ge,tileSize:$}):Zr(Xe,S,A);d.prepareDrawProgram(E,He,Oe);const{tileBoundsBuffer:Nt,tileBoundsIndexBuffer:Xt,tileBoundsSegments:zt}=d.getTileBoundsBuffers(pt);He.draw(E,M.TRIANGLES,Le,ve,ke,a.CullFaceMode.disabled,_t,c.id,Nt,Xt,zt)}},sky:function(d,r,c){const f=d.transform,A=f.projection.name==="mercator"||f.projection.name==="globe"?1:a.smoothstep(7,8,f.zoom),S=c.paint.get("sky-opacity")*A;if(S===0)return;const E=d.context,M=c.paint.get("sky-type"),F=new a.DepthMode(E.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),$=d.frameCounter/1e3%1;M==="atmosphere"?d.renderPass==="offscreen"?c.needsSkyboxCapture(d)&&(function(q,_e,ve,Le){const ke=q.context,He=ke.gl;let Ce=_e.skyboxFbo;if(!Ce){Ce=_e.skyboxFbo=ke.createFramebuffer(32,32,!1),_e.skyboxGeometry=new ll(ke),_e.skyboxTexture=ke.gl.createTexture(),He.bindTexture(He.TEXTURE_CUBE_MAP,_e.skyboxTexture),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_S,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_WRAP_T,He.CLAMP_TO_EDGE),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MIN_FILTER,He.LINEAR),He.texParameteri(He.TEXTURE_CUBE_MAP,He.TEXTURE_MAG_FILTER,He.LINEAR);for(let Xe=0;Xe<6;++Xe)He.texImage2D(He.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,He.RGBA,32,32,0,He.RGBA,He.UNSIGNED_BYTE,null)}ke.bindFramebuffer.set(Ce.framebuffer),ke.viewport.set([0,0,32,32]);const we=_e.getCenter(q,!0),Ge=q.useProgram("skyboxCapture"),Oe=new Float64Array(16);a.identity(Oe),a.rotateY(Oe,Oe,.5*-Math.PI),E0(ke,_e,Ge,Oe,we,0),a.identity(Oe),a.rotateY(Oe,Oe,.5*Math.PI),E0(ke,_e,Ge,Oe,we,1),a.identity(Oe),a.rotateX(Oe,Oe,.5*-Math.PI),E0(ke,_e,Ge,Oe,we,2),a.identity(Oe),a.rotateX(Oe,Oe,.5*Math.PI),E0(ke,_e,Ge,Oe,we,3),a.identity(Oe),E0(ke,_e,Ge,Oe,we,4),a.identity(Oe),a.rotateY(Oe,Oe,Math.PI),E0(ke,_e,Ge,Oe,we,5),ke.viewport.set([0,0,q.width,q.height])}(d,c),c.markSkyboxValid(d)):d.renderPass==="sky"&&function(q,_e,ve,Le,ke){const He=q.context,Ce=He.gl,we=q.transform,Ge=q.useProgram("skybox");He.activeTexture.set(Ce.TEXTURE0),Ce.bindTexture(Ce.TEXTURE_CUBE_MAP,_e.skyboxTexture);const Oe=((Xe,pt,_t,Nt,Xt)=>({u_matrix:Xe,u_sun_direction:pt,u_cubemap:0,u_opacity:Nt,u_temporal_offset:Xt}))(we.skyboxMatrix,_e.getCenter(q,!1),0,Le,ke);q.prepareDrawProgram(He,Ge),Ge.draw(He,Ce.TRIANGLES,ve,a.StencilMode.disabled,q.colorModeForRenderPass(),a.CullFaceMode.backCW,Oe,"skybox",_e.skyboxGeometry.vertexBuffer,_e.skyboxGeometry.indexBuffer,_e.skyboxGeometry.segment)}(d,c,F,S,$):M==="gradient"&&d.renderPass==="sky"&&function(q,_e,ve,Le,ke){const He=q.context,Ce=He.gl,we=q.transform,Ge=q.useProgram("skyboxGradient");_e.skyboxGeometry||(_e.skyboxGeometry=new ll(He)),He.activeTexture.set(Ce.TEXTURE0);let Oe=_e.colorRampTexture;Oe||(Oe=_e.colorRampTexture=new a.Texture(He,_e.colorRamp,Ce.RGBA)),Oe.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE);const Xe=((pt,_t,Nt,Xt,zt)=>({u_matrix:pt,u_color_ramp:0,u_center_direction:_t,u_radius:a.degToRad(Nt),u_opacity:Xt,u_temporal_offset:zt}))(we.skyboxMatrix,_e.getCenter(q,!1),_e.paint.get("sky-gradient-radius"),Le,ke);q.prepareDrawProgram(He,Ge),Ge.draw(He,Ce.TRIANGLES,ve,a.StencilMode.disabled,q.colorModeForRenderPass(),a.CullFaceMode.backCW,Xe,"skyboxGradient",_e.skyboxGeometry.vertexBuffer,_e.skyboxGeometry.indexBuffer,_e.skyboxGeometry.segment)}(d,c,F,S,$)},debug:function(d,r,c){for(let f=0;f<c.length;f++)w0(d,r,c[f])},custom:function(d,r,c){const f=d.context,A=c.implementation;if(d.transform.projection.unsupportedLayers&&d.transform.projection.unsupportedLayers.includes("custom"))a.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(d.renderPass==="offscreen"){const S=A.prerender;S&&(d.setCustomLayerDefaults(),f.setColorMode(d.colorModeForRenderPass()),S.call(A,f.gl,d.transform.customLayerMatrix()),f.setDirty(),d.setBaseState())}else if(d.renderPass==="translucent"){d.setCustomLayerDefaults(),f.setColorMode(d.colorModeForRenderPass()),f.setStencilMode(a.StencilMode.disabled);const S=A.renderingMode==="3d"?new a.DepthMode(d.context.gl.LEQUAL,a.DepthMode.ReadWrite,d.depthRangeFor3D):d.depthModeForSublayer(0,a.DepthMode.ReadOnly);f.setDepthMode(S),A.render(f.gl,d.transform.customLayerMatrix()),f.setDirty(),d.setBaseState(),f.bindFramebuffer.set(null)}}};class Ku{constructor(r,c){this.context=new oe(r),this.transform=c,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ki,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(r,c){const f=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(f||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new el(this,r));const A=this._terrain;this.transform.elevation=f?A:null,A.update(r,this.transform,c)}_updateFog(r){const c=r.fog;if(!c||this.transform.projection.name==="globe"||c.getOpacity(this.transform.pitch)<1||c.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[f,A]=c.getFovAdjustedRange(this.transform._fov);if(f>A)return void(this.transform.fogCullDistSq=null);const S=f+.78*(A-f);this.transform.fogCullDistSq=S*S}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(r,c){if(this.width=r*a.exported.devicePixelRatio,this.height=c*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style.order)this.style._layers[f].resize()}setup(){const r=this.context,c=new a.StructArrayLayout2i4;c.emplaceBack(0,0),c.emplaceBack(a.EXTENT,0),c.emplaceBack(0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=r.createVertexBuffer(c,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const f=new a.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(a.EXTENT,0),f.emplaceBack(0,a.EXTENT),f.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=r.createVertexBuffer(f,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const A=new a.StructArrayLayout2i4;A.emplaceBack(-1,-1),A.emplaceBack(1,-1),A.emplaceBack(-1,1),A.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(A,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const S=new a.StructArrayLayout4i8;S.emplaceBack(0,0,0,0),S.emplaceBack(a.EXTENT,0,a.EXTENT,0),S.emplaceBack(0,a.EXTENT,0,a.EXTENT),S.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=r.createVertexBuffer(S,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const E=new a.StructArrayLayout3ui6;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const M=new a.StructArrayLayout1ui2;for(const $ of[0,1,3,2,0])M.emplaceBack($);this.debugIndexBuffer=r.createIndexBuffer(M),this.emptyTexture=new a.Texture(r,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA),this.identityMat=a.create();const F=this.context.gl;this.stencilClearMode=new a.StencilMode({func:F.ALWAYS,mask:0},0,255,F.ZERO,F.ZERO,F.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new ts(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context,c=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(r,c.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,Q0(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,c,f){if(!c||this.currentStencilSource===c.id||!r.isTileClipped()||!f||f.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let M=!1;for(const F of f)if(this._tileClippingMaskIDs[F.key]===void 0){M=!0;break}if(!M)return}this.currentStencilSource=c.id;const A=this.context,S=A.gl;this.nextStencilID+f.length>256&&this.clearStencil(),A.setColorMode(a.ColorMode.disabled),A.setDepthMode(a.DepthMode.disabled);const E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const M of f){const F=c.getTile(M),$=this._tileClippingMaskIDs[M.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:_e,tileBoundsSegments:ve}=this.getTileBoundsBuffers(F);E.draw(A,S.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:S.ALWAYS,mask:0},$,255,S.KEEP,S.KEEP,S.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Q0(M.projMatrix),"$clipping",q,_e,ve)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,c=this.context.gl;return new a.StencilMode({func:c.NOTEQUAL,mask:255},r,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const c=this.context.gl;return new a.StencilMode({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(r){const c=this.context.gl,f=r.sort((E,M)=>M.overscaledZ-E.overscaledZ),A=f[f.length-1].overscaledZ,S=f[0].overscaledZ-A+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const E={};for(let M=0;M<S;M++)E[M+A]=new a.StencilMode({func:c.GEQUAL,mask:255},M+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=S,[E,f]}return[{[A]:a.StencilMode.disabled},f]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([r.CONSTANT_COLOR,r.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(r,c,f){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const A=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new a.DepthMode(f||this.context.gl.LEQUAL,c,[A,A])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,c){this.style=r,this.options=c,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const f=this.style.order,A=this.style._sourceCaches;for(const F in A){const $=A[F];$.used&&$.prepare(this.context)}const S={},E={},M={};for(const F in A){const $=A[F];S[F]=$.getVisibleCoordinates(),E[F]=S[F].slice().reverse(),M[F]=$.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let F=0;F<f.length;F++)if(this.style._layers[f[F]].is3D()){this.opaquePassCutoff=F;break}if(this.terrain&&(this.terrain.updateTileBinding(M),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),a.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const F of f){const $=this.style._layers[F],q=r._getLayerSourceCache($);if(!$.hasOffscreenPass()||$.isHidden(this.transform.zoom))continue;const _e=q?E[q.id]:void 0;($.type==="custom"||$.isSky()||_e&&_e.length)&&this.renderLayer(this,q,$,_e)}if(this.depthRangeFor3D=[0,1-(r.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:c.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const F=this.style._layers[f[this.currentLayer]],$=r._getLayerSourceCache(F);if(F.isSky())continue;const q=$?E[$.id]:void 0;this._renderTileClippingMasks(F,$,q),this.renderLayer(this,$,F,q)}if(this.style.fog&&this.transform.projection.supportsFog&&function(F,$){const q=F.context,_e=q.gl,ve=F.transform,Le=new a.DepthMode(_e.LEQUAL,a.DepthMode.ReadOnly,[0,1]),ke=F.useProgram("globeAtmosphere",null,ve.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),He=a.globeToMercatorTransition(ve.zoom),Ce=$.properties.get("color").toArray01(),we=$.properties.get("high-color").toArray01(),Ge=$.properties.get("space-color").toArray01PremultipliedAlpha(),Oe=a.identity$1([]);a.rotateY$1(Oe,Oe,-a.degToRad(ve._center.lng)),a.rotateX$1(Oe,Oe,a.degToRad(ve._center.lat)),a.rotateZ$1(Oe,Oe,ve.angle),a.rotateX$1(Oe,Oe,-ve._pitch);const Xe=a.fromQuat(new Float32Array(16),Oe),pt=a.mapValue($.properties.get("star-intensity"),0,1,0,.25),_t=5e-4,Nt=a.mapValue($.properties.get("horizon-blend"),0,1,_t,.25),Xt=a.globeUseCustomAntiAliasing(F,q,ve)&&Nt===_t?ve.worldSize/(2*Math.PI*1.025)-1:ve.globeRadius,zt=F.frameCounter/1e3%1,Lt=a.length(ve.globeCenterInViewSpace),Qi=Math.sqrt(Math.pow(Lt,2)-Math.pow(Xt,2)),Et=Math.acos(Qi/Lt),bi=((Wi,ei,Pi,wi,kt,Yt,yn,An,kn,Qn,vr,Yn,bn,as)=>({u_frustum_tl:Wi,u_frustum_tr:ei,u_frustum_br:Pi,u_frustum_bl:wi,u_horizon:kt,u_transition:Yt,u_fadeout_range:yn,u_color:An,u_high_color:kn,u_space_color:Qn,u_star_intensity:vr,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Yn,u_horizon_angle:bn,u_rotation_matrix:as}))(ve.frustumCorners.TL,ve.frustumCorners.TR,ve.frustumCorners.BR,ve.frustumCorners.BL,ve.frustumCorners.horizon,He,Nt,Ce,we,Ge,pt,zt,Et,Xe);F.prepareDrawProgram(q,ke);const qt=F.atmosphereBuffer;qt&&ke.draw(q,_e.TRIANGLES,Le,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,bi,"skybox",qt.vertexBuffer,qt.indexBuffer,qt.segments)}(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const F=this.style._layers[f[this.currentLayer]],$=r._getLayerSourceCache(F);F.isSky()&&this.renderLayer(this,$,F,$?E[$.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;){const F=this.style._layers[f[this.currentLayer]],$=r._getLayerSourceCache(F);if(F.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(F)){if(F.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const q=$?(F.type==="symbol"?M:E)[$.id]:void 0;this._renderTileClippingMasks(F,$,$?S[$.id]:void 0),this.renderLayer(this,$,F,q),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let F=null;a.values(this.style._layers).forEach($=>{const q=r._getLayerSourceCache($);q&&!$.isHidden(this.transform.zoom)&&(!F||F.getSource().maxzoom<q.getSource().maxzoom)&&(F=q)}),F&&this.options.showTileBoundaries&&El.debug(this,F,F.getVisibleCoordinates())}this.options.showPadding&&function(F){const $=F.transform.padding;C_(F,F.transform.height-($.top||0),3,x_),C_(F,$.bottom||0,3,i0),wl(F,$.left||0,3,Nl),wl(F,F.transform.width-($.right||0),3,_0);const q=F.transform.centerPoint;(function(_e,ve,Le,ke){Go(_e,ve-1,Le-10,2,20,ke),Go(_e,ve-10,Le-1,20,2,ke)})(F,q.x,F.transform.height-q.y,lu)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}}renderLayer(r,c,f,A){f.isHidden(this.transform.zoom)||(f.type==="background"||f.type==="sky"||f.type==="custom"||A&&A.length)&&(this.id=f.id,this.gpuTimingStart(f),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(f.type)||El[f.type](r,c,f,A,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;let f=this.gpuTimers[r.id];f||(f=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:c.createQueryEXT()}),f.calls++,c.beginQueryEXT(c.TIME_ELAPSED_EXT,f.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,c=r.createQueryEXT();this.deferredRenderGpuTimeQueries.push(c),r.beginQueryEXT(r.TIME_ELAPSED_EXT,c)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const r=this.context.extTimerQuery;r.endQueryEXT(r.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const r=this.context.extTimerQuery;r.endQueryEXT(r.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const c={};for(const f in r){const A=r[f],S=this.context.extTimerQuery,E=S.getQueryObjectEXT(A.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(A.query),c[f]=E}return c}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const c=this.context.extTimerQuery;let f=0;for(const A of r)f+=c.getQueryObjectEXT(A,c.QUERY_RESULT_EXT)/1e6,c.deleteQueryEXT(A);return f}translatePosMatrix(r,c,f,A,S){if(!f[0]&&!f[1])return r;const E=S?A==="map"?this.transform.angle:0:A==="viewport"?-this.transform.angle:0;if(E){const $=Math.sin(E),q=Math.cos(E);f=[f[0]*q-f[1]*$,f[0]*$+f[1]*q]}const M=[S?f[0]:mt(c,f[0],this.transform.zoom),S?f[1]:mt(c,f[1],this.transform.zoom),0],F=new Float32Array(16);return a.translate(F,r,M),F}saveTileTexture(r){const c=this._tileTextures[r.size[0]];c?c.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){const c=this._tileTextures[r];return c&&c.length>0?c.pop():null}isPatternMissing(r){return r===null||r!==void 0&&!this.imageManager.getPattern(r.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const r=this.terrain&&this.terrain.renderingToTexture,c=this.terrain&&this.terrain.exaggeration()===0,f=this.style&&this.style.fog,A=[];return this.terrainRenderModeElevated()&&A.push("TERRAIN"),this.transform.projection.name==="globe"&&A.push("GLOBE"),c&&A.push("ZERO_EXAGGERATION"),f&&!r&&f.getOpacity(this.transform.pitch)!==0&&A.push("FOG"),r&&A.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&A.push("OVERDRAW_INSPECTOR"),A}useProgram(r,c,f){this.cache=this.cache||{};const A=f||[],S=this.currentGlobalDefines().concat(A),E=tl.cacheKey(Z0[r],r,S,c);return this.cache[E]||(this.cache[E]=new tl(this.context,r,Z0[r],c,Ja[r],S)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(r,c,f){if(this.terrain&&this.terrain.renderingToTexture)return;const A=this.style.fog;if(A){const S=A.getOpacity(this.transform.pitch),E=((M,F,$,q,_e,ve,Le,ke,He,Ce,we)=>{const Ge=M.transform,Oe=F.properties.get("color").toArray01();Oe[3]=q;const Xe=M.frameCounter/1e3%1;return{u_fog_matrix:$?Ge.calculateFogTileMatrix($):M.identityMat,u_fog_range:F.getFovAdjustedRange(Ge._fov),u_fog_color:Oe,u_fog_horizon_blend:F.properties.get("horizon-blend"),u_fog_temporal_offset:Xe,u_frustum_tl:_e,u_frustum_tr:ve,u_frustum_br:Le,u_frustum_bl:ke,u_globe_pos:He,u_globe_radius:Ce,u_viewport:we,u_globe_transition:a.globeToMercatorTransition(Ge.zoom),u_is_globe:+(Ge.projection.name==="globe")}})(this,A,f,S,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);c.setFogUniformValues(r,E)}}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const r=this.context.gl,c=r.createTexture();return r.bindTexture(r.TEXTURE_2D,c),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),c}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,c=this._backgroundTiles={},f=this.transform.coveringTiles({tileSize:512});for(const A of f)c[A.key]=r[A.key]||new a.Tile(A,512,this.transform.tileZoom,this);return c}clearBackgroundTiles(){this._backgroundTiles={}}}class Ml{constructor(r=0,c=0,f=0,A=0){if(isNaN(r)||r<0||isNaN(c)||c<0||isNaN(f)||f<0||isNaN(A)||A<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=c,this.left=f,this.right=A}interpolate(r,c,f){return c.top!=null&&r.top!=null&&(this.top=a.number(r.top,c.top,f)),c.bottom!=null&&r.bottom!=null&&(this.bottom=a.number(r.bottom,c.bottom,f)),c.left!=null&&r.left!=null&&(this.left=a.number(r.left,c.left,f)),c.right!=null&&r.right!=null&&(this.right=a.number(r.right,c.right,f)),this}getCenter(r,c){const f=a.clamp((this.left+r-this.right)/2,0,r),A=a.clamp((this.top+c-this.bottom)/2,0,c);return new a.pointGeometry(f,A)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Ml(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function M0(d,r){const c=a.getColumn(d,3);a.fromQuat(d,r),a.setColumn(d,3,c)}function uu(d,r){const c=a.identity$1([]);return a.rotateZ$1(c,c,-r),a.rotateX$1(c,c,-d),c}function Qu(d,r){const c=[d[0],d[1],0],f=[r[0],r[1],0];if(a.length(c)>=1e-15){const E=a.normalize([],c);a.scale$2(f,E,a.dot(f,E)),r[0]=f[0],r[1]=f[1]}const A=a.cross([],r,d);if(a.len(A)<1e-15)return null;const S=Math.atan2(-A[1],A[0]);return uu(Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2]),S)}class cu{constructor(r,c){this.position=r,this.orientation=c}get position(){return this._position}set position(r){if(r){const c=r instanceof a.MercatorCoordinate?r:new a.MercatorCoordinate(r[0],r[1],r[2]);this._renderWorldCopies&&(c.x=a.wrap(c.x,0,1)),this._position=c}else this._position=null}lookAtPoint(r,c){if(this.orientation=null,!this.position)return;const f=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(r)):0,A=this.position,S=a.MercatorCoordinate.fromLngLat(r,f),E=[S.x-A.x,S.y-A.y,S.z-A.z];c||(c=[0,0,1]),c[2]=Math.abs(c[2]),this.orientation=Qu(E,c)}setPitchBearing(r,c){this.orientation=uu(a.degToRad(r),a.degToRad(-c))}}class hu{constructor(r,c){this._transform=a.identity([]),this.orientation=c,this.position=r}get mercatorPosition(){const r=this.position;return new a.MercatorCoordinate(r[0],r[1],r[2])}get position(){const r=a.getColumn(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var c;r&&a.setColumn(this._transform,3,[(c=r)[0],c[1],c[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||a.identity$1([]),r&&M0(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),c=this.right();return{bearing:Math.atan2(-c[1],c[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,c){this._orientation=uu(r,c),M0(this._transform,this._orientation)}forward(){const r=a.getColumn(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=a.getColumn(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=a.getColumn(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,c){const f=new Float64Array(16);return a.invert(f,this.getWorldToCamera(r,c)),f}getWorldToCameraPosition(r,c,f){const A=this.position;a.scale$2(A,A,-r);const S=new Float64Array(16);return a.fromScaling(S,[f,f,f]),a.translate(S,S,A),S[10]*=c,S}getWorldToCamera(r,c){const f=new Float64Array(16),A=new Float64Array(4),S=this.position;return a.conjugate(A,this._orientation),a.scale$2(S,S,-r),a.fromQuat(f,A),a.translate(f,f,S),f[1]*=-1,f[5]*=-1,f[9]*=-1,f[13]*=-1,f[8]*=c,f[9]*=c,f[10]*=c,f[11]*=c,f}getCameraToClipPerspective(r,c,f,A){const S=new Float64Array(16);return a.perspective(S,r,c,f,A),S}getDistanceToElevation(r,c=!1){const f=r===0?0:a.mercatorZfromAltitude(r,c?a.latFromMercatorY(this.position[1]):this.position[1]),A=this.forward();return(f-this.position[2])/A[2]}clone(){return new hu([...this.position],[...this.orientation])}}function P_(d,r){const c=I0(d.projection,d.zoom,d.width,d.height),f=function(S,E,M,F,$){const q=new a.LngLat(M.lng-180*k0,M.lat),_e=new a.LngLat(M.lng+180*k0,M.lat),ve=S.project(q.lng,q.lat),Le=S.project(_e.lng,_e.lat),ke=-Math.atan2(Le.y-ve.y,Le.x-ve.x),He=a.MercatorCoordinate.fromLngLat(M);He.y=a.clamp(He.y,-.999975,.999975);const Ce=He.toLngLat(),we=S.project(Ce.lng,Ce.lat),Ge=a.MercatorCoordinate.fromLngLat(Ce);Ge.x+=k0;const Oe=Ge.toLngLat(),Xe=S.project(Oe.lng,Oe.lat),pt=Il(Xe.x-we.x,Xe.y-we.y,ke),_t=a.MercatorCoordinate.fromLngLat(Ce);_t.y+=k0;const Nt=_t.toLngLat(),Xt=S.project(Nt.lng,Nt.lat),zt=Il(Xt.x-we.x,Xt.y-we.y,ke),Lt=Math.abs(pt.x)/Math.abs(zt.y),Qi=a.identity([]);a.rotateZ(Qi,Qi,-ke*(1-($?0:F)));const Et=a.identity([]);return a.scale(Et,Et,[1,1-(1-Lt)*F,1]),Et[4]=-zt.x/zt.y*F,a.rotateZ(Et,Et,ke),a.multiply(Et,Qi,Et),Et}(d.projection,0,d.center,c,r),A=l_(d);return a.scale(f,f,[A,A,1]),f}function l_(d){const r=d.projection,c=I0(d.projection,d.zoom,d.width,d.height),f=N_(r,d.center),A=N_(r,a.LngLat.convert(r.center));return Math.pow(2,f*c+(1-c)*A)}function I0(d,r,c,f,A=1/0){const S=d.range;if(!S)return 0;const E=Math.min(A,Math.max(c,f)),M=Math.log(E/1024)/Math.LN2;return a.smoothstep(S[0]+M,S[1]+M,r)}const k0=1/4e4;function N_(d,r){const c=a.clamp(r.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),f=new a.LngLat(r.lng-180*k0,c),A=new a.LngLat(r.lng+180*k0,c),S=d.project(f.lng,c),E=d.project(A.lng,c),M=a.MercatorCoordinate.fromLngLat(f),F=a.MercatorCoordinate.fromLngLat(A),$=E.x-S.x,q=E.y-S.y,_e=F.x-M.x,ve=F.y-M.y,Le=Math.sqrt((_e*_e+ve*ve)/($*$+q*q));return Math.log(Le)/Math.LN2}function Il(d,r,c){const f=Math.cos(c),A=Math.sin(c);return{x:d*f-r*A,y:d*A+r*f}}class u0{constructor(r,c,f,A,S,E,M){this.tileSize=512,this._renderWorldCopies=S===void 0||S,this._minZoom=r||0,this._maxZoom=c||22,this._minPitch=f??0,this._maxPitch=A??60,this.setProjection(E),this.setMaxBounds(M),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Ml,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new hu,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const r=new u0(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(r,c=!1){const f=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||f)&&this._updateCameraOnTerrain(),(r||f)&&this._constrainCamera(c),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const c=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const f=!j(c,this.getProjection());return f&&this._calcMatrices(),this.mercatorFromTransition=!1,f}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const c=r!==this.projection.name;return c&&this._calcMatrices(),c}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.pointGeometry(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const c=-r*Math.PI/180;var f;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=(f=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f),function(A,S,E){var M=S[0],F=S[1],$=S[2],q=S[3],_e=Math.sin(E),ve=Math.cos(E);A[0]=M*ve+$*_e,A[1]=F*ve+q*_e,A[2]=M*-_e+$*ve,A[3]=F*-_e+q*ve}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const c=a.clamp(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=a.degToRad(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const c=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._setZoom(c),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const r=this._elevation;this._centerAltitude=r.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=r.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,c=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],f=this.horizonLineFromTop();let A=0,S=0;for(let E=0;E<c.length;E++){const M=new a.pointGeometry(c[E][0]*this.width,f+c[E][1]*(this.height-f)),F=r.pointCoordinate(M);if(!F)continue;const $=1/Math.hypot(F[0]-this._camera.position[0],F[1]-this._camera.position[1]);A+=F[3]*$,S+=$}return S===0?NaN:A/S}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,c=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),f=this.pixelsPerMeter/this.worldSize*c,A=this._mercatorZfromZoom(r),S=this._mercatorZfromZoom(this._maxZoom),E=Math.max(A-f,S);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const c=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let f;f=r.z<this._camera.position[2]?[c.x,c.y,c.z]:[r.x,r.y,r.z];const A=a.length(a.sub([],this._camera.position,f));return a.clamp(this._zoomFromMercatorZ(A),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let c=!1;if(r.orientation&&!a.exactEquals(r.orientation,this._camera.orientation)&&(c=this._setCameraOrientation(r.orientation)),r.position){const f=[r.position.x,r.position.y,r.position.z];a.exactEquals$1(f,this._camera.position)||(this._setCameraPosition(f),c=!0)}c&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,c=new cu;return c.position=new a.MercatorCoordinate(r[0],r[1],r[2]),c.orientation=this._camera.orientation,c._elevation=this.elevation,c._renderWorldCopies=this.renderWorldCopies,c}_setCameraOrientation(r){if(!a.length$1(r))return!1;a.normalize$1(r,r);const c=a.transformQuat([],[0,0,-1],r),f=a.transformQuat([],[0,-1,0],r);if(f[2]<0)return!1;const A=Qu(c,f);return!!A&&(this._camera.orientation=A,!0)}_setCameraPosition(r){const c=this.zoomScale(this.minZoom)*this.tileSize,f=this.zoomScale(this.maxZoom)*this.tileSize,A=this.cameraToCenterDistance;r[2]=a.clamp(r[2],A/f,A/c),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,c,f){this._unmodified=!1,this._edgeInsets.interpolate(r,c,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const c=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(r){const c=[new a.UnwrappedTileID(0,r)];if(this.renderWorldCopies){const f=this.pointCoordinate(new a.pointGeometry(0,0)),A=this.pointCoordinate(new a.pointGeometry(this.width,0)),S=this.pointCoordinate(new a.pointGeometry(this.width,this.height)),E=this.pointCoordinate(new a.pointGeometry(0,this.height)),M=Math.floor(Math.min(f.x,A.x,S.x,E.x)),F=Math.floor(Math.max(f.x,A.x,S.x,E.x)),$=1;for(let q=M-$;q<=F+$;q++)q!==0&&c.push(new a.UnwrappedTileID(q,r))}return c}coveringTiles(r){let c=this.coveringZoomLevel(r);const f=c,A=this.elevation&&!r.isTerrainDEM,S=this.projection.name==="mercator";if(r.minzoom!==void 0&&c<r.minzoom)return[];r.maxzoom!==void 0&&c>r.maxzoom&&(c=r.maxzoom);const E=this.locationCoordinate(this.center),M=this.center.lat,F=1<<c,$=[F*E.x,F*E.y,0],q=this.projection.name==="globe",_e=!q,ve=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c,_e),Le=q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ke=F*a.mercatorZfromAltitude(1,this.center.lat),He=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),Ce=[F*Le.x,F*Le.y,He*(_e?1:ke)],we=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),Ge=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?c:0,Oe=r.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Xe=r.isTerrainDEM?-Oe:this._elevation?this._elevation.getMinElevationBelowMSL():0,pt=this.projection.isReprojectedInTileSpace?l_(this):1,_t=ei=>{const wi=new a.MercatorCoordinate(ei.x+25e-6,ei.y,ei.z),kt=new a.MercatorCoordinate(ei.x,ei.y+25e-6,ei.z),Yt=ei.toLngLat(),yn=wi.toLngLat(),An=kt.toLngLat(),kn=this.locationCoordinate(Yt),Qn=this.locationCoordinate(yn),vr=this.locationCoordinate(An),Yn=Math.hypot(Qn.x-kn.x,Qn.y-kn.y),bn=Math.hypot(vr.x-kn.x,vr.y-kn.y);return Math.sqrt(Yn*bn)*pt/25e-6},Nt=ei=>{const Pi=Oe,wi=Xe;return{aabb:a.tileAABB(this,F,0,0,0,ei,wi,Pi,this.projection),zoom:0,x:0,y:0,minZ:wi,maxZ:Pi,wrap:ei,fullyVisible:!1}},Xt=[];let zt=[];const Lt=c,Qi=r.reparseOverscaled?f:c,Et=ei=>ei*ei,bi=Et((He-this._centerAltitude)*ke),qt=ei=>{if(!this._elevation||!ei.tileID||!S)return;const Pi=this._elevation.getMinMaxForTile(ei.tileID),wi=ei.aabb;Pi?(wi.min[2]=Pi.min,wi.max[2]=Pi.max,wi.center[2]=(wi.min[2]+wi.max[2])/2):(ei.shouldSplit=Wi(ei),ei.shouldSplit||(wi.min[2]=wi.max[2]=wi.center[2]=this._centerAltitude))},Wi=ei=>{if(ei.zoom<Ge)return!0;if(ei.zoom===Lt)return!1;if(ei.shouldSplit!=null)return ei.shouldSplit;const Pi=ei.aabb.distanceX(Ce),wi=ei.aabb.distanceY(Ce);let kt=bi,Yt=1;if(q){kt=Et(ei.aabb.distanceZ(Ce));const kn=Math.pow(2,ei.zoom),Qn=a.latFromMercatorY((ei.y+1)/kn),vr=a.latFromMercatorY(ei.y/kn),Yn=Math.min(Math.max(M,Qn),vr),bn=a.circumferenceAtLatitude(Yn)/a.circumferenceAtLatitude(M);if(Yt=Yn===M?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,bn/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&ei.zoom===Lt-1&&bn>=.9)return!0}else if(A&&(kt=Et(ei.aabb.distanceZ(Ce)*ke)),this.projection.isReprojectedInTileSpace&&f<=5){const kn=Math.pow(2,ei.zoom),Qn=_t(new a.MercatorCoordinate((ei.x+.5)/kn,(ei.y+.5)/kn));Yt=Qn>.85?1:Qn}const yn=Pi*Pi+wi*wi+kt,An=Et((1<<Lt-ei.zoom)*we*Yt*((kn,Qn)=>{if(Qn*Et(.707)<kn)return 1;const vr=Math.sqrt(Qn/kn);return vr/(1.4144271570014144+(Math.pow(1.1,vr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(kt,bi),yn));return yn<An};if(this.renderWorldCopies)for(let ei=1;ei<=3;ei++)Xt.push(Nt(-ei)),Xt.push(Nt(ei));for(Xt.push(Nt(0));Xt.length>0;){const ei=Xt.pop(),Pi=ei.x,wi=ei.y;let kt=ei.fullyVisible;if(!kt){const Yt=ei.aabb.intersects(ve);if(Yt===0)continue;kt=Yt===2}if(ei.zoom!==Lt&&Wi(ei))for(let Yt=0;Yt<4;Yt++){const yn=(Pi<<1)+Yt%2,An=(wi<<1)+(Yt>>1),kn={aabb:S?ei.aabb.quadrant(Yt):a.tileAABB(this,F,ei.zoom+1,yn,An,ei.wrap,ei.minZ,ei.maxZ,this.projection),zoom:ei.zoom+1,x:yn,y:An,wrap:ei.wrap,fullyVisible:kt,tileID:void 0,shouldSplit:void 0,minZ:ei.minZ,maxZ:ei.maxZ};A&&!q&&(kn.tileID=new a.OverscaledTileID(ei.zoom+1===Lt?Qi:ei.zoom+1,ei.wrap,ei.zoom+1,yn,An),qt(kn)),Xt.push(kn)}else{const Yt=ei.zoom===Lt?Qi:ei.zoom;if(r.minzoom&&r.minzoom>Yt)continue;const yn=$[0]-(.5+Pi+(ei.wrap<<ei.zoom))*(1<<c-ei.zoom),An=$[1]-.5-wi,kn=ei.tileID?ei.tileID:new a.OverscaledTileID(Yt,ei.wrap,ei.zoom,Pi,wi);zt.push({tileID:kn,distanceSq:yn*yn+An*An})}}if(this.fogCullDistSq){const ei=this.fogCullDistSq,Pi=this.horizonLineFromTop();zt=zt.filter(wi=>{const kt=[0,0,0,1],Yt=[a.EXTENT,a.EXTENT,0,1],yn=this.calculateFogTileMatrix(wi.tileID.toUnwrapped());a.transformMat4$1(kt,kt,yn),a.transformMat4$1(Yt,Yt,yn);const An=a.getAABBPointSquareDist(kt,Yt);if(An===0)return!0;let kn=!1;const Qn=this._elevation;if(Qn&&An>ei&&Pi!==0){const vr=this.calculateProjMatrix(wi.tileID.toUnwrapped());let Yn;r.isTerrainDEM||(Yn=Qn.getMinMaxForTile(wi.tileID)),Yn||(Yn={min:Xe,max:Oe});const bn=a.furthestTileCorner(this.rotation),as=[bn[0]*a.EXTENT,bn[1]*a.EXTENT,Yn.max];a.transformMat4(as,as,vr),kn=(1-as[1])*this.height*.5<Pi}return An<ei||kn})}return zt.sort((ei,Pi)=>ei.distanceSq-Pi.distanceSq).map(ei=>ei.tileID)}resize(r,c){this.width=r,this.height=c,this.pixelsToGLUnits=[2/r,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const c=a.clamp(r.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),f=this.projection.project(r.lng,c);return new a.pointGeometry(f.x*this.worldSize,f.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(r,c){let f,A;const S=this.centerPoint;if(this.projection.name==="globe"){const M=this.worldSize;f=(c.x-S.x)/M,A=(c.y-S.y)/M}else{const M=this.pointCoordinate(c),F=this.pointCoordinate(S);f=M.x-F.x,A=M.y-F.y}const E=this.locationCoordinate(r);this.setLocation(new a.MercatorCoordinate(E.x-f,E.y-A))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,c){const f=c?a.mercatorZfromAltitude(c,r.lat):void 0,A=this.projection.project(r.lng,r.lat);return new a.MercatorCoordinate(A.x,A.y,f)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,c){const f=c??this._centerAltitude,A=[r.x,r.y,0,1],S=[r.x,r.y,1,1];a.transformMat4$1(A,A,this.pixelMatrixInverse),a.transformMat4$1(S,S,this.pixelMatrixInverse);const E=S[3];a.scale$1(A,A,1/A[3]),a.scale$1(S,S,1/E);const M=A[2],F=S[2];return{p0:A,p1:S,t:M===F?0:(f-M)/(F-M)}}screenPointToMercatorRay(r){const c=[r.x,r.y,0,1],f=[r.x,r.y,1,1];return a.transformMat4$1(c,c,this.pixelMatrixInverse),a.transformMat4$1(f,f,this.pixelMatrixInverse),a.scale$1(c,c,1/c[3]),a.scale$1(f,f,1/f[3]),c[2]=a.mercatorZfromAltitude(c[2],this._center.lat)*this.worldSize,f[2]=a.mercatorZfromAltitude(f[2],this._center.lat)*this.worldSize,a.scale$1(c,c,1/this.worldSize),a.scale$1(f,f,1/this.worldSize),new a.Ray([c[0],c[1],c[2]],a.normalize([],a.sub([],f,c)))}rayIntersectionCoordinate(r){const{p0:c,p1:f,t:A}=r,S=a.mercatorZfromAltitude(c[2],this._center.lat),E=a.mercatorZfromAltitude(f[2],this._center.lat);return new a.MercatorCoordinate(a.number(c[0],f[0],A)/this.worldSize,a.number(c[1],f[1],A)/this.worldSize,a.number(S,E,A))}pointCoordinate(r,c=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,c)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let c=this.projection.pointCoordinate3D(this,r.x,r.y);if(c)return new a.MercatorCoordinate(c[0],c[1],c[2]);let f=0,A=this.horizonLineFromTop();if(r.y>A)return this.pointCoordinate(r);const S=.02*A,E=r.clone();for(let M=0;M<10&&A-f>S;M++){E.y=a.number(f,A,.66);const F=this.projection.pointCoordinate3D(this,E.x,E.y);F?(A=E.y,c=F):f=E.y}return c?new a.MercatorCoordinate(c[0],c[1],c[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}_coordinatePoint(r,c){const f=c&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,A=[r.x*this.worldSize,r.y*this.worldSize,f+r.toAltitude(),1];return a.transformMat4$1(A,A,this.pixelMatrix),A[3]>0?new a.pointGeometry(A[0]/A[3],A[1]/A[3]):new a.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:r,left:c}=this._edgeInsets,f=this.height-this._edgeInsets.bottom,A=this.width-this._edgeInsets.right,S=this.pointCoordinate3D(new a.pointGeometry(c,r)),E=this.pointCoordinate3D(new a.pointGeometry(A,r)),M=this.pointCoordinate3D(new a.pointGeometry(A,f)),F=this.pointCoordinate3D(new a.pointGeometry(c,f));let $=Math.min(S.x,F.x),q=Math.max(E.x,M.x),_e=Math.min(S.y,E.y),ve=Math.max(F.y,M.y);const Le=Math.pow(2,-this.zoom)/16,ke=(_t,Nt,Xt,zt)=>{const Lt=(_t+Xt)/2,Qi=(Nt+zt)/2,Et=new a.pointGeometry(Lt,Qi),bi=this.pointCoordinate3D(Et),qt=Math.max(0,$-bi.x,_e-bi.y,bi.x-q,bi.y-ve);$=Math.min($,bi.x),q=Math.max(q,bi.x),_e=Math.min(_e,bi.y),ve=Math.max(ve,bi.y),qt>Le&&(ke(_t,Nt,Lt,Qi),ke(Lt,Qi,Xt,zt))};ke(c,r,A,r),ke(A,r,A,f),ke(A,f,c,f),ke(c,f,c,r);const[He,Ce]=a.polesInViewport(this),we=He||Ce,Ge=He?90:a.latFromMercatorY(_e),Oe=we?180:a.lngFromMercatorX(q),Xe=Ce?-90:a.latFromMercatorY(ve),pt=we?-180:a.lngFromMercatorX($);return new a.LngLatBounds(new a.LngLat(pt,Xe),new a.LngLat(Oe,Ge))}_getBounds(r,c){if(this.projection.name==="globe")return this._getGlobeBounds();const f=new a.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),A=new a.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),S=new a.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),E=new a.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let M=this.pointCoordinate(f,r),F=this.pointCoordinate(A,r);const $=this.pointCoordinate(S,c),q=this.pointCoordinate(E,c),_e=(ve,Le)=>(Le.y-ve.y)/(Le.x-ve.x);return M.y>1&&F.y>=0?M=new a.MercatorCoordinate((1-q.y)/_e(q,M)+q.x,1):M.y<0&&F.y<=1&&(M=new a.MercatorCoordinate(-q.y/_e(q,M)+q.x,0)),F.y>1&&M.y>=0?F=new a.MercatorCoordinate((1-$.y)/_e($,F)+$.x,1):F.y<0&&M.y<=1&&(F=new a.MercatorCoordinate(-$.y/_e($,F)+$.x,0)),new a.LngLatBounds().extend(this.coordinateLocation(M)).extend(this.coordinateLocation(F)).extend(this.coordinateLocation(q)).extend(this.coordinateLocation($))}_getBounds3D(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBounds(0,0);const c=r.visibleDemTiles.reduce((f,A)=>{if(A.dem){const S=A.dem.tree;f.min=Math.min(f.min,S.minimums[0]),f.max=Math.max(f.max,S.maximums[0])}return f},{min:Number.MAX_VALUE,max:0});return this._getBounds(c.min*r.exaggeration(),c.max*r.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(r=!0){const c=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,f=this.height/2-c*(1-this._horizonShift);return r?Math.max(0,f):f}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,c){return this.projection.createTileMatrix(this,c,r)}calculateDistanceTileData(r){const c=r.key,f=this._distanceTileDataCache;if(f[c])return f[c];const A=r.canonical,S=1/this.height,E=this.cameraWorldSize,M=E/this.zoomScale(A.z),F=(A.x+Math.pow(2,A.z)*r.wrap)*M,$=A.y*M,q=this.point;q.x*=E/this.worldSize,q.y*=E/this.worldSize;const _e=this.angle,ve=Math.sin(-_e),Le=-Math.cos(-_e);return f[c]={bearing:[ve,Le],center:[(q.x-F)*S,(q.y-$)*S],scale:M/a.EXTENT*S},f[c]}calculateFogTileMatrix(r){const c=r.key,f=this._fogTileMatrixCache;if(f[c])return f[c];const A=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return a.multiply(A,this.worldToFogMatrix,A),f[c]=new Float32Array(A),f[c]}calculateProjMatrix(r,c=!1){const f=r.key,A=c?this._alignedProjMatrixCache:this._projMatrixCache;if(A[f])return A[f];const S=this.calculatePosMatrix(r,this.worldSize);return a.multiply(S,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:c?this.alignedProjMatrix:this.projMatrix,S),A[f]=new Float32Array(S),A[f]}calculatePixelsToTileUnitsMatrix(r){const c=r.tileID.key,f=this._pixelsToTileUnitsCache;if(f[c])return f[c];const A=function(S,E){const{scale:M}=S.tileTransform,F=M*a.EXTENT/(S.tileSize*Math.pow(2,E.zoom-S.tileID.overscaledZ+S.tileID.canonical.z));return $=new Float32Array(4),ve=(q=E.inverseAdjustmentMatrix)[1],Le=q[2],ke=q[3],Ce=(_e=[F,F])[1],$[0]=q[0]*(He=_e[0]),$[1]=ve*He,$[2]=Le*Ce,$[3]=ke*Ce,$;var $,q,_e,ve,Le,ke,He,Ce}(r,this);return f[c]=A,f[c]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const c=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,f=this._computeCameraPosition(c),A=this._camera.forward(),S=a.mercatorZfromAltitude(1,this._center.lat);f[2]/=S,A[2]/=S,a.normalize(A,A);const E=r.raycast(f,A,r.exaggeration());if(E){const M=a.scaleAndAdd([],f,A,E),F=new a.MercatorCoordinate(M[0],M[1],a.mercatorZfromAltitude(M[2],a.latFromMercatorY(M[1]))),$=(F.z+a.length([F.x-f[0],F.y-f[1],F.z-f[2]*S]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ($),this._centerAltitude=F.toAltitude(),this._center=this.coordinateLocation(F),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const c=this._elevation,f=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,A=this._computeCameraPosition(f),S=c.getAtPointOrZero(new a.MercatorCoordinate(...A)),E=this.pixelsPerMeter/this.worldSize*S,M=this._minimumHeightOverTerrain(),F=A[2]-E;if(F<=M)if(F<0||r){const $=this.locationCoordinate(this._center,this._centerAltitude),q=[A[0],A[1],$.z-A[2]],_e=a.length(q);q[2]-=(M-F)/this._pixelsPerMercatorPixel;const ve=a.length(q);if(ve===0)return;a.scale$2(q,q,_e/ve*this._pixelsPerMercatorPixel),this._camera.position=[A[0],A[1],$.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const ve=this.center;return ve.lat=a.clamp(ve.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(ve.lng=a.clamp(ve.lng,this.minLng,this.maxLng)),this.center=ve,void(this._constraining=!1)}const c=this._unmodified,{x:f,y:A}=this.point;let S=0,E=f,M=A;const F=this.width/2,$=this.height/2,q=this.worldMinY*this.scale,_e=this.worldMaxY*this.scale;if(A-$<q&&(M=q+$),A+$>_e&&(M=_e-$),_e-q<this.height&&(S=Math.max(S,this.height/(_e-q)),M=(_e+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ve=this.worldMinX*this.scale,Le=this.worldMaxX*this.scale,ke=this.worldSize/2-(ve+Le)/2;E=(f+ke+this.worldSize)%this.worldSize-ke,E-F<ve&&(E=ve+F),E+F>Le&&(E=Le-F),Le-ve<this.width&&(S=Math.max(S,this.width/(Le-ve)),E=(Le+ve)/2)}E===f&&M===A||(this.center=this.unproject(new a.pointGeometry(E,M))),S&&(this.zoom+=this.scaleZoom(S)),this._constrainCamera(),this._unmodified=c,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,c=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const f=I0(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,f),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const A=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?c:1),S=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);S[8]=2*-r.x/this.width,S[9]=2*r.y/this.height;let E=a.mul([],S,A);if(this.projection.isReprojectedInTileSpace){const pt=this.locationCoordinate(this.center),_t=a.identity([]);a.translate(_t,_t,[pt.x*this.worldSize,pt.y*this.worldSize,0]),a.multiply(_t,_t,P_(this)),a.translate(_t,_t,[-pt.x*this.worldSize,-pt.y*this.worldSize,0]),a.multiply(E,E,_t),this.inverseAdjustmentMatrix=function(Nt){const Xt=P_(Nt,!0);return si([],[Xt[0],Xt[1],Xt[4],Xt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],E,[this.worldSize,this.worldSize,this.worldSize/c,1]),this.projMatrix=E,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const M=a.invert([],S);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(M,this.horizonLineFromTop(),this.height);const F=new Float32Array(16);a.identity(F),a.scale(F,F,[1,-1,1]),a.rotateX(F,F,this._pitch),a.rotateZ(F,F,this.angle);const $=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),q=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;$[8]=2*-r.x/this.width,$[9]=2*(r.y+q)/this.height,this.skyboxMatrix=a.multiply(F,$,F);const _e=this.point,ve=_e.x,Le=_e.y,ke=this.width%2/2,He=this.height%2/2,Ce=Math.cos(this.angle),we=Math.sin(this.angle),Ge=ve-Math.round(ve)+Ce*ke+we*He,Oe=Le-Math.round(Le)+Ce*He+we*ke,Xe=new Float64Array(E);if(a.translate(Xe,Xe,[Ge>.5?Ge-1:Ge,Oe>.5?Oe-1:Oe,0]),this.alignedProjMatrix=Xe,E=a.create(),a.scale(E,E,[this.width/2,-this.height/2,1]),a.translate(E,E,[1,-1,0]),this.labelPlaneMatrix=E,E=a.create(),a.scale(E,E,[1,-1,1]),a.translate(E,E,[-1,-1,0]),a.scale(E,E,[2/this.width,2/this.height,1]),this.glCoordMatrix=E,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},E=a.invert(new Float64Array(16),this.pixelMatrix),!E)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=E,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const pt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(pt,pt,A),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=E;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,c=this.cameraPixelsPerMeter,f=this._camera.position,A=1/this.height/this._pixelsPerMercatorPixel,S=[r,r,c];a.scale$2(S,S,A),a.scale$2(f,f,-1),a.multiply$2(f,f,S);const E=a.create();a.translate(E,E,f),a.scale(E,E,S),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,c,A)}_computeCameraPosition(r){const c=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,f=this._camera.forward(),A=this.point,S=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*c-r/this.worldSize*this._centerAltitude;return[A.x/this.worldSize-f[0]*S,A.y/this.worldSize-f[1]*S,r/this.worldSize*this._centerAltitude-f[2]*S]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const c=this._maxCameraBoundsDistance()*Math.cos(this._pitch),f=this._camera.position[2],A=r[2];let S=1;this.projection.wrap&&(this.center=this.center.wrap()),A>0&&(S=Math.min((c-f)/A,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,r,S),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,c=this._camera.forward(),{pitch:f,bearing:A}=this._camera.getPitchBearing(),S=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),M=Math.max((r[2]-S)/Math.cos(f),E),F=this._zoomFromMercatorZ(M);a.scaleAndAdd(r,r,c,M),this._pitch=a.clamp(f,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(A,-Math.PI,Math.PI),this._setZoom(a.clamp(F,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){const c=E=>{const M=this.getCameraToCenterDistance(this.projection,E);return this.scaleZoom(M/(r*this.tileSize))};let f,A=c(this.zoom),S=Math.abs(A-c(A));for(;f!==S;)A=c(A),f=S,S=Math.abs(A-c(A));return A}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,c){const f=Math.min(r.x,c.x),A=Math.max(r.x,c.x),S=Math.min(r.y,c.y),E=Math.max(r.y,c.y);if(S<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const M=[new a.pointGeometry(f,S),new a.pointGeometry(A,E),new a.pointGeometry(f,E),new a.pointGeometry(A,S)],F=this.renderWorldCopies?-3:0,$=this.renderWorldCopies?4:1;for(const q of M){const _e=this.pointRayIntersection(q);if(_e.t<0)return!0;const ve=this.rayIntersectionCoordinate(_e);if(ve.x<F||ve.y<0||ve.x>$||ve.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.pointGeometry(0,0),new a.pointGeometry(this.width,this.height))}zoomDeltaToMovement(r,c){const f=a.length(a.sub([],this._camera.position,r)),A=this._zoomFromMercatorZ(f)+c;return f-this._mercatorZfromZoom(A)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([c,f,A],S){const E=[c,f,A,1];a.transformMat4$1(E,E,S);const M=E[3]=Math.max(E[3],1e-6);return E[0]/=M,E[1]/=M,E[2]/=M,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.pointGeometry(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.pointGeometry(0,r))}}getCameraToCenterDistance(r,c=this.zoom){const f=I0(r,c,this.width,this.height,1024),A=r.pixelSpaceConversion(this.center.lat,this.worldSize,f);return .5/Math.tan(.5*this._fov)*this.height*A}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.multiply(r,r,this.globeMatrix),r}}function kl(d,r){let c=!1,f=null;const A=()=>{f=null,c&&(d(),f=setTimeout(A,r),c=!1)};return()=>(c=!0,f||A(),f)}class Sn{constructor(r){this._hashName=r&&encodeURIComponent(r),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=kl(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,a.window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const c=Fa(r);if(this._hashName){const f=this._hashName;let A=!1;const S=a.window.location.hash.slice(1).split("&").map(E=>{const M=E.split("=")[0];return M===f?(A=!0,`${M}=${c}`):E}).filter(E=>E);return A||S.push(`${f}=${c}`),`#${S.join("&")}`}return`#${c}`}_getCurrentHash(){const r=a.window.location.hash.replace("#","");if(this._hashName){let c;return r.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(c=f)}),(c&&c[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const c=this._getCurrentHash();if(c.length>=3&&!c.some(f=>isNaN(f))){const f=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(c[3]||0):r.getBearing();return r.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:f,pitch:+(c[4]||0)}),!0}return!1}_updateHashUnthrottled(){const r=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,r)}}function Fa(d,r){const c=d.getCenter(),f=Math.round(100*d.getZoom())/100,A=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,A),E=Math.round(c.lng*S)/S,M=Math.round(c.lat*S)/S,F=d.getBearing(),$=d.getPitch();let q=r?`/${E}/${M}/${f}`:`${f}/${M}/${E}`;return(F||$)&&(q+="/"+Math.round(10*F)/10),$&&(q+=`/${Math.round($)}`),q}const Ll={linearity:.3,easing:a.bezier(0,0,.3,1)},c0=a.extend({deceleration:2500,maxSpeed:1400},Ll),du=a.extend({deceleration:20,maxSpeed:1400},Ll),_l=a.extend({deceleration:1e3,maxSpeed:360},Ll),L0=a.extend({deceleration:1e3,maxSpeed:90},Ll);class __{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,c=a.exported.now();for(;r.length>0&&c-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new a.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)c.zoom+=S.zoomDelta||0,c.bearing+=S.bearingDelta||0,c.pitch+=S.pitchDelta||0,S.panDelta&&c.pan._add(S.panDelta),S.around&&(c.around=S.around),S.pinchAround&&(c.pinchAround=S.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,A={};if(c.pan.mag()){const S=ho(c.pan.mag(),f,a.extend({},c0,r||{}));A.offset=c.pan.mult(S.amount/c.pan.mag()),A.center=this._map.transform.center,Ya(A,S)}if(c.zoom){const S=ho(c.zoom,f,du);A.zoom=this._map.transform.zoom+S.amount,Ya(A,S)}if(c.bearing){const S=ho(c.bearing,f,_l);A.bearing=this._map.transform.bearing+a.clamp(S.amount,-179,179),Ya(A,S)}if(c.pitch){const S=ho(c.pitch,f,L0);A.pitch=this._map.transform.pitch+S.amount,Ya(A,S)}if(A.zoom||A.bearing){const S=c.pinchAround===void 0?c.around:c.pinchAround;A.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),A.noMoveStart=!0,A}}function Ya(d,r){(!d.duration||d.duration<r.duration)&&(d.duration=r.duration,d.easing=r.easing)}function ho(d,r,c){const{maxSpeed:f,linearity:A,deceleration:S}=c,E=a.clamp(d*A/(r/1e3),-f,f),M=Math.abs(E)/(S*A);return{easing:c.easing,duration:1e3*M,amount:E*(M/2)}}class Is extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,f,A={}){const S=Me(c.getCanvasContainer(),f),E=c.unproject(S);super(r,a.extend({point:S,lngLat:E,originalEvent:f},A)),this._defaultPrevented=!1,this.target=c}}class Dl extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,f){const A=r==="touchend"?f.changedTouches:f.touches,S=it(c.getCanvasContainer(),A),E=S.map(F=>c.unproject(F)),M=S.reduce((F,$,q,_e)=>F.add($.div(_e.length)),new a.pointGeometry(0,0));super(r,{points:S,point:M,lngLats:E,lngLat:c.unproject(M),originalEvent:f}),this._defaultPrevented=!1}}class D0 extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,f){super(r,{originalEvent:f}),this._defaultPrevented=!1}}class Sa{constructor(r,c){this._map=r,this._clickTolerance=c.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new D0(r.type,this._map,r))}mousedown(r,c){return this._mousedownPos=c,this._firePreventable(new Is(r.type,this._map,r))}mouseup(r){this._map.fire(new Is(r.type,this._map,r))}preclick(r){const c=a.extend({},r);c.type="preclick",this._map.fire(new Is(c.type,this._map,c))}click(r,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||(this.preclick(r),this._map.fire(new Is(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new Is(r.type,this._map,r))}mouseover(r){this._map.fire(new Is(r.type,this._map,r))}mouseout(r){this._map.fire(new Is(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Dl(r.type,this._map,r))}touchmove(r){this._map.fire(new Dl(r.type,this._map,r))}touchend(r){this._map.fire(new Dl(r.type,this._map,r))}touchcancel(r){this._map.fire(new Dl(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ec{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new Is(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Is("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new Is(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pu{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,c){this.isEnabled()&&r.shiftKey&&r.button===0&&(Gt(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(r,c){if(!this._active)return;const f=c,A=this._startPos,S=this._lastPos;if(!A||!S||S.equals(f)||!this._box&&f.dist(A)<this._clickTolerance)return;this._lastPos=f,this._box||(this._box=rt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(A.x,f.x),M=Math.max(A.x,f.x),F=Math.min(A.y,f.y),$=Math.max(A.y,f.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${F}px)`,this._box.style.width=M-E+"px",this._box.style.height=$-F+"px")})}mouseupWindow(r,c){if(!this._active)return;const f=this._startPos,A=c;if(f&&r.button===0){if(this.reset(),Fi(),f.x!==A.x||f.y!==A.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:r})),{cameraAnimation:S=>S.fitScreenCoordinates(f,A,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),xt(),delete this._startPos,delete this._lastPos}_fireEvent(r,c){return this._map.fire(new a.Event(r,{originalEvent:c}))}}function h0(d,r){const c={};for(let f=0;f<d.length;f++)c[d[f].identifier]=r[f];return c}class w_{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,c,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),f.length===this.numTouches&&(this.centroid=function(A){const S=new a.pointGeometry(0,0);for(const E of A)S._add(E);return S.div(A.length)}(c),this.touches=h0(f,c)))}touchmove(r,c,f){if(this.aborted||!this.centroid)return;const A=h0(f,c);for(const S in this.touches){const E=this.touches[S],M=A[S];(!M||M.dist(E)>30)&&(this.aborted=!0)}}touchend(r,c,f){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const A=!this.aborted&&this.centroid;if(this.reset(),A)return A}}}class u_{constructor(r){this.singleTap=new w_(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,c,f){this.singleTap.touchstart(r,c,f)}touchmove(r,c,f){this.singleTap.touchmove(r,c,f)}touchend(r,c,f){const A=this.singleTap.touchend(r,c,f);if(A){const S=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(A)<30;if(S&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=A,this.count===this.numTaps)return this.reset(),A}}}class tc{constructor(){this._zoomIn=new u_({numTouches:1,numTaps:2}),this._zoomOut=new u_({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,c,f){this._zoomIn.touchstart(r,c,f),this._zoomOut.touchstart(r,c,f)}touchmove(r,c,f){this._zoomIn.touchmove(r,c,f),this._zoomOut.touchmove(r,c,f)}touchend(r,c,f){const A=this._zoomIn.touchend(r,c,f),S=this._zoomOut.touchend(r,c,f);return A?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(A)},{originalEvent:r})}):S?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(S)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const c_={0:1,2:2};class ul{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,c){return!1}_move(r,c){return{}}mousedown(r,c){if(this._lastPoint)return;const f=ri(r);this._correctButton(r,f)&&(this._lastPoint=c,this._eventButton=f)}mousemoveWindow(r,c){const f=this._lastPoint;if(f){if(r.preventDefault(),this._eventButton!=null&&function(A,S){const E=c_[S];return A.buttons===void 0||(A.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(c.dist(f)<this._clickTolerance))return this._moved=!0,this._lastPoint=c,this._move(f,c)}}mouseupWindow(r){this._lastPoint&&ri(r)===this._eventButton&&(this._moved&&Fi(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ic extends ul{mousedown(r,c){super.mousedown(r,c),this._lastPoint&&(this._active=!0)}_correctButton(r,c){return c===0&&!r.ctrlKey}_move(r,c){return{around:c,panDelta:c.sub(r)}}}class E_ extends ul{_correctButton(r,c){return c===0&&r.ctrlKey||c===2}_move(r,c){const f=.8*(c.x-r.x);if(f)return this._active=!0,{bearingDelta:f}}contextmenu(r){r.preventDefault()}}class M_ extends ul{_correctButton(r,c){return c===0&&r.ctrlKey||c===2}_move(r,c){const f=-.5*(c.y-r.y);if(f)return this._active=!0,{pitchDelta:f}}contextmenu(r){r.preventDefault()}}class nc{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.pointGeometry(0,0)}touchstart(r,c,f){return this._calculateTransform(r,c,f)}touchmove(r,c,f){if(this._active&&!(f.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(f.length===1&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,c,f)}}touchend(r,c,f){this._calculateTransform(r,c,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,c,f){f.length>0&&(this._active=!0);const A=h0(f,c),S=new a.pointGeometry(0,0),E=new a.pointGeometry(0,0);let M=0;for(const $ in A){const q=A[$],_e=this._touches[$];_e&&(S._add(q),E._add(q.sub(_e)),M++,A[$]=q)}if(this._touches=A,M<this._minTouches||!E.mag())return;const F=E.div(M);return this._sum._add(F),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(M),panDelta:F}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=rt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class I_{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,c,f){return{}}touchstart(r,c,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([c[0],c[1]]))}touchmove(r,c,f){const A=this._firstTwoTouches;if(!A)return;r.preventDefault();const[S,E]=A,M=d0(f,c,S),F=d0(f,c,E);if(!M||!F)return;const $=this._aroundCenter?null:M.add(F).div(2);return this._move([M,F],$,r)}touchend(r,c,f){if(!this._firstTwoTouches)return;const[A,S]=this._firstTwoTouches,E=d0(f,c,A),M=d0(f,c,S);E&&M||(this._active&&Fi(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function d0(d,r,c){for(let f=0;f<d.length;f++)if(d[f].identifier===c)return r[f]}function h_(d,r){return Math.log(d/r)/Math.LN2}class cl extends I_{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,c){const f=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(h_(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:h_(this._distance,f),pinchAround:c}}}function rc(d,r){return 180*d.angleWith(r)/Math.PI}class sc extends I_{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,c){const f=this._vector;if(this._vector=r[0].sub(r[1]),f&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:rc(this._vector,f),pinchAround:c}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const c=25/(Math.PI*this._minDiameter)*360,f=this._startVector;if(!f)return!1;const A=rc(r,f);return Math.abs(A)<c}}function k_(d){return Math.abs(d.y)>Math.abs(d.x)}class mu extends I_{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,k_(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,c,f){const A=this._lastPoints;if(!A)return;const S=r[0].sub(A[0]),E=r[1].sub(A[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&f.touches.length<3||(this._valid=this.gestureBeginsVertically(S,E,f.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(S.y+E.y)/2*-.5})}gestureBeginsVertically(r,c,f){if(this._valid!==void 0)return this._valid;const A=r.mag()>=2,S=c.mag()>=2;if(!A&&!S)return;if(!A||!S)return this._firstMove==null&&(this._firstMove=f),f-this._firstMove<100&&void 0;const E=r.y>0==c.y>0;return k_(r)&&k_(c)&&E}}const hl={panStep:100,bearingStep:15,pitchStep:10};class Zo{constructor(){const r=hl;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let c=0,f=0,A=0,S=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:r.shiftKey?f=-1:(r.preventDefault(),S=-1);break;case 39:r.shiftKey?f=1:(r.preventDefault(),S=1);break;case 38:r.shiftKey?A=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?A=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(f=0,A=0),{cameraAnimation:M=>{const F=M.getZoom();M.easeTo({duration:300,easeId:"keyboardHandler",easing:oc,zoom:c?Math.round(F)+c*(r.shiftKey?2:1):F,bearing:M.getBearing()+f*this._bearingStep,pitch:M.getPitch()+A*this._pitchStep,offset:[-S*this._panStep,-E*this._panStep],center:M.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function oc(d){return d*(2-d)}const fu=4.000244140625;class Gc{constructor(r,c){this._map=r,this._el=r.getCanvasContainer(),this._handler=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let c=r.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const f=a.exported.now(),A=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,c!==0&&c%fu==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":A>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(A*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),r.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=r,this._delta-=c,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=Me(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:c,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const c=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const F=this._type==="wheel"&&Math.abs(this._delta)>fu?this._wheelZoomRate:this._defaultZoomRate;let $=2/(1+Math.exp(-Math.abs(this._delta*F)));this._delta<0&&$!==0&&($=1/$);const q=c(),_e=Math.pow(2,q),ve=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):_e;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(ve*$))),this._type==="wheel"&&(this._startZoom=q,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom=="number"?this._targetZoom:c(),A=this._startZoom,S=this._easing;let E,M=!1;if(this._type==="wheel"&&A&&S){const F=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),$=S(F);E=a.number(A,f,$),F<1?this._frameId||(this._frameId=!0):M=!0}else E=f,M=!0;return this._active=!0,M&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!M,zoomDelta:E-c(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let c=a.ease;if(this._prevEase){const f=this._prevEase,A=(a.exported.now()-f.start)/f.duration,S=f.easing(A+.01)-f.easing(A),E=.27/Math.sqrt(S*S+1e-4)*.01,M=Math.sqrt(.0729-E*E);c=a.bezier(E,M,.25,1)}return this._prevEase={start:a.exported.now(),duration:r,easing:c},c}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=rt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Wc{constructor(r,c){this._clickZoom=r,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class p0{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,c){return r.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:f.getZoom()+(r.shiftKey?-1:1),around:f.unproject(c)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ac{constructor(){this._tap=new u_({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,c,f){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?f.length>0&&(this._swipePoint=c[0],this._swipeTouch=f[0].identifier):this._tap.touchstart(r,c,f))}touchmove(r,c,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const A=c[0],S=A.y-this._swipePoint.y;return this._swipePoint=A,r.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(r,c,f)}touchend(r,c,f){this._tapTime?this._swipePoint&&f.length===0&&this.reset():this._tap.touchend(r,c,f)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rl{constructor(r,c,f){this._el=r,this._mousePan=c,this._touchPan=f}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class n0{constructor(r,c,f){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=c,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class L_{constructor(r,c,f,A){this._el=r,this._touchZoom=c,this._touchRotate=f,this._tapDragZoom=A,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const En=d=>d.zoom||d.drag||d.pitch||d.rotate;class lc extends a.Event{}class _c{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,c){const f=a.sub([],c,r);this.radius=a.length(f[2]<0?a.div([],f,this.constants):[f[0],f[1],0])}projectRay(r){a.div(r,r,this.constants),a.normalize(r,r),a.mul$1(r,r,this.constants);const c=a.scale$2([],r,this.radius);if(c[2]>0){const f=a.scale$2([],[0,0,1],a.dot(c,[0,0,1])),A=a.scale$2([],a.normalize([],[c[0],c[1],0]),this.radius),S=a.add([],c,a.scale$2([],a.sub([],a.add([],A,f),c),2));c[0]=S[0],c[1]=S[1]}return c}}function R0(d){return d.panDelta&&d.panDelta.mag()||d.zoomDelta||d.bearingDelta||d.pitchDelta}class Hl{constructor(r,c){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new __(r),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new _c,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(c),a.bindAll(["handleEvent","handleWindowEvent"],this);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[A,S,E]of this._listeners)A.addEventListener(S,A===a.window.document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[r,c,f]of this._listeners)r.removeEventListener(c,r===a.window.document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(r){const c=this._map,f=c.getCanvasContainer();this._add("mapEvent",new Sa(c,r));const A=c.boxZoom=new pu(c,r);this._add("boxZoom",A);const S=new tc,E=new p0;c.doubleClickZoom=new Wc(E,S),this._add("tapZoom",S),this._add("clickZoom",E);const M=new ac;this._add("tapDragZoom",M);const F=c.touchPitch=new mu(c);this._add("touchPitch",F);const $=new E_(r),q=new M_(r);c.dragRotate=new n0(r,$,q),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const _e=new ic(r),ve=new nc(c,r);c.dragPan=new Rl(f,_e,ve),this._add("mousePan",_e),this._add("touchPan",ve,["touchZoom","touchRotate"]);const Le=new sc,ke=new cl;c.touchZoomRotate=new L_(f,ke,Le,M),this._add("touchRotate",Le,["touchPan","touchZoom"]),this._add("touchZoom",ke,["touchPan","touchRotate"]),this._add("blockableMapEvent",new ec(c));const He=c.scrollZoom=new Gc(c,this);this._add("scrollZoom",He,["mousePan"]);const Ce=c.keyboard=new Zo;this._add("keyboard",Ce);for(const we of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[we]&&c[we].enable(r[we])}_add(r,c,f){this._handlers.push({handlerName:r,handler:c,allowed:f}),this._handlersById[r]=c}stop(r){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!En(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,c,f){for(const A in r)if(A!==f&&(!c||c.indexOf(A)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const c=[];for(const f of r)this._el.contains(f.target)&&c.push(f);return c}handleEvent(r,c){this._updatingCamera=!0;const f=r.type==="renderFrame",A=f?void 0:r,S={needsRenderFrame:!1},E={},M={},F=r.touches?this._getMapTouches(r.touches):void 0,$=F?it(this._el,F):f?void 0:Me(this._el,r);for(const{handlerName:ve,handler:Le,allowed:ke}of this._handlers){if(!Le.isEnabled())continue;let He;this._blockedByActive(M,ke,ve)?Le.reset():Le[c||r.type]&&(He=Le[c||r.type](r,$,F),this.mergeHandlerResult(S,E,He,ve,A),He&&He.needsRenderFrame&&this._triggerRenderFrame()),(He||Le.isActive())&&(M[ve]=Le)}const q={};for(const ve in this._previousActiveHandlers)M[ve]||(q[ve]=A);this._previousActiveHandlers=M,(Object.keys(q).length||R0(S))&&(this._changes.push([S,E,q]),this._triggerRenderFrame()),(Object.keys(M).length||R0(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:_e}=S;_e&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],_e(this._map))}mergeHandlerResult(r,c,f,A,S){if(!f)return;a.extend(r,f);const E={handlerName:A,originalEvent:f.originalEvent||S};f.zoomDelta!==void 0&&(c.zoom=E),f.panDelta!==void 0&&(c.drag=E),f.pitchDelta!==void 0&&(c.pitch=E),f.bearingDelta!==void 0&&(c.rotate=E)}_applyChanges(){const r={},c={},f={};for(const[A,S,E]of this._changes)A.panDelta&&(r.panDelta=(r.panDelta||new a.pointGeometry(0,0))._add(A.panDelta)),A.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+A.zoomDelta),A.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+A.bearingDelta),A.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+A.pitchDelta),A.around!==void 0&&(r.around=A.around),A.aroundCoord!==void 0&&(r.aroundCoord=A.aroundCoord),A.pinchAround!==void 0&&(r.pinchAround=A.pinchAround),A.noInertia&&(r.noInertia=A.noInertia),a.extend(c,S),a.extend(f,E);this._updateMapTransform(r,c,f),this._changes=[]}_updateMapTransform(r,c,f){const A=this._map,S=A.transform,E=Ge=>[Ge.x,Ge.y,Ge.z];if((Ge=>{const Oe=this._eventsInProgress.drag;return Oe&&!this._handlersById[Oe.handlerName].isActive()})()&&!R0(r)){const Ge=S.zoom;S.cameraElevationReference="sea",S.recenterOnTerrain(),S.cameraElevationReference="ground",Ge!==S.zoom&&this._map._update(!0)}if(S._isCameraConstrained&&A._stop(!0),!R0(r))return void this._fireEvents(c,f,!0);let{panDelta:M,zoomDelta:F,bearingDelta:$,pitchDelta:q,around:_e,aroundCoord:ve,pinchAround:Le}=r;S._isCameraConstrained&&(F>0&&(F=0),S._isCameraConstrained=!1),Le!==void 0&&(_e=Le),(Ge=>c.drag&&!this._eventsInProgress.drag)()&&_e&&(this._dragOrigin=E(S.pointCoordinate3D(_e)),this._trackingEllipsoid.setup(S._camera.position,this._dragOrigin)),S.cameraElevationReference="sea",A._stop(!0),_e=_e||A.transform.centerPoint,$&&(S.bearing+=$),q&&(S.pitch+=q),S._updateCameraState();const ke=[0,0,0];if(M)if(S.projection.name==="mercator"){const Ge=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(_e).dir),Oe=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(_e.sub(M)).dir);ke[0]=Oe[0]-Ge[0],ke[1]=Oe[1]-Ge[1]}else{const Ge=S.pointCoordinate(_e);if(S.projection.name==="globe"){M=M.rotate(-S.angle);const Oe=S._pixelsPerMercatorPixel/S.worldSize;ke[0]=-M.x*a.mercatorScale(a.latFromMercatorY(Ge.y))*Oe,ke[1]=-M.y*a.mercatorScale(S.center.lat)*Oe}else{const Oe=S.pointCoordinate(_e.sub(M));Ge&&Oe&&(ke[0]=Oe.x-Ge.x,ke[1]=Oe.y-Ge.y)}}const He=S.zoom,Ce=[0,0,0];if(F){const Ge=E(ve||S.pointCoordinate3D(_e)),Oe={dir:a.normalize([],a.sub([],Ge,S._camera.position))};if(Oe.dir[2]<0){const Xe=S.zoomDeltaToMovement(Ge,F);a.scale$2(Ce,Oe.dir,Xe)}}const we=a.add(ke,ke,Ce);S._translateCameraConstrained(we),F&&Math.abs(S.zoom-He)>1e-4&&S.recenterOnTerrain(),S.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(c,f,!0)}_fireEvents(r,c,f){const A=En(this._eventsInProgress),S=En(r),E={};for(const q in r){const{originalEvent:_e}=r[q];this._eventsInProgress[q]||(E[`${q}start`]=_e),this._eventsInProgress[q]=r[q]}!A&&S&&this._fireEvent("movestart",S.originalEvent);for(const q in E)this._fireEvent(q,E[q]);S&&this._fireEvent("move",S.originalEvent);for(const q in r){const{originalEvent:_e}=r[q];this._fireEvent(q,_e)}const M={};let F;for(const q in this._eventsInProgress){const{handlerName:_e,originalEvent:ve}=this._eventsInProgress[q];this._handlersById[_e].isActive()||(delete this._eventsInProgress[q],F=c[_e]||ve,M[`${q}end`]=F)}for(const q in M)this._fireEvent(q,M[q]);const $=En(this._eventsInProgress);if(f&&(A||S)&&!$){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_e=ve=>ve!==0&&-this._bearingSnap<ve&&ve<this._bearingSnap;q?(_e(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:F})):(this._map.fire(new a.Event("moveend",{originalEvent:F})),_e(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,c){this._map.fire(new a.Event(r,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new lc("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const D_="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Fl extends a.Evented{constructor(r,c){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=c.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(r,c){return this.jumpTo({center:r},c)}panBy(r,c,f){return r=a.pointGeometry.convert(r).mult(-1),this.panTo(this.transform.center,a.extend({offset:r},c),f)}panTo(r,c,f){return this.easeTo(a.extend({center:r},c),f)}getZoom(){return this.transform.zoom}setZoom(r,c){return this.jumpTo({zoom:r},c),this}zoomTo(r,c,f){return this.easeTo(a.extend({zoom:r},c),f)}zoomIn(r,c){return this.zoomTo(this.getZoom()+1,r,c),this}zoomOut(r,c){return this.zoomTo(this.getZoom()-1,r,c),this}getBearing(){return this.transform.bearing}setBearing(r,c){return this.jumpTo({bearing:r},c),this}getPadding(){return this.transform.padding}setPadding(r,c){return this.jumpTo({padding:r},c),this}rotateTo(r,c,f){return this.easeTo(a.extend({bearing:r},c),f)}resetNorth(r,c){return this.rotateTo(0,a.extend({duration:1e3},r),c),this}resetNorthPitch(r,c){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},r),c),this}snapToNorth(r,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,c):this}getPitch(){return this.transform.pitch}setPitch(r,c){return this.jumpTo({pitch:r},c),this}cameraForBounds(r,c){r=a.LngLatBounds.convert(r);const f=c&&c.bearing||0,A=c&&c.pitch||0,S=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,S,E,f,A,c)}_extendCameraOptions(r){const c={top:0,bottom:0,right:0,left:0};if(typeof(r=a.extend({padding:c,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=="number"){const f=r.padding;r.padding={top:f,bottom:f,right:f,left:f}}return r.padding=a.extend(c,r.padding),r}_minimumAABBFrustumDistance(r,c){const f=c.max[0]-c.min[0],A=c.max[1]-c.min[1];return f/A>r.aspect?f/(2*Math.tan(.5*r.fovX)*r.aspect):A/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,c,f,A,S,E){const M=r.clone(),F=this._extendCameraOptions(E);M.bearing=A,M.pitch=S;const $=a.LngLat.convert(c),q=a.LngLat.convert(f),_e=.5*($.lat+q.lat),ve=.5*($.lng+q.lng),Le=a.latLngToECEF(_e,ve),ke=a.normalize([],Le),He=a.normalize([],a.cross([],ke,[0,1,0])),Ce=a.cross([],He,ke),we=[He[0],He[1],He[2],0,Ce[0],Ce[1],Ce[2],0,ke[0],ke[1],ke[2],0,0,0,0,1],Ge=[Le,a.latLngToECEF($.lat,$.lng),a.latLngToECEF(q.lat,$.lng),a.latLngToECEF(q.lat,q.lng),a.latLngToECEF($.lat,q.lng),a.latLngToECEF(_e,$.lng),a.latLngToECEF(_e,q.lng),a.latLngToECEF($.lat,ve),a.latLngToECEF(q.lat,ve)];let Oe=a.Aabb.fromPoints(Ge.map(kt=>[a.dot(He,kt),a.dot(Ce,kt),a.dot(ke,kt)]));const Xe=a.transformMat4([],Oe.center,we);a.squaredLength(Xe)===0&&a.set(Xe,0,0,1),a.normalize(Xe,Xe),a.scale$2(Xe,Xe,a.GLOBE_RADIUS),M.center=a.ecefToLatLng(Xe);const pt=M.getWorldToCameraMatrix(),_t=a.invert(new Float64Array(16),pt);Oe=a.Aabb.applyTransform(Oe,a.multiply([],pt,we)),a.transformMat4(Xe,Xe,pt);const Nt=.5*(Oe.max[2]-Oe.min[2]),Xt=this._minimumAABBFrustumDistance(M,Oe),zt=a.scale$2([],[0,0,1],Nt),Lt=a.add(zt,Xe,zt),Qi=Xt+(M.pitch===0?0:a.distance(Xe,Lt)),Et=M.globeCenterInViewSpace,bi=a.sub([],Xe,[Et[0],Et[1],Et[2]]);a.normalize(bi,bi),a.scale$2(bi,bi,Qi);const qt=a.add([],Xe,bi);a.transformMat4(qt,qt,_t);const Wi=a.earthRadius/a.GLOBE_RADIUS,ei=a.length(qt),Pi=a.mercatorZfromAltitude(ei*Wi-a.earthRadius,0),wi=Math.min(M.zoomFromMercatorZAdjusted(Pi),F.maxZoom);return wi>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(M.setProjection({name:"mercator"}),M.zoom=wi,this._cameraForBounds(M,c,f,A,S,E)):{center:M.center,zoom:wi,bearing:A,pitch:S}}queryTerrainElevation(r,c){const f=this.transform.elevation;return f?(c=a.extend({},{exaggerated:!0},c),f.getAtPoint(a.MercatorCoordinate.fromLngLat(r),null,c.exaggerated)):null}_cameraForBounds(r,c,f,A,S,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,c,f,A,S,E);const M=r.clone(),F=this._extendCameraOptions(E),$=M.padding;M.bearing=A,M.pitch=S;const q=a.LngLat.convert(c),_e=a.LngLat.convert(f),ve=new a.LngLat(q.lng,_e.lat),Le=new a.LngLat(_e.lng,q.lat),ke=M.project(q),He=M.project(_e),Ce=this.queryTerrainElevation(q),we=this.queryTerrainElevation(_e),Ge=this.queryTerrainElevation(ve),Oe=this.queryTerrainElevation(Le),Xe=[[ke.x,ke.y,Math.min(Ce||0,we||0,Ge||0,Oe||0)],[He.x,He.y,Math.max(Ce||0,we||0,Ge||0,Oe||0)]];let pt=a.Aabb.fromPoints(Xe);const _t=M.getWorldToCameraMatrix(),Nt=a.invert(new Float64Array(16),_t);pt=a.Aabb.applyTransform(pt,_t);const Xt=a.sub([],pt.max,pt.min),zt=$.left||0,Lt=$.right||0,Qi=$.bottom||0,Et=$.top||0,{left:bi,right:qt,top:Wi,bottom:ei}=F.padding,Pi=.5*(zt+Lt),wi=.5*(Et+Qi),kt=Math.min(M.scaleZoom(M.scale*Math.min((M.width-(zt+Lt+bi+qt))/Xt[0],(M.height-(Qi+Et+ei+Wi))/Xt[1])),F.maxZoom),Yt=M.scale/M.zoomScale(kt);pt=new a.Aabb([pt.min[0]-(bi+Pi)*Yt,pt.min[1]-(ei+wi)*Yt,pt.min[2]],[pt.max[0]+(qt+Pi)*Yt,pt.max[1]+(Wi+wi)*Yt,pt.max[2]]);const yn=.5*Xt[2],An=this._minimumAABBFrustumDistance(M,pt),kn=[0,0,1,0];a.transformMat4$1(kn,kn,_t),a.normalize$2(kn,kn);const Qn=a.scale$2([],kn,An+yn),vr=a.add([],pt.center,Qn),Yn=(typeof F.offset.x=="number"&&typeof F.offset.y=="number"?new a.pointGeometry(F.offset.x,F.offset.y):a.pointGeometry.convert(F.offset)).rotate(-a.degToRad(A));pt.center[0]-=Yn.x*Yt,pt.center[1]+=Yn.y*Yt,a.transformMat4(pt.center,pt.center,Nt),a.transformMat4(vr,vr,Nt);const bn=[pt.center[0],pt.center[1],vr[2]*M.pixelsPerMeter];a.scale$2(bn,bn,1/M.worldSize);const as=a.lngFromMercatorX(bn[0]),Jr=a.latFromMercatorY(bn[1]),hs=Math.min(M._zoomFromMercatorZ(bn[2]),F.maxZoom),fs=new a.LngLat(as,Jr);return M.mercatorFromTransition&&hs<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(M.setProjection({name:"globe"}),M.zoom=hs,this._cameraForBounds(M,c,f,A,S,E)):{center:fs,zoom:hs,bearing:A,pitch:S}}fitBounds(r,c,f){const A=this.cameraForBounds(r,c);return this._fitInternal(A,c,f)}fitScreenCoordinates(r,c,f,A,S){const E=a.pointGeometry.convert(r),M=a.pointGeometry.convert(c),F=new a.pointGeometry(Math.min(E.x,M.x),Math.min(E.y,M.y)),$=new a.pointGeometry(Math.max(E.x,M.x),Math.max(E.y,M.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,M))return this;const q=this.transform.pointLocation3D(F),_e=this.transform.pointLocation3D($),ve=this.transform.pointLocation3D(new a.pointGeometry(F.x,$.y)),Le=this.transform.pointLocation3D(new a.pointGeometry($.x,F.y)),ke=[Math.min(q.lng,_e.lng,ve.lng,Le.lng),Math.min(q.lat,_e.lat,ve.lat,Le.lat)],He=[Math.max(q.lng,_e.lng,ve.lng,Le.lng),Math.max(q.lat,_e.lat,ve.lat,Le.lat)],Ce=A&&A.pitch?A.pitch:this.getPitch(),we=this._cameraForBounds(this.transform,ke,He,f,Ce,A);return this._fitInternal(we,A,S)}_fitInternal(r,c,f){return r?(delete(c=a.extend(r,c)).padding,c.linear?this.easeTo(c,f):this.flyTo(c,f)):this}jumpTo(r,c){this.stop();const f=r.preloadOnly?this.transform.clone():this.transform;let A=!1,S=!1,E=!1;return"zoom"in r&&f.zoom!==+r.zoom&&(A=!0,f.zoom=+r.zoom),r.center!==void 0&&(f.center=a.LngLat.convert(r.center)),"bearing"in r&&f.bearing!==+r.bearing&&(S=!0,f.bearing=+r.bearing),"pitch"in r&&f.pitch!==+r.pitch&&(E=!0,f.pitch=+r.pitch),r.padding==null||f.isPaddingEqual(r.padding)||(f.padding=r.padding),r.preloadOnly?(this._preloadTiles(f),this):(this.fire(new a.Event("movestart",c)).fire(new a.Event("move",c)),A&&this.fire(new a.Event("zoomstart",c)).fire(new a.Event("zoom",c)).fire(new a.Event("zoomend",c)),S&&this.fire(new a.Event("rotatestart",c)).fire(new a.Event("rotate",c)).fire(new a.Event("rotateend",c)),E&&this.fire(new a.Event("pitchstart",c)).fire(new a.Event("pitch",c)).fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(D_),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,c){const f=this.transform;if(!f.projection.supportsFreeCamera)return a.warnOnce(D_),this;this.stop();const A=f.zoom,S=f.pitch,E=f.bearing;f.setFreeCameraOptions(r);const M=A!==f.zoom,F=S!==f.pitch,$=E!==f.bearing;return this.fire(new a.Event("movestart",c)).fire(new a.Event("move",c)),M&&this.fire(new a.Event("zoomstart",c)).fire(new a.Event("zoom",c)).fire(new a.Event("zoomend",c)),$&&this.fire(new a.Event("rotatestart",c)).fire(new a.Event("rotate",c)).fire(new a.Event("rotateend",c)),F&&this.fire(new a.Event("pitchstart",c)).fire(new a.Event("pitch",c)).fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c)),this}easeTo(r,c){this._stop(!1,r.easeId),((r=a.extend({offset:[0,0],duration:500,easing:a.ease},r)).animate===!1||!r.essential&&a.exported.prefersReducedMotion)&&(r.duration=0);const f=this.transform,A=this.getZoom(),S=this.getBearing(),E=this.getPitch(),M=this.getPadding(),F="zoom"in r?+r.zoom:A,$="bearing"in r?this._normalizeBearing(r.bearing,S):S,q="pitch"in r?+r.pitch:E,_e="padding"in r?r.padding:f.padding,ve=a.pointGeometry.convert(r.offset);let Le,ke,He;if(f.projection.name==="globe"){const zt=a.MercatorCoordinate.fromLngLat(f.center),Lt=ve.rotate(-f.angle);zt.x+=Lt.x/f.worldSize,zt.y+=Lt.y/f.worldSize;const Qi=zt.toLngLat(),Et=a.LngLat.convert(r.center||Qi);this._normalizeCenter(Et),Le=f.centerPoint.add(Lt),ke=new a.pointGeometry(zt.x,zt.y).mult(f.worldSize),He=new a.pointGeometry(a.mercatorXfromLng(Et.lng),a.mercatorYfromLat(Et.lat)).mult(f.worldSize).sub(ke)}else{Le=f.centerPoint.add(ve);const zt=f.pointLocation(Le),Lt=a.LngLat.convert(r.center||zt);this._normalizeCenter(Lt),ke=f.project(zt),He=f.project(Lt).sub(ke)}const Ce=f.zoomScale(F-A);let we,Ge;r.around&&(we=a.LngLat.convert(r.around),Ge=f.locationPoint(we));const Oe=this._zooming||F!==A,Xe=this._rotating||S!==$,pt=this._pitching||q!==E,_t=!f.isPaddingEqual(_e),Nt=zt=>Lt=>{if(Oe&&(zt.zoom=a.number(A,F,Lt)),Xe&&(zt.bearing=a.number(S,$,Lt)),pt&&(zt.pitch=a.number(E,q,Lt)),_t&&(zt.interpolatePadding(M,_e,Lt),Le=zt.centerPoint.add(ve)),we)zt.setLocationAtPoint(we,Ge);else{const Qi=zt.zoomScale(zt.zoom-A),Et=F>A?Math.min(2,Ce):Math.max(.5,Ce),bi=Math.pow(Et,1-Lt),qt=zt.unproject(ke.add(He.mult(Lt*bi)).mult(Qi));zt.setLocationAtPoint(zt.renderWorldCopies?qt.wrap():qt,Le)}return r.preloadOnly||this._fireMoveEvents(c),zt};if(r.preloadOnly){const zt=this._emulate(Nt,r.duration,f);return this._preloadTiles(zt),this}const Xt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Oe,this._rotating=Xe,this._pitching=pt,this._padding=_t,this._easeId=r.easeId,this._prepareEase(c,r.noMoveStart,Xt),this._ease(Nt(f),zt=>{f.recenterOnTerrain(),this._afterEase(c,zt)},r),this}_prepareEase(r,c,f={}){this._moving=!0,this.transform.cameraElevationReference="sea",c||f.moving||this.fire(new a.Event("movestart",r)),this._zooming&&!f.zooming&&this.fire(new a.Event("zoomstart",r)),this._rotating&&!f.rotating&&this.fire(new a.Event("rotatestart",r)),this._pitching&&!f.pitching&&this.fire(new a.Event("pitchstart",r))}_fireMoveEvents(r){this.fire(new a.Event("move",r)),this._zooming&&this.fire(new a.Event("zoom",r)),this._rotating&&this.fire(new a.Event("rotate",r)),this._pitching&&this.fire(new a.Event("pitch",r))}_afterEase(r,c){if(this._easeId&&c&&this._easeId===c)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const f=this._zooming,A=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new a.Event("zoomend",r)),A&&this.fire(new a.Event("rotateend",r)),S&&this.fire(new a.Event("pitchend",r)),this.fire(new a.Event("moveend",r))}flyTo(r,c){if(!r.essential&&a.exported.prefersReducedMotion){const kt=a.pick(r,["center","zoom","bearing","pitch","around"]);return this.jumpTo(kt,c)}this.stop(),r=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},r);const f=this.transform,A=this.getZoom(),S=this.getBearing(),E=this.getPitch(),M=this.getPadding(),F="zoom"in r?a.clamp(+r.zoom,f.minZoom,f.maxZoom):A,$="bearing"in r?this._normalizeBearing(r.bearing,S):S,q="pitch"in r?+r.pitch:E,_e="padding"in r?r.padding:f.padding,ve=f.zoomScale(F-A),Le=a.pointGeometry.convert(r.offset);let ke=f.centerPoint.add(Le);const He=f.pointLocation(ke),Ce=a.LngLat.convert(r.center||He);this._normalizeCenter(Ce);const we=f.project(He),Ge=f.project(Ce).sub(we);let Oe=r.curve;const Xe=Math.max(f.width,f.height),pt=Xe/ve,_t=Ge.mag();if("minZoom"in r){const kt=a.clamp(Math.min(r.minZoom,A,F),f.minZoom,f.maxZoom),Yt=Xe/f.zoomScale(kt-A);Oe=Math.sqrt(Yt/_t*2)}const Nt=Oe*Oe;function Xt(kt){const Yt=(pt*pt-Xe*Xe+(kt?-1:1)*Nt*Nt*_t*_t)/(2*(kt?pt:Xe)*Nt*_t);return Math.log(Math.sqrt(Yt*Yt+1)-Yt)}function zt(kt){return(Math.exp(kt)-Math.exp(-kt))/2}function Lt(kt){return(Math.exp(kt)+Math.exp(-kt))/2}const Qi=Xt(0);let Et=function(kt){return Lt(Qi)/Lt(Qi+Oe*kt)},bi=function(kt){return Xe*((Lt(Qi)*(zt(Yt=Qi+Oe*kt)/Lt(Yt))-zt(Qi))/Nt)/_t;var Yt},qt=(Xt(1)-Qi)/Oe;if(Math.abs(_t)<1e-6||!isFinite(qt)){if(Math.abs(Xe-pt)<1e-6)return this.easeTo(r,c);const kt=pt<Xe?-1:1;qt=Math.abs(Math.log(pt/Xe))/Oe,bi=function(){return 0},Et=function(Yt){return Math.exp(kt*Oe*Yt)}}r.duration="duration"in r?+r.duration:1e3*qt/("screenSpeed"in r?+r.screenSpeed/Oe:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Wi=S!==$,ei=q!==E,Pi=!f.isPaddingEqual(_e),wi=kt=>Yt=>{const yn=Yt*qt,An=1/Et(yn);kt.zoom=Yt===1?F:A+kt.scaleZoom(An),Wi&&(kt.bearing=a.number(S,$,Yt)),ei&&(kt.pitch=a.number(E,q,Yt)),Pi&&(kt.interpolatePadding(M,_e,Yt),ke=kt.centerPoint.add(Le));const kn=Yt===1?Ce:kt.unproject(we.add(Ge.mult(bi(yn))).mult(An));return kt.setLocationAtPoint(kt.renderWorldCopies?kn.wrap():kn,ke),kt._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(c),kt};if(r.preloadOnly){const kt=this._emulate(wi,r.duration,f);return this._preloadTiles(kt),this}return this._zooming=!0,this._rotating=Wi,this._pitching=ei,this._padding=Pi,this._prepareEase(c,!1),this._ease(wi(f),()=>this._afterEase(c),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const f=this._onEaseEnd;this._onEaseEnd=void 0,f.call(this,c)}if(!r){const f=this.handlers;f&&f.stop(!1)}return this}_ease(r,c,f){f.animate===!1||f.duration===0?(r(1),c()):(this._easeStart=a.exported.now(),this._easeOptions=f,this._onEaseFrame=r,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),c=this._onEaseFrame;c&&c(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,c){r=a.wrap(r,-180,180);const f=Math.abs(r-c);return Math.abs(r-360-c)<f&&(r-=360),Math.abs(r+360-c)<f&&(r+=360),r}_normalizeCenter(r){const c=this.transform;if(!c.renderWorldCopies||c.maxBounds)return;const f=r.lng-c.center.lng;r.lng+=f>180?-360:f<-180?360:0}_emulate(r,c,f){const A=Math.ceil(15*c/1e3),S=[],E=r(f.clone());for(let M=0;M<=A;M++){const F=E(M/A);S.push(F.clone())}return S}}class R_{constructor(r={}){this.options=r,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const c=this.options&&this.options.compact;return this._map=r,this._container=rt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=rt("button","mapboxgl-ctrl-attrib-button",this._container),rt("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=rt("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),c&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),c===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(r,c){const f=this._map._getUIString(`AttributionControl.${c}`);r.setAttribute("aria-label",f),r.removeAttribute("title"),r.firstElementChild&&r.firstElementChild.setAttribute("title",f)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(r){const f=c.reduce((A,S,E)=>(S.value&&(A+=`${S.key}=${S.value}${E<c.length-1?"&":""}`),A),"?");r.href=`${a.config.FEEDBACK_URL}/${f}#${Fa(this._map,!0)}`,r.rel="noopener nofollow",this._setElementTitle(r,"MapFeedback")}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const A=this._map.style.stylesheet;this.styleOwner=A.owner,this.styleId=A.id}const c=this._map.style._sourceCaches;for(const A in c){const S=c[A];if(S.used){const E=S.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((A,S)=>A.length-S.length),r=r.filter((A,S)=>{for(let E=S+1;E<r.length;E++)if(r[E].indexOf(A)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const f=r.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,r.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class d_{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=rt("div","mapboxgl-ctrl");const c=rt("a","mapboxgl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://www.mapbox.com/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const c in r){const f=r[c].getSource();if(f.hasOwnProperty("mapbox_logo")&&!f.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const c=r[0];this._map.getCanvasContainer().offsetWidth<250?c.classList.add("mapboxgl-compact"):c.classList.remove("mapboxgl-compact")}}}class Oa{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const c=++this._id;return this._queue.push({callback:r,id:c,cancelled:!1}),c}remove(r){const c=this._currentlyRunning,f=c?this._queue.concat(c):this._queue;for(const A of f)if(A.id===r)return void(A.cancelled=!0)}run(r=0){const c=this._currentlyRunning=this._queue;this._queue=[];for(const f of c)if(!f.cancelled&&(f.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Ol(d,r,c){if(d=new a.LngLat(d.lng,d.lat),r){const f=new a.LngLat(d.lng-360,d.lat),A=new a.LngLat(d.lng+360,d.lat),S=360*Math.ceil(Math.abs(d.lng-c.center.lng)/360),E=c.locationPoint(d).distSqr(r),M=r.x<0||r.y<0||r.x>c.width||r.y>c.height;c.locationPoint(f).distSqr(r)<E&&(M||Math.abs(f.lng-c.center.lng)<S)?d=f:c.locationPoint(A).distSqr(r)<E&&(M||Math.abs(A.lng-c.center.lng)<S)&&(d=A)}for(;Math.abs(d.lng-c.center.lng)>180;){const f=c.locationPoint(d);if(f.x>=0&&f.y>=0&&f.x<=c.width&&f.y<=c.height)break;d.lng>c.center.lng?d.lng-=360:d.lng+=360}return d}const dl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class pl extends a.Evented{constructor(r,c){if(super(),(r instanceof a.window.HTMLElement||c)&&(r=a.extend({element:r},c)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=a.pointGeometry.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=rt("div");const A=41,S=27,E=ht("svg",{display:"block",height:A*this._scale+"px",width:S*this._scale+"px",viewBox:`0 0 ${S} ${A}`},this._element),M=ht("radialGradient",{id:"shadowGradient"},ht("defs",{},E));ht("stop",{offset:"10%","stop-opacity":.4},M),ht("stop",{offset:"100%","stop-opacity":.05},M),ht("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},E),ht("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},E),ht("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},E),ht("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},E),this._offset=a.pointGeometry.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",A=>{A.preventDefault()}),this._element.addEventListener("mousedown",A=>{A.preventDefault()});const f=this._element.classList;for(const A in dl)f.remove(`mapboxgl-marker-anchor-${A}`);f.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=a.LngLat.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const A=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[A,-1*(38.1-13.5+A)],"bottom-right":[-A,-1*(38.1-13.5+A)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const c=r.code,f=r.charCode||r.keyCode;c!=="Space"&&c!=="Enter"&&f!==32&&f!==13||this.togglePopup()}_onMapClick(r){const c=r.originalEvent.target,f=this._element;this._popup&&(c===f||f.contains(c))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,c=this._pos;if(!r||!c)return!1;const f=r.unproject(c),A=r.getFreeCameraOptions();if(!A.position)return!1;const S=A.position.toLngLat();return S.distanceTo(f)<.9*S.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const c=this._pos;if(!c||c.x<0||c.x>r.transform.width||c.y<0||c.y>r.transform.height)return void this._clearFadeTimer();const f=r.unproject(c);let A;r._showingGlobe()&&a.isLngLatBehindGlobe(r.transform,this._lngLat)?A=0:(A=1-r._queryFogOpacity(f),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(A*=this._occludedOpacity)),this._element.style.opacity=`${A}`,this._element.style.pointerEvents=A>0?"auto":"none",this._popup&&this._popup._setOpacity(A),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const c=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${dl[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${c.x}px,${c.y}px)
        `}_calculateXYTransform(){const r=this._pos,c=this._map,f=this.getPitchAlignment();if(!c||!r||f!=="map")return"";if(!c._showingGlobe()){const F=c.getPitch();return F?`rotateX(${F}deg)`:""}const A=a.radToDeg(a.globeTiltAtLngLat(c.transform,this._lngLat)),S=r.sub(a.globeCenterToScreenPoint(c.transform)),E=Math.abs(S.x)+Math.abs(S.y);if(E===0)return"";const M=A/E;return`rotateX(${-S.y*M}deg) rotateY(${S.x*M}deg)`}_calculateZTransform(){const r=this._pos,c=this._map;if(!c||!r)return"";let f=0;const A=this.getRotationAlignment();if(A==="map")if(c._showingGlobe()){const S=c.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),E=c.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(S);f=a.radToDeg(Math.atan2(E.y,E.x))-90}else f=-c.getBearing();else if(A==="horizon"){const S=a.smoothstep(4,6,c.getZoom()),E=a.globeCenterToScreenPoint(c.transform);E.y+=S*c.transform.height;const M=r.sub(E),F=a.radToDeg(Math.atan2(M.y,M.x));f=(F>90?F-270:F+90)*(1-S)}return f+=this._rotation,f?`rotateZ(${f}deg)`:""}_update(r){a.window.cancelAnimationFrame(this._updateFrameId);const c=this._map;c&&(c.transform.renderWorldCopies&&(this._lngLat=Ol(this._lngLat,this._pos,c.transform)),this._pos=c.project(this._lngLat),r===!0?this._updateFrameId=a.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),c._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(c._showingGlobe()||c.getTerrain()||c.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=a.pointGeometry.convert(r),this._update(),this}_onMove(r){const c=this._map;if(!c)return;const f=this._pointerdownPos,A=this._positionDelta;if(f&&A){if(!this._isDragging){const S=this._clickTolerance||c._clickTolerance;if(r.point.dist(f)<S)return;this._isDragging=!0}this._pos=r.point.sub(A),this._lngLat=c.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(r){const c=this._map,f=this._pos;c&&f&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(f),this._pointerdownPos=r.point,this._state="pending",c.on("mousemove",this._onMove),c.on("touchmove",this._onMove),c.once("mouseup",this._onUp),c.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const c=this._map;return c&&(r?(c.on("mousedown",this._addDragHandler),c.on("touchstart",this._addDragHandler)):(c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const p_={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ml=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function gu(d=new a.pointGeometry(0,0),r="bottom"){if(typeof d=="number"){const c=Math.round(Math.sqrt(.5*Math.pow(d,2)));switch(r){case"top":return new a.pointGeometry(0,d);case"top-left":return new a.pointGeometry(c,c);case"top-right":return new a.pointGeometry(-c,c);case"bottom":return new a.pointGeometry(0,-d);case"bottom-left":return new a.pointGeometry(c,-c);case"bottom-right":return new a.pointGeometry(-c,-c);case"left":return new a.pointGeometry(d,0);case"right":return new a.pointGeometry(-d,0)}return new a.pointGeometry(0,0)}return d instanceof a.pointGeometry||Array.isArray(d)?a.pointGeometry.convert(d):a.pointGeometry.convert(d[r]||[0,0])}class Ba{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const c=a.easeCubicInOut((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-c)+this._end*c}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,c,f){this._start=this.getValue(c),this._end=r,this._startTime=c,this._endTime=c+f}}const qa={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Tu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},m_={showCompass:!0,showZoom:!0,visualizePitch:!1};class uc{constructor(r,c,f=!1){this._clickTolerance=10,this.element=c,this.mouseRotate=new E_({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,f&&(this.mousePitch=new M_({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),c.addEventListener("mousedown",this.mousedown),c.addEventListener("touchstart",this.touchstart,{passive:!1}),c.addEventListener("touchmove",this.touchmove),c.addEventListener("touchend",this.touchend),c.addEventListener("touchcancel",this.reset)}down(r,c){this.mouseRotate.mousedown(r,c),this.mousePitch&&this.mousePitch.mousedown(r,c),Gt()}move(r,c){const f=this.map,A=this.mouseRotate.mousemoveWindow(r,c),S=A&&A.bearingDelta;if(S&&f.setBearing(f.getBearing()+S),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,c),M=E&&E.pitchDelta;M&&f.setPitch(f.getPitch()+M)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){xt(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(a.extend({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),Me(this.element,r)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,Me(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=it(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=it(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const m0={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},cc={maxWidth:100,unit:"metric"};function hc(d,r,c){const f=yu(r),A=f/r,S={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[c];this._map._requestDomTask(()=>{this._container.style.width=d*A+"px",this._container.innerHTML=`${f}&nbsp;${S}`})}function yu(d){const r=Math.pow(10,`${Math.floor(d)}`.length-1);let c=d/r;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:c>=1?1:function(f){const A=Math.pow(10,Math.ceil(-Math.log(f)/Math.LN10));return Math.round(f*A)/A}(c),r*c}const Bl={version:a.version,supported:Z,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends Fl{constructor(d){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),(d=a.extend({},Tu,d)).minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(d.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(d.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new u0(d.minZoom,d.maxZoom,d.minPitch,d.maxPitch,d.renderWorldCopies),d),this._interactive=d.interactive,this._minTileCacheSize=d.minTileCacheSize,this._maxTileCacheSize=d.maxTileCacheSize,this._failIfMajorPerformanceCaveat=d.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=d.preserveDrawingBuffer,this._antialias=d.antialias,this._trackResize=d.trackResize,this._bearingSnap=d.bearingSnap,this._refreshExpiredTiles=d.refreshExpiredTiles,this._fadeDuration=d.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=d.crossSourceCollisions,this._collectResourceTiming=d.collectResourceTiming,this._optimizeForTerrain=d.optimizeForTerrain,this._language=this._parseLanguage(d.language),this._worldview=d.worldview,this._renderTaskQueue=new Oa,this._domRenderTaskQueue=new Oa,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},qa,d.locale),this._clickTolerance=d.clickTolerance,this._cooperativeGestures=d.cooperativeGestures,this._performanceMetricsCollection=d.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Ba(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(d.transformRequest,d.accessToken,d.testMode),this._silenceAuthErrors=!!d.testMode,typeof d.container=="string"){if(this._container=a.window.document.getElementById(d.container),!this._container)throw new Error(`Container '${d.container}' not found.`)}else{if(!(d.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),d.maxBounds&&this.setMaxBounds(d.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Hl(this,d),this._localFontFamily=d.localFontFamily,this._localIdeographFontFamily=d.localIdeographFontFamily,d.style&&this.setStyle(d.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),d.projection&&this.setProjection(d.projection),this._hash=d.hash&&new Sn(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,a.extend({},d.fitBoundsOptions,{duration:0})))),this.resize(),d.attributionControl&&this.addControl(new R_({customAttribution:d.customAttribution})),this._logoControl=new d_,this.addControl(this._logoControl,d.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",r=>{this._update(r.dataType==="style"),this.fire(new a.Event(`${r.dataType}data`,r))}),this.on("dataloading",r=>{this.fire(new a.Event(`${r.dataType}dataloading`,r))})}_getMapId(){return this._mapId}addControl(d,r){if(r===void 0&&(r=d.getDefaultPosition?d.getDefaultPosition():"top-right"),!d||!d.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=d.onAdd(this);this._controls.push(d);const f=this._controlPositions[r];return r.indexOf("bottom")!==-1?f.insertBefore(c,f.firstChild):f.appendChild(c),this}removeControl(d){if(!d||!d.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(d);return r>-1&&this._controls.splice(r,1),d.onRemove(this),this}hasControl(d){return this._controls.indexOf(d)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(d){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new a.Event("movestart",d)).fire(new a.Event("move",d)),this.fire(new a.Event("resize",d)),r&&this.fire(new a.Event("moveend",d)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(d){return this.transform.setMaxBounds(a.LngLatBounds.convert(d)),this._update()}setMinZoom(d){if((d=d??-2)>=-2&&d<=this.transform.maxZoom)return this.transform.minZoom=d,this._update(),this.getZoom()<d?this.setZoom(d):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(d){if((d=d??22)>=this.transform.minZoom)return this.transform.maxZoom=d,this._update(),this.getZoom()>d?this.setZoom(d):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(d){if((d=d??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(d>=0&&d<=this.transform.maxPitch)return this.transform.minPitch=d,this._update(),this.getPitch()<d?this.setPitch(d):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(d){if((d=d??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(d>=this.transform.minPitch)return this.transform.maxPitch=d,this._update(),this.getPitch()>d?this.setPitch(d):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(d){return this.transform.renderWorldCopies=d,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(d){return d==="auto"?a.window.navigator.language:Array.isArray(d)?d.length===0?void 0:d.map(r=>r==="auto"?a.window.navigator.language:r):d}setLanguage(d){const r=this._parseLanguage(d);if(!this.style||r===this._language)return this;this._language=r,this.style._reloadSources();for(const c of this._controls)c._setLanguage&&c._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(d){return this.style&&d!==this._worldview?(this._worldview=d,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(d){return this._lazyInitEmptyStyle(),d?typeof d=="string"&&(d={name:d}):d=null,this._useExplicitProjection=!!d,this._prioritizeAndUpdateProjection(d,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const d=this.transform,r=d.projection.name;let c;r==="globe"&&d.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(d.setMercatorFromTransition(),c=!0):r==="mercator"&&d.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(d.setProjection({name:"globe"}),c=!0),c&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(d,r){return this._updateProjection(d||r||{name:"mercator"})}_updateProjection(d){let r;if(r=d.name==="globe"&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(d),this.style.applyProjectionUpdate(),r){this.painter.clearBackgroundTiles();for(const c in this.style._sourceCaches)this.style._sourceCaches[c].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(d){return this.transform.locationPoint3D(a.LngLat.convert(d))}unproject(d){return this.transform.pointLocation3D(a.pointGeometry.convert(d))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(d,r,c){if(d==="mouseenter"||d==="mouseover"){let f=!1;const A=E=>{const M=r.filter($=>this.getLayer($)),F=M.length?this.queryRenderedFeatures(E.point,{layers:M}):[];F.length?f||(f=!0,c.call(this,new Is(d,this,E.originalEvent,{features:F}))):f=!1},S=()=>{f=!1};return{layers:new Set(r),listener:c,delegates:{mousemove:A,mouseout:S}}}if(d==="mouseleave"||d==="mouseout"){let f=!1;const A=E=>{const M=r.filter(F=>this.getLayer(F));(M.length?this.queryRenderedFeatures(E.point,{layers:M}):[]).length?f=!0:f&&(f=!1,c.call(this,new Is(d,this,E.originalEvent)))},S=E=>{f&&(f=!1,c.call(this,new Is(d,this,E.originalEvent)))};return{layers:new Set(r),listener:c,delegates:{mousemove:A,mouseout:S}}}{const f=A=>{const S=r.filter(M=>this.getLayer(M)),E=S.length?this.queryRenderedFeatures(A.point,{layers:S}):[];E.length&&(A.features=E,c.call(this,A),delete A.features)};return{layers:new Set(r),listener:c,delegates:{[d]:f}}}}on(d,r,c){if(c===void 0)return super.on(d,r);Array.isArray(r)||(r=[r]);const f=this._createDelegatedListener(d,r,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[d]=this._delegatedListeners[d]||[],this._delegatedListeners[d].push(f);for(const A in f.delegates)this.on(A,f.delegates[A]);return this}once(d,r,c){if(c===void 0)return super.once(d,r);Array.isArray(r)||(r=[r]);const f=this._createDelegatedListener(d,r,c);for(const A in f.delegates)this.once(A,f.delegates[A]);return this}off(d,r,c){if(c===void 0)return super.off(d,r);r=new Set(Array.isArray(r)?r:[r]);const f=(S,E)=>{if(S.size!==E.size)return!1;for(const M of S)if(!E.has(M))return!1;return!0},A=this._delegatedListeners?this._delegatedListeners[d]:void 0;return A&&(S=>{for(let E=0;E<S.length;E++){const M=S[E];if(M.listener===c&&f(M.layers,r)){for(const F in M.delegates)this.off(F,M.delegates[F]);return S.splice(E,1),this}}})(A),this}queryRenderedFeatures(d,r){return this.style?(r!==void 0||d===void 0||d instanceof a.pointGeometry||Array.isArray(d)||(r=d,d=void 0),this.style.queryRenderedFeatures(d=d||[[0,0],[this.transform.width,this.transform.height]],r=r||{},this.transform)):[]}querySourceFeatures(d,r){return this.style.querySourceFeatures(d,r)}setStyle(d,r){return(r=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&r.localFontFamily===this._localFontFamily&&this.style&&d?(this._diffStyle(d,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(d,r))}_getUIString(d){const r=this._locale[d];if(r==null)throw new Error(`Missing UI string '${d}'`);return r}_updateStyle(d,r){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),d&&(this.style=new Ms(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof d=="string"?this.style.loadURL(d):this.style.loadJSON(d)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ms(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(d,r){if(typeof d=="string"){const c=this._requestManager.normalizeStyleURL(d),f=this._requestManager.transformRequest(c,a.ResourceType.Style);a.getJSON(f,(A,S)=>{A?this.fire(new a.ErrorEvent(A)):S&&this._updateDiff(S,r)})}else typeof d=="object"&&this._updateDiff(d,r)}_updateDiff(d,r){try{this.style.setState(d)&&this._update(!0)}catch(c){a.warnOnce(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(d,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(d,r){return this._lazyInitEmptyStyle(),this.style.addSource(d,r),this._update(!0)}isSourceLoaded(d){return!!this.style&&this.style._isSourceCacheLoaded(d)}areTilesLoaded(){const d=this.style&&this.style._sourceCaches;for(const r in d){const c=d[r]._tiles;for(const f in c){const A=c[f];if(A.state!=="loaded"&&A.state!=="errored")return!1}}return!0}addSourceType(d,r,c){this._lazyInitEmptyStyle(),this.style.addSourceType(d,r,c)}removeSource(d){return this.style.removeSource(d),this._updateTerrain(),this._update(!0)}getSource(d){return this.style.getSource(d)}addImage(d,r,{pixelRatio:c=1,sdf:f=!1,stretchX:A,stretchY:S,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&r instanceof a.window.ImageBitmap){const{width:M,height:F,data:$}=a.exported.getImageData(r);this.style.addImage(d,{data:new a.RGBAImage({width:M,height:F},$),pixelRatio:c,stretchX:A,stretchY:S,content:E,sdf:f,version:0})}else if(r.width===void 0||r.height===void 0)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:M,height:F}=r,$=r;this.style.addImage(d,{data:new a.RGBAImage({width:M,height:F},new Uint8Array($.data)),pixelRatio:c,stretchX:A,stretchY:S,content:E,sdf:f,version:0,userImage:$}),$.onAdd&&$.onAdd(this,d)}}updateImage(d,r){const c=this.style.getImage(d);if(!c)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=r instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&r instanceof a.window.ImageBitmap?a.exported.getImageData(r):r,{width:A,height:S}=f;A!==void 0&&S!==void 0?A===c.data.width&&S===c.data.height?(c.data.replace(f.data,!(r instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&r instanceof a.window.ImageBitmap)),this.style.updateImage(d,c)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${A}, ${S})
                must be that same as the previous version of the image
                (${c.data.width}, ${c.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(d){return d?!!this.style.getImage(d):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(d){this.style.removeImage(d)}loadImage(d,r){a.getImage(this._requestManager.transformRequest(d,a.ResourceType.Image),(c,f)=>{r(c,f instanceof a.window.HTMLImageElement?a.exported.getImageData(f):f)})}listImages(){return this.style.listImages()}addLayer(d,r){return this._lazyInitEmptyStyle(),this.style.addLayer(d,r),this._update(!0)}moveLayer(d,r){return this.style.moveLayer(d,r),this._update(!0)}removeLayer(d){return this.style.removeLayer(d),this._update(!0)}getLayer(d){return this.style.getLayer(d)}setLayerZoomRange(d,r,c){return this.style.setLayerZoomRange(d,r,c),this._update(!0)}setFilter(d,r,c={}){return this.style.setFilter(d,r,c),this._update(!0)}getFilter(d){return this.style.getFilter(d)}setPaintProperty(d,r,c,f={}){return this.style.setPaintProperty(d,r,c,f),this._update(!0)}getPaintProperty(d,r){return this.style.getPaintProperty(d,r)}setLayoutProperty(d,r,c,f={}){return this.style.setLayoutProperty(d,r,c,f),this._update(!0)}getLayoutProperty(d,r){return this.style.getLayoutProperty(d,r)}setLight(d,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(d,r),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(d){return this._lazyInitEmptyStyle(),!d&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(d),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(d){return this._lazyInitEmptyStyle(),this.style.setFog(d),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(d){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(d),this.transform):0}setFeatureState(d,r){return this.style.setFeatureState(d,r),this._update()}removeFeatureState(d,r){return this.style.removeFeatureState(d,r),this._update()}getFeatureState(d){return this.style.getFeatureState(d)}_updateContainerDimensions(){if(!this._container)return;const d=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let c,f,A,S=this._container;for(;S&&(!f||!A);){const E=a.window.getComputedStyle(S).transform;E&&E!=="none"&&(c=E.match(/matrix.*\((.+)\)/)[1].split(", "),c[0]&&c[0]!=="0"&&c[0]!=="1"&&(f=c[0]),c[3]&&c[3]!=="0"&&c[3]!=="1"&&(A=c[3])),S=S.parentElement}this._containerWidth=f?Math.abs(d/f):d,this._containerHeight=A?Math.abs(r/A):r}_detectMissingCSS(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const d=this._container;d.classList.add("mapboxgl-map"),(this._missingCSSCanary=rt("div","mapboxgl-canary",d)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=rt("div","mapboxgl-canvas-container",d);this._interactive&&r.classList.add("mapboxgl-interactive"),this._canvas=rt("canvas","mapboxgl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const c=this._controlContainer=rt("div","mapboxgl-control-container",d),f=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(A=>{f[A]=rt("div",`mapboxgl-ctrl-${A}`,c)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(d,r){const c=a.exported.devicePixelRatio||1;this._canvas.width=c*Math.ceil(d),this._canvas.height=c*Math.ceil(r),this._canvas.style.width=`${d}px`,this._canvas.style.height=`${r}px`}_addMarker(d){this._markers.push(d)}_removeMarker(d){const r=this._markers.indexOf(d);r!==-1&&this._markers.splice(r,1)}_addPopup(d){this._popups.push(d)}_removePopup(d){const r=this._popups.indexOf(d);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const d=a.extend({},Z.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",d)||this._canvas.getContext("experimental-webgl",d);r?(a.storeAuthState(r,!0),this.painter=new Ku(r,this.transform),this.on("data",c=>{c.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.exported$1.testSupport(r)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(d){d.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:d}))}_contextRestored(d){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:d}))}_onMapScroll(d){if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(d){return this.style?(this._styleDirty=this._styleDirty||d,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(d){return this._update(),this._renderTaskQueue.add(d)}_cancelRenderFrame(d){this._renderTaskQueue.remove(d)}_requestDomTask(d){!this.loaded()||this.loaded()&&!this.isMoving()?d():this._domRenderTaskQueue.add(d)}_render(d){let r;const c=this.painter.context.extTimerQuery,f=a.exported.now();if(this.listens("gpu-timing-frame")&&(r=c.createQueryEXT(),c.beginQueryEXT(c.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(d),this._domRenderTaskQueue.run(d),this._removed)return;this._updateProjectionTransition();const A=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const M=this.transform.zoom,F=this.transform.pitch,$=a.exported.now(),q=new a.EvaluationParameters(M,{now:$,fadeDuration:A,pitch:F,transition:this.style.getTransition()});this.style.update(q)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let S=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),S=this._updateAverageElevation(f),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):S=this._updateAverageElevation(f),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,A,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:A,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const M=a.exported.now()-f;c.endQueryEXT(c.TIME_ELAPSED_EXT,r),setTimeout(()=>{const F=c.getQueryObjectEXT(r,c.QUERY_RESULT_EXT)/1e6;c.deleteQueryEXT(r),this.fire(new a.Event("gpu-timing-frame",{cpuTime:M,gpuTime:F})),a.window.performance.mark("frame-gpu",{startTime:f,detail:{gpuTime:F}})},50)}if(this.listens("gpu-timing-layer")){const M=this.painter.collectGpuTimers();setTimeout(()=>{const F=this.painter.queryGpuTimers(M);this.fire(new a.Event("gpu-timing-layer",{layerTimes:F}))},50)}if(this.listens("gpu-timing-deferred-render")){const M=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const F=this.painter.queryGpuTimeDeferredRender(M);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:F}))},50)}const E=this._sourcesDirty||this._styleDirty||this._placementDirty||S;if(E||this._repaint)this.triggerRepaint();else{const M=!this.isMoving()&&this.loaded();if(M&&(S=this._updateAverageElevation(f,!0)),S)this.triggerRepaint();else if(this._triggerFrame(!1),M&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const F=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:F})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||E||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(d){for(const r of this._markers)d&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!d||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(d,r=!1){const c=f=>(this.transform.averageElevation=f,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&c(0);if((r||d-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(d)){const f=this.transform.averageElevation;let A=this.transform.sampleAverageElevation(),S=!1;this.transform.elevation&&(S=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(A)?A=0:this._averageElevationLastSampledAt=d;const E=Math.abs(f-A);if(E>1){if(this._isInitialLoad||S)return this._averageElevation.jumpTo(A),c(A);this._averageElevation.easeTo(A,d,300)}else if(E>1e-4)return this._averageElevation.jumpTo(A),c(A)}return!!this._averageElevation.isEasing(d)&&c(this._averageElevation.getValue(d))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,d=>{if(d&&(d.message===a.AUTH_ERR_MSG||d.status===401)){const r=this.painter.context.gl;a.storeAuthState(r,!1),this._logoControl instanceof d_&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const d=this._isDragging();this.painter.updateTerrain(this.style,d)}_calculateSpeedIndex(){const d=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const c=this.painter.context.gl,f=c.createFramebuffer();function A(S){c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,S,0);const E=new Uint8Array(c.drawingBufferWidth*c.drawingBufferHeight*4);return c.readPixels(0,0,c.drawingBufferWidth,c.drawingBufferHeight,c.RGBA,c.UNSIGNED_BYTE,E),E}return c.bindFramebuffer(c.FRAMEBUFFER,f),this._canvasPixelComparison(A(d),r.canvasCopies.map(A),r.timeStamps)}_canvasPixelComparison(d,r,c){let f=c[1]-c[0];const A=d.length/4;for(let S=0;S<r.length;S++){const E=r[S];let M=0;for(let F=0;F<E.length;F+=4)E[F]===d[F]&&E[F+1]===d[F+1]&&E[F+2]===d[F+2]&&E[F+3]===d[F+3]&&(M+=1);f+=(c[S+2]-c[S+1])*(1-M/A)}return f}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const d=this.painter.context.gl.getExtension("WEBGL_lose_context");d&&d.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(d){this._renderNextFrame=this._renderNextFrame||d,this.style&&!this._frame&&(this._frame=a.exported.frame(r=>{const c=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,c&&this._render(r)}))}_preloadTiles(d){const r=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(r,(c,f)=>c._preloadTiles(d,f),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(d){this._trackResize&&this.resize({originalEvent:d})._update()}_onVisibilityChange(){a.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(d){this._showTileBoundaries!==d&&(this._showTileBoundaries=d,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(d){this._showTerrainWireframe!==d&&(this._showTerrainWireframe=d,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(d){this._speedIndexTiming!==d&&(this._speedIndexTiming=d,this._update())}get showPadding(){return!!this._showPadding}set showPadding(d){this._showPadding!==d&&(this._showPadding=d,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(d){this._showCollisionBoxes!==d&&(this._showCollisionBoxes=d,d?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(d){this._showOverdrawInspector!==d&&(this._showOverdrawInspector=d,this._update())}get repaint(){return!!this._repaint}set repaint(d){this._repaint!==d&&(this._repaint=d,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(d){this._vertices=d,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(d){this._showTileAABBs!==d&&(this._showTileAABBs=d,d&&this._update())}_setCacheLimits(d,r){a.setCacheLimits(d,r)}get version(){return a.version}},NavigationControl:class{constructor(d){this.options=a.extend({},m_,d),this._container=rt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),rt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),rt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const c=this._map;c&&(this.options.visualizePitch?c.resetNorthPitch({},{originalEvent:r}):c.resetNorth({},{originalEvent:r}))}),this._compassIcon=rt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const d=this._map;if(!d)return;const r=d.getZoom(),c=r===d.getMaxZoom(),f=r===d.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())}_rotateCompassArrow(){const d=this._map;if(!d)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(d.transform.pitch*(Math.PI/180)),.5)}) rotateX(${d.transform.pitch}deg) rotateZ(${d.transform.angle*(180/Math.PI)}deg)`:`rotate(${d.transform.angle*(180/Math.PI)}deg)`;d._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(d){return this._map=d,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),d.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&d.on("pitch",this._rotateCompassArrow),d.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new uc(d,this._compass,this.options.visualizePitch)),this._container}onRemove(){const d=this._map;d&&(this._container.remove(),this.options.showZoom&&d.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&d.off("pitch",this._rotateCompassArrow),d.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(d,r){const c=rt("button",d,this._container);return c.type="button",c.addEventListener("click",r),c}_setButtonTitle(d,r){if(!this._map)return;const c=this._map._getUIString(`NavigationControl.${r}`);d.setAttribute("aria-label",c),d.firstElementChild&&d.firstElementChild.setAttribute("title",c)}},GeolocateControl:class extends a.Evented{constructor(d){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},m0,d),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=kl(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(d){return this._map=d,this._container=rt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(d){const r=(c=!!this.options.geolocation)=>{this._supportsGeolocation=c,d(c)};this._supportsGeolocation!==void 0?d(this._supportsGeolocation):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(c=>r(c.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(d){const r=this._map.getMaxBounds(),c=d.coords;return!!r&&(c.longitude<r.getWest()||c.longitude>r.getEast()||c.latitude<r.getSouth()||c.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(d){if(this._map){if(this._isOutOfMapMaxBounds(d))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",d)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=d,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(d),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(d),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",d)),this._finish()}}_updateCamera(d){const r=new a.LngLat(d.coords.longitude,d.coords.latitude),c=d.coords.accuracy,f=this._map.getBearing(),A=a.extend({bearing:f},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(c),A,{geolocateSource:!0})}_updateMarker(d){if(d){const r=new a.LngLat(d.coords.longitude,d.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=d.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const d=this._map.transform,r=a.mercatorZfromAltitude(1,d._center.lat)*d.worldSize,c=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${c}px`,this._circleElement.style.height=`${c}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(d){if(this._map){if(this.options.trackUserLocation)if(d.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(d.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",d)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(d){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=rt("button","mapboxgl-ctrl-geolocate",this._container),rt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",d===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=rt("div","mapboxgl-user-location"),this._dotElement.appendChild(rt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(rt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new pl({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=rt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}}_onDeviceOrientation(d){this._userLocationDotMarker&&(d.webkitCompassHeading?this._heading=d.webkitCompassHeading:d.absolute===!0&&(this._heading=-1*d.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let d;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(d={maximumAge:6e5,timeout:0},this._noTimeout=!0):(d=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,d),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const d=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};a.window.DeviceMotionEvent!==void 0&&typeof a.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&d()}).catch(console.error):d()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:R_,ScaleControl:class{constructor(d){this.options=a.extend({},cc,d),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=hc.bind(this)),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const d=this.options.maxWidth||100,r=this._map,c=r._containerHeight/2,f=r._containerWidth/2-d/2,A=r.unproject([f,c]),S=r.unproject([f+d,c]),E=A.distanceTo(S);if(this.options.unit==="imperial"){const M=3.2808*E;M>5280?this._setScale(d,M/5280,"mile"):this._setScale(d,M,"foot")}else this.options.unit==="nautical"?this._setScale(d,E/1852,"nautical-mile"):E>=1e3?this._setScale(d,E/1e3,"kilometer"):this._setScale(d,E,"meter")}_setScale(d,r,c){const f=yu(r),A=f/r;this._map._requestDomTask(()=>{this._container.style.width=d*A+"px",this._container.innerHTML=c!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:c}).format(f):`${f}&nbsp;nm`})}onAdd(d){return this._map=d,this._language=d.getLanguage(),this._container=rt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",d.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(d){this._language=d,this._update()}setUnit(d){this.options.unit=d,this._update()}},FullscreenControl:class{constructor(d){this._fullscreen=!1,d&&d.container&&(d.container instanceof a.window.HTMLElement?this._container=d.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(d){return this._map=d,this._container||(this._container=this._map.getContainer()),this._controlContainer=rt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const d=this._fullscreenButton=rt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);rt("span","mapboxgl-ctrl-icon",d).setAttribute("aria-hidden","true"),d.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const d=this._getTitle();this._fullscreenButton.setAttribute("aria-label",d),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",d)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(d){super(),this.options=a.extend(Object.create(p_),d),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(d&&d.className?d.className.trim().split(/\s+/):[])}addTo(d){return this._map&&this.remove(),this._map=d,this.options.closeOnClick&&d.on("preclick",this._onClose),this.options.closeOnMove&&d.on("move",this._onClose),d.on("remove",this.remove),this._update(),d._addPopup(this),this._focusFirstElement(),this._trackPointer?(d.on("mousemove",this._onMouseEvent),d.on("mouseup",this._onMouseEvent),d._canvasContainer.classList.add("mapboxgl-track-pointer")):d.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const d=this._map;return d&&(d.off("move",this._update),d.off("move",this._onClose),d.off("preclick",this._onClose),d.off("click",this._onClose),d.off("remove",this.remove),d.off("mousemove",this._onMouseEvent),d.off("mouseup",this._onMouseEvent),d.off("drag",this._onMouseEvent),d._canvasContainer&&d._canvasContainer.classList.remove("mapboxgl-track-pointer"),d._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(d){this._lngLat=a.LngLat.convert(d),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const d=this._map;return d&&(d.off("move",this._update),d.on("mousemove",this._onMouseEvent),d.on("drag",this._onMouseEvent),d._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(d){return this.setDOMContent(a.window.document.createTextNode(d))}setHTML(d){const r=a.window.document.createDocumentFragment(),c=a.window.document.createElement("body");let f;for(c.innerHTML=d;f=c.firstChild,f;)r.appendChild(f);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(d){return this.options.maxWidth=d,this._update(),this}setDOMContent(d){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=rt("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(d),this.options.closeButton){const c=this._closeButton=rt("button","mapboxgl-popup-close-button",r);c.type="button",c.setAttribute("aria-label","Close popup"),c.setAttribute("aria-hidden","true"),c.innerHTML="&#215;",c.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(d){return this._classList.add(d),this._updateClassList(),this}removeClassName(d){return this._classList.delete(d),this._updateClassList(),this}setOffset(d){return this.options.offset=d,this._update(),this}toggleClassName(d){let r;return this._classList.delete(d)?r=!1:(this._classList.add(d),r=!0),this._updateClassList(),r}_onMouseEvent(d){this._update(d.point)}_getAnchor(d){if(this.options.anchor)return this.options.anchor;const r=this._map,c=this._container,f=this._pos;if(!r||!c||!f)return"bottom";const A=c.offsetWidth,S=c.offsetHeight,E=f.x<A/2,M=f.x>r.transform.width-A/2;if(f.y+d<S)return E?"top-left":M?"top-right":"top";if(f.y>r.transform.height-S){if(E)return"bottom-left";if(M)return"bottom-right"}return E?"left":M?"right":"bottom"}_updateClassList(){const d=this._container;if(!d)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),d.className=r.join(" ")}_update(d){const r=this._map,c=this._content;if(!r||!this._lngLat&&!this._trackPointer||!c)return;let f=this._container;if(f||(f=this._container=rt("div","mapboxgl-popup",r.getContainer()),this._tip=rt("div","mapboxgl-popup-tip",f),f.appendChild(c)),this.options.maxWidth&&f.style.maxWidth!==this.options.maxWidth&&(f.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ol(this._lngLat,this._pos,r.transform)),!this._trackPointer||d){const A=this._pos=this._trackPointer&&d?d:r.project(this._lngLat),S=gu(this.options.offset),E=this._anchor=this._getAnchor(S.y),M=gu(this.options.offset,E),F=A.add(M).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${dl[E]} translate(${F.x}px,${F.y}px)`)})}if(!this._marker&&r._showingGlobe()){const A=a.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(A)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const d=this._container.querySelector(ml);d&&d.focus()}_onClose(){this.remove()}_setOpacity(d){this._container&&(this._container.style.opacity=`${d}`),this._content&&(this._content.style.pointerEvents=d?"auto":"none")}},Marker:pl,Style:Ms,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.pointGeometry,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:cu,Evented:a.Evented,config:a.config,prewarm:function(){ir().acquire(Vn)},clearPrewarmedResources:function(){const d=Dn;d&&(d.isPreloaded()&&d.numActive()===1?(d.release(Vn),Dn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(d){a.config.ACCESS_TOKEN=d},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(d){a.config.API_URL=d},get workerCount(){return Jn.workerCount},set workerCount(d){Jn.workerCount=d},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(d){a.config.MAX_PARALLEL_IMAGE_REQUESTS=d},clearStorage(d){a.clearTileCache(d)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return Bl});var O=G;return O})})(om);const Pf=om.exports;var j0=63710088e-1,Nf={centimeters:j0*100,centimetres:j0*100,degrees:j0/111325,feet:j0*3.28084,inches:j0*39.37,kilometers:j0/1e3,kilometres:j0/1e3,meters:j0,metres:j0,miles:j0/1609.344,millimeters:j0*1e3,millimetres:j0*1e3,nauticalmiles:j0/1852,radians:1,yards:j0*1.0936};function N2(k,H,g){g===void 0&&(g={});var L={type:"Feature"};return(g.id===0||g.id)&&(L.id=g.id),g.bbox&&(L.bbox=g.bbox),L.properties=H||{},L.geometry=k,L}function wf(k,H,g){if(g===void 0&&(g={}),!k)throw new Error("coordinates is required");if(!Array.isArray(k))throw new Error("coordinates must be an Array");if(k.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!H3(k[0])||!H3(k[1]))throw new Error("coordinates must contain numbers");var L={type:"Point",coordinates:k};return N2(L,H,g)}function lm(k,H,g){g===void 0&&(g={});for(var L=0,G=k;L<G.length;L++){var J=G[L];if(J.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var O=0;O<J[J.length-1].length;O++)if(J[J.length-1][O]!==J[0][O])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:k};return N2(a,H,g)}function Ef(k,H,g){g===void 0&&(g={});var L={type:"MultiPolygon",coordinates:k};return N2(L,H,g)}function Mf(k,H){H===void 0&&(H="kilometers");var g=Nf[H];if(!g)throw new Error(H+" units is invalid");return k/g}function R3(k){var H=k%(2*Math.PI);return H*180/Math.PI}function s2(k){var H=k%360;return H*Math.PI/180}function H3(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)}function If(k){if(!k)throw new Error("coord is required");if(!Array.isArray(k)){if(k.type==="Feature"&&k.geometry!==null&&k.geometry.type==="Point")return k.geometry.coordinates;if(k.type==="Point")return k.coordinates}if(Array.isArray(k)&&k.length>=2&&!Array.isArray(k[0])&&!Array.isArray(k[1]))return k;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function F3(k){return k.type==="Feature"?k.geometry:k}function kf(k,H,g,L){L===void 0&&(L={});var G=If(k),J=s2(G[0]),O=s2(G[1]),a=s2(g),j=Mf(H,L.units),Z=Math.asin(Math.sin(O)*Math.cos(j)+Math.cos(O)*Math.sin(j)*Math.cos(a)),ye=J+Math.atan2(Math.sin(a)*Math.sin(j)*Math.cos(O),Math.cos(j)-Math.sin(O)*Math.sin(Z)),me=R3(ye),rt=R3(Z);return wf([me,rt],L.properties)}function Lf(k,H,g){g===void 0&&(g={});for(var L=g.steps||64,G=g.properties?g.properties:!Array.isArray(k)&&k.type==="Feature"&&k.properties?k.properties:{},J=[],O=0;O<L;O++)J.push(kf(k,H,O*-360/L,g).geometry.coordinates);return J.push(J[0]),lm([J],G)}function Df(k,H){var g={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},L,G,J,O;return O={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function a(Z){return function(ye){return j([Z,ye])}}function j(Z){if(L)throw new TypeError("Generator is already executing.");for(;g;)try{if(L=1,G&&(J=Z[0]&2?G.return:Z[0]?G.throw||((J=G.return)&&J.call(G),0):G.next)&&!(J=J.call(G,Z[1])).done)return J;switch(G=0,J&&(Z=[Z[0]&2,J.value]),Z[0]){case 0:case 1:J=Z;break;case 4:return g.label++,{value:Z[1],done:!1};case 5:g.label++,G=Z[1],Z=[0];continue;case 7:Z=g.ops.pop(),g.trys.pop();continue;default:if(J=g.trys,!(J=J.length>0&&J[J.length-1])&&(Z[0]===6||Z[0]===2)){g=0;continue}if(Z[0]===3&&(!J||Z[1]>J[0]&&Z[1]<J[3])){g.label=Z[1];break}if(Z[0]===6&&g.label<J[1]){g.label=J[1],J=Z;break}if(J&&g.label<J[2]){g.label=J[2],g.ops.push(Z);break}J[2]&&g.ops.pop(),g.trys.pop();continue}Z=H.call(k,g)}catch(ye){Z=[6,ye],G=0}finally{L=J=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}var Oc=function(){function k(H,g){this.next=null,this.key=H,this.data=g,this.left=null,this.right=null}return k}();function Rf(k,H){return k>H?1:k<H?-1:0}function Hc(k,H,g){for(var L=new Oc(null,null),G=L,J=L;;){var O=g(k,H.key);if(O<0){if(H.left===null)break;if(g(k,H.left.key)<0){var a=H.left;if(H.left=a.right,a.right=H,H=a,H.left===null)break}J.left=H,J=H,H=H.left}else if(O>0){if(H.right===null)break;if(g(k,H.right.key)>0){var a=H.right;if(H.right=a.left,a.left=H,H=a,H.right===null)break}G.right=H,G=H,H=H.right}else break}return G.right=H.left,J.left=H.right,H.left=L.right,H.right=L.left,H}function o2(k,H,g,L){var G=new Oc(k,H);if(g===null)return G.left=G.right=null,G;g=Hc(k,g,L);var J=L(k,g.key);return J<0?(G.left=g.left,G.right=g,g.left=null):J>=0&&(G.right=g.right,G.left=g,g.right=null),G}function O3(k,H,g){var L=null,G=null;if(H){H=Hc(k,H,g);var J=g(H.key,k);J===0?(L=H.left,G=H.right):J<0?(G=H.right,H.right=null,L=H):(L=H.left,H.left=null,G=H)}return{left:L,right:G}}function Hf(k,H,g){return H===null?k:(k===null||(H=Hc(k.key,H,g),H.left=k),H)}function d2(k,H,g,L,G){if(k){L(""+H+(g?"└── ":"├── ")+G(k)+`
`);var J=H+(g?"    ":"│   ");k.left&&d2(k.left,J,!1,L,G),k.right&&d2(k.right,J,!0,L,G)}}var w2=function(){function k(H){H===void 0&&(H=Rf),this._root=null,this._size=0,this._comparator=H}return k.prototype.insert=function(H,g){return this._size++,this._root=o2(H,g,this._root,this._comparator)},k.prototype.add=function(H,g){var L=new Oc(H,g);this._root===null&&(L.left=L.right=null,this._size++,this._root=L);var G=this._comparator,J=Hc(H,this._root,G),O=G(H,J.key);return O===0?this._root=J:(O<0?(L.left=J.left,L.right=J,J.left=null):O>0&&(L.right=J.right,L.left=J,J.right=null),this._size++,this._root=L),this._root},k.prototype.remove=function(H){this._root=this._remove(H,this._root,this._comparator)},k.prototype._remove=function(H,g,L){var G;if(g===null)return null;g=Hc(H,g,L);var J=L(H,g.key);return J===0?(g.left===null?G=g.right:(G=Hc(H,g.left,L),G.right=g.right),this._size--,G):g},k.prototype.pop=function(){var H=this._root;if(H){for(;H.left;)H=H.left;return this._root=Hc(H.key,this._root,this._comparator),this._root=this._remove(H.key,this._root,this._comparator),{key:H.key,data:H.data}}return null},k.prototype.findStatic=function(H){for(var g=this._root,L=this._comparator;g;){var G=L(H,g.key);if(G===0)return g;G<0?g=g.left:g=g.right}return null},k.prototype.find=function(H){return this._root&&(this._root=Hc(H,this._root,this._comparator),this._comparator(H,this._root.key)!==0)?null:this._root},k.prototype.contains=function(H){for(var g=this._root,L=this._comparator;g;){var G=L(H,g.key);if(G===0)return!0;G<0?g=g.left:g=g.right}return!1},k.prototype.forEach=function(H,g){for(var L=this._root,G=[],J=!1;!J;)L!==null?(G.push(L),L=L.left):G.length!==0?(L=G.pop(),H.call(g,L),L=L.right):J=!0;return this},k.prototype.range=function(H,g,L,G){for(var J=[],O=this._comparator,a=this._root,j;J.length!==0||a;)if(a)J.push(a),a=a.left;else{if(a=J.pop(),j=O(a.key,g),j>0)break;if(O(a.key,H)>=0&&L.call(G,a))return this;a=a.right}return this},k.prototype.keys=function(){var H=[];return this.forEach(function(g){var L=g.key;return H.push(L)}),H},k.prototype.values=function(){var H=[];return this.forEach(function(g){var L=g.data;return H.push(L)}),H},k.prototype.min=function(){return this._root?this.minNode(this._root).key:null},k.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},k.prototype.minNode=function(H){if(H===void 0&&(H=this._root),H)for(;H.left;)H=H.left;return H},k.prototype.maxNode=function(H){if(H===void 0&&(H=this._root),H)for(;H.right;)H=H.right;return H},k.prototype.at=function(H){for(var g=this._root,L=!1,G=0,J=[];!L;)if(g)J.push(g),g=g.left;else if(J.length>0){if(g=J.pop(),G===H)return g;G++,g=g.right}else L=!0;return null},k.prototype.next=function(H){var g=this._root,L=null;if(H.right){for(L=H.right;L.left;)L=L.left;return L}for(var G=this._comparator;g;){var J=G(H.key,g.key);if(J===0)break;J<0?(L=g,g=g.left):g=g.right}return L},k.prototype.prev=function(H){var g=this._root,L=null;if(H.left!==null){for(L=H.left;L.right;)L=L.right;return L}for(var G=this._comparator;g;){var J=G(H.key,g.key);if(J===0)break;J<0?g=g.left:(L=g,g=g.right)}return L},k.prototype.clear=function(){return this._root=null,this._size=0,this},k.prototype.toList=function(){return Of(this._root)},k.prototype.load=function(H,g,L){g===void 0&&(g=[]),L===void 0&&(L=!1);var G=H.length,J=this._comparator;if(L&&f2(H,g,0,G-1,J),this._root===null)this._root=p2(H,g,0,G),this._size=G;else{var O=Bf(this.toList(),Ff(H,g),J);G=this._size+G,this._root=m2({head:O},0,G)}return this},k.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(k.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),k.prototype.toString=function(H){H===void 0&&(H=function(L){return String(L.key)});var g=[];return d2(this._root,"",!0,function(L){return g.push(L)},H),g.join("")},k.prototype.update=function(H,g,L){var G=this._comparator,J=O3(H,this._root,G),O=J.left,a=J.right;G(H,g)<0?a=o2(g,L,a,G):O=o2(g,L,O,G),this._root=Hf(O,a,G)},k.prototype.split=function(H){return O3(H,this._root,this._comparator)},k.prototype[Symbol.iterator]=function(){var H;return Df(this,function(g){switch(g.label){case 0:H=this.minNode(),g.label=1;case 1:return H?[4,H]:[3,3];case 2:return g.sent(),H=this.next(H),[3,1];case 3:return[2]}})},k}();function p2(k,H,g,L){var G=L-g;if(G>0){var J=g+Math.floor(G/2),O=k[J],a=H[J],j=new Oc(O,a);return j.left=p2(k,H,g,J),j.right=p2(k,H,J+1,L),j}return null}function Ff(k,H){for(var g=new Oc(null,null),L=g,G=0;G<k.length;G++)L=L.next=new Oc(k[G],H[G]);return L.next=null,g.next}function Of(k){for(var H=k,g=[],L=!1,G=new Oc(null,null),J=G;!L;)H?(g.push(H),H=H.left):g.length>0?(H=J=J.next=g.pop(),H=H.right):L=!0;return J.next=null,G.next}function m2(k,H,g){var L=g-H;if(L>0){var G=H+Math.floor(L/2),J=m2(k,H,G),O=k.head;return O.left=J,k.head=k.head.next,O.right=m2(k,G+1,g),O}return null}function Bf(k,H,g){for(var L=new Oc(null,null),G=L,J=k,O=H;J!==null&&O!==null;)g(J.key,O.key)<0?(G.next=J,J=J.next):(G.next=O,O=O.next),G=G.next;return J!==null?G.next=J:O!==null&&(G.next=O),L.next}function f2(k,H,g,L,G){if(!(g>=L)){for(var J=k[g+L>>1],O=g-1,a=L+1;;){do O++;while(G(k[O],J)<0);do a--;while(G(k[a],J)>0);if(O>=a)break;var j=k[O];k[O]=k[a],k[a]=j,j=H[O],H[O]=H[a],H[a]=j}f2(k,H,g,a,G),f2(k,H,a+1,L,G)}}function Kl(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}function B3(k,H){for(var g=0;g<H.length;g++){var L=H[g];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}function x0(k,H,g){return H&&B3(k.prototype,H),g&&B3(k,g),k}var m1=function(H,g){return H.ll.x<=g.x&&g.x<=H.ur.x&&H.ll.y<=g.y&&g.y<=H.ur.y},g2=function(H,g){if(g.ur.x<H.ll.x||H.ur.x<g.ll.x||g.ur.y<H.ll.y||H.ur.y<g.ll.y)return null;var L=H.ll.x<g.ll.x?g.ll.x:H.ll.x,G=H.ur.x<g.ur.x?H.ur.x:g.ur.x,J=H.ll.y<g.ll.y?g.ll.y:H.ll.y,O=H.ur.y<g.ur.y?H.ur.y:g.ur.y;return{ll:{x:L,y:J},ur:{x:G,y:O}}},Fc=Number.EPSILON;Fc===void 0&&(Fc=Math.pow(2,-52));var Gf=Fc*Fc,T2=function(H,g){if(-Fc<H&&H<Fc&&-Fc<g&&g<Fc)return 0;var L=H-g;return L*L<Gf*H*g?0:H<g?-1:1},Wf=function(){function k(){Kl(this,k),this.reset()}return x0(k,[{key:"reset",value:function(){this.xRounder=new G3,this.yRounder=new G3}},{key:"round",value:function(g,L){return{x:this.xRounder.round(g),y:this.yRounder.round(L)}}}]),k}(),G3=function(){function k(){Kl(this,k),this.tree=new w2,this.round(0)}return x0(k,[{key:"round",value:function(g){var L=this.tree.add(g),G=this.tree.prev(L);if(G!==null&&T2(L.key,G.key)===0)return this.tree.remove(g),G.key;var J=this.tree.next(L);return J!==null&&T2(L.key,J.key)===0?(this.tree.remove(g),J.key):g}}]),k}(),b1=new Wf,g1=function(H,g){return H.x*g.y-H.y*g.x},_m=function(H,g){return H.x*g.x+H.y*g.y},W3=function(H,g,L){var G={x:g.x-H.x,y:g.y-H.y},J={x:L.x-H.x,y:L.y-H.y},O=g1(G,J);return T2(O,0)},Ap=function(H){return Math.sqrt(_m(H,H))},Uf=function(H,g,L){var G={x:g.x-H.x,y:g.y-H.y},J={x:L.x-H.x,y:L.y-H.y};return g1(J,G)/Ap(J)/Ap(G)},zf=function(H,g,L){var G={x:g.x-H.x,y:g.y-H.y},J={x:L.x-H.x,y:L.y-H.y};return _m(J,G)/Ap(J)/Ap(G)},U3=function(H,g,L){return g.y===0?null:{x:H.x+g.x/g.y*(L-H.y),y:L}},z3=function(H,g,L){return g.x===0?null:{x:L,y:H.y+g.y/g.x*(L-H.x)}},Vf=function(H,g,L,G){if(g.x===0)return z3(L,G,H.x);if(G.x===0)return z3(H,g,L.x);if(g.y===0)return U3(L,G,H.y);if(G.y===0)return U3(H,g,L.y);var J=g1(g,G);if(J==0)return null;var O={x:L.x-H.x,y:L.y-H.y},a=g1(O,g)/J,j=g1(O,G)/J,Z=H.x+j*g.x,ye=L.x+a*G.x,me=H.y+j*g.y,rt=L.y+a*G.y,ht=(Z+ye)/2,Ht=(me+rt)/2;return{x:ht,y:Ht}},Q_=function(){x0(k,null,[{key:"compare",value:function(g,L){var G=k.comparePoints(g.point,L.point);return G!==0?G:(g.point!==L.point&&g.link(L),g.isLeft!==L.isLeft?g.isLeft?1:-1:bp.compare(g.segment,L.segment))}},{key:"comparePoints",value:function(g,L){return g.x<L.x?-1:g.x>L.x?1:g.y<L.y?-1:g.y>L.y?1:0}}]);function k(H,g){Kl(this,k),H.events===void 0?H.events=[this]:H.events.push(this),this.point=H,this.isLeft=g}return x0(k,[{key:"link",value:function(g){if(g.point===this.point)throw new Error("Tried to link already linked events");for(var L=g.point.events,G=0,J=L.length;G<J;G++){var O=L[G];this.point.events.push(O),O.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var g=this.point.events.length,L=0;L<g;L++){var G=this.point.events[L];if(G.segment.consumedBy===void 0)for(var J=L+1;J<g;J++){var O=this.point.events[J];O.consumedBy===void 0&&G.otherSE.point.events===O.otherSE.point.events&&G.segment.consume(O.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var g=[],L=0,G=this.point.events.length;L<G;L++){var J=this.point.events[L];J!==this&&!J.segment.ringOut&&J.segment.isInResult()&&g.push(J)}return g}},{key:"getLeftmostComparator",value:function(g){var L=this,G=new Map,J=function(a){var j=a.otherSE;G.set(a,{sine:Uf(L.point,g.point,j.point),cosine:zf(L.point,g.point,j.point)})};return function(O,a){G.has(O)||J(O),G.has(a)||J(a);var j=G.get(O),Z=j.sine,ye=j.cosine,me=G.get(a),rt=me.sine,ht=me.cosine;return Z>=0&&rt>=0?ye<ht?1:ye>ht?-1:0:Z<0&&rt<0?ye<ht?-1:ye>ht?1:0:rt<Z?-1:rt>Z?1:0}}}]),k}(),Jf=0,bp=function(){x0(k,null,[{key:"compare",value:function(g,L){var G=g.leftSE.point.x,J=L.leftSE.point.x,O=g.rightSE.point.x,a=L.rightSE.point.x;if(a<G)return 1;if(O<J)return-1;var j=g.leftSE.point.y,Z=L.leftSE.point.y,ye=g.rightSE.point.y,me=L.rightSE.point.y;if(G<J){if(Z<j&&Z<ye)return 1;if(Z>j&&Z>ye)return-1;var rt=g.comparePoint(L.leftSE.point);if(rt<0)return 1;if(rt>0)return-1;var ht=L.comparePoint(g.rightSE.point);return ht!==0?ht:-1}if(G>J){if(j<Z&&j<me)return-1;if(j>Z&&j>me)return 1;var Ht=L.comparePoint(g.leftSE.point);if(Ht!==0)return Ht;var Se=g.comparePoint(L.rightSE.point);return Se<0?1:Se>0?-1:1}if(j<Z)return-1;if(j>Z)return 1;if(O<a){var Be=L.comparePoint(g.rightSE.point);if(Be!==0)return Be}if(O>a){var Gt=g.comparePoint(L.rightSE.point);if(Gt<0)return 1;if(Gt>0)return-1}if(O!==a){var xt=ye-j,fi=O-G,Fi=me-Z,Me=a-J;if(xt>fi&&Fi<Me)return 1;if(xt<fi&&Fi>Me)return-1}return O>a?1:O<a||ye<me?-1:ye>me?1:g.id<L.id?-1:g.id>L.id?1:0}}]);function k(H,g,L,G){Kl(this,k),this.id=++Jf,this.leftSE=H,H.segment=this,H.otherSE=g,this.rightSE=g,g.segment=this,g.otherSE=H,this.rings=L,this.windings=G}return x0(k,[{key:"replaceRightSE",value:function(g){this.rightSE=g,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var g=this.leftSE.point.y,L=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:g<L?g:L},ur:{x:this.rightSE.point.x,y:g>L?g:L}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(g){return g.x===this.leftSE.point.x&&g.y===this.leftSE.point.y||g.x===this.rightSE.point.x&&g.y===this.rightSE.point.y}},{key:"comparePoint",value:function(g){if(this.isAnEndpoint(g))return 0;var L=this.leftSE.point,G=this.rightSE.point,J=this.vector();if(L.x===G.x)return g.x===L.x?0:g.x<L.x?1:-1;var O=(g.y-L.y)/J.y,a=L.x+O*J.x;if(g.x===a)return 0;var j=(g.x-L.x)/J.x,Z=L.y+j*J.y;return g.y===Z?0:g.y<Z?-1:1}},{key:"getIntersection",value:function(g){var L=this.bbox(),G=g.bbox(),J=g2(L,G);if(J===null)return null;var O=this.leftSE.point,a=this.rightSE.point,j=g.leftSE.point,Z=g.rightSE.point,ye=m1(L,j)&&this.comparePoint(j)===0,me=m1(G,O)&&g.comparePoint(O)===0,rt=m1(L,Z)&&this.comparePoint(Z)===0,ht=m1(G,a)&&g.comparePoint(a)===0;if(me&&ye)return ht&&!rt?a:!ht&&rt?Z:null;if(me)return rt&&O.x===Z.x&&O.y===Z.y?null:O;if(ye)return ht&&a.x===j.x&&a.y===j.y?null:j;if(ht&&rt)return null;if(ht)return a;if(rt)return Z;var Ht=Vf(O,this.vector(),j,g.vector());return Ht===null||!m1(J,Ht)?null:b1.round(Ht.x,Ht.y)}},{key:"split",value:function(g){var L=[],G=g.events!==void 0,J=new Q_(g,!0),O=new Q_(g,!1),a=this.rightSE;this.replaceRightSE(O),L.push(O),L.push(J);var j=new k(J,a,this.rings.slice(),this.windings.slice());return Q_.comparePoints(j.leftSE.point,j.rightSE.point)>0&&j.swapEvents(),Q_.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),G&&(J.checkForConsuming(),O.checkForConsuming()),L}},{key:"swapEvents",value:function(){var g=this.rightSE;this.rightSE=this.leftSE,this.leftSE=g,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var L=0,G=this.windings.length;L<G;L++)this.windings[L]*=-1}},{key:"consume",value:function(g){for(var L=this,G=g;L.consumedBy;)L=L.consumedBy;for(;G.consumedBy;)G=G.consumedBy;var J=k.compare(L,G);if(J!==0){if(J>0){var O=L;L=G,G=O}if(L.prev===G){var a=L;L=G,G=a}for(var j=0,Z=G.rings.length;j<Z;j++){var ye=G.rings[j],me=G.windings[j],rt=L.rings.indexOf(ye);rt===-1?(L.rings.push(ye),L.windings.push(me)):L.windings[rt]+=me}G.rings=null,G.windings=null,G.consumedBy=L,G.leftSE.consumedBy=L.leftSE,G.rightSE.consumedBy=L.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var g=this.prev.consumedBy||this.prev;this._beforeState=g.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var g=this.beforeState();this._afterState={rings:g.rings.slice(0),windings:g.windings.slice(0),multiPolys:[]};for(var L=this._afterState.rings,G=this._afterState.windings,J=this._afterState.multiPolys,O=0,a=this.rings.length;O<a;O++){var j=this.rings[O],Z=this.windings[O],ye=L.indexOf(j);ye===-1?(L.push(j),G.push(Z)):G[ye]+=Z}for(var me=[],rt=[],ht=0,Ht=L.length;ht<Ht;ht++)if(G[ht]!==0){var Se=L[ht],Be=Se.poly;if(rt.indexOf(Be)===-1)if(Se.isExterior)me.push(Be);else{rt.indexOf(Be)===-1&&rt.push(Be);var Gt=me.indexOf(Se.poly);Gt!==-1&&me.splice(Gt,1)}}for(var xt=0,fi=me.length;xt<fi;xt++){var Fi=me[xt].multiPoly;J.indexOf(Fi)===-1&&J.push(Fi)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var g=this.beforeState().multiPolys,L=this.afterState().multiPolys;switch(b_.type){case"union":{var G=g.length===0,J=L.length===0;this._isInResult=G!==J;break}case"intersection":{var O,a;g.length<L.length?(O=g.length,a=L.length):(O=L.length,a=g.length),this._isInResult=a===b_.numMultiPolys&&O<a;break}case"xor":{var j=Math.abs(g.length-L.length);this._isInResult=j%2===1;break}case"difference":{var Z=function(me){return me.length===1&&me[0].isSubject};this._isInResult=Z(g)!==Z(L);break}default:throw new Error("Unrecognized operation type found ".concat(b_.type))}return this._isInResult}}],[{key:"fromRing",value:function(g,L,G){var J,O,a,j=Q_.comparePoints(g,L);if(j<0)J=g,O=L,a=1;else if(j>0)J=L,O=g,a=-1;else throw new Error("Tried to create degenerate segment at [".concat(g.x,", ").concat(g.y,"]"));var Z=new Q_(J,!0),ye=new Q_(O,!1);return new k(Z,ye,[G],[a])}}]),k}(),V3=function(){function k(H,g,L){if(Kl(this,k),!Array.isArray(H)||H.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=g,this.isExterior=L,this.segments=[],typeof H[0][0]!="number"||typeof H[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var G=b1.round(H[0][0],H[0][1]);this.bbox={ll:{x:G.x,y:G.y},ur:{x:G.x,y:G.y}};for(var J=G,O=1,a=H.length;O<a;O++){if(typeof H[O][0]!="number"||typeof H[O][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var j=b1.round(H[O][0],H[O][1]);j.x===J.x&&j.y===J.y||(this.segments.push(bp.fromRing(J,j,this)),j.x<this.bbox.ll.x&&(this.bbox.ll.x=j.x),j.y<this.bbox.ll.y&&(this.bbox.ll.y=j.y),j.x>this.bbox.ur.x&&(this.bbox.ur.x=j.x),j.y>this.bbox.ur.y&&(this.bbox.ur.y=j.y),J=j)}(G.x!==J.x||G.y!==J.y)&&this.segments.push(bp.fromRing(J,G,this))}return x0(k,[{key:"getSweepEvents",value:function(){for(var g=[],L=0,G=this.segments.length;L<G;L++){var J=this.segments[L];g.push(J.leftSE),g.push(J.rightSE)}return g}}]),k}(),jf=function(){function k(H,g){if(Kl(this,k),!Array.isArray(H))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new V3(H[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var L=1,G=H.length;L<G;L++){var J=new V3(H[L],this,!1);J.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=J.bbox.ll.x),J.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=J.bbox.ll.y),J.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=J.bbox.ur.x),J.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=J.bbox.ur.y),this.interiorRings.push(J)}this.multiPoly=g}return x0(k,[{key:"getSweepEvents",value:function(){for(var g=this.exteriorRing.getSweepEvents(),L=0,G=this.interiorRings.length;L<G;L++)for(var J=this.interiorRings[L].getSweepEvents(),O=0,a=J.length;O<a;O++)g.push(J[O]);return g}}]),k}(),J3=function(){function k(H,g){if(Kl(this,k),!Array.isArray(H))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof H[0][0][0]=="number"&&(H=[H])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var L=0,G=H.length;L<G;L++){var J=new jf(H[L],this);J.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=J.bbox.ll.x),J.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=J.bbox.ll.y),J.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=J.bbox.ur.x),J.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=J.bbox.ur.y),this.polys.push(J)}this.isSubject=g}return x0(k,[{key:"getSweepEvents",value:function(){for(var g=[],L=0,G=this.polys.length;L<G;L++)for(var J=this.polys[L].getSweepEvents(),O=0,a=J.length;O<a;O++)g.push(J[O]);return g}}]),k}(),Yf=function(){x0(k,null,[{key:"factory",value:function(g){for(var L=[],G=0,J=g.length;G<J;G++){var O=g[G];if(!(!O.isInResult()||O.ringOut)){for(var a=null,j=O.leftSE,Z=O.rightSE,ye=[j],me=j.point,rt=[];a=j,j=Z,ye.push(j),j.point!==me;)for(;;){var ht=j.getAvailableLinkedEvents();if(ht.length===0){var Ht=ye[0].point,Se=ye[ye.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Ht.x,",")+" ".concat(Ht.y,"]. Last matching segment found ends at")+" [".concat(Se.x,", ").concat(Se.y,"]."))}if(ht.length===1){Z=ht[0].otherSE;break}for(var Be=null,Gt=0,xt=rt.length;Gt<xt;Gt++)if(rt[Gt].point===j.point){Be=Gt;break}if(Be!==null){var fi=rt.splice(Be)[0],Fi=ye.splice(fi.index);Fi.unshift(Fi[0].otherSE),L.push(new k(Fi.reverse()));continue}rt.push({index:ye.length,point:j.point});var Me=j.getLeftmostComparator(a);Z=ht.sort(Me)[0].otherSE;break}L.push(new k(ye))}}return L}}]);function k(H){Kl(this,k),this.events=H;for(var g=0,L=H.length;g<L;g++)H[g].segment.ringOut=this;this.poly=null}return x0(k,[{key:"getGeom",value:function(){for(var g=this.events[0].point,L=[g],G=1,J=this.events.length-1;G<J;G++){var O=this.events[G].point,a=this.events[G+1].point;W3(O,g,a)!==0&&(L.push(O),g=O)}if(L.length===1)return null;var j=L[0],Z=L[1];W3(j,g,Z)===0&&L.shift(),L.push(L[0]);for(var ye=this.isExteriorRing()?1:-1,me=this.isExteriorRing()?0:L.length-1,rt=this.isExteriorRing()?L.length:-1,ht=[],Ht=me;Ht!=rt;Ht+=ye)ht.push([L[Ht].x,L[Ht].y]);return ht}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var g=this.enclosingRing();this._isExteriorRing=g?!g.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var g=this.events[0],L=1,G=this.events.length;L<G;L++){var J=this.events[L];Q_.compare(g,J)>0&&(g=J)}for(var O=g.segment.prevInResult(),a=O?O.prevInResult():null;;){if(!O)return null;if(!a)return O.ringOut;if(a.ringOut!==O.ringOut)return a.ringOut.enclosingRing()!==O.ringOut?O.ringOut:O.ringOut.enclosingRing();O=a.prevInResult(),a=O?O.prevInResult():null}}}]),k}(),j3=function(){function k(H){Kl(this,k),this.exteriorRing=H,H.poly=this,this.interiorRings=[]}return x0(k,[{key:"addInterior",value:function(g){this.interiorRings.push(g),g.poly=this}},{key:"getGeom",value:function(){var g=[this.exteriorRing.getGeom()];if(g[0]===null)return null;for(var L=0,G=this.interiorRings.length;L<G;L++){var J=this.interiorRings[L].getGeom();J!==null&&g.push(J)}return g}}]),k}(),qf=function(){function k(H){Kl(this,k),this.rings=H,this.polys=this._composePolys(H)}return x0(k,[{key:"getGeom",value:function(){for(var g=[],L=0,G=this.polys.length;L<G;L++){var J=this.polys[L].getGeom();J!==null&&g.push(J)}return g}},{key:"_composePolys",value:function(g){for(var L=[],G=0,J=g.length;G<J;G++){var O=g[G];if(!O.poly)if(O.isExteriorRing())L.push(new j3(O));else{var a=O.enclosingRing();a.poly||L.push(new j3(a)),a.poly.addInterior(O)}}return L}}]),k}(),$f=function(){function k(H){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bp.compare;Kl(this,k),this.queue=H,this.tree=new w2(g),this.segments=[]}return x0(k,[{key:"process",value:function(g){var L=g.segment,G=[];if(g.consumedBy)return g.isLeft?this.queue.remove(g.otherSE):this.tree.remove(L),G;var J=g.isLeft?this.tree.insert(L):this.tree.find(L);if(!J)throw new Error("Unable to find segment #".concat(L.id," ")+"[".concat(L.leftSE.point.x,", ").concat(L.leftSE.point.y,"] -> ")+"[".concat(L.rightSE.point.x,", ").concat(L.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var O=J,a=J,j=void 0,Z=void 0;j===void 0;)O=this.tree.prev(O),O===null?j=null:O.key.consumedBy===void 0&&(j=O.key);for(;Z===void 0;)a=this.tree.next(a),a===null?Z=null:a.key.consumedBy===void 0&&(Z=a.key);if(g.isLeft){var ye=null;if(j){var me=j.getIntersection(L);if(me!==null&&(L.isAnEndpoint(me)||(ye=me),!j.isAnEndpoint(me)))for(var rt=this._splitSafely(j,me),ht=0,Ht=rt.length;ht<Ht;ht++)G.push(rt[ht])}var Se=null;if(Z){var Be=Z.getIntersection(L);if(Be!==null&&(L.isAnEndpoint(Be)||(Se=Be),!Z.isAnEndpoint(Be)))for(var Gt=this._splitSafely(Z,Be),xt=0,fi=Gt.length;xt<fi;xt++)G.push(Gt[xt])}if(ye!==null||Se!==null){var Fi=null;if(ye===null)Fi=Se;else if(Se===null)Fi=ye;else{var Me=Q_.comparePoints(ye,Se);Fi=Me<=0?ye:Se}this.queue.remove(L.rightSE),G.push(L.rightSE);for(var it=L.split(Fi),ri=0,Mi=it.length;ri<Mi;ri++)G.push(it[ri])}G.length>0?(this.tree.remove(L),G.push(g)):(this.segments.push(L),L.prev=j)}else{if(j&&Z){var si=j.getIntersection(Z);if(si!==null){if(!j.isAnEndpoint(si))for(var Ze=this._splitSafely(j,si),ze=0,Kt=Ze.length;ze<Kt;ze++)G.push(Ze[ze]);if(!Z.isAnEndpoint(si))for(var ji=this._splitSafely(Z,si),oi=0,Y=ji.length;oi<Y;oi++)G.push(ji[oi])}}this.tree.remove(L)}return G}},{key:"_splitSafely",value:function(g,L){this.tree.remove(g);var G=g.rightSE;this.queue.remove(G);var J=g.split(L);return J.push(G),g.consumedBy===void 0&&this.tree.insert(g),J}}]),k}(),Y3=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Zf=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Xf=function(){function k(){Kl(this,k)}return x0(k,[{key:"run",value:function(g,L,G){b_.type=g,b1.reset();for(var J=[new J3(L,!0)],O=0,a=G.length;O<a;O++)J.push(new J3(G[O],!1));if(b_.numMultiPolys=J.length,b_.type==="difference")for(var j=J[0],Z=1;Z<J.length;)g2(J[Z].bbox,j.bbox)!==null?Z++:J.splice(Z,1);if(b_.type==="intersection"){for(var ye=0,me=J.length;ye<me;ye++)for(var rt=J[ye],ht=ye+1,Ht=J.length;ht<Ht;ht++)if(g2(rt.bbox,J[ht].bbox)===null)return[]}for(var Se=new w2(Q_.compare),Be=0,Gt=J.length;Be<Gt;Be++)for(var xt=J[Be].getSweepEvents(),fi=0,Fi=xt.length;fi<Fi;fi++)if(Se.insert(xt[fi]),Se.size>Y3)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Me=new $f(Se),it=Se.size,ri=Se.pop();ri;){var Mi=ri.key;if(Se.size===it){var si=Mi.segment;throw new Error("Unable to pop() ".concat(Mi.isLeft?"left":"right"," SweepEvent ")+"[".concat(Mi.point.x,", ").concat(Mi.point.y,"] from segment #").concat(si.id," ")+"[".concat(si.leftSE.point.x,", ").concat(si.leftSE.point.y,"] -> ")+"[".concat(si.rightSE.point.x,", ").concat(si.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Se.size>Y3)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Me.segments.length>Zf)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ze=Me.process(Mi),ze=0,Kt=Ze.length;ze<Kt;ze++){var ji=Ze[ze];ji.consumedBy===void 0&&Se.insert(ji)}it=Se.size,ri=Se.pop()}b1.reset();var oi=Yf.factory(Me.segments),Y=new qf(oi);return Y.getGeom()}}]),k}(),b_=new Xf,Kf=function(H){for(var g=arguments.length,L=new Array(g>1?g-1:0),G=1;G<g;G++)L[G-1]=arguments[G];return b_.run("union",H,L)},Qf=function(H){for(var g=arguments.length,L=new Array(g>1?g-1:0),G=1;G<g;G++)L[G-1]=arguments[G];return b_.run("intersection",H,L)},e4=function(H){for(var g=arguments.length,L=new Array(g>1?g-1:0),G=1;G<g;G++)L[G-1]=arguments[G];return b_.run("xor",H,L)},t4=function(H){for(var g=arguments.length,L=new Array(g>1?g-1:0),G=1;G<g;G++)L[G-1]=arguments[G];return b_.run("difference",H,L)},i4={union:Kf,intersection:Qf,xor:e4,difference:t4};function n4(k,H,g){g===void 0&&(g={});var L=F3(k),G=F3(H),J=i4.union(L.coordinates,G.coordinates);return J.length===0?null:J.length===1?lm(J[0],g.properties):Ef(J,g.properties)}var Yu={exports:{}},um={exports:{}},La={exports:{}};(function(k,H){(function(g,L){L(H)})(P2,function(g){const L="132",bt="300 es";class ii{addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const _=this._listeners;_[e]===void 0&&(_[e]=[]),_[e].indexOf(s)===-1&&_[e].push(s)}hasEventListener(e,s){if(this._listeners===void 0)return!1;const _=this._listeners;return _[e]!==void 0&&_[e].indexOf(s)!==-1}removeEventListener(e,s){if(this._listeners===void 0)return;const _=this._listeners[e];if(_!==void 0){const u=_.indexOf(s);u!==-1&&_.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const _=s.slice(0);for(let u=0,m=_.length;u<m;u++)_[u].call(this,e);e.target=null}}}const Ui=[];for(let T=0;T<256;T++)Ui[T]=(T<16?"0":"")+T.toString(16);let zi=1234567;const Mn=Math.PI/180,Hn=180/Math.PI;function zn(){const T=4294967295*Math.random()|0,e=4294967295*Math.random()|0,s=4294967295*Math.random()|0,_=4294967295*Math.random()|0;return(Ui[255&T]+Ui[T>>8&255]+Ui[T>>16&255]+Ui[T>>24&255]+"-"+Ui[255&e]+Ui[e>>8&255]+"-"+Ui[e>>16&15|64]+Ui[e>>24&255]+"-"+Ui[63&s|128]+Ui[s>>8&255]+"-"+Ui[s>>16&255]+Ui[s>>24&255]+Ui[255&_]+Ui[_>>8&255]+Ui[_>>16&255]+Ui[_>>24&255]).toUpperCase()}function Ln(T,e,s){return Math.max(e,Math.min(s,T))}function In(T,e){return(T%e+e)%e}function tr(T,e,s){return(1-s)*T+s*e}function ss(T){return(T&T-1)==0&&T!==0}function Or(T){return Math.pow(2,Math.ceil(Math.log(T)/Math.LN2))}function _o(T){return Math.pow(2,Math.floor(Math.log(T)/Math.LN2))}var fo=Object.freeze({__proto__:null,DEG2RAD:Mn,RAD2DEG:Hn,generateUUID:zn,clamp:Ln,euclideanModulo:In,mapLinear:function(T,e,s,_,u){return _+(T-e)*(u-_)/(s-e)},inverseLerp:function(T,e,s){return T!==e?(s-T)/(e-T):0},lerp:tr,damp:function(T,e,s,_){return tr(T,e,1-Math.exp(-s*_))},pingpong:function(T,e=1){return e-Math.abs(In(T,2*e)-e)},smoothstep:function(T,e,s){return T<=e?0:T>=s?1:(T=(T-e)/(s-e))*T*(3-2*T)},smootherstep:function(T,e,s){return T<=e?0:T>=s?1:(T=(T-e)/(s-e))*T*T*(T*(6*T-15)+10)},randInt:function(T,e){return T+Math.floor(Math.random()*(e-T+1))},randFloat:function(T,e){return T+Math.random()*(e-T)},randFloatSpread:function(T){return T*(.5-Math.random())},seededRandom:function(T){return T!==void 0&&(zi=T%2147483647),zi=16807*zi%2147483647,(zi-1)/2147483646},degToRad:function(T){return T*Mn},radToDeg:function(T){return T*Hn},isPowerOfTwo:ss,ceilPowerOfTwo:Or,floorPowerOfTwo:_o,setQuaternionFromProperEuler:function(T,e,s,_,u){const m=Math.cos,b=Math.sin,x=m(s/2),P=b(s/2),N=m((e+_)/2),I=b((e+_)/2),D=m((e-_)/2),B=b((e-_)/2),U=m((_-e)/2),X=b((_-e)/2);switch(u){case"XYX":T.set(x*I,P*D,P*B,x*N);break;case"YZY":T.set(P*B,x*I,P*D,x*N);break;case"ZXZ":T.set(P*D,P*B,x*I,x*N);break;case"XZX":T.set(x*I,P*X,P*U,x*N);break;case"YXY":T.set(P*U,x*I,P*X,x*N);break;case"ZYZ":T.set(P*X,P*U,x*I,x*N);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+u)}}});class Vi{constructor(e=0,s=0){this.x=e,this.y=s}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,s){return this.x=e,this.y=s,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,s){return s!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,s)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this}sub(e,s){return s!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,s)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const s=this.x,_=this.y,u=e.elements;return this.x=u[0]*s+u[3]*_+u[6],this.y=u[1]*s+u[4]*_+u[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,s){return this.x=Math.max(e.x,Math.min(s.x,this.x)),this.y=Math.max(e.y,Math.min(s.y,this.y)),this}clampScalar(e,s){return this.x=Math.max(e,Math.min(s,this.x)),this.y=Math.max(e,Math.min(s,this.y)),this}clampLength(e,s){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(s,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,_=this.y-e.y;return s*s+_*_}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this}lerpVectors(e,s,_){return this.x=e.x+(s.x-e.x)*_,this.y=e.y+(s.y-e.y)*_,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e}fromBufferAttribute(e,s,_){return _!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(s),this.y=e.getY(s),this}rotateAround(e,s){const _=Math.cos(s),u=Math.sin(s),m=this.x-e.x,b=this.y-e.y;return this.x=m*_-b*u+e.x,this.y=m*u+b*_+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Vi.prototype.isVector2=!0;class Mr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,s,_,u,m,b,x,P,N){const I=this.elements;return I[0]=e,I[1]=u,I[2]=x,I[3]=s,I[4]=m,I[5]=P,I[6]=_,I[7]=b,I[8]=N,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const s=this.elements,_=e.elements;return s[0]=_[0],s[1]=_[1],s[2]=_[2],s[3]=_[3],s[4]=_[4],s[5]=_[5],s[6]=_[6],s[7]=_[7],s[8]=_[8],this}extractBasis(e,s,_){return e.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),_.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const s=e.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const _=e.elements,u=s.elements,m=this.elements,b=_[0],x=_[3],P=_[6],N=_[1],I=_[4],D=_[7],B=_[2],U=_[5],X=_[8],ee=u[0],ue=u[3],ie=u[6],Ee=u[1],We=u[4],Re=u[7],et=u[2],ct=u[5],Ft=u[8];return m[0]=b*ee+x*Ee+P*et,m[3]=b*ue+x*We+P*ct,m[6]=b*ie+x*Re+P*Ft,m[1]=N*ee+I*Ee+D*et,m[4]=N*ue+I*We+D*ct,m[7]=N*ie+I*Re+D*Ft,m[2]=B*ee+U*Ee+X*et,m[5]=B*ue+U*We+X*ct,m[8]=B*ie+U*Re+X*Ft,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=e,s[4]*=e,s[7]*=e,s[2]*=e,s[5]*=e,s[8]*=e,this}determinant(){const e=this.elements,s=e[0],_=e[1],u=e[2],m=e[3],b=e[4],x=e[5],P=e[6],N=e[7],I=e[8];return s*b*I-s*x*N-_*m*I+_*x*P+u*m*N-u*b*P}invert(){const e=this.elements,s=e[0],_=e[1],u=e[2],m=e[3],b=e[4],x=e[5],P=e[6],N=e[7],I=e[8],D=I*b-x*N,B=x*P-I*m,U=N*m-b*P,X=s*D+_*B+u*U;if(X===0)return this.set(0,0,0,0,0,0,0,0,0);const ee=1/X;return e[0]=D*ee,e[1]=(u*N-I*_)*ee,e[2]=(x*_-u*b)*ee,e[3]=B*ee,e[4]=(I*s-u*P)*ee,e[5]=(u*m-x*s)*ee,e[6]=U*ee,e[7]=(_*P-N*s)*ee,e[8]=(b*s-_*m)*ee,this}transpose(){let e;const s=this.elements;return e=s[1],s[1]=s[3],s[3]=e,e=s[2],s[2]=s[6],s[6]=e,e=s[5],s[5]=s[7],s[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const s=this.elements;return e[0]=s[0],e[1]=s[3],e[2]=s[6],e[3]=s[1],e[4]=s[4],e[5]=s[7],e[6]=s[2],e[7]=s[5],e[8]=s[8],this}setUvTransform(e,s,_,u,m,b,x){const P=Math.cos(m),N=Math.sin(m);return this.set(_*P,_*N,-_*(P*b+N*x)+b+e,-u*N,u*P,-u*(-N*b+P*x)+x+s,0,0,1),this}scale(e,s){const _=this.elements;return _[0]*=e,_[3]*=e,_[6]*=e,_[1]*=s,_[4]*=s,_[7]*=s,this}rotate(e){const s=Math.cos(e),_=Math.sin(e),u=this.elements,m=u[0],b=u[3],x=u[6],P=u[1],N=u[4],I=u[7];return u[0]=s*m+_*P,u[3]=s*b+_*N,u[6]=s*x+_*I,u[1]=-_*m+s*P,u[4]=-_*b+s*N,u[7]=-_*x+s*I,this}translate(e,s){const _=this.elements;return _[0]+=e*_[2],_[3]+=e*_[5],_[6]+=e*_[8],_[1]+=s*_[2],_[4]+=s*_[5],_[7]+=s*_[8],this}equals(e){const s=this.elements,_=e.elements;for(let u=0;u<9;u++)if(s[u]!==_[u])return!1;return!0}fromArray(e,s=0){for(let _=0;_<9;_++)this.elements[_]=e[_+s];return this}toArray(e=[],s=0){const _=this.elements;return e[s]=_[0],e[s+1]=_[1],e[s+2]=_[2],e[s+3]=_[3],e[s+4]=_[4],e[s+5]=_[5],e[s+6]=_[6],e[s+7]=_[7],e[s+8]=_[8],e}clone(){return new this.constructor().fromArray(this.elements)}}let bs;Mr.prototype.isMatrix3=!0;class Ks{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let s;if(e instanceof HTMLCanvasElement)s=e;else{bs===void 0&&(bs=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),bs.width=e.width,bs.height=e.height;const _=bs.getContext("2d");e instanceof ImageData?_.putImageData(e,0,0):_.drawImage(e,0,0,e.width,e.height),s=bs}return s.width>2048||s.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),s.toDataURL("image/jpeg",.6)):s.toDataURL("image/png")}}let yo=0;class es extends ii{constructor(e=es.DEFAULT_IMAGE,s=es.DEFAULT_MAPPING,_=1001,u=1001,m=1006,b=1008,x=1023,P=1009,N=1,I=3e3){super(),Object.defineProperty(this,"id",{value:yo++}),this.uuid=zn(),this.name="",this.image=e,this.mipmaps=[],this.mapping=s,this.wrapS=_,this.wrapT=u,this.magFilter=m,this.minFilter=b,this.anisotropy=N,this.format=x,this.internalFormat=null,this.type=P,this.offset=new Vi(0,0),this.repeat=new Vi(1,1),this.center=new Vi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=I,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const _={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const u=this.image;if(u.uuid===void 0&&(u.uuid=zn()),!s&&e.images[u.uuid]===void 0){let m;if(Array.isArray(u)){m=[];for(let b=0,x=u.length;b<x;b++)u[b].isDataTexture?m.push(Ns(u[b].image)):m.push(Ns(u[b]))}else m=Ns(u);e.images[u.uuid]={uuid:u.uuid,url:m}}_.image=u.uuid}return s||(e.textures[this.uuid]=_),_}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}function Ns(T){return typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&T instanceof ImageBitmap?Ks.getDataURL(T):T.data?{data:Array.prototype.slice.call(T.data),width:T.width,height:T.height,type:T.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}es.DEFAULT_IMAGE=void 0,es.DEFAULT_MAPPING=300,es.prototype.isTexture=!0;class dr{constructor(e=0,s=0,_=0,u=1){this.x=e,this.y=s,this.z=_,this.w=u}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,s,_,u){return this.x=e,this.y=s,this.z=_,this.w=u,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;case 3:this.w=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,s){return s!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,s)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this.w=e.w+s.w,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this.w+=e.w*s,this}sub(e,s){return s!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,s)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this.w=e.w-s.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const s=this.x,_=this.y,u=this.z,m=this.w,b=e.elements;return this.x=b[0]*s+b[4]*_+b[8]*u+b[12]*m,this.y=b[1]*s+b[5]*_+b[9]*u+b[13]*m,this.z=b[2]*s+b[6]*_+b[10]*u+b[14]*m,this.w=b[3]*s+b[7]*_+b[11]*u+b[15]*m,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const s=Math.sqrt(1-e.w*e.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/s,this.y=e.y/s,this.z=e.z/s),this}setAxisAngleFromRotationMatrix(e){let s,_,u,m;const P=e.elements,N=P[0],I=P[4],D=P[8],B=P[1],U=P[5],X=P[9],ee=P[2],ue=P[6],ie=P[10];if(Math.abs(I-B)<.01&&Math.abs(D-ee)<.01&&Math.abs(X-ue)<.01){if(Math.abs(I+B)<.1&&Math.abs(D+ee)<.1&&Math.abs(X+ue)<.1&&Math.abs(N+U+ie-3)<.1)return this.set(1,0,0,0),this;s=Math.PI;const We=(N+1)/2,Re=(U+1)/2,et=(ie+1)/2,ct=(I+B)/4,Ft=(D+ee)/4,Ut=(X+ue)/4;return We>Re&&We>et?We<.01?(_=0,u=.707106781,m=.707106781):(_=Math.sqrt(We),u=ct/_,m=Ft/_):Re>et?Re<.01?(_=.707106781,u=0,m=.707106781):(u=Math.sqrt(Re),_=ct/u,m=Ut/u):et<.01?(_=.707106781,u=.707106781,m=0):(m=Math.sqrt(et),_=Ft/m,u=Ut/m),this.set(_,u,m,s),this}let Ee=Math.sqrt((ue-X)*(ue-X)+(D-ee)*(D-ee)+(B-I)*(B-I));return Math.abs(Ee)<.001&&(Ee=1),this.x=(ue-X)/Ee,this.y=(D-ee)/Ee,this.z=(B-I)/Ee,this.w=Math.acos((N+U+ie-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,s){return this.x=Math.max(e.x,Math.min(s.x,this.x)),this.y=Math.max(e.y,Math.min(s.y,this.y)),this.z=Math.max(e.z,Math.min(s.z,this.z)),this.w=Math.max(e.w,Math.min(s.w,this.w)),this}clampScalar(e,s){return this.x=Math.max(e,Math.min(s,this.x)),this.y=Math.max(e,Math.min(s,this.y)),this.z=Math.max(e,Math.min(s,this.z)),this.w=Math.max(e,Math.min(s,this.w)),this}clampLength(e,s){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(s,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this.w+=(e.w-this.w)*s,this}lerpVectors(e,s,_){return this.x=e.x+(s.x-e.x)*_,this.y=e.y+(s.y-e.y)*_,this.z=e.z+(s.z-e.z)*_,this.w=e.w+(s.w-e.w)*_,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this.w=e[s+3],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e[s+3]=this.w,e}fromBufferAttribute(e,s,_){return _!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this.w=e.getW(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}dr.prototype.isVector4=!0;class Rs extends ii{constructor(e,s,_={}){super(),this.width=e,this.height=s,this.depth=1,this.scissor=new dr(0,0,e,s),this.scissorTest=!1,this.viewport=new dr(0,0,e,s),this.texture=new es(void 0,_.mapping,_.wrapS,_.wrapT,_.magFilter,_.minFilter,_.format,_.type,_.anisotropy,_.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:s,depth:1},this.texture.generateMipmaps=_.generateMipmaps!==void 0&&_.generateMipmaps,this.texture.internalFormat=_.internalFormat!==void 0?_.internalFormat:null,this.texture.minFilter=_.minFilter!==void 0?_.minFilter:1006,this.depthBuffer=_.depthBuffer===void 0||_.depthBuffer,this.stencilBuffer=_.stencilBuffer!==void 0&&_.stencilBuffer,this.depthTexture=_.depthTexture!==void 0?_.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,s,_=1){this.width===e&&this.height===s&&this.depth===_||(this.width=e,this.height=s,this.depth=_,this.texture.image.width=e,this.texture.image.height=s,this.texture.image.depth=_,this.dispose()),this.viewport.set(0,0,e,s),this.scissor.set(0,0,e,s)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Rs.prototype.isWebGLRenderTarget=!0;class $s extends Rs{constructor(e,s,_){super(e,s);const u=this.texture;this.texture=[];for(let m=0;m<_;m++)this.texture[m]=u.clone()}setSize(e,s,_=1){if(this.width!==e||this.height!==s||this.depth!==_){this.width=e,this.height=s,this.depth=_;for(let u=0,m=this.texture.length;u<m;u++)this.texture[u].image.width=e,this.texture[u].image.height=s,this.texture[u].image.depth=_;this.dispose()}return this.viewport.set(0,0,e,s),this.scissor.set(0,0,e,s),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let s=0,_=e.texture.length;s<_;s++)this.texture[s]=e.texture[s].clone();return this}}$s.prototype.isWebGLMultipleRenderTargets=!0;class ro extends Rs{constructor(e,s,_){super(e,s,_),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}ro.prototype.isWebGLMultisampleRenderTarget=!0;class vs{constructor(e=0,s=0,_=0,u=1){this._x=e,this._y=s,this._z=_,this._w=u}static slerp(e,s,_,u){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),_.slerpQuaternions(e,s,u)}static slerpFlat(e,s,_,u,m,b,x){let P=_[u+0],N=_[u+1],I=_[u+2],D=_[u+3];const B=m[b+0],U=m[b+1],X=m[b+2],ee=m[b+3];if(x===0)return e[s+0]=P,e[s+1]=N,e[s+2]=I,void(e[s+3]=D);if(x===1)return e[s+0]=B,e[s+1]=U,e[s+2]=X,void(e[s+3]=ee);if(D!==ee||P!==B||N!==U||I!==X){let ue=1-x;const ie=P*B+N*U+I*X+D*ee,Ee=ie>=0?1:-1,We=1-ie*ie;if(We>Number.EPSILON){const et=Math.sqrt(We),ct=Math.atan2(et,ie*Ee);ue=Math.sin(ue*ct)/et,x=Math.sin(x*ct)/et}const Re=x*Ee;if(P=P*ue+B*Re,N=N*ue+U*Re,I=I*ue+X*Re,D=D*ue+ee*Re,ue===1-x){const et=1/Math.sqrt(P*P+N*N+I*I+D*D);P*=et,N*=et,I*=et,D*=et}}e[s]=P,e[s+1]=N,e[s+2]=I,e[s+3]=D}static multiplyQuaternionsFlat(e,s,_,u,m,b){const x=_[u],P=_[u+1],N=_[u+2],I=_[u+3],D=m[b],B=m[b+1],U=m[b+2],X=m[b+3];return e[s]=x*X+I*D+P*U-N*B,e[s+1]=P*X+I*B+N*D-x*U,e[s+2]=N*X+I*U+x*B-P*D,e[s+3]=I*X-x*D-P*B-N*U,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,s,_,u){return this._x=e,this._y=s,this._z=_,this._w=u,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,s){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const _=e._x,u=e._y,m=e._z,b=e._order,x=Math.cos,P=Math.sin,N=x(_/2),I=x(u/2),D=x(m/2),B=P(_/2),U=P(u/2),X=P(m/2);switch(b){case"XYZ":this._x=B*I*D+N*U*X,this._y=N*U*D-B*I*X,this._z=N*I*X+B*U*D,this._w=N*I*D-B*U*X;break;case"YXZ":this._x=B*I*D+N*U*X,this._y=N*U*D-B*I*X,this._z=N*I*X-B*U*D,this._w=N*I*D+B*U*X;break;case"ZXY":this._x=B*I*D-N*U*X,this._y=N*U*D+B*I*X,this._z=N*I*X+B*U*D,this._w=N*I*D-B*U*X;break;case"ZYX":this._x=B*I*D-N*U*X,this._y=N*U*D+B*I*X,this._z=N*I*X-B*U*D,this._w=N*I*D+B*U*X;break;case"YZX":this._x=B*I*D+N*U*X,this._y=N*U*D+B*I*X,this._z=N*I*X-B*U*D,this._w=N*I*D-B*U*X;break;case"XZY":this._x=B*I*D-N*U*X,this._y=N*U*D-B*I*X,this._z=N*I*X+B*U*D,this._w=N*I*D+B*U*X;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+b)}return s!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,s){const _=s/2,u=Math.sin(_);return this._x=e.x*u,this._y=e.y*u,this._z=e.z*u,this._w=Math.cos(_),this._onChangeCallback(),this}setFromRotationMatrix(e){const s=e.elements,_=s[0],u=s[4],m=s[8],b=s[1],x=s[5],P=s[9],N=s[2],I=s[6],D=s[10],B=_+x+D;if(B>0){const U=.5/Math.sqrt(B+1);this._w=.25/U,this._x=(I-P)*U,this._y=(m-N)*U,this._z=(b-u)*U}else if(_>x&&_>D){const U=2*Math.sqrt(1+_-x-D);this._w=(I-P)/U,this._x=.25*U,this._y=(u+b)/U,this._z=(m+N)/U}else if(x>D){const U=2*Math.sqrt(1+x-_-D);this._w=(m-N)/U,this._x=(u+b)/U,this._y=.25*U,this._z=(P+I)/U}else{const U=2*Math.sqrt(1+D-_-x);this._w=(b-u)/U,this._x=(m+N)/U,this._y=(P+I)/U,this._z=.25*U}return this._onChangeCallback(),this}setFromUnitVectors(e,s){let _=e.dot(s)+1;return _<Number.EPSILON?(_=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=_):(this._x=0,this._y=-e.z,this._z=e.y,this._w=_)):(this._x=e.y*s.z-e.z*s.y,this._y=e.z*s.x-e.x*s.z,this._z=e.x*s.y-e.y*s.x,this._w=_),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,s){const _=this.angleTo(e);if(_===0)return this;const u=Math.min(1,s/_);return this.slerp(e,u),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,s){return s!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,s)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,s){const _=e._x,u=e._y,m=e._z,b=e._w,x=s._x,P=s._y,N=s._z,I=s._w;return this._x=_*I+b*x+u*N-m*P,this._y=u*I+b*P+m*x-_*N,this._z=m*I+b*N+_*P-u*x,this._w=b*I-_*x-u*P-m*N,this._onChangeCallback(),this}slerp(e,s){if(s===0)return this;if(s===1)return this.copy(e);const _=this._x,u=this._y,m=this._z,b=this._w;let x=b*e._w+_*e._x+u*e._y+m*e._z;if(x<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,x=-x):this.copy(e),x>=1)return this._w=b,this._x=_,this._y=u,this._z=m,this;const P=1-x*x;if(P<=Number.EPSILON){const U=1-s;return this._w=U*b+s*this._w,this._x=U*_+s*this._x,this._y=U*u+s*this._y,this._z=U*m+s*this._z,this.normalize(),this._onChangeCallback(),this}const N=Math.sqrt(P),I=Math.atan2(N,x),D=Math.sin((1-s)*I)/N,B=Math.sin(s*I)/N;return this._w=b*D+this._w*B,this._x=_*D+this._x*B,this._y=u*D+this._y*B,this._z=m*D+this._z*B,this._onChangeCallback(),this}slerpQuaternions(e,s,_){this.copy(e).slerp(s,_)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,s=0){return this._x=e[s],this._y=e[s+1],this._z=e[s+2],this._w=e[s+3],this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._w,e}fromBufferAttribute(e,s){return this._x=e.getX(s),this._y=e.getY(s),this._z=e.getZ(s),this._w=e.getW(s),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}vs.prototype.isQuaternion=!0;class Ue{constructor(e=0,s=0,_=0){this.x=e,this.y=s,this.z=_}set(e,s,_){return _===void 0&&(_=this.z),this.x=e,this.y=s,this.z=_,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,s){return s!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,s)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this}sub(e,s){return s!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,s)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this}multiply(e,s){return s!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,s)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,s){return this.x=e.x*s.x,this.y=e.y*s.y,this.z=e.z*s.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(oe.setFromEuler(e))}applyAxisAngle(e,s){return this.applyQuaternion(oe.setFromAxisAngle(e,s))}applyMatrix3(e){const s=this.x,_=this.y,u=this.z,m=e.elements;return this.x=m[0]*s+m[3]*_+m[6]*u,this.y=m[1]*s+m[4]*_+m[7]*u,this.z=m[2]*s+m[5]*_+m[8]*u,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const s=this.x,_=this.y,u=this.z,m=e.elements,b=1/(m[3]*s+m[7]*_+m[11]*u+m[15]);return this.x=(m[0]*s+m[4]*_+m[8]*u+m[12])*b,this.y=(m[1]*s+m[5]*_+m[9]*u+m[13])*b,this.z=(m[2]*s+m[6]*_+m[10]*u+m[14])*b,this}applyQuaternion(e){const s=this.x,_=this.y,u=this.z,m=e.x,b=e.y,x=e.z,P=e.w,N=P*s+b*u-x*_,I=P*_+x*s-m*u,D=P*u+m*_-b*s,B=-m*s-b*_-x*u;return this.x=N*P+B*-m+I*-x-D*-b,this.y=I*P+B*-b+D*-m-N*-x,this.z=D*P+B*-x+N*-b-I*-m,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const s=this.x,_=this.y,u=this.z,m=e.elements;return this.x=m[0]*s+m[4]*_+m[8]*u,this.y=m[1]*s+m[5]*_+m[9]*u,this.z=m[2]*s+m[6]*_+m[10]*u,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,s){return this.x=Math.max(e.x,Math.min(s.x,this.x)),this.y=Math.max(e.y,Math.min(s.y,this.y)),this.z=Math.max(e.z,Math.min(s.z,this.z)),this}clampScalar(e,s){return this.x=Math.max(e,Math.min(s,this.x)),this.y=Math.max(e,Math.min(s,this.y)),this.z=Math.max(e,Math.min(s,this.z)),this}clampLength(e,s){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(s,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this}lerpVectors(e,s,_){return this.x=e.x+(s.x-e.x)*_,this.y=e.y+(s.y-e.y)*_,this.z=e.z+(s.z-e.z)*_,this}cross(e,s){return s!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,s)):this.crossVectors(this,e)}crossVectors(e,s){const _=e.x,u=e.y,m=e.z,b=s.x,x=s.y,P=s.z;return this.x=u*P-m*x,this.y=m*b-_*P,this.z=_*x-u*b,this}projectOnVector(e){const s=e.lengthSq();if(s===0)return this.set(0,0,0);const _=e.dot(this)/s;return this.copy(e).multiplyScalar(_)}projectOnPlane(e){return Fe.copy(this).projectOnVector(e),this.sub(Fe)}reflect(e){return this.sub(Fe.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const _=this.dot(e)/s;return Math.acos(Ln(_,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,_=this.y-e.y,u=this.z-e.z;return s*s+_*_+u*u}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,s,_){const u=Math.sin(s)*e;return this.x=u*Math.sin(_),this.y=Math.cos(s)*e,this.z=u*Math.cos(_),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,s,_){return this.x=e*Math.sin(s),this.y=_,this.z=e*Math.cos(s),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(e){const s=this.setFromMatrixColumn(e,0).length(),_=this.setFromMatrixColumn(e,1).length(),u=this.setFromMatrixColumn(e,2).length();return this.x=s,this.y=_,this.z=u,this}setFromMatrixColumn(e,s){return this.fromArray(e.elements,4*s)}setFromMatrix3Column(e,s){return this.fromArray(e.elements,3*s)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e}fromBufferAttribute(e,s,_){return _!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ue.prototype.isVector3=!0;const Fe=new Ue,oe=new vs;class he{constructor(e=new Ue(1/0,1/0,1/0),s=new Ue(-1/0,-1/0,-1/0)){this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromArray(e){let s=1/0,_=1/0,u=1/0,m=-1/0,b=-1/0,x=-1/0;for(let P=0,N=e.length;P<N;P+=3){const I=e[P],D=e[P+1],B=e[P+2];I<s&&(s=I),D<_&&(_=D),B<u&&(u=B),I>m&&(m=I),D>b&&(b=D),B>x&&(x=B)}return this.min.set(s,_,u),this.max.set(m,b,x),this}setFromBufferAttribute(e){let s=1/0,_=1/0,u=1/0,m=-1/0,b=-1/0,x=-1/0;for(let P=0,N=e.count;P<N;P++){const I=e.getX(P),D=e.getY(P),B=e.getZ(P);I<s&&(s=I),D<_&&(_=D),B<u&&(u=B),I>m&&(m=I),D>b&&(b=D),B>x&&(x=B)}return this.min.set(s,_,u),this.max.set(m,b,x),this}setFromPoints(e){this.makeEmpty();for(let s=0,_=e.length;s<_;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const _=$e.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(_),this.max.copy(e).add(_),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const s=e.geometry;s!==void 0&&(s.boundingBox===null&&s.computeBoundingBox(),ft.copy(s.boundingBox),ft.applyMatrix4(e.matrixWorld),this.union(ft));const _=e.children;for(let u=0,m=_.length;u<m;u++)this.expandByObject(_[u]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$e),$e.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let s,_;return e.normal.x>0?(s=e.normal.x*this.min.x,_=e.normal.x*this.max.x):(s=e.normal.x*this.max.x,_=e.normal.x*this.min.x),e.normal.y>0?(s+=e.normal.y*this.min.y,_+=e.normal.y*this.max.y):(s+=e.normal.y*this.max.y,_+=e.normal.y*this.min.y),e.normal.z>0?(s+=e.normal.z*this.min.z,_+=e.normal.z*this.max.z):(s+=e.normal.z*this.max.z,_+=e.normal.z*this.min.z),s<=-e.constant&&_>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Di),Vn.subVectors(this.max,Di),Dt.subVectors(e.a,Di),It.subVectors(e.b,Di),vt.subVectors(e.c,Di),Rt.subVectors(It,Dt),vi.subVectors(vt,It),on.subVectors(Dt,vt);let s=[0,-Rt.z,Rt.y,0,-vi.z,vi.y,0,-on.z,on.y,Rt.z,0,-Rt.x,vi.z,0,-vi.x,on.z,0,-on.x,-Rt.y,Rt.x,0,-vi.y,vi.x,0,-on.y,on.x,0];return!!ir(s,Dt,It,vt,Vn)&&(s=[1,0,0,0,1,0,0,0,1],!!ir(s,Dt,It,vt,Vn)&&(Jn.crossVectors(Rt,vi),s=[Jn.x,Jn.y,Jn.z],ir(s,Dt,It,vt,Vn)))}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $e.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize($e).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(De[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),De[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),De[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),De[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),De[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),De[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),De[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),De[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(De)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}he.prototype.isBox3=!0;const De=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue],$e=new Ue,ft=new he,Dt=new Ue,It=new Ue,vt=new Ue,Rt=new Ue,vi=new Ue,on=new Ue,Di=new Ue,Vn=new Ue,Jn=new Ue,Dn=new Ue;function ir(T,e,s,_,u){for(let m=0,b=T.length-3;m<=b;m+=3){Dn.fromArray(T,m);const x=u.x*Math.abs(Dn.x)+u.y*Math.abs(Dn.y)+u.z*Math.abs(Dn.z),P=e.dot(Dn),N=s.dot(Dn),I=_.dot(Dn);if(Math.max(-Math.max(P,N,I),Math.min(P,N,I))>x)return!1}return!0}const Cr=new he,Br=new Ue,On=new Ue,$r=new Ue;class Gr{constructor(e=new Ue,s=-1){this.center=e,this.radius=s}set(e,s){return this.center.copy(e),this.radius=s,this}setFromPoints(e,s){const _=this.center;s!==void 0?_.copy(s):Cr.setFromPoints(e).getCenter(_);let u=0;for(let m=0,b=e.length;m<b;m++)u=Math.max(u,_.distanceToSquared(e[m]));return this.radius=Math.sqrt(u),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const s=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=s*s}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,s){const _=this.center.distanceToSquared(e);return s.copy(e),_>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){$r.subVectors(e,this.center);const s=$r.lengthSq();if(s>this.radius*this.radius){const _=Math.sqrt(s),u=.5*(_-this.radius);this.center.add($r.multiplyScalar(u/_)),this.radius+=u}return this}union(e){return On.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Br.copy(e.center).add(On)),this.expandByPoint(Br.copy(e.center).sub(On)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const us=new Ue,Ao=new Ue,Hs=new Ue,ui=new Ue,jo=new Ue,Ss=new Ue,uo=new Ue;class ia{constructor(e=new Ue,s=new Ue(0,0,-1)){this.origin=e,this.direction=s}set(e,s){return this.origin.copy(e),this.direction.copy(s),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,s){return s.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,us)),this}closestPointToPoint(e,s){s.subVectors(e,this.origin);const _=s.dot(this.direction);return _<0?s.copy(this.origin):s.copy(this.direction).multiplyScalar(_).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const s=us.subVectors(e,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(e):(us.copy(this.direction).multiplyScalar(s).add(this.origin),us.distanceToSquared(e))}distanceSqToSegment(e,s,_,u){Ao.copy(e).add(s).multiplyScalar(.5),Hs.copy(s).sub(e).normalize(),ui.copy(this.origin).sub(Ao);const m=.5*e.distanceTo(s),b=-this.direction.dot(Hs),x=ui.dot(this.direction),P=-ui.dot(Hs),N=ui.lengthSq(),I=Math.abs(1-b*b);let D,B,U,X;if(I>0)if(D=b*P-x,B=b*x-P,X=m*I,D>=0)if(B>=-X)if(B<=X){const ee=1/I;D*=ee,B*=ee,U=D*(D+b*B+2*x)+B*(b*D+B+2*P)+N}else B=m,D=Math.max(0,-(b*B+x)),U=-D*D+B*(B+2*P)+N;else B=-m,D=Math.max(0,-(b*B+x)),U=-D*D+B*(B+2*P)+N;else B<=-X?(D=Math.max(0,-(-b*m+x)),B=D>0?-m:Math.min(Math.max(-m,-P),m),U=-D*D+B*(B+2*P)+N):B<=X?(D=0,B=Math.min(Math.max(-m,-P),m),U=B*(B+2*P)+N):(D=Math.max(0,-(b*m+x)),B=D>0?m:Math.min(Math.max(-m,-P),m),U=-D*D+B*(B+2*P)+N);else B=b>0?-m:m,D=Math.max(0,-(b*B+x)),U=-D*D+B*(B+2*P)+N;return _&&_.copy(this.direction).multiplyScalar(D).add(this.origin),u&&u.copy(Hs).multiplyScalar(B).add(Ao),U}intersectSphere(e,s){us.subVectors(e.center,this.origin);const _=us.dot(this.direction),u=us.dot(us)-_*_,m=e.radius*e.radius;if(u>m)return null;const b=Math.sqrt(m-u),x=_-b,P=_+b;return x<0&&P<0?null:x<0?this.at(P,s):this.at(x,s)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const s=e.normal.dot(this.direction);if(s===0)return e.distanceToPoint(this.origin)===0?0:null;const _=-(this.origin.dot(e.normal)+e.constant)/s;return _>=0?_:null}intersectPlane(e,s){const _=this.distanceToPlane(e);return _===null?null:this.at(_,s)}intersectsPlane(e){const s=e.distanceToPoint(this.origin);return s===0?!0:e.normal.dot(this.direction)*s<0}intersectBox(e,s){let _,u,m,b,x,P;const N=1/this.direction.x,I=1/this.direction.y,D=1/this.direction.z,B=this.origin;return N>=0?(_=(e.min.x-B.x)*N,u=(e.max.x-B.x)*N):(_=(e.max.x-B.x)*N,u=(e.min.x-B.x)*N),I>=0?(m=(e.min.y-B.y)*I,b=(e.max.y-B.y)*I):(m=(e.max.y-B.y)*I,b=(e.min.y-B.y)*I),_>b||m>u?null:((m>_||_!=_)&&(_=m),(b<u||u!=u)&&(u=b),D>=0?(x=(e.min.z-B.z)*D,P=(e.max.z-B.z)*D):(x=(e.max.z-B.z)*D,P=(e.min.z-B.z)*D),_>P||x>u?null:((x>_||_!=_)&&(_=x),(P<u||u!=u)&&(u=P),u<0?null:this.at(_>=0?_:u,s)))}intersectsBox(e){return this.intersectBox(e,us)!==null}intersectTriangle(e,s,_,u,m){jo.subVectors(s,e),Ss.subVectors(_,e),uo.crossVectors(jo,Ss);let b,x=this.direction.dot(uo);if(x>0){if(u)return null;b=1}else{if(!(x<0))return null;b=-1,x=-x}ui.subVectors(this.origin,e);const P=b*this.direction.dot(Ss.crossVectors(ui,Ss));if(P<0)return null;const N=b*this.direction.dot(jo.cross(ui));if(N<0||P+N>x)return null;const I=-b*ui.dot(uo);return I<0?null:this.at(I/x,m)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Tn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,s,_,u,m,b,x,P,N,I,D,B,U,X,ee,ue){const ie=this.elements;return ie[0]=e,ie[4]=s,ie[8]=_,ie[12]=u,ie[1]=m,ie[5]=b,ie[9]=x,ie[13]=P,ie[2]=N,ie[6]=I,ie[10]=D,ie[14]=B,ie[3]=U,ie[7]=X,ie[11]=ee,ie[15]=ue,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Tn().fromArray(this.elements)}copy(e){const s=this.elements,_=e.elements;return s[0]=_[0],s[1]=_[1],s[2]=_[2],s[3]=_[3],s[4]=_[4],s[5]=_[5],s[6]=_[6],s[7]=_[7],s[8]=_[8],s[9]=_[9],s[10]=_[10],s[11]=_[11],s[12]=_[12],s[13]=_[13],s[14]=_[14],s[15]=_[15],this}copyPosition(e){const s=this.elements,_=e.elements;return s[12]=_[12],s[13]=_[13],s[14]=_[14],this}setFromMatrix3(e){const s=e.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(e,s,_){return e.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),_.setFromMatrixColumn(this,2),this}makeBasis(e,s,_){return this.set(e.x,s.x,_.x,0,e.y,s.y,_.y,0,e.z,s.z,_.z,0,0,0,0,1),this}extractRotation(e){const s=this.elements,_=e.elements,u=1/bo.setFromMatrixColumn(e,0).length(),m=1/bo.setFromMatrixColumn(e,1).length(),b=1/bo.setFromMatrixColumn(e,2).length();return s[0]=_[0]*u,s[1]=_[1]*u,s[2]=_[2]*u,s[3]=0,s[4]=_[4]*m,s[5]=_[5]*m,s[6]=_[6]*m,s[7]=0,s[8]=_[8]*b,s[9]=_[9]*b,s[10]=_[10]*b,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const s=this.elements,_=e.x,u=e.y,m=e.z,b=Math.cos(_),x=Math.sin(_),P=Math.cos(u),N=Math.sin(u),I=Math.cos(m),D=Math.sin(m);if(e.order==="XYZ"){const B=b*I,U=b*D,X=x*I,ee=x*D;s[0]=P*I,s[4]=-P*D,s[8]=N,s[1]=U+X*N,s[5]=B-ee*N,s[9]=-x*P,s[2]=ee-B*N,s[6]=X+U*N,s[10]=b*P}else if(e.order==="YXZ"){const B=P*I,U=P*D,X=N*I,ee=N*D;s[0]=B+ee*x,s[4]=X*x-U,s[8]=b*N,s[1]=b*D,s[5]=b*I,s[9]=-x,s[2]=U*x-X,s[6]=ee+B*x,s[10]=b*P}else if(e.order==="ZXY"){const B=P*I,U=P*D,X=N*I,ee=N*D;s[0]=B-ee*x,s[4]=-b*D,s[8]=X+U*x,s[1]=U+X*x,s[5]=b*I,s[9]=ee-B*x,s[2]=-b*N,s[6]=x,s[10]=b*P}else if(e.order==="ZYX"){const B=b*I,U=b*D,X=x*I,ee=x*D;s[0]=P*I,s[4]=X*N-U,s[8]=B*N+ee,s[1]=P*D,s[5]=ee*N+B,s[9]=U*N-X,s[2]=-N,s[6]=x*P,s[10]=b*P}else if(e.order==="YZX"){const B=b*P,U=b*N,X=x*P,ee=x*N;s[0]=P*I,s[4]=ee-B*D,s[8]=X*D+U,s[1]=D,s[5]=b*I,s[9]=-x*I,s[2]=-N*I,s[6]=U*D+X,s[10]=B-ee*D}else if(e.order==="XZY"){const B=b*P,U=b*N,X=x*P,ee=x*N;s[0]=P*I,s[4]=-D,s[8]=N*I,s[1]=B*D+ee,s[5]=b*I,s[9]=U*D-X,s[2]=X*D-U,s[6]=x*I,s[10]=ee*D+B}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Fs,e,pn)}lookAt(e,s,_){const u=this.elements;return Es.subVectors(e,s),Es.lengthSq()===0&&(Es.z=1),Es.normalize(),br.crossVectors(_,Es),br.lengthSq()===0&&(Math.abs(_.z)===1?Es.x+=1e-4:Es.z+=1e-4,Es.normalize(),br.crossVectors(_,Es)),br.normalize(),xr.crossVectors(Es,br),u[0]=br.x,u[4]=xr.x,u[8]=Es.x,u[1]=br.y,u[5]=xr.y,u[9]=Es.y,u[2]=br.z,u[6]=xr.z,u[10]=Es.z,this}multiply(e,s){return s!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,s)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const _=e.elements,u=s.elements,m=this.elements,b=_[0],x=_[4],P=_[8],N=_[12],I=_[1],D=_[5],B=_[9],U=_[13],X=_[2],ee=_[6],ue=_[10],ie=_[14],Ee=_[3],We=_[7],Re=_[11],et=_[15],ct=u[0],Ft=u[4],Ut=u[8],yi=u[12],ai=u[1],hi=u[5],Cn=u[9],sn=u[13],_i=u[2],ln=u[6],Un=u[10],qn=u[14],Zn=u[3],ur=u[7],Sr=u[11],hn=u[15];return m[0]=b*ct+x*ai+P*_i+N*Zn,m[4]=b*Ft+x*hi+P*ln+N*ur,m[8]=b*Ut+x*Cn+P*Un+N*Sr,m[12]=b*yi+x*sn+P*qn+N*hn,m[1]=I*ct+D*ai+B*_i+U*Zn,m[5]=I*Ft+D*hi+B*ln+U*ur,m[9]=I*Ut+D*Cn+B*Un+U*Sr,m[13]=I*yi+D*sn+B*qn+U*hn,m[2]=X*ct+ee*ai+ue*_i+ie*Zn,m[6]=X*Ft+ee*hi+ue*ln+ie*ur,m[10]=X*Ut+ee*Cn+ue*Un+ie*Sr,m[14]=X*yi+ee*sn+ue*qn+ie*hn,m[3]=Ee*ct+We*ai+Re*_i+et*Zn,m[7]=Ee*Ft+We*hi+Re*ln+et*ur,m[11]=Ee*Ut+We*Cn+Re*Un+et*Sr,m[15]=Ee*yi+We*sn+Re*qn+et*hn,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[4]*=e,s[8]*=e,s[12]*=e,s[1]*=e,s[5]*=e,s[9]*=e,s[13]*=e,s[2]*=e,s[6]*=e,s[10]*=e,s[14]*=e,s[3]*=e,s[7]*=e,s[11]*=e,s[15]*=e,this}determinant(){const e=this.elements,s=e[0],_=e[4],u=e[8],m=e[12],b=e[1],x=e[5],P=e[9],N=e[13],I=e[2],D=e[6],B=e[10],U=e[14];return e[3]*(+m*P*D-u*N*D-m*x*B+_*N*B+u*x*U-_*P*U)+e[7]*(+s*P*U-s*N*B+m*b*B-u*b*U+u*N*I-m*P*I)+e[11]*(+s*N*D-s*x*U-m*b*D+_*b*U+m*x*I-_*N*I)+e[15]*(-u*x*I-s*P*D+s*x*B+u*b*D-_*b*B+_*P*I)}transpose(){const e=this.elements;let s;return s=e[1],e[1]=e[4],e[4]=s,s=e[2],e[2]=e[8],e[8]=s,s=e[6],e[6]=e[9],e[9]=s,s=e[3],e[3]=e[12],e[12]=s,s=e[7],e[7]=e[13],e[13]=s,s=e[11],e[11]=e[14],e[14]=s,this}setPosition(e,s,_){const u=this.elements;return e.isVector3?(u[12]=e.x,u[13]=e.y,u[14]=e.z):(u[12]=e,u[13]=s,u[14]=_),this}invert(){const e=this.elements,s=e[0],_=e[1],u=e[2],m=e[3],b=e[4],x=e[5],P=e[6],N=e[7],I=e[8],D=e[9],B=e[10],U=e[11],X=e[12],ee=e[13],ue=e[14],ie=e[15],Ee=D*ue*N-ee*B*N+ee*P*U-x*ue*U-D*P*ie+x*B*ie,We=X*B*N-I*ue*N-X*P*U+b*ue*U+I*P*ie-b*B*ie,Re=I*ee*N-X*D*N+X*x*U-b*ee*U-I*x*ie+b*D*ie,et=X*D*P-I*ee*P-X*x*B+b*ee*B+I*x*ue-b*D*ue,ct=s*Ee+_*We+u*Re+m*et;if(ct===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ft=1/ct;return e[0]=Ee*Ft,e[1]=(ee*B*m-D*ue*m-ee*u*U+_*ue*U+D*u*ie-_*B*ie)*Ft,e[2]=(x*ue*m-ee*P*m+ee*u*N-_*ue*N-x*u*ie+_*P*ie)*Ft,e[3]=(D*P*m-x*B*m-D*u*N+_*B*N+x*u*U-_*P*U)*Ft,e[4]=We*Ft,e[5]=(I*ue*m-X*B*m+X*u*U-s*ue*U-I*u*ie+s*B*ie)*Ft,e[6]=(X*P*m-b*ue*m-X*u*N+s*ue*N+b*u*ie-s*P*ie)*Ft,e[7]=(b*B*m-I*P*m+I*u*N-s*B*N-b*u*U+s*P*U)*Ft,e[8]=Re*Ft,e[9]=(X*D*m-I*ee*m-X*_*U+s*ee*U+I*_*ie-s*D*ie)*Ft,e[10]=(b*ee*m-X*x*m+X*_*N-s*ee*N-b*_*ie+s*x*ie)*Ft,e[11]=(I*x*m-b*D*m-I*_*N+s*D*N+b*_*U-s*x*U)*Ft,e[12]=et*Ft,e[13]=(I*ee*u-X*D*u+X*_*B-s*ee*B-I*_*ue+s*D*ue)*Ft,e[14]=(X*x*u-b*ee*u-X*_*P+s*ee*P+b*_*ue-s*x*ue)*Ft,e[15]=(b*D*u-I*x*u+I*_*P-s*D*P-b*_*B+s*x*B)*Ft,this}scale(e){const s=this.elements,_=e.x,u=e.y,m=e.z;return s[0]*=_,s[4]*=u,s[8]*=m,s[1]*=_,s[5]*=u,s[9]*=m,s[2]*=_,s[6]*=u,s[10]*=m,s[3]*=_,s[7]*=u,s[11]*=m,this}getMaxScaleOnAxis(){const e=this.elements,s=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],_=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],u=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(s,_,u))}makeTranslation(e,s,_){return this.set(1,0,0,e,0,1,0,s,0,0,1,_,0,0,0,1),this}makeRotationX(e){const s=Math.cos(e),_=Math.sin(e);return this.set(1,0,0,0,0,s,-_,0,0,_,s,0,0,0,0,1),this}makeRotationY(e){const s=Math.cos(e),_=Math.sin(e);return this.set(s,0,_,0,0,1,0,0,-_,0,s,0,0,0,0,1),this}makeRotationZ(e){const s=Math.cos(e),_=Math.sin(e);return this.set(s,-_,0,0,_,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,s){const _=Math.cos(s),u=Math.sin(s),m=1-_,b=e.x,x=e.y,P=e.z,N=m*b,I=m*x;return this.set(N*b+_,N*x-u*P,N*P+u*x,0,N*x+u*P,I*x+_,I*P-u*b,0,N*P-u*x,I*P+u*b,m*P*P+_,0,0,0,0,1),this}makeScale(e,s,_){return this.set(e,0,0,0,0,s,0,0,0,0,_,0,0,0,0,1),this}makeShear(e,s,_,u,m,b){return this.set(1,_,m,0,e,1,b,0,s,u,1,0,0,0,0,1),this}compose(e,s,_){const u=this.elements,m=s._x,b=s._y,x=s._z,P=s._w,N=m+m,I=b+b,D=x+x,B=m*N,U=m*I,X=m*D,ee=b*I,ue=b*D,ie=x*D,Ee=P*N,We=P*I,Re=P*D,et=_.x,ct=_.y,Ft=_.z;return u[0]=(1-(ee+ie))*et,u[1]=(U+Re)*et,u[2]=(X-We)*et,u[3]=0,u[4]=(U-Re)*ct,u[5]=(1-(B+ie))*ct,u[6]=(ue+Ee)*ct,u[7]=0,u[8]=(X+We)*Ft,u[9]=(ue-Ee)*Ft,u[10]=(1-(B+ee))*Ft,u[11]=0,u[12]=e.x,u[13]=e.y,u[14]=e.z,u[15]=1,this}decompose(e,s,_){const u=this.elements;let m=bo.set(u[0],u[1],u[2]).length();const b=bo.set(u[4],u[5],u[6]).length(),x=bo.set(u[8],u[9],u[10]).length();this.determinant()<0&&(m=-m),e.x=u[12],e.y=u[13],e.z=u[14],vo.copy(this);const P=1/m,N=1/b,I=1/x;return vo.elements[0]*=P,vo.elements[1]*=P,vo.elements[2]*=P,vo.elements[4]*=N,vo.elements[5]*=N,vo.elements[6]*=N,vo.elements[8]*=I,vo.elements[9]*=I,vo.elements[10]*=I,s.setFromRotationMatrix(vo),_.x=m,_.y=b,_.z=x,this}makePerspective(e,s,_,u,m,b){b===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const x=this.elements,P=2*m/(s-e),N=2*m/(_-u),I=(s+e)/(s-e),D=(_+u)/(_-u),B=-(b+m)/(b-m),U=-2*b*m/(b-m);return x[0]=P,x[4]=0,x[8]=I,x[12]=0,x[1]=0,x[5]=N,x[9]=D,x[13]=0,x[2]=0,x[6]=0,x[10]=B,x[14]=U,x[3]=0,x[7]=0,x[11]=-1,x[15]=0,this}makeOrthographic(e,s,_,u,m,b){const x=this.elements,P=1/(s-e),N=1/(_-u),I=1/(b-m),D=(s+e)*P,B=(_+u)*N,U=(b+m)*I;return x[0]=2*P,x[4]=0,x[8]=0,x[12]=-D,x[1]=0,x[5]=2*N,x[9]=0,x[13]=-B,x[2]=0,x[6]=0,x[10]=-2*I,x[14]=-U,x[3]=0,x[7]=0,x[11]=0,x[15]=1,this}equals(e){const s=this.elements,_=e.elements;for(let u=0;u<16;u++)if(s[u]!==_[u])return!1;return!0}fromArray(e,s=0){for(let _=0;_<16;_++)this.elements[_]=e[_+s];return this}toArray(e=[],s=0){const _=this.elements;return e[s]=_[0],e[s+1]=_[1],e[s+2]=_[2],e[s+3]=_[3],e[s+4]=_[4],e[s+5]=_[5],e[s+6]=_[6],e[s+7]=_[7],e[s+8]=_[8],e[s+9]=_[9],e[s+10]=_[10],e[s+11]=_[11],e[s+12]=_[12],e[s+13]=_[13],e[s+14]=_[14],e[s+15]=_[15],e}}Tn.prototype.isMatrix4=!0;const bo=new Ue,vo=new Tn,Fs=new Ue(0,0,0),pn=new Ue(1,1,1),br=new Ue,xr=new Ue,Es=new Ue,Da=new Tn,Pr=new vs;class na{constructor(e=0,s=0,_=0,u=na.DefaultOrder){this._x=e,this._y=s,this._z=_,this._order=u}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,s,_,u=this._order){return this._x=e,this._y=s,this._z=_,this._order=u,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,s=this._order,_=!0){const u=e.elements,m=u[0],b=u[4],x=u[8],P=u[1],N=u[5],I=u[9],D=u[2],B=u[6],U=u[10];switch(s){case"XYZ":this._y=Math.asin(Ln(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(-I,U),this._z=Math.atan2(-b,m)):(this._x=Math.atan2(B,N),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(I,-1,1)),Math.abs(I)<.9999999?(this._y=Math.atan2(x,U),this._z=Math.atan2(P,N)):(this._y=Math.atan2(-D,m),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(B,-1,1)),Math.abs(B)<.9999999?(this._y=Math.atan2(-D,U),this._z=Math.atan2(-b,N)):(this._y=0,this._z=Math.atan2(P,m));break;case"ZYX":this._y=Math.asin(-Ln(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(B,U),this._z=Math.atan2(P,m)):(this._x=0,this._z=Math.atan2(-b,N));break;case"YZX":this._z=Math.asin(Ln(P,-1,1)),Math.abs(P)<.9999999?(this._x=Math.atan2(-I,N),this._y=Math.atan2(-D,m)):(this._x=0,this._y=Math.atan2(x,U));break;case"XZY":this._z=Math.asin(-Ln(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(B,N),this._y=Math.atan2(x,m)):(this._x=Math.atan2(-I,U),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,_===!0&&this._onChangeCallback(),this}setFromQuaternion(e,s,_){return Da.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Da,s,_)}setFromVector3(e,s=this._order){return this.set(e.x,e.y,e.z,s)}reorder(e){return Pr.setFromEuler(this),this.setFromQuaternion(Pr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ue(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}na.prototype.isEuler=!0,na.DefaultOrder="XYZ",na.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ma{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let xs=0;const Zs=new Ue,cs=new vs,ae=new Tn,se=new Ue,ge=new Ue,Ye=new Ue,Qt=new vs,Ti=new Ue(1,0,0),Wt=new Ue(0,1,0),Ni=new Ue(0,0,1),te={type:"added"},Q={type:"removed"};class le extends ii{constructor(){super(),Object.defineProperty(this,"id",{value:xs++}),this.uuid=zn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=le.DefaultUp.clone();const e=new Ue,s=new na,_=new vs,u=new Ue(1,1,1);s._onChange(function(){_.setFromEuler(s,!1)}),_._onChange(function(){s.setFromQuaternion(_,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:_},scale:{configurable:!0,enumerable:!0,value:u},modelViewMatrix:{value:new Tn},normalMatrix:{value:new Mr}}),this.matrix=new Tn,this.matrixWorld=new Tn,this.matrixAutoUpdate=le.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ma,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,s){this.quaternion.setFromAxisAngle(e,s)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,s){return cs.setFromAxisAngle(e,s),this.quaternion.multiply(cs),this}rotateOnWorldAxis(e,s){return cs.setFromAxisAngle(e,s),this.quaternion.premultiply(cs),this}rotateX(e){return this.rotateOnAxis(Ti,e)}rotateY(e){return this.rotateOnAxis(Wt,e)}rotateZ(e){return this.rotateOnAxis(Ni,e)}translateOnAxis(e,s){return Zs.copy(e).applyQuaternion(this.quaternion),this.position.add(Zs.multiplyScalar(s)),this}translateX(e){return this.translateOnAxis(Ti,e)}translateY(e){return this.translateOnAxis(Wt,e)}translateZ(e){return this.translateOnAxis(Ni,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ae.copy(this.matrixWorld).invert())}lookAt(e,s,_){e.isVector3?se.copy(e):se.set(e,s,_);const u=this.parent;this.updateWorldMatrix(!0,!1),ge.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ae.lookAt(ge,se,this.up):ae.lookAt(se,ge,this.up),this.quaternion.setFromRotationMatrix(ae),u&&(ae.extractRotation(u.matrixWorld),cs.setFromRotationMatrix(ae),this.quaternion.premultiply(cs.invert()))}add(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(te)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let _=0;_<arguments.length;_++)this.remove(arguments[_]);return this}const s=this.children.indexOf(e);return s!==-1&&(e.parent=null,this.children.splice(s,1),e.dispatchEvent(Q)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const s=this.children[e];s.parent=null,s.dispatchEvent(Q)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ae.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ae.multiply(e.parent.matrixWorld)),e.applyMatrix4(ae),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,s){if(this[e]===s)return this;for(let _=0,u=this.children.length;_<u;_++){const m=this.children[_].getObjectByProperty(e,s);if(m!==void 0)return m}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ge,e,Ye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ge,Qt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return e.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(e){e(this);const s=this.children;for(let _=0,u=s.length;_<u;_++)s[_].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const s=this.children;for(let _=0,u=s.length;_<u;_++)s[_].traverseVisible(e)}traverseAncestors(e){const s=this.parent;s!==null&&(e(s),s.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const s=this.children;for(let _=0,u=s.length;_<u;_++)s[_].updateMatrixWorld(e)}updateWorldMatrix(e,s){const _=this.parent;if(e===!0&&_!==null&&_.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),s===!0){const u=this.children;for(let m=0,b=u.length;m<b;m++)u[m].updateWorldMatrix(!1,!0)}}toJSON(e){const s=e===void 0||typeof e=="string",_={};s&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},_.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const u={};function m(x,P){return x[P.uuid]===void 0&&(x[P.uuid]=P.toJSON(e)),P.uuid}if(u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.castShadow===!0&&(u.castShadow=!0),this.receiveShadow===!0&&(u.receiveShadow=!0),this.visible===!1&&(u.visible=!1),this.frustumCulled===!1&&(u.frustumCulled=!1),this.renderOrder!==0&&(u.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(u.userData=this.userData),u.layers=this.layers.mask,u.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(u.matrixAutoUpdate=!1),this.isInstancedMesh&&(u.type="InstancedMesh",u.count=this.count,u.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(u.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?u.background=this.background.toJSON():this.background.isTexture&&(u.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(u.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){u.geometry=m(e.geometries,this.geometry);const x=this.geometry.parameters;if(x!==void 0&&x.shapes!==void 0){const P=x.shapes;if(Array.isArray(P))for(let N=0,I=P.length;N<I;N++){const D=P[N];m(e.shapes,D)}else m(e.shapes,P)}}if(this.isSkinnedMesh&&(u.bindMode=this.bindMode,u.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(m(e.skeletons,this.skeleton),u.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const x=[];for(let P=0,N=this.material.length;P<N;P++)x.push(m(e.materials,this.material[P]));u.material=x}else u.material=m(e.materials,this.material);if(this.children.length>0){u.children=[];for(let x=0;x<this.children.length;x++)u.children.push(this.children[x].toJSON(e).object)}if(this.animations.length>0){u.animations=[];for(let x=0;x<this.animations.length;x++){const P=this.animations[x];u.animations.push(m(e.animations,P))}}if(s){const x=b(e.geometries),P=b(e.materials),N=b(e.textures),I=b(e.images),D=b(e.shapes),B=b(e.skeletons),U=b(e.animations);x.length>0&&(_.geometries=x),P.length>0&&(_.materials=P),N.length>0&&(_.textures=N),I.length>0&&(_.images=I),D.length>0&&(_.shapes=D),B.length>0&&(_.skeletons=B),U.length>0&&(_.animations=U)}return _.object=u,_;function b(x){const P=[];for(const N in x){const I=x[N];delete I.metadata,P.push(I)}return P}}clone(e){return new this.constructor().copy(this,e)}copy(e,s=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),s===!0)for(let _=0;_<e.children.length;_++){const u=e.children[_];this.add(u.clone())}return this}}le.DefaultUp=new Ue(0,1,0),le.DefaultMatrixAutoUpdate=!0,le.prototype.isObject3D=!0;const Ae=new Ue,Te=new Ue,wt=new Ue,Bt=new Ue,di=new Ue,qi=new Ue,_n=new Ue,mi=new Ue,gi=new Ue,vn=new Ue;class Ii{constructor(e=new Ue,s=new Ue,_=new Ue){this.a=e,this.b=s,this.c=_}static getNormal(e,s,_,u){u.subVectors(_,s),Ae.subVectors(e,s),u.cross(Ae);const m=u.lengthSq();return m>0?u.multiplyScalar(1/Math.sqrt(m)):u.set(0,0,0)}static getBarycoord(e,s,_,u,m){Ae.subVectors(u,s),Te.subVectors(_,s),wt.subVectors(e,s);const b=Ae.dot(Ae),x=Ae.dot(Te),P=Ae.dot(wt),N=Te.dot(Te),I=Te.dot(wt),D=b*N-x*x;if(D===0)return m.set(-2,-1,-1);const B=1/D,U=(N*P-x*I)*B,X=(b*I-x*P)*B;return m.set(1-U-X,X,U)}static containsPoint(e,s,_,u){return this.getBarycoord(e,s,_,u,Bt),Bt.x>=0&&Bt.y>=0&&Bt.x+Bt.y<=1}static getUV(e,s,_,u,m,b,x,P){return this.getBarycoord(e,s,_,u,Bt),P.set(0,0),P.addScaledVector(m,Bt.x),P.addScaledVector(b,Bt.y),P.addScaledVector(x,Bt.z),P}static isFrontFacing(e,s,_,u){return Ae.subVectors(_,s),Te.subVectors(e,s),Ae.cross(Te).dot(u)<0}set(e,s,_){return this.a.copy(e),this.b.copy(s),this.c.copy(_),this}setFromPointsAndIndices(e,s,_,u){return this.a.copy(e[s]),this.b.copy(e[_]),this.c.copy(e[u]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ae.subVectors(this.c,this.b),Te.subVectors(this.a,this.b),.5*Ae.cross(Te).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ii.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,s){return Ii.getBarycoord(e,this.a,this.b,this.c,s)}getUV(e,s,_,u,m){return Ii.getUV(e,this.a,this.b,this.c,s,_,u,m)}containsPoint(e){return Ii.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ii.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,s){const _=this.a,u=this.b,m=this.c;let b,x;di.subVectors(u,_),qi.subVectors(m,_),mi.subVectors(e,_);const P=di.dot(mi),N=qi.dot(mi);if(P<=0&&N<=0)return s.copy(_);gi.subVectors(e,u);const I=di.dot(gi),D=qi.dot(gi);if(I>=0&&D<=I)return s.copy(u);const B=P*D-I*N;if(B<=0&&P>=0&&I<=0)return b=P/(P-I),s.copy(_).addScaledVector(di,b);vn.subVectors(e,m);const U=di.dot(vn),X=qi.dot(vn);if(X>=0&&U<=X)return s.copy(m);const ee=U*N-P*X;if(ee<=0&&N>=0&&X<=0)return x=N/(N-X),s.copy(_).addScaledVector(qi,x);const ue=I*X-U*D;if(ue<=0&&D-I>=0&&U-X>=0)return _n.subVectors(m,u),x=(D-I)/(D-I+(U-X)),s.copy(u).addScaledVector(_n,x);const ie=1/(ue+ee+B);return b=ee*ie,x=B*ie,s.copy(_).addScaledVector(di,b).addScaledVector(qi,x)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let rn=0;class Ci extends ii{constructor(){super(),Object.defineProperty(this,"id",{value:rn++}),this.uuid=zn(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=1023,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const s in e){const _=e[s];if(_===void 0){console.warn("THREE.Material: '"+s+"' parameter is undefined.");continue}if(s==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=_===1;continue}const u=this[s];u!==void 0?u&&u.isColor?u.set(_):u&&u.isVector3&&_&&_.isVector3?u.copy(_):this[s]=_:console.warn("THREE."+this.type+": '"+s+"' is not a property of this material.")}}toJSON(e){const s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{}});const _={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function u(m){const b=[];for(const x in m){const P=m[x];delete P.metadata,b.push(P)}return b}if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),this.color&&this.color.isColor&&(_.color=this.color.getHex()),this.roughness!==void 0&&(_.roughness=this.roughness),this.metalness!==void 0&&(_.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(_.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(_.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(_.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(_.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(_.specularTint=this.specularTint.getHex()),this.shininess!==void 0&&(_.shininess=this.shininess),this.clearcoat!==void 0&&(_.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(_.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,_.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(_.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(_.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(_.lightMap=this.lightMap.toJSON(e).uuid,_.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_.aoMap=this.aoMap.toJSON(e).uuid,_.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_.bumpMap=this.bumpMap.toJSON(e).uuid,_.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_.normalMap=this.normalMap.toJSON(e).uuid,_.normalMapType=this.normalMapType,_.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_.displacementMap=this.displacementMap.toJSON(e).uuid,_.displacementScale=this.displacementScale,_.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(_.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(_.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(_.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(_.combine=this.combine)),this.envMapIntensity!==void 0&&(_.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(_.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(_.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(_.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(_.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(_.attenuationDistance=this.attenuationDistance),this.attenuationTint!==void 0&&(_.attenuationTint=this.attenuationTint.getHex()),this.size!==void 0&&(_.size=this.size),this.shadowSide!==null&&(_.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(_.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(_.blending=this.blending),this.side!==0&&(_.side=this.side),this.vertexColors&&(_.vertexColors=!0),this.opacity<1&&(_.opacity=this.opacity),this.format!==1023&&(_.format=this.format),this.transparent===!0&&(_.transparent=this.transparent),_.depthFunc=this.depthFunc,_.depthTest=this.depthTest,_.depthWrite=this.depthWrite,_.colorWrite=this.colorWrite,_.stencilWrite=this.stencilWrite,_.stencilWriteMask=this.stencilWriteMask,_.stencilFunc=this.stencilFunc,_.stencilRef=this.stencilRef,_.stencilFuncMask=this.stencilFuncMask,_.stencilFail=this.stencilFail,_.stencilZFail=this.stencilZFail,_.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(_.rotation=this.rotation),this.polygonOffset===!0&&(_.polygonOffset=!0),this.polygonOffsetFactor!==0&&(_.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(_.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(_.linewidth=this.linewidth),this.dashSize!==void 0&&(_.dashSize=this.dashSize),this.gapSize!==void 0&&(_.gapSize=this.gapSize),this.scale!==void 0&&(_.scale=this.scale),this.dithering===!0&&(_.dithering=!0),this.alphaTest>0&&(_.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(_.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(_.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(_.wireframe=this.wireframe),this.wireframeLinewidth>1&&(_.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(_.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(_.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(_.flatShading=this.flatShading),this.visible===!1&&(_.visible=!1),this.toneMapped===!1&&(_.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(_.userData=this.userData),s){const m=u(e.textures),b=u(e.images);m.length>0&&(_.textures=m),b.length>0&&(_.images=b)}return _}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const s=e.clippingPlanes;let _=null;if(s!==null){const u=s.length;_=new Array(u);for(let m=0;m!==u;++m)_[m]=s[m].clone()}return this.clippingPlanes=_,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Ci.prototype.isMaterial=!0;const wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bn={h:0,s:0,l:0},nr={h:0,s:0,l:0};function rr(T,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?T+6*(e-T)*s:s<.5?e:s<2/3?T+6*(e-T)*(2/3-s):T}function Rr(T){return T<.04045?.0773993808*T:Math.pow(.9478672986*T+.0521327014,2.4)}function Nr(T){return T<.0031308?12.92*T:1.055*Math.pow(T,.41666)-.055}class Ki{constructor(e,s,_){return s===void 0&&_===void 0?this.set(e):this.setRGB(e,s,_)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,s,_){return this.r=e,this.g=s,this.b=_,this}setHSL(e,s,_){if(e=In(e,1),s=Ln(s,0,1),_=Ln(_,0,1),s===0)this.r=this.g=this.b=_;else{const u=_<=.5?_*(1+s):_+s-_*s,m=2*_-u;this.r=rr(m,u,e+1/3),this.g=rr(m,u,e),this.b=rr(m,u,e-1/3)}return this}setStyle(e){function s(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let _;if(_=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let u;const m=_[1],b=_[2];switch(m){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(255,parseInt(u[1],10))/255,this.g=Math.min(255,parseInt(u[2],10))/255,this.b=Math.min(255,parseInt(u[3],10))/255,s(u[4]),this;if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(100,parseInt(u[1],10))/100,this.g=Math.min(100,parseInt(u[2],10))/100,this.b=Math.min(100,parseInt(u[3],10))/100,s(u[4]),this;break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b)){const x=parseFloat(u[1])/360,P=parseInt(u[2],10)/100,N=parseInt(u[3],10)/100;return s(u[4]),this.setHSL(x,P,N)}}}else if(_=/^\#([A-Fa-f\d]+)$/.exec(e)){const u=_[1],m=u.length;if(m===3)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(m===6)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const s=wn[e.toLowerCase()];return s!==void 0?this.setHex(s):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,s=2){return this.r=Math.pow(e.r,s),this.g=Math.pow(e.g,s),this.b=Math.pow(e.b,s),this}copyLinearToGamma(e,s=2){const _=s>0?1/s:1;return this.r=Math.pow(e.r,_),this.g=Math.pow(e.g,_),this.b=Math.pow(e.b,_),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Rr(e.r),this.g=Rr(e.g),this.b=Rr(e.b),this}copyLinearToSRGB(e){return this.r=Nr(e.r),this.g=Nr(e.g),this.b=Nr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const s=this.r,_=this.g,u=this.b,m=Math.max(s,_,u),b=Math.min(s,_,u);let x,P;const N=(b+m)/2;if(b===m)x=0,P=0;else{const I=m-b;switch(P=N<=.5?I/(m+b):I/(2-m-b),m){case s:x=(_-u)/I+(_<u?6:0);break;case _:x=(u-s)/I+2;break;case u:x=(s-_)/I+4}x/=6}return e.h=x,e.s=P,e.l=N,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,s,_){return this.getHSL(Bn),Bn.h+=e,Bn.s+=s,Bn.l+=_,this.setHSL(Bn.h,Bn.s,Bn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,s){return this.r=e.r+s.r,this.g=e.g+s.g,this.b=e.b+s.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,s){return this.r+=(e.r-this.r)*s,this.g+=(e.g-this.g)*s,this.b+=(e.b-this.b)*s,this}lerpColors(e,s,_){return this.r=e.r+(s.r-e.r)*_,this.g=e.g+(s.g-e.g)*_,this.b=e.b+(s.b-e.b)*_,this}lerpHSL(e,s){this.getHSL(Bn),e.getHSL(nr);const _=tr(Bn.h,nr.h,s),u=tr(Bn.s,nr.s,s),m=tr(Bn.l,nr.l,s);return this.setHSL(_,u,m),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,s=0){return this.r=e[s],this.g=e[s+1],this.b=e[s+2],this}toArray(e=[],s=0){return e[s]=this.r,e[s+1]=this.g,e[s+2]=this.b,e}fromBufferAttribute(e,s){return this.r=e.getX(s),this.g=e.getY(s),this.b=e.getZ(s),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ki.NAMES=wn,Ki.prototype.isColor=!0,Ki.prototype.r=1,Ki.prototype.g=1,Ki.prototype.b=1;class ls extends Ci{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Ki(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}ls.prototype.isMeshBasicMaterial=!0;const pr=new Ue,Os=new Vi;class or{constructor(e,s,_){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=s,this.count=e!==void 0?e.length/s:0,this.normalized=_===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,s,_){e*=this.itemSize,_*=s.itemSize;for(let u=0,m=this.itemSize;u<m;u++)this.array[e+u]=s.array[_+u];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const s=this.array;let _=0;for(let u=0,m=e.length;u<m;u++){let b=e[u];b===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",u),b=new Ki),s[_++]=b.r,s[_++]=b.g,s[_++]=b.b}return this}copyVector2sArray(e){const s=this.array;let _=0;for(let u=0,m=e.length;u<m;u++){let b=e[u];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",u),b=new Vi),s[_++]=b.x,s[_++]=b.y}return this}copyVector3sArray(e){const s=this.array;let _=0;for(let u=0,m=e.length;u<m;u++){let b=e[u];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",u),b=new Ue),s[_++]=b.x,s[_++]=b.y,s[_++]=b.z}return this}copyVector4sArray(e){const s=this.array;let _=0;for(let u=0,m=e.length;u<m;u++){let b=e[u];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",u),b=new dr),s[_++]=b.x,s[_++]=b.y,s[_++]=b.z,s[_++]=b.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let s=0,_=this.count;s<_;s++)Os.fromBufferAttribute(this,s),Os.applyMatrix3(e),this.setXY(s,Os.x,Os.y);else if(this.itemSize===3)for(let s=0,_=this.count;s<_;s++)pr.fromBufferAttribute(this,s),pr.applyMatrix3(e),this.setXYZ(s,pr.x,pr.y,pr.z);return this}applyMatrix4(e){for(let s=0,_=this.count;s<_;s++)pr.x=this.getX(s),pr.y=this.getY(s),pr.z=this.getZ(s),pr.applyMatrix4(e),this.setXYZ(s,pr.x,pr.y,pr.z);return this}applyNormalMatrix(e){for(let s=0,_=this.count;s<_;s++)pr.x=this.getX(s),pr.y=this.getY(s),pr.z=this.getZ(s),pr.applyNormalMatrix(e),this.setXYZ(s,pr.x,pr.y,pr.z);return this}transformDirection(e){for(let s=0,_=this.count;s<_;s++)pr.x=this.getX(s),pr.y=this.getY(s),pr.z=this.getZ(s),pr.transformDirection(e),this.setXYZ(s,pr.x,pr.y,pr.z);return this}set(e,s=0){return this.array.set(e,s),this}getX(e){return this.array[e*this.itemSize]}setX(e,s){return this.array[e*this.itemSize]=s,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,s){return this.array[e*this.itemSize+1]=s,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,s){return this.array[e*this.itemSize+2]=s,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,s){return this.array[e*this.itemSize+3]=s,this}setXY(e,s,_){return e*=this.itemSize,this.array[e+0]=s,this.array[e+1]=_,this}setXYZ(e,s,_,u){return e*=this.itemSize,this.array[e+0]=s,this.array[e+1]=_,this.array[e+2]=u,this}setXYZW(e,s,_,u,m){return e*=this.itemSize,this.array[e+0]=s,this.array[e+1]=_,this.array[e+2]=u,this.array[e+3]=m,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==35044&&(e.usage=this.usage),this.updateRange.offset===0&&this.updateRange.count===-1||(e.updateRange=this.updateRange),e}}or.prototype.isBufferAttribute=!0;class So extends or{constructor(e,s,_){super(new Int8Array(e),s,_)}}class Ms extends or{constructor(e,s,_){super(new Uint8Array(e),s,_)}}class xo extends or{constructor(e,s,_){super(new Uint8ClampedArray(e),s,_)}}class Yo extends or{constructor(e,s,_){super(new Int16Array(e),s,_)}}class qo extends or{constructor(e,s,_){super(new Uint16Array(e),s,_)}}class Eo extends or{constructor(e,s,_){super(new Int32Array(e),s,_)}}class Qs extends or{constructor(e,s,_){super(new Uint32Array(e),s,_)}}class C0 extends or{constructor(e,s,_){super(new Uint16Array(e),s,_)}}C0.prototype.isFloat16BufferAttribute=!0;class Fn extends or{constructor(e,s,_){super(new Float32Array(e),s,_)}}class fa extends or{constructor(e,s,_){super(new Float64Array(e),s,_)}}function $0(T){if(T.length===0)return-1/0;let e=T[0];for(let s=1,_=T.length;s<_;++s)T[s]>e&&(e=T[s]);return e}const Ql={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ga(T,e){return new Ql[T](e)}let Z0=0;const Mo=new Tn,os=new le,X0=new Ue,Bo=new he,K0=new he,eo=new Ue;class mr extends ii{constructor(){super(),Object.defineProperty(this,"id",{value:Z0++}),this.uuid=zn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($0(e)>65535?Qs:qo)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,s){return this.attributes[e]=s,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,s,_=0){this.groups.push({start:e,count:s,materialIndex:_})}clearGroups(){this.groups=[]}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}applyMatrix4(e){const s=this.attributes.position;s!==void 0&&(s.applyMatrix4(e),s.needsUpdate=!0);const _=this.attributes.normal;if(_!==void 0){const m=new Mr().getNormalMatrix(e);_.applyNormalMatrix(m),_.needsUpdate=!0}const u=this.attributes.tangent;return u!==void 0&&(u.transformDirection(e),u.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,s,_){return Mo.makeTranslation(e,s,_),this.applyMatrix4(Mo),this}scale(e,s,_){return Mo.makeScale(e,s,_),this.applyMatrix4(Mo),this}lookAt(e){return os.lookAt(e),os.updateMatrix(),this.applyMatrix4(os.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(X0).negate(),this.translate(X0.x,X0.y,X0.z),this}setFromPoints(e){const s=[];for(let _=0,u=e.length;_<u;_++){const m=e[_];s.push(m.x,m.y,m.z||0)}return this.setAttribute("position",new Fn(s,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new he);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ue(-1/0,-1/0,-1/0),new Ue(1/0,1/0,1/0));if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),s)for(let _=0,u=s.length;_<u;_++){const m=s[_];Bo.setFromBufferAttribute(m),this.morphTargetsRelative?(eo.addVectors(this.boundingBox.min,Bo.min),this.boundingBox.expandByPoint(eo),eo.addVectors(this.boundingBox.max,Bo.max),this.boundingBox.expandByPoint(eo)):(this.boundingBox.expandByPoint(Bo.min),this.boundingBox.expandByPoint(Bo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Gr);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ue,1/0);if(e){const _=this.boundingSphere.center;if(Bo.setFromBufferAttribute(e),s)for(let m=0,b=s.length;m<b;m++){const x=s[m];K0.setFromBufferAttribute(x),this.morphTargetsRelative?(eo.addVectors(Bo.min,K0.min),Bo.expandByPoint(eo),eo.addVectors(Bo.max,K0.max),Bo.expandByPoint(eo)):(Bo.expandByPoint(K0.min),Bo.expandByPoint(K0.max))}Bo.getCenter(_);let u=0;for(let m=0,b=e.count;m<b;m++)eo.fromBufferAttribute(e,m),u=Math.max(u,_.distanceToSquared(eo));if(s)for(let m=0,b=s.length;m<b;m++){const x=s[m],P=this.morphTargetsRelative;for(let N=0,I=x.count;N<I;N++)eo.fromBufferAttribute(x,N),P&&(X0.fromBufferAttribute(e,N),eo.add(X0)),u=Math.max(u,_.distanceToSquared(eo))}this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,s=this.attributes;if(e===null||s.position===void 0||s.normal===void 0||s.uv===void 0)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const _=e.array,u=s.position.array,m=s.normal.array,b=s.uv.array,x=u.length/3;s.tangent===void 0&&this.setAttribute("tangent",new or(new Float32Array(4*x),4));const P=s.tangent.array,N=[],I=[];for(let ai=0;ai<x;ai++)N[ai]=new Ue,I[ai]=new Ue;const D=new Ue,B=new Ue,U=new Ue,X=new Vi,ee=new Vi,ue=new Vi,ie=new Ue,Ee=new Ue;function We(ai,hi,Cn){D.fromArray(u,3*ai),B.fromArray(u,3*hi),U.fromArray(u,3*Cn),X.fromArray(b,2*ai),ee.fromArray(b,2*hi),ue.fromArray(b,2*Cn),B.sub(D),U.sub(D),ee.sub(X),ue.sub(X);const sn=1/(ee.x*ue.y-ue.x*ee.y);isFinite(sn)&&(ie.copy(B).multiplyScalar(ue.y).addScaledVector(U,-ee.y).multiplyScalar(sn),Ee.copy(U).multiplyScalar(ee.x).addScaledVector(B,-ue.x).multiplyScalar(sn),N[ai].add(ie),N[hi].add(ie),N[Cn].add(ie),I[ai].add(Ee),I[hi].add(Ee),I[Cn].add(Ee))}let Re=this.groups;Re.length===0&&(Re=[{start:0,count:_.length}]);for(let ai=0,hi=Re.length;ai<hi;++ai){const Cn=Re[ai],sn=Cn.start;for(let _i=sn,ln=sn+Cn.count;_i<ln;_i+=3)We(_[_i+0],_[_i+1],_[_i+2])}const et=new Ue,ct=new Ue,Ft=new Ue,Ut=new Ue;function yi(ai){Ft.fromArray(m,3*ai),Ut.copy(Ft);const hi=N[ai];et.copy(hi),et.sub(Ft.multiplyScalar(Ft.dot(hi))).normalize(),ct.crossVectors(Ut,hi);const Cn=ct.dot(I[ai])<0?-1:1;P[4*ai]=et.x,P[4*ai+1]=et.y,P[4*ai+2]=et.z,P[4*ai+3]=Cn}for(let ai=0,hi=Re.length;ai<hi;++ai){const Cn=Re[ai],sn=Cn.start;for(let _i=sn,ln=sn+Cn.count;_i<ln;_i+=3)yi(_[_i+0]),yi(_[_i+1]),yi(_[_i+2])}}computeVertexNormals(){const e=this.index,s=this.getAttribute("position");if(s!==void 0){let _=this.getAttribute("normal");if(_===void 0)_=new or(new Float32Array(3*s.count),3),this.setAttribute("normal",_);else for(let B=0,U=_.count;B<U;B++)_.setXYZ(B,0,0,0);const u=new Ue,m=new Ue,b=new Ue,x=new Ue,P=new Ue,N=new Ue,I=new Ue,D=new Ue;if(e)for(let B=0,U=e.count;B<U;B+=3){const X=e.getX(B+0),ee=e.getX(B+1),ue=e.getX(B+2);u.fromBufferAttribute(s,X),m.fromBufferAttribute(s,ee),b.fromBufferAttribute(s,ue),I.subVectors(b,m),D.subVectors(u,m),I.cross(D),x.fromBufferAttribute(_,X),P.fromBufferAttribute(_,ee),N.fromBufferAttribute(_,ue),x.add(I),P.add(I),N.add(I),_.setXYZ(X,x.x,x.y,x.z),_.setXYZ(ee,P.x,P.y,P.z),_.setXYZ(ue,N.x,N.y,N.z)}else for(let B=0,U=s.count;B<U;B+=3)u.fromBufferAttribute(s,B+0),m.fromBufferAttribute(s,B+1),b.fromBufferAttribute(s,B+2),I.subVectors(b,m),D.subVectors(u,m),I.cross(D),_.setXYZ(B+0,I.x,I.y,I.z),_.setXYZ(B+1,I.x,I.y,I.z),_.setXYZ(B+2,I.x,I.y,I.z);this.normalizeNormals(),_.needsUpdate=!0}}merge(e,s){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);s===void 0&&(s=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const _=this.attributes;for(const u in _){if(e.attributes[u]===void 0)continue;const m=_[u].array,b=e.attributes[u],x=b.array,P=b.itemSize*s,N=Math.min(x.length,m.length-P);for(let I=0,D=P;I<N;I++,D++)m[D]=x[I]}return this}normalizeNormals(){const e=this.attributes.normal;for(let s=0,_=e.count;s<_;s++)eo.fromBufferAttribute(e,s),eo.normalize(),e.setXYZ(s,eo.x,eo.y,eo.z)}toNonIndexed(){function e(x,P){const N=x.array,I=x.itemSize,D=x.normalized,B=new N.constructor(P.length*I);let U=0,X=0;for(let ee=0,ue=P.length;ee<ue;ee++){U=x.isInterleavedBufferAttribute?P[ee]*x.data.stride+x.offset:P[ee]*I;for(let ie=0;ie<I;ie++)B[X++]=N[U++]}return new or(B,I,D)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new mr,_=this.index.array,u=this.attributes;for(const x in u){const P=e(u[x],_);s.setAttribute(x,P)}const m=this.morphAttributes;for(const x in m){const P=[],N=m[x];for(let I=0,D=N.length;I<D;I++){const B=e(N[I],_);P.push(B)}s.morphAttributes[x]=P}s.morphTargetsRelative=this.morphTargetsRelative;const b=this.groups;for(let x=0,P=b.length;x<P;x++){const N=b[x];s.addGroup(N.start,N.count,N.materialIndex)}return s}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const P=this.parameters;for(const N in P)P[N]!==void 0&&(e[N]=P[N]);return e}e.data={attributes:{}};const s=this.index;s!==null&&(e.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const _=this.attributes;for(const P in _){const N=_[P];e.data.attributes[P]=N.toJSON(e.data)}const u={};let m=!1;for(const P in this.morphAttributes){const N=this.morphAttributes[P],I=[];for(let D=0,B=N.length;D<B;D++){const U=N[D];I.push(U.toJSON(e.data))}I.length>0&&(u[P]=I,m=!0)}m&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);const b=this.groups;b.length>0&&(e.data.groups=JSON.parse(JSON.stringify(b)));const x=this.boundingSphere;return x!==null&&(e.data.boundingSphere={center:x.center.toArray(),radius:x.radius}),e}clone(){return new mr().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=e.name;const _=e.index;_!==null&&this.setIndex(_.clone(s));const u=e.attributes;for(const N in u){const I=u[N];this.setAttribute(N,I.clone(s))}const m=e.morphAttributes;for(const N in m){const I=[],D=m[N];for(let B=0,U=D.length;B<U;B++)I.push(D[B].clone(s));this.morphAttributes[N]=I}this.morphTargetsRelative=e.morphTargetsRelative;const b=e.groups;for(let N=0,I=b.length;N<I;N++){const D=b[N];this.addGroup(D.start,D.count,D.materialIndex)}const x=e.boundingBox;x!==null&&(this.boundingBox=x.clone());const P=e.boundingSphere;return P!==null&&(this.boundingSphere=P.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}mr.prototype.isBufferGeometry=!0;const bl=new Tn,s0=new ia,e_=new Gr,Ra=new Ue,ua=new Ue,Ta=new Ue,vl=new Ue,Q0=new Ue,Sl=new Ue,Vr=new Ue,P0=new Ue,o0=new Ue,el=new Vi,tl=new Vi,il=new Vi,t_=new Ue,i_=new Ue;class co extends le{constructor(e=new mr,s=new ls){super(),this.type="Mesh",this.geometry=e,this.material=s,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const s=e.morphAttributes,_=Object.keys(s);if(_.length>0){const u=s[_[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,b=u.length;m<b;m++){const x=u[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=m}}}}else{const s=e.morphTargets;s!==void 0&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,s){const _=this.geometry,u=this.material,m=this.matrixWorld;if(u===void 0||(_.boundingSphere===null&&_.computeBoundingSphere(),e_.copy(_.boundingSphere),e_.applyMatrix4(m),e.ray.intersectsSphere(e_)===!1)||(bl.copy(m).invert(),s0.copy(e.ray).applyMatrix4(bl),_.boundingBox!==null&&s0.intersectsBox(_.boundingBox)===!1))return;let b;if(_.isBufferGeometry){const x=_.index,P=_.attributes.position,N=_.morphAttributes.position,I=_.morphTargetsRelative,D=_.attributes.uv,B=_.attributes.uv2,U=_.groups,X=_.drawRange;if(x!==null)if(Array.isArray(u))for(let ee=0,ue=U.length;ee<ue;ee++){const ie=U[ee],Ee=u[ie.materialIndex];for(let We=Math.max(ie.start,X.start),Re=Math.min(ie.start+ie.count,X.start+X.count);We<Re;We+=3){const et=x.getX(We),ct=x.getX(We+1),Ft=x.getX(We+2);b=nl(this,Ee,e,s0,P,N,I,D,B,et,ct,Ft),b&&(b.faceIndex=Math.floor(We/3),b.face.materialIndex=ie.materialIndex,s.push(b))}}else for(let ee=Math.max(0,X.start),ue=Math.min(x.count,X.start+X.count);ee<ue;ee+=3){const ie=x.getX(ee),Ee=x.getX(ee+1),We=x.getX(ee+2);b=nl(this,u,e,s0,P,N,I,D,B,ie,Ee,We),b&&(b.faceIndex=Math.floor(ee/3),s.push(b))}else if(P!==void 0)if(Array.isArray(u))for(let ee=0,ue=U.length;ee<ue;ee++){const ie=U[ee],Ee=u[ie.materialIndex];for(let We=Math.max(ie.start,X.start),Re=Math.min(ie.start+ie.count,X.start+X.count);We<Re;We+=3)b=nl(this,Ee,e,s0,P,N,I,D,B,We,We+1,We+2),b&&(b.faceIndex=Math.floor(We/3),b.face.materialIndex=ie.materialIndex,s.push(b))}else for(let ee=Math.max(0,X.start),ue=Math.min(P.count,X.start+X.count);ee<ue;ee+=3)b=nl(this,u,e,s0,P,N,I,D,B,ee,ee+1,ee+2),b&&(b.faceIndex=Math.floor(ee/3),s.push(b))}else _.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function nl(T,e,s,_,u,m,b,x,P,N,I,D){Ra.fromBufferAttribute(u,N),ua.fromBufferAttribute(u,I),Ta.fromBufferAttribute(u,D);const B=T.morphTargetInfluences;if(m&&B){Vr.set(0,0,0),P0.set(0,0,0),o0.set(0,0,0);for(let X=0,ee=m.length;X<ee;X++){const ue=B[X],ie=m[X];ue!==0&&(vl.fromBufferAttribute(ie,N),Q0.fromBufferAttribute(ie,I),Sl.fromBufferAttribute(ie,D),b?(Vr.addScaledVector(vl,ue),P0.addScaledVector(Q0,ue),o0.addScaledVector(Sl,ue)):(Vr.addScaledVector(vl.sub(Ra),ue),P0.addScaledVector(Q0.sub(ua),ue),o0.addScaledVector(Sl.sub(Ta),ue)))}Ra.add(Vr),ua.add(P0),Ta.add(o0)}T.isSkinnedMesh&&(T.boneTransform(N,Ra),T.boneTransform(I,ua),T.boneTransform(D,Ta));const U=function(X,ee,ue,ie,Ee,We,Re,et){let ct;if(ct=ee.side===1?ie.intersectTriangle(Re,We,Ee,!0,et):ie.intersectTriangle(Ee,We,Re,ee.side!==2,et),ct===null)return null;i_.copy(et),i_.applyMatrix4(X.matrixWorld);const Ft=ue.ray.origin.distanceTo(i_);return Ft<ue.near||Ft>ue.far?null:{distance:Ft,point:i_.clone(),object:X}}(T,e,s,_,Ra,ua,Ta,t_);if(U){x&&(el.fromBufferAttribute(x,N),tl.fromBufferAttribute(x,I),il.fromBufferAttribute(x,D),U.uv=Ii.getUV(t_,Ra,ua,Ta,el,tl,il,new Vi)),P&&(el.fromBufferAttribute(P,N),tl.fromBufferAttribute(P,I),il.fromBufferAttribute(P,D),U.uv2=Ii.getUV(t_,Ra,ua,Ta,el,tl,il,new Vi));const X={a:N,b:I,c:D,normal:new Ue,materialIndex:0};Ii.getNormal(Ra,ua,Ta,X.normal),U.face=X}return U}co.prototype.isMesh=!0;class $o extends mr{constructor(e=1,s=1,_=1,u=1,m=1,b=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:s,depth:_,widthSegments:u,heightSegments:m,depthSegments:b};const x=this;u=Math.floor(u),m=Math.floor(m),b=Math.floor(b);const P=[],N=[],I=[],D=[];let B=0,U=0;function X(ee,ue,ie,Ee,We,Re,et,ct,Ft,Ut,yi){const ai=Re/Ft,hi=et/Ut,Cn=Re/2,sn=et/2,_i=ct/2,ln=Ft+1,Un=Ut+1;let qn=0,Zn=0;const ur=new Ue;for(let Sr=0;Sr<Un;Sr++){const hn=Sr*hi-sn;for(let at=0;at<ln;at++){const Ct=at*ai-Cn;ur[ee]=Ct*Ee,ur[ue]=hn*We,ur[ie]=_i,N.push(ur.x,ur.y,ur.z),ur[ee]=0,ur[ue]=0,ur[ie]=ct>0?1:-1,I.push(ur.x,ur.y,ur.z),D.push(at/Ft),D.push(1-Sr/Ut),qn+=1}}for(let Sr=0;Sr<Ut;Sr++)for(let hn=0;hn<Ft;hn++){const at=B+hn+ln*Sr,Ct=B+hn+ln*(Sr+1),Bi=B+(hn+1)+ln*(Sr+1),xi=B+(hn+1)+ln*Sr;P.push(at,Ct,xi),P.push(Ct,Bi,xi),Zn+=6}x.addGroup(U,Zn,yi),U+=Zn,B+=qn}X("z","y","x",-1,-1,_,s,e,b,m,0),X("z","y","x",1,-1,_,s,-e,b,m,1),X("x","z","y",1,1,e,_,s,u,b,2),X("x","z","y",1,-1,e,_,-s,u,b,3),X("x","y","z",1,-1,e,s,_,u,m,4),X("x","y","z",-1,-1,e,s,-_,u,m,5),this.setIndex(P),this.setAttribute("position",new Fn(N,3)),this.setAttribute("normal",new Fn(I,3)),this.setAttribute("uv",new Fn(D,2))}static fromJSON(e){return new $o(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function N0(T){const e={};for(const s in T){e[s]={};for(const _ in T[s]){const u=T[s][_];u&&(u.isColor||u.isMatrix3||u.isMatrix4||u.isVector2||u.isVector3||u.isVector4||u.isTexture||u.isQuaternion)?e[s][_]=u.clone():Array.isArray(u)?e[s][_]=u.slice():e[s][_]=u}}return e}function Io(T){const e={};for(let s=0;s<T.length;s++){const _=N0(T[s]);for(const u in _)e[u]=_[u]}return e}const su={clone:N0,merge:Io};class t0 extends Ci{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=N0(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const s=super.toJSON(e);s.glslVersion=this.glslVersion,s.uniforms={};for(const u in this.uniforms){const m=this.uniforms[u].value;m&&m.isTexture?s.uniforms[u]={type:"t",value:m.toJSON(e).uuid}:m&&m.isColor?s.uniforms[u]={type:"c",value:m.getHex()}:m&&m.isVector2?s.uniforms[u]={type:"v2",value:m.toArray()}:m&&m.isVector3?s.uniforms[u]={type:"v3",value:m.toArray()}:m&&m.isVector4?s.uniforms[u]={type:"v4",value:m.toArray()}:m&&m.isMatrix3?s.uniforms[u]={type:"m3",value:m.toArray()}:m&&m.isMatrix4?s.uniforms[u]={type:"m4",value:m.toArray()}:s.uniforms[u]={value:m}}Object.keys(this.defines).length>0&&(s.defines=this.defines),s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader;const _={};for(const u in this.extensions)this.extensions[u]===!0&&(_[u]=!0);return Object.keys(_).length>0&&(s.extensions=_),s}}t0.prototype.isShaderMaterial=!0;class n_ extends le{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Tn,this.projectionMatrix=new Tn,this.projectionMatrixInverse=new Tn}copy(e,s){return super.copy(e,s),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return e.set(-s[8],-s[9],-s[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,s){super.updateWorldMatrix(e,s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}n_.prototype.isCamera=!0;class ao extends n_{constructor(e=50,s=1,_=.1,u=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=_,this.far=u,this.focus=10,this.aspect=s,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const s=.5*this.getFilmHeight()/e;this.fov=2*Hn*Math.atan(s),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Mn*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Hn*Math.atan(Math.tan(.5*Mn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,s,_,u,m,b){this.aspect=e/s,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=_,this.view.offsetY=u,this.view.width=m,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let s=e*Math.tan(.5*Mn*this.fov)/this.zoom,_=2*s,u=this.aspect*_,m=-.5*u;const b=this.view;if(this.view!==null&&this.view.enabled){const P=b.fullWidth,N=b.fullHeight;m+=b.offsetX*u/P,s-=b.offsetY*_/N,u*=b.width/P,_*=b.height/N}const x=this.filmOffset;x!==0&&(m+=e*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(m,m+u,s,s-_,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.fov=this.fov,s.object.zoom=this.zoom,s.object.near=this.near,s.object.far=this.far,s.object.focus=this.focus,s.object.aspect=this.aspect,this.view!==null&&(s.object.view=Object.assign({},this.view)),s.object.filmGauge=this.filmGauge,s.object.filmOffset=this.filmOffset,s}}ao.prototype.isPerspectiveCamera=!0;const Va=90;class r_ extends le{constructor(e,s,_){if(super(),this.type="CubeCamera",_.isWebGLCubeRenderTarget!==!0)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=_;const u=new ao(Va,1,e,s);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Ue(1,0,0)),this.add(u);const m=new ao(Va,1,e,s);m.layers=this.layers,m.up.set(0,-1,0),m.lookAt(new Ue(-1,0,0)),this.add(m);const b=new ao(Va,1,e,s);b.layers=this.layers,b.up.set(0,0,1),b.lookAt(new Ue(0,1,0)),this.add(b);const x=new ao(Va,1,e,s);x.layers=this.layers,x.up.set(0,0,-1),x.lookAt(new Ue(0,-1,0)),this.add(x);const P=new ao(Va,1,e,s);P.layers=this.layers,P.up.set(0,-1,0),P.lookAt(new Ue(0,0,1)),this.add(P);const N=new ao(Va,1,e,s);N.layers=this.layers,N.up.set(0,-1,0),N.lookAt(new Ue(0,0,-1)),this.add(N)}update(e,s){this.parent===null&&this.updateMatrixWorld();const _=this.renderTarget,[u,m,b,x,P,N]=this.children,I=e.xr.enabled,D=e.getRenderTarget();e.xr.enabled=!1;const B=_.texture.generateMipmaps;_.texture.generateMipmaps=!1,e.setRenderTarget(_,0),e.render(s,u),e.setRenderTarget(_,1),e.render(s,m),e.setRenderTarget(_,2),e.render(s,b),e.setRenderTarget(_,3),e.render(s,x),e.setRenderTarget(_,4),e.render(s,P),_.texture.generateMipmaps=B,e.setRenderTarget(_,5),e.render(s,N),e.setRenderTarget(D),e.xr.enabled=I}}class a0 extends es{constructor(e,s,_,u,m,b,x,P,N,I){super(e=e!==void 0?e:[],s=s!==void 0?s:301,_,u,m,b,x=x!==void 0?x:1022,P,N,I),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}a0.prototype.isCubeTexture=!0;class rl extends Rs{constructor(e,s,_){Number.isInteger(s)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),s=_),super(e,e,s),s=s||{},this.texture=new a0(void 0,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=s.generateMipmaps!==void 0&&s.generateMipmaps,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:1006,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,s){this.texture.type=s.type,this.texture.format=1023,this.texture.encoding=s.encoding,this.texture.generateMipmaps=s.generateMipmaps,this.texture.minFilter=s.minFilter,this.texture.magFilter=s.magFilter;const _={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},u=new $o(5,5,5),m=new t0({name:"CubemapFromEquirect",uniforms:N0(_.uniforms),vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,side:1,blending:0});m.uniforms.tEquirect.value=s;const b=new co(u,m),x=s.minFilter;return s.minFilter===1008&&(s.minFilter=1006),new r_(1,10,this).update(e,b),s.minFilter=x,b.geometry.dispose(),b.material.dispose(),this}clear(e,s,_,u){const m=e.getRenderTarget();for(let b=0;b<6;b++)e.setRenderTarget(this,b),e.clear(s,_,u);e.setRenderTarget(m)}}rl.prototype.isWebGLCubeRenderTarget=!0;const ya=new Ue,v_=new Ue,ou=new Mr;class Aa{constructor(e=new Ue(1,0,0),s=0){this.normal=e,this.constant=s}set(e,s){return this.normal.copy(e),this.constant=s,this}setComponents(e,s,_,u){return this.normal.set(e,s,_),this.constant=u,this}setFromNormalAndCoplanarPoint(e,s){return this.normal.copy(e),this.constant=-s.dot(this.normal),this}setFromCoplanarPoints(e,s,_){const u=ya.subVectors(_,s).cross(v_.subVectors(e,s)).normalize();return this.setFromNormalAndCoplanarPoint(u,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,s){return s.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,s){const _=e.delta(ya),u=this.normal.dot(_);if(u===0)return this.distanceToPoint(e.start)===0?s.copy(e.start):null;const m=-(e.start.dot(this.normal)+this.constant)/u;return m<0||m>1?null:s.copy(_).multiplyScalar(m).add(e.start)}intersectsLine(e){const s=this.distanceToPoint(e.start),_=this.distanceToPoint(e.end);return s<0&&_>0||_<0&&s>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,s){const _=s||ou.getNormalMatrix(e),u=this.coplanarPoint(ya).applyMatrix4(e),m=this.normal.applyMatrix3(_).normalize();return this.constant=-u.dot(m),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Aa.prototype.isPlane=!0;const l0=new Gr,sl=new Ue;class ol{constructor(e=new Aa,s=new Aa,_=new Aa,u=new Aa,m=new Aa,b=new Aa){this.planes=[e,s,_,u,m,b]}set(e,s,_,u,m,b){const x=this.planes;return x[0].copy(e),x[1].copy(s),x[2].copy(_),x[3].copy(u),x[4].copy(m),x[5].copy(b),this}copy(e){const s=this.planes;for(let _=0;_<6;_++)s[_].copy(e.planes[_]);return this}setFromProjectionMatrix(e){const s=this.planes,_=e.elements,u=_[0],m=_[1],b=_[2],x=_[3],P=_[4],N=_[5],I=_[6],D=_[7],B=_[8],U=_[9],X=_[10],ee=_[11],ue=_[12],ie=_[13],Ee=_[14],We=_[15];return s[0].setComponents(x-u,D-P,ee-B,We-ue).normalize(),s[1].setComponents(x+u,D+P,ee+B,We+ue).normalize(),s[2].setComponents(x+m,D+N,ee+U,We+ie).normalize(),s[3].setComponents(x-m,D-N,ee-U,We-ie).normalize(),s[4].setComponents(x-b,D-I,ee-X,We-Ee).normalize(),s[5].setComponents(x+b,D+I,ee+X,We+Ee).normalize(),this}intersectsObject(e){const s=e.geometry;return s.boundingSphere===null&&s.computeBoundingSphere(),l0.copy(s.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(l0)}intersectsSprite(e){return l0.center.set(0,0,0),l0.radius=.7071067811865476,l0.applyMatrix4(e.matrixWorld),this.intersectsSphere(l0)}intersectsSphere(e){const s=this.planes,_=e.center,u=-e.radius;for(let m=0;m<6;m++)if(s[m].distanceToPoint(_)<u)return!1;return!0}intersectsBox(e){const s=this.planes;for(let _=0;_<6;_++){const u=s[_];if(sl.x=u.normal.x>0?e.max.x:e.min.x,sl.y=u.normal.y>0?e.max.y:e.min.y,sl.z=u.normal.z>0?e.max.z:e.min.z,u.distanceToPoint(sl)<0)return!1}return!0}containsPoint(e){const s=this.planes;for(let _=0;_<6;_++)if(s[_].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function xl(){let T=null,e=!1,s=null,_=null;function u(m,b){s(m,b),_=T.requestAnimationFrame(u)}return{start:function(){e!==!0&&s!==null&&(_=T.requestAnimationFrame(u),e=!0)},stop:function(){T.cancelAnimationFrame(_),e=!1},setAnimationLoop:function(m){s=m},setContext:function(m){T=m}}}function au(T,e){const s=e.isWebGL2,_=new WeakMap;return{get:function(u){return u.isInterleavedBufferAttribute&&(u=u.data),_.get(u)},remove:function(u){u.isInterleavedBufferAttribute&&(u=u.data);const m=_.get(u);m&&(T.deleteBuffer(m.buffer),_.delete(u))},update:function(u,m){if(u.isGLBufferAttribute){const x=_.get(u);return void((!x||x.version<u.version)&&_.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version}))}u.isInterleavedBufferAttribute&&(u=u.data);const b=_.get(u);b===void 0?_.set(u,function(x,P){const N=x.array,I=x.usage,D=T.createBuffer();T.bindBuffer(P,D),T.bufferData(P,N,I),x.onUploadCallback();let B=5126;return N instanceof Float32Array?B=5126:N instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):N instanceof Uint16Array?x.isFloat16BufferAttribute?s?B=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):B=5123:N instanceof Int16Array?B=5122:N instanceof Uint32Array?B=5125:N instanceof Int32Array?B=5124:N instanceof Int8Array?B=5120:(N instanceof Uint8Array||N instanceof Uint8ClampedArray)&&(B=5121),{buffer:D,type:B,bytesPerElement:N.BYTES_PER_ELEMENT,version:x.version}}(u,m)):b.version<u.version&&(function(x,P,N){const I=P.array,D=P.updateRange;T.bindBuffer(N,x),D.count===-1?T.bufferSubData(N,0,I):(s?T.bufferSubData(N,D.offset*I.BYTES_PER_ELEMENT,I,D.offset,D.count):T.bufferSubData(N,D.offset*I.BYTES_PER_ELEMENT,I.subarray(D.offset,D.offset+D.count)),D.count=-1)}(b.buffer,u,m),b.version=u.version)}}}class ba extends mr{constructor(e=1,s=1,_=1,u=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:s,widthSegments:_,heightSegments:u};const m=e/2,b=s/2,x=Math.floor(_),P=Math.floor(u),N=x+1,I=P+1,D=e/x,B=s/P,U=[],X=[],ee=[],ue=[];for(let ie=0;ie<I;ie++){const Ee=ie*B-b;for(let We=0;We<N;We++){const Re=We*D-m;X.push(Re,-Ee,0),ee.push(0,0,1),ue.push(We/x),ue.push(1-ie/P)}}for(let ie=0;ie<P;ie++)for(let Ee=0;Ee<x;Ee++){const We=Ee+N*ie,Re=Ee+N*(ie+1),et=Ee+1+N*(ie+1),ct=Ee+1+N*ie;U.push(We,Re,ct),U.push(Re,et,ct)}this.setIndex(U),this.setAttribute("position",new Fn(X,3)),this.setAttribute("normal",new Fn(ee,3)),this.setAttribute("uv",new Fn(ue,2))}static fromJSON(e){return new ba(e.width,e.height,e.widthSegments,e.heightSegments)}}const Zr={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment:`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotVH = saturate( dot( geometry.viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float NoH ) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float NoV, float NoL ) {
	return saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );
}
vec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex:`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex:`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common:`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in GeometricContext geometry ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularTintFactor = specularTint;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARTINTMAP
			specularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularTintFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenTint = sheenTint;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenTint;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(		0, 1,		0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment:`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex:`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex:`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment:`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
							f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
							f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(	1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,	1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,	1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment:`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationTint, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = transmission.a;
#endif`,transmission_pars_fragment:`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationTint;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularTint;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARTINTMAP
		uniform sampler2D specularTintMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenTint;
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},Rn={common:{diffuse:{value:new Ki(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Mr},uv2Transform:{value:new Mr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vi(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ki(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ki(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Mr}},sprite:{diffuse:{value:new Ki(16777215)},opacity:{value:1},center:{value:new Vi(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Mr}}},Ja={basic:{uniforms:Io([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.fog]),vertexShader:Zr.meshbasic_vert,fragmentShader:Zr.meshbasic_frag},lambert:{uniforms:Io([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.fog,Rn.lights,{emissive:{value:new Ki(0)}}]),vertexShader:Zr.meshlambert_vert,fragmentShader:Zr.meshlambert_frag},phong:{uniforms:Io([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,Rn.lights,{emissive:{value:new Ki(0)},specular:{value:new Ki(1118481)},shininess:{value:30}}]),vertexShader:Zr.meshphong_vert,fragmentShader:Zr.meshphong_frag},standard:{uniforms:Io([Rn.common,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.roughnessmap,Rn.metalnessmap,Rn.fog,Rn.lights,{emissive:{value:new Ki(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zr.meshphysical_vert,fragmentShader:Zr.meshphysical_frag},toon:{uniforms:Io([Rn.common,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.gradientmap,Rn.fog,Rn.lights,{emissive:{value:new Ki(0)}}]),vertexShader:Zr.meshtoon_vert,fragmentShader:Zr.meshtoon_frag},matcap:{uniforms:Io([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,{matcap:{value:null}}]),vertexShader:Zr.meshmatcap_vert,fragmentShader:Zr.meshmatcap_frag},points:{uniforms:Io([Rn.points,Rn.fog]),vertexShader:Zr.points_vert,fragmentShader:Zr.points_frag},dashed:{uniforms:Io([Rn.common,Rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zr.linedashed_vert,fragmentShader:Zr.linedashed_frag},depth:{uniforms:Io([Rn.common,Rn.displacementmap]),vertexShader:Zr.depth_vert,fragmentShader:Zr.depth_frag},normal:{uniforms:Io([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,{opacity:{value:1}}]),vertexShader:Zr.meshnormal_vert,fragmentShader:Zr.meshnormal_frag},sprite:{uniforms:Io([Rn.sprite,Rn.fog]),vertexShader:Zr.sprite_vert,fragmentShader:Zr.sprite_frag},background:{uniforms:{uvTransform:{value:new Mr},t2D:{value:null}},vertexShader:Zr.background_vert,fragmentShader:Zr.background_frag},cube:{uniforms:Io([Rn.envmap,{opacity:{value:1}}]),vertexShader:Zr.cube_vert,fragmentShader:Zr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zr.equirect_vert,fragmentShader:Zr.equirect_frag},distanceRGBA:{uniforms:Io([Rn.common,Rn.displacementmap,{referencePosition:{value:new Ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zr.distanceRGBA_vert,fragmentShader:Zr.distanceRGBA_frag},shadow:{uniforms:Io([Rn.lights,Rn.fog,{color:{value:new Ki(0)},opacity:{value:1}}]),vertexShader:Zr.shadow_vert,fragmentShader:Zr.shadow_frag}};function Cl(T,e,s,_,u){const m=new Ki(0);let b,x,P=0,N=null,I=0,D=null;function B(U,X){s.buffers.color.setClear(U.r,U.g,U.b,X,u)}return{getClearColor:function(){return m},setClearColor:function(U,X=1){m.set(U),P=X,B(m,P)},getClearAlpha:function(){return P},setClearAlpha:function(U){P=U,B(m,P)},render:function(U,X){let ee=!1,ue=X.isScene===!0?X.background:null;ue&&ue.isTexture&&(ue=e.get(ue));const ie=T.xr,Ee=ie.getSession&&ie.getSession();Ee&&Ee.environmentBlendMode==="additive"&&(ue=null),ue===null?B(m,P):ue&&ue.isColor&&(B(ue,1),ee=!0),(T.autoClear||ee)&&T.clear(T.autoClearColor,T.autoClearDepth,T.autoClearStencil),ue&&(ue.isCubeTexture||ue.mapping===306)?(x===void 0&&(x=new co(new $o(1,1,1),new t0({name:"BackgroundCubeMaterial",uniforms:N0(Ja.cube.uniforms),vertexShader:Ja.cube.vertexShader,fragmentShader:Ja.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(We,Re,et){this.matrixWorld.copyPosition(et.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),_.update(x)),x.material.uniforms.envMap.value=ue,x.material.uniforms.flipEnvMap.value=ue.isCubeTexture&&ue.isRenderTargetTexture===!1?-1:1,N===ue&&I===ue.version&&D===T.toneMapping||(x.material.needsUpdate=!0,N=ue,I=ue.version,D=T.toneMapping),U.unshift(x,x.geometry,x.material,0,0,null)):ue&&ue.isTexture&&(b===void 0&&(b=new co(new ba(2,2),new t0({name:"BackgroundMaterial",uniforms:N0(Ja.background.uniforms),vertexShader:Ja.background.vertexShader,fragmentShader:Ja.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),Object.defineProperty(b.material,"map",{get:function(){return this.uniforms.t2D.value}}),_.update(b)),b.material.uniforms.t2D.value=ue,ue.matrixAutoUpdate===!0&&ue.updateMatrix(),b.material.uniforms.uvTransform.value.copy(ue.matrix),N===ue&&I===ue.version&&D===T.toneMapping||(b.material.needsUpdate=!0,N=ue,I=ue.version,D=T.toneMapping),U.unshift(b,b.geometry,b.material,0,0,null))}}}function Zu(T,e,s,_){const u=T.getParameter(34921),m=_.isWebGL2?null:e.get("OES_vertex_array_object"),b=_.isWebGL2||m!==null,x={},P=B(null);let N=P;function I(Re){return _.isWebGL2?T.bindVertexArray(Re):m.bindVertexArrayOES(Re)}function D(Re){return _.isWebGL2?T.deleteVertexArray(Re):m.deleteVertexArrayOES(Re)}function B(Re){const et=[],ct=[],Ft=[];for(let Ut=0;Ut<u;Ut++)et[Ut]=0,ct[Ut]=0,Ft[Ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:et,enabledAttributes:ct,attributeDivisors:Ft,object:Re,attributes:{},index:null}}function U(){const Re=N.newAttributes;for(let et=0,ct=Re.length;et<ct;et++)Re[et]=0}function X(Re){ee(Re,0)}function ee(Re,et){const ct=N.newAttributes,Ft=N.enabledAttributes,Ut=N.attributeDivisors;ct[Re]=1,Ft[Re]===0&&(T.enableVertexAttribArray(Re),Ft[Re]=1),Ut[Re]!==et&&((_.isWebGL2?T:e.get("ANGLE_instanced_arrays"))[_.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Re,et),Ut[Re]=et)}function ue(){const Re=N.newAttributes,et=N.enabledAttributes;for(let ct=0,Ft=et.length;ct<Ft;ct++)et[ct]!==Re[ct]&&(T.disableVertexAttribArray(ct),et[ct]=0)}function ie(Re,et,ct,Ft,Ut,yi){_.isWebGL2!==!0||ct!==5124&&ct!==5125?T.vertexAttribPointer(Re,et,ct,Ft,Ut,yi):T.vertexAttribIPointer(Re,et,ct,Ut,yi)}function Ee(){We(),N!==P&&(N=P,I(N.object))}function We(){P.geometry=null,P.program=null,P.wireframe=!1}return{setup:function(Re,et,ct,Ft,Ut){let yi=!1;if(b){const ai=function(hi,Cn,sn){const _i=sn.wireframe===!0;let ln=x[hi.id];ln===void 0&&(ln={},x[hi.id]=ln);let Un=ln[Cn.id];Un===void 0&&(Un={},ln[Cn.id]=Un);let qn=Un[_i];return qn===void 0&&(qn=B(_.isWebGL2?T.createVertexArray():m.createVertexArrayOES()),Un[_i]=qn),qn}(Ft,ct,et);N!==ai&&(N=ai,I(N.object)),yi=function(hi,Cn){const sn=N.attributes,_i=hi.attributes;let ln=0;for(const Un in _i){const qn=sn[Un],Zn=_i[Un];if(qn===void 0||qn.attribute!==Zn||qn.data!==Zn.data)return!0;ln++}return N.attributesNum!==ln||N.index!==Cn}(Ft,Ut),yi&&function(hi,Cn){const sn={},_i=hi.attributes;let ln=0;for(const Un in _i){const qn=_i[Un],Zn={};Zn.attribute=qn,qn.data&&(Zn.data=qn.data),sn[Un]=Zn,ln++}N.attributes=sn,N.attributesNum=ln,N.index=Cn}(Ft,Ut)}else{const ai=et.wireframe===!0;N.geometry===Ft.id&&N.program===ct.id&&N.wireframe===ai||(N.geometry=Ft.id,N.program=ct.id,N.wireframe=ai,yi=!0)}Re.isInstancedMesh===!0&&(yi=!0),Ut!==null&&s.update(Ut,34963),yi&&(function(ai,hi,Cn,sn){if(_.isWebGL2===!1&&(ai.isInstancedMesh||sn.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;U();const _i=sn.attributes,ln=Cn.getAttributes(),Un=hi.defaultAttributeValues;for(const qn in ln){const Zn=ln[qn];if(Zn.location>=0){let ur=_i[qn];if(ur===void 0&&(qn==="instanceMatrix"&&ai.instanceMatrix&&(ur=ai.instanceMatrix),qn==="instanceColor"&&ai.instanceColor&&(ur=ai.instanceColor)),ur!==void 0){const Sr=ur.normalized,hn=ur.itemSize,at=s.get(ur);if(at===void 0)continue;const Ct=at.buffer,Bi=at.type,xi=at.bytesPerElement;if(ur.isInterleavedBufferAttribute){const pi=ur.data,Pn=pi.stride,xn=ur.offset;if(pi&&pi.isInstancedInterleavedBuffer){for(let Ai=0;Ai<Zn.locationSize;Ai++)ee(Zn.location+Ai,pi.meshPerAttribute);ai.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=pi.meshPerAttribute*pi.count)}else for(let Ai=0;Ai<Zn.locationSize;Ai++)X(Zn.location+Ai);T.bindBuffer(34962,Ct);for(let Ai=0;Ai<Zn.locationSize;Ai++)ie(Zn.location+Ai,hn/Zn.locationSize,Bi,Sr,Pn*xi,(xn+hn/Zn.locationSize*Ai)*xi)}else{if(ur.isInstancedBufferAttribute){for(let pi=0;pi<Zn.locationSize;pi++)ee(Zn.location+pi,ur.meshPerAttribute);ai.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=ur.meshPerAttribute*ur.count)}else for(let pi=0;pi<Zn.locationSize;pi++)X(Zn.location+pi);T.bindBuffer(34962,Ct);for(let pi=0;pi<Zn.locationSize;pi++)ie(Zn.location+pi,hn/Zn.locationSize,Bi,Sr,hn*xi,hn/Zn.locationSize*pi*xi)}}else if(Un!==void 0){const Sr=Un[qn];if(Sr!==void 0)switch(Sr.length){case 2:T.vertexAttrib2fv(Zn.location,Sr);break;case 3:T.vertexAttrib3fv(Zn.location,Sr);break;case 4:T.vertexAttrib4fv(Zn.location,Sr);break;default:T.vertexAttrib1fv(Zn.location,Sr)}}}}ue()}(Re,et,ct,Ft),Ut!==null&&T.bindBuffer(34963,s.get(Ut).buffer))},reset:Ee,resetDefaultState:We,dispose:function(){Ee();for(const Re in x){const et=x[Re];for(const ct in et){const Ft=et[ct];for(const Ut in Ft)D(Ft[Ut].object),delete Ft[Ut];delete et[ct]}delete x[Re]}},releaseStatesOfGeometry:function(Re){if(x[Re.id]===void 0)return;const et=x[Re.id];for(const ct in et){const Ft=et[ct];for(const Ut in Ft)D(Ft[Ut].object),delete Ft[Ut];delete et[ct]}delete x[Re.id]},releaseStatesOfProgram:function(Re){for(const et in x){const ct=x[et];if(ct[Re.id]===void 0)continue;const Ft=ct[Re.id];for(const Ut in Ft)D(Ft[Ut].object),delete Ft[Ut];delete ct[Re.id]}},initAttributes:U,enableAttribute:X,disableUnusedAttributes:ue}}function s_(T,e,s,_){const u=_.isWebGL2;let m;this.setMode=function(b){m=b},this.render=function(b,x){T.drawArrays(m,b,x),s.update(x,m,1)},this.renderInstances=function(b,x,P){if(P===0)return;let N,I;if(u)N=T,I="drawArraysInstanced";else if(N=e.get("ANGLE_instanced_arrays"),I="drawArraysInstancedANGLE",N===null)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");N[I](m,b,x,P),s.update(x,m,P)}}function Bc(T,e,s){let _;function u(Re){if(Re==="highp"){if(T.getShaderPrecisionFormat(35633,36338).precision>0&&T.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Re="mediump"}return Re==="mediump"&&T.getShaderPrecisionFormat(35633,36337).precision>0&&T.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const m=typeof WebGL2RenderingContext<"u"&&T instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&T instanceof WebGL2ComputeRenderingContext;let b=s.precision!==void 0?s.precision:"highp";const x=u(b);x!==b&&(console.warn("THREE.WebGLRenderer:",b,"not supported, using",x,"instead."),b=x);const P=m||e.has("WEBGL_draw_buffers"),N=s.logarithmicDepthBuffer===!0,I=T.getParameter(34930),D=T.getParameter(35660),B=T.getParameter(3379),U=T.getParameter(34076),X=T.getParameter(34921),ee=T.getParameter(36347),ue=T.getParameter(36348),ie=T.getParameter(36349),Ee=D>0,We=m||e.has("OES_texture_float");return{isWebGL2:m,drawBuffers:P,getMaxAnisotropy:function(){if(_!==void 0)return _;if(e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");_=T.getParameter(Re.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else _=0;return _},getMaxPrecision:u,precision:b,logarithmicDepthBuffer:N,maxTextures:I,maxVertexTextures:D,maxTextureSize:B,maxCubemapSize:U,maxAttributes:X,maxVertexUniforms:ee,maxVaryings:ue,maxFragmentUniforms:ie,vertexTextures:Ee,floatFragmentTextures:We,floatVertexTextures:Ee&&We,maxSamples:m?T.getParameter(36183):0}}function S_(T){const e=this;let s=null,_=0,u=!1,m=!1;const b=new Aa,x=new Mr,P={value:null,needsUpdate:!1};function N(){P.value!==s&&(P.value=s,P.needsUpdate=_>0),e.numPlanes=_,e.numIntersection=0}function I(D,B,U,X){const ee=D!==null?D.length:0;let ue=null;if(ee!==0){if(ue=P.value,X!==!0||ue===null){const ie=U+4*ee,Ee=B.matrixWorldInverse;x.getNormalMatrix(Ee),(ue===null||ue.length<ie)&&(ue=new Float32Array(ie));for(let We=0,Re=U;We!==ee;++We,Re+=4)b.copy(D[We]).applyMatrix4(Ee,x),b.normal.toArray(ue,Re),ue[Re+3]=b.constant}P.value=ue,P.needsUpdate=!0}return e.numPlanes=ee,e.numIntersection=0,ue}this.uniform=P,this.numPlanes=0,this.numIntersection=0,this.init=function(D,B,U){const X=D.length!==0||B||_!==0||u;return u=B,s=I(D,U,0),_=D.length,X},this.beginShadows=function(){m=!0,I(null)},this.endShadows=function(){m=!1,N()},this.setState=function(D,B,U){const X=D.clippingPlanes,ee=D.clipIntersection,ue=D.clipShadows,ie=T.get(D);if(!u||X===null||X.length===0||m&&!ue)m?I(null):N();else{const Ee=m?0:_,We=4*Ee;let Re=ie.clippingState||null;P.value=Re,Re=I(X,B,We,U);for(let et=0;et!==We;++et)Re[et]=s[et];ie.clippingState=Re,this.numIntersection=ee?this.numPlanes:0,this.numPlanes+=Ee}}}function o_(T){let e=new WeakMap;function s(u,m){return m===303?u.mapping=301:m===304&&(u.mapping=302),u}function _(u){const m=u.target;m.removeEventListener("dispose",_);const b=e.get(m);b!==void 0&&(e.delete(m),b.dispose())}return{get:function(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const m=u.mapping;if(m===303||m===304){if(e.has(u))return s(e.get(u).texture,u.mapping);{const b=u.image;if(b&&b.height>0){const x=T.getRenderTarget(),P=new rl(b.height/2);return P.fromEquirectangularTexture(T,u),e.set(u,P),T.setRenderTarget(x),u.addEventListener("dispose",_),s(P.texture,u.mapping)}return null}}}return u},dispose:function(){e=new WeakMap}}}Ja.physical={uniforms:Io([Ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vi(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new Ki(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new Ki(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new Ki(1,1,1)},specularTintMap:{value:null}}]),vertexShader:Zr.meshphysical_vert,fragmentShader:Zr.meshphysical_frag};class va extends n_{constructor(e=-1,s=1,_=1,u=-1,m=.1,b=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=s,this.top=_,this.bottom=u,this.near=m,this.far=b,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,s,_,u,m,b){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=_,this.view.offsetY=u,this.view.width=m,this.view.height=b,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),_=(this.right+this.left)/2,u=(this.top+this.bottom)/2;let m=_-e,b=_+e,x=u+s,P=u-s;if(this.view!==null&&this.view.enabled){const N=(this.right-this.left)/this.view.fullWidth/this.zoom,I=(this.top-this.bottom)/this.view.fullHeight/this.zoom;m+=N*this.view.offsetX,b=m+N*this.view.width,x-=I*this.view.offsetY,P=x-I*this.view.height}this.projectionMatrix.makeOrthographic(m,b,x,P,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.zoom=this.zoom,s.object.left=this.left,s.object.right=this.right,s.object.top=this.top,s.object.bottom=this.bottom,s.object.near=this.near,s.object.far=this.far,this.view!==null&&(s.object.view=Object.assign({},this.view)),s}}va.prototype.isOrthographicCamera=!0;class al extends t0{constructor(e){super(e),this.type="RawShaderMaterial"}}al.prototype.isRawShaderMaterial=!0;const ja=Math.pow(2,8),Pl=[.125,.215,.35,.446,.526,.582],Xu=5+Pl.length,x_=20,i0={[3e3]:0,[3001]:1,[3002]:2,[3004]:3,[3005]:4,[3006]:5,[3007]:6},Nl=new va,{_lodPlanes:_0,_sizeLods:lu,_sigmas:w0}=E0(),C_=new Ki;let wl=null;const Go=(1+Math.sqrt(5))/2,Ha=1/Go,_u=[new Ue(1,1,1),new Ue(-1,1,1),new Ue(1,1,-1),new Ue(-1,1,-1),new Ue(0,Go,Ha),new Ue(0,Go,-Ha),new Ue(Ha,0,Go),new Ue(-Ha,0,Go),new Ue(Go,Ha,0),new Ue(-Go,Ha,0)];class ca{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(s){const _=new Float32Array(s),u=new Ue(0,1,0);return new al({name:"SphericalGaussianBlur",defines:{n:s},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:_},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:u},inputEncoding:{value:i0[3e3]},outputEncoding:{value:i0[3e3]}},vertexShader:Ml(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${M0()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}(x_),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,s=0,_=.1,u=100){wl=this._renderer.getRenderTarget();const m=this._allocateTargets();return this._sceneToCubeUV(e,_,u,m),s>0&&this._blur(m,0,0,s),this._applyPMREM(m),this._cleanup(m),m}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=Ku(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=El(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<_0.length;e++)_0[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(wl),e.scissorTest=!1,ts(e,0,0,e.width,e.height)}_fromTexture(e){wl=this._renderer.getRenderTarget();const s=this._allocateTargets(e);return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(e){const s={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:ll(e)?e.encoding:3002,depthBuffer:!1},_=a_(s);return _.depthBuffer=!e,this._pingPongRenderTarget=a_(s),_}_compileMaterial(e){const s=new co(_0[0],e);this._renderer.compile(s,Nl)}_sceneToCubeUV(e,s,_,u){const m=new ao(90,1,s,_),b=[1,-1,1,1,1,1],x=[1,1,1,-1,-1,-1],P=this._renderer,N=P.autoClear,I=P.outputEncoding,D=P.toneMapping;P.getClearColor(C_),P.toneMapping=0,P.outputEncoding=3e3,P.autoClear=!1;const B=new ls({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),U=new co(new $o,B);let X=!1;const ee=e.background;ee?ee.isColor&&(B.color.copy(ee),e.background=null,X=!0):(B.color.copy(C_),X=!0);for(let ue=0;ue<6;ue++){const ie=ue%3;ie==0?(m.up.set(0,b[ue],0),m.lookAt(x[ue],0,0)):ie==1?(m.up.set(0,0,b[ue]),m.lookAt(0,x[ue],0)):(m.up.set(0,b[ue],0),m.lookAt(0,0,x[ue])),ts(u,ie*ja,ue>2?ja:0,ja,ja),P.setRenderTarget(u),X&&P.render(U,m),P.render(e,m)}U.geometry.dispose(),U.material.dispose(),P.toneMapping=D,P.outputEncoding=I,P.autoClear=N,e.background=ee}_textureToCubeUV(e,s){const _=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=Ku()):this._equirectShader==null&&(this._equirectShader=El());const u=e.isCubeTexture?this._cubemapShader:this._equirectShader,m=new co(_0[0],u),b=u.uniforms;b.envMap.value=e,e.isCubeTexture||b.texelSize.value.set(1/e.image.width,1/e.image.height),b.inputEncoding.value=i0[e.encoding],b.outputEncoding.value=i0[s.texture.encoding],ts(s,0,0,3*ja,2*ja),_.setRenderTarget(s),_.render(m,Nl)}_applyPMREM(e){const s=this._renderer,_=s.autoClear;s.autoClear=!1;for(let u=1;u<Xu;u++){const m=Math.sqrt(w0[u]*w0[u]-w0[u-1]*w0[u-1]),b=_u[(u-1)%_u.length];this._blur(e,u-1,u,m,b)}s.autoClear=_}_blur(e,s,_,u,m){const b=this._pingPongRenderTarget;this._halfBlur(e,b,s,_,u,"latitudinal",m),this._halfBlur(b,e,_,_,u,"longitudinal",m)}_halfBlur(e,s,_,u,m,b,x){const P=this._renderer,N=this._blurMaterial;b!=="latitudinal"&&b!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const I=new co(_0[u],N),D=N.uniforms,B=lu[_]-1,U=isFinite(m)?Math.PI/(2*B):2*Math.PI/39,X=m/U,ee=isFinite(m)?1+Math.floor(3*X):x_;ee>x_&&console.warn(`sigmaRadians, ${m}, is too large and will clip, as it requested ${ee} samples when the maximum is set to 20`);const ue=[];let ie=0;for(let We=0;We<x_;++We){const Re=We/X,et=Math.exp(-Re*Re/2);ue.push(et),We==0?ie+=et:We<ee&&(ie+=2*et)}for(let We=0;We<ue.length;We++)ue[We]=ue[We]/ie;D.envMap.value=e.texture,D.samples.value=ee,D.weights.value=ue,D.latitudinal.value=b==="latitudinal",x&&(D.poleAxis.value=x),D.dTheta.value=U,D.mipInt.value=8-_,D.inputEncoding.value=i0[e.texture.encoding],D.outputEncoding.value=i0[e.texture.encoding];const Ee=lu[u];ts(s,3*Math.max(0,ja-2*Ee),(u===0?0:2*ja)+2*Ee*(u>4?u-8+4:0),3*Ee,2*Ee),P.setRenderTarget(s),P.render(I,Nl)}}function ll(T){return T!==void 0&&T.type===1009&&(T.encoding===3e3||T.encoding===3001||T.encoding===3007)}function E0(){const T=[],e=[],s=[];let _=8;for(let u=0;u<Xu;u++){const m=Math.pow(2,_);e.push(m);let b=1/m;u>4?b=Pl[u-8+4-1]:u==0&&(b=0),s.push(b);const x=1/(m-1),P=-x/2,N=1+x/2,I=[P,P,N,P,N,N,P,P,N,N,P,N],D=6,B=6,U=3,X=2,ee=1,ue=new Float32Array(U*B*D),ie=new Float32Array(X*B*D),Ee=new Float32Array(ee*B*D);for(let Re=0;Re<D;Re++){const et=Re%3*2/3-1,ct=Re>2?0:-1,Ft=[et,ct,0,et+2/3,ct,0,et+2/3,ct+1,0,et,ct,0,et+2/3,ct+1,0,et,ct+1,0];ue.set(Ft,U*B*Re),ie.set(I,X*B*Re);const Ut=[Re,Re,Re,Re,Re,Re];Ee.set(Ut,ee*B*Re)}const We=new mr;We.setAttribute("position",new or(ue,U)),We.setAttribute("uv",new or(ie,X)),We.setAttribute("faceIndex",new or(Ee,ee)),T.push(We),_>4&&_--}return{_lodPlanes:T,_sizeLods:e,_sigmas:s}}function a_(T){const e=new Rs(3*ja,3*ja,T);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function ts(T,e,s,_,u){T.viewport.set(e,s,_,u),T.scissor.set(e,s,_,u)}function El(){const T=new Vi(1,1);return new al({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:T},inputEncoding:{value:i0[3e3]},outputEncoding:{value:i0[3e3]}},vertexShader:Ml(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${M0()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Ku(){return new al({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:i0[3e3]},outputEncoding:{value:i0[3e3]}},vertexShader:Ml(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${M0()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Ml(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function M0(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function uu(T){let e=new WeakMap,s=null;function _(u){const m=u.target;m.removeEventListener("dispose",_);const b=e.get(m);b!==void 0&&(e.delete(m),b.dispose())}return{get:function(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const m=u.mapping,b=m===303||m===304,x=m===301||m===302;if(b||x){if(e.has(u))return e.get(u).texture;{const P=u.image;if(b&&P&&P.height>0||x&&P&&function(N){let I=0;const D=6;for(let B=0;B<D;B++)N[B]!==void 0&&I++;return I===D}(P)){const N=T.getRenderTarget();s===null&&(s=new ca(T));const I=b?s.fromEquirectangular(u):s.fromCubemap(u);return e.set(u,I),T.setRenderTarget(N),u.addEventListener("dispose",_),I.texture}return null}}}return u},dispose:function(){e=new WeakMap,s!==null&&(s.dispose(),s=null)}}}function Qu(T){const e={};function s(_){if(e[_]!==void 0)return e[_];let u;switch(_){case"WEBGL_depth_texture":u=T.getExtension("WEBGL_depth_texture")||T.getExtension("MOZ_WEBGL_depth_texture")||T.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":u=T.getExtension("EXT_texture_filter_anisotropic")||T.getExtension("MOZ_EXT_texture_filter_anisotropic")||T.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":u=T.getExtension("WEBGL_compressed_texture_s3tc")||T.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||T.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":u=T.getExtension("WEBGL_compressed_texture_pvrtc")||T.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:u=T.getExtension(_)}return e[_]=u,u}return{has:function(_){return s(_)!==null},init:function(_){_.isWebGL2?s("EXT_color_buffer_float"):(s("WEBGL_depth_texture"),s("OES_texture_float"),s("OES_texture_half_float"),s("OES_texture_half_float_linear"),s("OES_standard_derivatives"),s("OES_element_index_uint"),s("OES_vertex_array_object"),s("ANGLE_instanced_arrays")),s("OES_texture_float_linear"),s("EXT_color_buffer_half_float")},get:function(_){const u=s(_);return u===null&&console.warn("THREE.WebGLRenderer: "+_+" extension not supported."),u}}}function cu(T,e,s,_){const u={},m=new WeakMap;function b(P){const N=P.target;N.index!==null&&e.remove(N.index);for(const D in N.attributes)e.remove(N.attributes[D]);N.removeEventListener("dispose",b),delete u[N.id];const I=m.get(N);I&&(e.remove(I),m.delete(N)),_.releaseStatesOfGeometry(N),N.isInstancedBufferGeometry===!0&&delete N._maxInstanceCount,s.memory.geometries--}function x(P){const N=[],I=P.index,D=P.attributes.position;let B=0;if(I!==null){const ee=I.array;B=I.version;for(let ue=0,ie=ee.length;ue<ie;ue+=3){const Ee=ee[ue+0],We=ee[ue+1],Re=ee[ue+2];N.push(Ee,We,We,Re,Re,Ee)}}else{const ee=D.array;B=D.version;for(let ue=0,ie=ee.length/3-1;ue<ie;ue+=3){const Ee=ue+0,We=ue+1,Re=ue+2;N.push(Ee,We,We,Re,Re,Ee)}}const U=new($0(N)>65535?Qs:qo)(N,1);U.version=B;const X=m.get(P);X&&e.remove(X),m.set(P,U)}return{get:function(P,N){return u[N.id]===!0||(N.addEventListener("dispose",b),u[N.id]=!0,s.memory.geometries++),N},update:function(P){const N=P.attributes;for(const D in N)e.update(N[D],34962);const I=P.morphAttributes;for(const D in I){const B=I[D];for(let U=0,X=B.length;U<X;U++)e.update(B[U],34962)}},getWireframeAttribute:function(P){const N=m.get(P);if(N){const I=P.index;I!==null&&N.version<I.version&&x(P)}else x(P);return m.get(P)}}}function hu(T,e,s,_){const u=_.isWebGL2;let m,b,x;this.setMode=function(P){m=P},this.setIndex=function(P){b=P.type,x=P.bytesPerElement},this.render=function(P,N){T.drawElements(m,N,b,P*x),s.update(N,m,1)},this.renderInstances=function(P,N,I){if(I===0)return;let D,B;if(u)D=T,B="drawElementsInstanced";else if(D=e.get("ANGLE_instanced_arrays"),B="drawElementsInstancedANGLE",D===null)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");D[B](m,N,b,P*x,I),s.update(N,m,I)}}function P_(T){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(s,_,u){switch(e.calls++,_){case 4:e.triangles+=u*(s/3);break;case 1:e.lines+=u*(s/2);break;case 3:e.lines+=u*(s-1);break;case 2:e.lines+=u*s;break;case 0:e.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",_)}}}}function l_(T,e){return T[0]-e[0]}function I0(T,e){return Math.abs(e[1])-Math.abs(T[1])}function k0(T){const e={},s=new Float32Array(8),_=[];for(let u=0;u<8;u++)_[u]=[u,0];return{update:function(u,m,b,x){const P=u.morphTargetInfluences,N=P===void 0?0:P.length;let I=e[m.id];if(I===void 0||I.length!==N){I=[];for(let ee=0;ee<N;ee++)I[ee]=[ee,0];e[m.id]=I}for(let ee=0;ee<N;ee++){const ue=I[ee];ue[0]=ee,ue[1]=P[ee]}I.sort(I0);for(let ee=0;ee<8;ee++)ee<N&&I[ee][1]?(_[ee][0]=I[ee][0],_[ee][1]=I[ee][1]):(_[ee][0]=Number.MAX_SAFE_INTEGER,_[ee][1]=0);_.sort(l_);const D=m.morphAttributes.position,B=m.morphAttributes.normal;let U=0;for(let ee=0;ee<8;ee++){const ue=_[ee],ie=ue[0],Ee=ue[1];ie!==Number.MAX_SAFE_INTEGER&&Ee?(D&&m.getAttribute("morphTarget"+ee)!==D[ie]&&m.setAttribute("morphTarget"+ee,D[ie]),B&&m.getAttribute("morphNormal"+ee)!==B[ie]&&m.setAttribute("morphNormal"+ee,B[ie]),s[ee]=Ee,U+=Ee):(D&&m.hasAttribute("morphTarget"+ee)===!0&&m.deleteAttribute("morphTarget"+ee),B&&m.hasAttribute("morphNormal"+ee)===!0&&m.deleteAttribute("morphNormal"+ee),s[ee]=0)}const X=m.morphTargetsRelative?1:1-U;x.getUniforms().setValue(T,"morphTargetBaseInfluence",X),x.getUniforms().setValue(T,"morphTargetInfluences",s)}}}function N_(T,e,s,_){let u=new WeakMap;function m(b){const x=b.target;x.removeEventListener("dispose",m),s.remove(x.instanceMatrix),x.instanceColor!==null&&s.remove(x.instanceColor)}return{update:function(b){const x=_.render.frame,P=b.geometry,N=e.get(b,P);return u.get(N)!==x&&(e.update(N),u.set(N,x)),b.isInstancedMesh&&(b.hasEventListener("dispose",m)===!1&&b.addEventListener("dispose",m),s.update(b.instanceMatrix,34962),b.instanceColor!==null&&s.update(b.instanceColor,34962)),N},dispose:function(){u=new WeakMap}}}class Il extends es{constructor(e=null,s=1,_=1,u=1){super(null),this.image={data:e,width:s,height:_,depth:u},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Il.prototype.isDataTexture2DArray=!0;class u0 extends es{constructor(e=null,s=1,_=1,u=1){super(null),this.image={data:e,width:s,height:_,depth:u},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}u0.prototype.isDataTexture3D=!0;const kl=new es,Sn=new Il,Fa=new u0,Ll=new a0,c0=[],du=[],_l=new Float32Array(16),L0=new Float32Array(9),__=new Float32Array(4);function Ya(T,e,s){const _=T[0];if(_<=0||_>0)return T;const u=e*s;let m=c0[u];if(m===void 0&&(m=new Float32Array(u),c0[u]=m),e!==0){_.toArray(m,0);for(let b=1,x=0;b!==e;++b)x+=s,T[b].toArray(m,x)}return m}function ho(T,e){if(T.length!==e.length)return!1;for(let s=0,_=T.length;s<_;s++)if(T[s]!==e[s])return!1;return!0}function Is(T,e){for(let s=0,_=e.length;s<_;s++)T[s]=e[s]}function Dl(T,e){let s=du[e];s===void 0&&(s=new Int32Array(e),du[e]=s);for(let _=0;_!==e;++_)s[_]=T.allocateTextureUnit();return s}function D0(T,e){const s=this.cache;s[0]!==e&&(T.uniform1f(this.addr,e),s[0]=e)}function Sa(T,e){const s=this.cache;if(e.x!==void 0)s[0]===e.x&&s[1]===e.y||(T.uniform2f(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(ho(s,e))return;T.uniform2fv(this.addr,e),Is(s,e)}}function ec(T,e){const s=this.cache;if(e.x!==void 0)s[0]===e.x&&s[1]===e.y&&s[2]===e.z||(T.uniform3f(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else if(e.r!==void 0)s[0]===e.r&&s[1]===e.g&&s[2]===e.b||(T.uniform3f(this.addr,e.r,e.g,e.b),s[0]=e.r,s[1]=e.g,s[2]=e.b);else{if(ho(s,e))return;T.uniform3fv(this.addr,e),Is(s,e)}}function pu(T,e){const s=this.cache;if(e.x!==void 0)s[0]===e.x&&s[1]===e.y&&s[2]===e.z&&s[3]===e.w||(T.uniform4f(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(ho(s,e))return;T.uniform4fv(this.addr,e),Is(s,e)}}function h0(T,e){const s=this.cache,_=e.elements;if(_===void 0){if(ho(s,e))return;T.uniformMatrix2fv(this.addr,!1,e),Is(s,e)}else{if(ho(s,_))return;__.set(_),T.uniformMatrix2fv(this.addr,!1,__),Is(s,_)}}function w_(T,e){const s=this.cache,_=e.elements;if(_===void 0){if(ho(s,e))return;T.uniformMatrix3fv(this.addr,!1,e),Is(s,e)}else{if(ho(s,_))return;L0.set(_),T.uniformMatrix3fv(this.addr,!1,L0),Is(s,_)}}function u_(T,e){const s=this.cache,_=e.elements;if(_===void 0){if(ho(s,e))return;T.uniformMatrix4fv(this.addr,!1,e),Is(s,e)}else{if(ho(s,_))return;_l.set(_),T.uniformMatrix4fv(this.addr,!1,_l),Is(s,_)}}function tc(T,e){const s=this.cache;s[0]!==e&&(T.uniform1i(this.addr,e),s[0]=e)}function c_(T,e){const s=this.cache;ho(s,e)||(T.uniform2iv(this.addr,e),Is(s,e))}function ul(T,e){const s=this.cache;ho(s,e)||(T.uniform3iv(this.addr,e),Is(s,e))}function ic(T,e){const s=this.cache;ho(s,e)||(T.uniform4iv(this.addr,e),Is(s,e))}function E_(T,e){const s=this.cache;s[0]!==e&&(T.uniform1ui(this.addr,e),s[0]=e)}function M_(T,e){const s=this.cache;ho(s,e)||(T.uniform2uiv(this.addr,e),Is(s,e))}function nc(T,e){const s=this.cache;ho(s,e)||(T.uniform3uiv(this.addr,e),Is(s,e))}function I_(T,e){const s=this.cache;ho(s,e)||(T.uniform4uiv(this.addr,e),Is(s,e))}function d0(T,e,s){const _=this.cache,u=s.allocateTextureUnit();_[0]!==u&&(T.uniform1i(this.addr,u),_[0]=u),s.safeSetTexture2D(e||kl,u)}function h_(T,e,s){const _=this.cache,u=s.allocateTextureUnit();_[0]!==u&&(T.uniform1i(this.addr,u),_[0]=u),s.setTexture3D(e||Fa,u)}function cl(T,e,s){const _=this.cache,u=s.allocateTextureUnit();_[0]!==u&&(T.uniform1i(this.addr,u),_[0]=u),s.safeSetTextureCube(e||Ll,u)}function rc(T,e,s){const _=this.cache,u=s.allocateTextureUnit();_[0]!==u&&(T.uniform1i(this.addr,u),_[0]=u),s.setTexture2DArray(e||Sn,u)}function sc(T,e){T.uniform1fv(this.addr,e)}function k_(T,e){const s=Ya(e,this.size,2);T.uniform2fv(this.addr,s)}function mu(T,e){const s=Ya(e,this.size,3);T.uniform3fv(this.addr,s)}function hl(T,e){const s=Ya(e,this.size,4);T.uniform4fv(this.addr,s)}function Zo(T,e){const s=Ya(e,this.size,4);T.uniformMatrix2fv(this.addr,!1,s)}function oc(T,e){const s=Ya(e,this.size,9);T.uniformMatrix3fv(this.addr,!1,s)}function fu(T,e){const s=Ya(e,this.size,16);T.uniformMatrix4fv(this.addr,!1,s)}function Gc(T,e){T.uniform1iv(this.addr,e)}function Wc(T,e){T.uniform2iv(this.addr,e)}function p0(T,e){T.uniform3iv(this.addr,e)}function ac(T,e){T.uniform4iv(this.addr,e)}function Rl(T,e){T.uniform1uiv(this.addr,e)}function n0(T,e){T.uniform2uiv(this.addr,e)}function L_(T,e){T.uniform3uiv(this.addr,e)}function En(T,e){T.uniform4uiv(this.addr,e)}function lc(T,e,s){const _=e.length,u=Dl(s,_);T.uniform1iv(this.addr,u);for(let m=0;m!==_;++m)s.safeSetTexture2D(e[m]||kl,u[m])}function _c(T,e,s){const _=e.length,u=Dl(s,_);T.uniform1iv(this.addr,u);for(let m=0;m!==_;++m)s.safeSetTextureCube(e[m]||Ll,u[m])}function R0(T,e,s){this.id=T,this.addr=s,this.cache=[],this.setValue=function(_){switch(_){case 5126:return D0;case 35664:return Sa;case 35665:return ec;case 35666:return pu;case 35674:return h0;case 35675:return w_;case 35676:return u_;case 5124:case 35670:return tc;case 35667:case 35671:return c_;case 35668:case 35672:return ul;case 35669:case 35673:return ic;case 5125:return E_;case 36294:return M_;case 36295:return nc;case 36296:return I_;case 35678:case 36198:case 36298:case 36306:case 35682:return d0;case 35679:case 36299:case 36307:return h_;case 35680:case 36300:case 36308:case 36293:return cl;case 36289:case 36303:case 36311:case 36292:return rc}}(e.type)}function Hl(T,e,s){this.id=T,this.addr=s,this.cache=[],this.size=e.size,this.setValue=function(_){switch(_){case 5126:return sc;case 35664:return k_;case 35665:return mu;case 35666:return hl;case 35674:return Zo;case 35675:return oc;case 35676:return fu;case 5124:case 35670:return Gc;case 35667:case 35671:return Wc;case 35668:case 35672:return p0;case 35669:case 35673:return ac;case 5125:return Rl;case 36294:return n0;case 36295:return L_;case 36296:return En;case 35678:case 36198:case 36298:case 36306:case 35682:return lc;case 35680:case 36300:case 36308:case 36293:return _c}}(e.type)}function D_(T){this.id=T,this.seq=[],this.map={}}Hl.prototype.updateCache=function(T){const e=this.cache;T instanceof Float32Array&&e.length!==T.length&&(this.cache=new Float32Array(T.length)),Is(e,T)},D_.prototype.setValue=function(T,e,s){const _=this.seq;for(let u=0,m=_.length;u!==m;++u){const b=_[u];b.setValue(T,e[b.id],s)}};const Fl=/(\w+)(\])?(\[|\.)?/g;function R_(T,e){T.seq.push(e),T.map[e.id]=e}function d_(T,e,s){const _=T.name,u=_.length;for(Fl.lastIndex=0;;){const m=Fl.exec(_),b=Fl.lastIndex;let x=m[1];const P=m[2]==="]",N=m[3];if(P&&(x|=0),N===void 0||N==="["&&b+2===u){R_(s,N===void 0?new R0(x,T,e):new Hl(x,T,e));break}{let I=s.map[x];I===void 0&&(I=new D_(x),R_(s,I)),s=I}}}function Oa(T,e){this.seq=[],this.map={};const s=T.getProgramParameter(e,35718);for(let _=0;_<s;++_){const u=T.getActiveUniform(e,_);d_(u,T.getUniformLocation(e,u.name),this)}}function Ol(T,e,s){const _=T.createShader(e);return T.shaderSource(_,s),T.compileShader(_),_}Oa.prototype.setValue=function(T,e,s,_){const u=this.map[e];u!==void 0&&u.setValue(T,s,_)},Oa.prototype.setOptional=function(T,e,s){const _=e[s];_!==void 0&&this.setValue(T,s,_)},Oa.upload=function(T,e,s,_){for(let u=0,m=e.length;u!==m;++u){const b=e[u],x=s[b.id];x.needsUpdate!==!1&&b.setValue(T,x.value,_)}},Oa.seqWithValue=function(T,e){const s=[];for(let _=0,u=T.length;_!==u;++_){const m=T[_];m.id in e&&s.push(m)}return s};let dl=0;function pl(T){switch(T){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",T),["Linear","( value )"]}}function p_(T,e,s){const _=T.getShaderParameter(e,35713),u=T.getShaderInfoLog(e).trim();return _&&u===""?"":s.toUpperCase()+`

`+u+`

`+function(m){const b=m.split(`
`);for(let x=0;x<b.length;x++)b[x]=x+1+": "+b[x];return b.join(`
`)}(T.getShaderSource(e))}function ml(T,e){const s=pl(e);return"vec4 "+T+"( vec4 value ) { return "+s[0]+"ToLinear"+s[1]+"; }"}function gu(T,e){const s=pl(e);return"vec4 "+T+"( vec4 value ) { return LinearTo"+s[0]+s[1]+"; }"}function Ba(T,e){let s;switch(e){case 1:s="Linear";break;case 2:s="Reinhard";break;case 3:s="OptimizedCineon";break;case 4:s="ACESFilmic";break;case 5:s="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),s="Linear"}return"vec3 "+T+"( vec3 color ) { return "+s+"ToneMapping( color ); }"}function qa(T){return T!==""}function Tu(T,e){return T.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function m_(T,e){return T.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uc=/^[ \t]*#include +<([\w\d./]+)>/gm;function m0(T){return T.replace(uc,cc)}function cc(T,e){const s=Zr[e];if(s===void 0)throw new Error("Can not resolve #include <"+e+">");return m0(s)}const hc=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,yu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Bl(T){return T.replace(yu,r).replace(hc,d)}function d(T,e,s,_){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),r(T,e,s,_)}function r(T,e,s,_){let u="";for(let m=parseInt(e);m<parseInt(s);m++)u+=_.replace(/\[\s*i\s*\]/g,"[ "+m+" ]").replace(/UNROLLED_LOOP_INDEX/g,m);return u}function c(T){let e="precision "+T.precision+` float;
precision `+T.precision+" int;";return T.precision==="highp"?e+=`
#define HIGH_PRECISION`:T.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:T.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function f(T,e,s,_){const u=T.getContext(),m=s.defines;let b=s.vertexShader,x=s.fragmentShader;const P=function(Ut){let yi="SHADOWMAP_TYPE_BASIC";return Ut.shadowMapType===1?yi="SHADOWMAP_TYPE_PCF":Ut.shadowMapType===2?yi="SHADOWMAP_TYPE_PCF_SOFT":Ut.shadowMapType===3&&(yi="SHADOWMAP_TYPE_VSM"),yi}(s),N=function(Ut){let yi="ENVMAP_TYPE_CUBE";if(Ut.envMap)switch(Ut.envMapMode){case 301:case 302:yi="ENVMAP_TYPE_CUBE";break;case 306:case 307:yi="ENVMAP_TYPE_CUBE_UV"}return yi}(s),I=function(Ut){let yi="ENVMAP_MODE_REFLECTION";if(Ut.envMap)switch(Ut.envMapMode){case 302:case 307:yi="ENVMAP_MODE_REFRACTION"}return yi}(s),D=function(Ut){let yi="ENVMAP_BLENDING_NONE";if(Ut.envMap)switch(Ut.combine){case 0:yi="ENVMAP_BLENDING_MULTIPLY";break;case 1:yi="ENVMAP_BLENDING_MIX";break;case 2:yi="ENVMAP_BLENDING_ADD"}return yi}(s),B=T.gammaFactor>0?T.gammaFactor:1,U=s.isWebGL2?"":function(Ut){return[Ut.extensionDerivatives||Ut.envMapCubeUV||Ut.bumpMap||Ut.tangentSpaceNormalMap||Ut.clearcoatNormalMap||Ut.flatShading||Ut.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(Ut.extensionFragDepth||Ut.logarithmicDepthBuffer)&&Ut.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",Ut.extensionDrawBuffers&&Ut.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(Ut.extensionShaderTextureLOD||Ut.envMap||Ut.transmission)&&Ut.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qa).join(`
`)}(s),X=function(Ut){const yi=[];for(const ai in Ut){const hi=Ut[ai];hi!==!1&&yi.push("#define "+ai+" "+hi)}return yi.join(`
`)}(m),ee=u.createProgram();let ue,ie,Ee=s.glslVersion?"#version "+s.glslVersion+`
`:"";s.isRawShaderMaterial?(ue=[X].filter(qa).join(`
`),ue.length>0&&(ue+=`
`),ie=[U,X].filter(qa).join(`
`),ie.length>0&&(ie+=`
`)):(ue=[c(s),"#define SHADER_NAME "+s.shaderName,X,s.instancing?"#define USE_INSTANCING":"",s.instancingColor?"#define USE_INSTANCING_COLOR":"",s.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+B,"#define MAX_BONES "+s.maxBones,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+I:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMap&&s.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",s.normalMap&&s.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.displacementMap&&s.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",s.specularTintMap?"#define USE_SPECULARTINTMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents?"#define USE_TANGENT":"",s.vertexColors?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUvs?"#define USE_UV":"",s.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&s.flatShading===!1?"#define USE_MORPHNORMALS":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+P:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&s.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qa).join(`
`),ie=[U,c(s),"#define SHADER_NAME "+s.shaderName,X,"#define GAMMA_FACTOR "+B,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+N:"",s.envMap?"#define "+I:"",s.envMap?"#define "+D:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMap&&s.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",s.normalMap&&s.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",s.clearcoat?"#define USE_CLEARCOAT":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",s.specularTintMap?"#define USE_SPECULARTINTMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaTest?"#define USE_ALPHATEST":"",s.sheenTint?"#define USE_SHEEN":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents?"#define USE_TANGENT":"",s.vertexColors||s.instancingColor?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUvs?"#define USE_UV":"",s.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+P:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.logarithmicDepthBuffer&&s.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(s.extensionShaderTextureLOD||s.envMap)&&s.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",s.toneMapping!==0?"#define TONE_MAPPING":"",s.toneMapping!==0?Zr.tonemapping_pars_fragment:"",s.toneMapping!==0?Ba("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.format===1022?"#define OPAQUE":"",Zr.encodings_pars_fragment,s.map?ml("mapTexelToLinear",s.mapEncoding):"",s.matcap?ml("matcapTexelToLinear",s.matcapEncoding):"",s.envMap?ml("envMapTexelToLinear",s.envMapEncoding):"",s.emissiveMap?ml("emissiveMapTexelToLinear",s.emissiveMapEncoding):"",s.specularTintMap?ml("specularTintMapTexelToLinear",s.specularTintMapEncoding):"",s.lightMap?ml("lightMapTexelToLinear",s.lightMapEncoding):"",gu("linearToOutputTexel",s.outputEncoding),s.depthPacking?"#define DEPTH_PACKING "+s.depthPacking:"",`
`].filter(qa).join(`
`)),b=m0(b),b=Tu(b,s),b=m_(b,s),x=m0(x),x=Tu(x,s),x=m_(x,s),b=Bl(b),x=Bl(x),s.isWebGL2&&s.isRawShaderMaterial!==!0&&(Ee=`#version 300 es
`,ue=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ue,ie=["#define varying in",s.glslVersion===bt?"":"out highp vec4 pc_fragColor;",s.glslVersion===bt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ie);const We=Ee+ie+x,Re=Ol(u,35633,Ee+ue+b),et=Ol(u,35632,We);if(u.attachShader(ee,Re),u.attachShader(ee,et),s.index0AttributeName!==void 0?u.bindAttribLocation(ee,0,s.index0AttributeName):s.morphTargets===!0&&u.bindAttribLocation(ee,0,"position"),u.linkProgram(ee),T.debug.checkShaderErrors){const Ut=u.getProgramInfoLog(ee).trim(),yi=u.getShaderInfoLog(Re).trim(),ai=u.getShaderInfoLog(et).trim();let hi=!0,Cn=!0;if(u.getProgramParameter(ee,35714)===!1){hi=!1;const sn=p_(u,Re,"vertex"),_i=p_(u,et,"fragment");console.error("THREE.WebGLProgram: Shader Error "+u.getError()+" - VALIDATE_STATUS "+u.getProgramParameter(ee,35715)+`

Program Info Log: `+Ut+`
`+sn+`
`+_i)}else Ut!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ut):yi!==""&&ai!==""||(Cn=!1);Cn&&(this.diagnostics={runnable:hi,programLog:Ut,vertexShader:{log:yi,prefix:ue},fragmentShader:{log:ai,prefix:ie}})}let ct,Ft;return u.deleteShader(Re),u.deleteShader(et),this.getUniforms=function(){return ct===void 0&&(ct=new Oa(u,ee)),ct},this.getAttributes=function(){return Ft===void 0&&(Ft=function(Ut,yi){const ai={},hi=Ut.getProgramParameter(yi,35721);for(let Cn=0;Cn<hi;Cn++){const sn=Ut.getActiveAttrib(yi,Cn),_i=sn.name;let ln=1;sn.type===35674&&(ln=2),sn.type===35675&&(ln=3),sn.type===35676&&(ln=4),ai[_i]={type:sn.type,location:Ut.getAttribLocation(yi,_i),locationSize:ln}}return ai}(u,ee)),Ft},this.destroy=function(){_.releaseStatesOfProgram(this),u.deleteProgram(ee),this.program=void 0},this.name=s.shaderName,this.id=dl++,this.cacheKey=e,this.usedTimes=1,this.program=ee,this.vertexShader=Re,this.fragmentShader=et,this}function A(T,e,s,_,u,m,b){const x=[],P=u.isWebGL2,N=u.logarithmicDepthBuffer,I=u.floatVertexTextures,D=u.maxVertexUniforms,B=u.vertexTextures;let U=u.precision;const X={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ee=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheenTint","transmission","transmissionMap","thicknessMap"];function ue(ie){let Ee;return ie&&ie.isTexture?Ee=ie.encoding:ie&&ie.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Ee=ie.texture.encoding):Ee=3e3,Ee}return{getParameters:function(ie,Ee,We,Re,et){const ct=Re.fog,Ft=ie.isMeshStandardMaterial?Re.environment:null,Ut=(ie.isMeshStandardMaterial?s:e).get(ie.envMap||Ft),yi=X[ie.type],ai=et.isSkinnedMesh?function(Un){const qn=Un.skeleton.bones;if(I)return 1024;{const Zn=D,ur=Math.floor((Zn-20)/4),Sr=Math.min(ur,qn.length);return Sr<qn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+qn.length+" bones. This GPU supports "+Sr+"."),0):Sr}}(et):0;let hi,Cn;if(ie.precision!==null&&(U=u.getMaxPrecision(ie.precision),U!==ie.precision&&console.warn("THREE.WebGLProgram.getParameters:",ie.precision,"not supported, using",U,"instead.")),yi){const Un=Ja[yi];hi=Un.vertexShader,Cn=Un.fragmentShader}else hi=ie.vertexShader,Cn=ie.fragmentShader;const sn=T.getRenderTarget(),_i=ie.alphaTest>0,ln=ie.clearcoat>0;return{isWebGL2:P,shaderID:yi,shaderName:ie.type,vertexShader:hi,fragmentShader:Cn,defines:ie.defines,isRawShaderMaterial:ie.isRawShaderMaterial===!0,glslVersion:ie.glslVersion,precision:U,instancing:et.isInstancedMesh===!0,instancingColor:et.isInstancedMesh===!0&&et.instanceColor!==null,supportsVertexTextures:B,outputEncoding:sn!==null?ue(sn.texture):T.outputEncoding,map:!!ie.map,mapEncoding:ue(ie.map),matcap:!!ie.matcap,matcapEncoding:ue(ie.matcap),envMap:!!Ut,envMapMode:Ut&&Ut.mapping,envMapEncoding:ue(Ut),envMapCubeUV:!!Ut&&(Ut.mapping===306||Ut.mapping===307),lightMap:!!ie.lightMap,lightMapEncoding:ue(ie.lightMap),aoMap:!!ie.aoMap,emissiveMap:!!ie.emissiveMap,emissiveMapEncoding:ue(ie.emissiveMap),bumpMap:!!ie.bumpMap,normalMap:!!ie.normalMap,objectSpaceNormalMap:ie.normalMapType===1,tangentSpaceNormalMap:ie.normalMapType===0,clearcoat:ln,clearcoatMap:ln&&!!ie.clearcoatMap,clearcoatRoughnessMap:ln&&!!ie.clearcoatRoughnessMap,clearcoatNormalMap:ln&&!!ie.clearcoatNormalMap,displacementMap:!!ie.displacementMap,roughnessMap:!!ie.roughnessMap,metalnessMap:!!ie.metalnessMap,specularMap:!!ie.specularMap,specularIntensityMap:!!ie.specularIntensityMap,specularTintMap:!!ie.specularTintMap,specularTintMapEncoding:ue(ie.specularTintMap),alphaMap:!!ie.alphaMap,alphaTest:_i,gradientMap:!!ie.gradientMap,sheenTint:!!ie.sheenTint&&(ie.sheenTint.r>0||ie.sheenTint.g>0||ie.sheenTint.b>0),transmission:ie.transmission>0,transmissionMap:!!ie.transmissionMap,thicknessMap:!!ie.thicknessMap,combine:ie.combine,vertexTangents:!!ie.normalMap&&!!et.geometry&&!!et.geometry.attributes.tangent,vertexColors:ie.vertexColors,vertexAlphas:ie.vertexColors===!0&&!!et.geometry&&!!et.geometry.attributes.color&&et.geometry.attributes.color.itemSize===4,vertexUvs:!!(ie.map||ie.bumpMap||ie.normalMap||ie.specularMap||ie.alphaMap||ie.emissiveMap||ie.roughnessMap||ie.metalnessMap||ie.clearcoatMap||ie.clearcoatRoughnessMap||ie.clearcoatNormalMap||ie.displacementMap||ie.transmissionMap||ie.thicknessMap||ie.specularIntensityMap||ie.specularTintMap),uvsVertexOnly:!(ie.map||ie.bumpMap||ie.normalMap||ie.specularMap||ie.alphaMap||ie.emissiveMap||ie.roughnessMap||ie.metalnessMap||ie.clearcoatNormalMap||ie.transmission>0||ie.transmissionMap||ie.thicknessMap||ie.specularIntensityMap||ie.specularTintMap||!ie.displacementMap),fog:!!ct,useFog:ie.fog,fogExp2:ct&&ct.isFogExp2,flatShading:!!ie.flatShading,sizeAttenuation:ie.sizeAttenuation,logarithmicDepthBuffer:N,skinning:et.isSkinnedMesh===!0&&ai>0,maxBones:ai,useVertexTexture:I,morphTargets:!!et.geometry&&!!et.geometry.morphAttributes.position,morphNormals:!!et.geometry&&!!et.geometry.morphAttributes.normal,numDirLights:Ee.directional.length,numPointLights:Ee.point.length,numSpotLights:Ee.spot.length,numRectAreaLights:Ee.rectArea.length,numHemiLights:Ee.hemi.length,numDirLightShadows:Ee.directionalShadowMap.length,numPointLightShadows:Ee.pointShadowMap.length,numSpotLightShadows:Ee.spotShadowMap.length,numClippingPlanes:b.numPlanes,numClipIntersection:b.numIntersection,format:ie.format,dithering:ie.dithering,shadowMapEnabled:T.shadowMap.enabled&&We.length>0,shadowMapType:T.shadowMap.type,toneMapping:ie.toneMapped?T.toneMapping:0,physicallyCorrectLights:T.physicallyCorrectLights,premultipliedAlpha:ie.premultipliedAlpha,doubleSided:ie.side===2,flipSided:ie.side===1,depthPacking:ie.depthPacking!==void 0&&ie.depthPacking,index0AttributeName:ie.index0AttributeName,extensionDerivatives:ie.extensions&&ie.extensions.derivatives,extensionFragDepth:ie.extensions&&ie.extensions.fragDepth,extensionDrawBuffers:ie.extensions&&ie.extensions.drawBuffers,extensionShaderTextureLOD:ie.extensions&&ie.extensions.shaderTextureLOD,rendererExtensionFragDepth:P||_.has("EXT_frag_depth"),rendererExtensionDrawBuffers:P||_.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:P||_.has("EXT_shader_texture_lod"),customProgramCacheKey:ie.customProgramCacheKey()}},getProgramCacheKey:function(ie){const Ee=[];if(ie.shaderID?Ee.push(ie.shaderID):(Ee.push(ie.fragmentShader),Ee.push(ie.vertexShader)),ie.defines!==void 0)for(const We in ie.defines)Ee.push(We),Ee.push(ie.defines[We]);if(ie.isRawShaderMaterial===!1){for(let We=0;We<ee.length;We++)Ee.push(ie[ee[We]]);Ee.push(T.outputEncoding),Ee.push(T.gammaFactor)}return Ee.push(ie.customProgramCacheKey),Ee.join()},getUniforms:function(ie){const Ee=X[ie.type];let We;if(Ee){const Re=Ja[Ee];We=su.clone(Re.uniforms)}else We=ie.uniforms;return We},acquireProgram:function(ie,Ee){let We;for(let Re=0,et=x.length;Re<et;Re++){const ct=x[Re];if(ct.cacheKey===Ee){We=ct,++We.usedTimes;break}}return We===void 0&&(We=new f(T,Ee,ie,m),x.push(We)),We},releaseProgram:function(ie){if(--ie.usedTimes==0){const Ee=x.indexOf(ie);x[Ee]=x[x.length-1],x.pop(),ie.destroy()}},programs:x}}function S(){let T=new WeakMap;return{get:function(e){let s=T.get(e);return s===void 0&&(s={},T.set(e,s)),s},remove:function(e){T.delete(e)},update:function(e,s,_){T.get(e)[s]=_},dispose:function(){T=new WeakMap}}}function E(T,e){return T.groupOrder!==e.groupOrder?T.groupOrder-e.groupOrder:T.renderOrder!==e.renderOrder?T.renderOrder-e.renderOrder:T.program!==e.program?T.program.id-e.program.id:T.material.id!==e.material.id?T.material.id-e.material.id:T.z!==e.z?T.z-e.z:T.id-e.id}function M(T,e){return T.groupOrder!==e.groupOrder?T.groupOrder-e.groupOrder:T.renderOrder!==e.renderOrder?T.renderOrder-e.renderOrder:T.z!==e.z?e.z-T.z:T.id-e.id}function F(T){const e=[];let s=0;const _=[],u=[],m=[],b={id:-1};function x(P,N,I,D,B,U){let X=e[s];const ee=T.get(I);return X===void 0?(X={id:P.id,object:P,geometry:N,material:I,program:ee.program||b,groupOrder:D,renderOrder:P.renderOrder,z:B,group:U},e[s]=X):(X.id=P.id,X.object=P,X.geometry=N,X.material=I,X.program=ee.program||b,X.groupOrder=D,X.renderOrder=P.renderOrder,X.z=B,X.group=U),s++,X}return{opaque:_,transmissive:u,transparent:m,init:function(){s=0,_.length=0,u.length=0,m.length=0},push:function(P,N,I,D,B,U){const X=x(P,N,I,D,B,U);I.transmission>0?u.push(X):I.transparent===!0?m.push(X):_.push(X)},unshift:function(P,N,I,D,B,U){const X=x(P,N,I,D,B,U);I.transmission>0?u.unshift(X):I.transparent===!0?m.unshift(X):_.unshift(X)},finish:function(){for(let P=s,N=e.length;P<N;P++){const I=e[P];if(I.id===null)break;I.id=null,I.object=null,I.geometry=null,I.material=null,I.program=null,I.group=null}},sort:function(P,N){_.length>1&&_.sort(P||E),u.length>1&&u.sort(N||M),m.length>1&&m.sort(N||M)}}}function $(T){let e=new WeakMap;return{get:function(s,_){let u;return e.has(s)===!1?(u=new F(T),e.set(s,[u])):_>=e.get(s).length?(u=new F(T),e.get(s).push(u)):u=e.get(s)[_],u},dispose:function(){e=new WeakMap}}}function q(){const T={};return{get:function(e){if(T[e.id]!==void 0)return T[e.id];let s;switch(e.type){case"DirectionalLight":s={direction:new Ue,color:new Ki};break;case"SpotLight":s={position:new Ue,direction:new Ue,color:new Ki,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new Ue,color:new Ki,distance:0,decay:0};break;case"HemisphereLight":s={direction:new Ue,skyColor:new Ki,groundColor:new Ki};break;case"RectAreaLight":s={color:new Ki,position:new Ue,halfWidth:new Ue,halfHeight:new Ue}}return T[e.id]=s,s}}}let _e=0;function ve(T,e){return(e.castShadow?1:0)-(T.castShadow?1:0)}function Le(T,e){const s=new q,_=function(){const P={};return{get:function(N){if(P[N.id]!==void 0)return P[N.id];let I;switch(N.type){case"DirectionalLight":case"SpotLight":I={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vi};break;case"PointLight":I={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vi,shadowCameraNear:1,shadowCameraFar:1e3}}return P[N.id]=I,I}}}(),u={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let P=0;P<9;P++)u.probe.push(new Ue);const m=new Ue,b=new Tn,x=new Tn;return{setup:function(P,N){let I=0,D=0,B=0;for(let Ft=0;Ft<9;Ft++)u.probe[Ft].set(0,0,0);let U=0,X=0,ee=0,ue=0,ie=0,Ee=0,We=0,Re=0;P.sort(ve);const et=N!==!0?Math.PI:1;for(let Ft=0,Ut=P.length;Ft<Ut;Ft++){const yi=P[Ft],ai=yi.color,hi=yi.intensity,Cn=yi.distance,sn=yi.shadow&&yi.shadow.map?yi.shadow.map.texture:null;if(yi.isAmbientLight)I+=ai.r*hi*et,D+=ai.g*hi*et,B+=ai.b*hi*et;else if(yi.isLightProbe)for(let _i=0;_i<9;_i++)u.probe[_i].addScaledVector(yi.sh.coefficients[_i],hi);else if(yi.isDirectionalLight){const _i=s.get(yi);if(_i.color.copy(yi.color).multiplyScalar(yi.intensity*et),yi.castShadow){const ln=yi.shadow,Un=_.get(yi);Un.shadowBias=ln.bias,Un.shadowNormalBias=ln.normalBias,Un.shadowRadius=ln.radius,Un.shadowMapSize=ln.mapSize,u.directionalShadow[U]=Un,u.directionalShadowMap[U]=sn,u.directionalShadowMatrix[U]=yi.shadow.matrix,Ee++}u.directional[U]=_i,U++}else if(yi.isSpotLight){const _i=s.get(yi);if(_i.position.setFromMatrixPosition(yi.matrixWorld),_i.color.copy(ai).multiplyScalar(hi*et),_i.distance=Cn,_i.coneCos=Math.cos(yi.angle),_i.penumbraCos=Math.cos(yi.angle*(1-yi.penumbra)),_i.decay=yi.decay,yi.castShadow){const ln=yi.shadow,Un=_.get(yi);Un.shadowBias=ln.bias,Un.shadowNormalBias=ln.normalBias,Un.shadowRadius=ln.radius,Un.shadowMapSize=ln.mapSize,u.spotShadow[ee]=Un,u.spotShadowMap[ee]=sn,u.spotShadowMatrix[ee]=yi.shadow.matrix,Re++}u.spot[ee]=_i,ee++}else if(yi.isRectAreaLight){const _i=s.get(yi);_i.color.copy(ai).multiplyScalar(hi),_i.halfWidth.set(.5*yi.width,0,0),_i.halfHeight.set(0,.5*yi.height,0),u.rectArea[ue]=_i,ue++}else if(yi.isPointLight){const _i=s.get(yi);if(_i.color.copy(yi.color).multiplyScalar(yi.intensity*et),_i.distance=yi.distance,_i.decay=yi.decay,yi.castShadow){const ln=yi.shadow,Un=_.get(yi);Un.shadowBias=ln.bias,Un.shadowNormalBias=ln.normalBias,Un.shadowRadius=ln.radius,Un.shadowMapSize=ln.mapSize,Un.shadowCameraNear=ln.camera.near,Un.shadowCameraFar=ln.camera.far,u.pointShadow[X]=Un,u.pointShadowMap[X]=sn,u.pointShadowMatrix[X]=yi.shadow.matrix,We++}u.point[X]=_i,X++}else if(yi.isHemisphereLight){const _i=s.get(yi);_i.skyColor.copy(yi.color).multiplyScalar(hi*et),_i.groundColor.copy(yi.groundColor).multiplyScalar(hi*et),u.hemi[ie]=_i,ie++}}ue>0&&(e.isWebGL2||T.has("OES_texture_float_linear")===!0?(u.rectAreaLTC1=Rn.LTC_FLOAT_1,u.rectAreaLTC2=Rn.LTC_FLOAT_2):T.has("OES_texture_half_float_linear")===!0?(u.rectAreaLTC1=Rn.LTC_HALF_1,u.rectAreaLTC2=Rn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),u.ambient[0]=I,u.ambient[1]=D,u.ambient[2]=B;const ct=u.hash;ct.directionalLength===U&&ct.pointLength===X&&ct.spotLength===ee&&ct.rectAreaLength===ue&&ct.hemiLength===ie&&ct.numDirectionalShadows===Ee&&ct.numPointShadows===We&&ct.numSpotShadows===Re||(u.directional.length=U,u.spot.length=ee,u.rectArea.length=ue,u.point.length=X,u.hemi.length=ie,u.directionalShadow.length=Ee,u.directionalShadowMap.length=Ee,u.pointShadow.length=We,u.pointShadowMap.length=We,u.spotShadow.length=Re,u.spotShadowMap.length=Re,u.directionalShadowMatrix.length=Ee,u.pointShadowMatrix.length=We,u.spotShadowMatrix.length=Re,ct.directionalLength=U,ct.pointLength=X,ct.spotLength=ee,ct.rectAreaLength=ue,ct.hemiLength=ie,ct.numDirectionalShadows=Ee,ct.numPointShadows=We,ct.numSpotShadows=Re,u.version=_e++)},setupView:function(P,N){let I=0,D=0,B=0,U=0,X=0;const ee=N.matrixWorldInverse;for(let ue=0,ie=P.length;ue<ie;ue++){const Ee=P[ue];if(Ee.isDirectionalLight){const We=u.directional[I];We.direction.setFromMatrixPosition(Ee.matrixWorld),m.setFromMatrixPosition(Ee.target.matrixWorld),We.direction.sub(m),We.direction.transformDirection(ee),I++}else if(Ee.isSpotLight){const We=u.spot[B];We.position.setFromMatrixPosition(Ee.matrixWorld),We.position.applyMatrix4(ee),We.direction.setFromMatrixPosition(Ee.matrixWorld),m.setFromMatrixPosition(Ee.target.matrixWorld),We.direction.sub(m),We.direction.transformDirection(ee),B++}else if(Ee.isRectAreaLight){const We=u.rectArea[U];We.position.setFromMatrixPosition(Ee.matrixWorld),We.position.applyMatrix4(ee),x.identity(),b.copy(Ee.matrixWorld),b.premultiply(ee),x.extractRotation(b),We.halfWidth.set(.5*Ee.width,0,0),We.halfHeight.set(0,.5*Ee.height,0),We.halfWidth.applyMatrix4(x),We.halfHeight.applyMatrix4(x),U++}else if(Ee.isPointLight){const We=u.point[D];We.position.setFromMatrixPosition(Ee.matrixWorld),We.position.applyMatrix4(ee),D++}else if(Ee.isHemisphereLight){const We=u.hemi[X];We.direction.setFromMatrixPosition(Ee.matrixWorld),We.direction.transformDirection(ee),We.direction.normalize(),X++}}},state:u}}function ke(T,e){const s=new Le(T,e),_=[],u=[];return{init:function(){_.length=0,u.length=0},state:{lightsArray:_,shadowsArray:u,lights:s},setupLights:function(m){s.setup(_,m)},setupLightsView:function(m){s.setupView(_,m)},pushLight:function(m){_.push(m)},pushShadow:function(m){u.push(m)}}}function He(T,e){let s=new WeakMap;return{get:function(_,u=0){let m;return s.has(_)===!1?(m=new ke(T,e),s.set(_,[m])):u>=s.get(_).length?(m=new ke(T,e),s.get(_).push(m)):m=s.get(_)[u],m},dispose:function(){s=new WeakMap}}}class Ce extends Ci{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Ce.prototype.isMeshDepthMaterial=!0;class we extends Ci{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ue,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}we.prototype.isMeshDistanceMaterial=!0;function Ge(T,e,s){let _=new ol;const u=new Vi,m=new Vi,b=new dr,x=new Ce({depthPacking:3201}),P=new we,N={},I=s.maxTextureSize,D={0:1,1:0,2:2},B=new t0({uniforms:{shadow_pass:{value:null},resolution:{value:new Vi},radius:{value:4},samples:{value:8}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
uniform float samples;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),U=B.clone();U.defines.HORIZONTAL_PASS=1;const X=new mr;X.setAttribute("position",new or(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ee=new co(X,B),ue=this;function ie(Re,et){const ct=e.update(ee);B.uniforms.shadow_pass.value=Re.map.texture,B.uniforms.resolution.value=Re.mapSize,B.uniforms.radius.value=Re.radius,B.uniforms.samples.value=Re.blurSamples,T.setRenderTarget(Re.mapPass),T.clear(),T.renderBufferDirect(et,null,ct,B,ee,null),U.uniforms.shadow_pass.value=Re.mapPass.texture,U.uniforms.resolution.value=Re.mapSize,U.uniforms.radius.value=Re.radius,U.uniforms.samples.value=Re.blurSamples,T.setRenderTarget(Re.map),T.clear(),T.renderBufferDirect(et,null,ct,U,ee,null)}function Ee(Re,et,ct,Ft,Ut,yi,ai){let hi=null;const Cn=Ft.isPointLight===!0?Re.customDistanceMaterial:Re.customDepthMaterial;if(hi=Cn!==void 0?Cn:Ft.isPointLight===!0?P:x,T.localClippingEnabled&&ct.clipShadows===!0&&ct.clippingPlanes.length!==0||ct.displacementMap&&ct.displacementScale!==0||ct.alphaMap&&ct.alphaTest>0){const sn=hi.uuid,_i=ct.uuid;let ln=N[sn];ln===void 0&&(ln={},N[sn]=ln);let Un=ln[_i];Un===void 0&&(Un=hi.clone(),ln[_i]=Un),hi=Un}return hi.visible=ct.visible,hi.wireframe=ct.wireframe,hi.side=ai===3?ct.shadowSide!==null?ct.shadowSide:ct.side:ct.shadowSide!==null?ct.shadowSide:D[ct.side],hi.alphaMap=ct.alphaMap,hi.alphaTest=ct.alphaTest,hi.clipShadows=ct.clipShadows,hi.clippingPlanes=ct.clippingPlanes,hi.clipIntersection=ct.clipIntersection,hi.displacementMap=ct.displacementMap,hi.displacementScale=ct.displacementScale,hi.displacementBias=ct.displacementBias,hi.wireframeLinewidth=ct.wireframeLinewidth,hi.linewidth=ct.linewidth,Ft.isPointLight===!0&&hi.isMeshDistanceMaterial===!0&&(hi.referencePosition.setFromMatrixPosition(Ft.matrixWorld),hi.nearDistance=Ut,hi.farDistance=yi),hi}function We(Re,et,ct,Ft,Ut){if(Re.visible===!1)return;if(Re.layers.test(et.layers)&&(Re.isMesh||Re.isLine||Re.isPoints)&&(Re.castShadow||Re.receiveShadow&&Ut===3)&&(!Re.frustumCulled||_.intersectsObject(Re))){Re.modelViewMatrix.multiplyMatrices(ct.matrixWorldInverse,Re.matrixWorld);const ai=e.update(Re),hi=Re.material;if(Array.isArray(hi)){const Cn=ai.groups;for(let sn=0,_i=Cn.length;sn<_i;sn++){const ln=Cn[sn],Un=hi[ln.materialIndex];if(Un&&Un.visible){const qn=Ee(Re,0,Un,Ft,ct.near,ct.far,Ut);T.renderBufferDirect(ct,null,ai,qn,Re,ln)}}}else if(hi.visible){const Cn=Ee(Re,0,hi,Ft,ct.near,ct.far,Ut);T.renderBufferDirect(ct,null,ai,Cn,Re,null)}}const yi=Re.children;for(let ai=0,hi=yi.length;ai<hi;ai++)We(yi[ai],et,ct,Ft,Ut)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Re,et,ct){if(ue.enabled===!1||ue.autoUpdate===!1&&ue.needsUpdate===!1||Re.length===0)return;const Ft=T.getRenderTarget(),Ut=T.getActiveCubeFace(),yi=T.getActiveMipmapLevel(),ai=T.state;ai.setBlending(0),ai.buffers.color.setClear(1,1,1,1),ai.buffers.depth.setTest(!0),ai.setScissorTest(!1);for(let hi=0,Cn=Re.length;hi<Cn;hi++){const sn=Re[hi],_i=sn.shadow;if(_i===void 0){console.warn("THREE.WebGLShadowMap:",sn,"has no shadow.");continue}if(_i.autoUpdate===!1&&_i.needsUpdate===!1)continue;u.copy(_i.mapSize);const ln=_i.getFrameExtents();if(u.multiply(ln),m.copy(_i.mapSize),(u.x>I||u.y>I)&&(u.x>I&&(m.x=Math.floor(I/ln.x),u.x=m.x*ln.x,_i.mapSize.x=m.x),u.y>I&&(m.y=Math.floor(I/ln.y),u.y=m.y*ln.y,_i.mapSize.y=m.y)),_i.map===null&&!_i.isPointLightShadow&&this.type===3){const qn={minFilter:1006,magFilter:1006,format:1023};_i.map=new Rs(u.x,u.y,qn),_i.map.texture.name=sn.name+".shadowMap",_i.mapPass=new Rs(u.x,u.y,qn),_i.camera.updateProjectionMatrix()}if(_i.map===null){const qn={minFilter:1003,magFilter:1003,format:1023};_i.map=new Rs(u.x,u.y,qn),_i.map.texture.name=sn.name+".shadowMap",_i.camera.updateProjectionMatrix()}T.setRenderTarget(_i.map),T.clear();const Un=_i.getViewportCount();for(let qn=0;qn<Un;qn++){const Zn=_i.getViewport(qn);b.set(m.x*Zn.x,m.y*Zn.y,m.x*Zn.z,m.y*Zn.w),ai.viewport(b),_i.updateMatrices(sn,qn),_=_i.getFrustum(),We(et,ct,_i.camera,sn,this.type)}_i.isPointLightShadow||this.type!==3||ie(_i,ct),_i.needsUpdate=!1}ue.needsUpdate=!1,T.setRenderTarget(Ft,Ut,yi)}}function Oe(T,e,s){const _=s.isWebGL2,u=new function(){let Ke=!1;const ti=new dr;let $i=null;const en=new dr(0,0,0,0);return{setMask:function(Zi){$i===Zi||Ke||(T.colorMask(Zi,Zi,Zi,Zi),$i=Zi)},setLocked:function(Zi){Ke=Zi},setClear:function(Zi,Xn,cr,er,Wr){Wr===!0&&(Zi*=er,Xn*=er,cr*=er),ti.set(Zi,Xn,cr,er),en.equals(ti)===!1&&(T.clearColor(Zi,Xn,cr,er),en.copy(ti))},reset:function(){Ke=!1,$i=null,en.set(-1,0,0,0)}}},m=new function(){let Ke=!1,ti=null,$i=null,en=null;return{setTest:function(Zi){Zi?hn(2929):at(2929)},setMask:function(Zi){ti===Zi||Ke||(T.depthMask(Zi),ti=Zi)},setFunc:function(Zi){if($i!==Zi){if(Zi)switch(Zi){case 0:T.depthFunc(512);break;case 1:T.depthFunc(519);break;case 2:T.depthFunc(513);break;case 3:T.depthFunc(515);break;case 4:T.depthFunc(514);break;case 5:T.depthFunc(518);break;case 6:T.depthFunc(516);break;case 7:T.depthFunc(517);break;default:T.depthFunc(515)}else T.depthFunc(515);$i=Zi}},setLocked:function(Zi){Ke=Zi},setClear:function(Zi){en!==Zi&&(T.clearDepth(Zi),en=Zi)},reset:function(){Ke=!1,ti=null,$i=null,en=null}}},b=new function(){let Ke=!1,ti=null,$i=null,en=null,Zi=null,Xn=null,cr=null,er=null,Wr=null;return{setTest:function(fr){Ke||(fr?hn(2960):at(2960))},setMask:function(fr){ti===fr||Ke||(T.stencilMask(fr),ti=fr)},setFunc:function(fr,Fo,ws){$i===fr&&en===Fo&&Zi===ws||(T.stencilFunc(fr,Fo,ws),$i=fr,en=Fo,Zi=ws)},setOp:function(fr,Fo,ws){Xn===fr&&cr===Fo&&er===ws||(T.stencilOp(fr,Fo,ws),Xn=fr,cr=Fo,er=ws)},setLocked:function(fr){Ke=fr},setClear:function(fr){Wr!==fr&&(T.clearStencil(fr),Wr=fr)},reset:function(){Ke=!1,ti=null,$i=null,en=null,Zi=null,Xn=null,cr=null,er=null,Wr=null}}};let x={},P=null,N={},I=null,D=!1,B=null,U=null,X=null,ee=null,ue=null,ie=null,Ee=null,We=!1,Re=null,et=null,ct=null,Ft=null,Ut=null;const yi=T.getParameter(35661);let ai=!1,hi=0;const Cn=T.getParameter(7938);Cn.indexOf("WebGL")!==-1?(hi=parseFloat(/^WebGL (\d)/.exec(Cn)[1]),ai=hi>=1):Cn.indexOf("OpenGL ES")!==-1&&(hi=parseFloat(/^OpenGL ES (\d)/.exec(Cn)[1]),ai=hi>=2);let sn=null,_i={};const ln=T.getParameter(3088),Un=T.getParameter(2978),qn=new dr().fromArray(ln),Zn=new dr().fromArray(Un);function ur(Ke,ti,$i){const en=new Uint8Array(4),Zi=T.createTexture();T.bindTexture(Ke,Zi),T.texParameteri(Ke,10241,9728),T.texParameteri(Ke,10240,9728);for(let Xn=0;Xn<$i;Xn++)T.texImage2D(ti+Xn,0,6408,1,1,0,6408,5121,en);return Zi}const Sr={};function hn(Ke){x[Ke]!==!0&&(T.enable(Ke),x[Ke]=!0)}function at(Ke){x[Ke]!==!1&&(T.disable(Ke),x[Ke]=!1)}Sr[3553]=ur(3553,3553,1),Sr[34067]=ur(34067,34069,6),u.setClear(0,0,0,1),m.setClear(1),b.setClear(0),hn(2929),m.setFunc(3),pi(!1),Pn(1),hn(2884),xi(0);const Ct={[100]:32774,101:32778,102:32779};if(_)Ct[103]=32775,Ct[104]=32776;else{const Ke=e.get("EXT_blend_minmax");Ke!==null&&(Ct[103]=Ke.MIN_EXT,Ct[104]=Ke.MAX_EXT)}const Bi={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function xi(Ke,ti,$i,en,Zi,Xn,cr,er){if(Ke!==0){if(D===!1&&(hn(3042),D=!0),Ke===5)Zi=Zi||ti,Xn=Xn||$i,cr=cr||en,ti===U&&Zi===ue||(T.blendEquationSeparate(Ct[ti],Ct[Zi]),U=ti,ue=Zi),$i===X&&en===ee&&Xn===ie&&cr===Ee||(T.blendFuncSeparate(Bi[$i],Bi[en],Bi[Xn],Bi[cr]),X=$i,ee=en,ie=Xn,Ee=cr),B=Ke,We=null;else if(Ke!==B||er!==We){if(U===100&&ue===100||(T.blendEquation(32774),U=100,ue=100),er)switch(Ke){case 1:T.blendFuncSeparate(1,771,1,771);break;case 2:T.blendFunc(1,1);break;case 3:T.blendFuncSeparate(0,0,769,771);break;case 4:T.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ke)}else switch(Ke){case 1:T.blendFuncSeparate(770,771,1,771);break;case 2:T.blendFunc(770,1);break;case 3:T.blendFunc(0,769);break;case 4:T.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ke)}X=null,ee=null,ie=null,Ee=null,B=Ke,We=er}}else D===!0&&(at(3042),D=!1)}function pi(Ke){Re!==Ke&&(Ke?T.frontFace(2304):T.frontFace(2305),Re=Ke)}function Pn(Ke){Ke!==0?(hn(2884),Ke!==et&&(Ke===1?T.cullFace(1029):Ke===2?T.cullFace(1028):T.cullFace(1032))):at(2884),et=Ke}function xn(Ke,ti,$i){Ke?(hn(32823),Ft===ti&&Ut===$i||(T.polygonOffset(ti,$i),Ft=ti,Ut=$i)):at(32823)}function Ai(Ke){Ke===void 0&&(Ke=33984+yi-1),sn!==Ke&&(T.activeTexture(Ke),sn=Ke)}return{buffers:{color:u,depth:m,stencil:b},enable:hn,disable:at,bindFramebuffer:function(Ke,ti){return ti===null&&P!==null&&(ti=P),N[Ke]!==ti&&(T.bindFramebuffer(Ke,ti),N[Ke]=ti,_&&(Ke===36009&&(N[36160]=ti),Ke===36160&&(N[36009]=ti)),!0)},bindXRFramebuffer:function(Ke){Ke!==P&&(T.bindFramebuffer(36160,Ke),P=Ke)},useProgram:function(Ke){return I!==Ke&&(T.useProgram(Ke),I=Ke,!0)},setBlending:xi,setMaterial:function(Ke,ti){Ke.side===2?at(2884):hn(2884);let $i=Ke.side===1;ti&&($i=!$i),pi($i),Ke.blending===1&&Ke.transparent===!1?xi(0):xi(Ke.blending,Ke.blendEquation,Ke.blendSrc,Ke.blendDst,Ke.blendEquationAlpha,Ke.blendSrcAlpha,Ke.blendDstAlpha,Ke.premultipliedAlpha),m.setFunc(Ke.depthFunc),m.setTest(Ke.depthTest),m.setMask(Ke.depthWrite),u.setMask(Ke.colorWrite);const en=Ke.stencilWrite;b.setTest(en),en&&(b.setMask(Ke.stencilWriteMask),b.setFunc(Ke.stencilFunc,Ke.stencilRef,Ke.stencilFuncMask),b.setOp(Ke.stencilFail,Ke.stencilZFail,Ke.stencilZPass)),xn(Ke.polygonOffset,Ke.polygonOffsetFactor,Ke.polygonOffsetUnits),Ke.alphaToCoverage===!0?hn(32926):at(32926)},setFlipSided:pi,setCullFace:Pn,setLineWidth:function(Ke){Ke!==ct&&(ai&&T.lineWidth(Ke),ct=Ke)},setPolygonOffset:xn,setScissorTest:function(Ke){Ke?hn(3089):at(3089)},activeTexture:Ai,bindTexture:function(Ke,ti){sn===null&&Ai();let $i=_i[sn];$i===void 0&&($i={type:void 0,texture:void 0},_i[sn]=$i),$i.type===Ke&&$i.texture===ti||(T.bindTexture(Ke,ti||Sr[Ke]),$i.type=Ke,$i.texture=ti)},unbindTexture:function(){const Ke=_i[sn];Ke!==void 0&&Ke.type!==void 0&&(T.bindTexture(Ke.type,null),Ke.type=void 0,Ke.texture=void 0)},compressedTexImage2D:function(){try{T.compressedTexImage2D.apply(T,arguments)}catch(Ke){console.error("THREE.WebGLState:",Ke)}},texImage2D:function(){try{T.texImage2D.apply(T,arguments)}catch(Ke){console.error("THREE.WebGLState:",Ke)}},texImage3D:function(){try{T.texImage3D.apply(T,arguments)}catch(Ke){console.error("THREE.WebGLState:",Ke)}},scissor:function(Ke){qn.equals(Ke)===!1&&(T.scissor(Ke.x,Ke.y,Ke.z,Ke.w),qn.copy(Ke))},viewport:function(Ke){Zn.equals(Ke)===!1&&(T.viewport(Ke.x,Ke.y,Ke.z,Ke.w),Zn.copy(Ke))},reset:function(){T.disable(3042),T.disable(2884),T.disable(2929),T.disable(32823),T.disable(3089),T.disable(2960),T.disable(32926),T.blendEquation(32774),T.blendFunc(1,0),T.blendFuncSeparate(1,0,1,0),T.colorMask(!0,!0,!0,!0),T.clearColor(0,0,0,0),T.depthMask(!0),T.depthFunc(513),T.clearDepth(1),T.stencilMask(4294967295),T.stencilFunc(519,0,4294967295),T.stencilOp(7680,7680,7680),T.clearStencil(0),T.cullFace(1029),T.frontFace(2305),T.polygonOffset(0,0),T.activeTexture(33984),T.bindFramebuffer(36160,null),_===!0&&(T.bindFramebuffer(36009,null),T.bindFramebuffer(36008,null)),T.useProgram(null),T.lineWidth(1),T.scissor(0,0,T.canvas.width,T.canvas.height),T.viewport(0,0,T.canvas.width,T.canvas.height),x={},sn=null,_i={},P=null,N={},I=null,D=!1,B=null,U=null,X=null,ee=null,ue=null,ie=null,Ee=null,We=!1,Re=null,et=null,ct=null,Ft=null,Ut=null,qn.set(0,0,T.canvas.width,T.canvas.height),Zn.set(0,0,T.canvas.width,T.canvas.height),u.reset(),m.reset(),b.reset()}}}function Xe(T,e,s,_,u,m,b){const x=u.isWebGL2,P=u.maxTextures,N=u.maxCubemapSize,I=u.maxTextureSize,D=u.maxSamples,B=new WeakMap;let U,X=!1;try{X=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ee(at,Ct){return X?new OffscreenCanvas(at,Ct):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function ue(at,Ct,Bi,xi){let pi=1;if((at.width>xi||at.height>xi)&&(pi=xi/Math.max(at.width,at.height)),pi<1||Ct===!0){if(typeof HTMLImageElement<"u"&&at instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&at instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&at instanceof ImageBitmap){const Pn=Ct?_o:Math.floor,xn=Pn(pi*at.width),Ai=Pn(pi*at.height);U===void 0&&(U=ee(xn,Ai));const Ke=Bi?ee(xn,Ai):U;return Ke.width=xn,Ke.height=Ai,Ke.getContext("2d").drawImage(at,0,0,xn,Ai),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+at.width+"x"+at.height+") to ("+xn+"x"+Ai+")."),Ke}return"data"in at&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+at.width+"x"+at.height+")."),at}return at}function ie(at){return ss(at.width)&&ss(at.height)}function Ee(at,Ct){return at.generateMipmaps&&Ct&&at.minFilter!==1003&&at.minFilter!==1006}function We(at,Ct,Bi,xi,pi=1){T.generateMipmap(at),_.get(Ct).__maxMipLevel=Math.log2(Math.max(Bi,xi,pi))}function Re(at,Ct,Bi){if(x===!1)return Ct;if(at!==null){if(T[at]!==void 0)return T[at];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+at+"'")}let xi=Ct;return Ct===6403&&(Bi===5126&&(xi=33326),Bi===5131&&(xi=33325),Bi===5121&&(xi=33321)),Ct===6407&&(Bi===5126&&(xi=34837),Bi===5131&&(xi=34843),Bi===5121&&(xi=32849)),Ct===6408&&(Bi===5126&&(xi=34836),Bi===5131&&(xi=34842),Bi===5121&&(xi=32856)),xi!==33325&&xi!==33326&&xi!==34842&&xi!==34836||e.get("EXT_color_buffer_float"),xi}function et(at){return at===1003||at===1004||at===1005?9728:9729}function ct(at){const Ct=at.target;Ct.removeEventListener("dispose",ct),function(Bi){const xi=_.get(Bi);xi.__webglInit!==void 0&&(T.deleteTexture(xi.__webglTexture),_.remove(Bi))}(Ct),Ct.isVideoTexture&&B.delete(Ct),b.memory.textures--}function Ft(at){const Ct=at.target;Ct.removeEventListener("dispose",Ft),function(Bi){const xi=Bi.texture,pi=_.get(Bi),Pn=_.get(xi);if(!!Bi){if(Pn.__webglTexture!==void 0&&(T.deleteTexture(Pn.__webglTexture),b.memory.textures--),Bi.depthTexture&&Bi.depthTexture.dispose(),Bi.isWebGLCubeRenderTarget)for(let xn=0;xn<6;xn++)T.deleteFramebuffer(pi.__webglFramebuffer[xn]),pi.__webglDepthbuffer&&T.deleteRenderbuffer(pi.__webglDepthbuffer[xn]);else T.deleteFramebuffer(pi.__webglFramebuffer),pi.__webglDepthbuffer&&T.deleteRenderbuffer(pi.__webglDepthbuffer),pi.__webglMultisampledFramebuffer&&T.deleteFramebuffer(pi.__webglMultisampledFramebuffer),pi.__webglColorRenderbuffer&&T.deleteRenderbuffer(pi.__webglColorRenderbuffer),pi.__webglDepthRenderbuffer&&T.deleteRenderbuffer(pi.__webglDepthRenderbuffer);if(Bi.isWebGLMultipleRenderTargets)for(let xn=0,Ai=xi.length;xn<Ai;xn++){const Ke=_.get(xi[xn]);Ke.__webglTexture&&(T.deleteTexture(Ke.__webglTexture),b.memory.textures--),_.remove(xi[xn])}_.remove(xi),_.remove(Bi)}}(Ct)}let Ut=0;function yi(at,Ct){const Bi=_.get(at);if(at.isVideoTexture&&function(xi){const pi=b.render.frame;B.get(xi)!==pi&&(B.set(xi,pi),xi.update())}(at),at.version>0&&Bi.__version!==at.version){const xi=at.image;if(xi===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(xi.complete!==!1)return void ln(Bi,at,Ct);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}s.activeTexture(33984+Ct),s.bindTexture(3553,Bi.__webglTexture)}function ai(at,Ct){const Bi=_.get(at);at.version>0&&Bi.__version!==at.version?function(xi,pi,Pn){if(pi.image.length!==6)return;_i(xi,pi),s.activeTexture(33984+Pn),s.bindTexture(34067,xi.__webglTexture),T.pixelStorei(37440,pi.flipY),T.pixelStorei(37441,pi.premultiplyAlpha),T.pixelStorei(3317,pi.unpackAlignment),T.pixelStorei(37443,0);const xn=pi&&(pi.isCompressedTexture||pi.image[0].isCompressedTexture),Ai=pi.image[0]&&pi.image[0].isDataTexture,Ke=[];for(let er=0;er<6;er++)Ke[er]=xn||Ai?Ai?pi.image[er].image:pi.image[er]:ue(pi.image[er],!1,!0,N);const ti=Ke[0],$i=ie(ti)||x,en=m.convert(pi.format),Zi=m.convert(pi.type),Xn=Re(pi.internalFormat,en,Zi);let cr;if(sn(34067,pi,$i),xn){for(let er=0;er<6;er++){cr=Ke[er].mipmaps;for(let Wr=0;Wr<cr.length;Wr++){const fr=cr[Wr];pi.format!==1023&&pi.format!==1022?en!==null?s.compressedTexImage2D(34069+er,Wr,Xn,fr.width,fr.height,0,fr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):s.texImage2D(34069+er,Wr,Xn,fr.width,fr.height,0,en,Zi,fr.data)}}xi.__maxMipLevel=cr.length-1}else{cr=pi.mipmaps;for(let er=0;er<6;er++)if(Ai){s.texImage2D(34069+er,0,Xn,Ke[er].width,Ke[er].height,0,en,Zi,Ke[er].data);for(let Wr=0;Wr<cr.length;Wr++){const fr=cr[Wr].image[er].image;s.texImage2D(34069+er,Wr+1,Xn,fr.width,fr.height,0,en,Zi,fr.data)}}else{s.texImage2D(34069+er,0,Xn,en,Zi,Ke[er]);for(let Wr=0;Wr<cr.length;Wr++){const fr=cr[Wr];s.texImage2D(34069+er,Wr+1,Xn,en,Zi,fr.image[er])}}xi.__maxMipLevel=cr.length}Ee(pi,$i)&&We(34067,pi,ti.width,ti.height),xi.__version=pi.version,pi.onUpdate&&pi.onUpdate(pi)}(Bi,at,Ct):(s.activeTexture(33984+Ct),s.bindTexture(34067,Bi.__webglTexture))}const hi={[1e3]:10497,[1001]:33071,[1002]:33648},Cn={[1003]:9728,[1004]:9984,[1005]:9986,[1006]:9729,[1007]:9985,[1008]:9987};function sn(at,Ct,Bi){if(Bi?(T.texParameteri(at,10242,hi[Ct.wrapS]),T.texParameteri(at,10243,hi[Ct.wrapT]),at!==32879&&at!==35866||T.texParameteri(at,32882,hi[Ct.wrapR]),T.texParameteri(at,10240,Cn[Ct.magFilter]),T.texParameteri(at,10241,Cn[Ct.minFilter])):(T.texParameteri(at,10242,33071),T.texParameteri(at,10243,33071),at!==32879&&at!==35866||T.texParameteri(at,32882,33071),Ct.wrapS===1001&&Ct.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),T.texParameteri(at,10240,et(Ct.magFilter)),T.texParameteri(at,10241,et(Ct.minFilter)),Ct.minFilter!==1003&&Ct.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const xi=e.get("EXT_texture_filter_anisotropic");if(Ct.type===1015&&e.has("OES_texture_float_linear")===!1||x===!1&&Ct.type===1016&&e.has("OES_texture_half_float_linear")===!1)return;(Ct.anisotropy>1||_.get(Ct).__currentAnisotropy)&&(T.texParameterf(at,xi.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ct.anisotropy,u.getMaxAnisotropy())),_.get(Ct).__currentAnisotropy=Ct.anisotropy)}}function _i(at,Ct){at.__webglInit===void 0&&(at.__webglInit=!0,Ct.addEventListener("dispose",ct),at.__webglTexture=T.createTexture(),b.memory.textures++)}function ln(at,Ct,Bi){let xi=3553;Ct.isDataTexture2DArray&&(xi=35866),Ct.isDataTexture3D&&(xi=32879),_i(at,Ct),s.activeTexture(33984+Bi),s.bindTexture(xi,at.__webglTexture),T.pixelStorei(37440,Ct.flipY),T.pixelStorei(37441,Ct.premultiplyAlpha),T.pixelStorei(3317,Ct.unpackAlignment),T.pixelStorei(37443,0);const pi=function(Zi){return!x&&(Zi.wrapS!==1001||Zi.wrapT!==1001||Zi.minFilter!==1003&&Zi.minFilter!==1006)}(Ct)&&ie(Ct.image)===!1,Pn=ue(Ct.image,pi,!1,I),xn=ie(Pn)||x,Ai=m.convert(Ct.format);let Ke,ti=m.convert(Ct.type),$i=Re(Ct.internalFormat,Ai,ti);sn(xi,Ct,xn);const en=Ct.mipmaps;if(Ct.isDepthTexture)$i=6402,x?$i=Ct.type===1015?36012:Ct.type===1014?33190:Ct.type===1020?35056:33189:Ct.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ct.format===1026&&$i===6402&&Ct.type!==1012&&Ct.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ct.type=1012,ti=m.convert(Ct.type)),Ct.format===1027&&$i===6402&&($i=34041,Ct.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ct.type=1020,ti=m.convert(Ct.type))),s.texImage2D(3553,0,$i,Pn.width,Pn.height,0,Ai,ti,null);else if(Ct.isDataTexture)if(en.length>0&&xn){for(let Zi=0,Xn=en.length;Zi<Xn;Zi++)Ke=en[Zi],s.texImage2D(3553,Zi,$i,Ke.width,Ke.height,0,Ai,ti,Ke.data);Ct.generateMipmaps=!1,at.__maxMipLevel=en.length-1}else s.texImage2D(3553,0,$i,Pn.width,Pn.height,0,Ai,ti,Pn.data),at.__maxMipLevel=0;else if(Ct.isCompressedTexture){for(let Zi=0,Xn=en.length;Zi<Xn;Zi++)Ke=en[Zi],Ct.format!==1023&&Ct.format!==1022?Ai!==null?s.compressedTexImage2D(3553,Zi,$i,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):s.texImage2D(3553,Zi,$i,Ke.width,Ke.height,0,Ai,ti,Ke.data);at.__maxMipLevel=en.length-1}else if(Ct.isDataTexture2DArray)s.texImage3D(35866,0,$i,Pn.width,Pn.height,Pn.depth,0,Ai,ti,Pn.data),at.__maxMipLevel=0;else if(Ct.isDataTexture3D)s.texImage3D(32879,0,$i,Pn.width,Pn.height,Pn.depth,0,Ai,ti,Pn.data),at.__maxMipLevel=0;else if(en.length>0&&xn){for(let Zi=0,Xn=en.length;Zi<Xn;Zi++)Ke=en[Zi],s.texImage2D(3553,Zi,$i,Ai,ti,Ke);Ct.generateMipmaps=!1,at.__maxMipLevel=en.length-1}else s.texImage2D(3553,0,$i,Ai,ti,Pn),at.__maxMipLevel=0;Ee(Ct,xn)&&We(xi,Ct,Pn.width,Pn.height),at.__version=Ct.version,Ct.onUpdate&&Ct.onUpdate(Ct)}function Un(at,Ct,Bi,xi,pi){const Pn=m.convert(Bi.format),xn=m.convert(Bi.type),Ai=Re(Bi.internalFormat,Pn,xn);pi===32879||pi===35866?s.texImage3D(pi,0,Ai,Ct.width,Ct.height,Ct.depth,0,Pn,xn,null):s.texImage2D(pi,0,Ai,Ct.width,Ct.height,0,Pn,xn,null),s.bindFramebuffer(36160,at),T.framebufferTexture2D(36160,xi,pi,_.get(Bi).__webglTexture,0),s.bindFramebuffer(36160,null)}function qn(at,Ct,Bi){if(T.bindRenderbuffer(36161,at),Ct.depthBuffer&&!Ct.stencilBuffer){let xi=33189;if(Bi){const pi=Ct.depthTexture;pi&&pi.isDepthTexture&&(pi.type===1015?xi=36012:pi.type===1014&&(xi=33190));const Pn=ur(Ct);T.renderbufferStorageMultisample(36161,Pn,xi,Ct.width,Ct.height)}else T.renderbufferStorage(36161,xi,Ct.width,Ct.height);T.framebufferRenderbuffer(36160,36096,36161,at)}else if(Ct.depthBuffer&&Ct.stencilBuffer){if(Bi){const xi=ur(Ct);T.renderbufferStorageMultisample(36161,xi,35056,Ct.width,Ct.height)}else T.renderbufferStorage(36161,34041,Ct.width,Ct.height);T.framebufferRenderbuffer(36160,33306,36161,at)}else{const xi=Ct.isWebGLMultipleRenderTargets===!0?Ct.texture[0]:Ct.texture,pi=m.convert(xi.format),Pn=m.convert(xi.type),xn=Re(xi.internalFormat,pi,Pn);if(Bi){const Ai=ur(Ct);T.renderbufferStorageMultisample(36161,Ai,xn,Ct.width,Ct.height)}else T.renderbufferStorage(36161,xn,Ct.width,Ct.height)}T.bindRenderbuffer(36161,null)}function Zn(at){const Ct=_.get(at),Bi=at.isWebGLCubeRenderTarget===!0;if(at.depthTexture){if(Bi)throw new Error("target.depthTexture not supported in Cube render targets");(function(xi,pi){if(pi&&pi.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(36160,xi),!pi.depthTexture||!pi.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");_.get(pi.depthTexture).__webglTexture&&pi.depthTexture.image.width===pi.width&&pi.depthTexture.image.height===pi.height||(pi.depthTexture.image.width=pi.width,pi.depthTexture.image.height=pi.height,pi.depthTexture.needsUpdate=!0),yi(pi.depthTexture,0);const Pn=_.get(pi.depthTexture).__webglTexture;if(pi.depthTexture.format===1026)T.framebufferTexture2D(36160,36096,3553,Pn,0);else{if(pi.depthTexture.format!==1027)throw new Error("Unknown depthTexture format");T.framebufferTexture2D(36160,33306,3553,Pn,0)}})(Ct.__webglFramebuffer,at)}else if(Bi){Ct.__webglDepthbuffer=[];for(let xi=0;xi<6;xi++)s.bindFramebuffer(36160,Ct.__webglFramebuffer[xi]),Ct.__webglDepthbuffer[xi]=T.createRenderbuffer(),qn(Ct.__webglDepthbuffer[xi],at,!1)}else s.bindFramebuffer(36160,Ct.__webglFramebuffer),Ct.__webglDepthbuffer=T.createRenderbuffer(),qn(Ct.__webglDepthbuffer,at,!1);s.bindFramebuffer(36160,null)}function ur(at){return x&&at.isWebGLMultisampleRenderTarget?Math.min(D,at.samples):0}let Sr=!1,hn=!1;this.allocateTextureUnit=function(){const at=Ut;return at>=P&&console.warn("THREE.WebGLTextures: Trying to use "+at+" texture units while this GPU supports only "+P),Ut+=1,at},this.resetTextureUnits=function(){Ut=0},this.setTexture2D=yi,this.setTexture2DArray=function(at,Ct){const Bi=_.get(at);at.version>0&&Bi.__version!==at.version?ln(Bi,at,Ct):(s.activeTexture(33984+Ct),s.bindTexture(35866,Bi.__webglTexture))},this.setTexture3D=function(at,Ct){const Bi=_.get(at);at.version>0&&Bi.__version!==at.version?ln(Bi,at,Ct):(s.activeTexture(33984+Ct),s.bindTexture(32879,Bi.__webglTexture))},this.setTextureCube=ai,this.setupRenderTarget=function(at){const Ct=at.texture,Bi=_.get(at),xi=_.get(Ct);at.addEventListener("dispose",Ft),at.isWebGLMultipleRenderTargets!==!0&&(xi.__webglTexture=T.createTexture(),xi.__version=Ct.version,b.memory.textures++);const pi=at.isWebGLCubeRenderTarget===!0,Pn=at.isWebGLMultipleRenderTargets===!0,xn=at.isWebGLMultisampleRenderTarget===!0,Ai=Ct.isDataTexture3D||Ct.isDataTexture2DArray,Ke=ie(at)||x;if(!x||Ct.format!==1022||Ct.type!==1015&&Ct.type!==1016||(Ct.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),pi){Bi.__webglFramebuffer=[];for(let ti=0;ti<6;ti++)Bi.__webglFramebuffer[ti]=T.createFramebuffer()}else if(Bi.__webglFramebuffer=T.createFramebuffer(),Pn)if(u.drawBuffers){const ti=at.texture;for(let $i=0,en=ti.length;$i<en;$i++){const Zi=_.get(ti[$i]);Zi.__webglTexture===void 0&&(Zi.__webglTexture=T.createTexture(),b.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(xn)if(x){Bi.__webglMultisampledFramebuffer=T.createFramebuffer(),Bi.__webglColorRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(36161,Bi.__webglColorRenderbuffer);const ti=m.convert(Ct.format),$i=m.convert(Ct.type),en=Re(Ct.internalFormat,ti,$i),Zi=ur(at);T.renderbufferStorageMultisample(36161,Zi,en,at.width,at.height),s.bindFramebuffer(36160,Bi.__webglMultisampledFramebuffer),T.framebufferRenderbuffer(36160,36064,36161,Bi.__webglColorRenderbuffer),T.bindRenderbuffer(36161,null),at.depthBuffer&&(Bi.__webglDepthRenderbuffer=T.createRenderbuffer(),qn(Bi.__webglDepthRenderbuffer,at,!0)),s.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(pi){s.bindTexture(34067,xi.__webglTexture),sn(34067,Ct,Ke);for(let ti=0;ti<6;ti++)Un(Bi.__webglFramebuffer[ti],at,Ct,36064,34069+ti);Ee(Ct,Ke)&&We(34067,Ct,at.width,at.height),s.unbindTexture()}else if(Pn){const ti=at.texture;for(let $i=0,en=ti.length;$i<en;$i++){const Zi=ti[$i],Xn=_.get(Zi);s.bindTexture(3553,Xn.__webglTexture),sn(3553,Zi,Ke),Un(Bi.__webglFramebuffer,at,Zi,36064+$i,3553),Ee(Zi,Ke)&&We(3553,Zi,at.width,at.height)}s.unbindTexture()}else{let ti=3553;Ai&&(x?ti=Ct.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),s.bindTexture(ti,xi.__webglTexture),sn(ti,Ct,Ke),Un(Bi.__webglFramebuffer,at,Ct,36064,ti),Ee(Ct,Ke)&&We(ti,Ct,at.width,at.height,at.depth),s.unbindTexture()}at.depthBuffer&&Zn(at)},this.updateRenderTargetMipmap=function(at){const Ct=ie(at)||x,Bi=at.isWebGLMultipleRenderTargets===!0?at.texture:[at.texture];for(let xi=0,pi=Bi.length;xi<pi;xi++){const Pn=Bi[xi];if(Ee(Pn,Ct)){const xn=at.isWebGLCubeRenderTarget?34067:3553,Ai=_.get(Pn).__webglTexture;s.bindTexture(xn,Ai),We(xn,Pn,at.width,at.height),s.unbindTexture()}}},this.updateMultisampleRenderTarget=function(at){if(at.isWebGLMultisampleRenderTarget)if(x){const Ct=at.width,Bi=at.height;let xi=16384;at.depthBuffer&&(xi|=256),at.stencilBuffer&&(xi|=1024);const pi=_.get(at);s.bindFramebuffer(36008,pi.__webglMultisampledFramebuffer),s.bindFramebuffer(36009,pi.__webglFramebuffer),T.blitFramebuffer(0,0,Ct,Bi,0,0,Ct,Bi,xi,9728),s.bindFramebuffer(36008,null),s.bindFramebuffer(36009,pi.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(at,Ct){at&&at.isWebGLRenderTarget&&(Sr===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Sr=!0),at=at.texture),yi(at,Ct)},this.safeSetTextureCube=function(at,Ct){at&&at.isWebGLCubeRenderTarget&&(hn===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),hn=!0),at=at.texture),ai(at,Ct)}}function pt(T,e,s){const _=s.isWebGL2;return{convert:function(u){let m;if(u===1009)return 5121;if(u===1017)return 32819;if(u===1018)return 32820;if(u===1019)return 33635;if(u===1010)return 5120;if(u===1011)return 5122;if(u===1012)return 5123;if(u===1013)return 5124;if(u===1014)return 5125;if(u===1015)return 5126;if(u===1016)return _?5131:(m=e.get("OES_texture_half_float"),m!==null?m.HALF_FLOAT_OES:null);if(u===1021)return 6406;if(u===1022)return 6407;if(u===1023)return 6408;if(u===1024)return 6409;if(u===1025)return 6410;if(u===1026)return 6402;if(u===1027)return 34041;if(u===1028)return 6403;if(u===1029)return 36244;if(u===1030)return 33319;if(u===1031)return 33320;if(u===1032)return 36248;if(u===1033)return 36249;if(u===33776||u===33777||u===33778||u===33779){if(m=e.get("WEBGL_compressed_texture_s3tc"),m===null)return null;if(u===33776)return m.COMPRESSED_RGB_S3TC_DXT1_EXT;if(u===33777)return m.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(u===33778)return m.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(u===33779)return m.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(u===35840||u===35841||u===35842||u===35843){if(m=e.get("WEBGL_compressed_texture_pvrtc"),m===null)return null;if(u===35840)return m.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(u===35841)return m.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(u===35842)return m.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(u===35843)return m.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(u===36196)return m=e.get("WEBGL_compressed_texture_etc1"),m!==null?m.COMPRESSED_RGB_ETC1_WEBGL:null;if((u===37492||u===37496)&&(m=e.get("WEBGL_compressed_texture_etc"),m!==null)){if(u===37492)return m.COMPRESSED_RGB8_ETC2;if(u===37496)return m.COMPRESSED_RGBA8_ETC2_EAC}return u===37808||u===37809||u===37810||u===37811||u===37812||u===37813||u===37814||u===37815||u===37816||u===37817||u===37818||u===37819||u===37820||u===37821||u===37840||u===37841||u===37842||u===37843||u===37844||u===37845||u===37846||u===37847||u===37848||u===37849||u===37850||u===37851||u===37852||u===37853?(m=e.get("WEBGL_compressed_texture_astc"),m!==null?u:null):u===36492?(m=e.get("EXT_texture_compression_bptc"),m!==null?u:null):u===1020?_?34042:(m=e.get("WEBGL_depth_texture"),m!==null?m.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class _t extends ao{constructor(e=[]){super(),this.cameras=e}}_t.prototype.isArrayCamera=!0;class Nt extends le{constructor(){super(),this.type="Group"}}Nt.prototype.isGroup=!0;const Xt={type:"move"};class zt{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nt,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nt,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nt,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,s,_){let u=null,m=null,b=null;const x=this._targetRay,P=this._grip,N=this._hand;if(e&&s.session.visibilityState!=="visible-blurred")if(x!==null&&(u=s.getPose(e.targetRaySpace,_),u!==null&&(x.matrix.fromArray(u.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),u.linearVelocity?(x.hasLinearVelocity=!0,x.linearVelocity.copy(u.linearVelocity)):x.hasLinearVelocity=!1,u.angularVelocity?(x.hasAngularVelocity=!0,x.angularVelocity.copy(u.angularVelocity)):x.hasAngularVelocity=!1,this.dispatchEvent(Xt))),N&&e.hand){b=!0;for(const ee of e.hand.values()){const ue=s.getJointPose(ee,_);if(N.joints[ee.jointName]===void 0){const Ee=new Nt;Ee.matrixAutoUpdate=!1,Ee.visible=!1,N.joints[ee.jointName]=Ee,N.add(Ee)}const ie=N.joints[ee.jointName];ue!==null&&(ie.matrix.fromArray(ue.transform.matrix),ie.matrix.decompose(ie.position,ie.rotation,ie.scale),ie.jointRadius=ue.radius),ie.visible=ue!==null}const I=N.joints["index-finger-tip"],D=N.joints["thumb-tip"],B=I.position.distanceTo(D.position),U=.02,X=.005;N.inputState.pinching&&B>U+X?(N.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!N.inputState.pinching&&B<=U-X&&(N.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else P!==null&&e.gripSpace&&(m=s.getPose(e.gripSpace,_),m!==null&&(P.matrix.fromArray(m.transform.matrix),P.matrix.decompose(P.position,P.rotation,P.scale),m.linearVelocity?(P.hasLinearVelocity=!0,P.linearVelocity.copy(m.linearVelocity)):P.hasLinearVelocity=!1,m.angularVelocity?(P.hasAngularVelocity=!0,P.angularVelocity.copy(m.angularVelocity)):P.hasAngularVelocity=!1));return x!==null&&(x.visible=u!==null),P!==null&&(P.visible=m!==null),N!==null&&(N.visible=b!==null),this}}class Lt extends ii{constructor(e,s){super();const _=this,u=e.state;let m=null,b=1,x=null,P="local-floor",N=null,I=null,D=null,B=null,U=null,X=!1,ee=null,ue=null,ie=null,Ee=null,We=null,Re=null;const et=[],ct=new Map,Ft=new ao;Ft.layers.enable(1),Ft.viewport=new dr;const Ut=new ao;Ut.layers.enable(2),Ut.viewport=new dr;const yi=[Ft,Ut],ai=new _t;ai.layers.enable(1),ai.layers.enable(2);let hi=null,Cn=null;function sn(hn){const at=ct.get(hn.inputSource);at&&at.dispatchEvent({type:hn.type,data:hn.inputSource})}function _i(){ct.forEach(function(hn,at){hn.disconnect(at)}),ct.clear(),hi=null,Cn=null,u.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),D&&s.deleteFramebuffer(D),ee&&s.deleteFramebuffer(ee),ue&&s.deleteRenderbuffer(ue),ie&&s.deleteRenderbuffer(ie),D=null,ee=null,ue=null,ie=null,U=null,B=null,I=null,m=null,Sr.stop(),_.isPresenting=!1,_.dispatchEvent({type:"sessionend"})}function ln(hn){const at=m.inputSources;for(let Ct=0;Ct<et.length;Ct++)ct.set(at[Ct],et[Ct]);for(let Ct=0;Ct<hn.removed.length;Ct++){const Bi=hn.removed[Ct],xi=ct.get(Bi);xi&&(xi.dispatchEvent({type:"disconnected",data:Bi}),ct.delete(Bi))}for(let Ct=0;Ct<hn.added.length;Ct++){const Bi=hn.added[Ct],xi=ct.get(Bi);xi&&xi.dispatchEvent({type:"connected",data:Bi})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(hn){let at=et[hn];return at===void 0&&(at=new zt,et[hn]=at),at.getTargetRaySpace()},this.getControllerGrip=function(hn){let at=et[hn];return at===void 0&&(at=new zt,et[hn]=at),at.getGripSpace()},this.getHand=function(hn){let at=et[hn];return at===void 0&&(at=new zt,et[hn]=at),at.getHandSpace()},this.setFramebufferScaleFactor=function(hn){b=hn,_.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(hn){P=hn,_.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return x},this.getBaseLayer=function(){return B!==null?B:U},this.getBinding=function(){return I},this.getFrame=function(){return Ee},this.getSession=function(){return m},this.setSession=async function(hn){if(m=hn,m!==null){m.addEventListener("select",sn),m.addEventListener("selectstart",sn),m.addEventListener("selectend",sn),m.addEventListener("squeeze",sn),m.addEventListener("squeezestart",sn),m.addEventListener("squeezeend",sn),m.addEventListener("end",_i),m.addEventListener("inputsourceschange",ln);const at=s.getContextAttributes();if(at.xrCompatible!==!0&&await s.makeXRCompatible(),m.renderState.layers===void 0){const Ct={antialias:at.antialias,alpha:at.alpha,depth:at.depth,stencil:at.stencil,framebufferScaleFactor:b};U=new XRWebGLLayer(m,s,Ct),m.updateRenderState({baseLayer:U})}else if(s instanceof WebGLRenderingContext){const Ct={antialias:!0,alpha:at.alpha,depth:at.depth,stencil:at.stencil,framebufferScaleFactor:b};U=new XRWebGLLayer(m,s,Ct),m.updateRenderState({layers:[U]})}else{X=at.antialias;let Ct=null;at.depth&&(Re=256,at.stencil&&(Re|=1024),We=at.stencil?33306:36096,Ct=at.stencil?35056:33190);const Bi={colorFormat:at.alpha?32856:32849,depthFormat:Ct,scaleFactor:b};I=new XRWebGLBinding(m,s),B=I.createProjectionLayer(Bi),D=s.createFramebuffer(),m.updateRenderState({layers:[B]}),X&&(ee=s.createFramebuffer(),ue=s.createRenderbuffer(),s.bindRenderbuffer(36161,ue),s.renderbufferStorageMultisample(36161,4,32856,B.textureWidth,B.textureHeight),u.bindFramebuffer(36160,ee),s.framebufferRenderbuffer(36160,36064,36161,ue),s.bindRenderbuffer(36161,null),Ct!==null&&(ie=s.createRenderbuffer(),s.bindRenderbuffer(36161,ie),s.renderbufferStorageMultisample(36161,4,Ct,B.textureWidth,B.textureHeight),s.framebufferRenderbuffer(36160,We,36161,ie),s.bindRenderbuffer(36161,null)),u.bindFramebuffer(36160,null))}x=await m.requestReferenceSpace(P),Sr.setContext(m),Sr.start(),_.isPresenting=!0,_.dispatchEvent({type:"sessionstart"})}};const Un=new Ue,qn=new Ue;function Zn(hn,at){at===null?hn.matrixWorld.copy(hn.matrix):hn.matrixWorld.multiplyMatrices(at.matrixWorld,hn.matrix),hn.matrixWorldInverse.copy(hn.matrixWorld).invert()}this.updateCamera=function(hn){if(m===null)return;ai.near=Ut.near=Ft.near=hn.near,ai.far=Ut.far=Ft.far=hn.far,hi===ai.near&&Cn===ai.far||(m.updateRenderState({depthNear:ai.near,depthFar:ai.far}),hi=ai.near,Cn=ai.far);const at=hn.parent,Ct=ai.cameras;Zn(ai,at);for(let xi=0;xi<Ct.length;xi++)Zn(Ct[xi],at);ai.matrixWorld.decompose(ai.position,ai.quaternion,ai.scale),hn.position.copy(ai.position),hn.quaternion.copy(ai.quaternion),hn.scale.copy(ai.scale),hn.matrix.copy(ai.matrix),hn.matrixWorld.copy(ai.matrixWorld);const Bi=hn.children;for(let xi=0,pi=Bi.length;xi<pi;xi++)Bi[xi].updateMatrixWorld(!0);Ct.length===2?function(xi,pi,Pn){Un.setFromMatrixPosition(pi.matrixWorld),qn.setFromMatrixPosition(Pn.matrixWorld);const xn=Un.distanceTo(qn),Ai=pi.projectionMatrix.elements,Ke=Pn.projectionMatrix.elements,ti=Ai[14]/(Ai[10]-1),$i=Ai[14]/(Ai[10]+1),en=(Ai[9]+1)/Ai[5],Zi=(Ai[9]-1)/Ai[5],Xn=(Ai[8]-1)/Ai[0],cr=(Ke[8]+1)/Ke[0],er=ti*Xn,Wr=ti*cr,fr=xn/(-Xn+cr),Fo=fr*-Xn;pi.matrixWorld.decompose(xi.position,xi.quaternion,xi.scale),xi.translateX(Fo),xi.translateZ(fr),xi.matrixWorld.compose(xi.position,xi.quaternion,xi.scale),xi.matrixWorldInverse.copy(xi.matrixWorld).invert();const ws=ti+fr,ea=$i+fr,Ua=er-Fo,Wu=Wr+(xn-Fo),J_=en*$i/ea*ws,j_=Zi*$i/ea*ws;xi.projectionMatrix.makePerspective(Ua,Wu,J_,j_,ws,ea)}(ai,Ft,Ut):ai.projectionMatrix.copy(Ft.projectionMatrix)},this.getCamera=function(){return ai},this.getFoveation=function(){return B!==null?B.fixedFoveation:U!==null?U.fixedFoveation:void 0},this.setFoveation=function(hn){B!==null&&(B.fixedFoveation=hn),U!==null&&U.fixedFoveation!==void 0&&(U.fixedFoveation=hn)};let ur=null;const Sr=new xl;Sr.setAnimationLoop(function(hn,at){if(N=at.getViewerPose(x),Ee=at,N!==null){const Bi=N.views;U!==null&&u.bindXRFramebuffer(U.framebuffer);let xi=!1;Bi.length!==ai.cameras.length&&(ai.cameras.length=0,xi=!0);for(let pi=0;pi<Bi.length;pi++){const Pn=Bi[pi];let xn=null;if(U!==null)xn=U.getViewport(Pn);else{const Ke=I.getViewSubImage(B,Pn);u.bindXRFramebuffer(D),Ke.depthStencilTexture!==void 0&&s.framebufferTexture2D(36160,We,3553,Ke.depthStencilTexture,0),s.framebufferTexture2D(36160,36064,3553,Ke.colorTexture,0),xn=Ke.viewport}const Ai=yi[pi];Ai.matrix.fromArray(Pn.transform.matrix),Ai.projectionMatrix.fromArray(Pn.projectionMatrix),Ai.viewport.set(xn.x,xn.y,xn.width,xn.height),pi===0&&ai.matrix.copy(Ai.matrix),xi===!0&&ai.cameras.push(Ai)}X&&(u.bindXRFramebuffer(ee),Re!==null&&s.clear(Re))}const Ct=m.inputSources;for(let Bi=0;Bi<et.length;Bi++){const xi=et[Bi],pi=Ct[Bi];xi.update(pi,at,x)}if(ur&&ur(hn,at),X){const Bi=B.textureWidth,xi=B.textureHeight;u.bindFramebuffer(36008,ee),u.bindFramebuffer(36009,D),s.invalidateFramebuffer(36008,[We]),s.invalidateFramebuffer(36009,[We]),s.blitFramebuffer(0,0,Bi,xi,0,0,Bi,xi,16384,9728),s.invalidateFramebuffer(36008,[36064]),u.bindFramebuffer(36008,null),u.bindFramebuffer(36009,null),u.bindFramebuffer(36160,ee)}Ee=null}),this.setAnimationLoop=function(hn){ur=hn},this.dispose=function(){}}}function Qi(T){function e(_,u){_.opacity.value=u.opacity,u.color&&_.diffuse.value.copy(u.color),u.emissive&&_.emissive.value.copy(u.emissive).multiplyScalar(u.emissiveIntensity),u.map&&(_.map.value=u.map),u.alphaMap&&(_.alphaMap.value=u.alphaMap),u.specularMap&&(_.specularMap.value=u.specularMap),u.alphaTest>0&&(_.alphaTest.value=u.alphaTest);const m=T.get(u).envMap;if(m){_.envMap.value=m,_.flipEnvMap.value=m.isCubeTexture&&m.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=u.reflectivity,_.ior.value=u.ior,_.refractionRatio.value=u.refractionRatio;const P=T.get(m).__maxMipLevel;P!==void 0&&(_.maxMipLevel.value=P)}let b,x;u.lightMap&&(_.lightMap.value=u.lightMap,_.lightMapIntensity.value=u.lightMapIntensity),u.aoMap&&(_.aoMap.value=u.aoMap,_.aoMapIntensity.value=u.aoMapIntensity),u.map?b=u.map:u.specularMap?b=u.specularMap:u.displacementMap?b=u.displacementMap:u.normalMap?b=u.normalMap:u.bumpMap?b=u.bumpMap:u.roughnessMap?b=u.roughnessMap:u.metalnessMap?b=u.metalnessMap:u.alphaMap?b=u.alphaMap:u.emissiveMap?b=u.emissiveMap:u.clearcoatMap?b=u.clearcoatMap:u.clearcoatNormalMap?b=u.clearcoatNormalMap:u.clearcoatRoughnessMap?b=u.clearcoatRoughnessMap:u.specularIntensityMap?b=u.specularIntensityMap:u.specularTintMap?b=u.specularTintMap:u.transmissionMap?b=u.transmissionMap:u.thicknessMap&&(b=u.thicknessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),_.uvTransform.value.copy(b.matrix)),u.aoMap?x=u.aoMap:u.lightMap&&(x=u.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),_.uv2Transform.value.copy(x.matrix))}function s(_,u){_.roughness.value=u.roughness,_.metalness.value=u.metalness,u.roughnessMap&&(_.roughnessMap.value=u.roughnessMap),u.metalnessMap&&(_.metalnessMap.value=u.metalnessMap),u.emissiveMap&&(_.emissiveMap.value=u.emissiveMap),u.bumpMap&&(_.bumpMap.value=u.bumpMap,_.bumpScale.value=u.bumpScale,u.side===1&&(_.bumpScale.value*=-1)),u.normalMap&&(_.normalMap.value=u.normalMap,_.normalScale.value.copy(u.normalScale),u.side===1&&_.normalScale.value.negate()),u.displacementMap&&(_.displacementMap.value=u.displacementMap,_.displacementScale.value=u.displacementScale,_.displacementBias.value=u.displacementBias),T.get(u).envMap&&(_.envMapIntensity.value=u.envMapIntensity)}return{refreshFogUniforms:function(_,u){_.fogColor.value.copy(u.color),u.isFog?(_.fogNear.value=u.near,_.fogFar.value=u.far):u.isFogExp2&&(_.fogDensity.value=u.density)},refreshMaterialUniforms:function(_,u,m,b,x){u.isMeshBasicMaterial?e(_,u):u.isMeshLambertMaterial?(e(_,u),function(P,N){N.emissiveMap&&(P.emissiveMap.value=N.emissiveMap)}(_,u)):u.isMeshToonMaterial?(e(_,u),function(P,N){N.gradientMap&&(P.gradientMap.value=N.gradientMap),N.emissiveMap&&(P.emissiveMap.value=N.emissiveMap),N.bumpMap&&(P.bumpMap.value=N.bumpMap,P.bumpScale.value=N.bumpScale,N.side===1&&(P.bumpScale.value*=-1)),N.normalMap&&(P.normalMap.value=N.normalMap,P.normalScale.value.copy(N.normalScale),N.side===1&&P.normalScale.value.negate()),N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias)}(_,u)):u.isMeshPhongMaterial?(e(_,u),function(P,N){P.specular.value.copy(N.specular),P.shininess.value=Math.max(N.shininess,1e-4),N.emissiveMap&&(P.emissiveMap.value=N.emissiveMap),N.bumpMap&&(P.bumpMap.value=N.bumpMap,P.bumpScale.value=N.bumpScale,N.side===1&&(P.bumpScale.value*=-1)),N.normalMap&&(P.normalMap.value=N.normalMap,P.normalScale.value.copy(N.normalScale),N.side===1&&P.normalScale.value.negate()),N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias)}(_,u)):u.isMeshStandardMaterial?(e(_,u),u.isMeshPhysicalMaterial?function(P,N,I){s(P,N),P.ior.value=N.ior,N.sheenTint&&P.sheenTint.value.copy(N.sheenTint),N.clearcoat>0&&(P.clearcoat.value=N.clearcoat,P.clearcoatRoughness.value=N.clearcoatRoughness,N.clearcoatMap&&(P.clearcoatMap.value=N.clearcoatMap),N.clearcoatRoughnessMap&&(P.clearcoatRoughnessMap.value=N.clearcoatRoughnessMap),N.clearcoatNormalMap&&(P.clearcoatNormalScale.value.copy(N.clearcoatNormalScale),P.clearcoatNormalMap.value=N.clearcoatNormalMap,N.side===1&&P.clearcoatNormalScale.value.negate())),N.transmission>0&&(P.transmission.value=N.transmission,P.transmissionSamplerMap.value=I.texture,P.transmissionSamplerSize.value.set(I.width,I.height),N.transmissionMap&&(P.transmissionMap.value=N.transmissionMap),P.thickness.value=N.thickness,N.thicknessMap&&(P.thicknessMap.value=N.thicknessMap),P.attenuationDistance.value=N.attenuationDistance,P.attenuationTint.value.copy(N.attenuationTint)),P.specularIntensity.value=N.specularIntensity,P.specularTint.value.copy(N.specularTint),N.specularIntensityMap&&(P.specularIntensityMap.value=N.specularIntensityMap),N.specularTintMap&&(P.specularTintMap.value=N.specularTintMap)}(_,u,x):s(_,u)):u.isMeshMatcapMaterial?(e(_,u),function(P,N){N.matcap&&(P.matcap.value=N.matcap),N.bumpMap&&(P.bumpMap.value=N.bumpMap,P.bumpScale.value=N.bumpScale,N.side===1&&(P.bumpScale.value*=-1)),N.normalMap&&(P.normalMap.value=N.normalMap,P.normalScale.value.copy(N.normalScale),N.side===1&&P.normalScale.value.negate()),N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias)}(_,u)):u.isMeshDepthMaterial?(e(_,u),function(P,N){N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias)}(_,u)):u.isMeshDistanceMaterial?(e(_,u),function(P,N){N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias),P.referencePosition.value.copy(N.referencePosition),P.nearDistance.value=N.nearDistance,P.farDistance.value=N.farDistance}(_,u)):u.isMeshNormalMaterial?(e(_,u),function(P,N){N.bumpMap&&(P.bumpMap.value=N.bumpMap,P.bumpScale.value=N.bumpScale,N.side===1&&(P.bumpScale.value*=-1)),N.normalMap&&(P.normalMap.value=N.normalMap,P.normalScale.value.copy(N.normalScale),N.side===1&&P.normalScale.value.negate()),N.displacementMap&&(P.displacementMap.value=N.displacementMap,P.displacementScale.value=N.displacementScale,P.displacementBias.value=N.displacementBias)}(_,u)):u.isLineBasicMaterial?(function(P,N){P.diffuse.value.copy(N.color),P.opacity.value=N.opacity}(_,u),u.isLineDashedMaterial&&function(P,N){P.dashSize.value=N.dashSize,P.totalSize.value=N.dashSize+N.gapSize,P.scale.value=N.scale}(_,u)):u.isPointsMaterial?function(P,N,I,D){P.diffuse.value.copy(N.color),P.opacity.value=N.opacity,P.size.value=N.size*I,P.scale.value=.5*D,N.map&&(P.map.value=N.map),N.alphaMap&&(P.alphaMap.value=N.alphaMap),N.alphaTest>0&&(P.alphaTest.value=N.alphaTest);let B;N.map?B=N.map:N.alphaMap&&(B=N.alphaMap),B!==void 0&&(B.matrixAutoUpdate===!0&&B.updateMatrix(),P.uvTransform.value.copy(B.matrix))}(_,u,m,b):u.isSpriteMaterial?function(P,N){P.diffuse.value.copy(N.color),P.opacity.value=N.opacity,P.rotation.value=N.rotation,N.map&&(P.map.value=N.map),N.alphaMap&&(P.alphaMap.value=N.alphaMap),N.alphaTest>0&&(P.alphaTest.value=N.alphaTest);let I;N.map?I=N.map:N.alphaMap&&(I=N.alphaMap),I!==void 0&&(I.matrixAutoUpdate===!0&&I.updateMatrix(),P.uvTransform.value.copy(I.matrix))}(_,u):u.isShadowMaterial?(_.color.value.copy(u.color),_.opacity.value=u.opacity):u.isShaderMaterial&&(u.uniformsNeedUpdate=!1)}}}function Et(T={}){const e=T.canvas!==void 0?T.canvas:function(){const tt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return tt.style.display="block",tt}(),s=T.context!==void 0?T.context:null,_=T.alpha!==void 0&&T.alpha,u=T.depth===void 0||T.depth,m=T.stencil===void 0||T.stencil,b=T.antialias!==void 0&&T.antialias,x=T.premultipliedAlpha===void 0||T.premultipliedAlpha,P=T.preserveDrawingBuffer!==void 0&&T.preserveDrawingBuffer,N=T.powerPreference!==void 0?T.powerPreference:"default",I=T.failIfMajorPerformanceCaveat!==void 0&&T.failIfMajorPerformanceCaveat;let D=null,B=null;const U=[],X=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const ee=this;let ue=!1,ie=0,Ee=0,We=null,Re=-1,et=null;const ct=new dr,Ft=new dr;let Ut=null,yi=e.width,ai=e.height,hi=1,Cn=null,sn=null;const _i=new dr(0,0,yi,ai),ln=new dr(0,0,yi,ai);let Un=!1;const qn=[],Zn=new ol;let ur=!1,Sr=!1,hn=null;const at=new Tn,Ct=new Ue,Bi={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xi(){return We===null?hi:1}let pi,Pn,xn,Ai,Ke,ti,$i,en,Zi,Xn,cr,er,Wr,fr,Fo,ws,ea,Ua,Wu,J_,j_,z0,Ka,mn=s;function Jh(tt,Ri){for(let ni=0;ni<tt.length;ni++){const Hi=tt[ni],dn=e.getContext(Hi,Ri);if(dn!==null)return dn}return null}try{const tt={alpha:_,depth:u,stencil:m,antialias:b,premultipliedAlpha:x,preserveDrawingBuffer:P,powerPreference:N,failIfMajorPerformanceCaveat:I};if(e.addEventListener("webglcontextlost",Zd,!1),e.addEventListener("webglcontextrestored",ql,!1),mn===null){const Ri=["webgl2","webgl","experimental-webgl"];if(ee.isWebGL1Renderer===!0&&Ri.shift(),mn=Jh(Ri,tt),mn===null)throw Jh(Ri)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}mn.getShaderPrecisionFormat===void 0&&(mn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(tt){throw console.error("THREE.WebGLRenderer: "+tt.message),tt}function $d(){pi=new Qu(mn),Pn=new Bc(mn,pi,T),pi.init(Pn),z0=new pt(mn,pi,Pn),xn=new Oe(mn,pi,Pn),qn[0]=1029,Ai=new P_,Ke=new S,ti=new Xe(mn,pi,xn,Ke,Pn,z0,Ai),$i=new o_(ee),en=new uu(ee),Zi=new au(mn,Pn),Ka=new Zu(mn,pi,Zi,Pn),Xn=new cu(mn,Zi,Ai,Ka),cr=new N_(mn,Xn,Zi,Ai),Wu=new k0(mn),ws=new S_(Ke),er=new A(ee,$i,en,pi,Pn,Ka,ws),Wr=new Qi(Ke),fr=new $(Ke),Fo=new He(pi,Pn),Ua=new Cl(ee,$i,xn,cr,x),ea=new Ge(ee,cr,Pn),J_=new s_(mn,pi,Ai,Pn),j_=new hu(mn,pi,Ai,Pn),Ai.programs=er.programs,ee.capabilities=Pn,ee.extensions=pi,ee.properties=Ke,ee.renderLists=fr,ee.shadowMap=ea,ee.state=xn,ee.info=Ai}$d();const b0=new Lt(ee,mn);function Zd(tt){tt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ue=!0}function ql(){console.log("THREE.WebGLRenderer: Context Restored."),ue=!1;const tt=Ai.autoReset,Ri=ea.enabled,ni=ea.autoUpdate,Hi=ea.needsUpdate,dn=ea.type;$d(),Ai.autoReset=tt,ea.enabled=Ri,ea.autoUpdate=ni,ea.needsUpdate=Hi,ea.type=dn}function Xd(tt){const Ri=tt.target;Ri.removeEventListener("dispose",Xd),function(ni){(function(Hi){const dn=Ke.get(Hi).programs;dn!==void 0&&dn.forEach(function(kr){er.releaseProgram(kr)})})(ni),Ke.remove(ni)}(Ri)}this.xr=b0,this.getContext=function(){return mn},this.getContextAttributes=function(){return mn.getContextAttributes()},this.forceContextLoss=function(){const tt=pi.get("WEBGL_lose_context");tt&&tt.loseContext()},this.forceContextRestore=function(){const tt=pi.get("WEBGL_lose_context");tt&&tt.restoreContext()},this.getPixelRatio=function(){return hi},this.setPixelRatio=function(tt){tt!==void 0&&(hi=tt,this.setSize(yi,ai,!1))},this.getSize=function(tt){return tt.set(yi,ai)},this.setSize=function(tt,Ri,ni){b0.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(yi=tt,ai=Ri,e.width=Math.floor(tt*hi),e.height=Math.floor(Ri*hi),ni!==!1&&(e.style.width=tt+"px",e.style.height=Ri+"px"),this.setViewport(0,0,tt,Ri))},this.getDrawingBufferSize=function(tt){return tt.set(yi*hi,ai*hi).floor()},this.setDrawingBufferSize=function(tt,Ri,ni){yi=tt,ai=Ri,hi=ni,e.width=Math.floor(tt*ni),e.height=Math.floor(Ri*ni),this.setViewport(0,0,tt,Ri)},this.getCurrentViewport=function(tt){return tt.copy(ct)},this.getViewport=function(tt){return tt.copy(_i)},this.setViewport=function(tt,Ri,ni,Hi){tt.isVector4?_i.set(tt.x,tt.y,tt.z,tt.w):_i.set(tt,Ri,ni,Hi),xn.viewport(ct.copy(_i).multiplyScalar(hi).floor())},this.getScissor=function(tt){return tt.copy(ln)},this.setScissor=function(tt,Ri,ni,Hi){tt.isVector4?ln.set(tt.x,tt.y,tt.z,tt.w):ln.set(tt,Ri,ni,Hi),xn.scissor(Ft.copy(ln).multiplyScalar(hi).floor())},this.getScissorTest=function(){return Un},this.setScissorTest=function(tt){xn.setScissorTest(Un=tt)},this.setOpaqueSort=function(tt){Cn=tt},this.setTransparentSort=function(tt){sn=tt},this.getClearColor=function(tt){return tt.copy(Ua.getClearColor())},this.setClearColor=function(){Ua.setClearColor.apply(Ua,arguments)},this.getClearAlpha=function(){return Ua.getClearAlpha()},this.setClearAlpha=function(){Ua.setClearAlpha.apply(Ua,arguments)},this.clear=function(tt,Ri,ni){let Hi=0;(tt===void 0||tt)&&(Hi|=16384),(Ri===void 0||Ri)&&(Hi|=256),(ni===void 0||ni)&&(Hi|=1024),mn.clear(Hi)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Zd,!1),e.removeEventListener("webglcontextrestored",ql,!1),fr.dispose(),Fo.dispose(),Ke.dispose(),$i.dispose(),en.dispose(),cr.dispose(),Ka.dispose(),b0.dispose(),b0.removeEventListener("sessionstart",Kd),b0.removeEventListener("sessionend",Qd),hn&&(hn.dispose(),hn=null),Uu.stop()},this.renderBufferImmediate=function(tt,Ri){Ka.initAttributes();const ni=Ke.get(tt);tt.hasPositions&&!ni.position&&(ni.position=mn.createBuffer()),tt.hasNormals&&!ni.normal&&(ni.normal=mn.createBuffer()),tt.hasUvs&&!ni.uv&&(ni.uv=mn.createBuffer()),tt.hasColors&&!ni.color&&(ni.color=mn.createBuffer());const Hi=Ri.getAttributes();tt.hasPositions&&(mn.bindBuffer(34962,ni.position),mn.bufferData(34962,tt.positionArray,35048),Ka.enableAttribute(Hi.position.location),mn.vertexAttribPointer(Hi.position.location,3,5126,!1,0,0)),tt.hasNormals&&(mn.bindBuffer(34962,ni.normal),mn.bufferData(34962,tt.normalArray,35048),Ka.enableAttribute(Hi.normal.location),mn.vertexAttribPointer(Hi.normal.location,3,5126,!1,0,0)),tt.hasUvs&&(mn.bindBuffer(34962,ni.uv),mn.bufferData(34962,tt.uvArray,35048),Ka.enableAttribute(Hi.uv.location),mn.vertexAttribPointer(Hi.uv.location,2,5126,!1,0,0)),tt.hasColors&&(mn.bindBuffer(34962,ni.color),mn.bufferData(34962,tt.colorArray,35048),Ka.enableAttribute(Hi.color.location),mn.vertexAttribPointer(Hi.color.location,3,5126,!1,0,0)),Ka.disableUnusedAttributes(),mn.drawArrays(4,0,tt.count),tt.count=0},this.renderBufferDirect=function(tt,Ri,ni,Hi,dn,kr){Ri===null&&(Ri=Bi);const gr=dn.isMesh&&dn.matrixWorld.determinant()<0,Ur=qh(tt,Ri,Hi,dn);xn.setMaterial(Hi,gr);let ps=ni.index;const to=ni.attributes.position;if(ps===null){if(to===void 0||to.count===0)return}else if(ps.count===0)return;let Ds,Yr=1;Hi.wireframe===!0&&(ps=Xn.getWireframeAttribute(ni),Yr=2),ni.morphAttributes.position===void 0&&ni.morphAttributes.normal===void 0||Wu.update(dn,ni,Hi,Ur),Ka.setup(dn,Hi,Ur,ni,ps);let Hr=J_;ps!==null&&(Ds=Zi.get(ps),Hr=j_,Hr.setIndex(Ds));const zu=ps!==null?ps.count:to.count,No=ni.drawRange.start*Yr,Y_=ni.drawRange.count*Yr,v0=kr!==null?kr.start*Yr:0,Vu=kr!==null?kr.count*Yr:1/0,Qa=Math.max(No,v0),aa=Math.min(zu,No+Y_,v0+Vu)-1,Tl=Math.max(0,aa-Qa+1);if(Tl!==0){if(dn.isMesh)Hi.wireframe===!0?(xn.setLineWidth(Hi.wireframeLinewidth*xi()),Hr.setMode(1)):Hr.setMode(4);else if(dn.isLine){let la=Hi.linewidth;la===void 0&&(la=1),xn.setLineWidth(la*xi()),dn.isLineSegments?Hr.setMode(1):dn.isLineLoop?Hr.setMode(2):Hr.setMode(3)}else dn.isPoints?Hr.setMode(0):dn.isSprite&&Hr.setMode(4);if(dn.isInstancedMesh)Hr.renderInstances(Qa,Tl,dn.count);else if(ni.isInstancedBufferGeometry){const la=Math.min(ni.instanceCount,ni._maxInstanceCount);Hr.renderInstances(Qa,Tl,la)}else Hr.render(Qa,Tl)}},this.compile=function(tt,Ri){B=Fo.get(tt),B.init(),X.push(B),tt.traverseVisible(function(ni){ni.isLight&&ni.layers.test(Ri.layers)&&(B.pushLight(ni),ni.castShadow&&B.pushShadow(ni))}),B.setupLights(ee.physicallyCorrectLights),tt.traverse(function(ni){const Hi=ni.material;if(Hi)if(Array.isArray(Hi))for(let dn=0;dn<Hi.length;dn++)Yh(Hi[dn],tt,ni);else Yh(Hi,tt,ni)}),X.pop(),B=null};let jh=null;function Kd(){Uu.stop()}function Qd(){Uu.start()}const Uu=new xl;function Z1(tt,Ri,ni,Hi){if(tt.visible===!1)return;if(tt.layers.test(Ri.layers)){if(tt.isGroup)ni=tt.renderOrder;else if(tt.isLOD)tt.autoUpdate===!0&&tt.update(Ri);else if(tt.isLight)B.pushLight(tt),tt.castShadow&&B.pushShadow(tt);else if(tt.isSprite){if(!tt.frustumCulled||Zn.intersectsSprite(tt)){Hi&&Ct.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(at);const kr=cr.update(tt),gr=tt.material;gr.visible&&D.push(tt,kr,gr,ni,Ct.z,null)}}else if(tt.isImmediateRenderObject)Hi&&Ct.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(at),D.push(tt,null,tt.material,ni,Ct.z,null);else if((tt.isMesh||tt.isLine||tt.isPoints)&&(tt.isSkinnedMesh&&tt.skeleton.frame!==Ai.render.frame&&(tt.skeleton.update(),tt.skeleton.frame=Ai.render.frame),!tt.frustumCulled||Zn.intersectsObject(tt))){Hi&&Ct.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(at);const kr=cr.update(tt),gr=tt.material;if(Array.isArray(gr)){const Ur=kr.groups;for(let ps=0,to=Ur.length;ps<to;ps++){const Ds=Ur[ps],Yr=gr[Ds.materialIndex];Yr&&Yr.visible&&D.push(tt,kr,Yr,ni,Ct.z,Ds)}}else gr.visible&&D.push(tt,kr,gr,ni,Ct.z,null)}}const dn=tt.children;for(let kr=0,gr=dn.length;kr<gr;kr++)Z1(dn[kr],Ri,ni,Hi)}function e1(tt,Ri,ni,Hi){const dn=tt.opaque,kr=tt.transmissive,gr=tt.transparent;B.setupLightsView(ni),kr.length>0&&function(Ur,ps,to){if(hn===null){const Hr=b===!0&&Pn.isWebGL2===!0;hn=new(Hr?ro:Rs)(1024,1024,{generateMipmaps:!0,type:z0.convert(1016)!==null?1016:1009,minFilter:1008,magFilter:1003,wrapS:1001,wrapT:1001})}const Ds=ee.getRenderTarget();ee.setRenderTarget(hn),ee.clear();const Yr=ee.toneMapping;ee.toneMapping=0,sh(Ur,ps,to),ee.toneMapping=Yr,ti.updateMultisampleRenderTarget(hn),ti.updateRenderTargetMipmap(hn),ee.setRenderTarget(Ds)}(dn,Ri,ni),Hi&&xn.viewport(ct.copy(Hi)),dn.length>0&&sh(dn,Ri,ni),kr.length>0&&sh(kr,Ri,ni),gr.length>0&&sh(gr,Ri,ni)}function sh(tt,Ri,ni){const Hi=Ri.isScene===!0?Ri.overrideMaterial:null;for(let dn=0,kr=tt.length;dn<kr;dn++){const gr=tt[dn],Ur=gr.object,ps=gr.geometry,to=Hi===null?gr.material:Hi,Ds=gr.group;Ur.layers.test(ni.layers)&&oh(Ur,Ri,ni,ps,to,Ds)}}function oh(tt,Ri,ni,Hi,dn,kr){if(tt.onBeforeRender(ee,Ri,ni,Hi,dn,kr),tt.modelViewMatrix.multiplyMatrices(ni.matrixWorldInverse,tt.matrixWorld),tt.normalMatrix.getNormalMatrix(tt.modelViewMatrix),tt.isImmediateRenderObject){const gr=qh(ni,Ri,dn,tt);xn.setMaterial(dn),Ka.reset(),function(Ur,ps){Ur.render(function(to){ee.renderBufferImmediate(to,ps)})}(tt,gr)}else dn.transparent===!0&&dn.side===2?(dn.side=1,dn.needsUpdate=!0,ee.renderBufferDirect(ni,Ri,Hi,dn,tt,kr),dn.side=0,dn.needsUpdate=!0,ee.renderBufferDirect(ni,Ri,Hi,dn,tt,kr),dn.side=2):ee.renderBufferDirect(ni,Ri,Hi,dn,tt,kr);tt.onAfterRender(ee,Ri,ni,Hi,dn,kr)}function Yh(tt,Ri,ni){Ri.isScene!==!0&&(Ri=Bi);const Hi=Ke.get(tt),dn=B.state.lights,kr=B.state.shadowsArray,gr=dn.state.version,Ur=er.getParameters(tt,dn.state,kr,Ri,ni),ps=er.getProgramCacheKey(Ur);let to=Hi.programs;Hi.environment=tt.isMeshStandardMaterial?Ri.environment:null,Hi.fog=Ri.fog,Hi.envMap=(tt.isMeshStandardMaterial?en:$i).get(tt.envMap||Hi.environment),to===void 0&&(tt.addEventListener("dispose",Xd),to=new Map,Hi.programs=to);let Ds=to.get(ps);if(Ds!==void 0){if(Hi.currentProgram===Ds&&Hi.lightsStateVersion===gr)return t1(tt,Ur),Ds}else Ur.uniforms=er.getUniforms(tt),tt.onBuild(Ur,ee),tt.onBeforeCompile(Ur,ee),Ds=er.acquireProgram(Ur,ps),to.set(ps,Ds),Hi.uniforms=Ur.uniforms;const Yr=Hi.uniforms;(tt.isShaderMaterial||tt.isRawShaderMaterial)&&tt.clipping!==!0||(Yr.clippingPlanes=ws.uniform),t1(tt,Ur),Hi.needsLights=function(No){return No.isMeshLambertMaterial||No.isMeshToonMaterial||No.isMeshPhongMaterial||No.isMeshStandardMaterial||No.isShadowMaterial||No.isShaderMaterial&&No.lights===!0}(tt),Hi.lightsStateVersion=gr,Hi.needsLights&&(Yr.ambientLightColor.value=dn.state.ambient,Yr.lightProbe.value=dn.state.probe,Yr.directionalLights.value=dn.state.directional,Yr.directionalLightShadows.value=dn.state.directionalShadow,Yr.spotLights.value=dn.state.spot,Yr.spotLightShadows.value=dn.state.spotShadow,Yr.rectAreaLights.value=dn.state.rectArea,Yr.ltc_1.value=dn.state.rectAreaLTC1,Yr.ltc_2.value=dn.state.rectAreaLTC2,Yr.pointLights.value=dn.state.point,Yr.pointLightShadows.value=dn.state.pointShadow,Yr.hemisphereLights.value=dn.state.hemi,Yr.directionalShadowMap.value=dn.state.directionalShadowMap,Yr.directionalShadowMatrix.value=dn.state.directionalShadowMatrix,Yr.spotShadowMap.value=dn.state.spotShadowMap,Yr.spotShadowMatrix.value=dn.state.spotShadowMatrix,Yr.pointShadowMap.value=dn.state.pointShadowMap,Yr.pointShadowMatrix.value=dn.state.pointShadowMatrix);const Hr=Ds.getUniforms(),zu=Oa.seqWithValue(Hr.seq,Yr);return Hi.currentProgram=Ds,Hi.uniformsList=zu,Ds}function t1(tt,Ri){const ni=Ke.get(tt);ni.outputEncoding=Ri.outputEncoding,ni.instancing=Ri.instancing,ni.skinning=Ri.skinning,ni.morphTargets=Ri.morphTargets,ni.morphNormals=Ri.morphNormals,ni.numClippingPlanes=Ri.numClippingPlanes,ni.numIntersection=Ri.numClipIntersection,ni.vertexAlphas=Ri.vertexAlphas,ni.vertexTangents=Ri.vertexTangents}function qh(tt,Ri,ni,Hi){Ri.isScene!==!0&&(Ri=Bi),ti.resetTextureUnits();const dn=Ri.fog,kr=ni.isMeshStandardMaterial?Ri.environment:null,gr=We===null?ee.outputEncoding:We.texture.encoding,Ur=(ni.isMeshStandardMaterial?en:$i).get(ni.envMap||kr),ps=ni.vertexColors===!0&&!!Hi.geometry&&!!Hi.geometry.attributes.color&&Hi.geometry.attributes.color.itemSize===4,to=!!Hi.geometry&&!!Hi.geometry.attributes.tangent,Ds=!!Hi.geometry&&!!Hi.geometry.morphAttributes.position,Yr=!!Hi.geometry&&!!Hi.geometry.morphAttributes.normal,Hr=Ke.get(ni),zu=B.state.lights;if(ur===!0&&(Sr===!0||tt!==et)){const yl=tt===et&&ni.id===Re;ws.setState(ni,tt,yl)}let No=!1;ni.version===Hr.__version?Hr.needsLights&&Hr.lightsStateVersion!==zu.state.version||Hr.outputEncoding!==gr||Hi.isInstancedMesh&&Hr.instancing===!1?No=!0:Hi.isInstancedMesh||Hr.instancing!==!0?Hi.isSkinnedMesh&&Hr.skinning===!1?No=!0:Hi.isSkinnedMesh||Hr.skinning!==!0?Hr.envMap!==Ur||ni.fog&&Hr.fog!==dn?No=!0:Hr.numClippingPlanes===void 0||Hr.numClippingPlanes===ws.numPlanes&&Hr.numIntersection===ws.numIntersection?(Hr.vertexAlphas!==ps||Hr.vertexTangents!==to||Hr.morphTargets!==Ds||Hr.morphNormals!==Yr)&&(No=!0):No=!0:No=!0:No=!0:(No=!0,Hr.__version=ni.version);let Y_=Hr.currentProgram;No===!0&&(Y_=Yh(ni,Ri,Hi));let v0=!1,Vu=!1,Qa=!1;const aa=Y_.getUniforms(),Tl=Hr.uniforms;if(xn.useProgram(Y_.program)&&(v0=!0,Vu=!0,Qa=!0),ni.id!==Re&&(Re=ni.id,Vu=!0),v0||et!==tt){if(aa.setValue(mn,"projectionMatrix",tt.projectionMatrix),Pn.logarithmicDepthBuffer&&aa.setValue(mn,"logDepthBufFC",2/(Math.log(tt.far+1)/Math.LN2)),et!==tt&&(et=tt,Vu=!0,Qa=!0),ni.isShaderMaterial||ni.isMeshPhongMaterial||ni.isMeshToonMaterial||ni.isMeshStandardMaterial||ni.envMap){const yl=aa.map.cameraPosition;yl!==void 0&&yl.setValue(mn,Ct.setFromMatrixPosition(tt.matrixWorld))}(ni.isMeshPhongMaterial||ni.isMeshToonMaterial||ni.isMeshLambertMaterial||ni.isMeshBasicMaterial||ni.isMeshStandardMaterial||ni.isShaderMaterial)&&aa.setValue(mn,"isOrthographic",tt.isOrthographicCamera===!0),(ni.isMeshPhongMaterial||ni.isMeshToonMaterial||ni.isMeshLambertMaterial||ni.isMeshBasicMaterial||ni.isMeshStandardMaterial||ni.isShaderMaterial||ni.isShadowMaterial||Hi.isSkinnedMesh)&&aa.setValue(mn,"viewMatrix",tt.matrixWorldInverse)}if(Hi.isSkinnedMesh){aa.setOptional(mn,Hi,"bindMatrix"),aa.setOptional(mn,Hi,"bindMatrixInverse");const yl=Hi.skeleton;yl&&(Pn.floatVertexTextures?(yl.boneTexture===null&&yl.computeBoneTexture(),aa.setValue(mn,"boneTexture",yl.boneTexture,ti),aa.setValue(mn,"boneTextureSize",yl.boneTextureSize)):aa.setOptional(mn,yl,"boneMatrices"))}var la,S0;return(Vu||Hr.receiveShadow!==Hi.receiveShadow)&&(Hr.receiveShadow=Hi.receiveShadow,aa.setValue(mn,"receiveShadow",Hi.receiveShadow)),Vu&&(aa.setValue(mn,"toneMappingExposure",ee.toneMappingExposure),Hr.needsLights&&(S0=Qa,(la=Tl).ambientLightColor.needsUpdate=S0,la.lightProbe.needsUpdate=S0,la.directionalLights.needsUpdate=S0,la.directionalLightShadows.needsUpdate=S0,la.pointLights.needsUpdate=S0,la.pointLightShadows.needsUpdate=S0,la.spotLights.needsUpdate=S0,la.spotLightShadows.needsUpdate=S0,la.rectAreaLights.needsUpdate=S0,la.hemisphereLights.needsUpdate=S0),dn&&ni.fog&&Wr.refreshFogUniforms(Tl,dn),Wr.refreshMaterialUniforms(Tl,ni,hi,ai,hn),Oa.upload(mn,Hr.uniformsList,Tl,ti)),ni.isShaderMaterial&&ni.uniformsNeedUpdate===!0&&(Oa.upload(mn,Hr.uniformsList,Tl,ti),ni.uniformsNeedUpdate=!1),ni.isSpriteMaterial&&aa.setValue(mn,"center",Hi.center),aa.setValue(mn,"modelViewMatrix",Hi.modelViewMatrix),aa.setValue(mn,"normalMatrix",Hi.normalMatrix),aa.setValue(mn,"modelMatrix",Hi.matrixWorld),Y_}Uu.setAnimationLoop(function(tt){jh&&jh(tt)}),typeof window<"u"&&Uu.setContext(window),this.setAnimationLoop=function(tt){jh=tt,b0.setAnimationLoop(tt),tt===null?Uu.stop():Uu.start()},b0.addEventListener("sessionstart",Kd),b0.addEventListener("sessionend",Qd),this.render=function(tt,Ri){if(Ri!==void 0&&Ri.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(ue===!0)return;tt.autoUpdate===!0&&tt.updateMatrixWorld(),Ri.parent===null&&Ri.updateMatrixWorld(),b0.enabled===!0&&b0.isPresenting===!0&&(b0.cameraAutoUpdate===!0&&b0.updateCamera(Ri),Ri=b0.getCamera()),tt.isScene===!0&&tt.onBeforeRender(ee,tt,Ri,We),B=Fo.get(tt,X.length),B.init(),X.push(B),at.multiplyMatrices(Ri.projectionMatrix,Ri.matrixWorldInverse),Zn.setFromProjectionMatrix(at),Sr=this.localClippingEnabled,ur=ws.init(this.clippingPlanes,Sr,Ri),D=fr.get(tt,U.length),D.init(),U.push(D),Z1(tt,Ri,0,ee.sortObjects),D.finish(),ee.sortObjects===!0&&D.sort(Cn,sn),ur===!0&&ws.beginShadows();const ni=B.state.shadowsArray;if(ea.render(ni,tt,Ri),ur===!0&&ws.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ua.render(D,tt),B.setupLights(ee.physicallyCorrectLights),Ri.isArrayCamera){const Hi=Ri.cameras;for(let dn=0,kr=Hi.length;dn<kr;dn++){const gr=Hi[dn];e1(D,tt,gr,gr.viewport)}}else e1(D,tt,Ri);We!==null&&(ti.updateMultisampleRenderTarget(We),ti.updateRenderTargetMipmap(We)),tt.isScene===!0&&tt.onAfterRender(ee,tt,Ri),xn.buffers.depth.setTest(!0),xn.buffers.depth.setMask(!0),xn.buffers.color.setMask(!0),xn.setPolygonOffset(!1),Ka.resetDefaultState(),Re=-1,et=null,X.pop(),B=X.length>0?X[X.length-1]:null,U.pop(),D=U.length>0?U[U.length-1]:null},this.getActiveCubeFace=function(){return ie},this.getActiveMipmapLevel=function(){return Ee},this.getRenderTarget=function(){return We},this.setRenderTarget=function(tt,Ri=0,ni=0){We=tt,ie=Ri,Ee=ni,tt&&Ke.get(tt).__webglFramebuffer===void 0&&ti.setupRenderTarget(tt);let Hi=null,dn=!1,kr=!1;if(tt){const gr=tt.texture;(gr.isDataTexture3D||gr.isDataTexture2DArray)&&(kr=!0);const Ur=Ke.get(tt).__webglFramebuffer;tt.isWebGLCubeRenderTarget?(Hi=Ur[Ri],dn=!0):Hi=tt.isWebGLMultisampleRenderTarget?Ke.get(tt).__webglMultisampledFramebuffer:Ur,ct.copy(tt.viewport),Ft.copy(tt.scissor),Ut=tt.scissorTest}else ct.copy(_i).multiplyScalar(hi).floor(),Ft.copy(ln).multiplyScalar(hi).floor(),Ut=Un;if(xn.bindFramebuffer(36160,Hi)&&Pn.drawBuffers){let gr=!1;if(tt)if(tt.isWebGLMultipleRenderTargets){const Ur=tt.texture;if(qn.length!==Ur.length||qn[0]!==36064){for(let ps=0,to=Ur.length;ps<to;ps++)qn[ps]=36064+ps;qn.length=Ur.length,gr=!0}}else qn.length===1&&qn[0]===36064||(qn[0]=36064,qn.length=1,gr=!0);else qn.length===1&&qn[0]===1029||(qn[0]=1029,qn.length=1,gr=!0);gr&&(Pn.isWebGL2?mn.drawBuffers(qn):pi.get("WEBGL_draw_buffers").drawBuffersWEBGL(qn))}if(xn.viewport(ct),xn.scissor(Ft),xn.setScissorTest(Ut),dn){const gr=Ke.get(tt.texture);mn.framebufferTexture2D(36160,36064,34069+Ri,gr.__webglTexture,ni)}else if(kr){const gr=Ke.get(tt.texture),Ur=Ri||0;mn.framebufferTextureLayer(36160,36064,gr.__webglTexture,ni||0,Ur)}Re=-1},this.readRenderTargetPixels=function(tt,Ri,ni,Hi,dn,kr,gr){if(!tt||!tt.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ur=Ke.get(tt).__webglFramebuffer;if(tt.isWebGLCubeRenderTarget&&gr!==void 0&&(Ur=Ur[gr]),Ur){xn.bindFramebuffer(36160,Ur);try{const ps=tt.texture,to=ps.format,Ds=ps.type;if(to!==1023&&z0.convert(to)!==mn.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Yr=Ds===1016&&(pi.has("EXT_color_buffer_half_float")||Pn.isWebGL2&&pi.has("EXT_color_buffer_float"));if(!(Ds===1009||z0.convert(Ds)===mn.getParameter(35738)||Ds===1015&&(Pn.isWebGL2||pi.has("OES_texture_float")||pi.has("WEBGL_color_buffer_float"))||Yr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");mn.checkFramebufferStatus(36160)===36053?Ri>=0&&Ri<=tt.width-Hi&&ni>=0&&ni<=tt.height-dn&&mn.readPixels(Ri,ni,Hi,dn,z0.convert(to),z0.convert(Ds),kr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const ps=We!==null?Ke.get(We).__webglFramebuffer:null;xn.bindFramebuffer(36160,ps)}}},this.copyFramebufferToTexture=function(tt,Ri,ni=0){const Hi=Math.pow(2,-ni),dn=Math.floor(Ri.image.width*Hi),kr=Math.floor(Ri.image.height*Hi);let gr=z0.convert(Ri.format);Pn.isWebGL2&&(gr===6407&&(gr=32849),gr===6408&&(gr=32856)),ti.setTexture2D(Ri,0),mn.copyTexImage2D(3553,ni,gr,tt.x,tt.y,dn,kr,0),xn.unbindTexture()},this.copyTextureToTexture=function(tt,Ri,ni,Hi=0){const dn=Ri.image.width,kr=Ri.image.height,gr=z0.convert(ni.format),Ur=z0.convert(ni.type);ti.setTexture2D(ni,0),mn.pixelStorei(37440,ni.flipY),mn.pixelStorei(37441,ni.premultiplyAlpha),mn.pixelStorei(3317,ni.unpackAlignment),Ri.isDataTexture?mn.texSubImage2D(3553,Hi,tt.x,tt.y,dn,kr,gr,Ur,Ri.image.data):Ri.isCompressedTexture?mn.compressedTexSubImage2D(3553,Hi,tt.x,tt.y,Ri.mipmaps[0].width,Ri.mipmaps[0].height,gr,Ri.mipmaps[0].data):mn.texSubImage2D(3553,Hi,tt.x,tt.y,gr,Ur,Ri.image),Hi===0&&ni.generateMipmaps&&mn.generateMipmap(3553),xn.unbindTexture()},this.copyTextureToTexture3D=function(tt,Ri,ni,Hi,dn=0){if(ee.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const kr=tt.max.x-tt.min.x+1,gr=tt.max.y-tt.min.y+1,Ur=tt.max.z-tt.min.z+1,ps=z0.convert(Hi.format),to=z0.convert(Hi.type);let Ds;if(Hi.isDataTexture3D)ti.setTexture3D(Hi,0),Ds=32879;else{if(!Hi.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ti.setTexture2DArray(Hi,0),Ds=35866}mn.pixelStorei(37440,Hi.flipY),mn.pixelStorei(37441,Hi.premultiplyAlpha),mn.pixelStorei(3317,Hi.unpackAlignment);const Yr=mn.getParameter(3314),Hr=mn.getParameter(32878),zu=mn.getParameter(3316),No=mn.getParameter(3315),Y_=mn.getParameter(32877),v0=ni.isCompressedTexture?ni.mipmaps[0]:ni.image;mn.pixelStorei(3314,v0.width),mn.pixelStorei(32878,v0.height),mn.pixelStorei(3316,tt.min.x),mn.pixelStorei(3315,tt.min.y),mn.pixelStorei(32877,tt.min.z),ni.isDataTexture||ni.isDataTexture3D?mn.texSubImage3D(Ds,dn,Ri.x,Ri.y,Ri.z,kr,gr,Ur,ps,to,v0.data):ni.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),mn.compressedTexSubImage3D(Ds,dn,Ri.x,Ri.y,Ri.z,kr,gr,Ur,ps,v0.data)):mn.texSubImage3D(Ds,dn,Ri.x,Ri.y,Ri.z,kr,gr,Ur,ps,to,v0),mn.pixelStorei(3314,Yr),mn.pixelStorei(32878,Hr),mn.pixelStorei(3316,zu),mn.pixelStorei(3315,No),mn.pixelStorei(32877,Y_),dn===0&&Hi.generateMipmaps&&mn.generateMipmap(Ds),xn.unbindTexture()},this.initTexture=function(tt){ti.setTexture2D(tt,0),xn.unbindTexture()},this.resetState=function(){ie=0,Ee=0,We=null,xn.reset(),Ka.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class bi extends Et{}bi.prototype.isWebGL1Renderer=!0;class qt{constructor(e,s=25e-5){this.name="",this.color=new Ki(e),this.density=s}clone(){return new qt(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}qt.prototype.isFogExp2=!0;class Wi{constructor(e,s=1,_=1e3){this.name="",this.color=new Ki(e),this.near=s,this.far=_}clone(){return new Wi(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Wi.prototype.isFog=!0;class ei extends le{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,s){return super.copy(e,s),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const s=super.toJSON(e);return this.fog!==null&&(s.object.fog=this.fog.toJSON()),s}}ei.prototype.isScene=!0;class Pi{constructor(e,s){this.array=e,this.stride=s,this.count=e!==void 0?e.length/s:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,s,_){e*=this.stride,_*=s.stride;for(let u=0,m=this.stride;u<m;u++)this.array[e+u]=s.array[_+u];return this}set(e,s=0){return this.array.set(e,s),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const s=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),_=new this.constructor(s,this.stride);return _.setUsage(this.usage),_}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Pi.prototype.isInterleavedBuffer=!0;const wi=new Ue;class kt{constructor(e,s,_,u=!1){this.name="",this.data=e,this.itemSize=s,this.offset=_,this.normalized=u===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let s=0,_=this.data.count;s<_;s++)wi.x=this.getX(s),wi.y=this.getY(s),wi.z=this.getZ(s),wi.applyMatrix4(e),this.setXYZ(s,wi.x,wi.y,wi.z);return this}applyNormalMatrix(e){for(let s=0,_=this.count;s<_;s++)wi.x=this.getX(s),wi.y=this.getY(s),wi.z=this.getZ(s),wi.applyNormalMatrix(e),this.setXYZ(s,wi.x,wi.y,wi.z);return this}transformDirection(e){for(let s=0,_=this.count;s<_;s++)wi.x=this.getX(s),wi.y=this.getY(s),wi.z=this.getZ(s),wi.transformDirection(e),this.setXYZ(s,wi.x,wi.y,wi.z);return this}setX(e,s){return this.data.array[e*this.data.stride+this.offset]=s,this}setY(e,s){return this.data.array[e*this.data.stride+this.offset+1]=s,this}setZ(e,s){return this.data.array[e*this.data.stride+this.offset+2]=s,this}setW(e,s){return this.data.array[e*this.data.stride+this.offset+3]=s,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,s,_){return e=e*this.data.stride+this.offset,this.data.array[e+0]=s,this.data.array[e+1]=_,this}setXYZ(e,s,_,u){return e=e*this.data.stride+this.offset,this.data.array[e+0]=s,this.data.array[e+1]=_,this.data.array[e+2]=u,this}setXYZW(e,s,_,u,m){return e=e*this.data.stride+this.offset,this.data.array[e+0]=s,this.data.array[e+1]=_,this.data.array[e+2]=u,this.data.array[e+3]=m,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const s=[];for(let _=0;_<this.count;_++){const u=_*this.data.stride+this.offset;for(let m=0;m<this.itemSize;m++)s.push(this.data.array[u+m])}return new or(new this.array.constructor(s),this.itemSize,this.normalized)}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kt(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const s=[];for(let _=0;_<this.count;_++){const u=_*this.data.stride+this.offset;for(let m=0;m<this.itemSize;m++)s.push(this.data.array[u+m])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:s,normalized:this.normalized}}return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}kt.prototype.isInterleavedBufferAttribute=!0;class Yt extends Ci{constructor(e){super(),this.type="SpriteMaterial",this.color=new Ki(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let yn;Yt.prototype.isSpriteMaterial=!0;const An=new Ue,kn=new Ue,Qn=new Ue,vr=new Vi,Yn=new Vi,bn=new Tn,as=new Ue,Jr=new Ue,hs=new Ue,fs=new Vi,Wo=new Vi,ha=new Vi;class ko extends le{constructor(e){if(super(),this.type="Sprite",yn===void 0){yn=new mr;const s=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),_=new Pi(s,5);yn.setIndex([0,1,2,0,2,3]),yn.setAttribute("position",new kt(_,3,0,!1)),yn.setAttribute("uv",new kt(_,2,3,!1))}this.geometry=yn,this.material=e!==void 0?e:new Yt,this.center=new Vi(.5,.5)}raycast(e,s){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),kn.setFromMatrixScale(this.matrixWorld),bn.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qn.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&kn.multiplyScalar(-Qn.z);const _=this.material.rotation;let u,m;_!==0&&(m=Math.cos(_),u=Math.sin(_));const b=this.center;xa(as.set(-.5,-.5,0),Qn,b,kn,u,m),xa(Jr.set(.5,-.5,0),Qn,b,kn,u,m),xa(hs.set(.5,.5,0),Qn,b,kn,u,m),fs.set(0,0),Wo.set(1,0),ha.set(1,1);let x=e.ray.intersectTriangle(as,Jr,hs,!1,An);if(x===null&&(xa(Jr.set(-.5,.5,0),Qn,b,kn,u,m),Wo.set(0,1),x=e.ray.intersectTriangle(as,hs,Jr,!1,An),x===null))return;const P=e.ray.origin.distanceTo(An);P<e.near||P>e.far||s.push({distance:P,point:An.clone(),uv:Ii.getUV(An,as,Jr,hs,fs,Wo,ha,new Vi),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xa(T,e,s,_,u,m){vr.subVectors(T,s).addScalar(.5).multiply(_),u!==void 0?(Yn.x=m*vr.x-u*vr.y,Yn.y=u*vr.x+m*vr.y):Yn.copy(vr),T.copy(e),T.x+=Yn.x,T.y+=Yn.y,T.applyMatrix4(bn)}ko.prototype.isSprite=!0;const gs=new Ue,Ts=new Ue;class is extends le{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const s=e.levels;for(let _=0,u=s.length;_<u;_++){const m=s[_];this.addLevel(m.object.clone(),m.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,s=0){s=Math.abs(s);const _=this.levels;let u;for(u=0;u<_.length&&!(s<_[u].distance);u++);return _.splice(u,0,{distance:s,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const s=this.levels;if(s.length>0){let _,u;for(_=1,u=s.length;_<u&&!(e<s[_].distance);_++);return s[_-1].object}return null}raycast(e,s){if(this.levels.length>0){gs.setFromMatrixPosition(this.matrixWorld);const _=e.ray.origin.distanceTo(gs);this.getObjectForDistance(_).raycast(e,s)}}update(e){const s=this.levels;if(s.length>1){gs.setFromMatrixPosition(e.matrixWorld),Ts.setFromMatrixPosition(this.matrixWorld);const _=gs.distanceTo(Ts)/e.zoom;let u,m;for(s[0].object.visible=!0,u=1,m=s.length;u<m&&_>=s[u].distance;u++)s[u-1].object.visible=!1,s[u].object.visible=!0;for(this._currentLevel=u-1;u<m;u++)s[u].object.visible=!1}}toJSON(e){const s=super.toJSON(e);this.autoUpdate===!1&&(s.object.autoUpdate=!1),s.object.levels=[];const _=this.levels;for(let u=0,m=_.length;u<m;u++){const b=_[u];s.object.levels.push({object:b.object.uuid,distance:b.distance})}return s}}const js=new Ue,Co=new dr,Cs=new dr,Xo=new Ue,Gl=new Tn;class ks extends co{constructor(e,s){super(e,s),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Tn,this.bindMatrixInverse=new Tn}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,s){this.skeleton=e,s===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),s=this.matrixWorld),this.bindMatrix.copy(s),this.bindMatrixInverse.copy(s).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dr,s=this.geometry.attributes.skinWeight;for(let _=0,u=s.count;_<u;_++){e.x=s.getX(_),e.y=s.getY(_),e.z=s.getZ(_),e.w=s.getW(_);const m=1/e.manhattanLength();m!==1/0?e.multiplyScalar(m):e.set(1,0,0,0),s.setXYZW(_,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,s){const _=this.skeleton,u=this.geometry;Co.fromBufferAttribute(u.attributes.skinIndex,e),Cs.fromBufferAttribute(u.attributes.skinWeight,e),js.fromBufferAttribute(u.attributes.position,e).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let m=0;m<4;m++){const b=Cs.getComponent(m);if(b!==0){const x=Co.getComponent(m);Gl.multiplyMatrices(_.bones[x].matrixWorld,_.boneInverses[x]),s.addScaledVector(Xo.copy(js).applyMatrix4(Gl),b)}}return s.applyMatrix4(this.bindMatrixInverse)}}ks.prototype.isSkinnedMesh=!0;class Po extends le{constructor(){super(),this.type="Bone"}}Po.prototype.isBone=!0;class z extends es{constructor(e=null,s=1,_=1,u,m,b,x,P,N=1003,I=1003,D,B){super(null,b,x,P,N,I,u,m,D,B),this.image={data:e,width:s,height:_},this.magFilter=N,this.minFilter=I,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}z.prototype.isDataTexture=!0;const ne=new Tn,fe=new Tn;class qe{constructor(e=[],s=[]){this.uuid=zn(),this.bones=e.slice(0),this.boneInverses=s,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,s=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),s.length===0)this.calculateInverses();else if(e.length!==s.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let _=0,u=this.bones.length;_<u;_++)this.boneInverses.push(new Tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,s=this.bones.length;e<s;e++){const _=new Tn;this.bones[e]&&_.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(_)}}pose(){for(let e=0,s=this.bones.length;e<s;e++){const _=this.bones[e];_&&_.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,s=this.bones.length;e<s;e++){const _=this.bones[e];_&&(_.parent&&_.parent.isBone?(_.matrix.copy(_.parent.matrixWorld).invert(),_.matrix.multiply(_.matrixWorld)):_.matrix.copy(_.matrixWorld),_.matrix.decompose(_.position,_.quaternion,_.scale))}}update(){const e=this.bones,s=this.boneInverses,_=this.boneMatrices,u=this.boneTexture;for(let m=0,b=e.length;m<b;m++){const x=e[m]?e[m].matrixWorld:fe;ne.multiplyMatrices(x,s[m]),ne.toArray(_,16*m)}u!==null&&(u.needsUpdate=!0)}clone(){return new qe(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Or(e),e=Math.max(e,4);const s=new Float32Array(e*e*4);s.set(this.boneMatrices);const _=new z(s,e,e,1023,1015);return this.boneMatrices=s,this.boneTexture=_,this.boneTextureSize=e,this}getBoneByName(e){for(let s=0,_=this.bones.length;s<_;s++){const u=this.bones[s];if(u.name===e)return u}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,s){this.uuid=e.uuid;for(let _=0,u=e.bones.length;_<u;_++){const m=e.bones[_];let b=s[m];b===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",m),b=new Po),this.bones.push(b),this.boneInverses.push(new Tn().fromArray(e.boneInverses[_]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const s=this.bones,_=this.boneInverses;for(let u=0,m=s.length;u<m;u++){const b=s[u];e.bones.push(b.uuid);const x=_[u];e.boneInverses.push(x.toArray())}return e}}class St extends or{constructor(e,s,_,u=1){typeof _=="number"&&(u=_,_=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,s,_),this.meshPerAttribute=u}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}St.prototype.isInstancedBufferAttribute=!0;const Mt=new Tn,At=new Tn,Jt=[],Zt=new co;class Oi extends co{constructor(e,s,_){super(e,s),this.instanceMatrix=new St(new Float32Array(16*_),16),this.instanceColor=null,this.count=_,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,s){s.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,s){s.fromArray(this.instanceMatrix.array,16*e)}raycast(e,s){const _=this.matrixWorld,u=this.count;if(Zt.geometry=this.geometry,Zt.material=this.material,Zt.material!==void 0)for(let m=0;m<u;m++){this.getMatrixAt(m,Mt),At.multiplyMatrices(_,Mt),Zt.matrixWorld=At,Zt.raycast(e,Jt);for(let b=0,x=Jt.length;b<x;b++){const P=Jt[b];P.instanceId=m,P.object=this,s.push(P)}Jt.length=0}}setColorAt(e,s){this.instanceColor===null&&(this.instanceColor=new St(new Float32Array(3*this.instanceMatrix.count),3)),s.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,s){s.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Oi.prototype.isInstancedMesh=!0;class Ji extends Ci{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Ki(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Ji.prototype.isLineBasicMaterial=!0;const Gn=new Ue,un=new Ue,Kn=new Tn,$n=new ia,Fr=new Gr;class Lr extends le{constructor(e=new mr,s=new Ji){super(),this.type="Line",this.geometry=e,this.material=s,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const s=e.attributes.position,_=[0];for(let u=1,m=s.count;u<m;u++)Gn.fromBufferAttribute(s,u-1),un.fromBufferAttribute(s,u),_[u]=_[u-1],_[u]+=Gn.distanceTo(un);e.setAttribute("lineDistance",new Fn(_,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,s){const _=this.geometry,u=this.matrixWorld,m=e.params.Line.threshold,b=_.drawRange;if(_.boundingSphere===null&&_.computeBoundingSphere(),Fr.copy(_.boundingSphere),Fr.applyMatrix4(u),Fr.radius+=m,e.ray.intersectsSphere(Fr)===!1)return;Kn.copy(u).invert(),$n.copy(e.ray).applyMatrix4(Kn);const x=m/((this.scale.x+this.scale.y+this.scale.z)/3),P=x*x,N=new Ue,I=new Ue,D=new Ue,B=new Ue,U=this.isLineSegments?2:1;if(_.isBufferGeometry){const X=_.index,ee=_.attributes.position;if(X!==null)for(let ue=Math.max(0,b.start),ie=Math.min(X.count,b.start+b.count)-1;ue<ie;ue+=U){const Ee=X.getX(ue),We=X.getX(ue+1);if(N.fromBufferAttribute(ee,Ee),I.fromBufferAttribute(ee,We),$n.distanceSqToSegment(N,I,B,D)>P)continue;B.applyMatrix4(this.matrixWorld);const Re=e.ray.origin.distanceTo(B);Re<e.near||Re>e.far||s.push({distance:Re,point:D.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}else for(let ue=Math.max(0,b.start),ie=Math.min(ee.count,b.start+b.count)-1;ue<ie;ue+=U){if(N.fromBufferAttribute(ee,ue),I.fromBufferAttribute(ee,ue+1),$n.distanceSqToSegment(N,I,B,D)>P)continue;B.applyMatrix4(this.matrixWorld);const Ee=e.ray.origin.distanceTo(B);Ee<e.near||Ee>e.far||s.push({distance:Ee,point:D.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}else _.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const s=e.morphAttributes,_=Object.keys(s);if(_.length>0){const u=s[_[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,b=u.length;m<b;m++){const x=u[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=m}}}}else{const s=e.morphTargets;s!==void 0&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Lr.prototype.isLine=!0;const ds=new Ue,Ps=new Ue;class Bs extends Lr{constructor(e,s){super(e,s),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const s=e.attributes.position,_=[];for(let u=0,m=s.count;u<m;u+=2)ds.fromBufferAttribute(s,u),Ps.fromBufferAttribute(s,u+1),_[u]=u===0?0:_[u-1],_[u+1]=_[u]+ds.distanceTo(Ps);e.setAttribute("lineDistance",new Fn(_,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Bs.prototype.isLineSegments=!0;class Lo extends Lr{constructor(e,s){super(e,s),this.type="LineLoop"}}Lo.prototype.isLineLoop=!0;class so extends Ci{constructor(e){super(),this.type="PointsMaterial",this.color=new Ki(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}so.prototype.isPointsMaterial=!0;const _s=new Tn,cn=new ia,yr=new Gr,jr=new Ue;class Dr extends le{constructor(e=new mr,s=new so){super(),this.type="Points",this.geometry=e,this.material=s,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,s){const _=this.geometry,u=this.matrixWorld,m=e.params.Points.threshold,b=_.drawRange;if(_.boundingSphere===null&&_.computeBoundingSphere(),yr.copy(_.boundingSphere),yr.applyMatrix4(u),yr.radius+=m,e.ray.intersectsSphere(yr)===!1)return;_s.copy(u).invert(),cn.copy(e.ray).applyMatrix4(_s);const x=m/((this.scale.x+this.scale.y+this.scale.z)/3),P=x*x;if(_.isBufferGeometry){const N=_.index,I=_.attributes.position;if(N!==null)for(let D=Math.max(0,b.start),B=Math.min(N.count,b.start+b.count);D<B;D++){const U=N.getX(D);jr.fromBufferAttribute(I,U),Uo(jr,U,P,u,e,s,this)}else for(let D=Math.max(0,b.start),B=Math.min(I.count,b.start+b.count);D<B;D++)jr.fromBufferAttribute(I,D),Uo(jr,D,P,u,e,s,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const s=e.morphAttributes,_=Object.keys(s);if(_.length>0){const u=s[_[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let m=0,b=u.length;m<b;m++){const x=u[m].name||String(m);this.morphTargetInfluences.push(0),this.morphTargetDictionary[x]=m}}}}else{const s=e.morphTargets;s!==void 0&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function Uo(T,e,s,_,u,m,b){const x=cn.distanceSqToPoint(T);if(x<s){const P=new Ue;cn.closestPointToPoint(T,P),P.applyMatrix4(_);const N=u.ray.origin.distanceTo(P);if(N<u.near||N>u.far)return;m.push({distance:N,distanceToRay:Math.sqrt(x),point:P,index:e,face:null,object:b})}}Dr.prototype.isPoints=!0;class Us extends es{constructor(e,s,_,u,m,b,x,P,N){super(e,s,_,u,m,b,x,P,N),this.format=x!==void 0?x:1022,this.minFilter=b!==void 0?b:1006,this.magFilter=m!==void 0?m:1006,this.generateMipmaps=!1;const I=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function D(){I.needsUpdate=!0,e.requestVideoFrameCallback(D)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Us.prototype.isVideoTexture=!0;class ns extends es{constructor(e,s,_,u,m,b,x,P,N,I,D,B){super(null,b,x,P,N,I,u,m,D,B),this.image={width:s,height:_},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}ns.prototype.isCompressedTexture=!0;class rs extends es{constructor(e,s,_,u,m,b,x,P,N){super(e,s,_,u,m,b,x,P,N),this.needsUpdate=!0}}rs.prototype.isCanvasTexture=!0;class ys extends es{constructor(e,s,_,u,m,b,x,P,N,I){if((I=I!==void 0?I:1026)!==1026&&I!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");_===void 0&&I===1026&&(_=1012),_===void 0&&I===1027&&(_=1020),super(null,u,m,b,x,P,I,_,N),this.image={width:e,height:s},this.magFilter=x!==void 0?x:1003,this.minFilter=P!==void 0?P:1003,this.flipY=!1,this.generateMipmaps=!1}}ys.prototype.isDepthTexture=!0;class ms extends mr{constructor(e=1,s=8,_=0,u=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:s,thetaStart:_,thetaLength:u},s=Math.max(3,s);const m=[],b=[],x=[],P=[],N=new Ue,I=new Vi;b.push(0,0,0),x.push(0,0,1),P.push(.5,.5);for(let D=0,B=3;D<=s;D++,B+=3){const U=_+D/s*u;N.x=e*Math.cos(U),N.y=e*Math.sin(U),b.push(N.x,N.y,N.z),x.push(0,0,1),I.x=(b[B]/e+1)/2,I.y=(b[B+1]/e+1)/2,P.push(I.x,I.y)}for(let D=1;D<=s;D++)m.push(D,D+1,0);this.setIndex(m),this.setAttribute("position",new Fn(b,3)),this.setAttribute("normal",new Fn(x,3)),this.setAttribute("uv",new Fn(P,2))}static fromJSON(e){return new ms(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class zo extends mr{constructor(e=1,s=1,_=1,u=8,m=1,b=!1,x=0,P=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:s,height:_,radialSegments:u,heightSegments:m,openEnded:b,thetaStart:x,thetaLength:P};const N=this;u=Math.floor(u),m=Math.floor(m);const I=[],D=[],B=[],U=[];let X=0;const ee=[],ue=_/2;let ie=0;function Ee(We){const Re=X,et=new Vi,ct=new Ue;let Ft=0;const Ut=We===!0?e:s,yi=We===!0?1:-1;for(let hi=1;hi<=u;hi++)D.push(0,ue*yi,0),B.push(0,yi,0),U.push(.5,.5),X++;const ai=X;for(let hi=0;hi<=u;hi++){const Cn=hi/u*P+x,sn=Math.cos(Cn),_i=Math.sin(Cn);ct.x=Ut*_i,ct.y=ue*yi,ct.z=Ut*sn,D.push(ct.x,ct.y,ct.z),B.push(0,yi,0),et.x=.5*sn+.5,et.y=.5*_i*yi+.5,U.push(et.x,et.y),X++}for(let hi=0;hi<u;hi++){const Cn=Re+hi,sn=ai+hi;We===!0?I.push(sn,sn+1,Cn):I.push(sn+1,sn,Cn),Ft+=3}N.addGroup(ie,Ft,We===!0?1:2),ie+=Ft}(function(){const We=new Ue,Re=new Ue;let et=0;const ct=(s-e)/_;for(let Ft=0;Ft<=m;Ft++){const Ut=[],yi=Ft/m,ai=yi*(s-e)+e;for(let hi=0;hi<=u;hi++){const Cn=hi/u,sn=Cn*P+x,_i=Math.sin(sn),ln=Math.cos(sn);Re.x=ai*_i,Re.y=-yi*_+ue,Re.z=ai*ln,D.push(Re.x,Re.y,Re.z),We.set(_i,ct,ln).normalize(),B.push(We.x,We.y,We.z),U.push(Cn,1-yi),Ut.push(X++)}ee.push(Ut)}for(let Ft=0;Ft<u;Ft++)for(let Ut=0;Ut<m;Ut++){const yi=ee[Ut][Ft],ai=ee[Ut+1][Ft],hi=ee[Ut+1][Ft+1],Cn=ee[Ut][Ft+1];I.push(yi,ai,Cn),I.push(ai,hi,Cn),et+=6}N.addGroup(ie,et,0),ie+=et})(),b===!1&&(e>0&&Ee(!0),s>0&&Ee(!1)),this.setIndex(I),this.setAttribute("position",new Fn(D,3)),this.setAttribute("normal",new Fn(B,3)),this.setAttribute("uv",new Fn(U,2))}static fromJSON(e){return new zo(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $a extends zo{constructor(e=1,s=1,_=8,u=1,m=!1,b=0,x=2*Math.PI){super(0,e,s,_,u,m,b,x),this.type="ConeGeometry",this.parameters={radius:e,height:s,radialSegments:_,heightSegments:u,openEnded:m,thetaStart:b,thetaLength:x}}static fromJSON(e){return new $a(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ra extends mr{constructor(e,s,_=1,u=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:s,radius:_,detail:u};const m=[],b=[];function x(B,U,X,ee){const ue=ee+1,ie=[];for(let Ee=0;Ee<=ue;Ee++){ie[Ee]=[];const We=B.clone().lerp(X,Ee/ue),Re=U.clone().lerp(X,Ee/ue),et=ue-Ee;for(let ct=0;ct<=et;ct++)ie[Ee][ct]=ct===0&&Ee===ue?We:We.clone().lerp(Re,ct/et)}for(let Ee=0;Ee<ue;Ee++)for(let We=0;We<2*(ue-Ee)-1;We++){const Re=Math.floor(We/2);We%2==0?(P(ie[Ee][Re+1]),P(ie[Ee+1][Re]),P(ie[Ee][Re])):(P(ie[Ee][Re+1]),P(ie[Ee+1][Re+1]),P(ie[Ee+1][Re]))}}function P(B){m.push(B.x,B.y,B.z)}function N(B,U){const X=3*B;U.x=e[X+0],U.y=e[X+1],U.z=e[X+2]}function I(B,U,X,ee){ee<0&&B.x===1&&(b[U]=B.x-1),X.x===0&&X.z===0&&(b[U]=ee/2/Math.PI+.5)}function D(B){return Math.atan2(B.z,-B.x)}(function(B){const U=new Ue,X=new Ue,ee=new Ue;for(let ue=0;ue<s.length;ue+=3)N(s[ue+0],U),N(s[ue+1],X),N(s[ue+2],ee),x(U,X,ee,B)})(u),function(B){const U=new Ue;for(let X=0;X<m.length;X+=3)U.x=m[X+0],U.y=m[X+1],U.z=m[X+2],U.normalize().multiplyScalar(B),m[X+0]=U.x,m[X+1]=U.y,m[X+2]=U.z}(_),function(){const B=new Ue;for(let X=0;X<m.length;X+=3){B.x=m[X+0],B.y=m[X+1],B.z=m[X+2];const ee=D(B)/2/Math.PI+.5,ue=(U=B,Math.atan2(-U.y,Math.sqrt(U.x*U.x+U.z*U.z))/Math.PI+.5);b.push(ee,1-ue)}var U;(function(){const X=new Ue,ee=new Ue,ue=new Ue,ie=new Ue,Ee=new Vi,We=new Vi,Re=new Vi;for(let et=0,ct=0;et<m.length;et+=9,ct+=6){X.set(m[et+0],m[et+1],m[et+2]),ee.set(m[et+3],m[et+4],m[et+5]),ue.set(m[et+6],m[et+7],m[et+8]),Ee.set(b[ct+0],b[ct+1]),We.set(b[ct+2],b[ct+3]),Re.set(b[ct+4],b[ct+5]),ie.copy(X).add(ee).add(ue).divideScalar(3);const Ft=D(ie);I(Ee,ct+0,X,Ft),I(We,ct+2,ee,Ft),I(Re,ct+4,ue,Ft)}})(),function(){for(let X=0;X<b.length;X+=6){const ee=b[X+0],ue=b[X+2],ie=b[X+4],Ee=Math.max(ee,ue,ie),We=Math.min(ee,ue,ie);Ee>.9&&We<.1&&(ee<.2&&(b[X+0]+=1),ue<.2&&(b[X+2]+=1),ie<.2&&(b[X+4]+=1))}}()}(),this.setAttribute("position",new Fn(m,3)),this.setAttribute("normal",new Fn(m.slice(),3)),this.setAttribute("uv",new Fn(b,2)),u===0?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new ra(e.vertices,e.indices,e.radius,e.details)}}class f0 extends ra{constructor(e=1,s=0){const _=(1+Math.sqrt(5))/2,u=1/_;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-u,-_,0,-u,_,0,u,-_,0,u,_,-u,-_,0,-u,_,0,u,-_,0,u,_,0,-_,0,-u,_,0,-u,-_,0,u,_,0,u],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,s),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new f0(e.radius,e.detail)}}const g0=new Ue,da=new Ue,Ga=new Ue,pa=new Ii;class Vo extends mr{constructor(e,s){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:s},s=s!==void 0?s:1,e.isGeometry===!0)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const _=Math.pow(10,4),u=Math.cos(Mn*s),m=e.getIndex(),b=e.getAttribute("position"),x=m?m.count:b.count,P=[0,0,0],N=["a","b","c"],I=new Array(3),D={},B=[];for(let U=0;U<x;U+=3){m?(P[0]=m.getX(U),P[1]=m.getX(U+1),P[2]=m.getX(U+2)):(P[0]=U,P[1]=U+1,P[2]=U+2);const{a:X,b:ee,c:ue}=pa;if(X.fromBufferAttribute(b,P[0]),ee.fromBufferAttribute(b,P[1]),ue.fromBufferAttribute(b,P[2]),pa.getNormal(Ga),I[0]=`${Math.round(X.x*_)},${Math.round(X.y*_)},${Math.round(X.z*_)}`,I[1]=`${Math.round(ee.x*_)},${Math.round(ee.y*_)},${Math.round(ee.z*_)}`,I[2]=`${Math.round(ue.x*_)},${Math.round(ue.y*_)},${Math.round(ue.z*_)}`,I[0]!==I[1]&&I[1]!==I[2]&&I[2]!==I[0])for(let ie=0;ie<3;ie++){const Ee=(ie+1)%3,We=I[ie],Re=I[Ee],et=pa[N[ie]],ct=pa[N[Ee]],Ft=`${We}_${Re}`,Ut=`${Re}_${We}`;Ut in D&&D[Ut]?(Ga.dot(D[Ut].normal)<=u&&(B.push(et.x,et.y,et.z),B.push(ct.x,ct.y,ct.z)),D[Ut]=null):Ft in D||(D[Ft]={index0:P[ie],index1:P[Ee],normal:Ga.clone()})}}for(const U in D)if(D[U]){const{index0:X,index1:ee}=D[U];g0.fromBufferAttribute(b,X),da.fromBufferAttribute(b,ee),B.push(g0.x,g0.y,g0.z),B.push(da.x,da.y,da.z)}this.setAttribute("position",new Fn(B,3))}}class go{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,s){const _=this.getUtoTmapping(e);return this.getPoint(_,s)}getPoints(e=5){const s=[];for(let _=0;_<=e;_++)s.push(this.getPoint(_/e));return s}getSpacedPoints(e=5){const s=[];for(let _=0;_<=e;_++)s.push(this.getPointAt(_/e));return s}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const s=[];let _,u=this.getPoint(0),m=0;s.push(0);for(let b=1;b<=e;b++)_=this.getPoint(b/e),m+=_.distanceTo(u),s.push(m),u=_;return this.cacheArcLengths=s,s}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,s){const _=this.getLengths();let u=0;const m=_.length;let b;b=s||e*_[m-1];let x,P=0,N=m-1;for(;P<=N;)if(u=Math.floor(P+(N-P)/2),x=_[u]-b,x<0)P=u+1;else{if(!(x>0)){N=u;break}N=u-1}if(u=N,_[u]===b)return u/(m-1);const I=_[u];return(u+(b-I)/(_[u+1]-I))/(m-1)}getTangent(e,s){let u=e-1e-4,m=e+1e-4;u<0&&(u=0),m>1&&(m=1);const b=this.getPoint(u),x=this.getPoint(m),P=s||(b.isVector2?new Vi:new Ue);return P.copy(x).sub(b).normalize(),P}getTangentAt(e,s){const _=this.getUtoTmapping(e);return this.getTangent(_,s)}computeFrenetFrames(e,s){const _=new Ue,u=[],m=[],b=[],x=new Ue,P=new Tn;for(let U=0;U<=e;U++){const X=U/e;u[U]=this.getTangentAt(X,new Ue),u[U].normalize()}m[0]=new Ue,b[0]=new Ue;let N=Number.MAX_VALUE;const I=Math.abs(u[0].x),D=Math.abs(u[0].y),B=Math.abs(u[0].z);I<=N&&(N=I,_.set(1,0,0)),D<=N&&(N=D,_.set(0,1,0)),B<=N&&_.set(0,0,1),x.crossVectors(u[0],_).normalize(),m[0].crossVectors(u[0],x),b[0].crossVectors(u[0],m[0]);for(let U=1;U<=e;U++){if(m[U]=m[U-1].clone(),b[U]=b[U-1].clone(),x.crossVectors(u[U-1],u[U]),x.length()>Number.EPSILON){x.normalize();const X=Math.acos(Ln(u[U-1].dot(u[U]),-1,1));m[U].applyMatrix4(P.makeRotationAxis(x,X))}b[U].crossVectors(u[U],m[U])}if(s===!0){let U=Math.acos(Ln(m[0].dot(m[e]),-1,1));U/=e,u[0].dot(x.crossVectors(m[0],m[e]))>0&&(U=-U);for(let X=1;X<=e;X++)m[X].applyMatrix4(P.makeRotationAxis(u[X],U*X)),b[X].crossVectors(u[X],m[X])}return{tangents:u,normals:m,binormals:b}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Wa extends go{constructor(e=0,s=0,_=1,u=1,m=0,b=2*Math.PI,x=!1,P=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=s,this.xRadius=_,this.yRadius=u,this.aStartAngle=m,this.aEndAngle=b,this.aClockwise=x,this.aRotation=P}getPoint(e,s){const _=s||new Vi,u=2*Math.PI;let m=this.aEndAngle-this.aStartAngle;const b=Math.abs(m)<Number.EPSILON;for(;m<0;)m+=u;for(;m>u;)m-=u;m<Number.EPSILON&&(m=b?0:u),this.aClockwise!==!0||b||(m===u?m=-u:m-=u);const x=this.aStartAngle+e*m;let P=this.aX+this.xRadius*Math.cos(x),N=this.aY+this.yRadius*Math.sin(x);if(this.aRotation!==0){const I=Math.cos(this.aRotation),D=Math.sin(this.aRotation),B=P-this.aX,U=N-this.aY;P=B*I-U*D+this.aX,N=B*D+U*I+this.aY}return _.set(P,N)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Wa.prototype.isEllipseCurve=!0;class f_ extends Wa{constructor(e,s,_,u,m,b){super(e,s,_,_,u,m,b),this.type="ArcCurve"}}function ad(){let T=0,e=0,s=0,_=0;function u(m,b,x,P){T=m,e=x,s=-3*m+3*b-2*x-P,_=2*m-2*b+x+P}return{initCatmullRom:function(m,b,x,P,N){u(b,x,N*(x-m),N*(P-b))},initNonuniformCatmullRom:function(m,b,x,P,N,I,D){let B=(b-m)/N-(x-m)/(N+I)+(x-b)/I,U=(x-b)/I-(P-b)/(I+D)+(P-x)/D;B*=I,U*=I,u(b,x,B,U)},calc:function(m){const b=m*m;return T+e*m+s*b+_*(b*m)}}}f_.prototype.isArcCurve=!0;const xh=new Ue,ld=new ad,_d=new ad,Ch=new ad;class dc extends go{constructor(e=[],s=!1,_="centripetal",u=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=s,this.curveType=_,this.tension=u}getPoint(e,s=new Ue){const _=s,u=this.points,m=u.length,b=(m-(this.closed?0:1))*e;let x,P,N=Math.floor(b),I=b-N;this.closed?N+=N>0?0:(Math.floor(Math.abs(N)/m)+1)*m:I===0&&N===m-1&&(N=m-2,I=1),this.closed||N>0?x=u[(N-1)%m]:(xh.subVectors(u[0],u[1]).add(u[0]),x=xh);const D=u[N%m],B=u[(N+1)%m];if(this.closed||N+2<m?P=u[(N+2)%m]:(xh.subVectors(u[m-1],u[m-2]).add(u[m-1]),P=xh),this.curveType==="centripetal"||this.curveType==="chordal"){const U=this.curveType==="chordal"?.5:.25;let X=Math.pow(x.distanceToSquared(D),U),ee=Math.pow(D.distanceToSquared(B),U),ue=Math.pow(B.distanceToSquared(P),U);ee<1e-4&&(ee=1),X<1e-4&&(X=ee),ue<1e-4&&(ue=ee),ld.initNonuniformCatmullRom(x.x,D.x,B.x,P.x,X,ee,ue),_d.initNonuniformCatmullRom(x.y,D.y,B.y,P.y,X,ee,ue),Ch.initNonuniformCatmullRom(x.z,D.z,B.z,P.z,X,ee,ue)}else this.curveType==="catmullrom"&&(ld.initCatmullRom(x.x,D.x,B.x,P.x,this.tension),_d.initCatmullRom(x.y,D.y,B.y,P.y,this.tension),Ch.initCatmullRom(x.z,D.z,B.z,P.z,this.tension));return _.set(ld.calc(I),_d.calc(I),Ch.calc(I)),_}copy(e){super.copy(e),this.points=[];for(let s=0,_=e.points.length;s<_;s++){const u=e.points[s];this.points.push(u.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,_=this.points.length;s<_;s++){const u=this.points[s];e.points.push(u.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,_=e.points.length;s<_;s++){const u=e.points[s];this.points.push(new Ue().fromArray(u))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function H0(T,e,s,_,u){const m=.5*(_-e),b=.5*(u-s),x=T*T;return(2*s-2*_+m+b)*(T*x)+(-3*s+3*_-2*m-b)*x+m*T+s}function Uc(T,e,s,_){return function(u,m){const b=1-u;return b*b*m}(T,e)+function(u,m){return 2*(1-u)*u*m}(T,s)+function(u,m){return u*u*m}(T,_)}function zc(T,e,s,_,u){return function(m,b){const x=1-m;return x*x*x*b}(T,e)+function(m,b){const x=1-m;return 3*x*x*m*b}(T,s)+function(m,b){return 3*(1-m)*m*m*b}(T,_)+function(m,b){return m*m*m*b}(T,u)}dc.prototype.isCatmullRomCurve3=!0;class po extends go{constructor(e=new Vi,s=new Vi,_=new Vi,u=new Vi){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=s,this.v2=_,this.v3=u}getPoint(e,s=new Vi){const _=s,u=this.v0,m=this.v1,b=this.v2,x=this.v3;return _.set(zc(e,u.x,m.x,b.x,x.x),zc(e,u.y,m.y,b.y,x.y)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}po.prototype.isCubicBezierCurve=!0;class ar extends go{constructor(e=new Ue,s=new Ue,_=new Ue,u=new Ue){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=s,this.v2=_,this.v3=u}getPoint(e,s=new Ue){const _=s,u=this.v0,m=this.v1,b=this.v2,x=this.v3;return _.set(zc(e,u.x,m.x,b.x,x.x),zc(e,u.y,m.y,b.y,x.y),zc(e,u.z,m.z,b.z,x.z)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}ar.prototype.isCubicBezierCurve3=!0;class F0 extends go{constructor(e=new Vi,s=new Vi){super(),this.type="LineCurve",this.v1=e,this.v2=s}getPoint(e,s=new Vi){const _=s;return e===1?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(e).add(this.v1)),_}getPointAt(e,s){return this.getPoint(e,s)}getTangent(e,s){const _=s||new Vi;return _.copy(this.v2).sub(this.v1).normalize(),_}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}F0.prototype.isLineCurve=!0;class Vc extends go{constructor(e=new Ue,s=new Ue){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=s}getPoint(e,s=new Ue){const _=s;return e===1?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(e).add(this.v1)),_}getPointAt(e,s){return this.getPoint(e,s)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xr extends go{constructor(e=new Vi,s=new Vi,_=new Vi){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=s,this.v2=_}getPoint(e,s=new Vi){const _=s,u=this.v0,m=this.v1,b=this.v2;return _.set(Uc(e,u.x,m.x,b.x),Uc(e,u.y,m.y,b.y)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Xr.prototype.isQuadraticBezierCurve=!0;class Ph extends go{constructor(e=new Ue,s=new Ue,_=new Ue){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=s,this.v2=_}getPoint(e,s=new Ue){const _=s,u=this.v0,m=this.v1,b=this.v2;return _.set(Uc(e,u.x,m.x,b.x),Uc(e,u.y,m.y,b.y),Uc(e,u.z,m.z,b.z)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ph.prototype.isQuadraticBezierCurve3=!0;class pc extends go{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,s=new Vi){const _=s,u=this.points,m=(u.length-1)*e,b=Math.floor(m),x=m-b,P=u[b===0?b:b-1],N=u[b],I=u[b>u.length-2?u.length-1:b+1],D=u[b>u.length-3?u.length-1:b+2];return _.set(H0(x,P.x,N.x,I.x,D.x),H0(x,P.y,N.y,I.y,D.y)),_}copy(e){super.copy(e),this.points=[];for(let s=0,_=e.points.length;s<_;s++){const u=e.points[s];this.points.push(u.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,_=this.points.length;s<_;s++){const u=this.points[s];e.points.push(u.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,_=e.points.length;s<_;s++){const u=e.points[s];this.points.push(new Vi().fromArray(u))}return this}}pc.prototype.isSplineCurve=!0;var O0=Object.freeze({__proto__:null,ArcCurve:f_,CatmullRomCurve3:dc,CubicBezierCurve:po,CubicBezierCurve3:ar,EllipseCurve:Wa,LineCurve:F0,LineCurve3:Vc,QuadraticBezierCurve:Xr,QuadraticBezierCurve3:Ph,SplineCurve:pc});const Wl=function(T,e,s=2){const _=e&&e.length,u=_?e[0]*s:T.length;let m=T0(T,0,u,s,!0);const b=[];if(!m||m.next===m.prev)return b;let x,P,N,I,D,B,U;if(_&&(m=function(X,ee,ue,ie){const Ee=[];let We,Re,et,ct,Ft;for(We=0,Re=ee.length;We<Re;We++)et=ee[We]*ie,ct=We<Re-1?ee[We+1]*ie:X.length,Ft=T0(X,et,ct,ie,!1),Ft===Ft.next&&(Ft.steiner=!0),Ee.push(dd(Ft));for(Ee.sort(ud),We=0;We<Ee.length;We++)k1(Ee[We],ue),ue=Ko(ue,ue.next);return ue}(T,e,m,s)),T.length>80*s){x=N=T[0],P=I=T[1];for(let X=s;X<u;X+=s)D=T[X],B=T[X+1],D<x&&(x=D),B<P&&(P=B),D>N&&(N=D),B>I&&(I=B);U=Math.max(N-x,I-P),U=U!==0?1/U:0}return Do(m,b,s,x,P,U),b};function T0(T,e,s,_,u){let m,b;if(u===function(x,P,N,I){let D=0;for(let B=P,U=N-I;B<N;B+=I)D+=(x[U]-x[B])*(x[B+1]+x[U+1]),U=B;return D}(T,e,s,_)>0)for(m=e;m<s;m+=_)b=pd(m,T[m],T[m+1],b);else for(m=s-_;m>=e;m-=_)b=pd(m,T[m],T[m+1],b);return b&&zl(b,b.next)&&(jc(b),b=b.next),b}function Ko(T,e){if(!T)return T;e||(e=T);let s,_=T;do if(s=!1,_.steiner||!zl(_,_.next)&&zs(_.prev,_,_.next)!==0)_=_.next;else{if(jc(_),_=e=_.prev,_===_.next)break;s=!0}while(s||_!==e);return e}function Do(T,e,s,_,u,m,b){if(!T)return;!b&&m&&function(I,D,B,U){let X=I;do X.z===null&&(X.z=hd(X.x,X.y,D,B,U)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==I);X.prevZ.nextZ=null,X.prevZ=null,function(ee){let ue,ie,Ee,We,Re,et,ct,Ft,Ut=1;do{for(ie=ee,ee=null,Re=null,et=0;ie;){for(et++,Ee=ie,ct=0,ue=0;ue<Ut&&(ct++,Ee=Ee.nextZ,Ee);ue++);for(Ft=Ut;ct>0||Ft>0&&Ee;)ct!==0&&(Ft===0||!Ee||ie.z<=Ee.z)?(We=ie,ie=ie.nextZ,ct--):(We=Ee,Ee=Ee.nextZ,Ft--),Re?Re.nextZ=We:ee=We,We.prevZ=Re,Re=We;ie=Ee}Re.nextZ=null,Ut*=2}while(et>1)}(X)}(T,_,u,m);let x,P,N=T;for(;T.prev!==T.next;)if(x=T.prev,P=T.next,m?Ul(T,_,u,m):M1(T))e.push(x.i/s),e.push(T.i/s),e.push(P.i/s),jc(T),T=P.next,N=P.next;else if((T=P)===N){b?b===1?Do(T=I1(Ko(T),e,s),e,s,_,u,m,2):b===2&&mc(T,e,s,_,u,m):Do(Ko(T),e,s,_,u,m,1);break}}function M1(T){const e=T.prev,s=T,_=T.next;if(zs(e,s,_)>=0)return!1;let u=T.next.next;for(;u!==T.prev;){if(Au(e.x,e.y,s.x,s.y,_.x,_.y,u.x,u.y)&&zs(u.prev,u,u.next)>=0)return!1;u=u.next}return!0}function Ul(T,e,s,_){const u=T.prev,m=T,b=T.next;if(zs(u,m,b)>=0)return!1;const x=u.x<m.x?u.x<b.x?u.x:b.x:m.x<b.x?m.x:b.x,P=u.y<m.y?u.y<b.y?u.y:b.y:m.y<b.y?m.y:b.y,N=u.x>m.x?u.x>b.x?u.x:b.x:m.x>b.x?m.x:b.x,I=u.y>m.y?u.y>b.y?u.y:b.y:m.y>b.y?m.y:b.y,D=hd(x,P,e,s,_),B=hd(N,I,e,s,_);let U=T.prevZ,X=T.nextZ;for(;U&&U.z>=D&&X&&X.z<=B;){if(U!==T.prev&&U!==T.next&&Au(u.x,u.y,m.x,m.y,b.x,b.y,U.x,U.y)&&zs(U.prev,U,U.next)>=0||(U=U.prevZ,X!==T.prev&&X!==T.next&&Au(u.x,u.y,m.x,m.y,b.x,b.y,X.x,X.y)&&zs(X.prev,X,X.next)>=0))return!1;X=X.nextZ}for(;U&&U.z>=D;){if(U!==T.prev&&U!==T.next&&Au(u.x,u.y,m.x,m.y,b.x,b.y,U.x,U.y)&&zs(U.prev,U,U.next)>=0)return!1;U=U.prevZ}for(;X&&X.z<=B;){if(X!==T.prev&&X!==T.next&&Au(u.x,u.y,m.x,m.y,b.x,b.y,X.x,X.y)&&zs(X.prev,X,X.next)>=0)return!1;X=X.nextZ}return!0}function I1(T,e,s){let _=T;do{const u=_.prev,m=_.next.next;!zl(u,m)&&Jc(u,_,_.next,m)&&gc(u,m)&&gc(m,u)&&(e.push(u.i/s),e.push(_.i/s),e.push(m.i/s),jc(_),jc(_.next),_=T=m),_=_.next}while(_!==T);return Ko(_)}function mc(T,e,s,_,u,m){let b=T;do{let x=b.next.next;for(;x!==b.prev;){if(b.i!==x.i&&Cp(b,x)){let P=L1(b,x);return b=Ko(b,b.next),P=Ko(P,P.next),Do(b,e,s,_,u,m),void Do(P,e,s,_,u,m)}x=x.next}b=b.next}while(b!==T)}function ud(T,e){return T.x-e.x}function k1(T,e){if(e=function(s,_){let u=_;const m=s.x,b=s.y;let x,P=-1/0;do{if(b<=u.y&&b>=u.next.y&&u.next.y!==u.y){const X=u.x+(b-u.y)*(u.next.x-u.x)/(u.next.y-u.y);if(X<=m&&X>P){if(P=X,X===m){if(b===u.y)return u;if(b===u.next.y)return u.next}x=u.x<u.next.x?u:u.next}}u=u.next}while(u!==_);if(!x)return null;if(m===P)return x;const N=x,I=x.x,D=x.y;let B,U=1/0;u=x;do m>=u.x&&u.x>=I&&m!==u.x&&Au(b<D?m:P,b,I,D,b<D?P:m,b,u.x,u.y)&&(B=Math.abs(b-u.y)/(m-u.x),gc(u,s)&&(B<U||B===U&&(u.x>x.x||u.x===x.x&&cd(x,u)))&&(x=u,U=B)),u=u.next;while(u!==N);return x}(T,e)){const s=L1(e,T);Ko(e,e.next),Ko(s,s.next)}}function cd(T,e){return zs(T.prev,T,e.prev)<0&&zs(e.next,T,T.next)<0}function hd(T,e,s,_,u){return(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-s)*u)|T<<8))|T<<4))|T<<2))|T<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-_)*u)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function dd(T){let e=T,s=T;do(e.x<s.x||e.x===s.x&&e.y<s.y)&&(s=e),e=e.next;while(e!==T);return s}function Au(T,e,s,_,u,m,b,x){return(u-b)*(e-x)-(T-b)*(m-x)>=0&&(T-b)*(_-x)-(s-b)*(e-x)>=0&&(s-b)*(m-x)-(u-b)*(_-x)>=0}function Cp(T,e){return T.next.i!==e.i&&T.prev.i!==e.i&&!function(s,_){let u=s;do{if(u.i!==s.i&&u.next.i!==s.i&&u.i!==_.i&&u.next.i!==_.i&&Jc(u,u.next,s,_))return!0;u=u.next}while(u!==s);return!1}(T,e)&&(gc(T,e)&&gc(e,T)&&function(s,_){let u=s,m=!1;const b=(s.x+_.x)/2,x=(s.y+_.y)/2;do u.y>x!=u.next.y>x&&u.next.y!==u.y&&b<(u.next.x-u.x)*(x-u.y)/(u.next.y-u.y)+u.x&&(m=!m),u=u.next;while(u!==s);return m}(T,e)&&(zs(T.prev,T,e.prev)||zs(T,e.prev,e))||zl(T,e)&&zs(T.prev,T,T.next)>0&&zs(e.prev,e,e.next)>0)}function zs(T,e,s){return(e.y-T.y)*(s.x-e.x)-(e.x-T.x)*(s.y-e.y)}function zl(T,e){return T.x===e.x&&T.y===e.y}function Jc(T,e,s,_){const u=fc(zs(T,e,s)),m=fc(zs(T,e,_)),b=fc(zs(s,_,T)),x=fc(zs(s,_,e));return u!==m&&b!==x||!(u!==0||!bu(T,s,e))||!(m!==0||!bu(T,_,e))||!(b!==0||!bu(s,T,_))||!(x!==0||!bu(s,e,_))}function bu(T,e,s){return e.x<=Math.max(T.x,s.x)&&e.x>=Math.min(T.x,s.x)&&e.y<=Math.max(T.y,s.y)&&e.y>=Math.min(T.y,s.y)}function fc(T){return T>0?1:T<0?-1:0}function gc(T,e){return zs(T.prev,T,T.next)<0?zs(T,e,T.next)>=0&&zs(T,T.prev,e)>=0:zs(T,e,T.prev)<0||zs(T,T.next,e)<0}function L1(T,e){const s=new Yc(T.i,T.x,T.y),_=new Yc(e.i,e.x,e.y),u=T.next,m=e.prev;return T.next=e,e.prev=T,s.next=u,u.prev=s,_.next=s,s.prev=_,m.next=_,_.prev=m,_}function pd(T,e,s,_){const u=new Yc(T,e,s);return _?(u.next=_.next,u.prev=_,_.next.prev=u,_.next=u):(u.prev=u,u.next=u),u}function jc(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function Yc(T,e,s){this.i=T,this.x=e,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Vl{static area(e){const s=e.length;let _=0;for(let u=s-1,m=0;m<s;u=m++)_+=e[u].x*e[m].y-e[m].x*e[u].y;return .5*_}static isClockWise(e){return Vl.area(e)<0}static triangulateShape(e,s){const _=[],u=[],m=[];Nh(e),md(_,e);let b=e.length;s.forEach(Nh);for(let P=0;P<s.length;P++)u.push(b),b+=s[P].length,md(_,s[P]);const x=Wl(_,u);for(let P=0;P<x.length;P+=3)m.push(x.slice(P,P+3));return m}}function Nh(T){const e=T.length;e>2&&T[e-1].equals(T[0])&&T.pop()}function md(T,e){for(let s=0;s<e.length;s++)T.push(e[s].x),T.push(e[s].y)}class B0 extends mr{constructor(e,s){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:s},e=Array.isArray(e)?e:[e];const _=this,u=[],m=[];for(let x=0,P=e.length;x<P;x++)b(e[x]);function b(x){const P=[],N=s.curveSegments!==void 0?s.curveSegments:12,I=s.steps!==void 0?s.steps:1;let D=s.depth!==void 0?s.depth:100,B=s.bevelEnabled===void 0||s.bevelEnabled,U=s.bevelThickness!==void 0?s.bevelThickness:6,X=s.bevelSize!==void 0?s.bevelSize:U-2,ee=s.bevelOffset!==void 0?s.bevelOffset:0,ue=s.bevelSegments!==void 0?s.bevelSegments:3;const ie=s.extrudePath,Ee=s.UVGenerator!==void 0?s.UVGenerator:vu;s.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),D=s.amount);let We,Re,et,ct,Ft,Ut=!1;ie&&(We=ie.getSpacedPoints(I),Ut=!0,B=!1,Re=ie.computeFrenetFrames(I,!1),et=new Ue,ct=new Ue,Ft=new Ue),B||(ue=0,U=0,X=0,ee=0);const yi=x.extractPoints(N);let ai=yi.shape;const hi=yi.holes;if(!Vl.isClockWise(ai)){ai=ai.reverse();for(let Ai=0,Ke=hi.length;Ai<Ke;Ai++){const ti=hi[Ai];Vl.isClockWise(ti)&&(hi[Ai]=ti.reverse())}}const Cn=Vl.triangulateShape(ai,hi),sn=ai;for(let Ai=0,Ke=hi.length;Ai<Ke;Ai++){const ti=hi[Ai];ai=ai.concat(ti)}function _i(Ai,Ke,ti){return Ke||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ke.clone().multiplyScalar(ti).add(Ai)}const ln=ai.length,Un=Cn.length;function qn(Ai,Ke,ti){let $i,en,Zi;const Xn=Ai.x-Ke.x,cr=Ai.y-Ke.y,er=ti.x-Ai.x,Wr=ti.y-Ai.y,fr=Xn*Xn+cr*cr,Fo=Xn*Wr-cr*er;if(Math.abs(Fo)>Number.EPSILON){const ws=Math.sqrt(fr),ea=Math.sqrt(er*er+Wr*Wr),Ua=Ke.x-cr/ws,Wu=Ke.y+Xn/ws,J_=((ti.x-Wr/ea-Ua)*Wr-(ti.y+er/ea-Wu)*er)/(Xn*Wr-cr*er);$i=Ua+Xn*J_-Ai.x,en=Wu+cr*J_-Ai.y;const j_=$i*$i+en*en;if(j_<=2)return new Vi($i,en);Zi=Math.sqrt(j_/2)}else{let ws=!1;Xn>Number.EPSILON?er>Number.EPSILON&&(ws=!0):Xn<-Number.EPSILON?er<-Number.EPSILON&&(ws=!0):Math.sign(cr)===Math.sign(Wr)&&(ws=!0),ws?($i=-cr,en=Xn,Zi=Math.sqrt(fr)):($i=Xn,en=cr,Zi=Math.sqrt(fr/2))}return new Vi($i/Zi,en/Zi)}const Zn=[];for(let Ai=0,Ke=sn.length,ti=Ke-1,$i=Ai+1;Ai<Ke;Ai++,ti++,$i++)ti===Ke&&(ti=0),$i===Ke&&($i=0),Zn[Ai]=qn(sn[Ai],sn[ti],sn[$i]);const ur=[];let Sr,hn=Zn.concat();for(let Ai=0,Ke=hi.length;Ai<Ke;Ai++){const ti=hi[Ai];Sr=[];for(let $i=0,en=ti.length,Zi=en-1,Xn=$i+1;$i<en;$i++,Zi++,Xn++)Zi===en&&(Zi=0),Xn===en&&(Xn=0),Sr[$i]=qn(ti[$i],ti[Zi],ti[Xn]);ur.push(Sr),hn=hn.concat(Sr)}for(let Ai=0;Ai<ue;Ai++){const Ke=Ai/ue,ti=U*Math.cos(Ke*Math.PI/2),$i=X*Math.sin(Ke*Math.PI/2)+ee;for(let en=0,Zi=sn.length;en<Zi;en++){const Xn=_i(sn[en],Zn[en],$i);Bi(Xn.x,Xn.y,-ti)}for(let en=0,Zi=hi.length;en<Zi;en++){const Xn=hi[en];Sr=ur[en];for(let cr=0,er=Xn.length;cr<er;cr++){const Wr=_i(Xn[cr],Sr[cr],$i);Bi(Wr.x,Wr.y,-ti)}}}const at=X+ee;for(let Ai=0;Ai<ln;Ai++){const Ke=B?_i(ai[Ai],hn[Ai],at):ai[Ai];Ut?(ct.copy(Re.normals[0]).multiplyScalar(Ke.x),et.copy(Re.binormals[0]).multiplyScalar(Ke.y),Ft.copy(We[0]).add(ct).add(et),Bi(Ft.x,Ft.y,Ft.z)):Bi(Ke.x,Ke.y,0)}for(let Ai=1;Ai<=I;Ai++)for(let Ke=0;Ke<ln;Ke++){const ti=B?_i(ai[Ke],hn[Ke],at):ai[Ke];Ut?(ct.copy(Re.normals[Ai]).multiplyScalar(ti.x),et.copy(Re.binormals[Ai]).multiplyScalar(ti.y),Ft.copy(We[Ai]).add(ct).add(et),Bi(Ft.x,Ft.y,Ft.z)):Bi(ti.x,ti.y,D/I*Ai)}for(let Ai=ue-1;Ai>=0;Ai--){const Ke=Ai/ue,ti=U*Math.cos(Ke*Math.PI/2),$i=X*Math.sin(Ke*Math.PI/2)+ee;for(let en=0,Zi=sn.length;en<Zi;en++){const Xn=_i(sn[en],Zn[en],$i);Bi(Xn.x,Xn.y,D+ti)}for(let en=0,Zi=hi.length;en<Zi;en++){const Xn=hi[en];Sr=ur[en];for(let cr=0,er=Xn.length;cr<er;cr++){const Wr=_i(Xn[cr],Sr[cr],$i);Ut?Bi(Wr.x,Wr.y+We[I-1].y,We[I-1].x+ti):Bi(Wr.x,Wr.y,D+ti)}}}function Ct(Ai,Ke){let ti=Ai.length;for(;--ti>=0;){const $i=ti;let en=ti-1;en<0&&(en=Ai.length-1);for(let Zi=0,Xn=I+2*ue;Zi<Xn;Zi++){const cr=ln*Zi,er=ln*(Zi+1);pi(Ke+$i+cr,Ke+en+cr,Ke+en+er,Ke+$i+er)}}}function Bi(Ai,Ke,ti){P.push(Ai),P.push(Ke),P.push(ti)}function xi(Ai,Ke,ti){Pn(Ai),Pn(Ke),Pn(ti);const $i=u.length/3,en=Ee.generateTopUV(_,u,$i-3,$i-2,$i-1);xn(en[0]),xn(en[1]),xn(en[2])}function pi(Ai,Ke,ti,$i){Pn(Ai),Pn(Ke),Pn($i),Pn(Ke),Pn(ti),Pn($i);const en=u.length/3,Zi=Ee.generateSideWallUV(_,u,en-6,en-3,en-2,en-1);xn(Zi[0]),xn(Zi[1]),xn(Zi[3]),xn(Zi[1]),xn(Zi[2]),xn(Zi[3])}function Pn(Ai){u.push(P[3*Ai+0]),u.push(P[3*Ai+1]),u.push(P[3*Ai+2])}function xn(Ai){m.push(Ai.x),m.push(Ai.y)}(function(){const Ai=u.length/3;if(B){let Ke=0,ti=ln*Ke;for(let $i=0;$i<Un;$i++){const en=Cn[$i];xi(en[2]+ti,en[1]+ti,en[0]+ti)}Ke=I+2*ue,ti=ln*Ke;for(let $i=0;$i<Un;$i++){const en=Cn[$i];xi(en[0]+ti,en[1]+ti,en[2]+ti)}}else{for(let Ke=0;Ke<Un;Ke++){const ti=Cn[Ke];xi(ti[2],ti[1],ti[0])}for(let Ke=0;Ke<Un;Ke++){const ti=Cn[Ke];xi(ti[0]+ln*I,ti[1]+ln*I,ti[2]+ln*I)}}_.addGroup(Ai,u.length/3-Ai,0)})(),function(){const Ai=u.length/3;let Ke=0;Ct(sn,Ke),Ke+=sn.length;for(let ti=0,$i=hi.length;ti<$i;ti++){const en=hi[ti];Ct(en,Ke),Ke+=en.length}_.addGroup(Ai,u.length/3-Ai,1)}()}this.setAttribute("position",new Fn(u,3)),this.setAttribute("uv",new Fn(m,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(s,_,u){if(u.shapes=[],Array.isArray(s))for(let m=0,b=s.length;m<b;m++){const x=s[m];u.shapes.push(x.uuid)}else u.shapes.push(s.uuid);return _.extrudePath!==void 0&&(u.options.extrudePath=_.extrudePath.toJSON()),u}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,s){const _=[];for(let m=0,b=e.shapes.length;m<b;m++){const x=s[e.shapes[m]];_.push(x)}const u=e.options.extrudePath;return u!==void 0&&(e.options.extrudePath=new O0[u.type]().fromJSON(u)),new B0(_,e.options)}}const vu={generateTopUV:function(T,e,s,_,u){const m=e[3*s],b=e[3*s+1],x=e[3*_],P=e[3*_+1],N=e[3*u],I=e[3*u+1];return[new Vi(m,b),new Vi(x,P),new Vi(N,I)]},generateSideWallUV:function(T,e,s,_,u,m){const b=e[3*s],x=e[3*s+1],P=e[3*s+2],N=e[3*_],I=e[3*_+1],D=e[3*_+2],B=e[3*u],U=e[3*u+1],X=e[3*u+2],ee=e[3*m],ue=e[3*m+1],ie=e[3*m+2];return Math.abs(x-I)<Math.abs(b-N)?[new Vi(b,1-P),new Vi(N,1-D),new Vi(B,1-X),new Vi(ee,1-ie)]:[new Vi(x,1-P),new Vi(I,1-D),new Vi(U,1-X),new Vi(ue,1-ie)]}};class Su extends ra{constructor(e=1,s=0){const _=(1+Math.sqrt(5))/2;super([-1,_,0,1,_,0,-1,-_,0,1,-_,0,0,-1,_,0,1,_,0,-1,-_,0,1,-_,_,0,-1,_,0,1,-_,0,-1,-_,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,s),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new Su(e.radius,e.detail)}}class Tc extends mr{constructor(e,s=12,_=0,u=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:s,phiStart:_,phiLength:u},s=Math.floor(s),u=Ln(u,0,2*Math.PI);const m=[],b=[],x=[],P=1/s,N=new Ue,I=new Vi;for(let D=0;D<=s;D++){const B=_+D*P*u,U=Math.sin(B),X=Math.cos(B);for(let ee=0;ee<=e.length-1;ee++)N.x=e[ee].x*U,N.y=e[ee].y,N.z=e[ee].x*X,b.push(N.x,N.y,N.z),I.x=D/s,I.y=ee/(e.length-1),x.push(I.x,I.y)}for(let D=0;D<s;D++)for(let B=0;B<e.length-1;B++){const U=B+D*e.length,X=U,ee=U+e.length,ue=U+e.length+1,ie=U+1;m.push(X,ee,ie),m.push(ee,ue,ie)}if(this.setIndex(m),this.setAttribute("position",new Fn(b,3)),this.setAttribute("uv",new Fn(x,2)),this.computeVertexNormals(),u===2*Math.PI){const D=this.attributes.normal.array,B=new Ue,U=new Ue,X=new Ue,ee=s*e.length*3;for(let ue=0,ie=0;ue<e.length;ue++,ie+=3)B.x=D[ie+0],B.y=D[ie+1],B.z=D[ie+2],U.x=D[ee+ie+0],U.y=D[ee+ie+1],U.z=D[ee+ie+2],X.addVectors(B,U).normalize(),D[ie+0]=D[ee+ie+0]=X.x,D[ie+1]=D[ee+ie+1]=X.y,D[ie+2]=D[ee+ie+2]=X.z}}static fromJSON(e){return new Tc(e.points,e.segments,e.phiStart,e.phiLength)}}class G0 extends ra{constructor(e=1,s=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,s),this.type="OctahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new G0(e.radius,e.detail)}}class xu extends mr{constructor(e,s,_){super(),this.type="ParametricGeometry",this.parameters={func:e,slices:s,stacks:_};const u=[],m=[],b=[],x=[],P=1e-5,N=new Ue,I=new Ue,D=new Ue,B=new Ue,U=new Ue;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const X=s+1;for(let ee=0;ee<=_;ee++){const ue=ee/_;for(let ie=0;ie<=s;ie++){const Ee=ie/s;e(Ee,ue,I),m.push(I.x,I.y,I.z),Ee-P>=0?(e(Ee-P,ue,D),B.subVectors(I,D)):(e(Ee+P,ue,D),B.subVectors(D,I)),ue-P>=0?(e(Ee,ue-P,D),U.subVectors(I,D)):(e(Ee,ue+P,D),U.subVectors(D,I)),N.crossVectors(B,U).normalize(),b.push(N.x,N.y,N.z),x.push(Ee,ue)}}for(let ee=0;ee<_;ee++)for(let ue=0;ue<s;ue++){const ie=ee*X+ue,Ee=ee*X+ue+1,We=(ee+1)*X+ue+1,Re=(ee+1)*X+ue;u.push(ie,Ee,Re),u.push(Ee,We,Re)}this.setIndex(u),this.setAttribute("position",new Fn(m,3)),this.setAttribute("normal",new Fn(b,3)),this.setAttribute("uv",new Fn(x,2))}}class Cu extends mr{constructor(e=.5,s=1,_=8,u=1,m=0,b=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:s,thetaSegments:_,phiSegments:u,thetaStart:m,thetaLength:b},_=Math.max(3,_);const x=[],P=[],N=[],I=[];let D=e;const B=(s-e)/(u=Math.max(1,u)),U=new Ue,X=new Vi;for(let ee=0;ee<=u;ee++){for(let ue=0;ue<=_;ue++){const ie=m+ue/_*b;U.x=D*Math.cos(ie),U.y=D*Math.sin(ie),P.push(U.x,U.y,U.z),N.push(0,0,1),X.x=(U.x/s+1)/2,X.y=(U.y/s+1)/2,I.push(X.x,X.y)}D+=B}for(let ee=0;ee<u;ee++){const ue=ee*(_+1);for(let ie=0;ie<_;ie++){const Ee=ie+ue,We=Ee,Re=Ee+_+1,et=Ee+_+2,ct=Ee+1;x.push(We,Re,ct),x.push(Re,et,ct)}}this.setIndex(x),this.setAttribute("position",new Fn(P,3)),this.setAttribute("normal",new Fn(N,3)),this.setAttribute("uv",new Fn(I,2))}static fromJSON(e){return new Cu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class H_ extends mr{constructor(e,s=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:s};const _=[],u=[],m=[],b=[];let x=0,P=0;if(Array.isArray(e)===!1)N(e);else for(let I=0;I<e.length;I++)N(e[I]),this.addGroup(x,P,I),x+=P,P=0;function N(I){const D=u.length/3,B=I.extractPoints(s);let U=B.shape;const X=B.holes;Vl.isClockWise(U)===!1&&(U=U.reverse());for(let ue=0,ie=X.length;ue<ie;ue++){const Ee=X[ue];Vl.isClockWise(Ee)===!0&&(X[ue]=Ee.reverse())}const ee=Vl.triangulateShape(U,X);for(let ue=0,ie=X.length;ue<ie;ue++){const Ee=X[ue];U=U.concat(Ee)}for(let ue=0,ie=U.length;ue<ie;ue++){const Ee=U[ue];u.push(Ee.x,Ee.y,0),m.push(0,0,1),b.push(Ee.x,Ee.y)}for(let ue=0,ie=ee.length;ue<ie;ue++){const Ee=ee[ue],We=Ee[0]+D,Re=Ee[1]+D,et=Ee[2]+D;_.push(We,Re,et),P+=3}}this.setIndex(_),this.setAttribute("position",new Fn(u,3)),this.setAttribute("normal",new Fn(m,3)),this.setAttribute("uv",new Fn(b,2))}toJSON(){const e=super.toJSON();return function(s,_){if(_.shapes=[],Array.isArray(s))for(let u=0,m=s.length;u<m;u++){const b=s[u];_.shapes.push(b.uuid)}else _.shapes.push(s.uuid);return _}(this.parameters.shapes,e)}static fromJSON(e,s){const _=[];for(let u=0,m=e.shapes.length;u<m;u++){const b=s[e.shapes[u]];_.push(b)}return new H_(_,e.curveSegments)}}class Pu extends mr{constructor(e=1,s=32,_=16,u=0,m=2*Math.PI,b=0,x=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:s,heightSegments:_,phiStart:u,phiLength:m,thetaStart:b,thetaLength:x},s=Math.max(3,Math.floor(s)),_=Math.max(2,Math.floor(_));const P=Math.min(b+x,Math.PI);let N=0;const I=[],D=new Ue,B=new Ue,U=[],X=[],ee=[],ue=[];for(let ie=0;ie<=_;ie++){const Ee=[],We=ie/_;let Re=0;ie==0&&b==0?Re=.5/s:ie==_&&P==Math.PI&&(Re=-.5/s);for(let et=0;et<=s;et++){const ct=et/s;D.x=-e*Math.cos(u+ct*m)*Math.sin(b+We*x),D.y=e*Math.cos(b+We*x),D.z=e*Math.sin(u+ct*m)*Math.sin(b+We*x),X.push(D.x,D.y,D.z),B.copy(D).normalize(),ee.push(B.x,B.y,B.z),ue.push(ct+Re,1-We),Ee.push(N++)}I.push(Ee)}for(let ie=0;ie<_;ie++)for(let Ee=0;Ee<s;Ee++){const We=I[ie][Ee+1],Re=I[ie][Ee],et=I[ie+1][Ee],ct=I[ie+1][Ee+1];(ie!==0||b>0)&&U.push(We,Re,ct),(ie!==_-1||P<Math.PI)&&U.push(Re,et,ct)}this.setIndex(U),this.setAttribute("position",new Fn(X,3)),this.setAttribute("normal",new Fn(ee,3)),this.setAttribute("uv",new Fn(ue,2))}static fromJSON(e){return new Pu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class yc extends ra{constructor(e=1,s=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,s),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new yc(e.radius,e.detail)}}class Nu extends B0{constructor(e,s={}){const _=s.font;if(!_||!_.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new mr;const u=_.generateShapes(e,s.size);s.depth=s.height!==void 0?s.height:50,s.bevelThickness===void 0&&(s.bevelThickness=10),s.bevelSize===void 0&&(s.bevelSize=8),s.bevelEnabled===void 0&&(s.bevelEnabled=!1),super(u,s),this.type="TextGeometry"}}class sa extends mr{constructor(e=1,s=.4,_=8,u=6,m=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:s,radialSegments:_,tubularSegments:u,arc:m},_=Math.floor(_),u=Math.floor(u);const b=[],x=[],P=[],N=[],I=new Ue,D=new Ue,B=new Ue;for(let U=0;U<=_;U++)for(let X=0;X<=u;X++){const ee=X/u*m,ue=U/_*Math.PI*2;D.x=(e+s*Math.cos(ue))*Math.cos(ee),D.y=(e+s*Math.cos(ue))*Math.sin(ee),D.z=s*Math.sin(ue),x.push(D.x,D.y,D.z),I.x=e*Math.cos(ee),I.y=e*Math.sin(ee),B.subVectors(D,I).normalize(),P.push(B.x,B.y,B.z),N.push(X/u),N.push(U/_)}for(let U=1;U<=_;U++)for(let X=1;X<=u;X++){const ee=(u+1)*U+X-1,ue=(u+1)*(U-1)+X-1,ie=(u+1)*(U-1)+X,Ee=(u+1)*U+X;b.push(ee,ue,Ee),b.push(ue,ie,Ee)}this.setIndex(b),this.setAttribute("position",new Fn(x,3)),this.setAttribute("normal",new Fn(P,3)),this.setAttribute("uv",new Fn(N,2))}static fromJSON(e){return new sa(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class wu extends mr{constructor(e=1,s=.4,_=64,u=8,m=2,b=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:s,tubularSegments:_,radialSegments:u,p:m,q:b},_=Math.floor(_),u=Math.floor(u);const x=[],P=[],N=[],I=[],D=new Ue,B=new Ue,U=new Ue,X=new Ue,ee=new Ue,ue=new Ue,ie=new Ue;for(let We=0;We<=_;++We){const Re=We/_*m*Math.PI*2;Ee(Re,m,b,e,U),Ee(Re+.01,m,b,e,X),ue.subVectors(X,U),ie.addVectors(X,U),ee.crossVectors(ue,ie),ie.crossVectors(ee,ue),ee.normalize(),ie.normalize();for(let et=0;et<=u;++et){const ct=et/u*Math.PI*2,Ft=-s*Math.cos(ct),Ut=s*Math.sin(ct);D.x=U.x+(Ft*ie.x+Ut*ee.x),D.y=U.y+(Ft*ie.y+Ut*ee.y),D.z=U.z+(Ft*ie.z+Ut*ee.z),P.push(D.x,D.y,D.z),B.subVectors(D,U).normalize(),N.push(B.x,B.y,B.z),I.push(We/_),I.push(et/u)}}for(let We=1;We<=_;We++)for(let Re=1;Re<=u;Re++){const et=(u+1)*(We-1)+(Re-1),ct=(u+1)*We+(Re-1),Ft=(u+1)*We+Re,Ut=(u+1)*(We-1)+Re;x.push(et,ct,Ut),x.push(ct,Ft,Ut)}function Ee(We,Re,et,ct,Ft){const Ut=Math.cos(We),yi=Math.sin(We),ai=et/Re*We,hi=Math.cos(ai);Ft.x=ct*(2+hi)*.5*Ut,Ft.y=ct*(2+hi)*yi*.5,Ft.z=ct*Math.sin(ai)*.5}this.setIndex(x),this.setAttribute("position",new Fn(P,3)),this.setAttribute("normal",new Fn(N,3)),this.setAttribute("uv",new Fn(I,2))}static fromJSON(e){return new wu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Eu extends mr{constructor(e,s=64,_=1,u=8,m=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:s,radius:_,radialSegments:u,closed:m};const b=e.computeFrenetFrames(s,m);this.tangents=b.tangents,this.normals=b.normals,this.binormals=b.binormals;const x=new Ue,P=new Ue,N=new Vi;let I=new Ue;const D=[],B=[],U=[],X=[];function ee(ue){I=e.getPointAt(ue/s,I);const ie=b.normals[ue],Ee=b.binormals[ue];for(let We=0;We<=u;We++){const Re=We/u*Math.PI*2,et=Math.sin(Re),ct=-Math.cos(Re);P.x=ct*ie.x+et*Ee.x,P.y=ct*ie.y+et*Ee.y,P.z=ct*ie.z+et*Ee.z,P.normalize(),B.push(P.x,P.y,P.z),x.x=I.x+_*P.x,x.y=I.y+_*P.y,x.z=I.z+_*P.z,D.push(x.x,x.y,x.z)}}(function(){for(let ue=0;ue<s;ue++)ee(ue);ee(m===!1?s:0),function(){for(let ue=0;ue<=s;ue++)for(let ie=0;ie<=u;ie++)N.x=ue/s,N.y=ie/u,U.push(N.x,N.y)}(),function(){for(let ue=1;ue<=s;ue++)for(let ie=1;ie<=u;ie++){const Ee=(u+1)*(ue-1)+(ie-1),We=(u+1)*ue+(ie-1),Re=(u+1)*ue+ie,et=(u+1)*(ue-1)+ie;X.push(Ee,We,et),X.push(We,Re,et)}}()})(),this.setIndex(X),this.setAttribute("position",new Fn(D,3)),this.setAttribute("normal",new Fn(B,3)),this.setAttribute("uv",new Fn(U,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Eu(new O0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class y0 extends mr{constructor(e){if(super(),this.type="WireframeGeometry",e.isGeometry===!0)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const s=[],_=new Set,u=new Ue,m=new Ue;if(e.index!==null){const b=e.attributes.position,x=e.index;let P=e.groups;P.length===0&&(P=[{start:0,count:x.count,materialIndex:0}]);for(let N=0,I=P.length;N<I;++N){const D=P[N],B=D.start;for(let U=B,X=B+D.count;U<X;U+=3)for(let ee=0;ee<3;ee++){const ue=x.getX(U+ee),ie=x.getX(U+(ee+1)%3);u.fromBufferAttribute(b,ue),m.fromBufferAttribute(b,ie),wh(u,m,_)===!0&&(s.push(u.x,u.y,u.z),s.push(m.x,m.y,m.z))}}}else{const b=e.attributes.position;for(let x=0,P=b.count/3;x<P;x++)for(let N=0;N<3;N++){const I=3*x+N,D=3*x+(N+1)%3;u.fromBufferAttribute(b,I),m.fromBufferAttribute(b,D),wh(u,m,_)===!0&&(s.push(u.x,u.y,u.z),s.push(m.x,m.y,m.z))}}this.setAttribute("position",new Fn(s,3))}}function wh(T,e,s){const _=`${T.x},${T.y},${T.z}-${e.x},${e.y},${e.z}`,u=`${e.x},${e.y},${e.z}-${T.x},${T.y},${T.z}`;return s.has(_)!==!0&&s.has(u)!==!0&&(s.add(_,u),!0)}var F_=Object.freeze({__proto__:null,BoxGeometry:$o,BoxBufferGeometry:$o,CircleGeometry:ms,CircleBufferGeometry:ms,ConeGeometry:$a,ConeBufferGeometry:$a,CylinderGeometry:zo,CylinderBufferGeometry:zo,DodecahedronGeometry:f0,DodecahedronBufferGeometry:f0,EdgesGeometry:Vo,ExtrudeGeometry:B0,ExtrudeBufferGeometry:B0,IcosahedronGeometry:Su,IcosahedronBufferGeometry:Su,LatheGeometry:Tc,LatheBufferGeometry:Tc,OctahedronGeometry:G0,OctahedronBufferGeometry:G0,ParametricGeometry:xu,ParametricBufferGeometry:xu,PlaneGeometry:ba,PlaneBufferGeometry:ba,PolyhedronGeometry:ra,PolyhedronBufferGeometry:ra,RingGeometry:Cu,RingBufferGeometry:Cu,ShapeGeometry:H_,ShapeBufferGeometry:H_,SphereGeometry:Pu,SphereBufferGeometry:Pu,TetrahedronGeometry:yc,TetrahedronBufferGeometry:yc,TextGeometry:Nu,TextBufferGeometry:Nu,TorusGeometry:sa,TorusBufferGeometry:sa,TorusKnotGeometry:wu,TorusKnotBufferGeometry:wu,TubeGeometry:Eu,TubeBufferGeometry:Eu,WireframeGeometry:y0});class Mu extends Ci{constructor(e){super(),this.type="ShadowMaterial",this.color=new Ki(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Mu.prototype.isShadowMaterial=!0;class Jl extends Ci{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ki(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Jl.prototype.isMeshStandardMaterial=!0;class qc extends Jl{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vi(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(s){this.ior=(1+.4*s)/(1-.4*s)}}),this.sheenTint=new Ki(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new Ki(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new Ki(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(e)}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheenTint.copy(e.sheenTint),this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}qc.prototype.isMeshPhysicalMaterial=!0;class Ac extends Ci{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Ki(16777215),this.specular=new Ki(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Ac.prototype.isMeshPhongMaterial=!0;class Eh extends Ci{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ki(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Eh.prototype.isMeshToonMaterial=!0;class Mh extends Ci{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Mh.prototype.isMeshNormalMaterial=!0;class fd extends Ci{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Ki(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ki(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}fd.prototype.isMeshLambertMaterial=!0;class $c extends Ci{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ki(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}$c.prototype.isMeshMatcapMaterial=!0;class Ih extends Ji{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Ih.prototype.isLineDashedMaterial=!0;var Zc=Object.freeze({__proto__:null,ShadowMaterial:Mu,SpriteMaterial:Yt,RawShaderMaterial:al,ShaderMaterial:t0,PointsMaterial:so,MeshPhysicalMaterial:qc,MeshStandardMaterial:Jl,MeshPhongMaterial:Ac,MeshToonMaterial:Eh,MeshNormalMaterial:Mh,MeshLambertMaterial:fd,MeshDepthMaterial:Ce,MeshDistanceMaterial:we,MeshBasicMaterial:ls,MeshMatcapMaterial:$c,LineDashedMaterial:Ih,LineBasicMaterial:Ji,Material:Ci});const Ys={arraySlice:function(T,e,s){return Ys.isTypedArray(T)?new T.constructor(T.subarray(e,s!==void 0?s:T.length)):T.slice(e,s)},convertArray:function(T,e,s){return!T||!s&&T.constructor===e?T:typeof e.BYTES_PER_ELEMENT=="number"?new e(T):Array.prototype.slice.call(T)},isTypedArray:function(T){return ArrayBuffer.isView(T)&&!(T instanceof DataView)},getKeyframeOrder:function(T){const e=T.length,s=new Array(e);for(let _=0;_!==e;++_)s[_]=_;return s.sort(function(_,u){return T[_]-T[u]}),s},sortedArray:function(T,e,s){const _=T.length,u=new T.constructor(_);for(let m=0,b=0;b!==_;++m){const x=s[m]*e;for(let P=0;P!==e;++P)u[b++]=T[x+P]}return u},flattenJSON:function(T,e,s,_){let u=1,m=T[0];for(;m!==void 0&&m[_]===void 0;)m=T[u++];if(m===void 0)return;let b=m[_];if(b!==void 0)if(Array.isArray(b))do b=m[_],b!==void 0&&(e.push(m.time),s.push.apply(s,b)),m=T[u++];while(m!==void 0);else if(b.toArray!==void 0)do b=m[_],b!==void 0&&(e.push(m.time),b.toArray(s,s.length)),m=T[u++];while(m!==void 0);else do b=m[_],b!==void 0&&(e.push(m.time),s.push(b)),m=T[u++];while(m!==void 0)},subclip:function(T,e,s,_,u=30){const m=T.clone();m.name=e;const b=[];for(let P=0;P<m.tracks.length;++P){const N=m.tracks[P],I=N.getValueSize(),D=[],B=[];for(let U=0;U<N.times.length;++U){const X=N.times[U]*u;if(!(X<s||X>=_)){D.push(N.times[U]);for(let ee=0;ee<I;++ee)B.push(N.values[U*I+ee])}}D.length!==0&&(N.times=Ys.convertArray(D,N.times.constructor),N.values=Ys.convertArray(B,N.values.constructor),b.push(N))}m.tracks=b;let x=1/0;for(let P=0;P<m.tracks.length;++P)x>m.tracks[P].times[0]&&(x=m.tracks[P].times[0]);for(let P=0;P<m.tracks.length;++P)m.tracks[P].shift(-1*x);return m.resetDuration(),m},makeClipAdditive:function(T,e=0,s=T,_=30){_<=0&&(_=30);const u=s.tracks.length,m=e/_;for(let b=0;b<u;++b){const x=s.tracks[b],P=x.ValueTypeName;if(P==="bool"||P==="string")continue;const N=T.tracks.find(function(ie){return ie.name===x.name&&ie.ValueTypeName===P});if(N===void 0)continue;let I=0;const D=x.getValueSize();x.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(I=D/3);let B=0;const U=N.getValueSize();N.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(B=U/3);const X=x.times.length-1;let ee;if(m<=x.times[0]){const ie=I,Ee=D-I;ee=Ys.arraySlice(x.values,ie,Ee)}else if(m>=x.times[X]){const ie=X*D+I,Ee=ie+D-I;ee=Ys.arraySlice(x.values,ie,Ee)}else{const ie=x.createInterpolant(),Ee=I,We=D-I;ie.evaluate(m),ee=Ys.arraySlice(ie.resultBuffer,Ee,We)}P==="quaternion"&&new vs().fromArray(ee).normalize().conjugate().toArray(ee);const ue=N.times.length;for(let ie=0;ie<ue;++ie){const Ee=ie*U+B;if(P==="quaternion")vs.multiplyQuaternionsFlat(N.values,Ee,ee,0,N.values,Ee);else{const We=U-2*B;for(let Re=0;Re<We;++Re)N.values[Ee+Re]-=ee[Re]}}}return T.blendMode=2501,T}};class Ca{constructor(e,s,_,u){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=u!==void 0?u:new s.constructor(_),this.sampleValues=s,this.valueSize=_,this.settings=null,this.DefaultSettings_={}}evaluate(e){const s=this.parameterPositions;let _=this._cachedIndex,u=s[_],m=s[_-1];e:{t:{let b;i:{n:if(!(e<u)){for(let x=_+2;;){if(u===void 0){if(e<m)break n;return _=s.length,this._cachedIndex=_,this.afterEnd_(_-1,e,m)}if(_===x)break;if(m=u,u=s[++_],e<u)break t}b=s.length;break i}if(e>=m)break e;{const x=s[1];e<x&&(_=2,m=x);for(let P=_-2;;){if(m===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,u);if(_===P)break;if(u=m,m=s[--_-1],e>=m)break t}b=_,_=0}}for(;_<b;){const x=_+b>>>1;e<s[x]?b=x:_=x+1}if(u=s[_],m=s[_-1],m===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,u);if(u===void 0)return _=s.length,this._cachedIndex=_,this.afterEnd_(_-1,m,e)}this._cachedIndex=_,this.intervalChanged_(_,m,u)}return this.interpolate_(_,m,e,u)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const s=this.resultBuffer,_=this.sampleValues,u=this.valueSize,m=e*u;for(let b=0;b!==u;++b)s[b]=_[m+b];return s}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Ca.prototype.beforeStart_=Ca.prototype.copySampleValue_,Ca.prototype.afterEnd_=Ca.prototype.copySampleValue_;class kh extends Ca{constructor(e,s,_,u){super(e,s,_,u),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,s,_){const u=this.parameterPositions;let m=e-2,b=e+1,x=u[m],P=u[b];if(x===void 0)switch(this.getSettings_().endingStart){case 2401:m=e,x=2*s-_;break;case 2402:m=u.length-2,x=s+u[m]-u[m+1];break;default:m=e,x=_}if(P===void 0)switch(this.getSettings_().endingEnd){case 2401:b=e,P=2*_-s;break;case 2402:b=1,P=_+u[1]-u[0];break;default:b=e-1,P=s}const N=.5*(_-s),I=this.valueSize;this._weightPrev=N/(s-x),this._weightNext=N/(P-_),this._offsetPrev=m*I,this._offsetNext=b*I}interpolate_(e,s,_,u){const m=this.resultBuffer,b=this.sampleValues,x=this.valueSize,P=e*x,N=P-x,I=this._offsetPrev,D=this._offsetNext,B=this._weightPrev,U=this._weightNext,X=(_-s)/(u-s),ee=X*X,ue=ee*X,ie=-B*ue+2*B*ee-B*X,Ee=(1+B)*ue+(-1.5-2*B)*ee+(-.5+B)*X+1,We=(-1-U)*ue+(1.5+U)*ee+.5*X,Re=U*ue-U*ee;for(let et=0;et!==x;++et)m[et]=ie*b[I+et]+Ee*b[N+et]+We*b[P+et]+Re*b[D+et];return m}}class Lh extends Ca{constructor(e,s,_,u){super(e,s,_,u)}interpolate_(e,s,_,u){const m=this.resultBuffer,b=this.sampleValues,x=this.valueSize,P=e*x,N=P-x,I=(_-s)/(u-s),D=1-I;for(let B=0;B!==x;++B)m[B]=b[N+B]*D+b[P+B]*I;return m}}class bc extends Ca{constructor(e,s,_,u){super(e,s,_,u)}interpolate_(e){return this.copySampleValue_(e-1)}}class Za{constructor(e,s,_,u){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(s===void 0||s.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ys.convertArray(s,this.TimeBufferType),this.values=Ys.convertArray(_,this.ValueBufferType),this.setInterpolation(u||this.DefaultInterpolation)}static toJSON(e){const s=e.constructor;let _;if(s.toJSON!==this.toJSON)_=s.toJSON(e);else{_={name:e.name,times:Ys.convertArray(e.times,Array),values:Ys.convertArray(e.values,Array)};const u=e.getInterpolation();u!==e.DefaultInterpolation&&(_.interpolation=u)}return _.type=e.ValueTypeName,_}InterpolantFactoryMethodDiscrete(e){return new bc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Lh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kh(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let s;switch(e){case 2300:s=this.InterpolantFactoryMethodDiscrete;break;case 2301:s=this.InterpolantFactoryMethodLinear;break;case 2302:s=this.InterpolantFactoryMethodSmooth}if(s===void 0){const _="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0){if(e===this.DefaultInterpolation)throw new Error(_);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",_),this}return this.createInterpolant=s,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const s=this.times;for(let _=0,u=s.length;_!==u;++_)s[_]+=e}return this}scale(e){if(e!==1){const s=this.times;for(let _=0,u=s.length;_!==u;++_)s[_]*=e}return this}trim(e,s){const _=this.times,u=_.length;let m=0,b=u-1;for(;m!==u&&_[m]<e;)++m;for(;b!==-1&&_[b]>s;)--b;if(++b,m!==0||b!==u){m>=b&&(b=Math.max(b,1),m=b-1);const x=this.getValueSize();this.times=Ys.arraySlice(_,m,b),this.values=Ys.arraySlice(this.values,m*x,b*x)}return this}validate(){let e=!0;const s=this.getValueSize();s-Math.floor(s)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const _=this.times,u=this.values,m=_.length;m===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let b=null;for(let x=0;x!==m;x++){const P=_[x];if(typeof P=="number"&&isNaN(P)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,x,P),e=!1;break}if(b!==null&&b>P){console.error("THREE.KeyframeTrack: Out of order keys.",this,x,P,b),e=!1;break}b=P}if(u!==void 0&&Ys.isTypedArray(u))for(let x=0,P=u.length;x!==P;++x){const N=u[x];if(isNaN(N)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,x,N),e=!1;break}}return e}optimize(){const e=Ys.arraySlice(this.times),s=Ys.arraySlice(this.values),_=this.getValueSize(),u=this.getInterpolation()===2302,m=e.length-1;let b=1;for(let x=1;x<m;++x){let P=!1;const N=e[x];if(N!==e[x+1]&&(x!==1||N!==e[0]))if(u)P=!0;else{const I=x*_,D=I-_,B=I+_;for(let U=0;U!==_;++U){const X=s[I+U];if(X!==s[D+U]||X!==s[B+U]){P=!0;break}}}if(P){if(x!==b){e[b]=e[x];const I=x*_,D=b*_;for(let B=0;B!==_;++B)s[D+B]=s[I+B]}++b}}if(m>0){e[b]=e[m];for(let x=m*_,P=b*_,N=0;N!==_;++N)s[P+N]=s[x+N];++b}return b!==e.length?(this.times=Ys.arraySlice(e,0,b),this.values=Ys.arraySlice(s,0,b*_)):(this.times=e,this.values=s),this}clone(){const e=Ys.arraySlice(this.times,0),s=Ys.arraySlice(this.values,0),_=new this.constructor(this.name,e,s);return _.createInterpolant=this.createInterpolant,_}}Za.prototype.TimeBufferType=Float32Array,Za.prototype.ValueBufferType=Float32Array,Za.prototype.DefaultInterpolation=2301;class oa extends Za{}oa.prototype.ValueTypeName="bool",oa.prototype.ValueBufferType=Array,oa.prototype.DefaultInterpolation=2300,oa.prototype.InterpolantFactoryMethodLinear=void 0,oa.prototype.InterpolantFactoryMethodSmooth=void 0;class Iu extends Za{}Iu.prototype.ValueTypeName="color";class Qo extends Za{}Qo.prototype.ValueTypeName="number";class A0 extends Ca{constructor(e,s,_,u){super(e,s,_,u)}interpolate_(e,s,_,u){const m=this.resultBuffer,b=this.sampleValues,x=this.valueSize,P=(_-s)/(u-s);let N=e*x;for(let I=N+x;N!==I;N+=4)vs.slerpFlat(m,0,b,N-x,b,N,P);return m}}class O_ extends Za{InterpolantFactoryMethodLinear(e){return new A0(this.times,this.values,this.getValueSize(),e)}}O_.prototype.ValueTypeName="quaternion",O_.prototype.DefaultInterpolation=2301,O_.prototype.InterpolantFactoryMethodSmooth=void 0;class qs extends Za{}qs.prototype.ValueTypeName="string",qs.prototype.ValueBufferType=Array,qs.prototype.DefaultInterpolation=2300,qs.prototype.InterpolantFactoryMethodLinear=void 0,qs.prototype.InterpolantFactoryMethodSmooth=void 0;class vc extends Za{}vc.prototype.ValueTypeName="vector";class g_{constructor(e,s=-1,_,u=2500){this.name=e,this.tracks=_,this.duration=s,this.blendMode=u,this.uuid=zn(),this.duration<0&&this.resetDuration()}static parse(e){const s=[],_=e.tracks,u=1/(e.fps||1);for(let b=0,x=_.length;b!==x;++b)s.push(fl(_[b]).scale(u));const m=new this(e.name,e.duration,s,e.blendMode);return m.uuid=e.uuid,m}static toJSON(e){const s=[],_=e.tracks,u={name:e.name,duration:e.duration,tracks:s,uuid:e.uuid,blendMode:e.blendMode};for(let m=0,b=_.length;m!==b;++m)s.push(Za.toJSON(_[m]));return u}static CreateFromMorphTargetSequence(e,s,_,u){const m=s.length,b=[];for(let x=0;x<m;x++){let P=[],N=[];P.push((x+m-1)%m,x,(x+1)%m),N.push(0,1,0);const I=Ys.getKeyframeOrder(P);P=Ys.sortedArray(P,1,I),N=Ys.sortedArray(N,1,I),u||P[0]!==0||(P.push(m),N.push(N[0])),b.push(new Qo(".morphTargetInfluences["+s[x].name+"]",P,N).scale(1/_))}return new this(e,-1,b)}static findByName(e,s){let _=e;if(!Array.isArray(e)){const u=e;_=u.geometry&&u.geometry.animations||u.animations}for(let u=0;u<_.length;u++)if(_[u].name===s)return _[u];return null}static CreateClipsFromMorphTargetSequences(e,s,_){const u={},m=/^([\w-]*?)([\d]+)$/;for(let x=0,P=e.length;x<P;x++){const N=e[x],I=N.name.match(m);if(I&&I.length>1){const D=I[1];let B=u[D];B||(u[D]=B=[]),B.push(N)}}const b=[];for(const x in u)b.push(this.CreateFromMorphTargetSequence(x,u[x],s,_));return b}static parseAnimation(e,s){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const _=function(I,D,B,U,X){if(B.length!==0){const ee=[],ue=[];Ys.flattenJSON(B,ee,ue,U),ee.length!==0&&X.push(new I(D,ee,ue))}},u=[],m=e.name||"default",b=e.fps||30,x=e.blendMode;let P=e.length||-1;const N=e.hierarchy||[];for(let I=0;I<N.length;I++){const D=N[I].keys;if(D&&D.length!==0)if(D[0].morphTargets){const B={};let U;for(U=0;U<D.length;U++)if(D[U].morphTargets)for(let X=0;X<D[U].morphTargets.length;X++)B[D[U].morphTargets[X]]=-1;for(const X in B){const ee=[],ue=[];for(let ie=0;ie!==D[U].morphTargets.length;++ie){const Ee=D[U];ee.push(Ee.time),ue.push(Ee.morphTarget===X?1:0)}u.push(new Qo(".morphTargetInfluence["+X+"]",ee,ue))}P=B.length*(b||1)}else{const B=".bones["+s[I].name+"]";_(vc,B+".position",D,"pos",u),_(O_,B+".quaternion",D,"rot",u),_(vc,B+".scale",D,"scl",u)}}return u.length===0?null:new this(m,P,u,x)}resetDuration(){let e=0;for(let s=0,_=this.tracks.length;s!==_;++s){const u=this.tracks[s];e=Math.max(e,u.times[u.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let s=0;s<this.tracks.length;s++)e=e&&this.tracks[s].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let s=0;s<this.tracks.length;s++)e.push(this.tracks[s].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function fl(T){if(T.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qo;case"vector":case"vector2":case"vector3":case"vector4":return vc;case"color":return Iu;case"quaternion":return O_;case"bool":case"boolean":return oa;case"string":return qs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}(T.type);if(T.times===void 0){const s=[],_=[];Ys.flattenJSON(T.keys,s,_,"value"),T.times=s,T.values=_}return e.parse!==void 0?e.parse(T):new e(T.name,T.times,T.values,T.interpolation)}const ku={enabled:!1,files:{},add:function(T,e){this.enabled!==!1&&(this.files[T]=e)},get:function(T){if(this.enabled!==!1)return this.files[T]},remove:function(T){delete this.files[T]},clear:function(){this.files={}}};class gd{constructor(e,s,_){const u=this;let m,b=!1,x=0,P=0;const N=[];this.onStart=void 0,this.onLoad=e,this.onProgress=s,this.onError=_,this.itemStart=function(I){P++,b===!1&&u.onStart!==void 0&&u.onStart(I,x,P),b=!0},this.itemEnd=function(I){x++,u.onProgress!==void 0&&u.onProgress(I,x,P),x===P&&(b=!1,u.onLoad!==void 0&&u.onLoad())},this.itemError=function(I){u.onError!==void 0&&u.onError(I)},this.resolveURL=function(I){return m?m(I):I},this.setURLModifier=function(I){return m=I,this},this.addHandler=function(I,D){return N.push(I,D),this},this.removeHandler=function(I){const D=N.indexOf(I);return D!==-1&&N.splice(D,2),this},this.getHandler=function(I){for(let D=0,B=N.length;D<B;D+=2){const U=N[D],X=N[D+1];if(U.global&&(U.lastIndex=0),U.test(I))return X}return null}}}const Td=new gd;class Pa{constructor(e){this.manager=e!==void 0?e:Td,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,s){const _=this;return new Promise(function(u,m){_.load(e,u,s,m)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Na={};class W0 extends Pa{constructor(e){super(e)}load(e,s,_,u){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const m=this,b=ku.get(e);if(b!==void 0)return m.manager.itemStart(e),setTimeout(function(){s&&s(b),m.manager.itemEnd(e)},0),b;if(Na[e]!==void 0)return void Na[e].push({onLoad:s,onProgress:_,onError:u});const x=e.match(/^data:(.*?)(;base64)?,(.*)$/);let P;if(x){const N=x[1],I=!!x[2];let D=x[3];D=decodeURIComponent(D),I&&(D=atob(D));try{let B;const U=(this.responseType||"").toLowerCase();switch(U){case"arraybuffer":case"blob":const X=new Uint8Array(D.length);for(let ue=0;ue<D.length;ue++)X[ue]=D.charCodeAt(ue);B=U==="blob"?new Blob([X.buffer],{type:N}):X.buffer;break;case"document":B=new DOMParser().parseFromString(D,N);break;case"json":B=JSON.parse(D);break;default:B=D}setTimeout(function(){s&&s(B),m.manager.itemEnd(e)},0)}catch(B){setTimeout(function(){u&&u(B),m.manager.itemError(e),m.manager.itemEnd(e)},0)}}else{Na[e]=[],Na[e].push({onLoad:s,onProgress:_,onError:u}),P=new XMLHttpRequest,P.open("GET",e,!0),P.addEventListener("load",function(N){const I=this.response,D=Na[e];if(delete Na[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),ku.add(e,I);for(let B=0,U=D.length;B<U;B++){const X=D[B];X.onLoad&&X.onLoad(I)}m.manager.itemEnd(e)}else{for(let B=0,U=D.length;B<U;B++){const X=D[B];X.onError&&X.onError(N)}m.manager.itemError(e),m.manager.itemEnd(e)}},!1),P.addEventListener("progress",function(N){const I=Na[e];for(let D=0,B=I.length;D<B;D++){const U=I[D];U.onProgress&&U.onProgress(N)}},!1),P.addEventListener("error",function(N){const I=Na[e];delete Na[e];for(let D=0,B=I.length;D<B;D++){const U=I[D];U.onError&&U.onError(N)}m.manager.itemError(e),m.manager.itemEnd(e)},!1),P.addEventListener("abort",function(N){const I=Na[e];delete Na[e];for(let D=0,B=I.length;D<B;D++){const U=I[D];U.onError&&U.onError(N)}m.manager.itemError(e),m.manager.itemEnd(e)},!1),this.responseType!==void 0&&(P.responseType=this.responseType),this.withCredentials!==void 0&&(P.withCredentials=this.withCredentials),P.overrideMimeType&&P.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const N in this.requestHeader)P.setRequestHeader(N,this.requestHeader[N]);P.send(null)}return m.manager.itemStart(e),P}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Sc extends Pa{constructor(e){super(e)}load(e,s,_,u){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const m=this,b=ku.get(e);if(b!==void 0)return m.manager.itemStart(e),setTimeout(function(){s&&s(b),m.manager.itemEnd(e)},0),b;const x=document.createElementNS("http://www.w3.org/1999/xhtml","img");function P(){x.removeEventListener("load",P,!1),x.removeEventListener("error",N,!1),ku.add(e,this),s&&s(this),m.manager.itemEnd(e)}function N(I){x.removeEventListener("load",P,!1),x.removeEventListener("error",N,!1),u&&u(I),m.manager.itemError(e),m.manager.itemEnd(e)}return x.addEventListener("load",P,!1),x.addEventListener("error",N,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(x.crossOrigin=this.crossOrigin),m.manager.itemStart(e),x.src=e,x}}class yd extends Pa{constructor(e){super(e)}load(e,s,_,u){const m=new a0,b=new Sc(this.manager);b.setCrossOrigin(this.crossOrigin),b.setPath(this.path);let x=0;function P(N){b.load(e[N],function(I){m.images[N]=I,x++,x===6&&(m.needsUpdate=!0,s&&s(m))},void 0,u)}for(let N=0;N<e.length;++N)P(N);return m}}class Ad extends Pa{constructor(e){super(e)}load(e,s,_,u){const m=this,b=new z,x=new W0(this.manager);return x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(m.withCredentials),x.load(e,function(P){const N=m.parse(P);N&&(N.image!==void 0?b.image=N.image:N.data!==void 0&&(b.image.width=N.width,b.image.height=N.height,b.image.data=N.data),b.wrapS=N.wrapS!==void 0?N.wrapS:1001,b.wrapT=N.wrapT!==void 0?N.wrapT:1001,b.magFilter=N.magFilter!==void 0?N.magFilter:1006,b.minFilter=N.minFilter!==void 0?N.minFilter:1006,b.anisotropy=N.anisotropy!==void 0?N.anisotropy:1,N.encoding!==void 0&&(b.encoding=N.encoding),N.flipY!==void 0&&(b.flipY=N.flipY),N.format!==void 0&&(b.format=N.format),N.type!==void 0&&(b.type=N.type),N.mipmaps!==void 0&&(b.mipmaps=N.mipmaps,b.minFilter=1008),N.mipmapCount===1&&(b.minFilter=1006),N.generateMipmaps!==void 0&&(b.generateMipmaps=N.generateMipmaps),b.needsUpdate=!0,s&&s(b,N))},_,u),b}}class D1 extends Pa{constructor(e){super(e)}load(e,s,_,u){const m=new es,b=new Sc(this.manager);return b.setCrossOrigin(this.crossOrigin),b.setPath(this.path),b.load(e,function(x){m.image=x;const P=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;m.format=P?1022:1023,m.needsUpdate=!0,s!==void 0&&s(m)},_,u),m}}class Dh extends go{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),s=this.curves[this.curves.length-1].getPoint(1);e.equals(s)||this.curves.push(new F0(s,e))}getPoint(e){const s=e*this.getLength(),_=this.getCurveLengths();let u=0;for(;u<_.length;){if(_[u]>=s){const m=_[u]-s,b=this.curves[u],x=b.getLength(),P=x===0?0:1-m/x;return b.getPointAt(P)}u++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let s=0;for(let _=0,u=this.curves.length;_<u;_++)s+=this.curves[_].getLength(),e.push(s);return this.cacheLengths=e,e}getSpacedPoints(e=40){const s=[];for(let _=0;_<=e;_++)s.push(this.getPoint(_/e));return this.autoClose&&s.push(s[0]),s}getPoints(e=12){const s=[];let _;for(let u=0,m=this.curves;u<m.length;u++){const b=m[u],x=b&&b.isEllipseCurve?2*e:b&&(b.isLineCurve||b.isLineCurve3)?1:b&&b.isSplineCurve?e*b.points.length:e,P=b.getPoints(x);for(let N=0;N<P.length;N++){const I=P[N];_&&_.equals(I)||(s.push(I),_=I)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s}copy(e){super.copy(e),this.curves=[];for(let s=0,_=e.curves.length;s<_;s++){const u=e.curves[s];this.curves.push(u.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let s=0,_=this.curves.length;s<_;s++){const u=this.curves[s];e.curves.push(u.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let s=0,_=e.curves.length;s<_;s++){const u=e.curves[s];this.curves.push(new O0[u.type]().fromJSON(u))}return this}}class Lu extends Dh{constructor(e){super(),this.type="Path",this.currentPoint=new Vi,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let s=1,_=e.length;s<_;s++)this.lineTo(e[s].x,e[s].y);return this}moveTo(e,s){return this.currentPoint.set(e,s),this}lineTo(e,s){const _=new F0(this.currentPoint.clone(),new Vi(e,s));return this.curves.push(_),this.currentPoint.set(e,s),this}quadraticCurveTo(e,s,_,u){const m=new Xr(this.currentPoint.clone(),new Vi(e,s),new Vi(_,u));return this.curves.push(m),this.currentPoint.set(_,u),this}bezierCurveTo(e,s,_,u,m,b){const x=new po(this.currentPoint.clone(),new Vi(e,s),new Vi(_,u),new Vi(m,b));return this.curves.push(x),this.currentPoint.set(m,b),this}splineThru(e){const s=[this.currentPoint.clone()].concat(e),_=new pc(s);return this.curves.push(_),this.currentPoint.copy(e[e.length-1]),this}arc(e,s,_,u,m,b){const x=this.currentPoint.x,P=this.currentPoint.y;return this.absarc(e+x,s+P,_,u,m,b),this}absarc(e,s,_,u,m,b){return this.absellipse(e,s,_,_,u,m,b),this}ellipse(e,s,_,u,m,b,x,P){const N=this.currentPoint.x,I=this.currentPoint.y;return this.absellipse(e+N,s+I,_,u,m,b,x,P),this}absellipse(e,s,_,u,m,b,x,P){const N=new Wa(e,s,_,u,m,b,x,P);if(this.curves.length>0){const D=N.getPoint(0);D.equals(this.currentPoint)||this.lineTo(D.x,D.y)}this.curves.push(N);const I=N.getPoint(1);return this.currentPoint.copy(I),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class jl extends Lu{constructor(e){super(e),this.uuid=zn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const s=[];for(let _=0,u=this.holes.length;_<u;_++)s[_]=this.holes[_].getPoints(e);return s}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let s=0,_=e.holes.length;s<_;s++){const u=e.holes[s];this.holes.push(u.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let s=0,_=this.holes.length;s<_;s++){const u=this.holes[s];e.holes.push(u.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let s=0,_=e.holes.length;s<_;s++){const u=e.holes[s];this.holes.push(new Lu().fromJSON(u))}return this}}class lo extends le{constructor(e,s=1){super(),this.type="Light",this.color=new Ki(e),this.intensity=s}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const s=super.toJSON(e);return s.object.color=this.color.getHex(),s.object.intensity=this.intensity,this.groundColor!==void 0&&(s.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(s.object.distance=this.distance),this.angle!==void 0&&(s.object.angle=this.angle),this.decay!==void 0&&(s.object.decay=this.decay),this.penumbra!==void 0&&(s.object.penumbra=this.penumbra),this.shadow!==void 0&&(s.object.shadow=this.shadow.toJSON()),s}}lo.prototype.isLight=!0;class Rh extends lo{constructor(e,s,_){super(e,_),this.type="HemisphereLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.groundColor=new Ki(s)}copy(e){return lo.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Rh.prototype.isHemisphereLight=!0;const R1=new Tn,bd=new Ue,H1=new Ue;class vd{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vi(512,512),this.map=null,this.mapPass=null,this.matrix=new Tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ol,this._frameExtents=new Vi(1,1),this._viewportCount=1,this._viewports=[new dr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const s=this.camera,_=this.matrix;bd.setFromMatrixPosition(e.matrixWorld),s.position.copy(bd),H1.setFromMatrixPosition(e.target.matrixWorld),s.lookAt(H1),s.updateMatrixWorld(),R1.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R1),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(s.projectionMatrix),_.multiply(s.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),this.mapSize.x===512&&this.mapSize.y===512||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Sd extends vd{constructor(){super(new ao(50,1,.5,500)),this.focus=1}updateMatrices(e){const s=this.camera,_=2*Hn*e.angle*this.focus,u=this.mapSize.width/this.mapSize.height,m=e.distance||s.far;_===s.fov&&u===s.aspect&&m===s.far||(s.fov=_,s.aspect=u,s.far=m,s.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Sd.prototype.isSpotLightShadow=!0;class Hh extends lo{constructor(e,s,_=0,u=Math.PI/3,m=0,b=1){super(e,s),this.type="SpotLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,this.distance=_,this.angle=u,this.penumbra=m,this.decay=b,this.shadow=new Sd}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Hh.prototype.isSpotLight=!0;const xd=new Tn,Du=new Ue,gl=new Ue;class Xa extends vd{constructor(){super(new ao(90,1,.5,500)),this._frameExtents=new Vi(4,2),this._viewportCount=6,this._viewports=[new dr(2,1,1,1),new dr(0,1,1,1),new dr(3,1,1,1),new dr(1,1,1,1),new dr(3,0,1,1),new dr(1,0,1,1)],this._cubeDirections=[new Ue(1,0,0),new Ue(-1,0,0),new Ue(0,0,1),new Ue(0,0,-1),new Ue(0,1,0),new Ue(0,-1,0)],this._cubeUps=[new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,1,0),new Ue(0,0,1),new Ue(0,0,-1)]}updateMatrices(e,s=0){const _=this.camera,u=this.matrix,m=e.distance||_.far;m!==_.far&&(_.far=m,_.updateProjectionMatrix()),Du.setFromMatrixPosition(e.matrixWorld),_.position.copy(Du),gl.copy(_.position),gl.add(this._cubeDirections[s]),_.up.copy(this._cubeUps[s]),_.lookAt(gl),_.updateMatrixWorld(),u.makeTranslation(-Du.x,-Du.y,-Du.z),xd.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xd)}}Xa.prototype.isPointLightShadow=!0;class Cd extends lo{constructor(e,s,_=0,u=1){super(e,s),this.type="PointLight",this.distance=_,this.decay=u,this.shadow=new Xa}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Cd.prototype.isPointLight=!0;class Fh extends vd{constructor(){super(new va(-5,5,5,-5,.5,500))}}Fh.prototype.isDirectionalLightShadow=!0;class Pd extends lo{constructor(e,s){super(e,s),this.type="DirectionalLight",this.position.copy(le.DefaultUp),this.updateMatrix(),this.target=new le,this.shadow=new Fh}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Pd.prototype.isDirectionalLight=!0;class Nd extends lo{constructor(e,s){super(e,s),this.type="AmbientLight"}}Nd.prototype.isAmbientLight=!0;class wd extends lo{constructor(e,s,_=10,u=10){super(e,s),this.type="RectAreaLight",this.width=_,this.height=u}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const s=super.toJSON(e);return s.object.width=this.width,s.object.height=this.height,s}}wd.prototype.isRectAreaLight=!0;class Ru{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ue)}set(e){for(let s=0;s<9;s++)this.coefficients[s].copy(e[s]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,s){const _=e.x,u=e.y,m=e.z,b=this.coefficients;return s.copy(b[0]).multiplyScalar(.282095),s.addScaledVector(b[1],.488603*u),s.addScaledVector(b[2],.488603*m),s.addScaledVector(b[3],.488603*_),s.addScaledVector(b[4],_*u*1.092548),s.addScaledVector(b[5],u*m*1.092548),s.addScaledVector(b[6],.315392*(3*m*m-1)),s.addScaledVector(b[7],_*m*1.092548),s.addScaledVector(b[8],.546274*(_*_-u*u)),s}getIrradianceAt(e,s){const _=e.x,u=e.y,m=e.z,b=this.coefficients;return s.copy(b[0]).multiplyScalar(.886227),s.addScaledVector(b[1],1.023328*u),s.addScaledVector(b[2],1.023328*m),s.addScaledVector(b[3],1.023328*_),s.addScaledVector(b[4],.858086*_*u),s.addScaledVector(b[5],.858086*u*m),s.addScaledVector(b[6],.743125*m*m-.247708),s.addScaledVector(b[7],.858086*_*m),s.addScaledVector(b[8],.429043*(_*_-u*u)),s}add(e){for(let s=0;s<9;s++)this.coefficients[s].add(e.coefficients[s]);return this}addScaledSH(e,s){for(let _=0;_<9;_++)this.coefficients[_].addScaledVector(e.coefficients[_],s);return this}scale(e){for(let s=0;s<9;s++)this.coefficients[s].multiplyScalar(e);return this}lerp(e,s){for(let _=0;_<9;_++)this.coefficients[_].lerp(e.coefficients[_],s);return this}equals(e){for(let s=0;s<9;s++)if(!this.coefficients[s].equals(e.coefficients[s]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,s=0){const _=this.coefficients;for(let u=0;u<9;u++)_[u].fromArray(e,s+3*u);return this}toArray(e=[],s=0){const _=this.coefficients;for(let u=0;u<9;u++)_[u].toArray(e,s+3*u);return e}static getBasisAt(e,s){const _=e.x,u=e.y,m=e.z;s[0]=.282095,s[1]=.488603*u,s[2]=.488603*m,s[3]=.488603*_,s[4]=1.092548*_*u,s[5]=1.092548*u*m,s[6]=.315392*(3*m*m-1),s[7]=1.092548*_*m,s[8]=.546274*(_*_-u*u)}}Ru.prototype.isSphericalHarmonics3=!0;class B_ extends lo{constructor(e=new Ru,s=1){super(void 0,s),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const s=super.toJSON(e);return s.object.sh=this.sh.toArray(),s}}B_.prototype.isLightProbe=!0;class Ed extends Pa{constructor(e){super(e),this.textures={}}load(e,s,_,u){const m=this,b=new W0(m.manager);b.setPath(m.path),b.setRequestHeader(m.requestHeader),b.setWithCredentials(m.withCredentials),b.load(e,function(x){try{s(m.parse(JSON.parse(x)))}catch(P){u?u(P):console.error(P),m.manager.itemError(e)}},_,u)}parse(e){const s=this.textures;function _(m){return s[m]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",m),s[m]}const u=new Zc[e.type];if(e.uuid!==void 0&&(u.uuid=e.uuid),e.name!==void 0&&(u.name=e.name),e.color!==void 0&&u.color!==void 0&&u.color.setHex(e.color),e.roughness!==void 0&&(u.roughness=e.roughness),e.metalness!==void 0&&(u.metalness=e.metalness),e.sheenTint!==void 0&&(u.sheenTint=new Ki().setHex(e.sheenTint)),e.emissive!==void 0&&u.emissive!==void 0&&u.emissive.setHex(e.emissive),e.specular!==void 0&&u.specular!==void 0&&u.specular.setHex(e.specular),e.specularIntensity!==void 0&&(u.specularIntensity=e.specularIntensity),e.specularTint!==void 0&&u.specularTint!==void 0&&u.specularTint.setHex(e.specularTint),e.shininess!==void 0&&(u.shininess=e.shininess),e.clearcoat!==void 0&&(u.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(u.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(u.transmission=e.transmission),e.thickness!==void 0&&(u.thickness=e.thickness),e.attenuationDistance!==void 0&&(u.attenuationDistance=e.attenuationDistance),e.attenuationTint!==void 0&&u.attenuationTint!==void 0&&u.attenuationTint.setHex(e.attenuationTint),e.fog!==void 0&&(u.fog=e.fog),e.flatShading!==void 0&&(u.flatShading=e.flatShading),e.blending!==void 0&&(u.blending=e.blending),e.combine!==void 0&&(u.combine=e.combine),e.side!==void 0&&(u.side=e.side),e.shadowSide!==void 0&&(u.shadowSide=e.shadowSide),e.opacity!==void 0&&(u.opacity=e.opacity),e.format!==void 0&&(u.format=e.format),e.transparent!==void 0&&(u.transparent=e.transparent),e.alphaTest!==void 0&&(u.alphaTest=e.alphaTest),e.depthTest!==void 0&&(u.depthTest=e.depthTest),e.depthWrite!==void 0&&(u.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(u.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(u.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(u.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(u.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(u.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(u.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(u.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(u.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(u.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(u.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(u.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(u.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(u.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(u.rotation=e.rotation),e.linewidth!==1&&(u.linewidth=e.linewidth),e.dashSize!==void 0&&(u.dashSize=e.dashSize),e.gapSize!==void 0&&(u.gapSize=e.gapSize),e.scale!==void 0&&(u.scale=e.scale),e.polygonOffset!==void 0&&(u.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(u.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(u.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(u.dithering=e.dithering),e.alphaToCoverage!==void 0&&(u.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(u.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(u.visible=e.visible),e.toneMapped!==void 0&&(u.toneMapped=e.toneMapped),e.userData!==void 0&&(u.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?u.vertexColors=e.vertexColors>0:u.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const m in e.uniforms){const b=e.uniforms[m];switch(u.uniforms[m]={},b.type){case"t":u.uniforms[m].value=_(b.value);break;case"c":u.uniforms[m].value=new Ki().setHex(b.value);break;case"v2":u.uniforms[m].value=new Vi().fromArray(b.value);break;case"v3":u.uniforms[m].value=new Ue().fromArray(b.value);break;case"v4":u.uniforms[m].value=new dr().fromArray(b.value);break;case"m3":u.uniforms[m].value=new Mr().fromArray(b.value);break;case"m4":u.uniforms[m].value=new Tn().fromArray(b.value);break;default:u.uniforms[m].value=b.value}}if(e.defines!==void 0&&(u.defines=e.defines),e.vertexShader!==void 0&&(u.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(u.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const m in e.extensions)u.extensions[m]=e.extensions[m];if(e.shading!==void 0&&(u.flatShading=e.shading===1),e.size!==void 0&&(u.size=e.size),e.sizeAttenuation!==void 0&&(u.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(u.map=_(e.map)),e.matcap!==void 0&&(u.matcap=_(e.matcap)),e.alphaMap!==void 0&&(u.alphaMap=_(e.alphaMap)),e.bumpMap!==void 0&&(u.bumpMap=_(e.bumpMap)),e.bumpScale!==void 0&&(u.bumpScale=e.bumpScale),e.normalMap!==void 0&&(u.normalMap=_(e.normalMap)),e.normalMapType!==void 0&&(u.normalMapType=e.normalMapType),e.normalScale!==void 0){let m=e.normalScale;Array.isArray(m)===!1&&(m=[m,m]),u.normalScale=new Vi().fromArray(m)}return e.displacementMap!==void 0&&(u.displacementMap=_(e.displacementMap)),e.displacementScale!==void 0&&(u.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(u.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(u.roughnessMap=_(e.roughnessMap)),e.metalnessMap!==void 0&&(u.metalnessMap=_(e.metalnessMap)),e.emissiveMap!==void 0&&(u.emissiveMap=_(e.emissiveMap)),e.emissiveIntensity!==void 0&&(u.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(u.specularMap=_(e.specularMap)),e.specularIntensityMap!==void 0&&(u.specularIntensityMap=_(e.specularIntensityMap)),e.specularTintMap!==void 0&&(u.specularTintMap=_(e.specularTintMap)),e.envMap!==void 0&&(u.envMap=_(e.envMap)),e.envMapIntensity!==void 0&&(u.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(u.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(u.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(u.lightMap=_(e.lightMap)),e.lightMapIntensity!==void 0&&(u.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(u.aoMap=_(e.aoMap)),e.aoMapIntensity!==void 0&&(u.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(u.gradientMap=_(e.gradientMap)),e.clearcoatMap!==void 0&&(u.clearcoatMap=_(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(u.clearcoatRoughnessMap=_(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(u.clearcoatNormalMap=_(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(u.clearcoatNormalScale=new Vi().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(u.transmissionMap=_(e.transmissionMap)),e.thicknessMap!==void 0&&(u.thicknessMap=_(e.thicknessMap)),u}setTextures(e){return this.textures=e,this}}class Yl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let s="";for(let _=0,u=e.length;_<u;_++)s+=String.fromCharCode(e[_]);try{return decodeURIComponent(escape(s))}catch{return s}}static extractUrlBase(e){const s=e.lastIndexOf("/");return s===-1?"./":e.substr(0,s+1)}}class Hu extends mr{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Hu.prototype.isInstancedBufferGeometry=!0;class F1 extends Pa{constructor(e){super(e)}load(e,s,_,u){const m=this,b=new W0(m.manager);b.setPath(m.path),b.setRequestHeader(m.requestHeader),b.setWithCredentials(m.withCredentials),b.load(e,function(x){try{s(m.parse(JSON.parse(x)))}catch(P){u?u(P):console.error(P),m.manager.itemError(e)}},_,u)}parse(e){const s={},_={};function u(D,B){if(s[B]!==void 0)return s[B];const U=D.interleavedBuffers[B],X=function(ie,Ee){if(_[Ee]!==void 0)return _[Ee];const We=ie.arrayBuffers[Ee],Re=new Uint32Array(We).buffer;return _[Ee]=Re,Re}(D,U.buffer),ee=ga(U.type,X),ue=new Pi(ee,U.stride);return ue.uuid=U.uuid,s[B]=ue,ue}const m=e.isInstancedBufferGeometry?new Hu:new mr,b=e.data.index;if(b!==void 0){const D=ga(b.type,b.array);m.setIndex(new or(D,1))}const x=e.data.attributes;for(const D in x){const B=x[D];let U;if(B.isInterleavedBufferAttribute){const X=u(e.data,B.data);U=new kt(X,B.itemSize,B.offset,B.normalized)}else{const X=ga(B.type,B.array);U=new(B.isInstancedBufferAttribute?St:or)(X,B.itemSize,B.normalized)}B.name!==void 0&&(U.name=B.name),B.usage!==void 0&&U.setUsage(B.usage),B.updateRange!==void 0&&(U.updateRange.offset=B.updateRange.offset,U.updateRange.count=B.updateRange.count),m.setAttribute(D,U)}const P=e.data.morphAttributes;if(P)for(const D in P){const B=P[D],U=[];for(let X=0,ee=B.length;X<ee;X++){const ue=B[X];let ie;if(ue.isInterleavedBufferAttribute){const Ee=u(e.data,ue.data);ie=new kt(Ee,ue.itemSize,ue.offset,ue.normalized)}else{const Ee=ga(ue.type,ue.array);ie=new or(Ee,ue.itemSize,ue.normalized)}ue.name!==void 0&&(ie.name=ue.name),U.push(ie)}m.morphAttributes[D]=U}e.data.morphTargetsRelative&&(m.morphTargetsRelative=!0);const N=e.data.groups||e.data.drawcalls||e.data.offsets;if(N!==void 0)for(let D=0,B=N.length;D!==B;++D){const U=N[D];m.addGroup(U.start,U.count,U.materialIndex)}const I=e.data.boundingSphere;if(I!==void 0){const D=new Ue;I.center!==void 0&&D.fromArray(I.center),m.boundingSphere=new Gr(D,I.radius)}return e.name&&(m.name=e.name),e.userData&&(m.userData=e.userData),m}}const Pp={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},O1={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},B1={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};class G1 extends Pa{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,s,_,u){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const m=this,b=ku.get(e);if(b!==void 0)return m.manager.itemStart(e),setTimeout(function(){s&&s(b),m.manager.itemEnd(e)},0),b;const x={};x.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",x.headers=this.requestHeader,fetch(e,x).then(function(P){return P.blob()}).then(function(P){return createImageBitmap(P,Object.assign(m.options,{colorSpaceConversion:"none"}))}).then(function(P){ku.add(e,P),s&&s(P),m.manager.itemEnd(e)}).catch(function(P){u&&u(P),m.manager.itemError(e),m.manager.itemEnd(e)}),m.manager.itemStart(e)}}G1.prototype.isImageBitmapLoader=!0;class W1{constructor(){this.type="ShapePath",this.color=new Ki,this.subPaths=[],this.currentPath=null}moveTo(e,s){return this.currentPath=new Lu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,s),this}lineTo(e,s){return this.currentPath.lineTo(e,s),this}quadraticCurveTo(e,s,_,u){return this.currentPath.quadraticCurveTo(e,s,_,u),this}bezierCurveTo(e,s,_,u,m,b){return this.currentPath.bezierCurveTo(e,s,_,u,m,b),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,s){function _(Ee){const We=[];for(let Re=0,et=Ee.length;Re<et;Re++){const ct=Ee[Re],Ft=new jl;Ft.curves=ct.curves,We.push(Ft)}return We}function u(Ee,We){const Re=We.length;let et=!1;for(let ct=Re-1,Ft=0;Ft<Re;ct=Ft++){let Ut=We[ct],yi=We[Ft],ai=yi.x-Ut.x,hi=yi.y-Ut.y;if(Math.abs(hi)>Number.EPSILON){if(hi<0&&(Ut=We[Ft],ai=-ai,yi=We[ct],hi=-hi),Ee.y<Ut.y||Ee.y>yi.y)continue;if(Ee.y===Ut.y){if(Ee.x===Ut.x)return!0}else{const Cn=hi*(Ee.x-Ut.x)-ai*(Ee.y-Ut.y);if(Cn===0)return!0;if(Cn<0)continue;et=!et}}else{if(Ee.y!==Ut.y)continue;if(yi.x<=Ee.x&&Ee.x<=Ut.x||Ut.x<=Ee.x&&Ee.x<=yi.x)return!0}}return et}const m=Vl.isClockWise,b=this.subPaths;if(b.length===0)return[];if(s===!0)return _(b);let x,P,N;const I=[];if(b.length===1)return P=b[0],N=new jl,N.curves=P.curves,I.push(N),I;let D=!m(b[0].getPoints());D=e?!D:D;const B=[],U=[];let X,ee,ue=[],ie=0;U[ie]=void 0,ue[ie]=[];for(let Ee=0,We=b.length;Ee<We;Ee++)P=b[Ee],X=P.getPoints(),x=m(X),x=e?!x:x,x?(!D&&U[ie]&&ie++,U[ie]={s:new jl,p:X},U[ie].s.curves=P.curves,D&&ie++,ue[ie]=[]):ue[ie].push({h:P,p:X[0]});if(!U[0])return _(b);if(U.length>1){let Ee=!1;const We=[];for(let Re=0,et=U.length;Re<et;Re++)B[Re]=[];for(let Re=0,et=U.length;Re<et;Re++){const ct=ue[Re];for(let Ft=0;Ft<ct.length;Ft++){const Ut=ct[Ft];let yi=!0;for(let ai=0;ai<U.length;ai++)u(Ut.p,U[ai].p)&&(Re!==ai&&We.push({froms:Re,tos:ai,hole:Ft}),yi?(yi=!1,B[ai].push(Ut)):Ee=!0);yi&&B[Re].push(Ut)}}We.length>0&&(Ee||(ue=B))}for(let Ee=0,We=U.length;Ee<We;Ee++){N=U[Ee].s,I.push(N),ee=ue[Ee];for(let Re=0,et=ee.length;Re<et;Re++)N.holes.push(ee[Re].h)}return I}}class Md{constructor(e){this.type="Font",this.data=e}generateShapes(e,s=100){const _=[],u=function(m,b,x){const P=Array.from(m),N=b/x.resolution,I=(x.boundingBox.yMax-x.boundingBox.yMin+x.underlineThickness)*N,D=[];let B=0,U=0;for(let X=0;X<P.length;X++){const ee=P[X];if(ee===`
`)B=0,U-=I;else{const ue=Id(ee,N,B,U,x);B+=ue.offsetX,D.push(ue.path)}}return D}(e,s,this.data);for(let m=0,b=u.length;m<b;m++)Array.prototype.push.apply(_,u[m].toShapes());return _}}function Id(T,e,s,_,u){const m=u.glyphs[T]||u.glyphs["?"];if(!m)return void console.error('THREE.Font: character "'+T+'" does not exists in font family '+u.familyName+".");const b=new W1;let x,P,N,I,D,B,U,X;if(m.o){const ee=m._cachedOutline||(m._cachedOutline=m.o.split(" "));for(let ue=0,ie=ee.length;ue<ie;)switch(ee[ue++]){case"m":x=ee[ue++]*e+s,P=ee[ue++]*e+_,b.moveTo(x,P);break;case"l":x=ee[ue++]*e+s,P=ee[ue++]*e+_,b.lineTo(x,P);break;case"q":N=ee[ue++]*e+s,I=ee[ue++]*e+_,D=ee[ue++]*e+s,B=ee[ue++]*e+_,b.quadraticCurveTo(D,B,N,I);break;case"b":N=ee[ue++]*e+s,I=ee[ue++]*e+_,D=ee[ue++]*e+s,B=ee[ue++]*e+_,U=ee[ue++]*e+s,X=ee[ue++]*e+_,b.bezierCurveTo(D,B,U,X,N,I)}}return{offsetX:m.ha*e,path:b}}Md.prototype.isFont=!0;let Oh;const G_={getContext:function(){return Oh===void 0&&(Oh=new(window.AudioContext||window.webkitAudioContext)),Oh},setContext:function(T){Oh=T}};class U1 extends Pa{constructor(e){super(e)}load(e,s,_,u){const m=this,b=new W0(this.manager);b.setResponseType("arraybuffer"),b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(e,function(x){try{const P=x.slice(0);G_.getContext().decodeAudioData(P,function(N){s(N)})}catch(P){u?u(P):console.error(P),m.manager.itemError(e)}},_,u)}}class To extends B_{constructor(e,s,_=1){super(void 0,_);const u=new Ki().set(e),m=new Ki().set(s),b=new Ue(u.r,u.g,u.b),x=new Ue(m.r,m.g,m.b),P=Math.sqrt(Math.PI),N=P*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(x).multiplyScalar(P),this.sh.coefficients[1].copy(b).sub(x).multiplyScalar(N)}}To.prototype.isHemisphereLightProbe=!0;class Xc extends B_{constructor(e,s=1){super(void 0,s);const _=new Ki().set(e);this.sh.coefficients[0].set(_.r,_.g,_.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Xc.prototype.isAmbientLightProbe=!0;const kd=new Tn,Kc=new Tn;class Qc{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const s=xc();e=(s-this.oldTime)/1e3,this.oldTime=s,this.elapsedTime+=e}return e}}function xc(){return(typeof performance>"u"?Date:performance).now()}const W_=new Ue,Ld=new vs,eh=new Ue,T_=new Ue;class th extends le{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const s=this.context.createBufferSource();return s.buffer=this.buffer,s.loop=this.loop,s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.onended=this.onEnded.bind(this),s.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=s,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl!==!1)return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(this.hasPlaybackControl!==!1)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl!==!1)return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl!==!1)return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fu=new Ue,Dd=new vs,ih=new Ue,Ou=new Ue;class Bh{constructor(e,s=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=s,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const s=this.getFrequencyData();for(let _=0;_<s.length;_++)e+=s[_];return e/s.length}}class z1{constructor(e,s,_){let u,m,b;switch(this.binding=e,this.valueSize=_,s){case"quaternion":u=this._slerp,m=this._slerpAdditive,b=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*_),this._workIndex=5;break;case"string":case"bool":u=this._select,m=this._select,b=this._setAdditiveIdentityOther,this.buffer=new Array(5*_);break;default:u=this._lerp,m=this._lerpAdditive,b=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*_)}this._mixBufferRegion=u,this._mixBufferRegionAdditive=m,this._setIdentity=b,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,s){const _=this.buffer,u=this.valueSize,m=e*u+u;let b=this.cumulativeWeight;if(b===0){for(let x=0;x!==u;++x)_[m+x]=_[x];b=s}else{b+=s;const x=s/b;this._mixBufferRegion(_,m,0,x,u)}this.cumulativeWeight=b}accumulateAdditive(e){const s=this.buffer,_=this.valueSize,u=_*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(s,u,0,e,_),this.cumulativeWeightAdditive+=e}apply(e){const s=this.valueSize,_=this.buffer,u=e*s+s,m=this.cumulativeWeight,b=this.cumulativeWeightAdditive,x=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,m<1){const P=s*this._origIndex;this._mixBufferRegion(_,u,P,1-m,s)}b>0&&this._mixBufferRegionAdditive(_,u,this._addIndex*s,1,s);for(let P=s,N=s+s;P!==N;++P)if(_[P]!==_[P+s]){x.setValue(_,u);break}}saveOriginalState(){const e=this.binding,s=this.buffer,_=this.valueSize,u=_*this._origIndex;e.getValue(s,u);for(let m=_,b=u;m!==b;++m)s[m]=s[u+m%_];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,s=e+this.valueSize;for(let _=e;_<s;_++)this.buffer[_]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,s=this._addIndex*this.valueSize;for(let _=0;_<this.valueSize;_++)this.buffer[s+_]=this.buffer[e+_]}_select(e,s,_,u,m){if(u>=.5)for(let b=0;b!==m;++b)e[s+b]=e[_+b]}_slerp(e,s,_,u){vs.slerpFlat(e,s,e,s,e,_,u)}_slerpAdditive(e,s,_,u,m){const b=this._workIndex*m;vs.multiplyQuaternionsFlat(e,b,e,s,e,_),vs.slerpFlat(e,s,e,s,e,b,u)}_lerp(e,s,_,u,m){const b=1-u;for(let x=0;x!==m;++x){const P=s+x;e[P]=e[P]*b+e[_+x]*u}}_lerpAdditive(e,s,_,u,m){for(let b=0;b!==m;++b){const x=s+b;e[x]=e[x]+e[_+b]*u}}}const Rd="\\[\\]\\.:\\/",Hd=new RegExp("[\\[\\]\\.:\\/]","g"),Cc="[^\\[\\]\\.:\\/]",Np="[^"+Rd.replace("\\.","")+"]",wp=/((?:WC+[\/:])*)/.source.replace("WC",Cc),Ep=/(WCOD+)?/.source.replace("WCOD",Np),Mp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Cc),Ip=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Cc),kp=new RegExp("^"+wp+Ep+Mp+Ip+"$"),Gh=["material","materials","bones"];class Ls{constructor(e,s,_){this.path=s,this.parsedPath=_||Ls.parseTrackName(s),this.node=Ls.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,s,_){return e&&e.isAnimationObjectGroup?new Ls.Composite(e,s,_):new Ls(e,s,_)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Hd,"")}static parseTrackName(e){const s=kp.exec(e);if(!s)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const _={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},u=_.nodeName&&_.nodeName.lastIndexOf(".");if(u!==void 0&&u!==-1){const m=_.nodeName.substring(u+1);Gh.indexOf(m)!==-1&&(_.nodeName=_.nodeName.substring(0,u),_.objectName=m)}if(_.propertyName===null||_.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return _}static findNode(e,s){if(!s||s===""||s==="."||s===-1||s===e.name||s===e.uuid)return e;if(e.skeleton){const _=e.skeleton.getBoneByName(s);if(_!==void 0)return _}if(e.children){const _=function(m){for(let b=0;b<m.length;b++){const x=m[b];if(x.name===s||x.uuid===s)return x;const P=_(x.children);if(P)return P}return null},u=_(e.children);if(u)return u}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,s){e[s]=this.targetObject[this.propertyName]}_getValue_array(e,s){const _=this.resolvedProperty;for(let u=0,m=_.length;u!==m;++u)e[s++]=_[u]}_getValue_arrayElement(e,s){e[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,s){this.resolvedProperty.toArray(e,s)}_setValue_direct(e,s){this.targetObject[this.propertyName]=e[s]}_setValue_direct_setNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,s){const _=this.resolvedProperty;for(let u=0,m=_.length;u!==m;++u)_[u]=e[s++]}_setValue_array_setNeedsUpdate(e,s){const _=this.resolvedProperty;for(let u=0,m=_.length;u!==m;++u)_[u]=e[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,s){const _=this.resolvedProperty;for(let u=0,m=_.length;u!==m;++u)_[u]=e[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,s){this.resolvedProperty[this.propertyIndex]=e[s]}_setValue_arrayElement_setNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,s){this.resolvedProperty.fromArray(e,s)}_setValue_fromArray_setNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,s){this.bind(),this.getValue(e,s)}_setValue_unbound(e,s){this.bind(),this.setValue(e,s)}bind(){let e=this.node;const s=this.parsedPath,_=s.objectName,u=s.propertyName;let m=s.propertyIndex;if(e||(e=Ls.findNode(this.rootNode,s.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(_){let N=s.objectIndex;switch(_){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let I=0;I<e.length;I++)if(e[I].name===N){N=I;break}break;default:if(e[_]===void 0)return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[_]}if(N!==void 0){if(e[N]===void 0)return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[N]}}const b=e[u];if(b===void 0){const N=s.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+N+"."+u+" but it wasn't found.",e)}let x=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?x=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(x=this.Versioning.MatrixWorldNeedsUpdate);let P=this.BindingType.Direct;if(m!==void 0){if(u==="morphTargetInfluences"){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);e.morphTargetDictionary[m]!==void 0&&(m=e.morphTargetDictionary[m])}P=this.BindingType.ArrayElement,this.resolvedProperty=b,this.propertyIndex=m}else b.fromArray!==void 0&&b.toArray!==void 0?(P=this.BindingType.HasFromToArray,this.resolvedProperty=b):Array.isArray(b)?(P=this.BindingType.EntireArray,this.resolvedProperty=b):this.propertyName=u;this.getValue=this.GetterByBindingType[P],this.setValue=this.SetterByBindingTypeAndVersioning[P][x]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ls.Composite=class{constructor(T,e,s){const _=s||Ls.parseTrackName(e);this._targetGroup=T,this._bindings=T.subscribe_(e,_)}getValue(T,e){this.bind();const s=this._targetGroup.nCachedObjects_,_=this._bindings[s];_!==void 0&&_.getValue(T,e)}setValue(T,e){const s=this._bindings;for(let _=this._targetGroup.nCachedObjects_,u=s.length;_!==u;++_)s[_].setValue(T,e)}bind(){const T=this._bindings;for(let e=this._targetGroup.nCachedObjects_,s=T.length;e!==s;++e)T[e].bind()}unbind(){const T=this._bindings;for(let e=this._targetGroup.nCachedObjects_,s=T.length;e!==s;++e)T[e].unbind()}},Ls.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ls.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ls.prototype.GetterByBindingType=[Ls.prototype._getValue_direct,Ls.prototype._getValue_array,Ls.prototype._getValue_arrayElement,Ls.prototype._getValue_toArray],Ls.prototype.SetterByBindingTypeAndVersioning=[[Ls.prototype._setValue_direct,Ls.prototype._setValue_direct_setNeedsUpdate,Ls.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ls.prototype._setValue_array,Ls.prototype._setValue_array_setNeedsUpdate,Ls.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ls.prototype._setValue_arrayElement,Ls.prototype._setValue_arrayElement_setNeedsUpdate,Ls.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ls.prototype._setValue_fromArray,Ls.prototype._setValue_fromArray_setNeedsUpdate,Ls.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Fd{constructor(){this.uuid=zn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let _=0,u=arguments.length;_!==u;++_)e[arguments[_].uuid]=_;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}add(){const e=this._objects,s=this._indicesByUUID,_=this._paths,u=this._parsedPaths,m=this._bindings,b=m.length;let x,P=e.length,N=this.nCachedObjects_;for(let I=0,D=arguments.length;I!==D;++I){const B=arguments[I],U=B.uuid;let X=s[U];if(X===void 0){X=P++,s[U]=X,e.push(B);for(let ee=0,ue=b;ee!==ue;++ee)m[ee].push(new Ls(B,_[ee],u[ee]))}else if(X<N){x=e[X];const ee=--N,ue=e[ee];s[ue.uuid]=X,e[X]=ue,s[U]=ee,e[ee]=B;for(let ie=0,Ee=b;ie!==Ee;++ie){const We=m[ie],Re=We[ee];let et=We[X];We[X]=Re,et===void 0&&(et=new Ls(B,_[ie],u[ie])),We[ee]=et}}else e[X]!==x&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=N}remove(){const e=this._objects,s=this._indicesByUUID,_=this._bindings,u=_.length;let m=this.nCachedObjects_;for(let b=0,x=arguments.length;b!==x;++b){const P=arguments[b],N=P.uuid,I=s[N];if(I!==void 0&&I>=m){const D=m++,B=e[D];s[B.uuid]=I,e[I]=B,s[N]=D,e[D]=P;for(let U=0,X=u;U!==X;++U){const ee=_[U],ue=ee[D],ie=ee[I];ee[I]=ue,ee[D]=ie}}}this.nCachedObjects_=m}uncache(){const e=this._objects,s=this._indicesByUUID,_=this._bindings,u=_.length;let m=this.nCachedObjects_,b=e.length;for(let x=0,P=arguments.length;x!==P;++x){const N=arguments[x].uuid,I=s[N];if(I!==void 0)if(delete s[N],I<m){const D=--m,B=e[D],U=--b,X=e[U];s[B.uuid]=I,e[I]=B,s[X.uuid]=D,e[D]=X,e.pop();for(let ee=0,ue=u;ee!==ue;++ee){const ie=_[ee],Ee=ie[D],We=ie[U];ie[I]=Ee,ie[D]=We,ie.pop()}}else{const D=--b,B=e[D];D>0&&(s[B.uuid]=I),e[I]=B,e.pop();for(let U=0,X=u;U!==X;++U){const ee=_[U];ee[I]=ee[D],ee.pop()}}}this.nCachedObjects_=m}subscribe_(e,s){const _=this._bindingsIndicesByPath;let u=_[e];const m=this._bindings;if(u!==void 0)return m[u];const b=this._paths,x=this._parsedPaths,P=this._objects,N=P.length,I=this.nCachedObjects_,D=new Array(N);u=m.length,_[e]=u,b.push(e),x.push(s),m.push(D);for(let B=I,U=P.length;B!==U;++B){const X=P[B];D[B]=new Ls(X,e,s)}return D}unsubscribe_(e){const s=this._bindingsIndicesByPath,_=s[e];if(_!==void 0){const u=this._paths,m=this._parsedPaths,b=this._bindings,x=b.length-1,P=b[x];s[e[x]]=_,b[_]=P,b.pop(),m[_]=m[x],m.pop(),u[_]=u[x],u.pop()}}}Fd.prototype.isAnimationObjectGroup=!0;class Pc{constructor(e,s,_=null,u=s.blendMode){this._mixer=e,this._clip=s,this._localRoot=_,this.blendMode=u;const m=s.tracks,b=m.length,x=new Array(b),P={endingStart:2400,endingEnd:2400};for(let N=0;N!==b;++N){const I=m[N].createInterpolant(null);x[N]=I,I.settings=P}this._interpolantSettings=P,this._interpolants=x,this._propertyBindings=new Array(b),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,s){return this.loop=e,this.repetitions=s,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,s,_){if(e.fadeOut(s),this.fadeIn(s),_){const u=this._clip.duration,m=e._clip.duration,b=m/u,x=u/m;e.warp(1,b,s),this.warp(x,1,s)}return this}crossFadeTo(e,s,_){return e.crossFadeFrom(this,s,_)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,s,_){const u=this._mixer,m=u.time,b=this.timeScale;let x=this._timeScaleInterpolant;x===null&&(x=u._lendControlInterpolant(),this._timeScaleInterpolant=x);const P=x.parameterPositions,N=x.sampleValues;return P[0]=m,P[1]=m+_,N[0]=e/b,N[1]=s/b,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,s,_,u){if(!this.enabled)return void this._updateWeight(e);const m=this._startTime;if(m!==null){const P=(e-m)*_;if(P<0||_===0)return;this._startTime=null,s=_*P}s*=this._updateTimeScale(e);const b=this._updateTime(s),x=this._updateWeight(e);if(x>0){const P=this._interpolants,N=this._propertyBindings;switch(this.blendMode){case 2501:for(let I=0,D=P.length;I!==D;++I)P[I].evaluate(b),N[I].accumulateAdditive(x);break;case 2500:default:for(let I=0,D=P.length;I!==D;++I)P[I].evaluate(b),N[I].accumulate(u,x)}}}_updateWeight(e){let s=0;if(this.enabled){s=this.weight;const _=this._weightInterpolant;if(_!==null){const u=_.evaluate(e)[0];s*=u,e>_.parameterPositions[1]&&(this.stopFading(),u===0&&(this.enabled=!1))}}return this._effectiveWeight=s,s}_updateTimeScale(e){let s=0;if(!this.paused){s=this.timeScale;const _=this._timeScaleInterpolant;_!==null&&(s*=_.evaluate(e)[0],e>_.parameterPositions[1]&&(this.stopWarping(),s===0?this.paused=!0:this.timeScale=s))}return this._effectiveTimeScale=s,s}_updateTime(e){const s=this._clip.duration,_=this.loop;let u=this.time+e,m=this._loopCount;const b=_===2202;if(e===0)return m===-1?u:b&&(1&m)==1?s-u:u;if(_===2200){m===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(u>=s)u=s;else{if(!(u<0)){this.time=u;break e}u=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=u,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(m===-1&&(e>=0?(m=0,this._setEndings(!0,this.repetitions===0,b)):this._setEndings(this.repetitions===0,!0,b)),u>=s||u<0){const x=Math.floor(u/s);u-=s*x,m+=Math.abs(x);const P=this.repetitions-m;if(P<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,u=e>0?s:0,this.time=u,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(P===1){const N=e<0;this._setEndings(N,!N,b)}else this._setEndings(!1,!1,b);this._loopCount=m,this.time=u,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:x})}}else this.time=u;if(b&&(1&m)==1)return s-u}return u}_setEndings(e,s,_){const u=this._interpolantSettings;_?(u.endingStart=2401,u.endingEnd=2401):(u.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,u.endingEnd=s?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,s,_){const u=this._mixer,m=u.time;let b=this._weightInterpolant;b===null&&(b=u._lendControlInterpolant(),this._weightInterpolant=b);const x=b.parameterPositions,P=b.sampleValues;return x[0]=m,P[0]=s,x[1]=m+e,P[1]=_,this}}class V1 extends ii{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,s){const _=e._localRoot||this._root,u=e._clip.tracks,m=u.length,b=e._propertyBindings,x=e._interpolants,P=_.uuid,N=this._bindingsByRootAndName;let I=N[P];I===void 0&&(I={},N[P]=I);for(let D=0;D!==m;++D){const B=u[D],U=B.name;let X=I[U];if(X!==void 0)b[D]=X;else{if(X=b[D],X!==void 0){X._cacheIndex===null&&(++X.referenceCount,this._addInactiveBinding(X,P,U));continue}const ee=s&&s._propertyBindings[D].binding.parsedPath;X=new z1(Ls.create(_,U,ee),B.ValueTypeName,B.getValueSize()),++X.referenceCount,this._addInactiveBinding(X,P,U),b[D]=X}x[D].resultBuffer=X.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const _=(e._localRoot||this._root).uuid,u=e._clip.uuid,m=this._actionsByClip[u];this._bindAction(e,m&&m.knownActions[0]),this._addInactiveAction(e,u,_)}const s=e._propertyBindings;for(let _=0,u=s.length;_!==u;++_){const m=s[_];m.useCount++==0&&(this._lendBinding(m),m.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const s=e._propertyBindings;for(let _=0,u=s.length;_!==u;++_){const m=s[_];--m.useCount==0&&(m.restoreOriginalState(),this._takeBackBinding(m))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const s=e._cacheIndex;return s!==null&&s<this._nActiveActions}_addInactiveAction(e,s,_){const u=this._actions,m=this._actionsByClip;let b=m[s];if(b===void 0)b={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,m[s]=b;else{const x=b.knownActions;e._byClipCacheIndex=x.length,x.push(e)}e._cacheIndex=u.length,u.push(e),b.actionByRoot[_]=e}_removeInactiveAction(e){const s=this._actions,_=s[s.length-1],u=e._cacheIndex;_._cacheIndex=u,s[u]=_,s.pop(),e._cacheIndex=null;const m=e._clip.uuid,b=this._actionsByClip,x=b[m],P=x.knownActions,N=P[P.length-1],I=e._byClipCacheIndex;N._byClipCacheIndex=I,P[I]=N,P.pop(),e._byClipCacheIndex=null,delete x.actionByRoot[(e._localRoot||this._root).uuid],P.length===0&&delete b[m],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const s=e._propertyBindings;for(let _=0,u=s.length;_!==u;++_){const m=s[_];--m.referenceCount==0&&this._removeInactiveBinding(m)}}_lendAction(e){const s=this._actions,_=e._cacheIndex,u=this._nActiveActions++,m=s[u];e._cacheIndex=u,s[u]=e,m._cacheIndex=_,s[_]=m}_takeBackAction(e){const s=this._actions,_=e._cacheIndex,u=--this._nActiveActions,m=s[u];e._cacheIndex=u,s[u]=e,m._cacheIndex=_,s[_]=m}_addInactiveBinding(e,s,_){const u=this._bindingsByRootAndName,m=this._bindings;let b=u[s];b===void 0&&(b={},u[s]=b),b[_]=e,e._cacheIndex=m.length,m.push(e)}_removeInactiveBinding(e){const s=this._bindings,_=e.binding,u=_.rootNode.uuid,m=_.path,b=this._bindingsByRootAndName,x=b[u],P=s[s.length-1],N=e._cacheIndex;P._cacheIndex=N,s[N]=P,s.pop(),delete x[m],Object.keys(x).length===0&&delete b[u]}_lendBinding(e){const s=this._bindings,_=e._cacheIndex,u=this._nActiveBindings++,m=s[u];e._cacheIndex=u,s[u]=e,m._cacheIndex=_,s[_]=m}_takeBackBinding(e){const s=this._bindings,_=e._cacheIndex,u=--this._nActiveBindings,m=s[u];e._cacheIndex=u,s[u]=e,m._cacheIndex=_,s[_]=m}_lendControlInterpolant(){const e=this._controlInterpolants,s=this._nActiveControlInterpolants++;let _=e[s];return _===void 0&&(_=new Lh(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),_.__cacheIndex=s,e[s]=_),_}_takeBackControlInterpolant(e){const s=this._controlInterpolants,_=e.__cacheIndex,u=--this._nActiveControlInterpolants,m=s[u];e.__cacheIndex=u,s[u]=e,m.__cacheIndex=_,s[_]=m}clipAction(e,s,_){const u=s||this._root,m=u.uuid;let b=typeof e=="string"?g_.findByName(u,e):e;const x=b!==null?b.uuid:e,P=this._actionsByClip[x];let N=null;if(_===void 0&&(_=b!==null?b.blendMode:2500),P!==void 0){const D=P.actionByRoot[m];if(D!==void 0&&D.blendMode===_)return D;N=P.knownActions[0],b===null&&(b=N._clip)}if(b===null)return null;const I=new Pc(this,b,s,_);return this._bindAction(I,N),this._addInactiveAction(I,x,m),I}existingAction(e,s){const _=s||this._root,u=_.uuid,m=typeof e=="string"?g_.findByName(_,e):e,b=m?m.uuid:e,x=this._actionsByClip[b];return x!==void 0&&x.actionByRoot[u]||null}stopAllAction(){const e=this._actions;for(let s=this._nActiveActions-1;s>=0;--s)e[s].stop();return this}update(e){e*=this.timeScale;const s=this._actions,_=this._nActiveActions,u=this.time+=e,m=Math.sign(e),b=this._accuIndex^=1;for(let N=0;N!==_;++N)s[N]._update(u,e,m,b);const x=this._bindings,P=this._nActiveBindings;for(let N=0;N!==P;++N)x[N].apply(b);return this}setTime(e){this.time=0;for(let s=0;s<this._actions.length;s++)this._actions[s].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const s=this._actions,_=e.uuid,u=this._actionsByClip,m=u[_];if(m!==void 0){const b=m.knownActions;for(let x=0,P=b.length;x!==P;++x){const N=b[x];this._deactivateAction(N);const I=N._cacheIndex,D=s[s.length-1];N._cacheIndex=null,N._byClipCacheIndex=null,D._cacheIndex=I,s[I]=D,s.pop(),this._removeInactiveBindingsForAction(N)}delete u[_]}}uncacheRoot(e){const s=e.uuid,_=this._actionsByClip;for(const m in _){const b=_[m].actionByRoot[s];b!==void 0&&(this._deactivateAction(b),this._removeInactiveAction(b))}const u=this._bindingsByRootAndName[s];if(u!==void 0)for(const m in u){const b=u[m];b.restoreOriginalState(),this._removeInactiveBinding(b)}}uncacheAction(e,s){const _=this.existingAction(e,s);_!==null&&(this._deactivateAction(_),this._removeInactiveAction(_))}}V1.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Wh{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Wh(this.value.clone===void 0?this.value:this.value.clone())}}class J1 extends Pi{constructor(e,s,_=1){super(e,s),this.meshPerAttribute=_}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const s=super.clone(e);return s.meshPerAttribute=this.meshPerAttribute,s}toJSON(e){const s=super.toJSON(e);return s.isInstancedInterleavedBuffer=!0,s.meshPerAttribute=this.meshPerAttribute,s}}J1.prototype.isInstancedInterleavedBuffer=!0;class Od{constructor(e,s,_,u,m){this.buffer=e,this.type=s,this.itemSize=_,this.elementSize=u,this.count=m,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,s){return this.type=e,this.elementSize=s,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}Od.prototype.isGLBufferAttribute=!0;function Bd(T,e){return T.distance-e.distance}function Gd(T,e,s,_){if(T.layers.test(e.layers)&&T.raycast(e,s),_===!0){const u=T.children;for(let m=0,b=u.length;m<b;m++)Gd(u[m],e,s,!0)}}const j1=new Vi;class Nc{constructor(e=new Vi(1/0,1/0),s=new Vi(-1/0,-1/0)){this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromPoints(e){this.makeEmpty();for(let s=0,_=e.length;s<_;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const _=j1.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(_),this.max.copy(e).add(_),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return j1.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Nc.prototype.isBox2=!0;const Uh=new Ue,Bu=new Ue;class nh{constructor(e=new Ue,s=new Ue){this.start=e,this.end=s}set(e,s){return this.start.copy(e),this.end.copy(s),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,s){return this.delta(s).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,s){Uh.subVectors(e,this.start),Bu.subVectors(this.end,this.start);const _=Bu.dot(Bu);let u=Bu.dot(Uh)/_;return s&&(u=Ln(u,0,1)),u}closestPointToPoint(e,s,_){const u=this.closestPointToPointParameter(e,s);return this.delta(_).multiplyScalar(u).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class Y1 extends le{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}Y1.prototype.isImmediateRenderObject=!0;const q1=new Ue,U0=new Ue,U_=new Tn,zh=new Tn;class wc extends Bs{constructor(e){const s=Wd(e),_=new mr,u=[],m=[],b=new Ki(0,0,1),x=new Ki(0,1,0);for(let P=0;P<s.length;P++){const N=s[P];N.parent&&N.parent.isBone&&(u.push(0,0,0),u.push(0,0,0),m.push(b.r,b.g,b.b),m.push(x.r,x.g,x.b))}_.setAttribute("position",new Fn(u,3)),_.setAttribute("color",new Fn(m,3)),super(_,new Ji({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=s,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const s=this.bones,_=this.geometry,u=_.getAttribute("position");zh.copy(this.root.matrixWorld).invert();for(let m=0,b=0;m<s.length;m++){const x=s[m];x.parent&&x.parent.isBone&&(U_.multiplyMatrices(zh,x.matrixWorld),U0.setFromMatrixPosition(U_),u.setXYZ(b,U0.x,U0.y,U0.z),U_.multiplyMatrices(zh,x.parent.matrixWorld),U0.setFromMatrixPosition(U_),u.setXYZ(b+1,U0.x,U0.y,U0.z),b+=2)}_.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Wd(T){const e=[];T&&T.isBone&&e.push(T);for(let s=0;s<T.children.length;s++)e.push.apply(e,Wd(T.children[s]));return e}const Lp=new Ue,Ud=new Ki,zd=new Ki;class Vd extends Bs{constructor(e=10,s=10,_=4473924,u=8947848){_=new Ki(_),u=new Ki(u);const m=s/2,b=e/s,x=e/2,P=[],N=[];for(let D=0,B=0,U=-x;D<=s;D++,U+=b){P.push(-x,0,U,x,0,U),P.push(U,0,-x,U,0,x);const X=D===m?_:u;X.toArray(N,B),B+=3,X.toArray(N,B),B+=3,X.toArray(N,B),B+=3,X.toArray(N,B),B+=3}const I=new mr;I.setAttribute("position",new Fn(P,3)),I.setAttribute("color",new Fn(N,3)),super(I,new Ji({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}const Jd=new Ue,rh=new Ue,jd=new Ue,Vh=new Ue,Ro=new n_;function Ho(T,e,s,_,u,m,b){Vh.set(u,m,b).unproject(_);const x=e[T];if(x!==void 0){const P=s.getAttribute("position");for(let N=0,I=x.length;N<I;N++)P.setXYZ(x[N],Vh.x,Vh.y,Vh.z)}}const Gu=new he;class Yd extends Bs{constructor(e,s=16776960){const _=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=new Float32Array(24),m=new mr;m.setIndex(new or(_,1)),m.setAttribute("position",new or(u,3)),super(m,new Ji({color:s,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Gu.setFromObject(this.object),Gu.isEmpty())return;const s=Gu.min,_=Gu.max,u=this.geometry.attributes.position,m=u.array;m[0]=_.x,m[1]=_.y,m[2]=_.z,m[3]=s.x,m[4]=_.y,m[5]=_.z,m[6]=s.x,m[7]=s.y,m[8]=_.z,m[9]=_.x,m[10]=s.y,m[11]=_.z,m[12]=_.x,m[13]=_.y,m[14]=s.z,m[15]=s.x,m[16]=_.y,m[17]=s.z,m[18]=s.x,m[19]=s.y,m[20]=s.z,m[21]=_.x,m[22]=s.y,m[23]=s.z,u.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Bs.prototype.copy.call(this,e),this.object=e.object,this}}const wa=new Ue;let z_,V_;class Ec extends Bs{constructor(e=1){const s=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],_=new mr;_.setAttribute("position",new Fn(s,3)),_.setAttribute("color",new Fn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(_,new Ji({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,s,_){const u=new Ki,m=this.geometry.attributes.color.array;return u.set(e),u.toArray(m,0),u.toArray(m,3),u.set(s),u.toArray(m,6),u.toArray(m,9),u.set(_),u.toArray(m,12),u.toArray(m,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const qd=new Float32Array(1),$1=new Int32Array(qd.buffer);go.create=function(T,e){return console.log("THREE.Curve.create() has been deprecated"),T.prototype=Object.create(go.prototype),T.prototype.constructor=T,T.prototype.getPoint=e,T},Lu.prototype.fromPoints=function(T){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(T)},Vd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},wc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Pa.prototype.extractUrlBase=function(T){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Yl.extractUrlBase(T)},Pa.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Nc.prototype.center=function(T){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(T)},Nc.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Nc.prototype.isIntersectionBox=function(T){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(T)},Nc.prototype.size=function(T){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(T)},he.prototype.center=function(T){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(T)},he.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},he.prototype.isIntersectionBox=function(T){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(T)},he.prototype.isIntersectionSphere=function(T){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(T)},he.prototype.size=function(T){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(T)},Gr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ol.prototype.setFromMatrix=function(T){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(T)},nh.prototype.center=function(T){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(T)},Mr.prototype.flattenToArrayOffset=function(T,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(T,e)},Mr.prototype.multiplyVector3=function(T){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),T.applyMatrix3(this)},Mr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Mr.prototype.applyToBufferAttribute=function(T){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),T.applyMatrix3(this)},Mr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Mr.prototype.getInverse=function(T){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(T).invert()},Tn.prototype.extractPosition=function(T){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(T)},Tn.prototype.flattenToArrayOffset=function(T,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(T,e)},Tn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ue().setFromMatrixColumn(this,3)},Tn.prototype.setRotationFromQuaternion=function(T){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(T)},Tn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Tn.prototype.multiplyVector3=function(T){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),T.applyMatrix4(this)},Tn.prototype.multiplyVector4=function(T){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),T.applyMatrix4(this)},Tn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Tn.prototype.rotateAxis=function(T){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),T.transformDirection(this)},Tn.prototype.crossVector=function(T){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),T.applyMatrix4(this)},Tn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Tn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Tn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Tn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Tn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Tn.prototype.applyToBufferAttribute=function(T){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),T.applyMatrix4(this)},Tn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Tn.prototype.makeFrustum=function(T,e,s,_,u,m){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(T,e,_,s,u,m)},Tn.prototype.getInverse=function(T){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(T).invert()},Aa.prototype.isIntersectionLine=function(T){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(T)},vs.prototype.multiplyVector3=function(T){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),T.applyQuaternion(this)},vs.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ia.prototype.isIntersectionBox=function(T){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(T)},ia.prototype.isIntersectionPlane=function(T){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(T)},ia.prototype.isIntersectionSphere=function(T){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(T)},Ii.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ii.prototype.barycoordFromPoint=function(T,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(T,e)},Ii.prototype.midpoint=function(T){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(T)},Ii.prototypenormal=function(T){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(T)},Ii.prototype.plane=function(T){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(T)},Ii.barycoordFromPoint=function(T,e,s,_,u){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ii.getBarycoord(T,e,s,_,u)},Ii.normal=function(T,e,s,_){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ii.getNormal(T,e,s,_)},jl.prototype.extractAllPoints=function(T){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(T)},jl.prototype.extrude=function(T){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new B0(this,T)},jl.prototype.makeGeometry=function(T){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new H_(this,T)},Vi.prototype.fromAttribute=function(T,e,s){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(T,e,s)},Vi.prototype.distanceToManhattan=function(T){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(T)},Vi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ue.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ue.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ue.prototype.getPositionFromMatrix=function(T){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(T)},Ue.prototype.getScaleFromMatrix=function(T){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(T)},Ue.prototype.getColumnFromMatrix=function(T,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,T)},Ue.prototype.applyProjection=function(T){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(T)},Ue.prototype.fromAttribute=function(T,e,s){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(T,e,s)},Ue.prototype.distanceToManhattan=function(T){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(T)},Ue.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},dr.prototype.fromAttribute=function(T,e,s){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(T,e,s)},dr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},le.prototype.getChildByName=function(T){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(T)},le.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},le.prototype.translate=function(T,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,T)},le.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},le.prototype.applyMatrix=function(T){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(T)},Object.defineProperties(le.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(T){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=T}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),co.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(co.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),ks.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ao.prototype.setLens=function(T,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(T)},Object.defineProperties(lo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(T){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=T}},shadowCameraLeft:{set:function(T){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=T}},shadowCameraRight:{set:function(T){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=T}},shadowCameraTop:{set:function(T){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=T}},shadowCameraBottom:{set:function(T){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=T}},shadowCameraNear:{set:function(T){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=T}},shadowCameraFar:{set:function(T){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=T}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(T){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=T}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(T){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=T}},shadowMapHeight:{set:function(T){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=T}}}),Object.defineProperties(or.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===35048},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),or.prototype.setDynamic=function(T){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(T===!0?35048:35044),this},or.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},or.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},mr.prototype.addIndex=function(T){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(T)},mr.prototype.addAttribute=function(T,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?T==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(T,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(T,new or(arguments[1],arguments[2])))},mr.prototype.addDrawCall=function(T,e,s){s!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(T,e)},mr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},mr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},mr.prototype.removeAttribute=function(T){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(T)},mr.prototype.applyMatrix=function(T){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(T)},Object.defineProperties(mr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Pi.prototype.setDynamic=function(T){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(T===!0?35048:35044),this},Pi.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},B0.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},B0.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},B0.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ei.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Wh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Ci.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ki}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(T){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=T===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(T){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=T}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(t0.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(T){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=T}}}),Et.prototype.clearTarget=function(T,e,s,_){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(T),this.clear(e,s,_)},Et.prototype.animate=function(T){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(T)},Et.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Et.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Et.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Et.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Et.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Et.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Et.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Et.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Et.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Et.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Et.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Et.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Et.prototype.enableScissorTest=function(T){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(T)},Et.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Et.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Et.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Et.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Et.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Et.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Et.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Et.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Et.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Et.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Et.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(T){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=T}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(T){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=T}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(T){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=T===!0?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ge.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Rs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(T){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=T}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(T){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=T}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(T){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=T}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(T){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=T}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(T){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=T}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(T){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=T}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(T){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=T}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(T){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=T}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(T){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=T}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(T){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=T}}}),th.prototype.load=function(T){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new U1().load(T,function(s){e.setBuffer(s)}),this},Bh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},r_.prototype.updateCubeMap=function(T,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(T,e)},r_.prototype.clear=function(T,e,s,_){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(T,e,s,_)},Ks.crossOrigin=void 0,Ks.loadTexture=function(T,e,s,_){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const u=new D1;u.setCrossOrigin(this.crossOrigin);const m=u.load(T,s,void 0,_);return e&&(m.mapping=e),m},Ks.loadTextureCube=function(T,e,s,_){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const u=new yd;u.setCrossOrigin(this.crossOrigin);const m=u.load(T,s,void 0,_);return e&&(m.mapping=e),m},Ks.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ks.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Dp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:L}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=L),g.ACESFilmicToneMapping=4,g.AddEquation=100,g.AddOperation=2,g.AdditiveAnimationBlendMode=2501,g.AdditiveBlending=2,g.AlphaFormat=1021,g.AlwaysDepth=1,g.AlwaysStencilFunc=519,g.AmbientLight=Nd,g.AmbientLightProbe=Xc,g.AnimationClip=g_,g.AnimationLoader=class extends Pa{constructor(T){super(T)}load(T,e,s,_){const u=this,m=new W0(this.manager);m.setPath(this.path),m.setRequestHeader(this.requestHeader),m.setWithCredentials(this.withCredentials),m.load(T,function(b){try{e(u.parse(JSON.parse(b)))}catch(x){_?_(x):console.error(x),u.manager.itemError(T)}},s,_)}parse(T){const e=[];for(let s=0;s<T.length;s++){const _=g_.parse(T[s]);e.push(_)}return e}},g.AnimationMixer=V1,g.AnimationObjectGroup=Fd,g.AnimationUtils=Ys,g.ArcCurve=f_,g.ArrayCamera=_t,g.ArrowHelper=class extends le{constructor(T=new Ue(0,0,1),e=new Ue(0,0,0),s=1,_=16776960,u=.2*s,m=.2*u){super(),this.type="ArrowHelper",z_===void 0&&(z_=new mr,z_.setAttribute("position",new Fn([0,0,0,0,1,0],3)),V_=new zo(0,.5,1,5,1),V_.translate(0,-.5,0)),this.position.copy(e),this.line=new Lr(z_,new Ji({color:_,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new co(V_,new ls({color:_,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(T),this.setLength(s,u,m)}setDirection(T){if(T.y>.99999)this.quaternion.set(0,0,0,1);else if(T.y<-.99999)this.quaternion.set(1,0,0,0);else{wa.set(T.z,0,-T.x).normalize();const e=Math.acos(T.y);this.quaternion.setFromAxisAngle(wa,e)}}setLength(T,e=.2*T,s=.2*e){this.line.scale.set(1,Math.max(1e-4,T-e),1),this.line.updateMatrix(),this.cone.scale.set(s,e,s),this.cone.position.y=T,this.cone.updateMatrix()}setColor(T){this.line.material.color.set(T),this.cone.material.color.set(T)}copy(T){return super.copy(T,!1),this.line.copy(T.line),this.cone.copy(T.cone),this}},g.Audio=th,g.AudioAnalyser=Bh,g.AudioContext=G_,g.AudioListener=class extends le{constructor(){super(),this.type="AudioListener",this.context=G_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Qc}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(T){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=T,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(T){return this.gain.gain.setTargetAtTime(T,this.context.currentTime,.01),this}updateMatrixWorld(T){super.updateMatrixWorld(T);const e=this.context.listener,s=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(W_,Ld,eh),T_.set(0,0,-1).applyQuaternion(Ld),e.positionX){const _=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(W_.x,_),e.positionY.linearRampToValueAtTime(W_.y,_),e.positionZ.linearRampToValueAtTime(W_.z,_),e.forwardX.linearRampToValueAtTime(T_.x,_),e.forwardY.linearRampToValueAtTime(T_.y,_),e.forwardZ.linearRampToValueAtTime(T_.z,_),e.upX.linearRampToValueAtTime(s.x,_),e.upY.linearRampToValueAtTime(s.y,_),e.upZ.linearRampToValueAtTime(s.z,_)}else e.setPosition(W_.x,W_.y,W_.z),e.setOrientation(T_.x,T_.y,T_.z,s.x,s.y,s.z)}},g.AudioLoader=U1,g.AxesHelper=Ec,g.AxisHelper=function(T){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ec(T)},g.BackSide=1,g.BasicDepthPacking=3200,g.BasicShadowMap=0,g.BinaryTextureLoader=function(T){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Ad(T)},g.Bone=Po,g.BooleanKeyframeTrack=oa,g.BoundingBoxHelper=function(T,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Yd(T,e)},g.Box2=Nc,g.Box3=he,g.Box3Helper=class extends Bs{constructor(T,e=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_=new mr;_.setIndex(new or(s,1)),_.setAttribute("position",new Fn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(_,new Ji({color:e,toneMapped:!1})),this.box=T,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(T){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(T))}},g.BoxBufferGeometry=$o,g.BoxGeometry=$o,g.BoxHelper=Yd,g.BufferAttribute=or,g.BufferGeometry=mr,g.BufferGeometryLoader=F1,g.ByteType=1010,g.Cache=ku,g.Camera=n_,g.CameraHelper=class extends Bs{constructor(T){const e=new mr,s=new Ji({color:16777215,vertexColors:!0,toneMapped:!1}),_=[],u=[],m={},b=new Ki(16755200),x=new Ki(16711680),P=new Ki(43775),N=new Ki(16777215),I=new Ki(3355443);function D(U,X,ee){B(U,ee),B(X,ee)}function B(U,X){_.push(0,0,0),u.push(X.r,X.g,X.b),m[U]===void 0&&(m[U]=[]),m[U].push(_.length/3-1)}D("n1","n2",b),D("n2","n4",b),D("n4","n3",b),D("n3","n1",b),D("f1","f2",b),D("f2","f4",b),D("f4","f3",b),D("f3","f1",b),D("n1","f1",b),D("n2","f2",b),D("n3","f3",b),D("n4","f4",b),D("p","n1",x),D("p","n2",x),D("p","n3",x),D("p","n4",x),D("u1","u2",P),D("u2","u3",P),D("u3","u1",P),D("c","t",N),D("p","c",I),D("cn1","cn2",I),D("cn3","cn4",I),D("cf1","cf2",I),D("cf3","cf4",I),e.setAttribute("position",new Fn(_,3)),e.setAttribute("color",new Fn(u,3)),super(e,s),this.type="CameraHelper",this.camera=T,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=m,this.update()}update(){const T=this.geometry,e=this.pointMap;Ro.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ho("c",e,T,Ro,0,0,-1),Ho("t",e,T,Ro,0,0,1),Ho("n1",e,T,Ro,-1,-1,-1),Ho("n2",e,T,Ro,1,-1,-1),Ho("n3",e,T,Ro,-1,1,-1),Ho("n4",e,T,Ro,1,1,-1),Ho("f1",e,T,Ro,-1,-1,1),Ho("f2",e,T,Ro,1,-1,1),Ho("f3",e,T,Ro,-1,1,1),Ho("f4",e,T,Ro,1,1,1),Ho("u1",e,T,Ro,.7,1.1,-1),Ho("u2",e,T,Ro,-.7,1.1,-1),Ho("u3",e,T,Ro,0,2,-1),Ho("cf1",e,T,Ro,-1,0,1),Ho("cf2",e,T,Ro,1,0,1),Ho("cf3",e,T,Ro,0,-1,1),Ho("cf4",e,T,Ro,0,1,1),Ho("cn1",e,T,Ro,-1,0,-1),Ho("cn2",e,T,Ro,1,0,-1),Ho("cn3",e,T,Ro,0,-1,-1),Ho("cn4",e,T,Ro,0,1,-1),T.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},g.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},g.CanvasTexture=rs,g.CatmullRomCurve3=dc,g.CineonToneMapping=3,g.CircleBufferGeometry=ms,g.CircleGeometry=ms,g.ClampToEdgeWrapping=1001,g.Clock=Qc,g.Color=Ki,g.ColorKeyframeTrack=Iu,g.CompressedTexture=ns,g.CompressedTextureLoader=class extends Pa{constructor(T){super(T)}load(T,e,s,_){const u=this,m=[],b=new ns,x=new W0(this.manager);x.setPath(this.path),x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setWithCredentials(u.withCredentials);let P=0;function N(I){x.load(T[I],function(D){const B=u.parse(D,!0);m[I]={width:B.width,height:B.height,format:B.format,mipmaps:B.mipmaps},P+=1,P===6&&(B.mipmapCount===1&&(b.minFilter=1006),b.image=m,b.format=B.format,b.needsUpdate=!0,e&&e(b))},s,_)}if(Array.isArray(T))for(let I=0,D=T.length;I<D;++I)N(I);else x.load(T,function(I){const D=u.parse(I,!0);if(D.isCubemap){const B=D.mipmaps.length/D.mipmapCount;for(let U=0;U<B;U++){m[U]={mipmaps:[]};for(let X=0;X<D.mipmapCount;X++)m[U].mipmaps.push(D.mipmaps[U*D.mipmapCount+X]),m[U].format=D.format,m[U].width=D.width,m[U].height=D.height}b.image=m}else b.image.width=D.width,b.image.height=D.height,b.mipmaps=D.mipmaps;D.mipmapCount===1&&(b.minFilter=1006),b.format=D.format,b.needsUpdate=!0,e&&e(b)},s,_);return b}},g.ConeBufferGeometry=$a,g.ConeGeometry=$a,g.CubeCamera=r_,g.CubeReflectionMapping=301,g.CubeRefractionMapping=302,g.CubeTexture=a0,g.CubeTextureLoader=yd,g.CubeUVReflectionMapping=306,g.CubeUVRefractionMapping=307,g.CubicBezierCurve=po,g.CubicBezierCurve3=ar,g.CubicInterpolant=kh,g.CullFaceBack=1,g.CullFaceFront=2,g.CullFaceFrontBack=3,g.CullFaceNone=0,g.Curve=go,g.CurvePath=Dh,g.CustomBlending=5,g.CustomToneMapping=5,g.CylinderBufferGeometry=zo,g.CylinderGeometry=zo,g.Cylindrical=class{constructor(T=1,e=0,s=0){return this.radius=T,this.theta=e,this.y=s,this}set(T,e,s){return this.radius=T,this.theta=e,this.y=s,this}copy(T){return this.radius=T.radius,this.theta=T.theta,this.y=T.y,this}setFromVector3(T){return this.setFromCartesianCoords(T.x,T.y,T.z)}setFromCartesianCoords(T,e,s){return this.radius=Math.sqrt(T*T+s*s),this.theta=Math.atan2(T,s),this.y=e,this}clone(){return new this.constructor().copy(this)}},g.DataTexture=z,g.DataTexture2DArray=Il,g.DataTexture3D=u0,g.DataTextureLoader=Ad,g.DataUtils=class{static toHalfFloat(T){qd[0]=T;const e=$1[0];let s=e>>16&32768,_=e>>12&2047;const u=e>>23&255;return u<103?s:u>142?(s|=31744,s|=(u==255?0:1)&&8388607&e,s):u<113?(_|=2048,s|=(_>>114-u)+(_>>113-u&1),s):(s|=u-112<<10|_>>1,s+=1&_,s)}},g.DecrementStencilOp=7683,g.DecrementWrapStencilOp=34056,g.DefaultLoadingManager=Td,g.DepthFormat=1026,g.DepthStencilFormat=1027,g.DepthTexture=ys,g.DirectionalLight=Pd,g.DirectionalLightHelper=class extends le{constructor(T,e,s){super(),this.light=T,this.light.updateMatrixWorld(),this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.color=s,e===void 0&&(e=1);let _=new mr;_.setAttribute("position",new Fn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const u=new Ji({fog:!1,toneMapped:!1});this.lightPlane=new Lr(_,u),this.add(this.lightPlane),_=new mr,_.setAttribute("position",new Fn([0,0,0,0,0,1],3)),this.targetLine=new Lr(_,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Jd.setFromMatrixPosition(this.light.matrixWorld),rh.setFromMatrixPosition(this.light.target.matrixWorld),jd.subVectors(rh,Jd),this.lightPlane.lookAt(rh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rh),this.targetLine.scale.z=jd.length()}},g.DiscreteInterpolant=bc,g.DodecahedronBufferGeometry=f0,g.DodecahedronGeometry=f0,g.DoubleSide=2,g.DstAlphaFactor=206,g.DstColorFactor=208,g.DynamicBufferAttribute=function(T,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new or(T,e).setUsage(35048)},g.DynamicCopyUsage=35050,g.DynamicDrawUsage=35048,g.DynamicReadUsage=35049,g.EdgesGeometry=Vo,g.EdgesHelper=function(T,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Bs(new Vo(T.geometry),new Ji({color:e!==void 0?e:16777215}))},g.EllipseCurve=Wa,g.EqualDepth=4,g.EqualStencilFunc=514,g.EquirectangularReflectionMapping=303,g.EquirectangularRefractionMapping=304,g.Euler=na,g.EventDispatcher=ii,g.ExtrudeBufferGeometry=B0,g.ExtrudeGeometry=B0,g.FaceColors=1,g.FileLoader=W0,g.FlatShading=1,g.Float16BufferAttribute=C0,g.Float32Attribute=function(T,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Fn(T,e)},g.Float32BufferAttribute=Fn,g.Float64Attribute=function(T,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new fa(T,e)},g.Float64BufferAttribute=fa,g.FloatType=1015,g.Fog=Wi,g.FogExp2=qt,g.Font=Md,g.FontLoader=class extends Pa{constructor(T){super(T)}load(T,e,s,_){const u=this,m=new W0(this.manager);m.setPath(this.path),m.setRequestHeader(this.requestHeader),m.setWithCredentials(u.withCredentials),m.load(T,function(b){let x;try{x=JSON.parse(b)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),x=JSON.parse(b.substring(65,b.length-2))}const P=u.parse(x);e&&e(P)},s,_)}parse(T){return new Md(T)}},g.FrontSide=0,g.Frustum=ol,g.GLBufferAttribute=Od,g.GLSL1="100",g.GLSL3=bt,g.GammaEncoding=3007,g.GreaterDepth=6,g.GreaterEqualDepth=5,g.GreaterEqualStencilFunc=518,g.GreaterStencilFunc=516,g.GridHelper=Vd,g.Group=Nt,g.HalfFloatType=1016,g.HemisphereLight=Rh,g.HemisphereLightHelper=class extends le{constructor(T,e,s){super(),this.light=T,this.light.updateMatrixWorld(),this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.color=s;const _=new G0(e);_.rotateY(.5*Math.PI),this.material=new ls({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const u=_.getAttribute("position"),m=new Float32Array(3*u.count);_.setAttribute("color",new or(m,3)),this.add(new co(_,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const T=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=T.geometry.getAttribute("color");Ud.copy(this.light.color),zd.copy(this.light.groundColor);for(let s=0,_=e.count;s<_;s++){const u=s<_/2?Ud:zd;e.setXYZ(s,u.r,u.g,u.b)}e.needsUpdate=!0}T.lookAt(Lp.setFromMatrixPosition(this.light.matrixWorld).negate())}},g.HemisphereLightProbe=To,g.IcosahedronBufferGeometry=Su,g.IcosahedronGeometry=Su,g.ImageBitmapLoader=G1,g.ImageLoader=Sc,g.ImageUtils=Ks,g.ImmediateRenderObject=Y1,g.IncrementStencilOp=7682,g.IncrementWrapStencilOp=34055,g.InstancedBufferAttribute=St,g.InstancedBufferGeometry=Hu,g.InstancedInterleavedBuffer=J1,g.InstancedMesh=Oi,g.Int16Attribute=function(T,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Yo(T,e)},g.Int16BufferAttribute=Yo,g.Int32Attribute=function(T,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Eo(T,e)},g.Int32BufferAttribute=Eo,g.Int8Attribute=function(T,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new So(T,e)},g.Int8BufferAttribute=So,g.IntType=1013,g.InterleavedBuffer=Pi,g.InterleavedBufferAttribute=kt,g.Interpolant=Ca,g.InterpolateDiscrete=2300,g.InterpolateLinear=2301,g.InterpolateSmooth=2302,g.InvertStencilOp=5386,g.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},g.KeepStencilOp=7680,g.KeyframeTrack=Za,g.LOD=is,g.LatheBufferGeometry=Tc,g.LatheGeometry=Tc,g.Layers=ma,g.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},g.LessDepth=2,g.LessEqualDepth=3,g.LessEqualStencilFunc=515,g.LessStencilFunc=513,g.Light=lo,g.LightProbe=B_,g.Line=Lr,g.Line3=nh,g.LineBasicMaterial=Ji,g.LineCurve=F0,g.LineCurve3=Vc,g.LineDashedMaterial=Ih,g.LineLoop=Lo,g.LinePieces=1,g.LineSegments=Bs,g.LineStrip=0,g.LinearEncoding=3e3,g.LinearFilter=1006,g.LinearInterpolant=Lh,g.LinearMipMapLinearFilter=1008,g.LinearMipMapNearestFilter=1007,g.LinearMipmapLinearFilter=1008,g.LinearMipmapNearestFilter=1007,g.LinearToneMapping=1,g.Loader=Pa,g.LoaderUtils=Yl,g.LoadingManager=gd,g.LogLuvEncoding=3003,g.LoopOnce=2200,g.LoopPingPong=2202,g.LoopRepeat=2201,g.LuminanceAlphaFormat=1025,g.LuminanceFormat=1024,g.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},g.Material=Ci,g.MaterialLoader=Ed,g.Math=fo,g.MathUtils=fo,g.Matrix3=Mr,g.Matrix4=Tn,g.MaxEquation=104,g.Mesh=co,g.MeshBasicMaterial=ls,g.MeshDepthMaterial=Ce,g.MeshDistanceMaterial=we,g.MeshFaceMaterial=function(T){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),T},g.MeshLambertMaterial=fd,g.MeshMatcapMaterial=$c,g.MeshNormalMaterial=Mh,g.MeshPhongMaterial=Ac,g.MeshPhysicalMaterial=qc,g.MeshStandardMaterial=Jl,g.MeshToonMaterial=Eh,g.MinEquation=103,g.MirroredRepeatWrapping=1002,g.MixOperation=1,g.MultiMaterial=function(T=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),T.isMultiMaterial=!0,T.materials=T,T.clone=function(){return T.slice()},T},g.MultiplyBlending=4,g.MultiplyOperation=0,g.NearestFilter=1003,g.NearestMipMapLinearFilter=1005,g.NearestMipMapNearestFilter=1004,g.NearestMipmapLinearFilter=1005,g.NearestMipmapNearestFilter=1004,g.NeverDepth=0,g.NeverStencilFunc=512,g.NoBlending=0,g.NoColors=0,g.NoToneMapping=0,g.NormalAnimationBlendMode=2500,g.NormalBlending=1,g.NotEqualDepth=7,g.NotEqualStencilFunc=517,g.NumberKeyframeTrack=Qo,g.Object3D=le,g.ObjectLoader=class extends Pa{constructor(T){super(T)}load(T,e,s,_){const u=this,m=this.path===""?Yl.extractUrlBase(T):this.path;this.resourcePath=this.resourcePath||m;const b=new W0(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(T,function(x){let P=null;try{P=JSON.parse(x)}catch(I){return _!==void 0&&_(I),void console.error("THREE:ObjectLoader: Can't parse "+T+".",I.message)}const N=P.metadata;N!==void 0&&N.type!==void 0&&N.type.toLowerCase()!=="geometry"?u.parse(P,e):console.error("THREE.ObjectLoader: Can't load "+T)},s,_)}async loadAsync(T,e){const s=this.path===""?Yl.extractUrlBase(T):this.path;this.resourcePath=this.resourcePath||s;const _=new W0(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials);const u=await _.loadAsync(T,e),m=JSON.parse(u),b=m.metadata;if(b===void 0||b.type===void 0||b.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+T);return await this.parseAsync(m)}parse(T,e){const s=this.parseAnimations(T.animations),_=this.parseShapes(T.shapes),u=this.parseGeometries(T.geometries,_),m=this.parseImages(T.images,function(){e!==void 0&&e(P)}),b=this.parseTextures(T.textures,m),x=this.parseMaterials(T.materials,b),P=this.parseObject(T.object,u,x,b,s),N=this.parseSkeletons(T.skeletons,P);if(this.bindSkeletons(P,N),e!==void 0){let I=!1;for(const D in m)if(m[D]instanceof HTMLImageElement){I=!0;break}I===!1&&e(P)}return P}async parseAsync(T){const e=this.parseAnimations(T.animations),s=this.parseShapes(T.shapes),_=this.parseGeometries(T.geometries,s),u=await this.parseImagesAsync(T.images),m=this.parseTextures(T.textures,u),b=this.parseMaterials(T.materials,m),x=this.parseObject(T.object,_,b,m,e),P=this.parseSkeletons(T.skeletons,x);return this.bindSkeletons(x,P),x}parseShapes(T){const e={};if(T!==void 0)for(let s=0,_=T.length;s<_;s++){const u=new jl().fromJSON(T[s]);e[u.uuid]=u}return e}parseSkeletons(T,e){const s={},_={};if(e.traverse(function(u){u.isBone&&(_[u.uuid]=u)}),T!==void 0)for(let u=0,m=T.length;u<m;u++){const b=new qe().fromJSON(T[u],_);s[b.uuid]=b}return s}parseGeometries(T,e){const s={};if(T!==void 0){const _=new F1;for(let u=0,m=T.length;u<m;u++){let b;const x=T[u];switch(x.type){case"BufferGeometry":case"InstancedBufferGeometry":b=_.parse(x);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:x.type in F_?b=F_[x.type].fromJSON(x,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${x.type}"`)}b.uuid=x.uuid,x.name!==void 0&&(b.name=x.name),b.isBufferGeometry===!0&&x.userData!==void 0&&(b.userData=x.userData),s[x.uuid]=b}}return s}parseMaterials(T,e){const s={},_={};if(T!==void 0){const u=new Ed;u.setTextures(e);for(let m=0,b=T.length;m<b;m++){const x=T[m];if(x.type==="MultiMaterial"){const P=[];for(let N=0;N<x.materials.length;N++){const I=x.materials[N];s[I.uuid]===void 0&&(s[I.uuid]=u.parse(I)),P.push(s[I.uuid])}_[x.uuid]=P}else s[x.uuid]===void 0&&(s[x.uuid]=u.parse(x)),_[x.uuid]=s[x.uuid]}}return _}parseAnimations(T){const e={};if(T!==void 0)for(let s=0;s<T.length;s++){const _=T[s],u=g_.parse(_);e[u.uuid]=u}return e}parseImages(T,e){const s=this,_={};let u;function m(b){if(typeof b=="string"){const x=b;return function(P){return s.manager.itemStart(P),u.load(P,function(){s.manager.itemEnd(P)},void 0,function(){s.manager.itemError(P),s.manager.itemEnd(P)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(x)?x:s.resourcePath+x)}return b.data?{data:ga(b.type,b.data),width:b.width,height:b.height}:null}if(T!==void 0&&T.length>0){const b=new gd(e);u=new Sc(b),u.setCrossOrigin(this.crossOrigin);for(let x=0,P=T.length;x<P;x++){const N=T[x],I=N.url;if(Array.isArray(I)){_[N.uuid]=[];for(let D=0,B=I.length;D<B;D++){const U=m(I[D]);U!==null&&(U instanceof HTMLImageElement?_[N.uuid].push(U):_[N.uuid].push(new z(U.data,U.width,U.height)))}}else{const D=m(N.url);D!==null&&(_[N.uuid]=D)}}}return _}async parseImagesAsync(T){const e=this,s={};let _;async function u(m){if(typeof m=="string"){const b=m,x=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(b)?b:e.resourcePath+b;return await _.loadAsync(x)}return m.data?{data:ga(m.type,m.data),width:m.width,height:m.height}:null}if(T!==void 0&&T.length>0){_=new Sc(this.manager),_.setCrossOrigin(this.crossOrigin);for(let m=0,b=T.length;m<b;m++){const x=T[m],P=x.url;if(Array.isArray(P)){s[x.uuid]=[];for(let N=0,I=P.length;N<I;N++){const D=P[N],B=await u(D);B!==null&&(B instanceof HTMLImageElement?s[x.uuid].push(B):s[x.uuid].push(new z(B.data,B.width,B.height)))}}else{const N=await u(x.url);N!==null&&(s[x.uuid]=N)}}}return s}parseTextures(T,e){function s(u,m){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),m[u])}const _={};if(T!==void 0)for(let u=0,m=T.length;u<m;u++){const b=T[u];let x;b.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',b.uuid),e[b.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",b.image);const P=e[b.image];Array.isArray(P)?(x=new a0(P),P.length===6&&(x.needsUpdate=!0)):(x=P&&P.data?new z(P.data,P.width,P.height):new es(P),P&&(x.needsUpdate=!0)),x.uuid=b.uuid,b.name!==void 0&&(x.name=b.name),b.mapping!==void 0&&(x.mapping=s(b.mapping,Pp)),b.offset!==void 0&&x.offset.fromArray(b.offset),b.repeat!==void 0&&x.repeat.fromArray(b.repeat),b.center!==void 0&&x.center.fromArray(b.center),b.rotation!==void 0&&(x.rotation=b.rotation),b.wrap!==void 0&&(x.wrapS=s(b.wrap[0],O1),x.wrapT=s(b.wrap[1],O1)),b.format!==void 0&&(x.format=b.format),b.type!==void 0&&(x.type=b.type),b.encoding!==void 0&&(x.encoding=b.encoding),b.minFilter!==void 0&&(x.minFilter=s(b.minFilter,B1)),b.magFilter!==void 0&&(x.magFilter=s(b.magFilter,B1)),b.anisotropy!==void 0&&(x.anisotropy=b.anisotropy),b.flipY!==void 0&&(x.flipY=b.flipY),b.premultiplyAlpha!==void 0&&(x.premultiplyAlpha=b.premultiplyAlpha),b.unpackAlignment!==void 0&&(x.unpackAlignment=b.unpackAlignment),_[b.uuid]=x}return _}parseObject(T,e,s,_,u){let m,b,x;function P(D){return e[D]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",D),e[D]}function N(D){if(D!==void 0){if(Array.isArray(D)){const B=[];for(let U=0,X=D.length;U<X;U++){const ee=D[U];s[ee]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ee),B.push(s[ee])}return B}return s[D]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",D),s[D]}}function I(D){return _[D]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",D),_[D]}switch(T.type){case"Scene":m=new ei,T.background!==void 0&&(Number.isInteger(T.background)?m.background=new Ki(T.background):m.background=I(T.background)),T.environment!==void 0&&(m.environment=I(T.environment)),T.fog!==void 0&&(T.fog.type==="Fog"?m.fog=new Wi(T.fog.color,T.fog.near,T.fog.far):T.fog.type==="FogExp2"&&(m.fog=new qt(T.fog.color,T.fog.density)));break;case"PerspectiveCamera":m=new ao(T.fov,T.aspect,T.near,T.far),T.focus!==void 0&&(m.focus=T.focus),T.zoom!==void 0&&(m.zoom=T.zoom),T.filmGauge!==void 0&&(m.filmGauge=T.filmGauge),T.filmOffset!==void 0&&(m.filmOffset=T.filmOffset),T.view!==void 0&&(m.view=Object.assign({},T.view));break;case"OrthographicCamera":m=new va(T.left,T.right,T.top,T.bottom,T.near,T.far),T.zoom!==void 0&&(m.zoom=T.zoom),T.view!==void 0&&(m.view=Object.assign({},T.view));break;case"AmbientLight":m=new Nd(T.color,T.intensity);break;case"DirectionalLight":m=new Pd(T.color,T.intensity);break;case"PointLight":m=new Cd(T.color,T.intensity,T.distance,T.decay);break;case"RectAreaLight":m=new wd(T.color,T.intensity,T.width,T.height);break;case"SpotLight":m=new Hh(T.color,T.intensity,T.distance,T.angle,T.penumbra,T.decay);break;case"HemisphereLight":m=new Rh(T.color,T.groundColor,T.intensity);break;case"LightProbe":m=new B_().fromJSON(T);break;case"SkinnedMesh":b=P(T.geometry),x=N(T.material),m=new ks(b,x),T.bindMode!==void 0&&(m.bindMode=T.bindMode),T.bindMatrix!==void 0&&m.bindMatrix.fromArray(T.bindMatrix),T.skeleton!==void 0&&(m.skeleton=T.skeleton);break;case"Mesh":b=P(T.geometry),x=N(T.material),m=new co(b,x);break;case"InstancedMesh":b=P(T.geometry),x=N(T.material);const D=T.count,B=T.instanceMatrix,U=T.instanceColor;m=new Oi(b,x,D),m.instanceMatrix=new St(new Float32Array(B.array),16),U!==void 0&&(m.instanceColor=new St(new Float32Array(U.array),U.itemSize));break;case"LOD":m=new is;break;case"Line":m=new Lr(P(T.geometry),N(T.material));break;case"LineLoop":m=new Lo(P(T.geometry),N(T.material));break;case"LineSegments":m=new Bs(P(T.geometry),N(T.material));break;case"PointCloud":case"Points":m=new Dr(P(T.geometry),N(T.material));break;case"Sprite":m=new ko(N(T.material));break;case"Group":m=new Nt;break;case"Bone":m=new Po;break;default:m=new le}if(m.uuid=T.uuid,T.name!==void 0&&(m.name=T.name),T.matrix!==void 0?(m.matrix.fromArray(T.matrix),T.matrixAutoUpdate!==void 0&&(m.matrixAutoUpdate=T.matrixAutoUpdate),m.matrixAutoUpdate&&m.matrix.decompose(m.position,m.quaternion,m.scale)):(T.position!==void 0&&m.position.fromArray(T.position),T.rotation!==void 0&&m.rotation.fromArray(T.rotation),T.quaternion!==void 0&&m.quaternion.fromArray(T.quaternion),T.scale!==void 0&&m.scale.fromArray(T.scale)),T.castShadow!==void 0&&(m.castShadow=T.castShadow),T.receiveShadow!==void 0&&(m.receiveShadow=T.receiveShadow),T.shadow&&(T.shadow.bias!==void 0&&(m.shadow.bias=T.shadow.bias),T.shadow.normalBias!==void 0&&(m.shadow.normalBias=T.shadow.normalBias),T.shadow.radius!==void 0&&(m.shadow.radius=T.shadow.radius),T.shadow.mapSize!==void 0&&m.shadow.mapSize.fromArray(T.shadow.mapSize),T.shadow.camera!==void 0&&(m.shadow.camera=this.parseObject(T.shadow.camera))),T.visible!==void 0&&(m.visible=T.visible),T.frustumCulled!==void 0&&(m.frustumCulled=T.frustumCulled),T.renderOrder!==void 0&&(m.renderOrder=T.renderOrder),T.userData!==void 0&&(m.userData=T.userData),T.layers!==void 0&&(m.layers.mask=T.layers),T.children!==void 0){const D=T.children;for(let B=0;B<D.length;B++)m.add(this.parseObject(D[B],e,s,_,u))}if(T.animations!==void 0){const D=T.animations;for(let B=0;B<D.length;B++){const U=D[B];m.animations.push(u[U])}}if(T.type==="LOD"){T.autoUpdate!==void 0&&(m.autoUpdate=T.autoUpdate);const D=T.levels;for(let B=0;B<D.length;B++){const U=D[B],X=m.getObjectByProperty("uuid",U.object);X!==void 0&&m.addLevel(X,U.distance)}}return m}bindSkeletons(T,e){Object.keys(e).length!==0&&T.traverse(function(s){if(s.isSkinnedMesh===!0&&s.skeleton!==void 0){const _=e[s.skeleton];_===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",s.skeleton):s.bind(_,s.bindMatrix)}})}setTexturePath(T){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(T)}},g.ObjectSpaceNormalMap=1,g.OctahedronBufferGeometry=G0,g.OctahedronGeometry=G0,g.OneFactor=201,g.OneMinusDstAlphaFactor=207,g.OneMinusDstColorFactor=209,g.OneMinusSrcAlphaFactor=205,g.OneMinusSrcColorFactor=203,g.OrthographicCamera=va,g.PCFShadowMap=1,g.PCFSoftShadowMap=2,g.PMREMGenerator=ca,g.ParametricBufferGeometry=xu,g.ParametricGeometry=xu,g.Particle=function(T){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ko(T)},g.ParticleBasicMaterial=function(T){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new so(T)},g.ParticleSystem=function(T,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Dr(T,e)},g.ParticleSystemMaterial=function(T){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new so(T)},g.Path=Lu,g.PerspectiveCamera=ao,g.Plane=Aa,g.PlaneBufferGeometry=ba,g.PlaneGeometry=ba,g.PlaneHelper=class extends Lr{constructor(T,e=1,s=16776960){const _=s,u=new mr;u.setAttribute("position",new Fn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),u.computeBoundingSphere(),super(u,new Ji({color:_,toneMapped:!1})),this.type="PlaneHelper",this.plane=T,this.size=e;const m=new mr;m.setAttribute("position",new Fn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),m.computeBoundingSphere(),this.add(new co(m,new ls({color:_,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(T){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),super.updateMatrixWorld(T)}},g.PointCloud=function(T,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Dr(T,e)},g.PointCloudMaterial=function(T){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new so(T)},g.PointLight=Cd,g.PointLightHelper=class extends co{constructor(T,e,s){super(new Pu(e,4,2),new ls({wireframe:!0,fog:!1,toneMapped:!1})),this.light=T,this.light.updateMatrixWorld(),this.color=s,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},g.Points=Dr,g.PointsMaterial=so,g.PolarGridHelper=class extends Bs{constructor(T=10,e=16,s=8,_=64,u=4473924,m=8947848){u=new Ki(u),m=new Ki(m);const b=[],x=[];for(let N=0;N<=e;N++){const I=N/e*(2*Math.PI),D=Math.sin(I)*T,B=Math.cos(I)*T;b.push(0,0,0),b.push(D,0,B);const U=1&N?u:m;x.push(U.r,U.g,U.b),x.push(U.r,U.g,U.b)}for(let N=0;N<=s;N++){const I=1&N?u:m,D=T-T/s*N;for(let B=0;B<_;B++){let U=B/_*(2*Math.PI),X=Math.sin(U)*D,ee=Math.cos(U)*D;b.push(X,0,ee),x.push(I.r,I.g,I.b),U=(B+1)/_*(2*Math.PI),X=Math.sin(U)*D,ee=Math.cos(U)*D,b.push(X,0,ee),x.push(I.r,I.g,I.b)}}const P=new mr;P.setAttribute("position",new Fn(b,3)),P.setAttribute("color",new Fn(x,3)),super(P,new Ji({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}},g.PolyhedronBufferGeometry=ra,g.PolyhedronGeometry=ra,g.PositionalAudio=class extends th{constructor(T){super(T),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(T){return this.panner.refDistance=T,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(T){return this.panner.rolloffFactor=T,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(T){return this.panner.distanceModel=T,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(T){return this.panner.maxDistance=T,this}setDirectionalCone(T,e,s){return this.panner.coneInnerAngle=T,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=s,this}updateMatrixWorld(T){if(super.updateMatrixWorld(T),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fu,Dd,ih),Ou.set(0,0,1).applyQuaternion(Dd);const e=this.panner;if(e.positionX){const s=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Fu.x,s),e.positionY.linearRampToValueAtTime(Fu.y,s),e.positionZ.linearRampToValueAtTime(Fu.z,s),e.orientationX.linearRampToValueAtTime(Ou.x,s),e.orientationY.linearRampToValueAtTime(Ou.y,s),e.orientationZ.linearRampToValueAtTime(Ou.z,s)}else e.setPosition(Fu.x,Fu.y,Fu.z),e.setOrientation(Ou.x,Ou.y,Ou.z)}},g.PropertyBinding=Ls,g.PropertyMixer=z1,g.QuadraticBezierCurve=Xr,g.QuadraticBezierCurve3=Ph,g.Quaternion=vs,g.QuaternionKeyframeTrack=O_,g.QuaternionLinearInterpolant=A0,g.REVISION=L,g.RGBADepthPacking=3201,g.RGBAFormat=1023,g.RGBAIntegerFormat=1033,g.RGBA_ASTC_10x10_Format=37819,g.RGBA_ASTC_10x5_Format=37816,g.RGBA_ASTC_10x6_Format=37817,g.RGBA_ASTC_10x8_Format=37818,g.RGBA_ASTC_12x10_Format=37820,g.RGBA_ASTC_12x12_Format=37821,g.RGBA_ASTC_4x4_Format=37808,g.RGBA_ASTC_5x4_Format=37809,g.RGBA_ASTC_5x5_Format=37810,g.RGBA_ASTC_6x5_Format=37811,g.RGBA_ASTC_6x6_Format=37812,g.RGBA_ASTC_8x5_Format=37813,g.RGBA_ASTC_8x6_Format=37814,g.RGBA_ASTC_8x8_Format=37815,g.RGBA_BPTC_Format=36492,g.RGBA_ETC2_EAC_Format=37496,g.RGBA_PVRTC_2BPPV1_Format=35843,g.RGBA_PVRTC_4BPPV1_Format=35842,g.RGBA_S3TC_DXT1_Format=33777,g.RGBA_S3TC_DXT3_Format=33778,g.RGBA_S3TC_DXT5_Format=33779,g.RGBDEncoding=3006,g.RGBEEncoding=3002,g.RGBEFormat=1023,g.RGBFormat=1022,g.RGBIntegerFormat=1032,g.RGBM16Encoding=3005,g.RGBM7Encoding=3004,g.RGB_ETC1_Format=36196,g.RGB_ETC2_Format=37492,g.RGB_PVRTC_2BPPV1_Format=35841,g.RGB_PVRTC_4BPPV1_Format=35840,g.RGB_S3TC_DXT1_Format=33776,g.RGFormat=1030,g.RGIntegerFormat=1031,g.RawShaderMaterial=al,g.Ray=ia,g.Raycaster=class{constructor(T,e,s=0,_=1/0){this.ray=new ia(T,e),this.near=s,this.far=_,this.camera=null,this.layers=new ma,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(T,e){this.ray.set(T,e)}setFromCamera(T,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(T.x,T.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(T.x,T.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(T,e=!1,s=[]){return Gd(T,this,s,e),s.sort(Bd),s}intersectObjects(T,e=!1,s=[]){for(let _=0,u=T.length;_<u;_++)Gd(T[_],this,s,e);return s.sort(Bd),s}},g.RectAreaLight=wd,g.RedFormat=1028,g.RedIntegerFormat=1029,g.ReinhardToneMapping=2,g.RepeatWrapping=1e3,g.ReplaceStencilOp=7681,g.ReverseSubtractEquation=102,g.RingBufferGeometry=Cu,g.RingGeometry=Cu,g.SRGB8_ALPHA8_ASTC_10x10_Format=37851,g.SRGB8_ALPHA8_ASTC_10x5_Format=37848,g.SRGB8_ALPHA8_ASTC_10x6_Format=37849,g.SRGB8_ALPHA8_ASTC_10x8_Format=37850,g.SRGB8_ALPHA8_ASTC_12x10_Format=37852,g.SRGB8_ALPHA8_ASTC_12x12_Format=37853,g.SRGB8_ALPHA8_ASTC_4x4_Format=37840,g.SRGB8_ALPHA8_ASTC_5x4_Format=37841,g.SRGB8_ALPHA8_ASTC_5x5_Format=37842,g.SRGB8_ALPHA8_ASTC_6x5_Format=37843,g.SRGB8_ALPHA8_ASTC_6x6_Format=37844,g.SRGB8_ALPHA8_ASTC_8x5_Format=37845,g.SRGB8_ALPHA8_ASTC_8x6_Format=37846,g.SRGB8_ALPHA8_ASTC_8x8_Format=37847,g.Scene=ei,g.SceneUtils=Dp,g.ShaderChunk=Zr,g.ShaderLib=Ja,g.ShaderMaterial=t0,g.ShadowMaterial=Mu,g.Shape=jl,g.ShapeBufferGeometry=H_,g.ShapeGeometry=H_,g.ShapePath=W1,g.ShapeUtils=Vl,g.ShortType=1011,g.Skeleton=qe,g.SkeletonHelper=wc,g.SkinnedMesh=ks,g.SmoothShading=2,g.Sphere=Gr,g.SphereBufferGeometry=Pu,g.SphereGeometry=Pu,g.Spherical=class{constructor(T=1,e=0,s=0){return this.radius=T,this.phi=e,this.theta=s,this}set(T,e,s){return this.radius=T,this.phi=e,this.theta=s,this}copy(T){return this.radius=T.radius,this.phi=T.phi,this.theta=T.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(T){return this.setFromCartesianCoords(T.x,T.y,T.z)}setFromCartesianCoords(T,e,s){return this.radius=Math.sqrt(T*T+e*e+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(T,s),this.phi=Math.acos(Ln(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},g.SphericalHarmonics3=Ru,g.SplineCurve=pc,g.SpotLight=Hh,g.SpotLightHelper=class extends le{constructor(T,e){super(),this.light=T,this.light.updateMatrixWorld(),this.matrix=T.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const s=new mr,_=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let m=0,b=1,x=32;m<x;m++,b++){const P=m/x*Math.PI*2,N=b/x*Math.PI*2;_.push(Math.cos(P),Math.sin(P),1,Math.cos(N),Math.sin(N),1)}s.setAttribute("position",new Fn(_,3));const u=new Ji({fog:!1,toneMapped:!1});this.cone=new Bs(s,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const T=this.light.distance?this.light.distance:1e3,e=T*Math.tan(this.light.angle);this.cone.scale.set(e,e,T),q1.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(q1),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},g.Sprite=ko,g.SpriteMaterial=Yt,g.SrcAlphaFactor=204,g.SrcAlphaSaturateFactor=210,g.SrcColorFactor=202,g.StaticCopyUsage=35046,g.StaticDrawUsage=35044,g.StaticReadUsage=35045,g.StereoCamera=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ao,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ao,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(T){const e=this._cache;if(e.focus!==T.focus||e.fov!==T.fov||e.aspect!==T.aspect*this.aspect||e.near!==T.near||e.far!==T.far||e.zoom!==T.zoom||e.eyeSep!==this.eyeSep){e.focus=T.focus,e.fov=T.fov,e.aspect=T.aspect*this.aspect,e.near=T.near,e.far=T.far,e.zoom=T.zoom,e.eyeSep=this.eyeSep;const s=T.projectionMatrix.clone(),_=e.eyeSep/2,u=_*e.near/e.focus,m=e.near*Math.tan(Mn*e.fov*.5)/e.zoom;let b,x;Kc.elements[12]=-_,kd.elements[12]=_,b=-m*e.aspect+u,x=m*e.aspect+u,s.elements[0]=2*e.near/(x-b),s.elements[8]=(x+b)/(x-b),this.cameraL.projectionMatrix.copy(s),b=-m*e.aspect-u,x=m*e.aspect-u,s.elements[0]=2*e.near/(x-b),s.elements[8]=(x+b)/(x-b),this.cameraR.projectionMatrix.copy(s)}this.cameraL.matrixWorld.copy(T.matrixWorld).multiply(Kc),this.cameraR.matrixWorld.copy(T.matrixWorld).multiply(kd)}},g.StreamCopyUsage=35042,g.StreamDrawUsage=35040,g.StreamReadUsage=35041,g.StringKeyframeTrack=qs,g.SubtractEquation=101,g.SubtractiveBlending=3,g.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},g.TangentSpaceNormalMap=0,g.TetrahedronBufferGeometry=yc,g.TetrahedronGeometry=yc,g.TextBufferGeometry=Nu,g.TextGeometry=Nu,g.Texture=es,g.TextureLoader=D1,g.TorusBufferGeometry=sa,g.TorusGeometry=sa,g.TorusKnotBufferGeometry=wu,g.TorusKnotGeometry=wu,g.Triangle=Ii,g.TriangleFanDrawMode=2,g.TriangleStripDrawMode=1,g.TrianglesDrawMode=0,g.TubeBufferGeometry=Eu,g.TubeGeometry=Eu,g.UVMapping=300,g.Uint16Attribute=function(T,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new qo(T,e)},g.Uint16BufferAttribute=qo,g.Uint32Attribute=function(T,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Qs(T,e)},g.Uint32BufferAttribute=Qs,g.Uint8Attribute=function(T,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ms(T,e)},g.Uint8BufferAttribute=Ms,g.Uint8ClampedAttribute=function(T,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new xo(T,e)},g.Uint8ClampedBufferAttribute=xo,g.Uniform=Wh,g.UniformsLib=Rn,g.UniformsUtils=su,g.UnsignedByteType=1009,g.UnsignedInt248Type=1020,g.UnsignedIntType=1014,g.UnsignedShort4444Type=1017,g.UnsignedShort5551Type=1018,g.UnsignedShort565Type=1019,g.UnsignedShortType=1012,g.VSMShadowMap=3,g.Vector2=Vi,g.Vector3=Ue,g.Vector4=dr,g.VectorKeyframeTrack=vc,g.Vertex=function(T,e,s){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ue(T,e,s)},g.VertexColors=2,g.VideoTexture=Us,g.WebGL1Renderer=bi,g.WebGLCubeRenderTarget=rl,g.WebGLMultipleRenderTargets=$s,g.WebGLMultisampleRenderTarget=ro,g.WebGLRenderTarget=Rs,g.WebGLRenderTargetCube=function(T,e,s){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new rl(T,s)},g.WebGLRenderer=Et,g.WebGLUtils=pt,g.WireframeGeometry=y0,g.WireframeHelper=function(T,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Bs(new y0(T.geometry),new Ji({color:e!==void 0?e:16777215}))},g.WrapAroundEnding=2402,g.XHRLoader=function(T){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new W0(T)},g.ZeroCurvatureEnding=2400,g.ZeroFactor=200,g.ZeroSlopeEnding=2401,g.ZeroStencilOp=0,g.sRGBEncoding=3001,Object.defineProperty(g,"__esModule",{value:!0})})})(La,La.exports);var cm={exports:{}},q0={exports:{}},Sp={exports:{}};(function(k,H){const L=.0005555555555555556*Math.PI,G=Math.atan(3/4),J=63710088e-1,O=40075017;k.exports={WORLD_SIZE:1024e3,PROJECTION_WORLD_SIZE:1024e3/(J*Math.PI*2),MERCATOR_A:J,DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,EARTH_RADIUS:J,EARTH_CIRCUMFERENCE:2*Math.PI*J,EARTH_CIRCUMFERENCE_EQUATOR:O,FOV_ORTHO:L,FOV:G,FOV_DEGREES:G*180/Math.PI,TILE_SIZE:512}})(Sp);var hm={exports:{}};(function(k,H){function g(){}g.prototype={Coords:function(L){if(L.constructor!==Array){console.error("Coords must be an array");return}if(L.length<2){console.error("Coords length must be at least 2");return}for(const G of L)if(G.constructor!==Number){console.error("Coords values must be numbers");return}if(Math.abs(L[1])>90){console.error("Latitude must be between -90 and 90");return}return L},Line:function(L){var G=this;if(L.constructor!==Array){console.error("Line must be an array");return}for(const J of L)if(!G.Coords(J)){console.error("Each coordinate in a line must be a valid Coords type");return}return L},Rotation:function(L){if(L.constructor===Number)L={z:L};else if(L.constructor===Object)for(const G of Object.keys(L)){if(!["x","y","z"].includes(G)){console.error("Rotation parameters must be x, y, or z");return}if(L[G].constructor!==Number){console.error("Individual rotation values must be numbers");return}}else{console.error("Rotation must be an object or a number");return}return L},Scale:function(L){if(L.constructor===Number)L={x:L,y:L,z:L};else if(L.constructor===Object)for(const G of Object.keys(L)){if(!["x","y","z"].includes(G)){console.error("Scale parameters must be x, y, or z");return}if(L[G].constructor!==Number){console.error("Individual scale values must be numbers");return}}else{console.error("Scale must be an object or a number");return}return L}},k.exports=g})(hm);(function(k,H){var g=La.exports,L=Sp.exports,G=hm.exports,J={prettyPrintMatrix:function(O){for(var a=0;a<4;a++){var j=[O[a],O[a+4],O[a+8],O[a+12]];console.log(j.map(function(Z){return Z.toFixed(4)}))}},makePerspectiveMatrix:function(O,a,j,Z){var ye=new g.Matrix4,me=1/Math.tan(O/2),rt=1/(j-Z),ht=[me/a,0,0,0,0,me,0,0,0,0,(Z+j)*rt,-1,0,0,2*Z*j*rt,0];return ye.elements=ht,ye},makeOrthographicMatrix:function(O,a,j,Z,ye,me){var rt=new g.Matrix4;const ht=1/(a-O),Ht=1/(j-Z),Se=1/(me-ye),Be=(a+O)*ht,Gt=(j+Z)*Ht,xt=ye*Se;var fi=[2*ht,0,0,0,0,2*Ht,0,0,0,0,-1*Se,0,-Be,-Gt,-xt,1];return rt.elements=fi,rt},radify:function(O){function a(j){return j=j||0,Math.PI*2*j/360}return typeof O=="object"?O.length>0?O.map(function(j){return a(j)}):[a(O.x),a(O.y),a(O.z)]:a(O)},degreeify:function(O){function a(j){return j=j||0,j*360/(Math.PI*2)}return typeof O=="object"?[a(O.x),a(O.y),a(O.z)]:a(O)},projectToWorld:function(O){var a=[-L.MERCATOR_A*L.DEG2RAD*O[0]*L.PROJECTION_WORLD_SIZE,-L.MERCATOR_A*Math.log(Math.tan(Math.PI*.25+.5*L.DEG2RAD*O[1]))*L.PROJECTION_WORLD_SIZE];if(!O[2])a.push(0);else{var j=this.projectedUnitsPerMeter(O[1]);a.push(O[2]*j)}var Z=new g.Vector3(a[0],a[1],a[2]);return Z},projectedUnitsPerMeter:function(O){return Math.abs(L.WORLD_SIZE/Math.cos(L.DEG2RAD*O)/L.EARTH_CIRCUMFERENCE)},_circumferenceAtLatitude:function(O){return L.EARTH_CIRCUMFERENCE*Math.cos(O*Math.PI/180)},mercatorZfromAltitude:function(O,a){return O/this._circumferenceAtLatitude(a)},_scaleVerticesToMeters:function(O,a){var j=this.projectedUnitsPerMeter(O[1]);this.projectToWorld(O);for(var Z=0;Z<a.length;Z++)a[Z].multiplyScalar(j);return a},projectToScreen:function(O){console.log("WARNING: Projecting to screen coordinates is not yet implemented")},unprojectFromScreen:function(O){console.log("WARNING: unproject is not yet implemented")},unprojectFromWorld:function(O){var a=[-O.x/(L.MERCATOR_A*L.DEG2RAD*L.PROJECTION_WORLD_SIZE),2*(Math.atan(Math.exp(O.y/(L.PROJECTION_WORLD_SIZE*-L.MERCATOR_A)))-Math.PI/4)/L.DEG2RAD],j=this.projectedUnitsPerMeter(a[1]),Z=O.z||0;return a.push(Z/j),a},toScreenPosition:function(O,a){var j=new g.Vector3,Z=.5*renderer.context.canvas.width,ye=.5*renderer.context.canvas.height;return O.updateMatrixWorld(),j.setFromMatrixPosition(O.matrixWorld),j.project(a),j.x=j.x*Z+Z,j.y=-(j.y*ye)+ye,{x:j.x,y:j.y}},getFeatureCenter:function(a,j,Z){let ye=[],me=0,rt=0,ht=0,Ht=[...a.geometry.coordinates[0]];return a.geometry.type==="Point"?ye=[...Ht[0]]:(a.geometry.type==="MultiPolygon"&&(Ht=Ht[0]),Ht.splice(-1,1),Ht.forEach(function(Se){me+=Se[0],rt+=Se[1]}),ye=[me/Ht.length,rt/Ht.length]),ht=this.getObjectHeightOnFloor(a,j,Z),ye.length<3?ye.push(ht):ye[2]=ht,ye},getObjectHeightOnFloor:function(O,a,j=O.properties.level||0){let Z=j*(O.properties.levelHeight||0),ye=O.properties.base_height||O.properties.min_height||0,rt=(a&&a.model?0:O.properties.height-ye)+ye;return Z+rt},_flipMaterialSides:function(O){},normalizeVertices(O){let a=new g.BufferGeometry,j=[];for(var Z=0;Z<O.length;Z++){let rt=O[Z];j.push(rt.x,rt.y,rt.z),j.push(rt.x,rt.y,rt.z)}a.setAttribute("position",new g.BufferAttribute(new Float32Array(j),3)),a.computeBoundingSphere();var ye=a.boundingSphere.center,me=O.map(function(rt){var ht=rt.sub(ye);return ht});return{vertices:me,position:ye}},flattenVectors(O){var a=[];for(let j of O)a.push(j.x,j.y,j.z);return a},lnglatsToWorld:function(O){var a=O.map(function(j){var Z=J.projectToWorld(j),ye=new g.Vector3(Z.x,Z.y,Z.z);return ye});return a},extend:function(O,a){for(let j in a)O[j]=a[j]},clone:function(O){var a={};for(let j in O)a[j]=O[j];return a},clamp:function(O,a,j){return Math.min(j,Math.max(a,O))},types:{rotation:function(O,a){O||(O=0),typeof O=="number"&&(O={z:O});var j=this.applyDefault([O.x,O.y,O.z],a),Z=J.radify(j);return Z},scale:function(O,a){return O||(O=1),typeof O=="number"?O=[O,O,O]:this.applyDefault([O.x,O.y,O.z],a)},applyDefault:function(O,a){var j=O.map(function(Z,ye){return Z=Z||a[ye],Z});return j}},toDecimal:function(O,a){return Number(O.toFixed(a))},equal:function(O,a){const j=Object.keys(O),Z=Object.keys(a);if(j.length!==Z.length||j.length==0&&Z.length==0&&j!==Z)return!1;for(const ye of j){const me=O[ye],rt=a[ye],ht=this.isObject(me)&&this.isObject(rt);if(ht&&!equal(me,rt)||!ht&&me!==rt)return!1}return!0},isObject:function(O){return O!=null&&typeof O=="object"},curveToLine:(O,a)=>{let{width:j,color:Z}=a,ye=new g.BufferGeometry().setFromPoints(O.getPoints(100)),me=new g.LineBasicMaterial({color:Z,linewidth:j});return new g.Line(ye,me)},curvesToLines:O=>{var a=[16711680,2031360,2490623],j=O.map((Z,ye)=>{let me={width:3,color:a[ye]||"purple"};return curveToLine(Z,me)});return j},_validate:function(O,a){O=O||{};var j={};J.extend(j,O);for(let Z of Object.keys(a))if(O[Z]===void 0)if(a[Z]===null){console.error(Z+" is required");return}else j[Z]=a[Z];else j[Z]=O[Z];return j},Validator:new G,exposedMethods:["projectToWorld","projectedUnitsPerMeter","extend","unprojectFromWorld"]};k.exports=J})(q0);(function(k,H){const g=La.exports,L=q0.exports,G=Sp.exports;function J(O,a,j){this.map=O,this.camera=a,this.active=!0,this.camera.matrixAutoUpdate=!1,this.world=j||new g.Group,this.world.position.x=this.world.position.y=G.WORLD_SIZE/2,this.world.matrixAutoUpdate=!1,this.state={translateCenter:new g.Matrix4().makeTranslation(G.WORLD_SIZE/2,-G.WORLD_SIZE/2,0),worldSizeRatio:G.TILE_SIZE/G.WORLD_SIZE,worldSize:G.TILE_SIZE*this.map.transform.scale};let Z=this;this.map.on("move",function(){Z.updateCamera()}).on("resize",function(){Z.setupCamera()}),this.setupCamera()}J.prototype={setupCamera:function(){const O=this.map.transform;this.camera.aspect=O.width/O.height,this.halfFov=O._fov/2,this.cameraToCenterDistance=.5/Math.tan(this.halfFov)*O.height;const a=O._maxPitch*Math.PI/180;this.acuteAngle=Math.PI/2-a,this.updateCamera()},updateCamera:function(O){if(!this.camera){console.log("nocamera");return}const a=this.map.transform;this.camera.aspect=a.width/a.height;const j=a.centerOffset||new g.Vector3;let Z=0,ye=0;this.halfFov=a._fov/2;const me=Math.PI/2+a._pitch,rt=Math.cos(Math.PI/2-a._pitch);this.cameraToCenterDistance=.5/Math.tan(this.halfFov)*a.height;let ht=1;const Ht=this.worldSize();if(this.map.tb.mapboxVersion>=2){ht=this.mercatorZfromAltitude(1,a.center.lat)*Ht;const Ze=a._fov*(.5+a.centerOffset.y/a.height),ze=a.elevation?a.elevation.getMinElevationBelowMSL()*ht:0,Kt=(a._camera.position[2]*Ht-ze)/Math.cos(a._pitch),ji=Math.sin(Ze)*Kt/Math.sin(L.clamp(Math.PI-me-Ze,.01,Math.PI-.01));ye=rt*ji+Kt;const oi=Kt*(1/a._horizonShift);Z=Math.min(ye*1.01,oi)}else{const Ze=Math.sin(this.halfFov)*this.cameraToCenterDistance/Math.sin(Math.PI-me-this.halfFov);ye=rt*Ze+this.cameraToCenterDistance,Z=ye*1.01}this.cameraTranslateZ=new g.Matrix4().makeTranslation(0,0,this.cameraToCenterDistance);const Se=a.height/50,Be=Math.max(Se*rt,Se),Gt=a.height,xt=a.width;this.camera instanceof g.OrthographicCamera?this.camera.projectionMatrix=L.makeOrthographicMatrix(xt/-2,xt/2,Gt/2,Gt/-2,Be,Z):this.camera.projectionMatrix=L.makePerspectiveMatrix(a._fov,xt/Gt,Be,Z),this.camera.projectionMatrix.elements[8]=-j.x*2/a.width,this.camera.projectionMatrix.elements[9]=j.y*2/a.height;let fi=this.calcCameraMatrix(a._pitch,a.angle);a.elevation&&(fi.elements[14]=a._camera.position[2]*Ht),this.camera.matrixWorld.copy(fi);let Fi=a.scale*this.state.worldSizeRatio,Me=new g.Matrix4,it=new g.Matrix4,ri=new g.Matrix4;Me.makeScale(Fi,Fi,Fi);let Mi=a.x||a.point.x,si=a.y||a.point.y;it.makeTranslation(-Mi,si,0),ri.makeRotationZ(Math.PI),this.world.matrix=new g.Matrix4().premultiply(ri).premultiply(this.state.translateCenter).premultiply(Me).premultiply(it),this.map.fire("CameraSynced",{detail:{nearZ:Be,farZ:Z,pitch:a._pitch,angle:a.angle,furthestDistance:ye,cameraToCenterDistance:this.cameraToCenterDistance,t:this.map.transform,tbProjMatrix:this.camera.projectionMatrix.elements,tbWorldMatrix:this.world.matrix.elements,cameraSyn:J}})},worldSize(){let O=this.map.transform;return O.tileSize*O.scale},worldSizeFromZoom(){let O=this.map.transform;return Math.pow(2,O.zoom)*O.tileSize},mercatorZfromAltitude(O,a){return O/this.circumferenceAtLatitude(a)},mercatorZfromZoom(){return this.cameraToCenterDistance/this.worldSizeFromZoom()},circumferenceAtLatitude(O){return G.EARTH_CIRCUMFERENCE*Math.cos(O*Math.PI/180)},calcCameraMatrix(O,a,j){const Z=this.map.transform,ye=O===void 0?Z._pitch:O,me=a===void 0?Z.angle:a,rt=j===void 0?this.cameraTranslateZ:j;return new g.Matrix4().premultiply(rt).premultiply(new g.Matrix4().makeRotationX(ye)).premultiply(new g.Matrix4().makeRotationZ(me))},updateCameraState(){let O=this.map.transform;if(!O.height)return;const a=O._camera.forward(),j=O.cameraToCenterDistance,Z=O.point;O._cameraZoom?O._cameraZoom:O._zoom;const me=this.mercatorZfromZoom(O)-this.mercatorZfromAltitude(O._centerAltitude,O.center.lat),rt=O.cameraToCenterDistance/me;return[Z.x/this.worldSize()-a[0]*j/rt,Z.y/this.worldSize()-a[1]*j/rt,this.mercatorZfromAltitude(O._centerAltitude,O._center.lat)+-a[2]*j/rt]},getWorldToCamera(O,a){let j=this.map.transform;const Z=new g.Matrix4,ye=new g.Matrix4,me=j._camera._orientation,rt=j._camera.position,ht=new g.Vector3(rt[0],rt[1],rt[2]),Ht=new g.Quaternion;Ht.set(me[0],me[1],me[2],me[3]);const Se=Ht.conjugate();return ht.multiplyScalar(-O),ye.makeTranslation(ht.x,ht.y,ht.z),Z.makeRotationFromQuaternion(Se).premultiply(ye),Z.elements[1]*=-1,Z.elements[5]*=-1,Z.elements[9]*=-1,Z.elements[13]*=-1,Z.elements[8]*=a,Z.elements[9]*=a,Z.elements[10]*=a,Z.elements[11]*=a,Z},translate(O,a,j){let Z=j[0]||j.x,ye=j[1]||j.y,me=j[2]||j.z,rt,ht,Ht,Se,Be,Gt,xt,fi,Fi,Me,it,ri;return a===O?(O[12]=a[0]*Z+a[4]*ye+a[8]*me+a[12],O[13]=a[1]*Z+a[5]*ye+a[9]*me+a[13],O[14]=a[2]*Z+a[6]*ye+a[10]*me+a[14],O[15]=a[3]*Z+a[7]*ye+a[11]*me+a[15]):(rt=a[0],ht=a[1],Ht=a[2],Se=a[3],Be=a[4],Gt=a[5],xt=a[6],fi=a[7],Fi=a[8],Me=a[9],it=a[10],ri=a[11],O[0]=rt,O[1]=ht,O[2]=Ht,O[3]=Se,O[4]=Be,O[5]=Gt,O[6]=xt,O[7]=fi,O[8]=Fi,O[9]=Me,O[10]=it,O[11]=ri,O[12]=rt*Z+Be*ye+Fi*me+a[12],O[13]=ht*Z+Gt*ye+Me*me+a[13],O[14]=Ht*Z+xt*ye+it*me+a[14],O[15]=Se*Z+fi*ye+ri*me+a[15]),O}},k.exports=J})(cm);var dm={exports:{}};(function(k,H){(function(){var g=Math.PI,L=Math.sin,G=Math.cos,J=Math.tan,O=Math.asin,a=Math.atan2,j=Math.acos,Z=g/180,ye=1e3*60*60*24,me=2440588,rt=2451545;function ht(dt){return dt.valueOf()/ye-.5+me}function Ht(dt){return new Date((dt+.5-me)*ye)}function Se(dt){return ht(dt)-rt}var Be=Z*23.4397;function Gt(dt,yt){return a(L(dt)*G(Be)-J(yt)*L(Be),G(dt))}function xt(dt,yt){return O(L(yt)*G(Be)+G(yt)*L(Be)*L(dt))}function fi(dt,yt,Vt){return a(L(dt),G(dt)*L(yt)-J(Vt)*G(yt))}function Fi(dt,yt,Vt){return O(L(yt)*L(Vt)+G(yt)*G(Vt)*G(dt))}function Me(dt,yt){return Z*(280.16+360.9856235*dt)-yt}function it(dt){return dt<0&&(dt=0),2967e-7/Math.tan(dt+.00312536/(dt+.08901179))}function ri(dt){return Z*(357.5291+.98560028*dt)}function Mi(dt){var yt=Z*(1.9148*L(dt)+.02*L(2*dt)+3e-4*L(3*dt)),Vt=Z*102.9372;return dt+yt+Vt+g}function si(dt){var yt=ri(dt),Vt=Mi(yt);return{dec:xt(Vt,0),ra:Gt(Vt,0)}}var Ze={};Ze.getPosition=function(dt,yt,Vt){var mt=Z*-Vt,Ot=Z*yt,Yi=Se(dt),Gi=si(Yi),an=Me(Yi,mt)-Gi.ra;return{azimuth:fi(an,Ot,Gi.dec),altitude:Fi(an,Ot,Gi.dec)}},Ze.toJulian=function(dt){return ht(dt)};var ze=Ze.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];Ze.addTime=function(dt,yt,Vt){ze.push([dt,yt,Vt])};var Kt=9e-4;function ji(dt,yt){return Math.round(dt-Kt-yt/(2*g))}function oi(dt,yt,Vt){return Kt+(dt+yt)/(2*g)+Vt}function Y(dt,yt,Vt){return rt+dt+.0053*L(yt)-.0069*L(2*Vt)}function ce(dt,yt,Vt){return j((L(dt)-L(yt)*L(Vt))/(G(yt)*G(Vt)))}function de(dt){return-2.076*Math.sqrt(dt)/60}function be(dt,yt,Vt,mt,Ot,Yi,Gi){var an=ce(dt,Vt,mt),sr=oi(an,yt,Ot);return Y(sr,Yi,Gi)}Ze.getTimes=function(dt,yt,Vt,mt){mt=mt||0;var Ot=Z*-Vt,Yi=Z*yt,Gi=de(mt),an=Se(dt),sr=ji(an,Ot),Er=oi(0,Ot,sr),Ir=ri(Er),_r=Mi(Ir),Ar=xt(_r,0),Wn=Y(Er,Ir,_r),Li,Ie,Ne,st,Je,ot,Tt={solarNoon:Ht(Wn),nadir:Ht(Wn-.5)};for(Li=0,Ie=ze.length;Li<Ie;Li+=1)Ne=ze[Li],st=(Ne[0]+Gi)*Z,Je=be(st,Ot,Yi,Ar,sr,Ir,_r),ot=Wn-(Je-Wn),Tt[Ne[1]]=Ht(ot),Tt[Ne[2]]=Ht(Je);return Tt};function xe(dt){var yt=Z*(218.316+13.176396*dt),Vt=Z*(134.963+13.064993*dt),mt=Z*(93.272+13.22935*dt),Ot=yt+Z*6.289*L(Vt),Yi=Z*5.128*L(mt),Gi=385001-20905*G(Vt);return{ra:Gt(Ot,Yi),dec:xt(Ot,Yi),dist:Gi}}Ze.getMoonPosition=function(dt,yt,Vt){var mt=Z*-Vt,Ot=Z*yt,Yi=Se(dt),Gi=xe(Yi),an=Me(Yi,mt)-Gi.ra,sr=Fi(an,Ot,Gi.dec),Er=a(L(an),J(Ot)*G(Gi.dec)-L(Gi.dec)*G(an));return sr=sr+it(sr),{azimuth:fi(an,Ot,Gi.dec),altitude:sr,distance:Gi.dist,parallacticAngle:Er}},Ze.getMoonIllumination=function(dt){var yt=Se(dt||new Date),Vt=si(yt),mt=xe(yt),Ot=149598e3,Yi=j(L(Vt.dec)*L(mt.dec)+G(Vt.dec)*G(mt.dec)*G(Vt.ra-mt.ra)),Gi=a(Ot*L(Yi),mt.dist-Ot*G(Yi)),an=a(G(Vt.dec)*L(Vt.ra-mt.ra),L(Vt.dec)*G(mt.dec)-G(Vt.dec)*L(mt.dec)*G(Vt.ra-mt.ra));return{fraction:(1+G(Gi))/2,phase:.5+.5*Gi*(an<0?-1:1)/Math.PI,angle:an}};function nt(dt,yt){return new Date(dt.valueOf()+yt*ye/24)}Ze.getMoonTimes=function(dt,yt,Vt,mt){var Ot=new Date(dt);mt?Ot.setUTCHours(0,0,0,0):Ot.setHours(0,0,0,0);for(var Yi=.133*Z,Gi=Ze.getMoonPosition(Ot,yt,Vt).altitude-Yi,an,sr,Er,Ir,_r,Ar,Wn,Li,Ie,Ne,st,Je,ot,Tt=1;Tt<=24&&(an=Ze.getMoonPosition(nt(Ot,Tt),yt,Vt).altitude-Yi,sr=Ze.getMoonPosition(nt(Ot,Tt+1),yt,Vt).altitude-Yi,_r=(Gi+sr)/2-an,Ar=(sr-Gi)/2,Wn=-Ar/(2*_r),Li=(_r*Wn+Ar)*Wn+an,Ie=Ar*Ar-4*_r*an,Ne=0,Ie>=0&&(ot=Math.sqrt(Ie)/(Math.abs(_r)*2),st=Wn-ot,Je=Wn+ot,Math.abs(st)<=1&&Ne++,Math.abs(Je)<=1&&Ne++,st<-1&&(st=Je)),Ne===1?Gi<0?Er=Tt+st:Ir=Tt+st:Ne===2&&(Er=Tt+(Li<0?Je:st),Ir=Tt+(Li<0?st:Je)),!(Er&&Ir));Tt+=2)Gi=sr;var Pt={};return Er&&(Pt.rise=nt(Ot,Er)),Ir&&(Pt.set=nt(Ot,Ir)),!Er&&!Ir&&(Pt[Li>0?"alwaysUp":"alwaysDown"]=!0),Pt},k.exports=Ze})()})(dm);var ru={exports:{}},xp={exports:{}};(function(k,H){var g=q0.exports,L=La.exports,G={material:"MeshBasicMaterial",color:"black",opacity:1};function J(O){var a;O?(O=g._validate(O,G),O.material&&O.material.isMaterial?a=O.material:O.material||O.color||O.opacity?a=new L[O.material]({color:O.color,transparent:O.opacity<1}):a=j(),a.opacity=O.opacity,O.side&&(a.side=O.side)):a=j();function j(){return new L[G.material]({color:G.color})}return a}k.exports=J})(xp);var pm={exports:{}};(function(k,H){const g=La.exports,L=q0.exports;function G(O){this.map=O,this.enrolledObjects=[],this.previousFrameTime}G.prototype={unenroll:function(O){this.enrolledObjects.splice(this.enrolledObjects.indexOf(O),1)},enroll:function(O){if(O.clock=new g.Clock,O.hasDefaultAnimation=!1,O.defaultAction,O.actions=[],O.mixer,O.animations&&O.animations.length>0){O.hasDefaultAnimation=!0;let Z=O.userData.defaultAnimation?O.userData.defaultAnimation:0;O.mixer=new g.AnimationMixer(O),a(Z)}function a(Z){for(let ye=0;ye<O.animations.length;ye++){Z>O.animations.length&&console.log("The animation index "+Z+" doesn't exist for this object");let me=O.animations[ye],rt=O.mixer.clipAction(me);O.actions.push(rt),Z===ye?(O.defaultAction=rt,rt.setEffectiveWeight(1)):rt.setEffectiveWeight(0),rt.play()}}let j=!1;Object.defineProperty(O,"isPlaying",{get(){return j},set(Z){j!=Z&&(j=Z,O.dispatchEvent({type:"IsPlayingChanged",detail:O}))}}),this.enrolledObjects.push(O),O.animationQueue=[],O.set=function(Z){if(Z.duration>0){let ye={start:Date.now(),expiration:Date.now()+Z.duration,endState:{}};L.extend(Z,ye);let me=Z.coords,rt=Z.rotation,ht=Z.scale||Z.scaleX||Z.scaleY||Z.scaleZ;if(rt){let Se=O.rotation;Z.startRotation=[Se.x,Se.y,Se.z],Z.endState.rotation=L.types.rotation(Z.rotation,Z.startRotation),Z.rotationPerMs=Z.endState.rotation.map(function(Be,Gt){return(Be-Z.startRotation[Gt])/Z.duration})}if(ht){let Se=O.scale;Z.startScale=[Se.x,Se.y,Se.z],Z.endState.scale=L.types.scale(Z.scale,Z.startScale),Z.scalePerMs=Z.endState.scale.map(function(Be,Gt){return(Be-Z.startScale[Gt])/Z.duration})}me&&(Z.pathCurve=new g.CatmullRomCurve3(L.lnglatsToWorld([O.coordinates,Z.coords])));let Ht={type:"set",parameters:Z};this.animationQueue.push(Ht),tb.map.repaint=!0}else this.stop(),Z.rotation=L.radify(Z.rotation),this._setObject(Z);return this},O.animationMethod=null,O.stop=function(Z){return O.mixer&&(O.isPlaying=!1,cancelAnimationFrame(O.animationMethod)),this.animationQueue=[],this},O.followPath=function(Z,ye){let me={type:"followPath",parameters:L._validate(Z,J.followPath)};return L.extend(me.parameters,{pathCurve:new g.CatmullRomCurve3(L.lnglatsToWorld(Z.path)),start:Date.now(),expiration:Date.now()+me.parameters.duration,cb:ye}),this.animationQueue.push(me),tb.map.repaint=!0,this},O._setObject=function(Z){O.setScale();let ye=Z.position,me=Z.rotation,rt=Z.scale,ht=Z.worldCoordinates,Ht=Z.quaternion,Se=Z.translate,Be=Z.worldTranslate;if(ye){this.coordinates=ye;let xt=L.projectToWorld(ye);this.position.copy(xt)}if(Se){this.coordinates=[this.coordinates[0]+Se[0],this.coordinates[1]+Se[1],this.coordinates[2]+Se[2]];let xt=L.projectToWorld(Se);this.position.copy(xt),Z.position=this.coordinates}if(Be){this.translateX(Be.x),this.translateY(Be.y),this.translateZ(Be.z);let xt=L.unprojectFromWorld(this.position);this.coordinates=Z.position=xt}if(me&&(this.rotation.set(me[0],me[1],me[2]),Z.rotation=new g.Vector3(me[0],me[1],me[2])),rt&&(this.scale.set(rt[0],rt[1],rt[2]),Z.scale=this.scale),Ht&&(this.quaternion.setFromAxisAngle(Ht[0],Ht[1]),Z.rotation=Ht[0].multiplyScalar(Ht[1])),ht){this.position.copy(ht);let xt=L.unprojectFromWorld(ht);this.coordinates=Z.position=xt}this.setBoundingBoxShadowFloor(),this.setReceiveShadowFloor(),this.updateMatrixWorld(),tb.map.repaint=!0;let Gt={type:"ObjectChanged",detail:{object:this,action:{position:Z.position,rotation:Z.rotation,scale:Z.scale}}};this.dispatchEvent(Gt)},O.playDefault=function(Z){if(O.mixer&&O.hasDefaultAnimation){let ye={start:Date.now(),expiration:Date.now()+Z.duration,endState:{}};L.extend(Z,ye),O.mixer.timeScale=Z.speed||1;let me={type:"playDefault",parameters:Z};return this.animationQueue.push(me),tb.map.repaint=!0,this}},O.playAnimation=function(Z){O.mixer&&(Z.animation&&a(Z.animation),O.playDefault(Z))},O.pauseAllActions=function(){O.mixer&&O.actions.forEach(function(Z){Z.paused=!0})},O.unPauseAllActions=function(){O.mixer&&O.actions.forEach(function(Z){Z.paused=!1})},O.deactivateAllActions=function(){O.mixer&&O.actions.forEach(function(Z){Z.stop()})},O.activateAllActions=function(){O.mixer&&O.actions.forEach(function(Z){Z.play()})},O.idle=function(){return O.mixer&&O.mixer.update(.01),tb.map.repaint=!0,this}},update:function(O){if(this.previousFrameTime===void 0&&(this.previousFrameTime=O),!this.enrolledObjects)return!1;for(let a=this.enrolledObjects.length-1;a>=0;a--){let j=this.enrolledObjects[a];if(!(!j.animationQueue||j.animationQueue.length===0))for(let Z=j.animationQueue.length-1;Z>=0;Z--){let ye=j.animationQueue[Z];if(!ye)continue;let me=ye.parameters;if(!me.expiration){j.animationQueue.splice(Z,1),j.animationQueue[Z]&&(j.animationQueue[Z].parameters.start=O);return}if(O>=me.expiration)me.expiration=!1,ye.type==="playDefault"?j.stop():(me.endState&&j._setObject(me.endState),typeof me.cb<"u"&&me.cb());else{let ht=(O-me.start)/me.duration;if(ye.type==="set"){let Ht={};me.pathCurve&&(Ht.worldCoordinates=me.pathCurve.getPoint(ht)),me.rotationPerMs&&(Ht.rotation=me.startRotation.map(function(Se,Be){return Se+me.rotationPerMs[Be]*ht*me.duration})),me.scalePerMs&&(Ht.scale=me.startScale.map(function(Se,Be){return Se+me.scalePerMs[Be]*ht*me.duration})),j._setObject(Ht)}if(ye.type==="followPath"){let Se={worldCoordinates:me.pathCurve.getPointAt(ht)};if(me.trackHeading){let Be=me.pathCurve.getTangentAt(ht).normalize(),Gt=new g.Vector3(0,0,0),xt=new g.Vector3(0,1,0);Gt.crossVectors(xt,Be).normalize();let fi=Math.acos(xt.dot(Be));Se.quaternion=[Gt,fi]}j._setObject(Se)}ye.type==="playDefault"&&(j.activateAllActions(),j.isPlaying=!0,j.animationMethod=requestAnimationFrame(this.update),j.mixer.update(j.clock.getDelta()),tb.map.repaint=!0)}}}this.previousFrameTime=O}};const J={followPath:{path:null,duration:1e3,trackHeading:!0}};k.exports=G})(pm);var w1={exports:{}};(function(k,H){const g=La.exports;(function(){class L extends g.Object3D{constructor(me){super(),this.element=me||document.createElement("div"),this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.alwaysVisible=!1,Object.defineProperty(this,"layer",{get(){return this.parent&&this.parent.parent?this.parent.parent.layer:null}}),this.dispose=function(){this.remove(),this.element=null},this.remove=function(){this.element instanceof Element&&this.element.parentNode!==null&&this.element.parentNode.removeChild(this.element)},this.addEventListener("removed",function(){this.remove()})}copy(me,rt){return super.copy(me,rt),this.element=me.element.cloneNode(!0),this}}L.prototype.isCSS2DObject=!0;const G=new g.Vector3,J=new g.Matrix4,O=new g.Matrix4,a=new g.Vector3,j=new g.Vector3;class Z{constructor(){const me=this;let rt,ht,Ht,Se;const Be={objects:new WeakMap,list:new Map};this.cacheList=Be.list;const Gt=document.createElement("div");Gt.style.overflow="hidden",this.domElement=Gt,this.getSize=function(){return{width:rt,height:ht}},this.render=function(it,ri){it.autoUpdate===!0&&it.updateMatrixWorld(),ri.parent===null&&ri.updateMatrixWorld(),J.copy(ri.matrixWorldInverse),O.multiplyMatrices(ri.projectionMatrix,J),xt(it,it,ri),Me(it)},this.setSize=function(it,ri){rt=it,ht=ri,Ht=rt/2,Se=ht/2,Gt.style.width=it+"px",Gt.style.height=ri+"px"};function xt(it,ri,Mi){if(it.isCSS2DObject)if(!it.visible)Be.objects.delete({key:it.uuid}),Be.list.delete(it.uuid),it.remove();else{it.onBeforeRender(me,ri,Mi),G.setFromMatrixPosition(it.matrixWorld),G.applyMatrix4(O);const Ze=it.element;var si;/apple/i.test(navigator.vendor)?si="translate(-50%,-50%) translate("+Math.round(G.x*Ht+Ht)+"px,"+Math.round(-G.y*Se+Se)+"px)":si="translate(-50%,-50%) translate("+(G.x*Ht+Ht)+"px,"+(-G.y*Se+Se)+"px)",Ze.style.WebkitTransform=si,Ze.style.MozTransform=si,Ze.style.oTransform=si,Ze.style.transform=si,Ze.style.display=it.visible&&G.z>=-1&&G.z<=1?"":"none";const ze={distanceToCameraSquared:fi(Mi,it)};Be.objects.set({key:it.uuid},ze),Be.list.set(it.uuid,it),Ze.parentNode!==Gt&&Gt.appendChild(Ze),it.onAfterRender(me,ri,Mi)}for(let Ze=0,ze=it.children.length;Ze<ze;Ze++)xt(it.children[Ze],ri,Mi)}function fi(it,ri){return a.setFromMatrixPosition(it.matrixWorld),j.setFromMatrixPosition(ri.matrixWorld),a.distanceToSquared(j)}function Fi(it){const ri=[];return it.traverse(function(Mi){Mi.isCSS2DObject&&ri.push(Mi)}),ri}function Me(it){const ri=Fi(it).sort(function(si,Ze){let ze=Be.objects.get({key:si.uuid}),Kt=Be.objects.get({key:Ze.uuid});if(ze&&Kt){const ji=ze.distanceToCameraSquared,oi=Kt.distanceToCameraSquared;return ji-oi}}),Mi=ri.length;for(let si=0,Ze=ri.length;si<Ze;si++)ri[si].element.style.zIndex=Mi-si}}}g.CSS2DObject=L,g.CSS2DRenderer=Z})(),k.exports={CSS2DRenderer:g.CSS2DRenderer,CSS2DObject:g.CSS2DObject}})(w1);(function(k,H){const g=q0.exports,L=La.exports,G=pm.exports,J=w1.exports;function O(){}O.prototype={line:function(a){a=g._validate(a,this._defaults.line);var j=g.lnglatsToWorld(a.geometry),Z=g.normalizeVertices(j),ye=g.flattenVectors(Z.vertices),me=new Float32Array(ye),rt=new L.BufferGeometry;rt.setAttribute("position",new L.BufferAttribute(me,3));var ht=new L.LineBasicMaterial({color:16711680,linewidth:21}),Ht=new L.Line(rt,ht);return Ht.options=options||{},Ht.position.copy(Z.position),Ht},extrusion:function(a){},unenroll:function(a,j){var Z=this;j||Z.animationManager.unenroll(a)},_addMethods:function(a,j){var Z=this;const ye="label",me="tooltip",rt="help",ht="shadowPlane";if(!j){let Se=function(Ze,ze,Kt,ji){let oi=g.radify(ji);Ze.position.sub(ze),Ze.position.applyAxisAngle(Kt,oi),Ze.position.add(ze),Ze.rotateOnAxis(Kt,oi),tb.map.repaint=!0},si=function(Ze){return Math.pow(2,Ze)};a.coordinates||(a.coordinates=[0,0,0]),Object.defineProperty(a,"model",{get(){return a.getObjectByName("model")}}),Object.defineProperty(a,"animations",{get(){const Ze=a.model;return Ze?Ze.animations:null}}),Z.animationManager.enroll(a),a.setCoords=function(Ze){return a.userData.topMargin&&a.userData.feature&&(Ze[2]+=((a.userData.feature.properties.height||0)-(a.userData.feature.properties.base_height||a.userData.feature.properties.min_height||0))*(a.userData.topMargin||0)),a.coordinates=Ze,a.set({position:Ze}),a},a.setTranslate=function(Ze){return a.set({translate:Ze}),a},a.setRotation=function(Ze){typeof Ze=="number"&&(Ze={z:Ze});var ze={x:g.radify(Ze.x)||a.rotation.x,y:g.radify(Ze.y)||a.rotation.y,z:g.radify(Ze.z)||a.rotation.z};a._setObject({rotation:[ze.x,ze.y,ze.z]})},a.calculateAdjustedPosition=function(Ze,ze,Kt){let ji=Ze.slice(),oi=g.unprojectFromWorld(a.modelSize);return Kt?(ji[0]-=ze.x!=0?oi[0]/ze.x:0,ji[1]-=ze.y!=0?oi[1]/ze.y:0,ji[2]-=ze.z!=0?oi[2]/ze.z:0):(ji[0]+=ze.x!=0?oi[0]/ze.x:0,ji[1]+=ze.y!=0?oi[1]/ze.y:0,ji[2]+=ze.z!=0?oi[2]/ze.z:0),ji},a.setRotationAxis=function(Ze){typeof Ze=="number"&&(Ze={z:Ze});let ze=a.modelBox(),Kt=new L.Vector3(ze.max.x,ze.max.y,ze.min.z);Ze.x!=0&&Se(a,Kt,new L.Vector3(0,0,1),Ze.x),Ze.y!=0&&Se(a,Kt,new L.Vector3(0,0,1),Ze.y),Ze.z!=0&&Se(a,Kt,new L.Vector3(0,0,1),Ze.z)},Object.defineProperty(a,"scaleGroup",{get(){return a.getObjectByName("scaleGroup")}}),Object.defineProperty(a,"boxGroup",{get(){return a.getObjectByName("boxGroup")}}),Object.defineProperty(a,"boundingBox",{get(){return a.getObjectByName("boxModel")}}),Object.defineProperty(a,"boundingBoxShadow",{get(){return a.getObjectByName("boxShadow")}}),a.drawBoundingBox=function(){let Ze=a.box3(),ze=new L.Group;ze.name="boxGroup",ze.updateMatrixWorld(!0);let Kt=new L.Box3Helper(Ze,O.prototype._defaults.colors.yellow);Kt.name="boxModel",ze.add(Kt),Kt.layers.disable(0);let ji=Ze.clone();ji.max.z=ji.min.z;let oi=new L.Box3Helper(ji,O.prototype._defaults.colors.black);oi.name="boxShadow",ze.add(oi),oi.layers.disable(0),ze.visible=!1,a.scaleGroup.add(ze),a.setBoundingBoxShadowFloor()},a.setBoundingBoxShadowFloor=function(){if(a.boundingBoxShadow){let Ze=-a.modelHeight,ze=a.rotation,Kt=a.boundingBoxShadow;Kt.box.max.z=Kt.box.min.z=Ze,Kt.rotation.y=ze.y,Kt.rotation.x=-ze.x}},a.setAnchor=function(Ze){const ze=a.box3(),Kt=ze.getCenter(new L.Vector3);switch(a.none={x:0,y:0,z:0},a.center={x:Kt.x,y:Kt.y,z:ze.min.z},a.bottom={x:Kt.x,y:ze.max.y,z:ze.min.z},a.bottomLeft={x:ze.max.x,y:ze.max.y,z:ze.min.z},a.bottomRight={x:ze.min.x,y:ze.max.y,z:ze.min.z},a.top={x:Kt.x,y:ze.min.y,z:ze.min.z},a.topLeft={x:ze.max.x,y:ze.min.y,z:ze.min.z},a.topRight={x:ze.min.x,y:ze.min.y,z:ze.min.z},a.left={x:ze.max.x,y:Kt.y,z:ze.min.z},a.right={x:ze.min.x,y:Kt.y,z:ze.min.z},Ze){case"center":a.anchor=a.center;break;case"top":a.anchor=a.top;break;case"top-left":a.anchor=a.topLeft;break;case"top-right":a.anchor=a.topRight;break;case"left":a.anchor=a.left;break;case"right":a.anchor=a.right;break;case"bottom":a.anchor=a.bottom;break;case"bottom-left":default:a.anchor=a.bottomLeft;break;case"bottom-right":a.anchor=a.bottomRight;break;case"auto":case"none":a.anchor=a.none}a.model.position.set(-a.anchor.x,-a.anchor.y,-a.anchor.z)},a.setCenter=function(Ze){if(Ze&&(Ze.x!=0||Ze.y!=0||Ze.z!=0)){let ze=a.getSize();a.anchor={x:a.anchor.x-ze.x*Ze.x,y:a.anchor.y-ze.y*Ze.y,z:a.anchor.z-ze.z*Ze.z},a.model.position.set(-a.anchor.x,-a.anchor.y,-a.anchor.z)}},Object.defineProperty(a,"label",{get(){return a.getObjectByName(ye)}}),Object.defineProperty(a,"tooltip",{get(){return a.getObjectByName(me)}}),Object.defineProperty(a,"help",{get(){return a.getObjectByName(rt)}});let Be=!1;Object.defineProperty(a,"hidden",{get(){return Be},set(Ze){Be!=Ze&&(Be=Ze,a.visibility=!Be)}}),Object.defineProperty(a,"visibility",{get(){return a.visible},set(Ze){let ze=Ze;if(Ze=="visible"||Ze==!0)ze=!0,a.label&&(a.label.visible=ze);else if(Ze=="none"||Ze==!1)ze=!1,a.label&&a.label.alwaysVisible&&(a.label.visible=ze),a.tooltip&&(a.tooltip.visible=ze);else return;if(a.visible!=ze){if(a.hidden&&ze)return;a.visible=ze,a.model&&a.model.traverse(function(Kt){(Kt.type=="Mesh"||Kt.type=="SkinnedMesh")&&(ze&&a.raycasted?Kt.layers.enable(0):Kt.layers.disable(0)),Kt.type=="LineSegments"&&Kt.layers.disableAll()})}}}),a.addLabel=function(Ze,ze,Kt,ji){Ze&&a.drawLabelHTML(Ze,ze,Kt,ji)},a.removeLabel=function(){a.removeCSS2D(ye)},a.drawLabelHTML=function(Ze,ze=!1,Kt=a.anchor,ji=.5){let oi=Z.drawLabelHTML(Ze,O.prototype._defaults.label.cssClass),Y=a.addCSS2D(oi,ye,Kt,ji);return Y.alwaysVisible=ze,Y.visible=ze,Y},a.addTooltip=function(Ze,ze,Kt,ji=!0,oi=1){let Y=a.addHelp(Ze,me,ze,Kt,oi);Y.visible=!1,Y.custom=ji},a.removeTooltip=function(){a.removeCSS2D(me)},a.addHelp=function(Ze,ze=rt,Kt=!1,ji=a.anchor,oi=0){let Y=Z.drawTooltip(Ze,Kt),ce=a.addCSS2D(Y,ze,ji,oi);return ce.visible=!0,ce},a.removeHelp=function(){a.removeCSS2D(rt)},a.addCSS2D=function(Ze,ze,Kt=a.anchor,ji=1){if(Ze){const oi=a.box3(),Y=oi.getSize(new L.Vector3);let ce={x:oi.max.x,y:oi.max.y,z:oi.min.z};a.removeCSS2D(ze);let de=new J.CSS2DObject(Ze);return de.name=ze,de.position.set(-Y.x*.5-a.model.position.x-Kt.x+ce.x,-Y.y*.5-a.model.position.y-Kt.y+ce.y,Y.z*ji),de.visible=!1,a.scaleGroup.add(de),de}},a.removeCSS2D=function(Ze){let ze=a.getObjectByName(Ze);if(ze){ze.dispose();let Kt=a.scaleGroup.children;Kt.splice(Kt.indexOf(ze),1)}},Object.defineProperty(a,"shadowPlane",{get(){return a.getObjectByName(ht)}});let Gt=!1;Object.defineProperty(a,"castShadow",{get(){return Gt},set(Ze){if(!(!a.model||Gt===Ze)){if(a.model.traverse(function(ze){ze.isMesh&&(ze.castShadow=!0)}),Ze){const ze=a.modelSize,Kt=[ze.x,ze.y,ze.z,a.modelHeight],ji=Math.max(...Kt)*10,oi=new L.PlaneBufferGeometry(ji,ji),Y=new L.ShadowMaterial;Y.opacity=.5;let ce=new L.Mesh(oi,Y);ce.name=ht,ce.layers.enable(1),ce.layers.disable(0),ce.receiveShadow=Ze,a.add(ce)}else a.traverse(function(ze){ze.isMesh&&ze.material instanceof L.ShadowMaterial&&a.remove(ze)});Gt=Ze}}}),a.setReceiveShadowFloor=function(){if(a.castShadow){let Ze=a.shadowPlane,ze=Ze.position,Kt=Ze.rotation;if(ze.z=-a.modelHeight,Kt.y=a.rotation.y,Kt.x=-a.rotation.x,a.userData.units==="meters"){const ji=a.modelSize,oi=[ji.x,ji.y,ji.z,-ze.z],ce=Math.max(...oi)*10/Ze.geometry.parameters.width;Ze.scale.set(ce,ce,ce)}}};let xt=!1;Object.defineProperty(a,"receiveShadow",{get(){return xt},set(Ze){!a.model||xt===Ze||(a.model.traverse(function(ze){ze.isMesh&&(ze.receiveShadow=!0)}),xt=Ze)}});let fi=!1;Object.defineProperty(a,"wireframe",{get(){return fi},set(Ze){!a.model||fi===Ze||(a.model.traverse(function(ze){if(ze.type=="Mesh"||ze.type=="SkinnedMesh"){let Kt=[];Array.isArray(ze.material)?Kt=ze.material:Kt.push(ze.material);let ji=Kt[0];Ze?(ze.userData.materials=ji,ze.material=ji.clone(),ze.material.wireframe=ze.material.transparent=Ze,ze.material.opacity=.3):(ze.material.dispose(),ze.material=ze.userData.materials,ze.userData.materials.dispose(),ze.userData.materials=null),Ze?(ze.layers.disable(0),ze.layers.enable(1)):(ze.layers.disable(1),ze.layers.enable(0))}ze.type=="LineSegments"&&ze.layers.disableAll()}),fi=Ze,a.dispatchEvent({type:"Wireframed",detail:a}))}});let Fi=null;Object.defineProperty(a,"color",{get(){return Fi},set(Ze){!a.model||Fi===Ze||(a.model.traverse(function(ze){if(ze.type=="Mesh"||ze.type=="SkinnedMesh"){let Kt=[];Array.isArray(ze.material)?Kt=ze.material:Kt.push(ze.material);let ji=Kt[0];Ze?(ze.userData.materials=ji,ze.material=new L.MeshStandardMaterial,ze.material.color.setHex(Ze)):(ze.material.dispose(),ze.material=ze.userData.materials,ze.userData.materials.dispose(),ze.userData.materials=null)}}),Fi=Ze)}});let Me=!1;Object.defineProperty(a,"selected",{get(){return Me},set(Ze){Ze?(a.userData.bbox&&!a.boundingBox&&a.drawBoundingBox(),a.boxGroup&&(a.boundingBox.material=O.prototype._defaults.materials.boxSelectedMaterial,a.boundingBox.parent.visible=!0,a.boundingBox.layers.enable(1),a.boundingBoxShadow.layers.enable(1)),a.label&&!a.label.alwaysVisible&&(a.label.visible=!0)):(a.boxGroup&&a.remove(a.boxGroup),a.label&&!a.label.alwaysVisible&&(a.label.visible=!1),a.removeHelp()),a.tooltip&&(a.tooltip.visible=Ze),Me!=Ze&&(Me=Ze,a.dispatchEvent({type:"SelectedChange",detail:a}))}});let it=!0;Object.defineProperty(a,"raycasted",{get(){return it},set(Ze){!a.model||it===Ze||(a.model.traverse(function(ze){(ze.type=="Mesh"||ze.type=="SkinnedMesh")&&(Ze?(ze.layers.disable(1),ze.layers.enable(0)):(ze.layers.disable(0),ze.layers.enable(1)))}),it=Ze)}});let ri=!1;Object.defineProperty(a,"over",{get(){return ri},set(Ze){Ze?(a.selected||(a.userData.bbox&&!a.boundingBox&&a.drawBoundingBox(),a.userData.tooltip&&!a.tooltip&&a.addTooltip(a.uuid,!0,a.anchor,!1),a.boxGroup&&(a.boundingBox.material=O.prototype._defaults.materials.boxOverMaterial,a.boundingBox.parent.visible=!0,a.boundingBox.layers.enable(1),a.boundingBoxShadow.layers.enable(1))),a.label&&!a.label.alwaysVisible&&(a.label.visible=!0),a.dispatchEvent({type:"ObjectMouseOver",detail:a})):(a.selected||(a.boxGroup&&(a.remove(a.boxGroup),a.tooltip&&!a.tooltip.custom&&a.removeTooltip()),a.label&&!a.label.alwaysVisible&&(a.label.visible=!1)),a.dispatchEvent({type:"ObjectMouseOut",detail:a})),a.tooltip&&(a.tooltip.visible=Ze||a.selected),ri=Ze}}),a.box3=function(){a.updateMatrix(),a.updateMatrixWorld(!0,!0);let Ze;if(a.model){let ze=a.clone(!0),Kt=a.model.clone();if(Ze=new L.Box3().setFromObject(Kt),a.parent){let ji=new L.Matrix4,oi=new L.Matrix4;a.matrix.extractRotation(ji),oi.copy(ji).invert(),ze.setRotationFromMatrix(oi),Ze=new L.Box3().setFromObject(Kt)}}return Ze},a.modelBox=function(){return a.box3()},a.getSize=function(){return a.box3().getSize(new L.Vector3(0,0,0))};let Mi=!1;Object.defineProperty(a,"modelSize",{get(){return Mi=a.getSize(),Mi},set(Ze){Mi!=Ze&&(Mi=Ze)}}),Object.defineProperty(a,"modelHeight",{get(){let Ze=a.coordinates[2]||0;return a.userData.units==="scene"&&(Ze*=a.unitsPerMeter/a.scale.x),Ze}}),Object.defineProperty(a,"unitsPerMeter",{get(){return Number(g.projectedUnitsPerMeter(a.coordinates[1]).toFixed(7))}}),Object.defineProperty(a,"fixedZoom",{get(){return a.userData.fixedZoom},set(Ze){a.userData.fixedZoom!==Ze&&(a.userData.fixedZoom=Ze,a.userData.units=Ze?"scene":"meters")}}),a.setFixedZoom=function(Ze){if(a.fixedZoom!=null&&a.fixedZoom!=0){Ze||(Ze=a.userData.mapScale);let ze=si(a.fixedZoom);if(ze>Ze){let Kt=ze/Ze;a.scale.set(Kt,Kt,Kt)}else a.scale.set(1,1,1)}},a.setScale=function(Ze){if(a.userData.units!="scene"){let ze=a.unitsPerMeter;a.scale.set(ze,ze,ze)}else a.fixedZoom?(Ze&&(a.userData.mapScale=Ze),a.setFixedZoom(a.userData.mapScale)):a.scale.set(1,1,1)},a.setObjectScale=function(Ze){a.setScale(Ze),a.setBoundingBoxShadowFloor(),a.setReceiveShadowFloor()}}a.add=function(Se){return a.scaleGroup.add(Se),Se.position.z=a.coordinates[2]?-a.coordinates[2]:0,Se},a.remove=function(Se){!Se||(Se.traverse(Be=>{if(Be.geometry&&Be.geometry.dispose(),Be.material)if(Be.material.isMaterial)Ht(Be.material);else for(const Gt of Be.material)Ht(Gt);Be.dispose&&Be.dispose()}),a.scaleGroup.remove(Se),tb.map.repaint=!0)},a.duplicate=function(Se){let Be=a.clone(!0);if(Be.getObjectByName("model").animations=a.animations,Be.userData.feature&&(Se&&Se.feature&&(Be.userData.feature=Se.feature),Be.userData.feature.properties.uuid=Be.uuid),Z._addMethods(Be),!Se||g.equal(Se.scale,a.userData.scale))return Be.copyAnchor(a),Be;{Be.userData=Se,Be.userData.isGeoGroup=!0,Be.remove(Be.boxGroup);const Gt=g.types.rotation(Se.rotation,[0,0,0]),xt=g.types.scale(Se.scale,[1,1,1]);return Be.model.position.set(0,0,0),Be.model.rotation.set(Gt[0],Gt[1],Gt[2]),Be.model.scale.set(xt[0],xt[1],xt[2]),Be.setAnchor(Se.anchor),Be.setCenter(Se.adjustment),Be}},a.copyAnchor=function(Se){a.anchor=Se.anchor,a.none={x:0,y:0,z:0},a.center=Se.center,a.bottom=Se.bottom,a.bottomLeft=Se.bottomLeft,a.bottomRight=Se.bottomRight,a.top=Se.top,a.topLeft=Se.topLeft,a.topRight=Se.topRight,a.left=Se.left,a.right=Se.right},a.dispose=function(){O.prototype.unenroll(a),a.traverse(Se=>{if(!(Se.parent&&Se.parent.name=="world")&&Se.name!=="threeboxObject"){if(Se.geometry&&Se.geometry.dispose(),Se.material)if(Se.material.isMaterial)Ht(Se.material);else for(const Be of Se.material)Ht(Be);Se.dispose&&Se.dispose()}}),a.children=[]};const Ht=Se=>{Se.dispose();for(const xt of Object.keys(Se)){const fi=Se[xt];fi&&typeof fi=="object"&&"minFilter"in fi&&fi.dispose()}let Be=Se;(Be.map||Be.alphaMap||Be.aoMap||Be.bumpMap||Be.displacementMap||Be.emissiveMap||Be.envMap||Be.lightMap||Be.metalnessMap||Be.normalMap||Be.roughnessMap)&&(Be.map&&Be.map.dispose(),Be.alphaMap&&Be.alphaMap.dispose(),Be.aoMap&&Be.aoMap.dispose(),Be.bumpMap&&Be.bumpMap.dispose(),Be.displacementMap&&Be.displacementMap.dispose(),Be.emissiveMap&&Be.emissiveMap.dispose(),Be.envMap&&Be.envMap.dispose(),Be.lightMap&&Be.lightMap.dispose(),Be.metalnessMap&&Be.metalnessMap.dispose(),Be.normalMap&&Be.normalMap.dispose(),Be.roughnessMap&&Be.roughnessMap.dispose())};return a},_makeGroup:function(a,j){let Z=new L.Group;Z.name="scaleGroup",Z.add(a);var ye=new L.Group;ye.userData=j||{},ye.userData.isGeoGroup=!0,ye.userData.feature&&(ye.userData.feature.properties.uuid=ye.uuid);var me=Z.length;if(me)for(o of Z)ye.add(o);else ye.add(Z);return ye.name="threeboxObject",ye},animationManager:new G,drawTooltip:function(a,j=!1){if(a){let Z;if(j){let ye=document.createElement("div");ye.className="mapboxgl-popup-content";let me=document.createElement("strong");me.innerHTML=a,ye.appendChild(me);let rt=document.createElement("div");rt.className="mapboxgl-popup-tip";let ht=document.createElement("div");ht.className="marker mapboxgl-popup-anchor-bottom",ht.appendChild(rt),ht.appendChild(ye),Z=document.createElement("div"),Z.className+="label3D",Z.appendChild(ht)}else Z=document.createElement("span"),Z.className=this._defaults.tooltip.cssClass,Z.innerHTML=a;return Z}},drawLabelHTML:function(a,j){let Z=document.createElement("div");return Z.className+=j,typeof a=="string"?Z.innerHTML=a:Z.innerHTML=a.outerHTML,Z},_defaults:{colors:{red:new L.Color(16711680),yellow:new L.Color(16776960),green:new L.Color(65280),black:new L.Color(0)},materials:{boxNormalMaterial:new L.LineBasicMaterial({color:new L.Color(16711680)}),boxOverMaterial:new L.LineBasicMaterial({color:new L.Color(16776960)}),boxSelectedMaterial:new L.LineBasicMaterial({color:new L.Color(65280)})},line:{geometry:null,color:"black",width:1,opacity:1},label:{htmlElement:null,cssClass:" label3D",alwaysVisible:!1,topMargin:-.5},tooltip:{text:"",cssClass:"toolTip text-xs",mapboxStyle:!1,topMargin:0},sphere:{position:[0,0,0],radius:1,sides:20,units:"scene",material:"MeshBasicMaterial",anchor:"bottom-left",bbox:!0,tooltip:!0,raycasted:!0},tube:{geometry:null,radius:1,sides:6,units:"scene",material:"MeshBasicMaterial",anchor:"center",bbox:!0,tooltip:!0,raycasted:!0},loadObj:{type:null,obj:null,units:"scene",scale:1,rotation:0,defaultAnimation:0,anchor:"bottom-left",bbox:!0,tooltip:!0,raycasted:!0,clone:!0},Object3D:{obj:null,units:"scene",anchor:"bottom-left",bbox:!0,tooltip:!0,raycasted:!0},extrusion:{coordinates:[[[]]],geometryOptions:{},height:100,materials:new L.MeshPhongMaterial({color:6684672,side:L.DoubleSide}),scale:1,rotation:0,units:"scene",anchor:"center",bbox:!0,tooltip:!0,raycasted:!0}},geometries:{line:["LineString"],tube:["LineString"],sphere:["Point"]}},k.exports=O})(ru);var mm={exports:{}},E1={exports:{}};(function(k,H){const g=ru.exports,L=q0.exports;function G(J){J=L._validate(J,g.prototype._defaults.Object3D);let O=J.obj;const a=L.types.rotation(J.rotation,[0,0,0]),j=L.types.scale(J.scale,[1,1,1]);O.rotation.set(a[0],a[1],a[2]),O.scale.set(j[0],j[1],j[2]),O.name="model";let Z=g.prototype._makeGroup(O,J);return J.obj.name="model",g.prototype._addMethods(Z),Z.setAnchor(J.anchor),Z.setCenter(J.adjustment),Z.raycasted=J.raycasted,Z.visibility=!0,Z}k.exports=G})(E1);(function(k,H){const g=q0.exports,L=xp.exports,G=La.exports,J=ru.exports,O=E1.exports;function a(j){j=g._validate(j,J.prototype._defaults.sphere);let Z=new G.SphereBufferGeometry(j.radius,j.sides,j.sides),ye=L(j),me=new G.Mesh(Z,ye);return new O({obj:me,units:j.units,anchor:j.anchor,adjustment:j.adjustment,bbox:j.bbox,tooltip:j.tooltip,raycasted:j.raycasted})}k.exports=a})(mm);var fm={exports:{}};(function(k,H){const g=ru.exports,L=q0.exports,G=La.exports,J=E1.exports;function O(a){a=L._validate(a,g.prototype._defaults.extrusion);let j=O.prototype.buildShape(a.coordinates),Z=O.prototype.buildGeometry(j,a.geometryOptions),ye=new G.Mesh(Z,a.materials);return a.obj=ye,new J(a)}O.prototype={buildShape:function(a){if(a[0]instanceof(G.Vector2||G.Vector3))return new G.Shape(a);let j=new G.Shape;for(let Z=0;Z<a.length;Z++)Z===0?j=new G.Shape(this.buildPoints(a[0],a[0])):j.holes.push(new G.Path(this.buildPoints(a[Z],a[0])));return j},buildPoints:function(a,j){const Z=[];let ye=L.projectToWorld([j[0][0],j[0][1],0]);for(let me=0;me<a.length;me++){let rt=L.projectToWorld([a[me][0],a[me][1],0]);Z.push(new G.Vector2(L.toDecimal(rt.x-ye.x,9),L.toDecimal(rt.y-ye.y,9)))}return Z},buildGeometry:function(a,j){let Z=new G.ExtrudeBufferGeometry(a,j);return Z.computeBoundingBox(),Z}},k.exports=O})(fm);var gm={exports:{}};(function(k,H){const g=q0.exports,L=ru.exports,G=w1.exports;function J(O){O=g._validate(O,L.prototype._defaults.label);let a=L.prototype.drawLabelHTML(O.htmlElement,O.cssClass),j=new G.CSS2DObject(a);j.name="label",j.visible=O.alwaysVisible,j.alwaysVisible=O.alwaysVisible;var Z=L.prototype._makeGroup(j,O);return L.prototype._addMethods(Z),Z.visibility=O.alwaysVisible,Z}k.exports=J})(gm);var Tm={exports:{}};(function(k,H){const g=q0.exports,L=ru.exports,G=w1.exports;function J(O){if(O=g._validate(O,L.prototype._defaults.tooltip),O.text){let j=L.prototype.drawTooltip(O.text,O.mapboxStyle),Z=new G.CSS2DObject(j);Z.visible=!1,Z.name="tooltip";var a=L.prototype._makeGroup(Z,O);return L.prototype._addMethods(a),a}}k.exports=J})(Tm);var ym={exports:{}},Am={exports:{}};(function(k,H){const g=La.exports;(function(){const L=/^[og]\s*(.+)?/,G=/^mtllib /,J=/^usemtl /,O=/^usemap /,a=new g.Vector3,j=new g.Vector3,Z=new g.Vector3,ye=new g.Vector3,me=new g.Vector3;function rt(){const Ht={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(Se,Be){if(this.object&&this.object.fromDeclaration===!1){this.object.name=Se,this.object.fromDeclaration=Be!==!1;return}const Gt=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:Se||"",fromDeclaration:Be!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(xt,fi){const Fi=this._finalize(!1);Fi&&(Fi.inherited||Fi.groupCount<=0)&&this.materials.splice(Fi.index,1);const Me={index:this.materials.length,name:xt||"",mtllib:Array.isArray(fi)&&fi.length>0?fi[fi.length-1]:"",smooth:Fi!==void 0?Fi.smooth:this.smooth,groupStart:Fi!==void 0?Fi.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(it){const ri={index:typeof it=="number"?it:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return ri.clone=this.clone.bind(ri),ri}};return this.materials.push(Me),Me},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(xt){const fi=this.currentMaterial();if(fi&&fi.groupEnd===-1&&(fi.groupEnd=this.geometry.vertices.length/3,fi.groupCount=fi.groupEnd-fi.groupStart,fi.inherited=!1),xt&&this.materials.length>1)for(let Fi=this.materials.length-1;Fi>=0;Fi--)this.materials[Fi].groupCount<=0&&this.materials.splice(Fi,1);return xt&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),fi}},Gt&&Gt.name&&typeof Gt.clone=="function"){const xt=Gt.clone(0);xt.inherited=!0,this.object.materials.push(xt)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(Se,Be){const Gt=parseInt(Se,10);return(Gt>=0?Gt-1:Gt+Be/3)*3},parseNormalIndex:function(Se,Be){const Gt=parseInt(Se,10);return(Gt>=0?Gt-1:Gt+Be/3)*3},parseUVIndex:function(Se,Be){const Gt=parseInt(Se,10);return(Gt>=0?Gt-1:Gt+Be/2)*2},addVertex:function(Se,Be,Gt){const xt=this.vertices,fi=this.object.geometry.vertices;fi.push(xt[Se+0],xt[Se+1],xt[Se+2]),fi.push(xt[Be+0],xt[Be+1],xt[Be+2]),fi.push(xt[Gt+0],xt[Gt+1],xt[Gt+2])},addVertexPoint:function(Se){const Be=this.vertices;this.object.geometry.vertices.push(Be[Se+0],Be[Se+1],Be[Se+2])},addVertexLine:function(Se){const Be=this.vertices;this.object.geometry.vertices.push(Be[Se+0],Be[Se+1],Be[Se+2])},addNormal:function(Se,Be,Gt){const xt=this.normals,fi=this.object.geometry.normals;fi.push(xt[Se+0],xt[Se+1],xt[Se+2]),fi.push(xt[Be+0],xt[Be+1],xt[Be+2]),fi.push(xt[Gt+0],xt[Gt+1],xt[Gt+2])},addFaceNormal:function(Se,Be,Gt){const xt=this.vertices,fi=this.object.geometry.normals;a.fromArray(xt,Se),j.fromArray(xt,Be),Z.fromArray(xt,Gt),me.subVectors(Z,j),ye.subVectors(a,j),me.cross(ye),me.normalize(),fi.push(me.x,me.y,me.z),fi.push(me.x,me.y,me.z),fi.push(me.x,me.y,me.z)},addColor:function(Se,Be,Gt){const xt=this.colors,fi=this.object.geometry.colors;xt[Se]!==void 0&&fi.push(xt[Se+0],xt[Se+1],xt[Se+2]),xt[Be]!==void 0&&fi.push(xt[Be+0],xt[Be+1],xt[Be+2]),xt[Gt]!==void 0&&fi.push(xt[Gt+0],xt[Gt+1],xt[Gt+2])},addUV:function(Se,Be,Gt){const xt=this.uvs,fi=this.object.geometry.uvs;fi.push(xt[Se+0],xt[Se+1]),fi.push(xt[Be+0],xt[Be+1]),fi.push(xt[Gt+0],xt[Gt+1])},addDefaultUV:function(){const Se=this.object.geometry.uvs;Se.push(0,0),Se.push(0,0),Se.push(0,0)},addUVLine:function(Se){const Be=this.uvs;this.object.geometry.uvs.push(Be[Se+0],Be[Se+1])},addFace:function(Se,Be,Gt,xt,fi,Fi,Me,it,ri){const Mi=this.vertices.length;let si=this.parseVertexIndex(Se,Mi),Ze=this.parseVertexIndex(Be,Mi),ze=this.parseVertexIndex(Gt,Mi);if(this.addVertex(si,Ze,ze),this.addColor(si,Ze,ze),Me!==void 0&&Me!==""){const Kt=this.normals.length;si=this.parseNormalIndex(Me,Kt),Ze=this.parseNormalIndex(it,Kt),ze=this.parseNormalIndex(ri,Kt),this.addNormal(si,Ze,ze)}else this.addFaceNormal(si,Ze,ze);if(xt!==void 0&&xt!==""){const Kt=this.uvs.length;si=this.parseUVIndex(xt,Kt),Ze=this.parseUVIndex(fi,Kt),ze=this.parseUVIndex(Fi,Kt),this.addUV(si,Ze,ze),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(Se){this.object.geometry.type="Points";const Be=this.vertices.length;for(let Gt=0,xt=Se.length;Gt<xt;Gt++){const fi=this.parseVertexIndex(Se[Gt],Be);this.addVertexPoint(fi),this.addColor(fi)}},addLineGeometry:function(Se,Be){this.object.geometry.type="Line";const Gt=this.vertices.length,xt=this.uvs.length;for(let fi=0,Fi=Se.length;fi<Fi;fi++)this.addVertexLine(this.parseVertexIndex(Se[fi],Gt));for(let fi=0,Fi=Be.length;fi<Fi;fi++)this.addUVLine(this.parseUVIndex(Be[fi],xt))}};return Ht.startObject("",!1),Ht}class ht extends g.Loader{constructor(Se){super(Se),this.materials=null}load(Se,Be,Gt,xt){const fi=this,Fi=new g.FileLoader(this.manager);Fi.setPath(this.path),Fi.setRequestHeader(this.requestHeader),Fi.setWithCredentials(this.withCredentials),Fi.load(Se,function(Me){try{Be(fi.parse(Me))}catch(it){xt?xt(it):console.error(it),fi.manager.itemError(Se)}},Gt,xt)}setMaterials(Se){return this.materials=Se,this}parse(Se){const Be=new rt;Se.indexOf(`\r
`)!==-1&&(Se=Se.replace(/\r\n/g,`
`)),Se.indexOf(`\\
`)!==-1&&(Se=Se.replace(/\\\n/g,""));const Gt=Se.split(`
`);let xt="",fi="",Fi=0,Me=[];const it=typeof"".trimLeft=="function";for(let si=0,Ze=Gt.length;si<Ze;si++)if(xt=Gt[si],xt=it?xt.trimLeft():xt.trim(),Fi=xt.length,Fi!==0&&(fi=xt.charAt(0),fi!=="#"))if(fi==="v"){const ze=xt.split(/\s+/);switch(ze[0]){case"v":Be.vertices.push(parseFloat(ze[1]),parseFloat(ze[2]),parseFloat(ze[3])),ze.length>=7?Be.colors.push(parseFloat(ze[4]),parseFloat(ze[5]),parseFloat(ze[6])):Be.colors.push(void 0,void 0,void 0);break;case"vn":Be.normals.push(parseFloat(ze[1]),parseFloat(ze[2]),parseFloat(ze[3]));break;case"vt":Be.uvs.push(parseFloat(ze[1]),parseFloat(ze[2]));break}}else if(fi==="f"){const Kt=xt.substr(1).trim().split(/\s+/),ji=[];for(let Y=0,ce=Kt.length;Y<ce;Y++){const de=Kt[Y];if(de.length>0){const be=de.split("/");ji.push(be)}}const oi=ji[0];for(let Y=1,ce=ji.length-1;Y<ce;Y++){const de=ji[Y],be=ji[Y+1];Be.addFace(oi[0],de[0],be[0],oi[1],de[1],be[1],oi[2],de[2],be[2])}}else if(fi==="l"){const ze=xt.substring(1).trim().split(" ");let Kt=[];const ji=[];if(xt.indexOf("/")===-1)Kt=ze;else for(let oi=0,Y=ze.length;oi<Y;oi++){const ce=ze[oi].split("/");ce[0]!==""&&Kt.push(ce[0]),ce[1]!==""&&ji.push(ce[1])}Be.addLineGeometry(Kt,ji)}else if(fi==="p"){const Kt=xt.substr(1).trim().split(" ");Be.addPointGeometry(Kt)}else if((Me=L.exec(xt))!==null){const ze=(" "+Me[0].substr(1).trim()).substr(1);Be.startObject(ze)}else if(J.test(xt))Be.object.startMaterial(xt.substring(7).trim(),Be.materialLibraries);else if(G.test(xt))Be.materialLibraries.push(xt.substring(7).trim());else if(O.test(xt))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(fi==="s"){if(Me=xt.split(" "),Me.length>1){const Kt=Me[1].trim().toLowerCase();Be.object.smooth=Kt!=="0"&&Kt!=="off"}else Be.object.smooth=!0;const ze=Be.object.currentMaterial();ze&&(ze.smooth=Be.object.smooth)}else{if(xt==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+xt+'"')}Be.finalize();const ri=new g.Group;if(ri.materialLibraries=[].concat(Be.materialLibraries),!(Be.objects.length===1&&Be.objects[0].geometry.vertices.length===0)===!0)for(let si=0,Ze=Be.objects.length;si<Ze;si++){const ze=Be.objects[si],Kt=ze.geometry,ji=ze.materials,oi=Kt.type==="Line",Y=Kt.type==="Points";let ce=!1;if(Kt.vertices.length===0)continue;const de=new g.BufferGeometry;de.setAttribute("position",new g.Float32BufferAttribute(Kt.vertices,3)),Kt.normals.length>0&&de.setAttribute("normal",new g.Float32BufferAttribute(Kt.normals,3)),Kt.colors.length>0&&(ce=!0,de.setAttribute("color",new g.Float32BufferAttribute(Kt.colors,3))),Kt.hasUVIndices===!0&&de.setAttribute("uv",new g.Float32BufferAttribute(Kt.uvs,2));const be=[];for(let nt=0,dt=ji.length;nt<dt;nt++){const yt=ji[nt],Vt=yt.name+"_"+yt.smooth+"_"+ce;let mt=Be.materials[Vt];if(this.materials!==null){if(mt=this.materials.create(yt.name),oi&&mt&&!(mt instanceof g.LineBasicMaterial)){const Ot=new g.LineBasicMaterial;g.Material.prototype.copy.call(Ot,mt),Ot.color.copy(mt.color),mt=Ot}else if(Y&&mt&&!(mt instanceof g.PointsMaterial)){const Ot=new g.PointsMaterial({size:10,sizeAttenuation:!1});g.Material.prototype.copy.call(Ot,mt),Ot.color.copy(mt.color),Ot.map=mt.map,mt=Ot}}mt===void 0&&(oi?mt=new g.LineBasicMaterial:Y?mt=new g.PointsMaterial({size:1,sizeAttenuation:!1}):mt=new g.MeshPhongMaterial,mt.name=yt.name,mt.flatShading=!yt.smooth,mt.vertexColors=ce,Be.materials[Vt]=mt),be.push(mt)}let xe;if(be.length>1){for(let nt=0,dt=ji.length;nt<dt;nt++){const yt=ji[nt];de.addGroup(yt.groupStart,yt.groupCount,nt)}oi?xe=new g.LineSegments(de,be):Y?xe=new g.Points(de,be):xe=new g.Mesh(de,be)}else oi?xe=new g.LineSegments(de,be[0]):Y?xe=new g.Points(de,be[0]):xe=new g.Mesh(de,be[0]);xe.name=ze.name,ri.add(xe)}else if(Be.vertices.length>0){const si=new g.PointsMaterial({size:1,sizeAttenuation:!1}),Ze=new g.BufferGeometry;Ze.setAttribute("position",new g.Float32BufferAttribute(Be.vertices,3)),Be.colors.length>0&&Be.colors[0]!==void 0&&(Ze.setAttribute("color",new g.Float32BufferAttribute(Be.colors,3)),si.vertexColors=!0);const ze=new g.Points(Ze,si);ri.add(ze)}return ri}}g.OBJLoader=ht})(),k.exports=g.OBJLoader})(Am);var bm={exports:{}};(function(k,H){const g=La.exports;(function(){class L extends g.Loader{constructor(O){super(O)}load(O,a,j,Z){const ye=this,me=this.path===""?g.LoaderUtils.extractUrlBase(O||""):this.path,rt=new g.FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load(O,function(ht){try{a(ye.parse(ht,me))}catch(Ht){Z?Z(Ht):console.error(Ht),ye.manager.itemError(O)}},j,Z)}setMaterialOptions(O){return this.materialOptions=O,this}parse(O,a){const j=O.split(`
`);let Z={};const ye=/\s+/,me={};for(let ht=0;ht<j.length;ht++){let Ht=j[ht];if(Ht=Ht.trim(),Ht.length===0||Ht.charAt(0)==="#")continue;const Se=Ht.indexOf(" ");let Be=Se>=0?Ht.substring(0,Se):Ht;Be=Be.toLowerCase();let Gt=Se>=0?Ht.substring(Se+1):"";if(Gt=Gt.trim(),Be==="newmtl")Z={name:Gt},me[Gt]=Z;else if(Be==="ka"||Be==="kd"||Be==="ks"||Be==="ke"){const xt=Gt.split(ye,3);Z[Be]=[parseFloat(xt[0]),parseFloat(xt[1]),parseFloat(xt[2])]}else Z[Be]=Gt}const rt=new G(this.resourcePath||a,this.materialOptions);return rt.setCrossOrigin(this.crossOrigin),rt.setManager(this.manager),rt.setMaterials(me),rt}}class G{constructor(O="",a={}){this.baseUrl=O,this.options=a,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:g.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:g.RepeatWrapping}setCrossOrigin(O){return this.crossOrigin=O,this}setManager(O){this.manager=O}setMaterials(O){this.materialsInfo=this.convert(O),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(O){if(!this.options)return O;const a={};for(const j in O){const Z=O[j],ye={};a[j]=ye;for(const me in Z){let rt=!0,ht=Z[me];const Ht=me.toLowerCase();switch(Ht){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(ht=[ht[0]/255,ht[1]/255,ht[2]/255]),this.options&&this.options.ignoreZeroRGBs&&ht[0]===0&&ht[1]===0&&ht[2]===0&&(rt=!1);break}rt&&(ye[Ht]=ht)}}return a}preload(){for(const O in this.materialsInfo)this.create(O)}getIndex(O){return this.nameLookup[O]}getAsArray(){let O=0;for(const a in this.materialsInfo)this.materialsArray[O]=this.create(a),this.nameLookup[a]=O,O++;return this.materialsArray}create(O){return this.materials[O]===void 0&&this.createMaterial_(O),this.materials[O]}createMaterial_(O){const a=this,j=this.materialsInfo[O],Z={name:O,side:this.side};function ye(rt,ht){return typeof ht!="string"||ht===""?"":/^https?:\/\//i.test(ht)?ht:rt+ht}function me(rt,ht){if(Z[rt])return;const Ht=a.getTextureParams(ht,Z),Se=a.loadTexture(ye(a.baseUrl,Ht.url));Se.repeat.copy(Ht.scale),Se.offset.copy(Ht.offset),Se.wrapS=a.wrap,Se.wrapT=a.wrap,Z[rt]=Se}for(const rt in j){const ht=j[rt];let Ht;if(ht!=="")switch(rt.toLowerCase()){case"kd":Z.color=new g.Color().fromArray(ht);break;case"ks":Z.specular=new g.Color().fromArray(ht);break;case"ke":Z.emissive=new g.Color().fromArray(ht);break;case"map_kd":me("map",ht);break;case"map_ks":me("specularMap",ht);break;case"map_ke":me("emissiveMap",ht);break;case"norm":me("normalMap",ht);break;case"map_bump":case"bump":me("bumpMap",ht);break;case"map_d":me("alphaMap",ht),Z.transparent=!0;break;case"ns":Z.shininess=parseFloat(ht);break;case"d":Ht=parseFloat(ht),Ht<1&&(Z.opacity=Ht,Z.transparent=!0);break;case"tr":Ht=parseFloat(ht),this.options&&this.options.invertTrProperty&&(Ht=1-Ht),Ht>0&&(Z.opacity=1-Ht,Z.transparent=!0);break}}return this.materials[O]=new g.MeshPhongMaterial(Z),this.materials[O]}getTextureParams(O,a){const j={scale:new g.Vector2(1,1),offset:new g.Vector2(0,0)},Z=O.split(/\s+/);let ye;return ye=Z.indexOf("-bm"),ye>=0&&(a.bumpScale=parseFloat(Z[ye+1]),Z.splice(ye,2)),ye=Z.indexOf("-s"),ye>=0&&(j.scale.set(parseFloat(Z[ye+1]),parseFloat(Z[ye+2])),Z.splice(ye,4)),ye=Z.indexOf("-o"),ye>=0&&(j.offset.set(parseFloat(Z[ye+1]),parseFloat(Z[ye+2])),Z.splice(ye,4)),j.url=Z.join(" ").trim(),j}loadTexture(O,a,j,Z,ye){const me=this.manager!==void 0?this.manager:g.DefaultLoadingManager;let rt=me.getHandler(O);rt===null&&(rt=new g.TextureLoader(me)),rt.setCrossOrigin&&rt.setCrossOrigin(this.crossOrigin);const ht=rt.load(O,j,Z,ye);return a!==void 0&&(ht.mapping=a),ht}}g.MTLLoader=L})(),k.exports=g.MTLLoader})(bm);var vm={exports:{}},y2={exports:{}};(function(k,H){(function(g){k.exports=g()})(function(){var g={};g.__esModule=!0;var L=function(ae){var se;try{se("require('worker_threads')").Worker}catch{}return H.default=function(ge,Ye,Qt,Ti,Wt){setImmediate(function(){return Wt(Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var Ni=function(){};return{terminate:Ni,postMessage:Ni}},ae}({}),G=Uint8Array,J=Uint16Array,O=Uint32Array,a=new G([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j=new G([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Z=new G([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ye=function(ae,se){for(var ge=new J(31),Ye=0;Ye<31;++Ye)ge[Ye]=se+=1<<ae[Ye-1];var Qt=new O(ge[30]);for(Ye=1;Ye<30;++Ye)for(var Ti=ge[Ye];Ti<ge[Ye+1];++Ti)Qt[Ti]=Ti-ge[Ye]<<5|Ye;return[ge,Qt]},me=ye(a,2),rt=me[0],ht=me[1];rt[28]=258,ht[258]=28;for(var Ht=ye(j,0),Se=Ht[0],Be=Ht[1],Gt=new J(32768),xt=0;xt<32768;++xt){var fi=(43690&xt)>>>1|(21845&xt)<<1;Gt[xt]=((65280&(fi=(61680&(fi=(52428&fi)>>>2|(13107&fi)<<2))>>>4|(3855&fi)<<4))>>>8|(255&fi)<<8)>>>1}var Fi=function(ae,se,ge){for(var Ye=ae.length,Qt=0,Ti=new J(se);Qt<Ye;++Qt)++Ti[ae[Qt]-1];var Wt,Ni=new J(se);for(Qt=0;Qt<se;++Qt)Ni[Qt]=Ni[Qt-1]+Ti[Qt-1]<<1;if(ge){Wt=new J(1<<se);var te=15-se;for(Qt=0;Qt<Ye;++Qt)if(ae[Qt])for(var Q=Qt<<4|ae[Qt],le=se-ae[Qt],Ae=Ni[ae[Qt]-1]++<<le,Te=Ae|(1<<le)-1;Ae<=Te;++Ae)Wt[Gt[Ae]>>>te]=Q}else for(Wt=new J(Ye),Qt=0;Qt<Ye;++Qt)ae[Qt]&&(Wt[Qt]=Gt[Ni[ae[Qt]-1]++]>>>15-ae[Qt]);return Wt},Me=new G(288);for(xt=0;xt<144;++xt)Me[xt]=8;for(xt=144;xt<256;++xt)Me[xt]=9;for(xt=256;xt<280;++xt)Me[xt]=7;for(xt=280;xt<288;++xt)Me[xt]=8;var it=new G(32);for(xt=0;xt<32;++xt)it[xt]=5;var ri=Fi(Me,9,0),Mi=Fi(Me,9,1),si=Fi(it,5,0),Ze=Fi(it,5,1),ze=function(ae){for(var se=ae[0],ge=1;ge<ae.length;++ge)ae[ge]>se&&(se=ae[ge]);return se},Kt=function(ae,se,ge){var Ye=se/8|0;return(ae[Ye]|ae[Ye+1]<<8)>>(7&se)&ge},ji=function(ae,se){var ge=se/8|0;return(ae[ge]|ae[ge+1]<<8|ae[ge+2]<<16)>>(7&se)},oi=function(ae){return(ae/8|0)+(7&ae&&1)},Y=function(ae,se,ge){(se==null||se<0)&&(se=0),(ge==null||ge>ae.length)&&(ge=ae.length);var Ye=new(ae instanceof J?J:ae instanceof O?O:G)(ge-se);return Ye.set(ae.subarray(se,ge)),Ye},ce=function(ae,se,ge){var Ye=ae.length;if(!Ye||ge&&!ge.l&&Ye<5)return se||new G(0);var Qt=!se||ge,Ti=!ge||ge.i;ge||(ge={}),se||(se=new G(3*Ye));var Wt=function(C0){var Fn=se.length;if(C0>Fn){var fa=new G(Math.max(2*Fn,C0));fa.set(se),se=fa}},Ni=ge.f||0,te=ge.p||0,Q=ge.b||0,le=ge.l,Ae=ge.d,Te=ge.m,wt=ge.n,Bt=8*Ye;do{if(!le){ge.f=Ni=Kt(ae,te,1);var di=Kt(ae,te+1,3);if(te+=3,!di){var qi=ae[(rr=oi(te)+4)-4]|ae[rr-3]<<8,_n=rr+qi;if(_n>Ye){if(Ti)throw"unexpected EOF";break}Qt&&Wt(Q+qi),se.set(ae.subarray(rr,_n),Q),ge.b=Q+=qi,ge.p=te=8*_n;continue}if(di==1)le=Mi,Ae=Ze,Te=9,wt=5;else{if(di!=2)throw"invalid block type";var mi=Kt(ae,te,31)+257,gi=Kt(ae,te+10,15)+4,vn=mi+Kt(ae,te+5,31)+1;te+=14;for(var Ii=new G(vn),rn=new G(19),Ci=0;Ci<gi;++Ci)rn[Z[Ci]]=Kt(ae,te+3*Ci,7);te+=3*gi;var wn=ze(rn),Bn=(1<<wn)-1;if(!Ti&&te+vn*(wn+7)>Bt)break;var nr=Fi(rn,wn,1);for(Ci=0;Ci<vn;){var rr,Rr=nr[Kt(ae,te,Bn)];if(te+=15&Rr,(rr=Rr>>>4)<16)Ii[Ci++]=rr;else{var Nr=0,Ki=0;for(rr==16?(Ki=3+Kt(ae,te,3),te+=2,Nr=Ii[Ci-1]):rr==17?(Ki=3+Kt(ae,te,7),te+=3):rr==18&&(Ki=11+Kt(ae,te,127),te+=7);Ki--;)Ii[Ci++]=Nr}}var ls=Ii.subarray(0,mi),pr=Ii.subarray(mi);Te=ze(ls),wt=ze(pr),le=Fi(ls,Te,1),Ae=Fi(pr,wt,1)}if(te>Bt)throw"unexpected EOF"}Qt&&Wt(Q+131072);for(var Os=(1<<Te)-1,or=(1<<wt)-1,So=Te+wt+18;Ti||te+So<Bt;){var Ms=(Nr=le[ji(ae,te)&Os])>>>4;if((te+=15&Nr)>Bt)throw"unexpected EOF";if(!Nr)throw"invalid length/literal";if(Ms<256)se[Q++]=Ms;else{if(Ms==256){le=null;break}var xo=Ms-254;Ms>264&&(xo=Kt(ae,te,(1<<(Eo=a[Ci=Ms-257]))-1)+rt[Ci],te+=Eo);var Yo=Ae[ji(ae,te)&or],qo=Yo>>>4;if(!Yo)throw"invalid distance";if(te+=15&Yo,pr=Se[qo],qo>3){var Eo=j[qo];pr+=ji(ae,te)&(1<<Eo)-1,te+=Eo}if(te>Bt)throw"unexpected EOF";Qt&&Wt(Q+131072);for(var Qs=Q+xo;Q<Qs;Q+=4)se[Q]=se[Q-pr],se[Q+1]=se[Q+1-pr],se[Q+2]=se[Q+2-pr],se[Q+3]=se[Q+3-pr];Q=Qs}}ge.l=le,ge.p=te,ge.b=Q,le&&(Ni=1,ge.m=Te,ge.d=Ae,ge.n=wt)}while(!Ni);return Q==se.length?se:Y(se,0,Q)},de=function(ae,se,ge){var Ye=se/8|0;ae[Ye]|=ge<<=7&se,ae[Ye+1]|=ge>>>8},be=function(ae,se,ge){var Ye=se/8|0;ae[Ye]|=ge<<=7&se,ae[Ye+1]|=ge>>>8,ae[Ye+2]|=ge>>>16},xe=function(ae,se){for(var ge=[],Ye=0;Ye<ae.length;++Ye)ae[Ye]&&ge.push({s:Ye,f:ae[Ye]});var Qt=ge.length,Ti=ge.slice();if(!Qt)return[Yi,0];if(Qt==1){var Wt=new G(ge[0].s+1);return Wt[ge[0].s]=1,[Wt,1]}ge.sort(function(Ii,rn){return Ii.f-rn.f}),ge.push({s:-1,f:25001});var Ni=ge[0],te=ge[1],Q=0,le=1,Ae=2;for(ge[0]={s:-1,f:Ni.f+te.f,l:Ni,r:te};le!=Qt-1;)Ni=ge[ge[Q].f<ge[Ae].f?Q++:Ae++],te=ge[Q!=le&&ge[Q].f<ge[Ae].f?Q++:Ae++],ge[le++]={s:-1,f:Ni.f+te.f,l:Ni,r:te};var Te=Ti[0].s;for(Ye=1;Ye<Qt;++Ye)Ti[Ye].s>Te&&(Te=Ti[Ye].s);var wt=new J(Te+1),Bt=nt(ge[le-1],wt,0);if(Bt>se){Ye=0;var di=0,qi=Bt-se,_n=1<<qi;for(Ti.sort(function(Ii,rn){return wt[rn.s]-wt[Ii.s]||Ii.f-rn.f});Ye<Qt;++Ye){var mi=Ti[Ye].s;if(!(wt[mi]>se))break;di+=_n-(1<<Bt-wt[mi]),wt[mi]=se}for(di>>>=qi;di>0;){var gi=Ti[Ye].s;wt[gi]<se?di-=1<<se-wt[gi]++-1:++Ye}for(;Ye>=0&&di;--Ye){var vn=Ti[Ye].s;wt[vn]==se&&(--wt[vn],++di)}Bt=se}return[new G(wt),Bt]},nt=function(ae,se,ge){return ae.s==-1?Math.max(nt(ae.l,se,ge+1),nt(ae.r,se,ge+1)):se[ae.s]=ge},dt=function(ae){for(var se=ae.length;se&&!ae[--se];);for(var ge=new J(++se),Ye=0,Qt=ae[0],Ti=1,Wt=function(te){ge[Ye++]=te},Ni=1;Ni<=se;++Ni)if(ae[Ni]==Qt&&Ni!=se)++Ti;else{if(!Qt&&Ti>2){for(;Ti>138;Ti-=138)Wt(32754);Ti>2&&(Wt(Ti>10?Ti-11<<5|28690:Ti-3<<5|12305),Ti=0)}else if(Ti>3){for(Wt(Qt),--Ti;Ti>6;Ti-=6)Wt(8304);Ti>2&&(Wt(Ti-3<<5|8208),Ti=0)}for(;Ti--;)Wt(Qt);Ti=1,Qt=ae[Ni]}return[ge.subarray(0,Ye),se]},yt=function(ae,se){for(var ge=0,Ye=0;Ye<se.length;++Ye)ge+=ae[Ye]*se[Ye];return ge},Vt=function(ae,se,ge){var Ye=ge.length,Qt=oi(se+2);ae[Qt]=255&Ye,ae[Qt+1]=Ye>>>8,ae[Qt+2]=255^ae[Qt],ae[Qt+3]=255^ae[Qt+1];for(var Ti=0;Ti<Ye;++Ti)ae[Qt+Ti+4]=ge[Ti];return 8*(Qt+4+Ye)},mt=function(ae,se,ge,Ye,Qt,Ti,Wt,Ni,te,Q,le){de(se,le++,ge),++Qt[256];for(var Ae=xe(Qt,15),Te=Ae[0],wt=Ae[1],Bt=xe(Ti,15),di=Bt[0],qi=Bt[1],_n=dt(Te),mi=_n[0],gi=_n[1],vn=dt(di),Ii=vn[0],rn=vn[1],Ci=new J(19),wn=0;wn<mi.length;++wn)Ci[31&mi[wn]]++;for(wn=0;wn<Ii.length;++wn)Ci[31&Ii[wn]]++;for(var Bn=xe(Ci,7),nr=Bn[0],rr=Bn[1],Rr=19;Rr>4&&!nr[Z[Rr-1]];--Rr);var Nr,Ki,ls,pr,Os=Q+5<<3,or=yt(Qt,Me)+yt(Ti,it)+Wt,So=yt(Qt,Te)+yt(Ti,di)+Wt+14+3*Rr+yt(Ci,nr)+(2*Ci[16]+3*Ci[17]+7*Ci[18]);if(Os<=or&&Os<=So)return Vt(se,le,ae.subarray(te,te+Q));if(de(se,le,1+(So<or)),le+=2,So<or){Nr=Fi(Te,wt,0),Ki=Te,ls=Fi(di,qi,0),pr=di;var Ms=Fi(nr,rr,0);for(de(se,le,gi-257),de(se,le+5,rn-1),de(se,le+10,Rr-4),le+=14,wn=0;wn<Rr;++wn)de(se,le+3*wn,nr[Z[wn]]);le+=3*Rr;for(var xo=[mi,Ii],Yo=0;Yo<2;++Yo){var qo=xo[Yo];for(wn=0;wn<qo.length;++wn)de(se,le,Ms[Eo=31&qo[wn]]),le+=nr[Eo],Eo>15&&(de(se,le,qo[wn]>>>5&127),le+=qo[wn]>>>12)}}else Nr=ri,Ki=Me,ls=si,pr=it;for(wn=0;wn<Ni;++wn)if(Ye[wn]>255){var Eo;be(se,le,Nr[257+(Eo=Ye[wn]>>>18&31)]),le+=Ki[Eo+257],Eo>7&&(de(se,le,Ye[wn]>>>23&31),le+=a[Eo]);var Qs=31&Ye[wn];be(se,le,ls[Qs]),le+=pr[Qs],Qs>3&&(be(se,le,Ye[wn]>>>5&8191),le+=j[Qs])}else be(se,le,Nr[Ye[wn]]),le+=Ki[Ye[wn]];return be(se,le,Nr[256]),le+Ki[256]},Ot=new O([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yi=new G(0),Gi=function(ae,se,ge,Ye,Qt,Ti){var Wt=ae.length,Ni=new G(Ye+Wt+5*(1+Math.ceil(Wt/7e3))+Qt),te=Ni.subarray(Ye,Ni.length-Qt),Q=0;if(!se||Wt<8)for(var le=0;le<=Wt;le+=65535){var Ae=le+65535;Ae<Wt?Q=Vt(te,Q,ae.subarray(le,Ae)):(te[le]=Ti,Q=Vt(te,Q,ae.subarray(le,Wt)))}else{for(var Te=Ot[se-1],wt=Te>>>13,Bt=8191&Te,di=(1<<ge)-1,qi=new J(32768),_n=new J(di+1),mi=Math.ceil(ge/3),gi=2*mi,vn=function(Z0){return(ae[Z0]^ae[Z0+1]<<mi^ae[Z0+2]<<gi)&di},Ii=new O(25e3),rn=new J(288),Ci=new J(32),wn=0,Bn=0,nr=(le=0,0),rr=0,Rr=0;le<Wt;++le){var Nr=vn(le),Ki=32767&le,ls=_n[Nr];if(qi[Ki]=ls,_n[Nr]=Ki,rr<=le){var pr=Wt-le;if((wn>7e3||nr>24576)&&pr>423){Q=mt(ae,te,0,Ii,rn,Ci,Bn,nr,Rr,le-Rr,Q),nr=wn=Bn=0,Rr=le;for(var Os=0;Os<286;++Os)rn[Os]=0;for(Os=0;Os<30;++Os)Ci[Os]=0}var or=2,So=0,Ms=Bt,xo=Ki-ls&32767;if(pr>2&&Nr==vn(le-xo))for(var Yo=Math.min(wt,pr)-1,qo=Math.min(32767,le),Eo=Math.min(258,pr);xo<=qo&&--Ms&&Ki!=ls;){if(ae[le+or]==ae[le+or-xo]){for(var Qs=0;Qs<Eo&&ae[le+Qs]==ae[le+Qs-xo];++Qs);if(Qs>or){if(or=Qs,So=xo,Qs>Yo)break;var C0=Math.min(xo,Qs-2),Fn=0;for(Os=0;Os<C0;++Os){var fa=le-xo+Os+32768&32767,$0=fa-qi[fa]+32768&32767;$0>Fn&&(Fn=$0,ls=fa)}}}xo+=(Ki=ls)-(ls=qi[Ki])+32768&32767}if(So){Ii[nr++]=268435456|ht[or]<<18|Be[So];var Ql=31&ht[or],ga=31&Be[So];Bn+=a[Ql]+j[ga],++rn[257+Ql],++Ci[ga],rr=le+or,++wn}else Ii[nr++]=ae[le],++rn[ae[le]]}}Q=mt(ae,te,Ti,Ii,rn,Ci,Bn,nr,Rr,le-Rr,Q),!Ti&&7&Q&&(Q=Vt(te,Q+1,Yi))}return Y(Ni,0,Ye+oi(Q)+Qt)},an=function(){for(var ae=new O(256),se=0;se<256;++se){for(var ge=se,Ye=9;--Ye;)ge=(1&ge&&3988292384)^ge>>>1;ae[se]=ge}return ae}(),sr=function(){var ae=-1;return{p:function(se){for(var ge=ae,Ye=0;Ye<se.length;++Ye)ge=an[255&ge^se[Ye]]^ge>>>8;ae=ge},d:function(){return~ae}}},Er=function(){var ae=1,se=0;return{p:function(ge){for(var Ye=ae,Qt=se,Ti=ge.length,Wt=0;Wt!=Ti;){for(var Ni=Math.min(Wt+2655,Ti);Wt<Ni;++Wt)Qt+=Ye+=ge[Wt];Ye=(65535&Ye)+15*(Ye>>16),Qt=(65535&Qt)+15*(Qt>>16)}ae=Ye,se=Qt},d:function(){return((ae%=65521)>>>8<<16|(255&(se%=65521))<<8|se>>>8)+2*((255&ae)<<23)}}},Ir=function(ae,se,ge,Ye,Qt){return Gi(ae,se.level==null?6:se.level,se.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(ae.length)))):12+se.mem,ge,Ye,!Qt)},_r=function(ae,se){var ge={};for(var Ye in ae)ge[Ye]=ae[Ye];for(var Ye in se)ge[Ye]=se[Ye];return ge},Ar=function(ae,se,ge){for(var Ye=ae(),Qt=""+ae,Ti=Qt.slice(Qt.indexOf("[")+1,Qt.lastIndexOf("]")).replace(/ /g,"").split(","),Wt=0;Wt<Ye.length;++Wt){var Ni=Ye[Wt],te=Ti[Wt];if(typeof Ni=="function"){se+=";"+te+"=";var Q=""+Ni;if(Ni.prototype)if(Q.indexOf("[native code]")!=-1){var le=Q.indexOf(" ",8)+1;se+=Q.slice(le,Q.indexOf("(",le))}else for(var Ae in se+=Q,Ni.prototype)se+=";"+te+".prototype."+Ae+"="+Ni.prototype[Ae];else se+=Q}else ge[te]=Ni}return[se,ge]},Wn=[],Li=function(ae){var se=[];for(var ge in ae)(ae[ge]instanceof G||ae[ge]instanceof J||ae[ge]instanceof O)&&se.push((ae[ge]=new ae[ge].constructor(ae[ge])).buffer);return se},Ie=function(ae,se,ge,Ye){var Qt;if(!Wn[ge]){for(var Ti="",Wt={},Ni=ae.length-1,te=0;te<Ni;++te)Ti=(Qt=Ar(ae[te],Ti,Wt))[0],Wt=Qt[1];Wn[ge]=Ar(ae[Ni],Ti,Wt)}var Q=_r({},Wn[ge][1]);return L.default(Wn[ge][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+se+"}",ge,Q,Li(Q),Ye)},Ne=function(){return[G,J,O,a,j,Z,rt,Se,Mi,Ze,Gt,Fi,ze,Kt,ji,oi,Y,ce,$s,bt,ii]},st=function(){return[G,J,O,a,j,Z,ht,Be,ri,Me,si,it,Gt,Ot,Yi,Fi,de,be,xe,nt,dt,yt,Vt,mt,oi,Y,Gi,Ir,es,bt]},Je=function(){return[tr,_o,In,sr,an]},ot=function(){return[ss,Or]},Tt=function(){return[fo,In,Er]},Pt=function(){return[Vi]},bt=function(ae){return postMessage(ae,[ae.buffer])},ii=function(ae){return ae&&ae.size&&new G(ae.size)},Ui=function(ae,se,ge,Ye,Qt,Ti){var Wt=Ie(ge,Ye,Qt,function(Ni,te){Wt.terminate(),Ti(Ni,te)});return Wt.postMessage([ae,se],se.consume?[ae.buffer]:[]),function(){Wt.terminate()}},zi=function(ae){return ae.ondata=function(se,ge){return postMessage([se,ge],[se.buffer])},function(se){return ae.push(se.data[0],se.data[1])}},Mn=function(ae,se,ge,Ye,Qt){var Ti,Wt=Ie(ae,Ye,Qt,function(Ni,te){Ni?(Wt.terminate(),se.ondata.call(se,Ni)):(te[1]&&Wt.terminate(),se.ondata.call(se,Ni,te[0],te[1]))});Wt.postMessage(ge),se.push=function(Ni,te){if(Ti)throw"stream finished";if(!se.ondata)throw"no stream handler";Wt.postMessage([Ni,Ti=te],[Ni.buffer])},se.terminate=function(){Wt.terminate()}},Hn=function(ae,se){return ae[se]|ae[se+1]<<8},zn=function(ae,se){return(ae[se]|ae[se+1]<<8|ae[se+2]<<16)+2*(ae[se+3]<<23)},Ln=function(ae,se){return zn(ae,se)|4294967296*zn(ae,se)},In=function(ae,se,ge){for(;ge;++se)ae[se]=ge,ge>>>=8},tr=function(ae,se){var ge=se.filename;if(ae[0]=31,ae[1]=139,ae[2]=8,ae[8]=se.level<2?4:se.level==9?2:0,ae[9]=3,se.mtime!=0&&In(ae,4,Math.floor(new Date(se.mtime||Date.now())/1e3)),ge){ae[3]=8;for(var Ye=0;Ye<=ge.length;++Ye)ae[Ye+10]=ge.charCodeAt(Ye)}},ss=function(ae){if(ae[0]!=31||ae[1]!=139||ae[2]!=8)throw"invalid gzip data";var se=ae[3],ge=10;4&se&&(ge+=ae[10]|2+(ae[11]<<8));for(var Ye=(se>>3&1)+(se>>4&1);Ye>0;Ye-=!ae[ge++]);return ge+(2&se)},Or=function(ae){var se=ae.length;return(ae[se-4]|ae[se-3]<<8|ae[se-2]<<16)+2*(ae[se-1]<<23)},_o=function(ae){return 10+(ae.filename&&ae.filename.length+1||0)},fo=function(ae,se){var ge=se.level,Ye=ge==0?0:ge<6?1:ge==9?3:2;ae[0]=120,ae[1]=Ye<<6|(Ye?32-2*Ye:1)},Vi=function(ae){if((15&ae[0])!=8||ae[0]>>>4>7||(ae[0]<<8|ae[1])%31)throw"invalid zlib data";if(32&ae[1])throw"invalid zlib data: preset dictionaries not supported"};function Mr(ae,se){return se||typeof ae!="function"||(se=ae,ae={}),this.ondata=se,ae}var bs=function(){function ae(se,ge){ge||typeof se!="function"||(ge=se,se={}),this.ondata=ge,this.o=se||{}}return ae.prototype.p=function(se,ge){this.ondata(Ir(se,this.o,0,0,!ge),ge)},ae.prototype.push=function(se,ge){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=ge,this.p(se,ge||!1)},ae}();g.Deflate=bs;var Ks=function(){return function(ae,se){Mn([st,function(){return[zi,bs]}],this,Mr.call(this,ae,se),function(ge){var Ye=new bs(ge.data);onmessage=zi(Ye)},6)}}();function yo(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[st],function(Ye){return bt(es(Ye.data[0],Ye.data[1]))},0,ge)}function es(ae,se){return Ir(ae,se||{},0,0)}g.AsyncDeflate=Ks,g.deflate=yo,g.deflateSync=es;var Ns=function(){function ae(se){this.s={},this.p=new G(0),this.ondata=se}return ae.prototype.e=function(se){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var ge=this.p.length,Ye=new G(ge+se.length);Ye.set(this.p),Ye.set(se,ge),this.p=Ye},ae.prototype.c=function(se){this.d=this.s.i=se||!1;var ge=this.s.b,Ye=ce(this.p,this.o,this.s);this.ondata(Y(Ye,ge,this.s.b),this.d),this.o=Y(Ye,this.s.b-32768),this.s.b=this.o.length,this.p=Y(this.p,this.s.p/8|0),this.s.p&=7},ae.prototype.push=function(se,ge){this.e(se),this.c(ge)},ae}();g.Inflate=Ns;var dr=function(){return function(ae){this.ondata=ae,Mn([Ne,function(){return[zi,Ns]}],this,0,function(){var se=new Ns;onmessage=zi(se)},7)}}();function Rs(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[Ne],function(Ye){return bt($s(Ye.data[0],ii(Ye.data[1])))},1,ge)}function $s(ae,se){return ce(ae,se)}g.AsyncInflate=dr,g.inflate=Rs,g.inflateSync=$s;var ro=function(){function ae(se,ge){this.c=sr(),this.l=0,this.v=1,bs.call(this,se,ge)}return ae.prototype.push=function(se,ge){bs.prototype.push.call(this,se,ge)},ae.prototype.p=function(se,ge){this.c.p(se),this.l+=se.length;var Ye=Ir(se,this.o,this.v&&_o(this.o),ge&&8,!ge);this.v&&(tr(Ye,this.o),this.v=0),ge&&(In(Ye,Ye.length-8,this.c.d()),In(Ye,Ye.length-4,this.l)),this.ondata(Ye,ge)},ae}();g.Gzip=ro,g.Compress=ro;var vs=function(){return function(ae,se){Mn([st,Je,function(){return[zi,bs,ro]}],this,Mr.call(this,ae,se),function(ge){var Ye=new ro(ge.data);onmessage=zi(Ye)},8)}}();function Ue(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[st,Je,function(){return[Fe]}],function(Ye){return bt(Fe(Ye.data[0],Ye.data[1]))},2,ge)}function Fe(ae,se){se||(se={});var ge=sr(),Ye=ae.length;ge.p(ae);var Qt=Ir(ae,se,_o(se),8),Ti=Qt.length;return tr(Qt,se),In(Qt,Ti-8,ge.d()),In(Qt,Ti-4,Ye),Qt}g.AsyncGzip=vs,g.AsyncCompress=vs,g.gzip=Ue,g.compress=Ue,g.gzipSync=Fe,g.compressSync=Fe;var oe=function(){function ae(se){this.v=1,Ns.call(this,se)}return ae.prototype.push=function(se,ge){if(Ns.prototype.e.call(this,se),this.v){var Ye=this.p.length>3?ss(this.p):4;if(Ye>=this.p.length&&!ge)return;this.p=this.p.subarray(Ye),this.v=0}if(ge){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Ns.prototype.c.call(this,ge)},ae}();g.Gunzip=oe;var he=function(){return function(ae){this.ondata=ae,Mn([Ne,ot,function(){return[zi,Ns,oe]}],this,0,function(){var se=new oe;onmessage=zi(se)},9)}}();function De(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[Ne,ot,function(){return[$e]}],function(Ye){return bt($e(Ye.data[0]))},3,ge)}function $e(ae,se){return ce(ae.subarray(ss(ae),-8),se||new G(Or(ae)))}g.AsyncGunzip=he,g.gunzip=De,g.gunzipSync=$e;var ft=function(){function ae(se,ge){this.c=Er(),this.v=1,bs.call(this,se,ge)}return ae.prototype.push=function(se,ge){bs.prototype.push.call(this,se,ge)},ae.prototype.p=function(se,ge){this.c.p(se);var Ye=Ir(se,this.o,this.v&&2,ge&&4,!ge);this.v&&(fo(Ye,this.o),this.v=0),ge&&In(Ye,Ye.length-4,this.c.d()),this.ondata(Ye,ge)},ae}();g.Zlib=ft;var Dt=function(){return function(ae,se){Mn([st,Tt,function(){return[zi,bs,ft]}],this,Mr.call(this,ae,se),function(ge){var Ye=new ft(ge.data);onmessage=zi(Ye)},10)}}();function It(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[st,Tt,function(){return[vt]}],function(Ye){return bt(vt(Ye.data[0],Ye.data[1]))},4,ge)}function vt(ae,se){se||(se={});var ge=Er();ge.p(ae);var Ye=Ir(ae,se,2,4);return fo(Ye,se),In(Ye,Ye.length-4,ge.d()),Ye}g.AsyncZlib=Dt,g.zlib=It,g.zlibSync=vt;var Rt=function(){function ae(se){this.v=1,Ns.call(this,se)}return ae.prototype.push=function(se,ge){if(Ns.prototype.e.call(this,se),this.v){if(this.p.length<2&&!ge)return;this.p=this.p.subarray(2),this.v=0}if(ge){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Ns.prototype.c.call(this,ge)},ae}();g.Unzlib=Rt;var vi=function(){return function(ae){this.ondata=ae,Mn([Ne,Pt,function(){return[zi,Ns,Rt]}],this,0,function(){var se=new Rt;onmessage=zi(se)},11)}}();function on(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return Ui(ae,se,[Ne,Pt,function(){return[Di]}],function(Ye){return bt(Di(Ye.data[0],ii(Ye.data[1])))},5,ge)}function Di(ae,se){return ce((Vi(ae),ae.subarray(2,-4)),se)}g.AsyncUnzlib=vi,g.unzlib=on,g.unzlibSync=Di;var Vn=function(){function ae(se){this.G=oe,this.I=Ns,this.Z=Rt,this.ondata=se}return ae.prototype.push=function(se,ge){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(se,ge);else{if(this.p&&this.p.length){var Ye=new G(this.p.length+se.length);Ye.set(this.p),Ye.set(se,this.p.length)}else this.p=se;if(this.p.length>2){var Qt=this,Ti=function(){Qt.ondata.apply(Qt,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(Ti):(15&this.p[0])!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(Ti):new this.Z(Ti),this.s.push(this.p,ge),this.p=null}}},ae}();g.Decompress=Vn;var Jn=function(){function ae(se){this.G=he,this.I=dr,this.Z=vi,this.ondata=se}return ae.prototype.push=function(se,ge){Vn.prototype.push.call(this,se,ge)},ae}();function Dn(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";return ae[0]==31&&ae[1]==139&&ae[2]==8?De(ae,se,ge):(15&ae[0])!=8||ae[0]>>4>7||(ae[0]<<8|ae[1])%31?Rs(ae,se,ge):on(ae,se,ge)}function ir(ae,se){return ae[0]==31&&ae[1]==139&&ae[2]==8?$e(ae,se):(15&ae[0])!=8||ae[0]>>4>7||(ae[0]<<8|ae[1])%31?$s(ae,se):Di(ae,se)}g.AsyncDecompress=Jn,g.decompress=Dn,g.decompressSync=ir;var Cr=function(ae,se,ge,Ye){for(var Qt in ae){var Ti=ae[Qt],Wt=se+Qt;Ti instanceof G?ge[Wt]=[Ti,Ye]:Array.isArray(Ti)?ge[Wt]=[Ti[0],_r(Ye,Ti[1])]:Cr(Ti,Wt+"/",ge,Ye)}},Br=typeof TextEncoder<"u"&&new TextEncoder,On=typeof TextDecoder<"u"&&new TextDecoder,$r=0;try{On.decode(Yi,{stream:!0}),$r=1}catch{}var Gr=function(ae){for(var se="",ge=0;;){var Ye=ae[ge++],Qt=(Ye>127)+(Ye>223)+(Ye>239);if(ge+Qt>ae.length)return[se,Y(ae,ge-1)];Qt?Qt==3?(Ye=((15&Ye)<<18|(63&ae[ge++])<<12|(63&ae[ge++])<<6|63&ae[ge++])-65536,se+=String.fromCharCode(55296|Ye>>10,56320|1023&Ye)):se+=String.fromCharCode(1&Qt?(31&Ye)<<6|63&ae[ge++]:(15&Ye)<<12|(63&ae[ge++])<<6|63&ae[ge++]):se+=String.fromCharCode(Ye)}},us=function(){function ae(se){this.ondata=se,$r?this.t=new TextDecoder:this.p=Yi}return ae.prototype.push=function(se,ge){if(!this.ondata)throw"no callback";if(ge||(ge=!1),this.t)return this.ondata(this.t.decode(se,{stream:!ge}),ge);var Ye=new G(this.p.length+se.length);Ye.set(this.p),Ye.set(se,this.p.length);var Qt=Gr(Ye),Ti=Qt[0],Wt=Qt[1];if(ge&&Wt.length)throw"invalid utf-8 data";this.p=Wt,this.ondata(Ti,ge)},ae}();g.DecodeUTF8=us;var Ao=function(){function ae(se){this.ondata=se}return ae.prototype.push=function(se,ge){if(!this.ondata)throw"no callback";this.ondata(Hs(se),ge||!1)},ae}();function Hs(ae,se){if(se){for(var ge=new G(ae.length),Ye=0;Ye<ae.length;++Ye)ge[Ye]=ae.charCodeAt(Ye);return ge}if(Br)return Br.encode(ae);var Qt=ae.length,Ti=new G(ae.length+(ae.length>>1)),Wt=0,Ni=function(le){Ti[Wt++]=le};for(Ye=0;Ye<Qt;++Ye){if(Wt+5>Ti.length){var te=new G(Wt+8+(Qt-Ye<<1));te.set(Ti),Ti=te}var Q=ae.charCodeAt(Ye);Q<128||se?Ni(Q):Q<2048?(Ni(192|Q>>>6),Ni(128|63&Q)):Q>55295&&Q<57344?(Ni(240|(Q=65536+(1047552&Q)|1023&ae.charCodeAt(++Ye))>>>18),Ni(128|Q>>>12&63),Ni(128|Q>>>6&63),Ni(128|63&Q)):(Ni(224|Q>>>12),Ni(128|Q>>>6&63),Ni(128|63&Q))}return Y(Ti,0,Wt)}function ui(ae,se){if(se){for(var ge="",Ye=0;Ye<ae.length;Ye+=16384)ge+=String.fromCharCode.apply(null,ae.subarray(Ye,Ye+16384));return ge}if(On)return On.decode(ae);var Qt=Gr(ae);if(Qt[1].length)throw"invalid utf-8 data";return Qt[0]}g.EncodeUTF8=Ao,g.strToU8=Hs,g.strFromU8=ui;var jo=function(ae){return ae==1?3:ae<6?2:ae==9?1:0},Ss=function(ae,se){return se+30+Hn(ae,se+26)+Hn(ae,se+28)},uo=function(ae,se,ge){var Ye=Hn(ae,se+28),Qt=ui(ae.subarray(se+46,se+46+Ye),!(2048&Hn(ae,se+8))),Ti=se+46+Ye,Wt=zn(ae,se+20),Ni=ge&&Wt==4294967295?ia(ae,Ti):[Wt,zn(ae,se+24),zn(ae,se+42)],te=Ni[0],Q=Ni[1],le=Ni[2];return[Hn(ae,se+10),te,Q,Qt,Ti+Hn(ae,se+30)+Hn(ae,se+32),le]},ia=function(ae,se){for(;Hn(ae,se)!=1;se+=4+Hn(ae,se+2));return[Ln(ae,se+12),Ln(ae,se+4),Ln(ae,se+20)]},Tn=function(ae){var se=0;if(ae)for(var ge in ae){var Ye=ae[ge].length;if(Ye>65535)throw"extra field too long";se+=Ye+4}return se},bo=function(ae,se,ge,Ye,Qt,Ti,Wt,Ni){var te=Ye.length,Q=ge.extra,le=Ni&&Ni.length,Ae=Tn(Q);In(ae,se,Wt!=null?33639248:67324752),se+=4,Wt!=null&&(ae[se++]=20,ae[se++]=ge.os),ae[se]=20,se+=2,ae[se++]=ge.flag<<1|(Ti==null&&8),ae[se++]=Qt&&8,ae[se++]=255&ge.compression,ae[se++]=ge.compression>>8;var Te=new Date(ge.mtime==null?Date.now():ge.mtime),wt=Te.getFullYear()-1980;if(wt<0||wt>119)throw"date not in range 1980-2099";if(In(ae,se,2*(wt<<24)|Te.getMonth()+1<<21|Te.getDate()<<16|Te.getHours()<<11|Te.getMinutes()<<5|Te.getSeconds()>>>1),se+=4,Ti!=null&&(In(ae,se,ge.crc),In(ae,se+4,Ti),In(ae,se+8,ge.size)),In(ae,se+12,te),In(ae,se+14,Ae),se+=16,Wt!=null&&(In(ae,se,le),In(ae,se+6,ge.attrs),In(ae,se+10,Wt),se+=14),ae.set(Ye,se),se+=te,Ae)for(var Bt in Q){var di=Q[Bt],qi=di.length;In(ae,se,+Bt),In(ae,se+2,qi),ae.set(di,se+4),se+=4+qi}return le&&(ae.set(Ni,se),se+=le),se},vo=function(ae,se,ge,Ye,Qt){In(ae,se,101010256),In(ae,se+8,ge),In(ae,se+10,ge),In(ae,se+12,Ye),In(ae,se+16,Qt)},Fs=function(){function ae(se){this.filename=se,this.c=sr(),this.size=0,this.compression=0}return ae.prototype.process=function(se,ge){this.ondata(null,se,ge)},ae.prototype.push=function(se,ge){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(se),this.size+=se.length,ge&&(this.crc=this.c.d()),this.process(se,ge||!1)},ae}();g.ZipPassThrough=Fs;var pn=function(){function ae(se,ge){var Ye=this;ge||(ge={}),Fs.call(this,se),this.d=new bs(ge,function(Qt,Ti){Ye.ondata(null,Qt,Ti)}),this.compression=8,this.flag=jo(ge.level)}return ae.prototype.process=function(se,ge){try{this.d.push(se,ge)}catch(Ye){this.ondata(Ye,null,ge)}},ae.prototype.push=function(se,ge){Fs.prototype.push.call(this,se,ge)},ae}();g.ZipDeflate=pn;var br=function(){function ae(se,ge){var Ye=this;ge||(ge={}),Fs.call(this,se),this.d=new Ks(ge,function(Qt,Ti,Wt){Ye.ondata(Qt,Ti,Wt)}),this.compression=8,this.flag=jo(ge.level),this.terminate=this.d.terminate}return ae.prototype.process=function(se,ge){this.d.push(se,ge)},ae.prototype.push=function(se,ge){Fs.prototype.push.call(this,se,ge)},ae}();g.AsyncZipDeflate=br;var xr=function(){function ae(se){this.ondata=se,this.u=[],this.d=1}return ae.prototype.add=function(se){var ge=this;if(2&this.d)throw"stream finished";var Ye=Hs(se.filename),Qt=Ye.length,Ti=se.comment,Wt=Ti&&Hs(Ti),Ni=Qt!=se.filename.length||Wt&&Ti.length!=Wt.length,te=Qt+Tn(se.extra)+30;if(Qt>65535)throw"filename too long";var Q=new G(te);bo(Q,0,se,Ye,Ni);var le=[Q],Ae=function(){for(var qi=0,_n=le;qi<_n.length;qi++)ge.ondata(null,_n[qi],!1);le=[]},Te=this.d;this.d=0;var wt=this.u.length,Bt=_r(se,{f:Ye,u:Ni,o:Wt,t:function(){se.terminate&&se.terminate()},r:function(){if(Ae(),Te){var qi=ge.u[wt+1];qi?qi.r():ge.d=1}Te=1}}),di=0;se.ondata=function(qi,_n,mi){if(qi)ge.ondata(qi,_n,mi),ge.terminate();else if(di+=_n.length,le.push(_n),mi){var gi=new G(16);In(gi,0,134695760),In(gi,4,se.crc),In(gi,8,di),In(gi,12,se.size),le.push(gi),Bt.c=di,Bt.b=te+di+16,Bt.crc=se.crc,Bt.size=se.size,Te&&Bt.r(),Te=1}else Te&&Ae()},this.u.push(Bt)},ae.prototype.end=function(){var se=this;if(2&this.d)throw 1&this.d?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){1&se.d&&(se.u.splice(-1,1),se.e())},t:function(){}}),this.d=3},ae.prototype.e=function(){for(var se=0,ge=0,Ye=0,Qt=0,Ti=this.u;Qt<Ti.length;Qt++)Ye+=46+(Q=Ti[Qt]).f.length+Tn(Q.extra)+(Q.o?Q.o.length:0);for(var Wt=new G(Ye+22),Ni=0,te=this.u;Ni<te.length;Ni++){var Q;bo(Wt,se,Q=te[Ni],Q.f,Q.u,Q.c,ge,Q.o),se+=46+Q.f.length+Tn(Q.extra)+(Q.o?Q.o.length:0),ge+=Q.b}vo(Wt,se,this.u.length,Ye,ge),this.ondata(null,Wt,!0),this.d=2},ae.prototype.terminate=function(){for(var se=0,ge=this.u;se<ge.length;se++)ge[se].t();this.d=2},ae}();function Es(ae,se,ge){if(ge||(ge=se,se={}),typeof ge!="function")throw"no callback";var Ye={};Cr(ae,"",Ye,se);var Qt=Object.keys(Ye),Ti=Qt.length,Wt=0,Ni=0,te=Ti,Q=Array(Ti),le=[],Ae=function(){for(var di=0;di<le.length;++di)le[di]()},Te=function(){var di=new G(Ni+22),qi=Wt,_n=Ni-Wt;Ni=0;for(var mi=0;mi<te;++mi){var gi=Q[mi];try{var vn=gi.c.length;bo(di,Ni,gi,gi.f,gi.u,vn);var Ii=30+gi.f.length+Tn(gi.extra),rn=Ni+Ii;di.set(gi.c,rn),bo(di,Wt,gi,gi.f,gi.u,vn,Ni,gi.m),Wt+=16+Ii+(gi.m?gi.m.length:0),Ni=rn+vn}catch(Ci){return ge(Ci,null)}}vo(di,Wt,Q.length,_n,qi),ge(null,di)};Ti||Te();for(var wt=function(di){var qi=Qt[di],_n=Ye[qi],mi=_n[0],gi=_n[1],vn=sr(),Ii=mi.length;vn.p(mi);var rn=Hs(qi),Ci=rn.length,wn=gi.comment,Bn=wn&&Hs(wn),nr=Bn&&Bn.length,rr=Tn(gi.extra),Rr=gi.level==0?0:8,Nr=function(Ki,ls){if(Ki)Ae(),ge(Ki,null);else{var pr=ls.length;Q[di]=_r(gi,{size:Ii,crc:vn.d(),c:ls,f:rn,m:Bn,u:Ci!=qi.length||Bn&&wn.length!=nr,compression:Rr}),Wt+=30+Ci+rr+pr,Ni+=76+2*(Ci+rr)+(nr||0)+pr,--Ti||Te()}};if(Ci>65535&&Nr("filename too long",null),Rr)if(Ii<16e4)try{Nr(null,es(mi,gi))}catch(Ki){Nr(Ki,null)}else le.push(yo(mi,gi,Nr));else Nr(null,mi)},Bt=0;Bt<te;++Bt)wt(Bt);return Ae}function Da(ae,se){se||(se={});var ge={},Ye=[];Cr(ae,"",ge,se);var Qt=0,Ti=0;for(var Wt in ge){var Ni=ge[Wt],te=Ni[0],Q=Ni[1],le=Q.level==0?0:8,Ae=(Ci=Hs(Wt)).length,Te=Q.comment,wt=Te&&Hs(Te),Bt=wt&&wt.length,di=Tn(Q.extra);if(Ae>65535)throw"filename too long";var qi=le?es(te,Q):te,_n=qi.length,mi=sr();mi.p(te),Ye.push(_r(Q,{size:te.length,crc:mi.d(),c:qi,f:Ci,m:wt,u:Ae!=Wt.length||wt&&Te.length!=Bt,o:Qt,compression:le})),Qt+=30+Ae+di+_n,Ti+=76+2*(Ae+di)+(Bt||0)+_n}for(var gi=new G(Ti+22),vn=Qt,Ii=Ti-Qt,rn=0;rn<Ye.length;++rn){var Ci;bo(gi,(Ci=Ye[rn]).o,Ci,Ci.f,Ci.u,Ci.c.length);var wn=30+Ci.f.length+Tn(Ci.extra);gi.set(Ci.c,Ci.o+wn),bo(gi,Qt,Ci,Ci.f,Ci.u,Ci.c.length,Ci.o,Ci.m),Qt+=16+wn+(Ci.m?Ci.m.length:0)}return vo(gi,Qt,Ye.length,Ii,vn),gi}g.Zip=xr,g.zip=Es,g.zipSync=Da;var Pr=function(){function ae(){}return ae.prototype.push=function(se,ge){this.ondata(null,se,ge)},ae.compression=0,ae}();g.UnzipPassThrough=Pr;var na=function(){function ae(){var se=this;this.i=new Ns(function(ge,Ye){se.ondata(null,ge,Ye)})}return ae.prototype.push=function(se,ge){try{this.i.push(se,ge)}catch(Ye){this.ondata(Ye,se,ge)}},ae.compression=8,ae}();g.UnzipInflate=na;var ma=function(){function ae(se,ge){var Ye=this;ge<32e4?this.i=new Ns(function(Qt,Ti){Ye.ondata(null,Qt,Ti)}):(this.i=new dr(function(Qt,Ti,Wt){Ye.ondata(Qt,Ti,Wt)}),this.terminate=this.i.terminate)}return ae.prototype.push=function(se,ge){this.i.terminate&&(se=Y(se,0)),this.i.push(se,ge)},ae.compression=8,ae}();g.AsyncUnzipInflate=ma;var xs=function(){function ae(se){this.onfile=se,this.k=[],this.o={0:Pr},this.p=Yi}return ae.prototype.push=function(se,ge){var Ye=this;if(!this.onfile)throw"no callback";if(this.c>0){var Qt=Math.min(this.c,se.length),Ti=se.subarray(0,Qt);if(this.c-=Qt,this.d?this.d.push(Ti,!this.c):this.k[0].push(Ti),(se=se.subarray(Qt)).length)return this.push(se,ge)}else{var Wt=0,Ni=0,te=void 0,Q=void 0;this.p.length?se.length?((Q=new G(this.p.length+se.length)).set(this.p),Q.set(se,this.p.length)):Q=this.p:Q=se;for(var le=Q.length,Ae=this.c,Te=Ae&&this.d,wt=function(){var qi,_n=zn(Q,Ni);if(_n==67324752){Wt=1,te=Ni,Bt.d=null,Bt.c=0;var mi=Hn(Q,Ni+6),gi=Hn(Q,Ni+8),vn=2048&mi,Ii=8&mi,rn=Hn(Q,Ni+26),Ci=Hn(Q,Ni+28);if(le>Ni+30+rn+Ci){var wn=[];Bt.k.unshift(wn),Wt=2;var Bn=zn(Q,Ni+18),nr=zn(Q,Ni+22),rr=ui(Q.subarray(Ni+30,Ni+=30+rn),!vn);Bn==4294967295?(qi=Ii?[-2]:ia(Q,Ni),Bn=qi[0],nr=qi[1]):Ii&&(Bn=-1),Ni+=Ci,Bt.c=Bn;var Rr={name:rr,compression:gi,start:function(){if(!Rr.ondata)throw"no callback";if(Bn){var Nr=Ye.o[gi];if(!Nr)throw"unknown compression type "+gi;var Ki=Bn<0?new Nr(rr):new Nr(rr,Bn,nr);Ki.ondata=function(Os,or,So){Rr.ondata(Os,or,So)};for(var ls=0,pr=wn;ls<pr.length;ls++)Ki.push(pr[ls],!1);Ye.k[0]==wn?Ye.d=Ki:Ki.push(Yi,!0)}else Rr.ondata(null,Yi,!0)},terminate:function(){Ye.k[0]==wn&&Ye.d.terminate&&Ye.d.terminate()}};Bn>=0&&(Rr.size=Bn,Rr.originalSize=nr),Bt.onfile(Rr)}return"break"}if(Ae){if(_n==134695760)return te=Ni+=12+(Ae==-2&&8),Wt=2,Bt.c=0,"break";if(_n==33639248)return te=Ni-=4,Wt=2,Bt.c=0,"break"}},Bt=this;Ni<le-4&&wt()!=="break";++Ni);if(this.p=Yi,Ae<0){var di=Q.subarray(0,Wt?te-12-(Ae==-2&&8)-(zn(Q,te-16)==134695760&&4):Ni);Te?Te.push(di,!!Wt):this.k[+(Wt==2)].push(di)}if(2&Wt)return this.push(Q.subarray(Ni),ge);this.p=Q.subarray(Ni)}if(ge&&this.c)throw"invalid zip file"},ae.prototype.register=function(se){this.o[se.compression]=se},ae}();function Zs(ae,se){if(typeof se!="function")throw"no callback";for(var ge=[],Ye=function(){for(var Te=0;Te<ge.length;++Te)ge[Te]()},Qt={},Ti=ae.length-22;zn(ae,Ti)!=101010256;--Ti)if(!Ti||ae.length-Ti>65558)return void se("invalid zip file",null);var Wt=Hn(ae,Ti+8);Wt||se(null,{});var Ni=Wt,te=zn(ae,Ti+16),Q=te==4294967295;if(Q){if(Ti=zn(ae,Ti-12),zn(ae,Ti)!=101075792)return void se("invalid zip file",null);Ni=Wt=zn(ae,Ti+32),te=zn(ae,Ti+48)}for(var le=function(Te){var wt=uo(ae,te,Q),Bt=wt[0],di=wt[1],qi=wt[2],_n=wt[3],mi=wt[4],gi=Ss(ae,wt[5]);te=mi;var vn=function(rn,Ci){rn?(Ye(),se(rn,null)):(Qt[_n]=Ci,--Wt||se(null,Qt))};if(Bt)if(Bt==8){var Ii=ae.subarray(gi,gi+di);if(di<32e4)try{vn(null,$s(Ii,new G(qi)))}catch(rn){vn(rn,null)}else ge.push(Rs(Ii,{size:qi},vn))}else vn("unknown compression type "+Bt,null);else vn(null,Y(ae,gi,gi+di))},Ae=0;Ae<Ni;++Ae)le();return Ye}function cs(ae){for(var se={},ge=ae.length-22;zn(ae,ge)!=101010256;--ge)if(!ge||ae.length-ge>65558)throw"invalid zip file";var Ye=Hn(ae,ge+8);if(!Ye)return{};var Qt=zn(ae,ge+16),Ti=Qt==4294967295;if(Ti){if(ge=zn(ae,ge-12),zn(ae,ge)!=101075792)throw"invalid zip file";Ye=zn(ae,ge+32),Qt=zn(ae,ge+48)}for(var Wt=0;Wt<Ye;++Wt){var Ni=uo(ae,Qt,Ti),te=Ni[0],Q=Ni[1],le=Ni[2],Ae=Ni[3],Te=Ni[4],wt=Ss(ae,Ni[5]);if(Qt=Te,te){if(te!=8)throw"unknown compression type "+te;se[Ae]=$s(ae.subarray(wt,wt+Q),new G(le))}else se[Ae]=Y(ae,wt,wt+Q)}return se}return g.Unzip=xs,g.unzip=Zs,g.unzipSync=cs,g})})(y2,y2.exports);(function(k,H){const g=La.exports,L=y2.exports;(function(){let G,J,O;class a extends g.Loader{constructor(Y){super(Y)}load(Y,ce,de,be){const xe=this,nt=xe.path===""?g.LoaderUtils.extractUrlBase(Y):xe.path,dt=new g.FileLoader(this.manager);dt.setPath(xe.path),dt.setResponseType("arraybuffer"),dt.setRequestHeader(xe.requestHeader),dt.setWithCredentials(xe.withCredentials),dt.load(Y,function(yt){try{ce(xe.parse(yt,nt))}catch(Vt){be?be(Vt):console.error(Vt),xe.manager.itemError(Y)}},de,be)}parse(Y,ce){if(Se(Y))G=new rt().parse(Y);else{const be=Ze(Y);if(!Be(be))throw new Error("THREE.FBXLoader: Unknown format.");if(Gt(be)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Gt(be));G=new me().parse(be)}const de=new g.TextureLoader(this.manager).setPath(this.resourcePath||ce).setCrossOrigin(this.crossOrigin);return new j(de,this.manager).parse(G)}}class j{constructor(Y,ce){this.textureLoader=Y,this.manager=ce}parse(){J=this.parseConnections();const Y=this.parseImages(),ce=this.parseTextures(Y),de=this.parseMaterials(ce),be=this.parseDeformers(),xe=new Z().parse(be);return this.parseScene(be,xe,de),O}parseConnections(){const Y=new Map;return"Connections"in G&&G.Connections.connections.forEach(function(de){const be=de[0],xe=de[1],nt=de[2];Y.has(be)||Y.set(be,{parents:[],children:[]});const dt={ID:xe,relationship:nt};Y.get(be).parents.push(dt),Y.has(xe)||Y.set(xe,{parents:[],children:[]});const yt={ID:be,relationship:nt};Y.get(xe).children.push(yt)}),Y}parseImages(){const Y={},ce={};if("Video"in G.Objects){const de=G.Objects.Video;for(const be in de){const xe=de[be],nt=parseInt(be);if(Y[nt]=xe.RelativeFilename||xe.Filename,"Content"in xe){const dt=xe.Content instanceof ArrayBuffer&&xe.Content.byteLength>0,yt=typeof xe.Content=="string"&&xe.Content!=="";if(dt||yt){const Vt=this.parseImage(de[be]);ce[xe.RelativeFilename||xe.Filename]=Vt}}}}for(const de in Y){const be=Y[de];ce[be]!==void 0?Y[de]=ce[be]:Y[de]=Y[de].split("\\").pop()}return Y}parseImage(Y){const ce=Y.Content,de=Y.RelativeFilename||Y.Filename,be=de.slice(de.lastIndexOf(".")+1).toLowerCase();let xe;switch(be){case"bmp":xe="image/bmp";break;case"jpg":case"jpeg":xe="image/jpeg";break;case"png":xe="image/png";break;case"tif":xe="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",de),xe="image/tga";break;default:console.warn('FBXLoader: Image type "'+be+'" is not supported.');return}if(typeof ce=="string")return"data:"+xe+";base64,"+ce;{const nt=new Uint8Array(ce);return window.URL.createObjectURL(new Blob([nt],{type:xe}))}}parseTextures(Y){const ce=new Map;if("Texture"in G.Objects){const de=G.Objects.Texture;for(const be in de){const xe=this.parseTexture(de[be],Y);ce.set(parseInt(be),xe)}}return ce}parseTexture(Y,ce){const de=this.loadTexture(Y,ce);de.ID=Y.id,de.name=Y.attrName;const be=Y.WrapModeU,xe=Y.WrapModeV,nt=be!==void 0?be.value:0,dt=xe!==void 0?xe.value:0;if(de.wrapS=nt===0?g.RepeatWrapping:g.ClampToEdgeWrapping,de.wrapT=dt===0?g.RepeatWrapping:g.ClampToEdgeWrapping,"Scaling"in Y){const yt=Y.Scaling.value;de.repeat.x=yt[0],de.repeat.y=yt[1]}return de}loadTexture(Y,ce){let de;const be=this.textureLoader.path,xe=J.get(Y.id).children;xe!==void 0&&xe.length>0&&ce[xe[0].ID]!==void 0&&(de=ce[xe[0].ID],(de.indexOf("blob:")===0||de.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let nt;const dt=Y.FileName.slice(-3).toLowerCase();if(dt==="tga"){const yt=this.manager.getHandler(".tga");yt===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",Y.RelativeFilename),nt=new g.Texture):(yt.setPath(this.textureLoader.path),nt=yt.load(de))}else dt==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",Y.RelativeFilename),nt=new g.Texture):nt=this.textureLoader.load(de);return this.textureLoader.setPath(be),nt}parseMaterials(Y){const ce=new Map;if("Material"in G.Objects){const de=G.Objects.Material;for(const be in de){const xe=this.parseMaterial(de[be],Y);xe!==null&&ce.set(parseInt(be),xe)}}return ce}parseMaterial(Y,ce){const de=Y.id,be=Y.attrName;let xe=Y.ShadingModel;if(typeof xe=="object"&&(xe=xe.value),!J.has(de))return null;const nt=this.parseParameters(Y,ce,de);let dt;switch(xe.toLowerCase()){case"phong":dt=new g.MeshPhongMaterial;break;case"lambert":dt=new g.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to THREE.MeshPhongMaterial.',xe),dt=new g.MeshPhongMaterial;break}return dt.setValues(nt),dt.name=be,dt}parseParameters(Y,ce,de){const be={};Y.BumpFactor&&(be.bumpScale=Y.BumpFactor.value),Y.Diffuse?be.color=new g.Color().fromArray(Y.Diffuse.value):Y.DiffuseColor&&(Y.DiffuseColor.type==="Color"||Y.DiffuseColor.type==="ColorRGB")&&(be.color=new g.Color().fromArray(Y.DiffuseColor.value)),Y.DisplacementFactor&&(be.displacementScale=Y.DisplacementFactor.value),Y.Emissive?be.emissive=new g.Color().fromArray(Y.Emissive.value):Y.EmissiveColor&&(Y.EmissiveColor.type==="Color"||Y.EmissiveColor.type==="ColorRGB")&&(be.emissive=new g.Color().fromArray(Y.EmissiveColor.value)),Y.EmissiveFactor&&(be.emissiveIntensity=parseFloat(Y.EmissiveFactor.value)),Y.Opacity&&(be.opacity=parseFloat(Y.Opacity.value)),be.opacity<1&&(be.transparent=!0),Y.ReflectionFactor&&(be.reflectivity=Y.ReflectionFactor.value),Y.Shininess&&(be.shininess=Y.Shininess.value),Y.Specular?be.specular=new g.Color().fromArray(Y.Specular.value):Y.SpecularColor&&Y.SpecularColor.type==="Color"&&(be.specular=new g.Color().fromArray(Y.SpecularColor.value));const xe=this;return J.get(de).children.forEach(function(nt){const dt=nt.relationship;switch(dt){case"Bump":be.bumpMap=xe.getTexture(ce,nt.ID);break;case"Maya|TEX_ao_map":be.aoMap=xe.getTexture(ce,nt.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":be.map=xe.getTexture(ce,nt.ID),be.map!==void 0&&(be.map.encoding=g.sRGBEncoding);break;case"DisplacementColor":be.displacementMap=xe.getTexture(ce,nt.ID);break;case"EmissiveColor":be.emissiveMap=xe.getTexture(ce,nt.ID),be.emissiveMap!==void 0&&(be.emissiveMap.encoding=g.sRGBEncoding);break;case"NormalMap":case"Maya|TEX_normal_map":be.normalMap=xe.getTexture(ce,nt.ID);break;case"ReflectionColor":be.envMap=xe.getTexture(ce,nt.ID),be.envMap!==void 0&&(be.envMap.mapping=g.EquirectangularReflectionMapping,be.envMap.encoding=g.sRGBEncoding);break;case"SpecularColor":be.specularMap=xe.getTexture(ce,nt.ID),be.specularMap!==void 0&&(be.specularMap.encoding=g.sRGBEncoding);break;case"TransparentColor":case"TransparencyFactor":be.alphaMap=xe.getTexture(ce,nt.ID),be.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",dt);break}}),be}getTexture(Y,ce){return"LayeredTexture"in G.Objects&&ce in G.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),ce=J.get(ce).children[0].ID),Y.get(ce)}parseDeformers(){const Y={},ce={};if("Deformer"in G.Objects){const de=G.Objects.Deformer;for(const be in de){const xe=de[be],nt=J.get(parseInt(be));if(xe.attrType==="Skin"){const dt=this.parseSkeleton(nt,de);dt.ID=be,nt.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),dt.geometryID=nt.parents[0].ID,Y[be]=dt}else if(xe.attrType==="BlendShape"){const dt={id:be};dt.rawTargets=this.parseMorphTargets(nt,de),dt.id=be,nt.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),ce[be]=dt}}}return{skeletons:Y,morphTargets:ce}}parseSkeleton(Y,ce){const de=[];return Y.children.forEach(function(be){const xe=ce[be.ID];if(xe.attrType!=="Cluster")return;const nt={ID:be.ID,indices:[],weights:[],transformLink:new g.Matrix4().fromArray(xe.TransformLink.a)};"Indexes"in xe&&(nt.indices=xe.Indexes.a,nt.weights=xe.Weights.a),de.push(nt)}),{rawBones:de,bones:[]}}parseMorphTargets(Y,ce){const de=[];for(let be=0;be<Y.children.length;be++){const xe=Y.children[be],nt=ce[xe.ID],dt={name:nt.attrName,initialWeight:nt.DeformPercent,id:nt.id,fullWeights:nt.FullWeights.a};if(nt.attrType!=="BlendShapeChannel")return;dt.geoID=J.get(parseInt(xe.ID)).children.filter(function(yt){return yt.relationship===void 0})[0].ID,de.push(dt)}return de}parseScene(Y,ce,de){O=new g.Group;const be=this.parseModels(Y.skeletons,ce,de),xe=G.Objects.Model,nt=this;be.forEach(function(yt){const Vt=xe[yt.ID];nt.setLookAtProperties(yt,Vt),J.get(yt.ID).parents.forEach(function(Ot){const Yi=be.get(Ot.ID);Yi!==void 0&&Yi.add(yt)}),yt.parent===null&&O.add(yt)}),this.bindSkeleton(Y.skeletons,ce,be),this.createAmbientLight(),O.traverse(function(yt){if(yt.userData.transformData){yt.parent&&(yt.userData.transformData.parentMatrix=yt.parent.matrix,yt.userData.transformData.parentMatrixWorld=yt.parent.matrixWorld);const Vt=ri(yt.userData.transformData);yt.applyMatrix4(Vt),yt.updateWorldMatrix()}});const dt=new ye().parse();O.children.length===1&&O.children[0].isGroup&&(O.children[0].animations=dt,O=O.children[0]),O.animations=dt}parseModels(Y,ce,de){const be=new Map,xe=G.Objects.Model;for(const nt in xe){const dt=parseInt(nt),yt=xe[nt],Vt=J.get(dt);let mt=this.buildSkeleton(Vt,Y,dt,yt.attrName);if(!mt){switch(yt.attrType){case"Camera":mt=this.createCamera(Vt);break;case"Light":mt=this.createLight(Vt);break;case"Mesh":mt=this.createMesh(Vt,ce,de);break;case"NurbsCurve":mt=this.createCurve(Vt,ce);break;case"LimbNode":case"Root":mt=new g.Bone;break;case"Null":default:mt=new g.Group;break}mt.name=yt.attrName?g.PropertyBinding.sanitizeNodeName(yt.attrName):"",mt.ID=dt}this.getTransformData(mt,yt),be.set(dt,mt)}return be}buildSkeleton(Y,ce,de,be){let xe=null;return Y.parents.forEach(function(nt){for(const dt in ce){const yt=ce[dt];yt.rawBones.forEach(function(Vt,mt){if(Vt.ID===nt.ID){const Ot=xe;xe=new g.Bone,xe.matrixWorld.copy(Vt.transformLink),xe.name=be?g.PropertyBinding.sanitizeNodeName(be):"",xe.ID=de,yt.bones[mt]=xe,Ot!==null&&xe.add(Ot)}})}}),xe}createCamera(Y){let ce,de;if(Y.children.forEach(function(be){const xe=G.Objects.NodeAttribute[be.ID];xe!==void 0&&(de=xe)}),de===void 0)ce=new g.Object3D;else{let be=0;de.CameraProjectionType!==void 0&&de.CameraProjectionType.value===1&&(be=1);let xe=1;de.NearPlane!==void 0&&(xe=de.NearPlane.value/1e3);let nt=1e3;de.FarPlane!==void 0&&(nt=de.FarPlane.value/1e3);let dt=window.innerWidth,yt=window.innerHeight;de.AspectWidth!==void 0&&de.AspectHeight!==void 0&&(dt=de.AspectWidth.value,yt=de.AspectHeight.value);const Vt=dt/yt;let mt=45;de.FieldOfView!==void 0&&(mt=de.FieldOfView.value);const Ot=de.FocalLength?de.FocalLength.value:null;switch(be){case 0:ce=new g.PerspectiveCamera(mt,Vt,xe,nt),Ot!==null&&ce.setFocalLength(Ot);break;case 1:ce=new g.OrthographicCamera(-dt/2,dt/2,yt/2,-yt/2,xe,nt);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+be+"."),ce=new g.Object3D;break}}return ce}createLight(Y){let ce,de;if(Y.children.forEach(function(be){const xe=G.Objects.NodeAttribute[be.ID];xe!==void 0&&(de=xe)}),de===void 0)ce=new g.Object3D;else{let be;de.LightType===void 0?be=0:be=de.LightType.value;let xe=16777215;de.Color!==void 0&&(xe=new g.Color().fromArray(de.Color.value));let nt=de.Intensity===void 0?1:de.Intensity.value/100;de.CastLightOnObject!==void 0&&de.CastLightOnObject.value===0&&(nt=0);let dt=0;de.FarAttenuationEnd!==void 0&&(de.EnableFarAttenuation!==void 0&&de.EnableFarAttenuation.value===0?dt=0:dt=de.FarAttenuationEnd.value);const yt=1;switch(be){case 0:ce=new g.PointLight(xe,nt,dt,yt);break;case 1:ce=new g.DirectionalLight(xe,nt);break;case 2:let Vt=Math.PI/3;de.InnerAngle!==void 0&&(Vt=g.MathUtils.degToRad(de.InnerAngle.value));let mt=0;de.OuterAngle!==void 0&&(mt=g.MathUtils.degToRad(de.OuterAngle.value),mt=Math.max(mt,1)),ce=new g.SpotLight(xe,nt,dt,Vt,mt,yt);break;default:console.warn("THREE.FBXLoader: Unknown light type "+de.LightType.value+", defaulting to a THREE.PointLight."),ce=new g.PointLight(xe,nt);break}de.CastShadows!==void 0&&de.CastShadows.value===1&&(ce.castShadow=!0)}return ce}createMesh(Y,ce,de){let be,xe=null,nt=null;const dt=[];return Y.children.forEach(function(yt){ce.has(yt.ID)&&(xe=ce.get(yt.ID)),de.has(yt.ID)&&dt.push(de.get(yt.ID))}),dt.length>1?nt=dt:dt.length>0?nt=dt[0]:(nt=new g.MeshPhongMaterial({color:13421772}),dt.push(nt)),"color"in xe.attributes&&dt.forEach(function(yt){yt.vertexColors=!0}),xe.FBX_Deformer?(be=new g.SkinnedMesh(xe,nt),be.normalizeSkinWeights()):be=new g.Mesh(xe,nt),be}createCurve(Y,ce){const de=Y.children.reduce(function(xe,nt){return ce.has(nt.ID)&&(xe=ce.get(nt.ID)),xe},null),be=new g.LineBasicMaterial({color:3342591,linewidth:1});return new g.Line(de,be)}getTransformData(Y,ce){const de={};"InheritType"in ce&&(de.inheritType=parseInt(ce.InheritType.value)),"RotationOrder"in ce?de.eulerOrder=Mi(ce.RotationOrder.value):de.eulerOrder="ZYX","Lcl_Translation"in ce&&(de.translation=ce.Lcl_Translation.value),"PreRotation"in ce&&(de.preRotation=ce.PreRotation.value),"Lcl_Rotation"in ce&&(de.rotation=ce.Lcl_Rotation.value),"PostRotation"in ce&&(de.postRotation=ce.PostRotation.value),"Lcl_Scaling"in ce&&(de.scale=ce.Lcl_Scaling.value),"ScalingOffset"in ce&&(de.scalingOffset=ce.ScalingOffset.value),"ScalingPivot"in ce&&(de.scalingPivot=ce.ScalingPivot.value),"RotationOffset"in ce&&(de.rotationOffset=ce.RotationOffset.value),"RotationPivot"in ce&&(de.rotationPivot=ce.RotationPivot.value),Y.userData.transformData=de}setLookAtProperties(Y,ce){"LookAtProperty"in ce&&J.get(Y.ID).children.forEach(function(be){if(be.relationship==="LookAtProperty"){const xe=G.Objects.Model[be.ID];if("Lcl_Translation"in xe){const nt=xe.Lcl_Translation.value;Y.target!==void 0?(Y.target.position.fromArray(nt),O.add(Y.target)):Y.lookAt(new g.Vector3().fromArray(nt))}}})}bindSkeleton(Y,ce,de){const be=this.parsePoseNodes();for(const xe in Y){const nt=Y[xe];J.get(parseInt(nt.ID)).parents.forEach(function(yt){if(ce.has(yt.ID)){const Vt=yt.ID;J.get(Vt).parents.forEach(function(Ot){de.has(Ot.ID)&&de.get(Ot.ID).bind(new g.Skeleton(nt.bones),be[Ot.ID])})}})}}parsePoseNodes(){const Y={};if("Pose"in G.Objects){const ce=G.Objects.Pose;for(const de in ce)if(ce[de].attrType==="BindPose"){const be=ce[de].PoseNode;Array.isArray(be)?be.forEach(function(xe){Y[xe.Node]=new g.Matrix4().fromArray(xe.Matrix.a)}):Y[be.Node]=new g.Matrix4().fromArray(be.Matrix.a)}}return Y}createAmbientLight(){if("GlobalSettings"in G&&"AmbientColor"in G.GlobalSettings){const Y=G.GlobalSettings.AmbientColor.value,ce=Y[0],de=Y[1],be=Y[2];if(ce!==0||de!==0||be!==0){const xe=new g.Color(ce,de,be);O.add(new g.AmbientLight(xe,1))}}}}class Z{parse(Y){const ce=new Map;if("Geometry"in G.Objects){const de=G.Objects.Geometry;for(const be in de){const xe=J.get(parseInt(be)),nt=this.parseGeometry(xe,de[be],Y);ce.set(parseInt(be),nt)}}return ce}parseGeometry(Y,ce,de){switch(ce.attrType){case"Mesh":return this.parseMeshGeometry(Y,ce,de);case"NurbsCurve":return this.parseNurbsGeometry(ce)}}parseMeshGeometry(Y,ce,de){const be=de.skeletons,xe=[],nt=Y.parents.map(function(Ot){return G.Objects.Model[Ot.ID]});if(nt.length===0)return;const dt=Y.children.reduce(function(Ot,Yi){return be[Yi.ID]!==void 0&&(Ot=be[Yi.ID]),Ot},null);Y.children.forEach(function(Ot){de.morphTargets[Ot.ID]!==void 0&&xe.push(de.morphTargets[Ot.ID])});const yt=nt[0],Vt={};"RotationOrder"in yt&&(Vt.eulerOrder=Mi(yt.RotationOrder.value)),"InheritType"in yt&&(Vt.inheritType=parseInt(yt.InheritType.value)),"GeometricTranslation"in yt&&(Vt.translation=yt.GeometricTranslation.value),"GeometricRotation"in yt&&(Vt.rotation=yt.GeometricRotation.value),"GeometricScaling"in yt&&(Vt.scale=yt.GeometricScaling.value);const mt=ri(Vt);return this.genGeometry(ce,dt,xe,mt)}genGeometry(Y,ce,de,be){const xe=new g.BufferGeometry;Y.attrName&&(xe.name=Y.attrName);const nt=this.parseGeoNode(Y,ce),dt=this.genBuffers(nt),yt=new g.Float32BufferAttribute(dt.vertex,3);if(yt.applyMatrix4(be),xe.setAttribute("position",yt),dt.colors.length>0&&xe.setAttribute("color",new g.Float32BufferAttribute(dt.colors,3)),ce&&(xe.setAttribute("skinIndex",new g.Uint16BufferAttribute(dt.weightsIndices,4)),xe.setAttribute("skinWeight",new g.Float32BufferAttribute(dt.vertexWeights,4)),xe.FBX_Deformer=ce),dt.normal.length>0){const Vt=new g.Matrix3().getNormalMatrix(be),mt=new g.Float32BufferAttribute(dt.normal,3);mt.applyNormalMatrix(Vt),xe.setAttribute("normal",mt)}if(dt.uvs.forEach(function(Vt,mt){let Ot="uv"+(mt+1).toString();mt===0&&(Ot="uv"),xe.setAttribute(Ot,new g.Float32BufferAttribute(dt.uvs[mt],2))}),nt.material&&nt.material.mappingType!=="AllSame"){let Vt=dt.materialIndex[0],mt=0;if(dt.materialIndex.forEach(function(Ot,Yi){Ot!==Vt&&(xe.addGroup(mt,Yi-mt,Vt),Vt=Ot,mt=Yi)}),xe.groups.length>0){const Ot=xe.groups[xe.groups.length-1],Yi=Ot.start+Ot.count;Yi!==dt.materialIndex.length&&xe.addGroup(Yi,dt.materialIndex.length-Yi,Vt)}xe.groups.length===0&&xe.addGroup(0,dt.materialIndex.length,dt.materialIndex[0])}return this.addMorphTargets(xe,Y,de,be),xe}parseGeoNode(Y,ce){const de={};if(de.vertexPositions=Y.Vertices!==void 0?Y.Vertices.a:[],de.vertexIndices=Y.PolygonVertexIndex!==void 0?Y.PolygonVertexIndex.a:[],Y.LayerElementColor&&(de.color=this.parseVertexColors(Y.LayerElementColor[0])),Y.LayerElementMaterial&&(de.material=this.parseMaterialIndices(Y.LayerElementMaterial[0])),Y.LayerElementNormal&&(de.normal=this.parseNormals(Y.LayerElementNormal[0])),Y.LayerElementUV){de.uv=[];let be=0;for(;Y.LayerElementUV[be];)Y.LayerElementUV[be].UV&&de.uv.push(this.parseUVs(Y.LayerElementUV[be])),be++}return de.weightTable={},ce!==null&&(de.skeleton=ce,ce.rawBones.forEach(function(be,xe){be.indices.forEach(function(nt,dt){de.weightTable[nt]===void 0&&(de.weightTable[nt]=[]),de.weightTable[nt].push({id:xe,weight:be.weights[dt]})})})),de}genBuffers(Y){const ce={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let de=0,be=0,xe=!1,nt=[],dt=[],yt=[],Vt=[],mt=[],Ot=[];const Yi=this;return Y.vertexIndices.forEach(function(Gi,an){let sr,Er=!1;Gi<0&&(Gi=Gi^-1,Er=!0);let Ir=[],_r=[];if(nt.push(Gi*3,Gi*3+1,Gi*3+2),Y.color){const Ar=Fi(an,de,Gi,Y.color);yt.push(Ar[0],Ar[1],Ar[2])}if(Y.skeleton){if(Y.weightTable[Gi]!==void 0&&Y.weightTable[Gi].forEach(function(Ar){_r.push(Ar.weight),Ir.push(Ar.id)}),_r.length>4){xe||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),xe=!0);const Ar=[0,0,0,0],Wn=[0,0,0,0];_r.forEach(function(Li,Ie){let Ne=Li,st=Ir[Ie];Wn.forEach(function(Je,ot,Tt){if(Ne>Je){Tt[ot]=Ne,Ne=Je;const Pt=Ar[ot];Ar[ot]=st,st=Pt}})}),Ir=Ar,_r=Wn}for(;_r.length<4;)_r.push(0),Ir.push(0);for(let Ar=0;Ar<4;++Ar)mt.push(_r[Ar]),Ot.push(Ir[Ar])}if(Y.normal){const Ar=Fi(an,de,Gi,Y.normal);dt.push(Ar[0],Ar[1],Ar[2])}Y.material&&Y.material.mappingType!=="AllSame"&&(sr=Fi(an,de,Gi,Y.material)[0]),Y.uv&&Y.uv.forEach(function(Ar,Wn){const Li=Fi(an,de,Gi,Ar);Vt[Wn]===void 0&&(Vt[Wn]=[]),Vt[Wn].push(Li[0]),Vt[Wn].push(Li[1])}),be++,Er&&(Yi.genFace(ce,Y,nt,sr,dt,yt,Vt,mt,Ot,be),de++,be=0,nt=[],dt=[],yt=[],Vt=[],mt=[],Ot=[])}),ce}genFace(Y,ce,de,be,xe,nt,dt,yt,Vt,mt){for(let Ot=2;Ot<mt;Ot++)Y.vertex.push(ce.vertexPositions[de[0]]),Y.vertex.push(ce.vertexPositions[de[1]]),Y.vertex.push(ce.vertexPositions[de[2]]),Y.vertex.push(ce.vertexPositions[de[(Ot-1)*3]]),Y.vertex.push(ce.vertexPositions[de[(Ot-1)*3+1]]),Y.vertex.push(ce.vertexPositions[de[(Ot-1)*3+2]]),Y.vertex.push(ce.vertexPositions[de[Ot*3]]),Y.vertex.push(ce.vertexPositions[de[Ot*3+1]]),Y.vertex.push(ce.vertexPositions[de[Ot*3+2]]),ce.skeleton&&(Y.vertexWeights.push(yt[0]),Y.vertexWeights.push(yt[1]),Y.vertexWeights.push(yt[2]),Y.vertexWeights.push(yt[3]),Y.vertexWeights.push(yt[(Ot-1)*4]),Y.vertexWeights.push(yt[(Ot-1)*4+1]),Y.vertexWeights.push(yt[(Ot-1)*4+2]),Y.vertexWeights.push(yt[(Ot-1)*4+3]),Y.vertexWeights.push(yt[Ot*4]),Y.vertexWeights.push(yt[Ot*4+1]),Y.vertexWeights.push(yt[Ot*4+2]),Y.vertexWeights.push(yt[Ot*4+3]),Y.weightsIndices.push(Vt[0]),Y.weightsIndices.push(Vt[1]),Y.weightsIndices.push(Vt[2]),Y.weightsIndices.push(Vt[3]),Y.weightsIndices.push(Vt[(Ot-1)*4]),Y.weightsIndices.push(Vt[(Ot-1)*4+1]),Y.weightsIndices.push(Vt[(Ot-1)*4+2]),Y.weightsIndices.push(Vt[(Ot-1)*4+3]),Y.weightsIndices.push(Vt[Ot*4]),Y.weightsIndices.push(Vt[Ot*4+1]),Y.weightsIndices.push(Vt[Ot*4+2]),Y.weightsIndices.push(Vt[Ot*4+3])),ce.color&&(Y.colors.push(nt[0]),Y.colors.push(nt[1]),Y.colors.push(nt[2]),Y.colors.push(nt[(Ot-1)*3]),Y.colors.push(nt[(Ot-1)*3+1]),Y.colors.push(nt[(Ot-1)*3+2]),Y.colors.push(nt[Ot*3]),Y.colors.push(nt[Ot*3+1]),Y.colors.push(nt[Ot*3+2])),ce.material&&ce.material.mappingType!=="AllSame"&&(Y.materialIndex.push(be),Y.materialIndex.push(be),Y.materialIndex.push(be)),ce.normal&&(Y.normal.push(xe[0]),Y.normal.push(xe[1]),Y.normal.push(xe[2]),Y.normal.push(xe[(Ot-1)*3]),Y.normal.push(xe[(Ot-1)*3+1]),Y.normal.push(xe[(Ot-1)*3+2]),Y.normal.push(xe[Ot*3]),Y.normal.push(xe[Ot*3+1]),Y.normal.push(xe[Ot*3+2])),ce.uv&&ce.uv.forEach(function(Yi,Gi){Y.uvs[Gi]===void 0&&(Y.uvs[Gi]=[]),Y.uvs[Gi].push(dt[Gi][0]),Y.uvs[Gi].push(dt[Gi][1]),Y.uvs[Gi].push(dt[Gi][(Ot-1)*2]),Y.uvs[Gi].push(dt[Gi][(Ot-1)*2+1]),Y.uvs[Gi].push(dt[Gi][Ot*2]),Y.uvs[Gi].push(dt[Gi][Ot*2+1])})}addMorphTargets(Y,ce,de,be){if(de.length===0)return;Y.morphTargetsRelative=!0,Y.morphAttributes.position=[];const xe=this;de.forEach(function(nt){nt.rawTargets.forEach(function(dt){const yt=G.Objects.Geometry[dt.geoID];yt!==void 0&&xe.genMorphGeometry(Y,ce,yt,be,dt.name)})})}genMorphGeometry(Y,ce,de,be,xe){const nt=ce.PolygonVertexIndex!==void 0?ce.PolygonVertexIndex.a:[],dt=de.Vertices!==void 0?de.Vertices.a:[],yt=de.Indexes!==void 0?de.Indexes.a:[],Vt=Y.attributes.position.count*3,mt=new Float32Array(Vt);for(let an=0;an<yt.length;an++){const sr=yt[an]*3;mt[sr]=dt[an*3],mt[sr+1]=dt[an*3+1],mt[sr+2]=dt[an*3+2]}const Ot={vertexIndices:nt,vertexPositions:mt},Yi=this.genBuffers(Ot),Gi=new g.Float32BufferAttribute(Yi.vertex,3);Gi.name=xe||de.attrName,Gi.applyMatrix4(be),Y.morphAttributes.position.push(Gi)}parseNormals(Y){const ce=Y.MappingInformationType,de=Y.ReferenceInformationType,be=Y.Normals.a;let xe=[];return de==="IndexToDirect"&&("NormalIndex"in Y?xe=Y.NormalIndex.a:"NormalsIndex"in Y&&(xe=Y.NormalsIndex.a)),{dataSize:3,buffer:be,indices:xe,mappingType:ce,referenceType:de}}parseUVs(Y){const ce=Y.MappingInformationType,de=Y.ReferenceInformationType,be=Y.UV.a;let xe=[];return de==="IndexToDirect"&&(xe=Y.UVIndex.a),{dataSize:2,buffer:be,indices:xe,mappingType:ce,referenceType:de}}parseVertexColors(Y){const ce=Y.MappingInformationType,de=Y.ReferenceInformationType,be=Y.Colors.a;let xe=[];return de==="IndexToDirect"&&(xe=Y.ColorIndex.a),{dataSize:4,buffer:be,indices:xe,mappingType:ce,referenceType:de}}parseMaterialIndices(Y){const ce=Y.MappingInformationType,de=Y.ReferenceInformationType;if(ce==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:de};const be=Y.Materials.a,xe=[];for(let nt=0;nt<be.length;++nt)xe.push(nt);return{dataSize:1,buffer:be,indices:xe,mappingType:ce,referenceType:de}}parseNurbsGeometry(Y){if(g.NURBSCurve===void 0)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new g.BufferGeometry;const ce=parseInt(Y.Order);if(isNaN(ce))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",Y.Order,Y.id),new g.BufferGeometry;const de=ce-1,be=Y.KnotVector.a,xe=[],nt=Y.Points.a;for(let Ot=0,Yi=nt.length;Ot<Yi;Ot+=4)xe.push(new g.Vector4().fromArray(nt,Ot));let dt,yt;if(Y.Form==="Closed")xe.push(xe[0]);else if(Y.Form==="Periodic"){dt=de,yt=be.length-1-dt;for(let Ot=0;Ot<de;++Ot)xe.push(xe[Ot])}const mt=new g.NURBSCurve(de,be,xe,dt,yt).getPoints(xe.length*12);return new g.BufferGeometry().setFromPoints(mt)}}class ye{parse(){const Y=[],ce=this.parseClips();if(ce!==void 0)for(const de in ce){const be=ce[de],xe=this.addClip(be);Y.push(xe)}return Y}parseClips(){if(G.Objects.AnimationCurve===void 0)return;const Y=this.parseAnimationCurveNodes();this.parseAnimationCurves(Y);const ce=this.parseAnimationLayers(Y);return this.parseAnimStacks(ce)}parseAnimationCurveNodes(){const Y=G.Objects.AnimationCurveNode,ce=new Map;for(const de in Y){const be=Y[de];if(be.attrName.match(/S|R|T|DeformPercent/)!==null){const xe={id:be.id,attr:be.attrName,curves:{}};ce.set(xe.id,xe)}}return ce}parseAnimationCurves(Y){const ce=G.Objects.AnimationCurve;for(const de in ce){const be={id:ce[de].id,times:ce[de].KeyTime.a.map(xt),values:ce[de].KeyValueFloat.a},xe=J.get(be.id);if(xe!==void 0){const nt=xe.parents[0].ID,dt=xe.parents[0].relationship;dt.match(/X/)?Y.get(nt).curves.x=be:dt.match(/Y/)?Y.get(nt).curves.y=be:dt.match(/Z/)?Y.get(nt).curves.z=be:dt.match(/d|DeformPercent/)&&Y.has(nt)&&(Y.get(nt).curves.morph=be)}}}parseAnimationLayers(Y){const ce=G.Objects.AnimationLayer,de=new Map;for(const be in ce){const xe=[],nt=J.get(parseInt(be));nt!==void 0&&(nt.children.forEach(function(yt,Vt){if(Y.has(yt.ID)){const mt=Y.get(yt.ID);if(mt.curves.x!==void 0||mt.curves.y!==void 0||mt.curves.z!==void 0){if(xe[Vt]===void 0){const Ot=J.get(yt.ID).parents.filter(function(Yi){return Yi.relationship!==void 0})[0].ID;if(Ot!==void 0){const Yi=G.Objects.Model[Ot.toString()];if(Yi===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",yt);return}const Gi={modelName:Yi.attrName?g.PropertyBinding.sanitizeNodeName(Yi.attrName):"",ID:Yi.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};O.traverse(function(an){an.ID===Yi.id&&(Gi.transform=an.matrix,an.userData.transformData&&(Gi.eulerOrder=an.userData.transformData.eulerOrder))}),Gi.transform||(Gi.transform=new g.Matrix4),"PreRotation"in Yi&&(Gi.preRotation=Yi.PreRotation.value),"PostRotation"in Yi&&(Gi.postRotation=Yi.PostRotation.value),xe[Vt]=Gi}}xe[Vt]&&(xe[Vt][mt.attr]=mt)}else if(mt.curves.morph!==void 0){if(xe[Vt]===void 0){const Ot=J.get(yt.ID).parents.filter(function(Ir){return Ir.relationship!==void 0})[0].ID,Yi=J.get(Ot).parents[0].ID,Gi=J.get(Yi).parents[0].ID,an=J.get(Gi).parents[0].ID,sr=G.Objects.Model[an],Er={modelName:sr.attrName?g.PropertyBinding.sanitizeNodeName(sr.attrName):"",morphName:G.Objects.Deformer[Ot].attrName};xe[Vt]=Er}xe[Vt][mt.attr]=mt}}}),de.set(parseInt(be),xe))}return de}parseAnimStacks(Y){const ce=G.Objects.AnimationStack,de={};for(const be in ce){const xe=J.get(parseInt(be)).children;xe.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const nt=Y.get(xe[0].ID);de[be]={name:ce[be].attrName,layer:nt}}return de}addClip(Y){let ce=[];const de=this;return Y.layer.forEach(function(be){ce=ce.concat(de.generateTracks(be))}),new g.AnimationClip(Y.name,-1,ce)}generateTracks(Y){const ce=[];let de=new g.Vector3,be=new g.Quaternion,xe=new g.Vector3;if(Y.transform&&Y.transform.decompose(de,be,xe),de=de.toArray(),be=new g.Euler().setFromQuaternion(be,Y.eulerOrder).toArray(),xe=xe.toArray(),Y.T!==void 0&&Object.keys(Y.T.curves).length>0){const nt=this.generateVectorTrack(Y.modelName,Y.T.curves,de,"position");nt!==void 0&&ce.push(nt)}if(Y.R!==void 0&&Object.keys(Y.R.curves).length>0){const nt=this.generateRotationTrack(Y.modelName,Y.R.curves,be,Y.preRotation,Y.postRotation,Y.eulerOrder);nt!==void 0&&ce.push(nt)}if(Y.S!==void 0&&Object.keys(Y.S.curves).length>0){const nt=this.generateVectorTrack(Y.modelName,Y.S.curves,xe,"scale");nt!==void 0&&ce.push(nt)}if(Y.DeformPercent!==void 0){const nt=this.generateMorphTrack(Y);nt!==void 0&&ce.push(nt)}return ce}generateVectorTrack(Y,ce,de,be){const xe=this.getTimesForAllAxes(ce),nt=this.getKeyframeTrackValues(xe,ce,de);return new g.VectorKeyframeTrack(Y+"."+be,xe,nt)}generateRotationTrack(Y,ce,de,be,xe,nt){ce.x!==void 0&&(this.interpolateRotations(ce.x),ce.x.values=ce.x.values.map(g.MathUtils.degToRad)),ce.y!==void 0&&(this.interpolateRotations(ce.y),ce.y.values=ce.y.values.map(g.MathUtils.degToRad)),ce.z!==void 0&&(this.interpolateRotations(ce.z),ce.z.values=ce.z.values.map(g.MathUtils.degToRad));const dt=this.getTimesForAllAxes(ce),yt=this.getKeyframeTrackValues(dt,ce,de);be!==void 0&&(be=be.map(g.MathUtils.degToRad),be.push(nt),be=new g.Euler().fromArray(be),be=new g.Quaternion().setFromEuler(be)),xe!==void 0&&(xe=xe.map(g.MathUtils.degToRad),xe.push(nt),xe=new g.Euler().fromArray(xe),xe=new g.Quaternion().setFromEuler(xe).invert());const Vt=new g.Quaternion,mt=new g.Euler,Ot=[];for(let Yi=0;Yi<yt.length;Yi+=3)mt.set(yt[Yi],yt[Yi+1],yt[Yi+2],nt),Vt.setFromEuler(mt),be!==void 0&&Vt.premultiply(be),xe!==void 0&&Vt.multiply(xe),Vt.toArray(Ot,Yi/3*4);return new g.QuaternionKeyframeTrack(Y+".quaternion",dt,Ot)}generateMorphTrack(Y){const ce=Y.DeformPercent.curves.morph,de=ce.values.map(function(xe){return xe/100}),be=O.getObjectByName(Y.modelName).morphTargetDictionary[Y.morphName];return new g.NumberKeyframeTrack(Y.modelName+".morphTargetInfluences["+be+"]",ce.times,de)}getTimesForAllAxes(Y){let ce=[];if(Y.x!==void 0&&(ce=ce.concat(Y.x.times)),Y.y!==void 0&&(ce=ce.concat(Y.y.times)),Y.z!==void 0&&(ce=ce.concat(Y.z.times)),ce=ce.sort(function(de,be){return de-be}),ce.length>1){let de=1,be=ce[0];for(let xe=1;xe<ce.length;xe++){const nt=ce[xe];nt!==be&&(ce[de]=nt,be=nt,de++)}ce=ce.slice(0,de)}return ce}getKeyframeTrackValues(Y,ce,de){const be=de,xe=[];let nt=-1,dt=-1,yt=-1;return Y.forEach(function(Vt){if(ce.x&&(nt=ce.x.times.indexOf(Vt)),ce.y&&(dt=ce.y.times.indexOf(Vt)),ce.z&&(yt=ce.z.times.indexOf(Vt)),nt!==-1){const mt=ce.x.values[nt];xe.push(mt),be[0]=mt}else xe.push(be[0]);if(dt!==-1){const mt=ce.y.values[dt];xe.push(mt),be[1]=mt}else xe.push(be[1]);if(yt!==-1){const mt=ce.z.values[yt];xe.push(mt),be[2]=mt}else xe.push(be[2])}),xe}interpolateRotations(Y){for(let ce=1;ce<Y.values.length;ce++){const de=Y.values[ce-1],be=Y.values[ce]-de,xe=Math.abs(be);if(xe>=180){const nt=xe/180,dt=be/nt;let yt=de+dt;const Vt=Y.times[ce-1],Ot=(Y.times[ce]-Vt)/nt;let Yi=Vt+Ot;const Gi=[],an=[];for(;Yi<Y.times[ce];)Gi.push(Yi),Yi+=Ot,an.push(yt),yt+=dt;Y.times=ji(Y.times,ce,Gi),Y.values=ji(Y.values,ce,an)}}}}class me{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(Y){this.nodeStack.push(Y),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(Y,ce){this.currentProp=Y,this.currentPropName=ce}parse(Y){this.currentIndent=0,this.allNodes=new Ht,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const ce=this,de=Y.split(/[\r\n]+/);return de.forEach(function(be,xe){const nt=be.match(/^[\s\t]*;/),dt=be.match(/^[\s\t]*$/);if(nt||dt)return;const yt=be.match("^\\t{"+ce.currentIndent+"}(\\w+):(.*){",""),Vt=be.match("^\\t{"+ce.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),mt=be.match("^\\t{"+(ce.currentIndent-1)+"}}");yt?ce.parseNodeBegin(be,yt):Vt?ce.parseNodeProperty(be,Vt,de[++xe]):mt?ce.popStack():be.match(/^[^\s\t}]/)&&ce.parseNodePropertyContinued(be)}),this.allNodes}parseNodeBegin(Y,ce){const de=ce[1].trim().replace(/^"/,"").replace(/"$/,""),be=ce[2].split(",").map(function(yt){return yt.trim().replace(/^"/,"").replace(/"$/,"")}),xe={name:de},nt=this.parseNodeAttr(be),dt=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(de,xe):de in dt?(de==="PoseNode"?dt.PoseNode.push(xe):dt[de].id!==void 0&&(dt[de]={},dt[de][dt[de].id]=dt[de]),nt.id!==""&&(dt[de][nt.id]=xe)):typeof nt.id=="number"?(dt[de]={},dt[de][nt.id]=xe):de!=="Properties70"&&(de==="PoseNode"?dt[de]=[xe]:dt[de]=xe),typeof nt.id=="number"&&(xe.id=nt.id),nt.name!==""&&(xe.attrName=nt.name),nt.type!==""&&(xe.attrType=nt.type),this.pushStack(xe)}parseNodeAttr(Y){let ce=Y[0];Y[0]!==""&&(ce=parseInt(Y[0]),isNaN(ce)&&(ce=Y[0]));let de="",be="";return Y.length>1&&(de=Y[1].replace(/^(\w+)::/,""),be=Y[2]),{id:ce,name:de,type:be}}parseNodeProperty(Y,ce,de){let be=ce[1].replace(/^"/,"").replace(/"$/,"").trim(),xe=ce[2].replace(/^"/,"").replace(/"$/,"").trim();be==="Content"&&xe===","&&(xe=de.replace(/"/g,"").replace(/,$/,"").trim());const nt=this.getCurrentNode();if(nt.name==="Properties70"){this.parseNodeSpecialProperty(Y,be,xe);return}if(be==="C"){const yt=xe.split(",").slice(1),Vt=parseInt(yt[0]),mt=parseInt(yt[1]);let Ot=xe.split(",").slice(3);Ot=Ot.map(function(Yi){return Yi.trim().replace(/^"/,"")}),be="connections",xe=[Vt,mt],ze(xe,Ot),nt[be]===void 0&&(nt[be]=[])}be==="Node"&&(nt.id=xe),be in nt&&Array.isArray(nt[be])?nt[be].push(xe):be!=="a"?nt[be]=xe:nt.a=xe,this.setCurrentProp(nt,be),be==="a"&&xe.slice(-1)!==","&&(nt.a=si(xe))}parseNodePropertyContinued(Y){const ce=this.getCurrentNode();ce.a+=Y,Y.slice(-1)!==","&&(ce.a=si(ce.a))}parseNodeSpecialProperty(Y,ce,de){const be=de.split('",').map(function(mt){return mt.trim().replace(/^\"/,"").replace(/\s/,"_")}),xe=be[0],nt=be[1],dt=be[2],yt=be[3];let Vt=be[4];switch(nt){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":Vt=parseFloat(Vt);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":Vt=si(Vt);break}this.getPrevNode()[xe]={type:nt,type2:dt,flag:yt,value:Vt},this.setCurrentProp(this.getPrevNode(),xe)}}class rt{parse(Y){const ce=new ht(Y);ce.skip(23);const de=ce.getUint32();if(de<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+de);const be=new Ht;for(;!this.endOfContent(ce);){const xe=this.parseNode(ce,de);xe!==null&&be.add(xe.name,xe)}return be}endOfContent(Y){return Y.size()%16===0?(Y.getOffset()+160+16&-16)>=Y.size():Y.getOffset()+160+16>=Y.size()}parseNode(Y,ce){const de={},be=ce>=7500?Y.getUint64():Y.getUint32(),xe=ce>=7500?Y.getUint64():Y.getUint32();ce>=7500?Y.getUint64():Y.getUint32();const nt=Y.getUint8(),dt=Y.getString(nt);if(be===0)return null;const yt=[];for(let Yi=0;Yi<xe;Yi++)yt.push(this.parseProperty(Y));const Vt=yt.length>0?yt[0]:"",mt=yt.length>1?yt[1]:"",Ot=yt.length>2?yt[2]:"";for(de.singleProperty=xe===1&&Y.getOffset()===be;be>Y.getOffset();){const Yi=this.parseNode(Y,ce);Yi!==null&&this.parseSubNode(dt,de,Yi)}return de.propertyList=yt,typeof Vt=="number"&&(de.id=Vt),mt!==""&&(de.attrName=mt),Ot!==""&&(de.attrType=Ot),dt!==""&&(de.name=dt),de}parseSubNode(Y,ce,de){if(de.singleProperty===!0){const be=de.propertyList[0];Array.isArray(be)?(ce[de.name]=de,de.a=be):ce[de.name]=be}else if(Y==="Connections"&&de.name==="C"){const be=[];de.propertyList.forEach(function(xe,nt){nt!==0&&be.push(xe)}),ce.connections===void 0&&(ce.connections=[]),ce.connections.push(be)}else if(de.name==="Properties70")Object.keys(de).forEach(function(xe){ce[xe]=de[xe]});else if(Y==="Properties70"&&de.name==="P"){let be=de.propertyList[0],xe=de.propertyList[1];const nt=de.propertyList[2],dt=de.propertyList[3];let yt;be.indexOf("Lcl ")===0&&(be=be.replace("Lcl ","Lcl_")),xe.indexOf("Lcl ")===0&&(xe=xe.replace("Lcl ","Lcl_")),xe==="Color"||xe==="ColorRGB"||xe==="Vector"||xe==="Vector3D"||xe.indexOf("Lcl_")===0?yt=[de.propertyList[4],de.propertyList[5],de.propertyList[6]]:yt=de.propertyList[4],ce[be]={type:xe,type2:nt,flag:dt,value:yt}}else ce[de.name]===void 0?typeof de.id=="number"?(ce[de.name]={},ce[de.name][de.id]=de):ce[de.name]=de:de.name==="PoseNode"?(Array.isArray(ce[de.name])||(ce[de.name]=[ce[de.name]]),ce[de.name].push(de)):ce[de.name][de.id]===void 0&&(ce[de.name][de.id]=de)}parseProperty(Y){const ce=Y.getString(1);let de;switch(ce){case"C":return Y.getBoolean();case"D":return Y.getFloat64();case"F":return Y.getFloat32();case"I":return Y.getInt32();case"L":return Y.getInt64();case"R":return de=Y.getUint32(),Y.getArrayBuffer(de);case"S":return de=Y.getUint32(),Y.getString(de);case"Y":return Y.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const be=Y.getUint32(),xe=Y.getUint32(),nt=Y.getUint32();if(xe===0)switch(ce){case"b":case"c":return Y.getBooleanArray(be);case"d":return Y.getFloat64Array(be);case"f":return Y.getFloat32Array(be);case"i":return Y.getInt32Array(be);case"l":return Y.getInt64Array(be)}typeof L>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const dt=L.unzlibSync(new Uint8Array(Y.getArrayBuffer(nt))),yt=new ht(dt.buffer);switch(ce){case"b":case"c":return yt.getBooleanArray(be);case"d":return yt.getFloat64Array(be);case"f":return yt.getFloat32Array(be);case"i":return yt.getInt32Array(be);case"l":return yt.getInt64Array(be)}default:throw new Error("THREE.FBXLoader: Unknown property type "+ce)}}}class ht{constructor(Y,ce){this.dv=new DataView(Y),this.offset=0,this.littleEndian=ce!==void 0?ce:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(Y){this.offset+=Y}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(Y){const ce=[];for(let de=0;de<Y;de++)ce.push(this.getBoolean());return ce}getUint8(){const Y=this.dv.getUint8(this.offset);return this.offset+=1,Y}getInt16(){const Y=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,Y}getInt32(){const Y=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,Y}getInt32Array(Y){const ce=[];for(let de=0;de<Y;de++)ce.push(this.getInt32());return ce}getUint32(){const Y=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,Y}getInt64(){let Y,ce;return this.littleEndian?(Y=this.getUint32(),ce=this.getUint32()):(ce=this.getUint32(),Y=this.getUint32()),ce&2147483648?(ce=~ce&4294967295,Y=~Y&4294967295,Y===4294967295&&(ce=ce+1&4294967295),Y=Y+1&4294967295,-(ce*4294967296+Y)):ce*4294967296+Y}getInt64Array(Y){const ce=[];for(let de=0;de<Y;de++)ce.push(this.getInt64());return ce}getUint64(){let Y,ce;return this.littleEndian?(Y=this.getUint32(),ce=this.getUint32()):(ce=this.getUint32(),Y=this.getUint32()),ce*4294967296+Y}getFloat32(){const Y=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,Y}getFloat32Array(Y){const ce=[];for(let de=0;de<Y;de++)ce.push(this.getFloat32());return ce}getFloat64(){const Y=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,Y}getFloat64Array(Y){const ce=[];for(let de=0;de<Y;de++)ce.push(this.getFloat64());return ce}getArrayBuffer(Y){const ce=this.dv.buffer.slice(this.offset,this.offset+Y);return this.offset+=Y,ce}getString(Y){let ce=[];for(let be=0;be<Y;be++)ce[be]=this.getUint8();const de=ce.indexOf(0);return de>=0&&(ce=ce.slice(0,de)),g.LoaderUtils.decodeText(new Uint8Array(ce))}}class Ht{add(Y,ce){this[Y]=ce}}function Se(oi){const Y="Kaydara FBX Binary  \0";return oi.byteLength>=Y.length&&Y===Ze(oi,0,Y.length)}function Be(oi){const Y=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let ce=0;function de(be){const xe=oi[be-1];return oi=oi.slice(ce+be),ce++,xe}for(let be=0;be<Y.length;++be)if(de(1)===Y[be])return!1;return!0}function Gt(oi){const Y=/FBXVersion: (\d+)/,ce=oi.match(Y);if(ce)return parseInt(ce[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function xt(oi){return oi/46186158e3}const fi=[];function Fi(oi,Y,ce,de){let be;switch(de.mappingType){case"ByPolygonVertex":be=oi;break;case"ByPolygon":be=Y;break;case"ByVertice":be=ce;break;case"AllSame":be=de.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+de.mappingType)}de.referenceType==="IndexToDirect"&&(be=de.indices[be]);const xe=be*de.dataSize,nt=xe+de.dataSize;return Kt(fi,de.buffer,xe,nt)}const Me=new g.Euler,it=new g.Vector3;function ri(oi){const Y=new g.Matrix4,ce=new g.Matrix4,de=new g.Matrix4,be=new g.Matrix4,xe=new g.Matrix4,nt=new g.Matrix4,dt=new g.Matrix4,yt=new g.Matrix4,Vt=new g.Matrix4,mt=new g.Matrix4,Ot=new g.Matrix4,Yi=new g.Matrix4,Gi=oi.inheritType?oi.inheritType:0;if(oi.translation&&Y.setPosition(it.fromArray(oi.translation)),oi.preRotation){const ot=oi.preRotation.map(g.MathUtils.degToRad);ot.push(oi.eulerOrder),ce.makeRotationFromEuler(Me.fromArray(ot))}if(oi.rotation){const ot=oi.rotation.map(g.MathUtils.degToRad);ot.push(oi.eulerOrder),de.makeRotationFromEuler(Me.fromArray(ot))}if(oi.postRotation){const ot=oi.postRotation.map(g.MathUtils.degToRad);ot.push(oi.eulerOrder),be.makeRotationFromEuler(Me.fromArray(ot)),be.invert()}oi.scale&&xe.scale(it.fromArray(oi.scale)),oi.scalingOffset&&dt.setPosition(it.fromArray(oi.scalingOffset)),oi.scalingPivot&&nt.setPosition(it.fromArray(oi.scalingPivot)),oi.rotationOffset&&yt.setPosition(it.fromArray(oi.rotationOffset)),oi.rotationPivot&&Vt.setPosition(it.fromArray(oi.rotationPivot)),oi.parentMatrixWorld&&(Ot.copy(oi.parentMatrix),mt.copy(oi.parentMatrixWorld));const an=ce.clone().multiply(de).multiply(be),sr=new g.Matrix4;sr.extractRotation(mt);const Er=new g.Matrix4;Er.copyPosition(mt);const Ir=Er.clone().invert().multiply(mt),_r=sr.clone().invert().multiply(Ir),Ar=xe,Wn=new g.Matrix4;if(Gi===0)Wn.copy(sr).multiply(an).multiply(_r).multiply(Ar);else if(Gi===1)Wn.copy(sr).multiply(_r).multiply(an).multiply(Ar);else{const Tt=new g.Matrix4().scale(new g.Vector3().setFromMatrixScale(Ot)).clone().invert(),Pt=_r.clone().multiply(Tt);Wn.copy(sr).multiply(an).multiply(Pt).multiply(Ar)}const Li=Vt.clone().invert(),Ie=nt.clone().invert();let Ne=Y.clone().multiply(yt).multiply(Vt).multiply(ce).multiply(de).multiply(be).multiply(Li).multiply(dt).multiply(nt).multiply(xe).multiply(Ie);const st=new g.Matrix4().copyPosition(Ne),Je=mt.clone().multiply(st);return Yi.copyPosition(Je),Ne=Yi.clone().multiply(Wn),Ne.premultiply(mt.invert()),Ne}function Mi(oi){oi=oi||0;const Y=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return oi===6?(console.warn("THREE.FBXLoader: unsupported THREE.Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),Y[0]):Y[oi]}function si(oi){return oi.split(",").map(function(ce){return parseFloat(ce)})}function Ze(oi,Y,ce){return Y===void 0&&(Y=0),ce===void 0&&(ce=oi.byteLength),g.LoaderUtils.decodeText(new Uint8Array(oi,Y,ce))}function ze(oi,Y){for(let ce=0,de=oi.length,be=Y.length;ce<be;ce++,de++)oi[de]=Y[ce]}function Kt(oi,Y,ce,de){for(let be=ce,xe=0;be<de;be++,xe++)oi[xe]=Y[be];return oi}function ji(oi,Y,ce){return oi.slice(0,Y).concat(ce).concat(oi.slice(Y))}g.FBXLoader=a})(),k.exports=g.FBXLoader})(vm);var Sm={exports:{}};(function(k,H){const g=La.exports;(function(){class L extends g.Loader{constructor(Ie){super(Ie),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(Ne){return new j(Ne)}),this.register(function(Ne){return new ht(Ne)}),this.register(function(Ne){return new Ht(Ne)}),this.register(function(Ne){return new Z(Ne)}),this.register(function(Ne){return new ye(Ne)}),this.register(function(Ne){return new me(Ne)}),this.register(function(Ne){return new rt(Ne)}),this.register(function(Ne){return new O(Ne)}),this.register(function(Ne){return new Se(Ne)})}load(Ie,Ne,st,Je){const ot=this;let Tt;this.resourcePath!==""?Tt=this.resourcePath:this.path!==""?Tt=this.path:Tt=g.LoaderUtils.extractUrlBase(Ie),this.manager.itemStart(Ie);const Pt=function(ii){Je?Je(ii):console.error(ii),ot.manager.itemError(Ie),ot.manager.itemEnd(Ie)},bt=new g.FileLoader(this.manager);bt.setPath(this.path),bt.setResponseType("arraybuffer"),bt.setRequestHeader(this.requestHeader),bt.setWithCredentials(this.withCredentials),bt.load(Ie,function(ii){try{ot.parse(ii,Tt,function(Ui){Ne(Ui),ot.manager.itemEnd(Ie)},Pt)}catch(Ui){Pt(Ui)}},st,Pt)}setDRACOLoader(Ie){return this.dracoLoader=Ie,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(Ie){return this.ktx2Loader=Ie,this}setMeshoptDecoder(Ie){return this.meshoptDecoder=Ie,this}register(Ie){return this.pluginCallbacks.indexOf(Ie)===-1&&this.pluginCallbacks.push(Ie),this}unregister(Ie){return this.pluginCallbacks.indexOf(Ie)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(Ie),1),this}parse(Ie,Ne,st,Je){let ot;const Tt={},Pt={};if(typeof Ie=="string")ot=Ie;else if(g.LoaderUtils.decodeText(new Uint8Array(Ie,0,4))===Be){try{Tt[J.KHR_BINARY_GLTF]=new fi(Ie)}catch(zi){Je&&Je(zi);return}ot=Tt[J.KHR_BINARY_GLTF].content}else ot=g.LoaderUtils.decodeText(new Uint8Array(Ie));const bt=JSON.parse(ot);if(bt.asset===void 0||bt.asset.version[0]<2){Je&&Je(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const ii=new Er(bt,{path:Ne||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});ii.fileLoader.setRequestHeader(this.requestHeader);for(let Ui=0;Ui<this.pluginCallbacks.length;Ui++){const zi=this.pluginCallbacks[Ui](ii);Pt[zi.name]=zi,Tt[zi.name]=!0}if(bt.extensionsUsed)for(let Ui=0;Ui<bt.extensionsUsed.length;++Ui){const zi=bt.extensionsUsed[Ui],Mn=bt.extensionsRequired||[];switch(zi){case J.KHR_MATERIALS_UNLIT:Tt[zi]=new a;break;case J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:Tt[zi]=new ri;break;case J.KHR_DRACO_MESH_COMPRESSION:Tt[zi]=new Fi(bt,this.dracoLoader);break;case J.KHR_TEXTURE_TRANSFORM:Tt[zi]=new Me;break;case J.KHR_MESH_QUANTIZATION:Tt[zi]=new Mi;break;default:Mn.indexOf(zi)>=0&&Pt[zi]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+zi+'".')}}ii.setExtensions(Tt),ii.setPlugins(Pt),ii.parse(st,Je)}}function G(){let Li={};return{get:function(Ie){return Li[Ie]},add:function(Ie,Ne){Li[Ie]=Ne},remove:function(Ie){delete Li[Ie]},removeAll:function(){Li={}}}}const J={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class O{constructor(Ie){this.parser=Ie,this.name=J.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const Ie=this.parser,Ne=this.parser.json.nodes||[];for(let st=0,Je=Ne.length;st<Je;st++){const ot=Ne[st];ot.extensions&&ot.extensions[this.name]&&ot.extensions[this.name].light!==void 0&&Ie._addNodeRef(this.cache,ot.extensions[this.name].light)}}_loadLight(Ie){const Ne=this.parser,st="light:"+Ie;let Je=Ne.cache.get(st);if(Je)return Je;const ot=Ne.json,bt=((ot.extensions&&ot.extensions[this.name]||{}).lights||[])[Ie];let ii;const Ui=new g.Color(16777215);bt.color!==void 0&&Ui.fromArray(bt.color);const zi=bt.range!==void 0?bt.range:0;switch(bt.type){case"directional":ii=new g.DirectionalLight(Ui),ii.target.position.set(0,0,-1),ii.add(ii.target);break;case"point":ii=new g.PointLight(Ui),ii.distance=zi;break;case"spot":ii=new g.SpotLight(Ui),ii.distance=zi,bt.spot=bt.spot||{},bt.spot.innerConeAngle=bt.spot.innerConeAngle!==void 0?bt.spot.innerConeAngle:0,bt.spot.outerConeAngle=bt.spot.outerConeAngle!==void 0?bt.spot.outerConeAngle:Math.PI/4,ii.angle=bt.spot.outerConeAngle,ii.penumbra=1-bt.spot.innerConeAngle/bt.spot.outerConeAngle,ii.target.position.set(0,0,-1),ii.add(ii.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+bt.type)}return ii.position.set(0,0,0),ii.decay=2,bt.intensity!==void 0&&(ii.intensity=bt.intensity),ii.name=Ne.createUniqueName(bt.name||"light_"+Ie),Je=Promise.resolve(ii),Ne.cache.add(st,Je),Je}createNodeAttachment(Ie){const Ne=this,st=this.parser,ot=st.json.nodes[Ie],Pt=(ot.extensions&&ot.extensions[this.name]||{}).light;return Pt===void 0?null:this._loadLight(Pt).then(function(bt){return st._getNodeRef(Ne.cache,Pt,bt)})}}class a{constructor(){this.name=J.KHR_MATERIALS_UNLIT}getMaterialType(){return g.MeshBasicMaterial}extendParams(Ie,Ne,st){const Je=[];Ie.color=new g.Color(1,1,1),Ie.opacity=1;const ot=Ne.pbrMetallicRoughness;if(ot){if(Array.isArray(ot.baseColorFactor)){const Tt=ot.baseColorFactor;Ie.color.fromArray(Tt),Ie.opacity=Tt[3]}ot.baseColorTexture!==void 0&&Je.push(st.assignTexture(Ie,"map",ot.baseColorTexture))}return Promise.all(Je)}}class j{constructor(Ie){this.parser=Ie,this.name=J.KHR_MATERIALS_CLEARCOAT}getMaterialType(Ie){const st=this.parser.json.materials[Ie];return!st.extensions||!st.extensions[this.name]?null:g.MeshPhysicalMaterial}extendMaterialParams(Ie,Ne){const st=this.parser,Je=st.json.materials[Ie];if(!Je.extensions||!Je.extensions[this.name])return Promise.resolve();const ot=[],Tt=Je.extensions[this.name];if(Tt.clearcoatFactor!==void 0&&(Ne.clearcoat=Tt.clearcoatFactor),Tt.clearcoatTexture!==void 0&&ot.push(st.assignTexture(Ne,"clearcoatMap",Tt.clearcoatTexture)),Tt.clearcoatRoughnessFactor!==void 0&&(Ne.clearcoatRoughness=Tt.clearcoatRoughnessFactor),Tt.clearcoatRoughnessTexture!==void 0&&ot.push(st.assignTexture(Ne,"clearcoatRoughnessMap",Tt.clearcoatRoughnessTexture)),Tt.clearcoatNormalTexture!==void 0&&(ot.push(st.assignTexture(Ne,"clearcoatNormalMap",Tt.clearcoatNormalTexture)),Tt.clearcoatNormalTexture.scale!==void 0)){const Pt=Tt.clearcoatNormalTexture.scale;Ne.clearcoatNormalScale=new g.Vector2(Pt,-Pt)}return Promise.all(ot)}}class Z{constructor(Ie){this.parser=Ie,this.name=J.KHR_MATERIALS_TRANSMISSION}getMaterialType(Ie){const st=this.parser.json.materials[Ie];return!st.extensions||!st.extensions[this.name]?null:g.MeshPhysicalMaterial}extendMaterialParams(Ie,Ne){const st=this.parser,Je=st.json.materials[Ie];if(!Je.extensions||!Je.extensions[this.name])return Promise.resolve();const ot=[],Tt=Je.extensions[this.name];return Tt.transmissionFactor!==void 0&&(Ne.transmission=Tt.transmissionFactor),Tt.transmissionTexture!==void 0&&ot.push(st.assignTexture(Ne,"transmissionMap",Tt.transmissionTexture)),Promise.all(ot)}}class ye{constructor(Ie){this.parser=Ie,this.name=J.KHR_MATERIALS_VOLUME}getMaterialType(Ie){const st=this.parser.json.materials[Ie];return!st.extensions||!st.extensions[this.name]?null:g.MeshPhysicalMaterial}extendMaterialParams(Ie,Ne){const st=this.parser,Je=st.json.materials[Ie];if(!Je.extensions||!Je.extensions[this.name])return Promise.resolve();const ot=[],Tt=Je.extensions[this.name];Ne.thickness=Tt.thicknessFactor!==void 0?Tt.thicknessFactor:0,Tt.thicknessTexture!==void 0&&ot.push(st.assignTexture(Ne,"thicknessMap",Tt.thicknessTexture)),Ne.attenuationDistance=Tt.attenuationDistance||0;const Pt=Tt.attenuationColor||[1,1,1];return Ne.attenuationTint=new g.Color(Pt[0],Pt[1],Pt[2]),Promise.all(ot)}}class me{constructor(Ie){this.parser=Ie,this.name=J.KHR_MATERIALS_IOR}getMaterialType(Ie){const st=this.parser.json.materials[Ie];return!st.extensions||!st.extensions[this.name]?null:g.MeshPhysicalMaterial}extendMaterialParams(Ie,Ne){const Je=this.parser.json.materials[Ie];if(!Je.extensions||!Je.extensions[this.name])return Promise.resolve();const ot=Je.extensions[this.name];return Ne.ior=ot.ior!==void 0?ot.ior:1.5,Promise.resolve()}}class rt{constructor(Ie){this.parser=Ie,this.name=J.KHR_MATERIALS_SPECULAR}getMaterialType(Ie){const st=this.parser.json.materials[Ie];return!st.extensions||!st.extensions[this.name]?null:g.MeshPhysicalMaterial}extendMaterialParams(Ie,Ne){const st=this.parser,Je=st.json.materials[Ie];if(!Je.extensions||!Je.extensions[this.name])return Promise.resolve();const ot=[],Tt=Je.extensions[this.name];Ne.specularIntensity=Tt.specularFactor!==void 0?Tt.specularFactor:1,Tt.specularTexture!==void 0&&ot.push(st.assignTexture(Ne,"specularIntensityMap",Tt.specularTexture));const Pt=Tt.specularColorFactor||[1,1,1];return Ne.specularTint=new g.Color(Pt[0],Pt[1],Pt[2]),Tt.specularColorTexture!==void 0&&ot.push(st.assignTexture(Ne,"specularTintMap",Tt.specularColorTexture).then(function(bt){bt.encoding=g.sRGBEncoding})),Promise.all(ot)}}class ht{constructor(Ie){this.parser=Ie,this.name=J.KHR_TEXTURE_BASISU}loadTexture(Ie){const Ne=this.parser,st=Ne.json,Je=st.textures[Ie];if(!Je.extensions||!Je.extensions[this.name])return null;const ot=Je.extensions[this.name],Tt=st.images[ot.source],Pt=Ne.options.ktx2Loader;if(!Pt){if(st.extensionsRequired&&st.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return Ne.loadTextureImage(Ie,Tt,Pt)}}class Ht{constructor(Ie){this.parser=Ie,this.name=J.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Ie){const Ne=this.name,st=this.parser,Je=st.json,ot=Je.textures[Ie];if(!ot.extensions||!ot.extensions[Ne])return null;const Tt=ot.extensions[Ne],Pt=Je.images[Tt.source];let bt=st.textureLoader;if(Pt.uri){const ii=st.options.manager.getHandler(Pt.uri);ii!==null&&(bt=ii)}return this.detectSupport().then(function(ii){if(ii)return st.loadTextureImage(Ie,Pt,bt);if(Je.extensionsRequired&&Je.extensionsRequired.indexOf(Ne)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return st.loadTexture(Ie)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Ie){const Ne=new Image;Ne.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",Ne.onload=Ne.onerror=function(){Ie(Ne.height===1)}})),this.isSupported}}class Se{constructor(Ie){this.name=J.EXT_MESHOPT_COMPRESSION,this.parser=Ie}loadBufferView(Ie){const Ne=this.parser.json,st=Ne.bufferViews[Ie];if(st.extensions&&st.extensions[this.name]){const Je=st.extensions[this.name],ot=this.parser.getDependency("buffer",Je.buffer),Tt=this.parser.options.meshoptDecoder;if(!Tt||!Tt.supported){if(Ne.extensionsRequired&&Ne.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([ot,Tt.ready]).then(function(Pt){const bt=Je.byteOffset||0,ii=Je.byteLength||0,Ui=Je.count,zi=Je.byteStride,Mn=new ArrayBuffer(Ui*zi),Hn=new Uint8Array(Pt[0],bt,ii);return Tt.decodeGltfBuffer(new Uint8Array(Mn),Ui,zi,Hn,Je.mode,Je.filter),Mn})}else return null}}const Be="glTF",Gt=12,xt={JSON:1313821514,BIN:5130562};class fi{constructor(Ie){this.name=J.KHR_BINARY_GLTF,this.content=null,this.body=null;const Ne=new DataView(Ie,0,Gt);if(this.header={magic:g.LoaderUtils.decodeText(new Uint8Array(Ie.slice(0,4))),version:Ne.getUint32(4,!0),length:Ne.getUint32(8,!0)},this.header.magic!==Be)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const st=this.header.length-Gt,Je=new DataView(Ie,Gt);let ot=0;for(;ot<st;){const Tt=Je.getUint32(ot,!0);ot+=4;const Pt=Je.getUint32(ot,!0);if(ot+=4,Pt===xt.JSON){const bt=new Uint8Array(Ie,Gt+ot,Tt);this.content=g.LoaderUtils.decodeText(bt)}else if(Pt===xt.BIN){const bt=Gt+ot;this.body=Ie.slice(bt,bt+Tt)}ot+=Tt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Fi{constructor(Ie,Ne){if(!Ne)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=J.KHR_DRACO_MESH_COMPRESSION,this.json=Ie,this.dracoLoader=Ne,this.dracoLoader.preload()}decodePrimitive(Ie,Ne){const st=this.json,Je=this.dracoLoader,ot=Ie.extensions[this.name].bufferView,Tt=Ie.extensions[this.name].attributes,Pt={},bt={},ii={};for(const Ui in Tt){const zi=de[Ui]||Ui.toLowerCase();Pt[zi]=Tt[Ui]}for(const Ui in Ie.attributes){const zi=de[Ui]||Ui.toLowerCase();if(Tt[Ui]!==void 0){const Mn=st.accessors[Ie.attributes[Ui]],Hn=ji[Mn.componentType];ii[zi]=Hn,bt[zi]=Mn.normalized===!0}}return Ne.getDependency("bufferView",ot).then(function(Ui){return new Promise(function(zi){Je.decodeDracoFile(Ui,function(Mn){for(const Hn in Mn.attributes){const zn=Mn.attributes[Hn],Ln=bt[Hn];Ln!==void 0&&(zn.normalized=Ln)}zi(Mn)},Pt,ii)})})}}class Me{constructor(){this.name=J.KHR_TEXTURE_TRANSFORM}extendTexture(Ie,Ne){return Ne.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),Ne.offset===void 0&&Ne.rotation===void 0&&Ne.scale===void 0||(Ie=Ie.clone(),Ne.offset!==void 0&&Ie.offset.fromArray(Ne.offset),Ne.rotation!==void 0&&(Ie.rotation=Ne.rotation),Ne.scale!==void 0&&Ie.repeat.fromArray(Ne.scale),Ie.needsUpdate=!0),Ie}}class it extends g.MeshStandardMaterial{constructor(Ie){super(),this.isGLTFSpecularGlossinessMaterial=!0;const Ne=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),st=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),Je=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),ot=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),Tt=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),Pt={specular:{value:new g.Color().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=Pt,this.onBeforeCompile=function(bt){for(const ii in Pt)bt.uniforms[ii]=Pt[ii];bt.fragmentShader=bt.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",Ne).replace("#include <metalnessmap_pars_fragment>",st).replace("#include <roughnessmap_fragment>",Je).replace("#include <metalnessmap_fragment>",ot).replace("#include <lights_physical_fragment>",Tt)},Object.defineProperties(this,{specular:{get:function(){return Pt.specular.value},set:function(bt){Pt.specular.value=bt}},specularMap:{get:function(){return Pt.specularMap.value},set:function(bt){Pt.specularMap.value=bt,bt?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return Pt.glossiness.value},set:function(bt){Pt.glossiness.value=bt}},glossinessMap:{get:function(){return Pt.glossinessMap.value},set:function(bt){Pt.glossinessMap.value=bt,bt?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(Ie)}copy(Ie){return super.copy(Ie),this.specularMap=Ie.specularMap,this.specular.copy(Ie.specular),this.glossinessMap=Ie.glossinessMap,this.glossiness=Ie.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class ri{constructor(){this.name=J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return it}extendParams(Ie,Ne,st){const Je=Ne.extensions[this.name];Ie.color=new g.Color(1,1,1),Ie.opacity=1;const ot=[];if(Array.isArray(Je.diffuseFactor)){const Tt=Je.diffuseFactor;Ie.color.fromArray(Tt),Ie.opacity=Tt[3]}if(Je.diffuseTexture!==void 0&&ot.push(st.assignTexture(Ie,"map",Je.diffuseTexture)),Ie.emissive=new g.Color(0,0,0),Ie.glossiness=Je.glossinessFactor!==void 0?Je.glossinessFactor:1,Ie.specular=new g.Color(1,1,1),Array.isArray(Je.specularFactor)&&Ie.specular.fromArray(Je.specularFactor),Je.specularGlossinessTexture!==void 0){const Tt=Je.specularGlossinessTexture;ot.push(st.assignTexture(Ie,"glossinessMap",Tt)),ot.push(st.assignTexture(Ie,"specularMap",Tt))}return Promise.all(ot)}createMaterial(Ie){const Ne=new it(Ie);return Ne.fog=!0,Ne.color=Ie.color,Ne.map=Ie.map===void 0?null:Ie.map,Ne.lightMap=null,Ne.lightMapIntensity=1,Ne.aoMap=Ie.aoMap===void 0?null:Ie.aoMap,Ne.aoMapIntensity=1,Ne.emissive=Ie.emissive,Ne.emissiveIntensity=1,Ne.emissiveMap=Ie.emissiveMap===void 0?null:Ie.emissiveMap,Ne.bumpMap=Ie.bumpMap===void 0?null:Ie.bumpMap,Ne.bumpScale=1,Ne.normalMap=Ie.normalMap===void 0?null:Ie.normalMap,Ne.normalMapType=g.TangentSpaceNormalMap,Ie.normalScale&&(Ne.normalScale=Ie.normalScale),Ne.displacementMap=null,Ne.displacementScale=1,Ne.displacementBias=0,Ne.specularMap=Ie.specularMap===void 0?null:Ie.specularMap,Ne.specular=Ie.specular,Ne.glossinessMap=Ie.glossinessMap===void 0?null:Ie.glossinessMap,Ne.glossiness=Ie.glossiness,Ne.alphaMap=null,Ne.envMap=Ie.envMap===void 0?null:Ie.envMap,Ne.envMapIntensity=1,Ne.refractionRatio=.98,Ne}}class Mi{constructor(){this.name=J.KHR_MESH_QUANTIZATION}}class si extends g.Interpolant{constructor(Ie,Ne,st,Je){super(Ie,Ne,st,Je)}copySampleValue_(Ie){const Ne=this.resultBuffer,st=this.sampleValues,Je=this.valueSize,ot=Ie*Je*3+Je;for(let Tt=0;Tt!==Je;Tt++)Ne[Tt]=st[ot+Tt];return Ne}}si.prototype.beforeStart_=si.prototype.copySampleValue_,si.prototype.afterEnd_=si.prototype.copySampleValue_,si.prototype.interpolate_=function(Li,Ie,Ne,st){const Je=this.resultBuffer,ot=this.sampleValues,Tt=this.valueSize,Pt=Tt*2,bt=Tt*3,ii=st-Ie,Ui=(Ne-Ie)/ii,zi=Ui*Ui,Mn=zi*Ui,Hn=Li*bt,zn=Hn-bt,Ln=-2*Mn+3*zi,In=Mn-zi,tr=1-Ln,ss=In-zi+Ui;for(let Or=0;Or!==Tt;Or++){const _o=ot[zn+Or+Tt],fo=ot[zn+Or+Pt]*ii,Vi=ot[Hn+Or+Tt],Mr=ot[Hn+Or]*ii;Je[Or]=tr*_o+ss*fo+Ln*Vi+In*Mr}return Je};const Ze=new g.Quaternion;class ze extends si{interpolate_(Ie,Ne,st,Je){const ot=super.interpolate_(Ie,Ne,st,Je);return Ze.fromArray(ot).normalize().toArray(ot),ot}}const Kt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ji={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},oi={9728:g.NearestFilter,9729:g.LinearFilter,9984:g.NearestMipmapNearestFilter,9985:g.LinearMipmapNearestFilter,9986:g.NearestMipmapLinearFilter,9987:g.LinearMipmapLinearFilter},Y={33071:g.ClampToEdgeWrapping,33648:g.MirroredRepeatWrapping,10497:g.RepeatWrapping},ce={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},de={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},be={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xe={CUBICSPLINE:void 0,LINEAR:g.InterpolateLinear,STEP:g.InterpolateDiscrete},nt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dt(Li,Ie){return typeof Li!="string"||Li===""?"":(/^https?:\/\//i.test(Ie)&&/^\//.test(Li)&&(Ie=Ie.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(Li)||/^data:.*,.*$/i.test(Li)||/^blob:.*$/i.test(Li)?Li:Ie+Li)}function yt(Li){return Li.DefaultMaterial===void 0&&(Li.DefaultMaterial=new g.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:g.FrontSide})),Li.DefaultMaterial}function Vt(Li,Ie,Ne){for(const st in Ne.extensions)Li[st]===void 0&&(Ie.userData.gltfExtensions=Ie.userData.gltfExtensions||{},Ie.userData.gltfExtensions[st]=Ne.extensions[st])}function mt(Li,Ie){Ie.extras!==void 0&&(typeof Ie.extras=="object"?Object.assign(Li.userData,Ie.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+Ie.extras))}function Ot(Li,Ie,Ne){let st=!1,Je=!1;for(let Pt=0,bt=Ie.length;Pt<bt;Pt++){const ii=Ie[Pt];if(ii.POSITION!==void 0&&(st=!0),ii.NORMAL!==void 0&&(Je=!0),st&&Je)break}if(!st&&!Je)return Promise.resolve(Li);const ot=[],Tt=[];for(let Pt=0,bt=Ie.length;Pt<bt;Pt++){const ii=Ie[Pt];if(st){const Ui=ii.POSITION!==void 0?Ne.getDependency("accessor",ii.POSITION):Li.attributes.position;ot.push(Ui)}if(Je){const Ui=ii.NORMAL!==void 0?Ne.getDependency("accessor",ii.NORMAL):Li.attributes.normal;Tt.push(Ui)}}return Promise.all([Promise.all(ot),Promise.all(Tt)]).then(function(Pt){const bt=Pt[0],ii=Pt[1];return st&&(Li.morphAttributes.position=bt),Je&&(Li.morphAttributes.normal=ii),Li.morphTargetsRelative=!0,Li})}function Yi(Li,Ie){if(Li.updateMorphTargets(),Ie.weights!==void 0)for(let Ne=0,st=Ie.weights.length;Ne<st;Ne++)Li.morphTargetInfluences[Ne]=Ie.weights[Ne];if(Ie.extras&&Array.isArray(Ie.extras.targetNames)){const Ne=Ie.extras.targetNames;if(Li.morphTargetInfluences.length===Ne.length){Li.morphTargetDictionary={};for(let st=0,Je=Ne.length;st<Je;st++)Li.morphTargetDictionary[Ne[st]]=st}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Gi(Li){const Ie=Li.extensions&&Li.extensions[J.KHR_DRACO_MESH_COMPRESSION];let Ne;return Ie?Ne="draco:"+Ie.bufferView+":"+Ie.indices+":"+an(Ie.attributes):Ne=Li.indices+":"+an(Li.attributes)+":"+Li.mode,Ne}function an(Li){let Ie="";const Ne=Object.keys(Li).sort();for(let st=0,Je=Ne.length;st<Je;st++)Ie+=Ne[st]+":"+Li[Ne[st]]+";";return Ie}function sr(Li){switch(Li){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Er{constructor(Ie={},Ne={}){this.json=Ie,this.extensions={},this.plugins={},this.options=Ne,this.cache=new G,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap<"u"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new g.ImageBitmapLoader(this.options.manager):this.textureLoader=new g.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new g.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(Ie){this.extensions=Ie}setPlugins(Ie){this.plugins=Ie}parse(Ie,Ne){const st=this,Je=this.json,ot=this.extensions;this.cache.removeAll(),this._invokeAll(function(Tt){return Tt._markDefs&&Tt._markDefs()}),Promise.all(this._invokeAll(function(Tt){return Tt.beforeRoot&&Tt.beforeRoot()})).then(function(){return Promise.all([st.getDependencies("scene"),st.getDependencies("animation"),st.getDependencies("camera")])}).then(function(Tt){const Pt={scene:Tt[0][Je.scene||0],scenes:Tt[0],animations:Tt[1],cameras:Tt[2],asset:Je.asset,parser:st,userData:{}};Vt(ot,Pt,Je),mt(Pt,Je),Promise.all(st._invokeAll(function(bt){return bt.afterRoot&&bt.afterRoot(Pt)})).then(function(){Ie(Pt)})}).catch(Ne)}_markDefs(){const Ie=this.json.nodes||[],Ne=this.json.skins||[],st=this.json.meshes||[];for(let Je=0,ot=Ne.length;Je<ot;Je++){const Tt=Ne[Je].joints;for(let Pt=0,bt=Tt.length;Pt<bt;Pt++)Ie[Tt[Pt]].isBone=!0}for(let Je=0,ot=Ie.length;Je<ot;Je++){const Tt=Ie[Je];Tt.mesh!==void 0&&(this._addNodeRef(this.meshCache,Tt.mesh),Tt.skin!==void 0&&(st[Tt.mesh].isSkinnedMesh=!0)),Tt.camera!==void 0&&this._addNodeRef(this.cameraCache,Tt.camera)}}_addNodeRef(Ie,Ne){Ne!==void 0&&(Ie.refs[Ne]===void 0&&(Ie.refs[Ne]=Ie.uses[Ne]=0),Ie.refs[Ne]++)}_getNodeRef(Ie,Ne,st){if(Ie.refs[Ne]<=1)return st;const Je=st.clone();return Je.name+="_instance_"+Ie.uses[Ne]++,Je}_invokeOne(Ie){const Ne=Object.values(this.plugins);Ne.push(this);for(let st=0;st<Ne.length;st++){const Je=Ie(Ne[st]);if(Je)return Je}return null}_invokeAll(Ie){const Ne=Object.values(this.plugins);Ne.unshift(this);const st=[];for(let Je=0;Je<Ne.length;Je++){const ot=Ie(Ne[Je]);ot&&st.push(ot)}return st}getDependency(Ie,Ne){const st=Ie+":"+Ne;let Je=this.cache.get(st);if(!Je){switch(Ie){case"scene":Je=this.loadScene(Ne);break;case"node":Je=this.loadNode(Ne);break;case"mesh":Je=this._invokeOne(function(ot){return ot.loadMesh&&ot.loadMesh(Ne)});break;case"accessor":Je=this.loadAccessor(Ne);break;case"bufferView":Je=this._invokeOne(function(ot){return ot.loadBufferView&&ot.loadBufferView(Ne)});break;case"buffer":Je=this.loadBuffer(Ne);break;case"material":Je=this._invokeOne(function(ot){return ot.loadMaterial&&ot.loadMaterial(Ne)});break;case"texture":Je=this._invokeOne(function(ot){return ot.loadTexture&&ot.loadTexture(Ne)});break;case"skin":Je=this.loadSkin(Ne);break;case"animation":Je=this.loadAnimation(Ne);break;case"camera":Je=this.loadCamera(Ne);break;default:throw new Error("Unknown type: "+Ie)}this.cache.add(st,Je)}return Je}getDependencies(Ie){let Ne=this.cache.get(Ie);if(!Ne){const st=this,Je=this.json[Ie+(Ie==="mesh"?"es":"s")]||[];Ne=Promise.all(Je.map(function(ot,Tt){return st.getDependency(Ie,Tt)})),this.cache.add(Ie,Ne)}return Ne}loadBuffer(Ie){const Ne=this.json.buffers[Ie],st=this.fileLoader;if(Ne.type&&Ne.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+Ne.type+" buffer type is not supported.");if(Ne.uri===void 0&&Ie===0)return Promise.resolve(this.extensions[J.KHR_BINARY_GLTF].body);const Je=this.options;return new Promise(function(ot,Tt){st.load(dt(Ne.uri,Je.path),ot,void 0,function(){Tt(new Error('THREE.GLTFLoader: Failed to load buffer "'+Ne.uri+'".'))})})}loadBufferView(Ie){const Ne=this.json.bufferViews[Ie];return this.getDependency("buffer",Ne.buffer).then(function(st){const Je=Ne.byteLength||0,ot=Ne.byteOffset||0;return st.slice(ot,ot+Je)})}loadAccessor(Ie){const Ne=this,st=this.json,Je=this.json.accessors[Ie];if(Je.bufferView===void 0&&Je.sparse===void 0)return Promise.resolve(null);const ot=[];return Je.bufferView!==void 0?ot.push(this.getDependency("bufferView",Je.bufferView)):ot.push(null),Je.sparse!==void 0&&(ot.push(this.getDependency("bufferView",Je.sparse.indices.bufferView)),ot.push(this.getDependency("bufferView",Je.sparse.values.bufferView))),Promise.all(ot).then(function(Tt){const Pt=Tt[0],bt=ce[Je.type],ii=ji[Je.componentType],Ui=ii.BYTES_PER_ELEMENT,zi=Ui*bt,Mn=Je.byteOffset||0,Hn=Je.bufferView!==void 0?st.bufferViews[Je.bufferView].byteStride:void 0,zn=Je.normalized===!0;let Ln,In;if(Hn&&Hn!==zi){const tr=Math.floor(Mn/Hn),ss="InterleavedBuffer:"+Je.bufferView+":"+Je.componentType+":"+tr+":"+Je.count;let Or=Ne.cache.get(ss);Or||(Ln=new ii(Pt,tr*Hn,Je.count*Hn/Ui),Or=new g.InterleavedBuffer(Ln,Hn/Ui),Ne.cache.add(ss,Or)),In=new g.InterleavedBufferAttribute(Or,bt,Mn%Hn/Ui,zn)}else Pt===null?Ln=new ii(Je.count*bt):Ln=new ii(Pt,Mn,Je.count*bt),In=new g.BufferAttribute(Ln,bt,zn);if(Je.sparse!==void 0){const tr=ce.SCALAR,ss=ji[Je.sparse.indices.componentType],Or=Je.sparse.indices.byteOffset||0,_o=Je.sparse.values.byteOffset||0,fo=new ss(Tt[1],Or,Je.sparse.count*tr),Vi=new ii(Tt[2],_o,Je.sparse.count*bt);Pt!==null&&(In=new g.BufferAttribute(In.array.slice(),In.itemSize,In.normalized));for(let Mr=0,bs=fo.length;Mr<bs;Mr++){const Ks=fo[Mr];if(In.setX(Ks,Vi[Mr*bt]),bt>=2&&In.setY(Ks,Vi[Mr*bt+1]),bt>=3&&In.setZ(Ks,Vi[Mr*bt+2]),bt>=4&&In.setW(Ks,Vi[Mr*bt+3]),bt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse THREE.BufferAttribute.")}}return In})}loadTexture(Ie){const Ne=this.json,st=this.options,Je=Ne.textures[Ie],ot=Ne.images[Je.source];let Tt=this.textureLoader;if(ot.uri){const Pt=st.manager.getHandler(ot.uri);Pt!==null&&(Tt=Pt)}return this.loadTextureImage(Ie,ot,Tt)}loadTextureImage(Ie,Ne,st){const Je=this,ot=this.json,Tt=this.options,Pt=ot.textures[Ie],bt=(Ne.uri||Ne.bufferView)+":"+Pt.sampler;if(this.textureCache[bt])return this.textureCache[bt];const ii=self.URL||self.webkitURL;let Ui=Ne.uri||"",zi=!1,Mn=!0;const Hn=Ui.search(/\.jpe?g($|\?)/i)>0||Ui.search(/^data\:image\/jpeg/)===0;if((Ne.mimeType==="image/jpeg"||Hn)&&(Mn=!1),Ne.bufferView!==void 0)Ui=Je.getDependency("bufferView",Ne.bufferView).then(function(Ln){if(Ne.mimeType==="image/png"){const tr=new DataView(Ln,25,1).getUint8(0,!1);Mn=tr===6||tr===4||tr===3}zi=!0;const In=new Blob([Ln],{type:Ne.mimeType});return Ui=ii.createObjectURL(In),Ui});else if(Ne.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+Ie+" is missing URI and bufferView");const zn=Promise.resolve(Ui).then(function(Ln){return new Promise(function(In,tr){let ss=In;st.isImageBitmapLoader===!0&&(ss=function(Or){const _o=new g.Texture(Or);_o.needsUpdate=!0,In(_o)}),st.load(dt(Ln,Tt.path),ss,void 0,tr)})}).then(function(Ln){zi===!0&&ii.revokeObjectURL(Ui),Ln.flipY=!1,Pt.name&&(Ln.name=Pt.name),Mn||(Ln.format=g.RGBFormat);const tr=(ot.samplers||{})[Pt.sampler]||{};return Ln.magFilter=oi[tr.magFilter]||g.LinearFilter,Ln.minFilter=oi[tr.minFilter]||g.LinearMipmapLinearFilter,Ln.wrapS=Y[tr.wrapS]||g.RepeatWrapping,Ln.wrapT=Y[tr.wrapT]||g.RepeatWrapping,Je.associations.set(Ln,{type:"textures",index:Ie}),Ln}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",Ui),null});return this.textureCache[bt]=zn,zn}assignTexture(Ie,Ne,st){const Je=this;return this.getDependency("texture",st.index).then(function(ot){if(st.texCoord!==void 0&&st.texCoord!=0&&!(Ne==="aoMap"&&st.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+st.texCoord+" for texture "+Ne+" not yet supported."),Je.extensions[J.KHR_TEXTURE_TRANSFORM]){const Tt=st.extensions!==void 0?st.extensions[J.KHR_TEXTURE_TRANSFORM]:void 0;if(Tt){const Pt=Je.associations.get(ot);ot=Je.extensions[J.KHR_TEXTURE_TRANSFORM].extendTexture(ot,Tt),Je.associations.set(ot,Pt)}}return Ie[Ne]=ot,ot})}assignFinalMaterial(Ie){const Ne=Ie.geometry;let st=Ie.material;const Je=Ne.attributes.tangent!==void 0,ot=Ne.attributes.color!==void 0,Tt=Ne.attributes.normal===void 0;if(Ie.isPoints){const Pt="PointsMaterial:"+st.uuid;let bt=this.cache.get(Pt);bt||(bt=new g.PointsMaterial,g.Material.prototype.copy.call(bt,st),bt.color.copy(st.color),bt.map=st.map,bt.sizeAttenuation=!1,this.cache.add(Pt,bt)),st=bt}else if(Ie.isLine){const Pt="LineBasicMaterial:"+st.uuid;let bt=this.cache.get(Pt);bt||(bt=new g.LineBasicMaterial,g.Material.prototype.copy.call(bt,st),bt.color.copy(st.color),this.cache.add(Pt,bt)),st=bt}if(Je||ot||Tt){let Pt="ClonedMaterial:"+st.uuid+":";st.isGLTFSpecularGlossinessMaterial&&(Pt+="specular-glossiness:"),Je&&(Pt+="vertex-tangents:"),ot&&(Pt+="vertex-colors:"),Tt&&(Pt+="flat-shading:");let bt=this.cache.get(Pt);bt||(bt=st.clone(),ot&&(bt.vertexColors=!0),Tt&&(bt.flatShading=!0),Je&&(bt.normalScale&&(bt.normalScale.y*=-1),bt.clearcoatNormalScale&&(bt.clearcoatNormalScale.y*=-1)),this.cache.add(Pt,bt),this.associations.set(bt,this.associations.get(st))),st=bt}st.aoMap&&Ne.attributes.uv2===void 0&&Ne.attributes.uv!==void 0&&Ne.setAttribute("uv2",Ne.attributes.uv),Ie.material=st}getMaterialType(){return g.MeshStandardMaterial}loadMaterial(Ie){const Ne=this,st=this.json,Je=this.extensions,ot=st.materials[Ie];let Tt;const Pt={},bt=ot.extensions||{},ii=[];if(bt[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const zi=Je[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];Tt=zi.getMaterialType(),ii.push(zi.extendParams(Pt,ot,Ne))}else if(bt[J.KHR_MATERIALS_UNLIT]){const zi=Je[J.KHR_MATERIALS_UNLIT];Tt=zi.getMaterialType(),ii.push(zi.extendParams(Pt,ot,Ne))}else{const zi=ot.pbrMetallicRoughness||{};if(Pt.color=new g.Color(1,1,1),Pt.opacity=1,Array.isArray(zi.baseColorFactor)){const Mn=zi.baseColorFactor;Pt.color.fromArray(Mn),Pt.opacity=Mn[3]}zi.baseColorTexture!==void 0&&ii.push(Ne.assignTexture(Pt,"map",zi.baseColorTexture)),Pt.metalness=zi.metallicFactor!==void 0?zi.metallicFactor:1,Pt.roughness=zi.roughnessFactor!==void 0?zi.roughnessFactor:1,zi.metallicRoughnessTexture!==void 0&&(ii.push(Ne.assignTexture(Pt,"metalnessMap",zi.metallicRoughnessTexture)),ii.push(Ne.assignTexture(Pt,"roughnessMap",zi.metallicRoughnessTexture))),Tt=this._invokeOne(function(Mn){return Mn.getMaterialType&&Mn.getMaterialType(Ie)}),ii.push(Promise.all(this._invokeAll(function(Mn){return Mn.extendMaterialParams&&Mn.extendMaterialParams(Ie,Pt)})))}ot.doubleSided===!0&&(Pt.side=g.DoubleSide);const Ui=ot.alphaMode||nt.OPAQUE;return Ui===nt.BLEND?(Pt.transparent=!0,Pt.depthWrite=!1):(Pt.format=g.RGBFormat,Pt.transparent=!1,Ui===nt.MASK&&(Pt.alphaTest=ot.alphaCutoff!==void 0?ot.alphaCutoff:.5)),ot.normalTexture!==void 0&&Tt!==g.MeshBasicMaterial&&(ii.push(Ne.assignTexture(Pt,"normalMap",ot.normalTexture)),Pt.normalScale=new g.Vector2(1,-1),ot.normalTexture.scale!==void 0&&Pt.normalScale.set(ot.normalTexture.scale,-ot.normalTexture.scale)),ot.occlusionTexture!==void 0&&Tt!==g.MeshBasicMaterial&&(ii.push(Ne.assignTexture(Pt,"aoMap",ot.occlusionTexture)),ot.occlusionTexture.strength!==void 0&&(Pt.aoMapIntensity=ot.occlusionTexture.strength)),ot.emissiveFactor!==void 0&&Tt!==g.MeshBasicMaterial&&(Pt.emissive=new g.Color().fromArray(ot.emissiveFactor)),ot.emissiveTexture!==void 0&&Tt!==g.MeshBasicMaterial&&ii.push(Ne.assignTexture(Pt,"emissiveMap",ot.emissiveTexture)),Promise.all(ii).then(function(){let zi;return Tt===it?zi=Je[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(Pt):zi=new Tt(Pt),ot.name&&(zi.name=ot.name),zi.map&&(zi.map.encoding=g.sRGBEncoding),zi.emissiveMap&&(zi.emissiveMap.encoding=g.sRGBEncoding),mt(zi,ot),Ne.associations.set(zi,{type:"materials",index:Ie}),ot.extensions&&Vt(Je,zi,ot),zi})}createUniqueName(Ie){const Ne=g.PropertyBinding.sanitizeNodeName(Ie||"");let st=Ne;for(let Je=1;this.nodeNamesUsed[st];++Je)st=Ne+"_"+Je;return this.nodeNamesUsed[st]=!0,st}loadGeometries(Ie){const Ne=this,st=this.extensions,Je=this.primitiveCache;function ot(Pt){return st[J.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(Pt,Ne).then(function(bt){return Ar(bt,Pt,Ne)})}const Tt=[];for(let Pt=0,bt=Ie.length;Pt<bt;Pt++){const ii=Ie[Pt],Ui=Gi(ii),zi=Je[Ui];if(zi)Tt.push(zi.promise);else{let Mn;ii.extensions&&ii.extensions[J.KHR_DRACO_MESH_COMPRESSION]?Mn=ot(ii):Mn=Ar(new g.BufferGeometry,ii,Ne),Je[Ui]={primitive:ii,promise:Mn},Tt.push(Mn)}}return Promise.all(Tt)}loadMesh(Ie){const Ne=this,st=this.json,Je=this.extensions,ot=st.meshes[Ie],Tt=ot.primitives,Pt=[];for(let bt=0,ii=Tt.length;bt<ii;bt++){const Ui=Tt[bt].material===void 0?yt(this.cache):this.getDependency("material",Tt[bt].material);Pt.push(Ui)}return Pt.push(Ne.loadGeometries(Tt)),Promise.all(Pt).then(function(bt){const ii=bt.slice(0,bt.length-1),Ui=bt[bt.length-1],zi=[];for(let Hn=0,zn=Ui.length;Hn<zn;Hn++){const Ln=Ui[Hn],In=Tt[Hn];let tr;const ss=ii[Hn];if(In.mode===Kt.TRIANGLES||In.mode===Kt.TRIANGLE_STRIP||In.mode===Kt.TRIANGLE_FAN||In.mode===void 0)tr=ot.isSkinnedMesh===!0?new g.SkinnedMesh(Ln,ss):new g.Mesh(Ln,ss),tr.isSkinnedMesh===!0&&!tr.geometry.attributes.skinWeight.normalized&&tr.normalizeSkinWeights(),In.mode===Kt.TRIANGLE_STRIP?tr.geometry=Wn(tr.geometry,g.TriangleStripDrawMode):In.mode===Kt.TRIANGLE_FAN&&(tr.geometry=Wn(tr.geometry,g.TriangleFanDrawMode));else if(In.mode===Kt.LINES)tr=new g.LineSegments(Ln,ss);else if(In.mode===Kt.LINE_STRIP)tr=new g.Line(Ln,ss);else if(In.mode===Kt.LINE_LOOP)tr=new g.LineLoop(Ln,ss);else if(In.mode===Kt.POINTS)tr=new g.Points(Ln,ss);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+In.mode);Object.keys(tr.geometry.morphAttributes).length>0&&Yi(tr,ot),tr.name=Ne.createUniqueName(ot.name||"mesh_"+Ie),mt(tr,ot),In.extensions&&Vt(Je,tr,In),Ne.assignFinalMaterial(tr),zi.push(tr)}if(zi.length===1)return zi[0];const Mn=new g.Group;for(let Hn=0,zn=zi.length;Hn<zn;Hn++)Mn.add(zi[Hn]);return Mn})}loadCamera(Ie){let Ne;const st=this.json.cameras[Ie],Je=st[st.type];if(!Je){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return st.type==="perspective"?Ne=new g.PerspectiveCamera(g.MathUtils.radToDeg(Je.yfov),Je.aspectRatio||1,Je.znear||1,Je.zfar||2e6):st.type==="orthographic"&&(Ne=new g.OrthographicCamera(-Je.xmag,Je.xmag,Je.ymag,-Je.ymag,Je.znear,Je.zfar)),st.name&&(Ne.name=this.createUniqueName(st.name)),mt(Ne,st),Promise.resolve(Ne)}loadSkin(Ie){const Ne=this.json.skins[Ie],st={joints:Ne.joints};return Ne.inverseBindMatrices===void 0?Promise.resolve(st):this.getDependency("accessor",Ne.inverseBindMatrices).then(function(Je){return st.inverseBindMatrices=Je,st})}loadAnimation(Ie){const st=this.json.animations[Ie],Je=[],ot=[],Tt=[],Pt=[],bt=[];for(let ii=0,Ui=st.channels.length;ii<Ui;ii++){const zi=st.channels[ii],Mn=st.samplers[zi.sampler],Hn=zi.target,zn=Hn.node!==void 0?Hn.node:Hn.id,Ln=st.parameters!==void 0?st.parameters[Mn.input]:Mn.input,In=st.parameters!==void 0?st.parameters[Mn.output]:Mn.output;Je.push(this.getDependency("node",zn)),ot.push(this.getDependency("accessor",Ln)),Tt.push(this.getDependency("accessor",In)),Pt.push(Mn),bt.push(Hn)}return Promise.all([Promise.all(Je),Promise.all(ot),Promise.all(Tt),Promise.all(Pt),Promise.all(bt)]).then(function(ii){const Ui=ii[0],zi=ii[1],Mn=ii[2],Hn=ii[3],zn=ii[4],Ln=[];for(let tr=0,ss=Ui.length;tr<ss;tr++){const Or=Ui[tr],_o=zi[tr],fo=Mn[tr],Vi=Hn[tr],Mr=zn[tr];if(Or===void 0)continue;Or.updateMatrix(),Or.matrixAutoUpdate=!0;let bs;switch(be[Mr.path]){case be.weights:bs=g.NumberKeyframeTrack;break;case be.rotation:bs=g.QuaternionKeyframeTrack;break;case be.position:case be.scale:default:bs=g.VectorKeyframeTrack;break}const Ks=Or.name?Or.name:Or.uuid,yo=Vi.interpolation!==void 0?xe[Vi.interpolation]:g.InterpolateLinear,es=[];be[Mr.path]===be.weights?Or.traverse(function(dr){dr.isMesh===!0&&dr.morphTargetInfluences&&es.push(dr.name?dr.name:dr.uuid)}):es.push(Ks);let Ns=fo.array;if(fo.normalized){const dr=sr(Ns.constructor),Rs=new Float32Array(Ns.length);for(let $s=0,ro=Ns.length;$s<ro;$s++)Rs[$s]=Ns[$s]*dr;Ns=Rs}for(let dr=0,Rs=es.length;dr<Rs;dr++){const $s=new bs(es[dr]+"."+be[Mr.path],_o.array,Ns,yo);Vi.interpolation==="CUBICSPLINE"&&($s.createInterpolant=function(vs){const Ue=this instanceof g.QuaternionKeyframeTrack?ze:si;return new Ue(this.times,this.values,this.getValueSize()/3,vs)},$s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),Ln.push($s)}}const In=st.name?st.name:"animation_"+Ie;return new g.AnimationClip(In,void 0,Ln)})}createNodeMesh(Ie){const Ne=this.json,st=this,Je=Ne.nodes[Ie];return Je.mesh===void 0?null:st.getDependency("mesh",Je.mesh).then(function(ot){const Tt=st._getNodeRef(st.meshCache,Je.mesh,ot);return Je.weights!==void 0&&Tt.traverse(function(Pt){if(!!Pt.isMesh)for(let bt=0,ii=Je.weights.length;bt<ii;bt++)Pt.morphTargetInfluences[bt]=Je.weights[bt]}),Tt})}loadNode(Ie){const Ne=this.json,st=this.extensions,Je=this,ot=Ne.nodes[Ie],Tt=ot.name?Je.createUniqueName(ot.name):"";return function(){const Pt=[],bt=Je._invokeOne(function(ii){return ii.createNodeMesh&&ii.createNodeMesh(Ie)});return bt&&Pt.push(bt),ot.camera!==void 0&&Pt.push(Je.getDependency("camera",ot.camera).then(function(ii){return Je._getNodeRef(Je.cameraCache,ot.camera,ii)})),Je._invokeAll(function(ii){return ii.createNodeAttachment&&ii.createNodeAttachment(Ie)}).forEach(function(ii){Pt.push(ii)}),Promise.all(Pt)}().then(function(Pt){let bt;if(ot.isBone===!0?bt=new g.Bone:Pt.length>1?bt=new g.Group:Pt.length===1?bt=Pt[0]:bt=new g.Object3D,bt!==Pt[0])for(let ii=0,Ui=Pt.length;ii<Ui;ii++)bt.add(Pt[ii]);if(ot.name&&(bt.userData.name=ot.name,bt.name=Tt),mt(bt,ot),ot.extensions&&Vt(st,bt,ot),ot.matrix!==void 0){const ii=new g.Matrix4;ii.fromArray(ot.matrix),bt.applyMatrix4(ii)}else ot.translation!==void 0&&bt.position.fromArray(ot.translation),ot.rotation!==void 0&&bt.quaternion.fromArray(ot.rotation),ot.scale!==void 0&&bt.scale.fromArray(ot.scale);return Je.associations.set(bt,{type:"nodes",index:Ie}),bt})}loadScene(Ie){const Ne=this.json,st=this.extensions,Je=this.json.scenes[Ie],ot=this,Tt=new g.Group;Je.name&&(Tt.name=ot.createUniqueName(Je.name)),mt(Tt,Je),Je.extensions&&Vt(st,Tt,Je);const Pt=Je.nodes||[],bt=[];for(let ii=0,Ui=Pt.length;ii<Ui;ii++)bt.push(Ir(Pt[ii],Tt,Ne,ot));return Promise.all(bt).then(function(){return Tt})}}function Ir(Li,Ie,Ne,st){const Je=Ne.nodes[Li];return st.getDependency("node",Li).then(function(ot){if(Je.skin===void 0)return ot;let Tt;return st.getDependency("skin",Je.skin).then(function(Pt){Tt=Pt;const bt=[];for(let ii=0,Ui=Tt.joints.length;ii<Ui;ii++)bt.push(st.getDependency("node",Tt.joints[ii]));return Promise.all(bt)}).then(function(Pt){return ot.traverse(function(bt){if(!bt.isMesh)return;const ii=[],Ui=[];for(let zi=0,Mn=Pt.length;zi<Mn;zi++){const Hn=Pt[zi];if(Hn){ii.push(Hn);const zn=new g.Matrix4;Tt.inverseBindMatrices!==void 0&&zn.fromArray(Tt.inverseBindMatrices.array,zi*16),Ui.push(zn)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',Tt.joints[zi])}bt.bind(new g.Skeleton(ii,Ui),bt.matrixWorld)}),ot})}).then(function(ot){Ie.add(ot);const Tt=[];if(Je.children){const Pt=Je.children;for(let bt=0,ii=Pt.length;bt<ii;bt++){const Ui=Pt[bt];Tt.push(Ir(Ui,ot,Ne,st))}}return Promise.all(Tt)})}function _r(Li,Ie,Ne){const st=Ie.attributes,Je=new g.Box3;if(st.POSITION!==void 0){const Pt=Ne.json.accessors[st.POSITION],bt=Pt.min,ii=Pt.max;if(bt!==void 0&&ii!==void 0){if(Je.set(new g.Vector3(bt[0],bt[1],bt[2]),new g.Vector3(ii[0],ii[1],ii[2])),Pt.normalized){const Ui=sr(ji[Pt.componentType]);Je.min.multiplyScalar(Ui),Je.max.multiplyScalar(Ui)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const ot=Ie.targets;if(ot!==void 0){const Pt=new g.Vector3,bt=new g.Vector3;for(let ii=0,Ui=ot.length;ii<Ui;ii++){const zi=ot[ii];if(zi.POSITION!==void 0){const Mn=Ne.json.accessors[zi.POSITION],Hn=Mn.min,zn=Mn.max;if(Hn!==void 0&&zn!==void 0){if(bt.setX(Math.max(Math.abs(Hn[0]),Math.abs(zn[0]))),bt.setY(Math.max(Math.abs(Hn[1]),Math.abs(zn[1]))),bt.setZ(Math.max(Math.abs(Hn[2]),Math.abs(zn[2]))),Mn.normalized){const Ln=sr(ji[Mn.componentType]);bt.multiplyScalar(Ln)}Pt.max(bt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}Je.expandByVector(Pt)}Li.boundingBox=Je;const Tt=new g.Sphere;Je.getCenter(Tt.center),Tt.radius=Je.min.distanceTo(Je.max)/2,Li.boundingSphere=Tt}function Ar(Li,Ie,Ne){const st=Ie.attributes,Je=[];function ot(Tt,Pt){return Ne.getDependency("accessor",Tt).then(function(bt){Li.setAttribute(Pt,bt)})}for(const Tt in st){const Pt=de[Tt]||Tt.toLowerCase();Pt in Li.attributes||Je.push(ot(st[Tt],Pt))}if(Ie.indices!==void 0&&!Li.index){const Tt=Ne.getDependency("accessor",Ie.indices).then(function(Pt){Li.setIndex(Pt)});Je.push(Tt)}return mt(Li,Ie),_r(Li,Ie,Ne),Promise.all(Je).then(function(){return Ie.targets!==void 0?Ot(Li,Ie.targets,Ne):Li})}function Wn(Li,Ie){let Ne=Li.getIndex();if(Ne===null){const Tt=[],Pt=Li.getAttribute("position");if(Pt!==void 0){for(let bt=0;bt<Pt.count;bt++)Tt.push(bt);Li.setIndex(Tt),Ne=Li.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),Li}const st=Ne.count-2,Je=[];if(Ie===g.TriangleFanDrawMode)for(let Tt=1;Tt<=st;Tt++)Je.push(Ne.getX(0)),Je.push(Ne.getX(Tt)),Je.push(Ne.getX(Tt+1));else for(let Tt=0;Tt<st;Tt++)Tt%2===0?(Je.push(Ne.getX(Tt)),Je.push(Ne.getX(Tt+1)),Je.push(Ne.getX(Tt+2))):(Je.push(Ne.getX(Tt+2)),Je.push(Ne.getX(Tt+1)),Je.push(Ne.getX(Tt)));Je.length/3!==st&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const ot=Li.clone();return ot.setIndex(Je),ot}g.GLTFLoader=L})(),k.exports=g.GLTFLoader})(Sm);var xm={exports:{}};(function(k,H){const g=La.exports;(function(){class L extends g.Loader{constructor(J){super(J)}load(J,O,a,j){const Z=this,ye=Z.path===""?g.LoaderUtils.extractUrlBase(J):Z.path,me=new g.FileLoader(Z.manager);me.setPath(Z.path),me.setRequestHeader(Z.requestHeader),me.setWithCredentials(Z.withCredentials),me.load(J,function(rt){try{O(Z.parse(rt,ye))}catch(ht){j?j(ht):console.error(ht),Z.manager.itemError(J)}},a,j)}parse(J,O){function a(te,Q){const le=[],Ae=te.childNodes;for(let Te=0,wt=Ae.length;Te<wt;Te++){const Bt=Ae[Te];Bt.nodeName===Q&&le.push(Bt)}return le}function j(te){if(te.length===0)return[];const Q=te.trim().split(/\s+/),le=new Array(Q.length);for(let Ae=0,Te=Q.length;Ae<Te;Ae++)le[Ae]=Q[Ae];return le}function Z(te){if(te.length===0)return[];const Q=te.trim().split(/\s+/),le=new Array(Q.length);for(let Ae=0,Te=Q.length;Ae<Te;Ae++)le[Ae]=parseFloat(Q[Ae]);return le}function ye(te){if(te.length===0)return[];const Q=te.trim().split(/\s+/),le=new Array(Q.length);for(let Ae=0,Te=Q.length;Ae<Te;Ae++)le[Ae]=parseInt(Q[Ae]);return le}function me(te){return te.substring(1)}function rt(){return"three_default_"+Ti++}function ht(te){return Object.keys(te).length===0}function Ht(te){return{unit:Se(a(te,"unit")[0]),upAxis:Be(a(te,"up_axis")[0])}}function Se(te){return te!==void 0&&te.hasAttribute("meter")===!0?parseFloat(te.getAttribute("meter")):1}function Be(te){return te!==void 0?te.textContent:"Y_UP"}function Gt(te,Q,le,Ae){const Te=a(te,Q)[0];if(Te!==void 0){const wt=a(Te,le);for(let Bt=0;Bt<wt.length;Bt++)Ae(wt[Bt])}}function xt(te,Q){for(const le in te){const Ae=te[le];Ae.build=Q(te[le])}}function fi(te,Q){return te.build!==void 0||(te.build=Q(te)),te.build}function Fi(te){const Q={sources:{},samplers:{},channels:{}};let le=!1;for(let Ae=0,Te=te.childNodes.length;Ae<Te;Ae++){const wt=te.childNodes[Ae];if(wt.nodeType!==1)continue;let Bt;switch(wt.nodeName){case"source":Bt=wt.getAttribute("id"),Q.sources[Bt]=dr(wt);break;case"sampler":Bt=wt.getAttribute("id"),Q.samplers[Bt]=Me(wt);break;case"channel":Bt=wt.getAttribute("target"),Q.channels[Bt]=it(wt);break;case"animation":Fi(wt),le=!0;break;default:console.log(wt)}}le===!1&&(Wt.animations[te.getAttribute("id")||g.MathUtils.generateUUID()]=Q)}function Me(te){const Q={inputs:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"input":const wt=me(Te.getAttribute("source")),Bt=Te.getAttribute("semantic");Q.inputs[Bt]=wt;break}}return Q}function it(te){const Q={};let Ae=te.getAttribute("target").split("/");const Te=Ae.shift();let wt=Ae.shift();const Bt=wt.indexOf("(")!==-1,di=wt.indexOf(".")!==-1;if(di)Ae=wt.split("."),wt=Ae.shift(),Q.member=Ae.shift();else if(Bt){const qi=wt.split("(");wt=qi.shift();for(let _n=0;_n<qi.length;_n++)qi[_n]=parseInt(qi[_n].replace(/\)/,""));Q.indices=qi}return Q.id=Te,Q.sid=wt,Q.arraySyntax=Bt,Q.memberSyntax=di,Q.sampler=me(te.getAttribute("source")),Q}function ri(te){const Q=[],le=te.channels,Ae=te.samplers,Te=te.sources;for(const wt in le)if(le.hasOwnProperty(wt)){const Bt=le[wt],di=Ae[Bt.sampler],qi=di.inputs.INPUT,_n=di.inputs.OUTPUT,mi=Te[qi],gi=Te[_n],vn=si(Bt,mi,gi);oi(vn,Q)}return Q}function Mi(te){return fi(Wt.animations[te],ri)}function si(te,Q,le){const Ae=Wt.nodes[te.id],Te=Fs(Ae.id),wt=Ae.transforms[te.sid],Bt=Ae.matrix.clone().transpose();let di,qi,_n,mi,gi,vn;const Ii={};switch(wt){case"matrix":for(_n=0,mi=Q.array.length;_n<mi;_n++)if(di=Q.array[_n],qi=_n*le.stride,Ii[di]===void 0&&(Ii[di]={}),te.arraySyntax===!0){const wn=le.array[qi],Bn=te.indices[0]+4*te.indices[1];Ii[di][Bn]=wn}else for(gi=0,vn=le.stride;gi<vn;gi++)Ii[di][gi]=le.array[qi+gi];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',wt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',wt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',wt);break}const rn=Ze(Ii,Bt);return{name:Te.uuid,keyframes:rn}}function Ze(te,Q){const le=[];for(const Te in te)le.push({time:parseFloat(Te),value:te[Te]});le.sort(Ae);for(let Te=0;Te<16;Te++)Y(le,Te,Q.elements[Te]);return le;function Ae(Te,wt){return Te.time-wt.time}}const ze=new g.Vector3,Kt=new g.Vector3,ji=new g.Quaternion;function oi(te,Q){const le=te.keyframes,Ae=te.name,Te=[],wt=[],Bt=[],di=[];for(let qi=0,_n=le.length;qi<_n;qi++){const mi=le[qi],gi=mi.time,vn=mi.value;us.fromArray(vn).transpose(),us.decompose(ze,ji,Kt),Te.push(gi),wt.push(ze.x,ze.y,ze.z),Bt.push(ji.x,ji.y,ji.z,ji.w),di.push(Kt.x,Kt.y,Kt.z)}return wt.length>0&&Q.push(new g.VectorKeyframeTrack(Ae+".position",Te,wt)),Bt.length>0&&Q.push(new g.QuaternionKeyframeTrack(Ae+".quaternion",Te,Bt)),di.length>0&&Q.push(new g.VectorKeyframeTrack(Ae+".scale",Te,di)),Q}function Y(te,Q,le){let Ae,Te=!0,wt,Bt;for(wt=0,Bt=te.length;wt<Bt;wt++)Ae=te[wt],Ae.value[Q]===void 0?Ae.value[Q]=null:Te=!1;if(Te===!0)for(wt=0,Bt=te.length;wt<Bt;wt++)Ae=te[wt],Ae.value[Q]=le;else ce(te,Q)}function ce(te,Q){let le,Ae;for(let Te=0,wt=te.length;Te<wt;Te++){const Bt=te[Te];if(Bt.value[Q]===null){if(le=de(te,Te,Q),Ae=be(te,Te,Q),le===null){Bt.value[Q]=Ae.value[Q];continue}if(Ae===null){Bt.value[Q]=le.value[Q];continue}xe(Bt,le,Ae,Q)}}}function de(te,Q,le){for(;Q>=0;){const Ae=te[Q];if(Ae.value[le]!==null)return Ae;Q--}return null}function be(te,Q,le){for(;Q<te.length;){const Ae=te[Q];if(Ae.value[le]!==null)return Ae;Q++}return null}function xe(te,Q,le,Ae){if(le.time-Q.time===0){te.value[Ae]=Q.value[Ae];return}te.value[Ae]=(te.time-Q.time)*(le.value[Ae]-Q.value[Ae])/(le.time-Q.time)+Q.value[Ae]}function nt(te){const Q={name:te.getAttribute("id")||"default",start:parseFloat(te.getAttribute("start")||0),end:parseFloat(te.getAttribute("end")||0),animations:[]};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"instance_animation":Q.animations.push(me(Te.getAttribute("url")));break}}Wt.clips[te.getAttribute("id")]=Q}function dt(te){const Q=[],le=te.name,Ae=te.end-te.start||-1,Te=te.animations;for(let wt=0,Bt=Te.length;wt<Bt;wt++){const di=Mi(Te[wt]);for(let qi=0,_n=di.length;qi<_n;qi++)Q.push(di[qi])}return new g.AnimationClip(le,Ae,Q)}function yt(te){return fi(Wt.clips[te],dt)}function Vt(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"skin":Q.id=me(Te.getAttribute("source")),Q.skin=mt(Te);break;case"morph":Q.id=me(Te.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}Wt.controllers[te.getAttribute("id")]=Q}function mt(te){const Q={sources:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"bind_shape_matrix":Q.bindShapeMatrix=Z(Te.textContent);break;case"source":const wt=Te.getAttribute("id");Q.sources[wt]=dr(Te);break;case"joints":Q.joints=Ot(Te);break;case"vertex_weights":Q.vertexWeights=Yi(Te);break}}return Q}function Ot(te){const Q={inputs:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"input":const wt=Te.getAttribute("semantic"),Bt=me(Te.getAttribute("source"));Q.inputs[wt]=Bt;break}}return Q}function Yi(te){const Q={inputs:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"input":const wt=Te.getAttribute("semantic"),Bt=me(Te.getAttribute("source")),di=parseInt(Te.getAttribute("offset"));Q.inputs[wt]={id:Bt,offset:di};break;case"vcount":Q.vcount=ye(Te.textContent);break;case"v":Q.v=ye(Te.textContent);break}}return Q}function Gi(te){const Q={id:te.id},le=Wt.geometries[Q.id];return te.skin!==void 0&&(Q.skin=an(te.skin),le.sources.skinIndices=Q.skin.indices,le.sources.skinWeights=Q.skin.weights),Q}function an(te){const le={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},Ae=te.sources,Te=te.vertexWeights,wt=Te.vcount,Bt=Te.v,di=Te.inputs.JOINT.offset,qi=Te.inputs.WEIGHT.offset,_n=te.sources[te.joints.inputs.JOINT],mi=te.sources[te.joints.inputs.INV_BIND_MATRIX],gi=Ae[Te.inputs.WEIGHT.id].array;let vn=0,Ii,rn,Ci;for(Ii=0,Ci=wt.length;Ii<Ci;Ii++){const Bn=wt[Ii],nr=[];for(rn=0;rn<Bn;rn++){const rr=Bt[vn+di],Rr=Bt[vn+qi],Nr=gi[Rr];nr.push({index:rr,weight:Nr}),vn+=2}for(nr.sort(wn),rn=0;rn<4;rn++){const rr=nr[rn];rr!==void 0?(le.indices.array.push(rr.index),le.weights.array.push(rr.weight)):(le.indices.array.push(0),le.weights.array.push(0))}}for(te.bindShapeMatrix?le.bindMatrix=new g.Matrix4().fromArray(te.bindShapeMatrix).transpose():le.bindMatrix=new g.Matrix4().identity(),Ii=0,Ci=_n.array.length;Ii<Ci;Ii++){const Bn=_n.array[Ii],nr=new g.Matrix4().fromArray(mi.array,Ii*mi.stride).transpose();le.joints.push({name:Bn,boneInverse:nr})}return le;function wn(Bn,nr){return nr.weight-Bn.weight}}function sr(te){return fi(Wt.controllers[te],Gi)}function Er(te){const Q={init_from:a(te,"init_from")[0].textContent};Wt.images[te.getAttribute("id")]=Q}function Ir(te){return te.build!==void 0?te.build:te.init_from}function _r(te){const Q=Wt.images[te];return Q!==void 0?fi(Q,Ir):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",te),null)}function Ar(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"profile_COMMON":Q.profile=Wn(Te);break}}Wt.effects[te.getAttribute("id")]=Q}function Wn(te){const Q={surfaces:{},samplers:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"newparam":Li(Te,Q);break;case"technique":Q.technique=st(Te);break;case"extra":Q.extra=ii(Te);break}}return Q}function Li(te,Q){const le=te.getAttribute("sid");for(let Ae=0,Te=te.childNodes.length;Ae<Te;Ae++){const wt=te.childNodes[Ae];if(wt.nodeType===1)switch(wt.nodeName){case"surface":Q.surfaces[le]=Ie(wt);break;case"sampler2D":Q.samplers[le]=Ne(wt);break}}}function Ie(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"init_from":Q.init_from=Te.textContent;break}}return Q}function Ne(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"source":Q.source=Te.textContent;break}}return Q}function st(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"constant":case"lambert":case"blinn":case"phong":Q.type=Te.nodeName,Q.parameters=Je(Te);break}}return Q}function Je(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":Q[Te.nodeName]=ot(Te);break;case"transparent":Q[Te.nodeName]={opaque:Te.getAttribute("opaque"),data:ot(Te)};break}}return Q}function ot(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"color":Q[Te.nodeName]=Z(Te.textContent);break;case"float":Q[Te.nodeName]=parseFloat(Te.textContent);break;case"texture":Q[Te.nodeName]={id:Te.getAttribute("texture"),extra:Tt(Te)};break}}return Q}function Tt(te){const Q={technique:{}};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"extra":Pt(Te,Q);break}}return Q}function Pt(te,Q){for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"technique":bt(Te,Q);break}}}function bt(te,Q){for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":Q.technique[Te.nodeName]=parseFloat(Te.textContent);break;case"wrapU":case"wrapV":Te.textContent.toUpperCase()==="TRUE"?Q.technique[Te.nodeName]=1:Te.textContent.toUpperCase()==="FALSE"?Q.technique[Te.nodeName]=0:Q.technique[Te.nodeName]=parseInt(Te.textContent);break}}}function ii(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"technique":Q.technique=Ui(Te);break}}return Q}function Ui(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"double_sided":Q[Te.nodeName]=parseInt(Te.textContent);break}}return Q}function zi(te){return te}function Mn(te){return fi(Wt.effects[te],zi)}function Hn(te){const Q={name:te.getAttribute("name")};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"instance_effect":Q.url=me(Te.getAttribute("url"));break}}Wt.materials[te.getAttribute("id")]=Q}function zn(te){let Q,le=te.slice((te.lastIndexOf(".")-1>>>0)+2);switch(le=le.toLowerCase(),le){case"tga":Q=ge;break;default:Q=se}return Q}function Ln(te){const Q=Mn(te.url),le=Q.profile.technique,Ae=Q.profile.extra;let Te;switch(le.type){case"phong":case"blinn":Te=new g.MeshPhongMaterial;break;case"lambert":Te=new g.MeshLambertMaterial;break;default:Te=new g.MeshBasicMaterial;break}Te.name=te.name||"";function wt(_n){const mi=Q.profile.samplers[_n.id];let gi=null;if(mi!==void 0){const vn=Q.profile.surfaces[mi.source];gi=_r(vn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),gi=_r(_n.id);if(gi!==null){const vn=zn(gi);if(vn!==void 0){const Ii=vn.load(gi),rn=_n.extra;if(rn!==void 0&&rn.technique!==void 0&&ht(rn.technique)===!1){const Ci=rn.technique;Ii.wrapS=Ci.wrapU?g.RepeatWrapping:g.ClampToEdgeWrapping,Ii.wrapT=Ci.wrapV?g.RepeatWrapping:g.ClampToEdgeWrapping,Ii.offset.set(Ci.offsetU||0,Ci.offsetV||0),Ii.repeat.set(Ci.repeatU||1,Ci.repeatV||1)}else Ii.wrapS=g.RepeatWrapping,Ii.wrapT=g.RepeatWrapping;return Ii}else return console.warn("THREE.ColladaLoader: THREE.Loader for texture %s not found.",gi),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",_n.id),null}const Bt=le.parameters;for(const _n in Bt){const mi=Bt[_n];switch(_n){case"diffuse":mi.color&&Te.color.fromArray(mi.color),mi.texture&&(Te.map=wt(mi.texture));break;case"specular":mi.color&&Te.specular&&Te.specular.fromArray(mi.color),mi.texture&&(Te.specularMap=wt(mi.texture));break;case"bump":mi.texture&&(Te.normalMap=wt(mi.texture));break;case"ambient":mi.texture&&(Te.lightMap=wt(mi.texture));break;case"shininess":mi.float&&Te.shininess&&(Te.shininess=mi.float);break;case"emission":mi.color&&Te.emissive&&Te.emissive.fromArray(mi.color),mi.texture&&(Te.emissiveMap=wt(mi.texture));break}}let di=Bt.transparent,qi=Bt.transparency;if(qi===void 0&&di&&(qi={float:1}),di===void 0&&qi&&(di={opaque:"A_ONE",data:{color:[1,1,1,1]}}),di&&qi)if(di.data.texture)Te.transparent=!0;else{const _n=di.data.color;switch(di.opaque){case"A_ONE":Te.opacity=_n[3]*qi.float;break;case"RGB_ZERO":Te.opacity=1-_n[0]*qi.float;break;case"A_ZERO":Te.opacity=1-_n[3]*qi.float;break;case"RGB_ONE":Te.opacity=_n[0]*qi.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',di.opaque)}Te.opacity<1&&(Te.transparent=!0)}return Ae!==void 0&&Ae.technique!==void 0&&Ae.technique.double_sided===1&&(Te.side=g.DoubleSide),Te}function In(te){return fi(Wt.materials[te],Ln)}function tr(te){const Q={name:te.getAttribute("name")};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"optics":Q.optics=ss(Te);break}}Wt.cameras[te.getAttribute("id")]=Q}function ss(te){for(let Q=0;Q<te.childNodes.length;Q++){const le=te.childNodes[Q];switch(le.nodeName){case"technique_common":return Or(le)}}return{}}function Or(te){const Q={};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];switch(Ae.nodeName){case"perspective":case"orthographic":Q.technique=Ae.nodeName,Q.parameters=_o(Ae);break}}return Q}function _o(te){const Q={};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];switch(Ae.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":Q[Ae.nodeName]=parseFloat(Ae.textContent);break}}return Q}function fo(te){let Q;switch(te.optics.technique){case"perspective":Q=new g.PerspectiveCamera(te.optics.parameters.yfov,te.optics.parameters.aspect_ratio,te.optics.parameters.znear,te.optics.parameters.zfar);break;case"orthographic":let le=te.optics.parameters.ymag,Ae=te.optics.parameters.xmag;const Te=te.optics.parameters.aspect_ratio;Ae=Ae===void 0?le*Te:Ae,le=le===void 0?Ae/Te:le,Ae*=.5,le*=.5,Q=new g.OrthographicCamera(-Ae,Ae,le,-le,te.optics.parameters.znear,te.optics.parameters.zfar);break;default:Q=new g.PerspectiveCamera;break}return Q.name=te.name||"",Q}function Vi(te){const Q=Wt.cameras[te];return Q!==void 0?fi(Q,fo):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",te),null)}function Mr(te){let Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"technique_common":Q=bs(Te);break}}Wt.lights[te.getAttribute("id")]=Q}function bs(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"directional":case"point":case"spot":case"ambient":Q.technique=Te.nodeName,Q.parameters=Ks(Te)}}return Q}function Ks(te){const Q={};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"color":const wt=Z(Te.textContent);Q.color=new g.Color().fromArray(wt);break;case"falloff_angle":Q.falloffAngle=parseFloat(Te.textContent);break;case"quadratic_attenuation":const Bt=parseFloat(Te.textContent);Q.distance=Bt?Math.sqrt(1/Bt):0;break}}return Q}function yo(te){let Q;switch(te.technique){case"directional":Q=new g.DirectionalLight;break;case"point":Q=new g.PointLight;break;case"spot":Q=new g.SpotLight;break;case"ambient":Q=new g.AmbientLight;break}return te.parameters.color&&Q.color.copy(te.parameters.color),te.parameters.distance&&(Q.distance=te.parameters.distance),Q}function es(te){const Q=Wt.lights[te];return Q!==void 0?fi(Q,yo):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",te),null)}function Ns(te){const Q={name:te.getAttribute("name"),sources:{},vertices:{},primitives:[]},le=a(te,"mesh")[0];if(le!==void 0){for(let Ae=0;Ae<le.childNodes.length;Ae++){const Te=le.childNodes[Ae];if(Te.nodeType!==1)continue;const wt=Te.getAttribute("id");switch(Te.nodeName){case"source":Q.sources[wt]=dr(Te);break;case"vertices":Q.vertices=Rs(Te);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Te.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":Q.primitives.push($s(Te));break;default:console.log(Te)}}Wt.geometries[te.getAttribute("id")]=Q}}function dr(te){const Q={array:[],stride:3};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"float_array":Q.array=Z(Ae.textContent);break;case"Name_array":Q.array=j(Ae.textContent);break;case"technique_common":const Te=a(Ae,"accessor")[0];Te!==void 0&&(Q.stride=parseInt(Te.getAttribute("stride")));break}}return Q}function Rs(te){const Q={};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];Ae.nodeType===1&&(Q[Ae.getAttribute("semantic")]=me(Ae.getAttribute("source")))}return Q}function $s(te){const Q={type:te.nodeName,material:te.getAttribute("material"),count:parseInt(te.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let le=0,Ae=te.childNodes.length;le<Ae;le++){const Te=te.childNodes[le];if(Te.nodeType===1)switch(Te.nodeName){case"input":const wt=me(Te.getAttribute("source")),Bt=Te.getAttribute("semantic"),di=parseInt(Te.getAttribute("offset")),qi=parseInt(Te.getAttribute("set")),_n=qi>0?Bt+qi:Bt;Q.inputs[_n]={id:wt,offset:di},Q.stride=Math.max(Q.stride,di+1),Bt==="TEXCOORD"&&(Q.hasUV=!0);break;case"vcount":Q.vcount=ye(Te.textContent);break;case"p":Q.p=ye(Te.textContent);break}}return Q}function ro(te){const Q={};for(let le=0;le<te.length;le++){const Ae=te[le];Q[Ae.type]===void 0&&(Q[Ae.type]=[]),Q[Ae.type].push(Ae)}return Q}function vs(te){let Q=0;for(let le=0,Ae=te.length;le<Ae;le++)te[le].hasUV===!0&&Q++;Q>0&&Q<te.length&&(te.uvsNeedsFix=!0)}function Ue(te){const Q={},le=te.sources,Ae=te.vertices,Te=te.primitives;if(Te.length===0)return{};const wt=ro(Te);for(const Bt in wt){const di=wt[Bt];vs(di),Q[Bt]=Fe(di,le,Ae)}return Q}function Fe(te,Q,le){const Ae={},Te={array:[],stride:0},wt={array:[],stride:0},Bt={array:[],stride:0},di={array:[],stride:0},qi={array:[],stride:0},_n={array:[],stride:4},mi={array:[],stride:4},gi=new g.BufferGeometry,vn=[];let Ii=0;for(let rn=0;rn<te.length;rn++){const Ci=te[rn],wn=Ci.inputs;let Bn=0;switch(Ci.type){case"lines":case"linestrips":Bn=Ci.count*2;break;case"triangles":Bn=Ci.count*3;break;case"polylist":for(let nr=0;nr<Ci.count;nr++){const rr=Ci.vcount[nr];switch(rr){case 3:Bn+=3;break;case 4:Bn+=6;break;default:Bn+=(rr-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Ci.type)}gi.addGroup(Ii,Bn,rn),Ii+=Bn,Ci.material&&vn.push(Ci.material);for(const nr in wn){const rr=wn[nr];switch(nr){case"VERTEX":for(const Rr in le){const Nr=le[Rr];switch(Rr){case"POSITION":const Ki=Te.array.length;if(oe(Ci,Q[Nr],rr.offset,Te.array),Te.stride=Q[Nr].stride,Q.skinWeights&&Q.skinIndices&&(oe(Ci,Q.skinIndices,rr.offset,_n.array),oe(Ci,Q.skinWeights,rr.offset,mi.array)),Ci.hasUV===!1&&te.uvsNeedsFix===!0){const ls=(Te.array.length-Ki)/Te.stride;for(let pr=0;pr<ls;pr++)Bt.array.push(0,0)}break;case"NORMAL":oe(Ci,Q[Nr],rr.offset,wt.array),wt.stride=Q[Nr].stride;break;case"COLOR":oe(Ci,Q[Nr],rr.offset,qi.array),qi.stride=Q[Nr].stride;break;case"TEXCOORD":oe(Ci,Q[Nr],rr.offset,Bt.array),Bt.stride=Q[Nr].stride;break;case"TEXCOORD1":oe(Ci,Q[Nr],rr.offset,di.array),Bt.stride=Q[Nr].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Rr)}}break;case"NORMAL":oe(Ci,Q[rr.id],rr.offset,wt.array),wt.stride=Q[rr.id].stride;break;case"COLOR":oe(Ci,Q[rr.id],rr.offset,qi.array),qi.stride=Q[rr.id].stride;break;case"TEXCOORD":oe(Ci,Q[rr.id],rr.offset,Bt.array),Bt.stride=Q[rr.id].stride;break;case"TEXCOORD1":oe(Ci,Q[rr.id],rr.offset,di.array),di.stride=Q[rr.id].stride;break}}}return Te.array.length>0&&gi.setAttribute("position",new g.Float32BufferAttribute(Te.array,Te.stride)),wt.array.length>0&&gi.setAttribute("normal",new g.Float32BufferAttribute(wt.array,wt.stride)),qi.array.length>0&&gi.setAttribute("color",new g.Float32BufferAttribute(qi.array,qi.stride)),Bt.array.length>0&&gi.setAttribute("uv",new g.Float32BufferAttribute(Bt.array,Bt.stride)),di.array.length>0&&gi.setAttribute("uv2",new g.Float32BufferAttribute(di.array,di.stride)),_n.array.length>0&&gi.setAttribute("skinIndex",new g.Float32BufferAttribute(_n.array,_n.stride)),mi.array.length>0&&gi.setAttribute("skinWeight",new g.Float32BufferAttribute(mi.array,mi.stride)),Ae.data=gi,Ae.type=te[0].type,Ae.materialKeys=vn,Ae}function oe(te,Q,le,Ae){const Te=te.p,wt=te.stride,Bt=te.vcount;function di(mi){let gi=Te[mi+le]*_n;const vn=gi+_n;for(;gi<vn;gi++)Ae.push(qi[gi])}const qi=Q.array,_n=Q.stride;if(te.vcount!==void 0){let mi=0;for(let gi=0,vn=Bt.length;gi<vn;gi++){const Ii=Bt[gi];if(Ii===4){const rn=mi+wt*0,Ci=mi+wt*1,wn=mi+wt*2,Bn=mi+wt*3;di(rn),di(Ci),di(Bn),di(Ci),di(wn),di(Bn)}else if(Ii===3){const rn=mi+wt*0,Ci=mi+wt*1,wn=mi+wt*2;di(rn),di(Ci),di(wn)}else if(Ii>4)for(let rn=1,Ci=Ii-2;rn<=Ci;rn++){const wn=mi+wt*0,Bn=mi+wt*rn,nr=mi+wt*(rn+1);di(wn),di(Bn),di(nr)}mi+=wt*Ii}}else for(let mi=0,gi=Te.length;mi<gi;mi+=wt)di(mi)}function he(te){return fi(Wt.geometries[te],Ue)}function De(te){const Q={name:te.getAttribute("name")||"",joints:{},links:[]};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"technique_common":Dt(Ae,Q);break}}Wt.kinematicsModels[te.getAttribute("id")]=Q}function $e(te){return te.build!==void 0?te.build:te}function ft(te){return fi(Wt.kinematicsModels[te],$e)}function Dt(te,Q){for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"joint":Q.joints[Ae.getAttribute("sid")]=It(Ae);break;case"link":Q.links.push(Rt(Ae));break}}}function It(te){let Q;for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"prismatic":case"revolute":Q=vt(Ae);break}}return Q}function vt(te){const Q={sid:te.getAttribute("sid"),name:te.getAttribute("name")||"",axis:new g.Vector3,limits:{min:0,max:0},type:te.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"axis":const Te=Z(Ae.textContent);Q.axis.fromArray(Te);break;case"limits":const wt=Ae.getElementsByTagName("max")[0],Bt=Ae.getElementsByTagName("min")[0];Q.limits.max=parseFloat(wt.textContent),Q.limits.min=parseFloat(Bt.textContent);break}}return Q.limits.min>=Q.limits.max&&(Q.static=!0),Q.middlePosition=(Q.limits.min+Q.limits.max)/2,Q}function Rt(te){const Q={sid:te.getAttribute("sid"),name:te.getAttribute("name")||"",attachments:[],transforms:[]};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"attachment_full":Q.attachments.push(vi(Ae));break;case"matrix":case"translate":case"rotate":Q.transforms.push(on(Ae));break}}return Q}function vi(te){const Q={joint:te.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"link":Q.links.push(Rt(Ae));break;case"matrix":case"translate":case"rotate":Q.transforms.push(on(Ae));break}}return Q}function on(te){const Q={type:te.nodeName},le=Z(te.textContent);switch(Q.type){case"matrix":Q.obj=new g.Matrix4,Q.obj.fromArray(le).transpose();break;case"translate":Q.obj=new g.Vector3,Q.obj.fromArray(le);break;case"rotate":Q.obj=new g.Vector3,Q.obj.fromArray(le),Q.angle=g.MathUtils.degToRad(le[3]);break}return Q}function Di(te){const Q={name:te.getAttribute("name")||"",rigidBodies:{}};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"rigid_body":Q.rigidBodies[Ae.getAttribute("name")]={},Vn(Ae,Q.rigidBodies[Ae.getAttribute("name")]);break}}Wt.physicsModels[te.getAttribute("id")]=Q}function Vn(te,Q){for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"technique_common":Jn(Ae,Q);break}}}function Jn(te,Q){for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"inertia":Q.inertia=Z(Ae.textContent);break;case"mass":Q.mass=Z(Ae.textContent)[0];break}}}function Dn(te){const Q={bindJointAxis:[]};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"bind_joint_axis":Q.bindJointAxis.push(ir(Ae));break}}Wt.kinematicsScenes[me(te.getAttribute("url"))]=Q}function ir(te){const Q={target:te.getAttribute("target").split("/").pop()};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType===1)switch(Ae.nodeName){case"axis":const Te=Ae.getElementsByTagName("param")[0];Q.axis=Te.textContent;const wt=Q.axis.split("inst_").pop().split("axis")[0];Q.jointIndex=wt.substr(0,wt.length-1);break}}return Q}function Cr(te){return te.build!==void 0?te.build:te}function Br(te){return fi(Wt.kinematicsScenes[te],Cr)}function On(){const te=Object.keys(Wt.kinematicsModels)[0],Q=Object.keys(Wt.kinematicsScenes)[0],le=Object.keys(Wt.visualScenes)[0];if(te===void 0||Q===void 0)return;const Ae=ft(te),Te=Br(Q),wt=Es(le),Bt=Te.bindJointAxis,di={};for(let mi=0,gi=Bt.length;mi<gi;mi++){const vn=Bt[mi],Ii=xs.querySelector('[sid="'+vn.target+'"]');if(Ii){const rn=Ii.parentElement;qi(vn.jointIndex,rn)}}function qi(mi,gi){const vn=gi.getAttribute("name"),Ii=Ae.joints[mi];wt.traverse(function(rn){rn.name===vn&&(di[mi]={object:rn,transforms:$r(gi),joint:Ii,position:Ii.zeroPosition})})}const _n=new g.Matrix4;Qt={joints:Ae&&Ae.joints,getJointValue:function(mi){const gi=di[mi];if(gi)return gi.position;console.warn("THREE.ColladaLoader: Joint "+mi+" doesn't exist.")},setJointValue:function(mi,gi){const vn=di[mi];if(vn){const Ii=vn.joint;if(gi>Ii.limits.max||gi<Ii.limits.min)console.warn("THREE.ColladaLoader: Joint "+mi+" value "+gi+" outside of limits (min: "+Ii.limits.min+", max: "+Ii.limits.max+").");else if(Ii.static)console.warn("THREE.ColladaLoader: Joint "+mi+" is static.");else{const rn=vn.object,Ci=Ii.axis,wn=vn.transforms;us.identity();for(let Bn=0;Bn<wn.length;Bn++){const nr=wn[Bn];if(nr.sid&&nr.sid.indexOf(mi)!==-1)switch(Ii.type){case"revolute":us.multiply(_n.makeRotationAxis(Ci,g.MathUtils.degToRad(gi)));break;case"prismatic":us.multiply(_n.makeTranslation(Ci.x*gi,Ci.y*gi,Ci.z*gi));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Ii.type);break}else switch(nr.type){case"matrix":us.multiply(nr.obj);break;case"translate":us.multiply(_n.makeTranslation(nr.obj.x,nr.obj.y,nr.obj.z));break;case"scale":us.scale(nr.obj);break;case"rotate":us.multiply(_n.makeRotationAxis(nr.obj,nr.angle));break}}rn.matrix.copy(us),rn.matrix.decompose(rn.position,rn.quaternion,rn.scale),di[mi].position=gi}}else console.log("THREE.ColladaLoader: "+mi+" does not exist.")}}}function $r(te){const Q=[],le=xs.querySelector('[id="'+te.id+'"]');for(let Ae=0;Ae<le.childNodes.length;Ae++){const Te=le.childNodes[Ae];if(Te.nodeType!==1)continue;let wt,Bt;switch(Te.nodeName){case"matrix":wt=Z(Te.textContent);const di=new g.Matrix4().fromArray(wt).transpose();Q.push({sid:Te.getAttribute("sid"),type:Te.nodeName,obj:di});break;case"translate":case"scale":wt=Z(Te.textContent),Bt=new g.Vector3().fromArray(wt),Q.push({sid:Te.getAttribute("sid"),type:Te.nodeName,obj:Bt});break;case"rotate":wt=Z(Te.textContent),Bt=new g.Vector3().fromArray(wt);const qi=g.MathUtils.degToRad(wt[3]);Q.push({sid:Te.getAttribute("sid"),type:Te.nodeName,obj:Bt,angle:qi});break}}return Q}function Gr(te){const Q=te.getElementsByTagName("node");for(let le=0;le<Q.length;le++){const Ae=Q[le];Ae.hasAttribute("id")===!1&&Ae.setAttribute("id",rt())}}const us=new g.Matrix4,Ao=new g.Vector3;function Hs(te){const Q={name:te.getAttribute("name")||"",type:te.getAttribute("type"),id:te.getAttribute("id"),sid:te.getAttribute("sid"),matrix:new g.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];if(Ae.nodeType!==1)continue;let Te;switch(Ae.nodeName){case"node":Q.nodes.push(Ae.getAttribute("id")),Hs(Ae);break;case"instance_camera":Q.instanceCameras.push(me(Ae.getAttribute("url")));break;case"instance_controller":Q.instanceControllers.push(ui(Ae));break;case"instance_light":Q.instanceLights.push(me(Ae.getAttribute("url")));break;case"instance_geometry":Q.instanceGeometries.push(ui(Ae));break;case"instance_node":Q.instanceNodes.push(me(Ae.getAttribute("url")));break;case"matrix":Te=Z(Ae.textContent),Q.matrix.multiply(us.fromArray(Te).transpose()),Q.transforms[Ae.getAttribute("sid")]=Ae.nodeName;break;case"translate":Te=Z(Ae.textContent),Ao.fromArray(Te),Q.matrix.multiply(us.makeTranslation(Ao.x,Ao.y,Ao.z)),Q.transforms[Ae.getAttribute("sid")]=Ae.nodeName;break;case"rotate":Te=Z(Ae.textContent);const wt=g.MathUtils.degToRad(Te[3]);Q.matrix.multiply(us.makeRotationAxis(Ao.fromArray(Te),wt)),Q.transforms[Ae.getAttribute("sid")]=Ae.nodeName;break;case"scale":Te=Z(Ae.textContent),Q.matrix.scale(Ao.fromArray(Te)),Q.transforms[Ae.getAttribute("sid")]=Ae.nodeName;break;case"extra":break;default:console.log(Ae)}}return vo(Q.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",Q.id):Wt.nodes[Q.id]=Q,Q}function ui(te){const Q={id:me(te.getAttribute("url")),materials:{},skeletons:[]};for(let le=0;le<te.childNodes.length;le++){const Ae=te.childNodes[le];switch(Ae.nodeName){case"bind_material":const Te=Ae.getElementsByTagName("instance_material");for(let wt=0;wt<Te.length;wt++){const Bt=Te[wt],di=Bt.getAttribute("symbol"),qi=Bt.getAttribute("target");Q.materials[di]=me(qi)}break;case"skeleton":Q.skeletons.push(me(Ae.textContent));break}}return Q}function jo(te,Q){const le=[],Ae=[];let Te,wt,Bt;for(Te=0;Te<te.length;Te++){const _n=te[Te];let mi;if(vo(_n))mi=Fs(_n),Ss(mi,Q,le);else if(xr(_n)){const vn=Wt.visualScenes[_n].children;for(let Ii=0;Ii<vn.length;Ii++){const rn=vn[Ii];if(rn.type==="JOINT"){const Ci=Fs(rn.id);Ss(Ci,Q,le)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",_n)}for(Te=0;Te<Q.length;Te++)for(wt=0;wt<le.length;wt++)if(Bt=le[wt],Bt.bone.name===Q[Te].name){Ae[Te]=Bt,Bt.processed=!0;break}for(Te=0;Te<le.length;Te++)Bt=le[Te],Bt.processed===!1&&(Ae.push(Bt),Bt.processed=!0);const di=[],qi=[];for(Te=0;Te<Ae.length;Te++)Bt=Ae[Te],di.push(Bt.bone),qi.push(Bt.boneInverse);return new g.Skeleton(di,qi)}function Ss(te,Q,le){te.traverse(function(Ae){if(Ae.isBone===!0){let Te;for(let wt=0;wt<Q.length;wt++){const Bt=Q[wt];if(Bt.name===Ae.name){Te=Bt.boneInverse;break}}Te===void 0&&(Te=new g.Matrix4),le.push({bone:Ae,boneInverse:Te,processed:!1})}})}function uo(te){const Q=[],le=te.matrix,Ae=te.nodes,Te=te.type,wt=te.instanceCameras,Bt=te.instanceControllers,di=te.instanceLights,qi=te.instanceGeometries,_n=te.instanceNodes;for(let gi=0,vn=Ae.length;gi<vn;gi++)Q.push(Fs(Ae[gi]));for(let gi=0,vn=wt.length;gi<vn;gi++){const Ii=Vi(wt[gi]);Ii!==null&&Q.push(Ii.clone())}for(let gi=0,vn=Bt.length;gi<vn;gi++){const Ii=Bt[gi],rn=sr(Ii.id),Ci=he(rn.id),wn=bo(Ci,Ii.materials),Bn=Ii.skeletons,nr=rn.skin.joints,rr=jo(Bn,nr);for(let Rr=0,Nr=wn.length;Rr<Nr;Rr++){const Ki=wn[Rr];Ki.isSkinnedMesh&&(Ki.bind(rr,rn.skin.bindMatrix),Ki.normalizeSkinWeights()),Q.push(Ki)}}for(let gi=0,vn=di.length;gi<vn;gi++){const Ii=es(di[gi]);Ii!==null&&Q.push(Ii.clone())}for(let gi=0,vn=qi.length;gi<vn;gi++){const Ii=qi[gi],rn=he(Ii.id),Ci=bo(rn,Ii.materials);for(let wn=0,Bn=Ci.length;wn<Bn;wn++)Q.push(Ci[wn])}for(let gi=0,vn=_n.length;gi<vn;gi++)Q.push(Fs(_n[gi]).clone());let mi;if(Ae.length===0&&Q.length===1)mi=Q[0];else{mi=Te==="JOINT"?new g.Bone:new g.Group;for(let gi=0;gi<Q.length;gi++)mi.add(Q[gi])}return mi.name=Te==="JOINT"?te.sid:te.name,mi.matrix.copy(le),mi.matrix.decompose(mi.position,mi.quaternion,mi.scale),mi}const ia=new g.MeshBasicMaterial({color:16711935});function Tn(te,Q){const le=[];for(let Ae=0,Te=te.length;Ae<Te;Ae++){const wt=Q[te[Ae]];wt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",te[Ae]),le.push(ia)):le.push(In(wt))}return le}function bo(te,Q){const le=[];for(const Ae in te){const Te=te[Ae],wt=Tn(Te.materialKeys,Q);wt.length===0&&(Ae==="lines"||Ae==="linestrips"?wt.push(new g.LineBasicMaterial):wt.push(new g.MeshPhongMaterial));const Bt=Te.data.attributes.skinIndex!==void 0,di=wt.length===1?wt[0]:wt;let qi;switch(Ae){case"lines":qi=new g.LineSegments(Te.data,di);break;case"linestrips":qi=new g.Line(Te.data,di);break;case"triangles":case"polylist":Bt?qi=new g.SkinnedMesh(Te.data,di):qi=new g.Mesh(Te.data,di);break}le.push(qi)}return le}function vo(te){return Wt.nodes[te]!==void 0}function Fs(te){return fi(Wt.nodes[te],uo)}function pn(te){const Q={name:te.getAttribute("name"),children:[]};Gr(te);const le=a(te,"node");for(let Ae=0;Ae<le.length;Ae++)Q.children.push(Hs(le[Ae]));Wt.visualScenes[te.getAttribute("id")]=Q}function br(te){const Q=new g.Group;Q.name=te.name;const le=te.children;for(let Ae=0;Ae<le.length;Ae++){const Te=le[Ae];Q.add(Fs(Te.id))}return Q}function xr(te){return Wt.visualScenes[te]!==void 0}function Es(te){return fi(Wt.visualScenes[te],br)}function Da(te){const Q=a(te,"instance_visual_scene")[0];return Es(me(Q.getAttribute("url")))}function Pr(){const te=Wt.clips;if(ht(te)===!0){if(ht(Wt.animations)===!1){const Q=[];for(const le in Wt.animations){const Ae=Mi(le);for(let Te=0,wt=Ae.length;Te<wt;Te++)Q.push(Ae[Te])}Ye.push(new g.AnimationClip("default",-1,Q))}}else for(const Q in te)Ye.push(yt(Q))}function na(te){let Q="";const le=[te];for(;le.length;){const Ae=le.shift();Ae.nodeType===Node.TEXT_NODE?Q+=Ae.textContent:(Q+=`
`,le.push.apply(le,Ae.childNodes))}return Q.trim()}if(J.length===0)return{scene:new g.Scene};const ma=new DOMParser().parseFromString(J,"application/xml"),xs=a(ma,"COLLADA")[0],Zs=ma.getElementsByTagName("parsererror")[0];if(Zs!==void 0){const te=a(Zs,"div")[0];let Q;return te?Q=te.textContent:Q=na(Zs),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,Q),null}const cs=xs.getAttribute("version");console.log("THREE.ColladaLoader: File version",cs);const ae=Ht(a(xs,"asset")[0]),se=new g.TextureLoader(this.manager);se.setPath(this.resourcePath||O).setCrossOrigin(this.crossOrigin);let ge;g.TGALoader&&(ge=new g.TGALoader(this.manager),ge.setPath(this.resourcePath||O));const Ye=[];let Qt={},Ti=0;const Wt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};Gt(xs,"library_animations","animation",Fi),Gt(xs,"library_animation_clips","animation_clip",nt),Gt(xs,"library_controllers","controller",Vt),Gt(xs,"library_images","image",Er),Gt(xs,"library_effects","effect",Ar),Gt(xs,"library_materials","material",Hn),Gt(xs,"library_cameras","camera",tr),Gt(xs,"library_lights","light",Mr),Gt(xs,"library_geometries","geometry",Ns),Gt(xs,"library_nodes","node",Hs),Gt(xs,"library_visual_scenes","visual_scene",pn),Gt(xs,"library_kinematics_models","kinematics_model",De),Gt(xs,"library_physics_models","physics_model",Di),Gt(xs,"scene","instance_kinematics_scene",Dn),xt(Wt.animations,ri),xt(Wt.clips,dt),xt(Wt.controllers,Gi),xt(Wt.images,Ir),xt(Wt.effects,zi),xt(Wt.materials,Ln),xt(Wt.cameras,fo),xt(Wt.lights,yo),xt(Wt.geometries,Ue),xt(Wt.visualScenes,br),Pr(),On();const Ni=Da(a(xs,"scene")[0]);return Ni.animations=Ye,ae.upAxis==="Z_UP"&&Ni.quaternion.setFromEuler(new g.Euler(-Math.PI/2,0,0)),Ni.scale.multiplyScalar(ae.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Ye},kinematics:Qt,library:Wt,scene:Ni}}}g.ColladaLoader=L})(),k.exports=g.ColladaLoader})(xm);(function(k,H){const g=q0.exports,L=ru.exports,G=Am.exports,J=bm.exports,O=vm.exports,a=Sm.exports,j=xm.exports,Z=new G,ye=new J,me=new a,rt=new O,ht=new j;function Ht(Se,Be,Gt){if(Se===void 0)return console.error("Invalid options provided to loadObj()");Se=g._validate(Se,L.prototype._defaults.loadObj);let xt;switch(Se.type||(Se.type="mtl"),Se.type){case"mtl":xt=Z;break;case"gltf":case"glb":xt=me;break;case"fbx":xt=rt;break;case"dae":xt=ht;break}ye.load(Se.mtl,fi,()=>null,Me=>{console.warn("No material file found "+Me.stack)});function fi(Me){Me&&Se.type=="mtl"&&(Me.preload(),xt.setMaterials(Me)),xt.load(Se.obj,it=>{let ri=[];switch(Se.type){case"mtl":it=it.children[0];break;case"gltf":case"glb":case"dae":ri=it.animations,it=it.scene;break;case"fbx":ri=it.animations;break}it.animations=ri;const Mi=g.types.rotation(Se.rotation,[0,0,0]),si=g.types.scale(Se.scale,[1,1,1]);it.rotation.set(Mi[0],Mi[1],Mi[2]),it.scale.set(si[0],si[1],si[2]),Se.normalize&&Fi(it),it.name="model";let Ze=L.prototype._makeGroup(it,Se);L.prototype._addMethods(Ze),Ze.setAnchor(Se.anchor),Ze.setCenter(Se.adjustment),Ze.raycasted=Se.raycasted,Gt(Ze),Be(Ze),Ze.setFixedZoom(Se.mapScale),Ze.idle()},()=>null,it=>{console.error("Could not load model file: "+Se.obj+` 
 `+it.stack),Gt("Error loading the model")})}function Fi(Me){Me.traverse(function(it){if(it.isMesh){let ri;it.material.type=="MeshStandardMaterial"?(it.material.metalness&&(it.material.metalness*=.1),it.material.glossiness&&(it.material.glossiness*=.25),ri=new THREE.Color(12,12,12)):it.material.type=="MeshPhongMaterial"&&(it.material.shininess=.1,ri=new THREE.Color(20,20,20)),it.material.specular&&it.material.specular.isColor&&(it.material.specular=ri)}})}}k.exports=Ht})(ym);var Cm={exports:{}};(function(k,H){const g=La.exports,L=q0.exports,G=ru.exports;function J(O){O=L._validate(O,G.prototype._defaults.line);var a=L.lnglatsToWorld(O.geometry),j=L.normalizeVertices(a),Z=L.flattenVectors(j.vertices),ye=new g.LineGeometry;ye.setPositions(Z);let me=new g.LineMaterial({color:O.color,linewidth:O.width,dashed:!1,opacity:O.opacity});return me.resolution.set(window.innerWidth,window.innerHeight),me.isMaterial=!0,me.transparent=!0,me.depthWrite=!1,J=new g.Line2(ye,me),J.position.copy(j.position),J.computeLineDistances(),J}k.exports=J,function(){const O=new g.Box3,a=new g.Vector3;class j extends g.InstancedBufferGeometry{constructor(){super(),this.type="LineSegmentsGeometry";const ye=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],me=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],rt=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(rt),this.setAttribute("position",new g.Float32BufferAttribute(ye,3)),this.setAttribute("uv",new g.Float32BufferAttribute(me,2))}applyMatrix4(ye){const me=this.attributes.instanceStart,rt=this.attributes.instanceEnd;return me!==void 0&&(me.applyMatrix4(ye),rt.applyMatrix4(ye),me.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(ye){let me;ye instanceof Float32Array?me=ye:Array.isArray(ye)&&(me=new Float32Array(ye));const rt=new g.InstancedInterleavedBuffer(me,6,1);return this.setAttribute("instanceStart",new g.InterleavedBufferAttribute(rt,3,0)),this.setAttribute("instanceEnd",new g.InterleavedBufferAttribute(rt,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(ye){let me;ye instanceof Float32Array?me=ye:Array.isArray(ye)&&(me=new Float32Array(ye));const rt=new g.InstancedInterleavedBuffer(me,6,1);return this.setAttribute("instanceColorStart",new g.InterleavedBufferAttribute(rt,3,0)),this.setAttribute("instanceColorEnd",new g.InterleavedBufferAttribute(rt,3,3)),this}fromWireframeGeometry(ye){return this.setPositions(ye.attributes.position.array),this}fromEdgesGeometry(ye){return this.setPositions(ye.attributes.position.array),this}fromMesh(ye){return this.fromWireframeGeometry(new g.WireframeGeometry(ye.geometry)),this}fromLineSegments(ye){const me=ye.geometry;if(me.isGeometry){console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.");return}else me.isBufferGeometry&&this.setPositions(me.attributes.position.array);return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new g.Box3);const ye=this.attributes.instanceStart,me=this.attributes.instanceEnd;ye!==void 0&&me!==void 0&&(this.boundingBox.setFromBufferAttribute(ye),O.setFromBufferAttribute(me),this.boundingBox.union(O))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new g.Sphere),this.boundingBox===null&&this.computeBoundingBox();const ye=this.attributes.instanceStart,me=this.attributes.instanceEnd;if(ye!==void 0&&me!==void 0){const rt=this.boundingSphere.center;this.boundingBox.getCenter(rt);let ht=0;for(let Ht=0,Se=ye.count;Ht<Se;Ht++)a.fromBufferAttribute(ye,Ht),ht=Math.max(ht,rt.distanceToSquared(a)),a.fromBufferAttribute(me,Ht),ht=Math.max(ht,rt.distanceToSquared(a));this.boundingSphere.radius=Math.sqrt(ht),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(ye){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(ye)}}j.prototype.isLineSegmentsGeometry=!0,g.LineSegmentsGeometry=j}(),function(){class O extends g.LineSegmentsGeometry{constructor(){super(),this.type="LineGeometry"}setPositions(j){for(var Z=j.length-3,ye=new Float32Array(2*Z),me=0;me<Z;me+=3)ye[2*me]=j[me],ye[2*me+1]=j[me+1],ye[2*me+2]=j[me+2],ye[2*me+3]=j[me+3],ye[2*me+4]=j[me+4],ye[2*me+5]=j[me+5];return super.setPositions(ye),this}setColors(j){for(var Z=j.length-3,ye=new Float32Array(2*Z),me=0;me<Z;me+=3)ye[2*me]=j[me],ye[2*me+1]=j[me+1],ye[2*me+2]=j[me+2],ye[2*me+3]=j[me+3],ye[2*me+4]=j[me+4],ye[2*me+5]=j[me+5];return super.setColors(ye),this}fromLine(j){var Z=j.geometry;if(Z.isGeometry){console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.");return}else Z.isBufferGeometry&&this.setPositions(Z.attributes.position.array);return this}}O.prototype.isLineGeometry=!0,g.LineGeometry=O}(),function(){class O extends g.LineSegmentsGeometry{constructor(j){super(),this.type="WireframeGeometry2",this.fromWireframeGeometry(new g.WireframeGeometry(j))}}O.prototype.isWireframeGeometry2=!0,g.WireframeGeometry2=O}(),function(){g.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new g.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},g.ShaderLib.line={uniforms:g.UniformsUtils.merge([g.UniformsLib.common,g.UniformsLib.fog,g.UniformsLib.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		varying vec2 vUv;
		varying vec4 worldPos;
		varying vec3 worldStart;
		varying vec3 worldEnd;

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;

			#endif

			float aspect = resolution.x / resolution.y;

			vUv = uv;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			worldStart = start.xyz;
			worldEnd = end.xyz;

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segements overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;
		varying vec4 worldPos;
		varying vec3 worldStart;
		varying vec3 worldEnd;

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		varying vec2 vUv;

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class O extends g.ShaderMaterial{constructor(j){super({type:"LineMaterial",uniforms:g.UniformsUtils.clone(g.ShaderLib.line.uniforms),vertexShader:g.ShaderLib.line.vertexShader,fragmentShader:g.ShaderLib.line.fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(Z){this.uniforms.diffuse.value=Z}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(Z){Z===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(Z){this.uniforms.linewidth.value=Z}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(Z){Boolean(Z)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),Z===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(Z){this.uniforms.dashScale.value=Z}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(Z){this.uniforms.dashSize.value=Z}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(Z){this.uniforms.dashOffset.value=Z}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(Z){this.uniforms.gapSize.value=Z}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(Z){this.uniforms.opacity.value=Z}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(Z){this.uniforms.resolution.value.copy(Z)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(Z){Boolean(Z)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),Z===!0?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(j)}}O.prototype.isLineMaterial=!0,g.LineMaterial=O}(),function(){const O=new g.Vector3,a=new g.Vector3,j=new g.Vector4,Z=new g.Vector4,ye=new g.Vector4,me=new g.Vector3,rt=new g.Matrix4,ht=new g.Line3,Ht=new g.Vector3,Se=new g.Box3,Be=new g.Sphere,Gt=new g.Vector4;class xt extends g.Mesh{constructor(Fi=new g.LineSegmentsGeometry,Me=new g.LineMaterial({color:Math.random()*16777215})){super(Fi,Me),this.type="LineSegments2"}computeLineDistances(){const Fi=this.geometry,Me=Fi.attributes.instanceStart,it=Fi.attributes.instanceEnd,ri=new Float32Array(2*Me.count);for(let si=0,Ze=0,ze=Me.count;si<ze;si++,Ze+=2)O.fromBufferAttribute(Me,si),a.fromBufferAttribute(it,si),ri[Ze]=Ze===0?0:ri[Ze-1],ri[Ze+1]=ri[Ze]+O.distanceTo(a);const Mi=new g.InstancedInterleavedBuffer(ri,2,1);return Fi.setAttribute("instanceDistanceStart",new g.InterleavedBufferAttribute(Mi,1,0)),Fi.setAttribute("instanceDistanceEnd",new g.InterleavedBufferAttribute(Mi,1,1)),this}raycast(Fi,Me){Fi.camera===null&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');const it=Fi.params.Line2!==void 0&&Fi.params.Line2.threshold||0,ri=Fi.ray,Mi=Fi.camera,si=Mi.projectionMatrix,Ze=this.matrixWorld,ze=this.geometry,Kt=this.material,ji=Kt.resolution,oi=Kt.linewidth+it,Y=ze.attributes.instanceStart,ce=ze.attributes.instanceEnd,de=-Mi.near,be=2*Math.max(oi/ji.width,oi/ji.height);ze.boundingSphere===null&&ze.computeBoundingSphere(),Be.copy(ze.boundingSphere).applyMatrix4(Ze);const xe=Math.max(Mi.near,Be.distanceToPoint(ri.origin));Gt.set(0,0,-xe,1).applyMatrix4(Mi.projectionMatrix),Gt.multiplyScalar(1/Gt.w),Gt.applyMatrix4(Mi.projectionMatrixInverse);const nt=Math.abs(be/Gt.w)*.5;if(Be.radius+=nt,Fi.ray.intersectsSphere(Be)===!1)return;ze.boundingBox===null&&ze.computeBoundingBox(),Se.copy(ze.boundingBox).applyMatrix4(Ze);const dt=Math.max(Mi.near,Se.distanceToPoint(ri.origin));Gt.set(0,0,-dt,1).applyMatrix4(Mi.projectionMatrix),Gt.multiplyScalar(1/Gt.w),Gt.applyMatrix4(Mi.projectionMatrixInverse);const yt=Math.abs(be/Gt.w)*.5;if(Se.max.x+=yt,Se.max.y+=yt,Se.max.z+=yt,Se.min.x-=yt,Se.min.y-=yt,Se.min.z-=yt,Fi.ray.intersectsBox(Se)!==!1){ri.at(1,ye),ye.w=1,ye.applyMatrix4(Mi.matrixWorldInverse),ye.applyMatrix4(si),ye.multiplyScalar(1/ye.w),ye.x*=ji.x/2,ye.y*=ji.y/2,ye.z=0,me.copy(ye),rt.multiplyMatrices(Mi.matrixWorldInverse,Ze);for(let mt=0,Ot=Y.count;mt<Ot;mt++){j.fromBufferAttribute(Y,mt),Z.fromBufferAttribute(ce,mt),j.w=1,Z.w=1,j.applyMatrix4(rt),Z.applyMatrix4(rt);var Vt=j.z>de&&Z.z>de;if(Vt)continue;if(j.z>de){const Er=j.z-Z.z,Ir=(j.z-de)/Er;j.lerp(Z,Ir)}else if(Z.z>de){const Er=Z.z-j.z,Ir=(Z.z-de)/Er;Z.lerp(j,Ir)}j.applyMatrix4(si),Z.applyMatrix4(si),j.multiplyScalar(1/j.w),Z.multiplyScalar(1/Z.w),j.x*=ji.x/2,j.y*=ji.y/2,Z.x*=ji.x/2,Z.y*=ji.y/2,ht.start.copy(j),ht.start.z=0,ht.end.copy(Z),ht.end.z=0;const Yi=ht.closestPointToPointParameter(me,!0);ht.at(Yi,Ht);const Gi=g.MathUtils.lerp(j.z,Z.z,Yi),an=Gi>=-1&&Gi<=1,sr=me.distanceTo(Ht)<oi*.5;if(an&&sr){ht.start.fromBufferAttribute(Y,mt),ht.end.fromBufferAttribute(ce,mt),ht.start.applyMatrix4(Ze),ht.end.applyMatrix4(Ze);const Er=new g.Vector3,Ir=new g.Vector3;ri.distanceSqToSegment(ht.start,ht.end,Ir,Er),Me.push({point:Ir,pointOnLine:Er,distance:ri.origin.distanceTo(Ir),object:this,face:null,faceIndex:mt,uv:null,uv2:null})}}}}}xt.prototype.LineSegments2=!0,g.LineSegments2=xt}(),function(){class O extends g.LineSegments2{constructor(j=new g.LineGeometry,Z=new g.LineMaterial({color:Math.random()*16777215})){super(j,Z),this.type="Line2"}}O.prototype.isLine2=!0,g.Line2=O}(),function(){const O=new g.Vector3,a=new g.Vector3;class j extends g.Mesh{constructor(ye=new g.LineSegmentsGeometry,me=new g.LineMaterial({color:Math.random()*16777215})){super(ye,me),this.type="Wireframe"}computeLineDistances(){const ye=this.geometry,me=ye.attributes.instanceStart,rt=ye.attributes.instanceEnd,ht=new Float32Array(2*me.count);for(let Se=0,Be=0,Gt=me.count;Se<Gt;Se++,Be+=2)O.fromBufferAttribute(me,Se),a.fromBufferAttribute(rt,Se),ht[Be]=Be===0?0:ht[Be-1],ht[Be+1]=ht[Be]+O.distanceTo(a);const Ht=new g.InstancedInterleavedBuffer(ht,2,1);return ye.setAttribute("instanceDistanceStart",new g.InterleavedBufferAttribute(Ht,1,0)),ye.setAttribute("instanceDistanceEnd",new g.InterleavedBufferAttribute(Ht,1,1)),this}}j.prototype.isWireframe=!0,g.Wireframe=j}()})(Cm);var Pm={exports:{}};(function(k,H){const g=q0.exports,L=xp.exports,G=ru.exports,J=La.exports,O=E1.exports;function a(j,Z){j=g._validate(j,G.prototype._defaults.tube);let ye=[];j.geometry.forEach(Se=>{ye.push(new J.Vector3(Se[0],Se[1],Se[2]))});const me=new J.CatmullRomCurve3(ye);let rt=new J.TubeGeometry(me,ye.length,j.radius,j.sides,!1),ht=L(j),Ht=new J.Mesh(rt,ht);return new O({obj:Ht,units:j.units,anchor:j.anchor,adjustment:j.adjustment,bbox:j.bbox,tooltip:j.tooltip,raycasted:j.raycasted})}k.exports=a})(Pm);var Nm={exports:{}};(function(k,H){const g=w1.exports;function L(G){this.map=G,this.renderer=new g.CSS2DRenderer,this.renderer.setSize(this.map.getCanvas().clientWidth,this.map.getCanvas().clientHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.id="labelCanvas",this.renderer.domElement.style.top=0,this.renderer.domElement.style.zIndex="0",this.map.getCanvasContainer().appendChild(this.renderer.domElement),this.scene,this.camera,this.dispose=function(){this.map.getCanvasContainer().removeChild(this.renderer.domElement),this.renderer.domElement.remove(),this.renderer={}},this.setSize=function(J,O){this.renderer.setSize(J,O)},this.map.on("resize",function(){this.renderer.setSize(this.map.getCanvas().clientWidth,this.map.getCanvas().clientHeight)}.bind(this)),this.state={reset:function(){}},this.render=async function(J,O){return this.scene=J,this.camera=O,new Promise(a=>{a(this.renderer.render(J,O))})},this.toggleLabels=async function(J,O){return new Promise(a=>{a(this.setVisibility(J,O,this.scene,this.camera,this.renderer))})},this.setVisibility=function(J,O,a,j,Z){var ye=this.renderer.cacheList;ye.forEach(function(me){me.visible!=O&&me.layer===J&&(O&&me.alwaysVisible||!O)&&(me.visible=O,Z.renderObject(me,a,j))})}}k.exports=L})(Nm);var wm={exports:{}};(function(k,H){class g{constructor(G,J){this.id=G.layerId,this.type="custom",this.renderingMode="3d",this.opacity=.5,this.buildingsLayerId=G.buildingsLayerId,this.minAltitude=G.minAltitude||.1,this.tb=J}onAdd(G,J){this.map=G;const O=`
			uniform mat4 u_matrix;
			uniform float u_height_factor;
			uniform float u_altitude;
			uniform float u_azimuth;
			attribute vec2 a_pos;
			attribute vec4 a_normal_ed;
			attribute lowp vec2 a_base;
			attribute lowp vec2 a_height;
			void main() {
				float base = max(0.0, a_base.x);
				float height = max(0.0, a_height.x);
				float t = mod(a_normal_ed.x, 2.0);
				vec4 pos = vec4(a_pos, t > 0.0 ? height : base, 1);
				float len = pos.z * u_height_factor / tan(u_altitude);
				pos.x += cos(u_azimuth) * len;
				pos.y += sin(u_azimuth) * len;
				pos.z = 0.0;
				gl_Position = u_matrix * pos;
			}
			`,a=`
			void main() {
				gl_FragColor = vec4(0.0, 0.0, 0.0, 0.7);
			}
			`,j=J.createShader(J.VERTEX_SHADER);J.shaderSource(j,O),J.compileShader(j);const Z=J.createShader(J.FRAGMENT_SHADER);J.shaderSource(Z,a),J.compileShader(Z),this.program=J.createProgram(),J.attachShader(this.program,j),J.attachShader(this.program,Z),J.linkProgram(this.program),J.validateProgram(this.program),this.uMatrix=J.getUniformLocation(this.program,"u_matrix"),this.uHeightFactor=J.getUniformLocation(this.program,"u_height_factor"),this.uAltitude=J.getUniformLocation(this.program,"u_altitude"),this.uAzimuth=J.getUniformLocation(this.program,"u_azimuth"),this.aPos=J.getAttribLocation(this.program,"a_pos"),this.aNormal=J.getAttribLocation(this.program,"a_normal_ed"),this.aBase=J.getAttribLocation(this.program,"a_base"),this.aHeight=J.getAttribLocation(this.program,"a_height")}render(G,J){G.useProgram(this.program);const O=this.map.style.sourceCaches.composite,a=O.getVisibleCoordinates().reverse(),j=this.map.getLayer(this.buildingsLayerId),Z=this.map.painter.context,{lng:ye,lat:me}=this.map.getCenter(),rt=this.tb.getSunPosition(this.tb.lightDateTime,[ye,me]);G.uniform1f(this.uAltitude,rt.altitude>this.minAltitude?rt.altitude:0),G.uniform1f(this.uAzimuth,rt.azimuth+3*Math.PI/2),G.enable(G.BLEND),G.blendFunc(G.SRC_ALPHA,G.ONE_MINUS_SRC_ALPHA),G.getExtension("EXT_blend_minmax"),G.disable(G.DEPTH_TEST);for(const ht of a){const Ht=O.getTile(ht),Se=Ht.getBucket(j);if(!Se)continue;const[Be,Gt]=Se.programConfigurations.programConfigurations[this.buildingsLayerId]._buffers;G.uniformMatrix4fv(this.uMatrix,!1,ht.posMatrix),G.uniform1f(this.uHeightFactor,Math.pow(2,ht.overscaledZ)/Ht.tileSize/8);for(const xt of Se.segments.get()){const fi=Z.currentNumAttributes||0,Fi=2;for(let it=Fi;it<fi;it++)G.disableVertexAttribArray(it);const Me=xt.vertexOffset||0;G.enableVertexAttribArray(this.aPos),G.enableVertexAttribArray(this.aNormal),G.enableVertexAttribArray(this.aHeight),G.enableVertexAttribArray(this.aBase),Se.layoutVertexBuffer.bind(),G.vertexAttribPointer(this.aPos,2,G.SHORT,!1,12,12*Me),G.vertexAttribPointer(this.aNormal,4,G.SHORT,!1,12,4+12*Me),Be.bind(),G.vertexAttribPointer(this.aHeight,1,G.FLOAT,!1,4,4*Me),Gt.bind(),G.vertexAttribPointer(this.aBase,1,G.FLOAT,!1,4,4*Me),Se.indexBuffer.bind(),Z.currentNumAttributes=Fi,G.drawElements(G.TRIANGLES,xt.primitiveLength*3,G.UNSIGNED_SHORT,xt.primitiveOffset*3*2)}}}}k.exports=g})(wm);(function(k,H){const g=La.exports,L=cm.exports,G=q0.exports,J=dm.exports,O=Sp.exports,a=ru.exports,j=xp.exports,Z=mm.exports,ye=fm.exports,me=gm.exports,rt=Tm.exports,ht=ym.exports,Ht=E1.exports,Se=Cm.exports,Be=Pm.exports,Gt=Nm.exports,xt=wm.exports;function fi(Me,it,ri){this.init(Me,it,ri)}fi.prototype={repaint:function(){this.map.repaint=!0},init:function(Me,it,ri){this.options=G._validate(ri||{},Fi),this.map=Me,this.map.tb=this,this.objects=new a,this.mapboxVersion=parseFloat(this.map.version),this.renderer=new g.WebGLRenderer({alpha:!0,antialias:!0,preserveDrawingBuffer:ri.preserveDrawingBuffer,canvas:Me.getCanvas(),context:it}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.map.getCanvas().clientWidth,this.map.getCanvas().clientHeight),this.renderer.outputEncoding=g.sRGBEncoding,this.renderer.autoClear=!1,this.labelRenderer=new Gt(this.map),this.scene=new g.Scene,this.world=new g.Group,this.world.name="world",this.scene.add(this.world),this.objectsCache=new Map,this.zoomLayers=[],this.fov=this.options.fov,this.orthographic=this.options.orthographic||!1,this.raycaster=new g.Raycaster,this.raycaster.layers.set(0),this.mapCenter=this.map.getCenter(),this.mapCenterUnits=G.projectToWorld([this.mapCenter.lng,this.mapCenter.lat]),this.lightDateTime=new Date,this.lightLng=this.mapCenter.lng,this.lightLat=this.mapCenter.lat,this.sunPosition,this.rotationStep=5,this.gridStep=6,this.altitudeStep=.1,this.defaultCursor="default",this.lights=this.initLights,this.options.defaultLights&&this.defaultLights(),this.options.realSunlight&&this.realSunlight(this.options.realSunlightHelper),this.skyLayerName="sky-layer",this.terrainSourceName="mapbox-dem",this.terrainExaggeration=1,this.terrainLayerName="",this.enableSelectingFeatures=this.options.enableSelectingFeatures||!1,this.enableSelectingObjects=this.options.enableSelectingObjects||!1,this.enableDraggingObjects=this.options.enableDraggingObjects||!1,this.enableRotatingObjects=this.options.enableRotatingObjects||!1,this.enableTooltips=this.options.enableTooltips||!1,this.multiLayer=this.options.multiLayer||!1,this.enableHelpTooltips=this.options.enableHelpTooltips||!1,this.map.on("style.load",function(){this.tb.zoomLayers=[],this.tb.options.multiLayer&&this.addLayer({id:"threebox_layer",type:"custom",renderingMode:"3d",map:this,onAdd:function(si,Ze){},render:function(si,Ze){this.map.tb.update()}}),this.once("idle",()=>{this.tb.setObjectsScale()}),this.tb.options.sky&&(this.tb.sky=!0),this.tb.options.terrain&&(this.tb.terrain=!0),["satellite","mapbox-mapbox-satellite","satelliteLayer"].forEach(si=>{this.getLayer(si)&&(this.tb.terrainLayerName=si)})}),this.map.on("load",function(){this.selectedObject,this.selectedFeature,this.draggedObject;let Mi;this.overedObject,this.overedFeature;let si=this.getCanvasContainer();this.getCanvasContainer().style.cursor=this.tb.defaultCursor;let Ze,ze=[],Kt,ji,oi,Y;function ce(mt){var Ot=si.getBoundingClientRect();return{x:mt.originalEvent.clientX-Ot.left-si.clientLeft,y:mt.originalEvent.clientY-Ot.top-si.clientTop}}this.unselectObject=function(){this.selectedObject.selected=!1,this.selectedObject=null},this.outObject=function(){this.overedObject.over=!1,this.overedObject=null},this.unselectFeature=function(mt){typeof mt.id>"u"||(this.setFeatureState({source:mt.source,sourceLayer:mt.sourceLayer,id:mt.id},{select:!1}),this.removeTooltip(mt),mt=this.queryRenderedFeatures({layers:[mt.layer.id],filter:["==",["id"],mt.id]})[0],mt&&this.fire("SelectedFeatureChange",{detail:mt}),this.selectedFeature=null)},this.selectFeature=function(mt){this.selectedFeature=mt,this.setFeatureState({source:this.selectedFeature.source,sourceLayer:this.selectedFeature.sourceLayer,id:this.selectedFeature.id},{select:!0}),this.selectedFeature=this.queryRenderedFeatures({layers:[this.selectedFeature.layer.id],filter:["==",["id"],this.selectedFeature.id]})[0],this.addTooltip(this.selectedFeature),this.fire("SelectedFeatureChange",{detail:this.selectedFeature})},this.outFeature=function(mt){this.overedFeature&&typeof this.overedFeature<"u"&&this.overedFeature.id!=mt&&(Me.setFeatureState({source:this.overedFeature.source,sourceLayer:this.overedFeature.sourceLayer,id:this.overedFeature.id},{hover:!1}),this.removeTooltip(this.overedFeature),this.overedFeature=null)},this.addTooltip=function(mt){if(!this.tb.enableTooltips)return;let Ot=this.tb.getFeatureCenter(mt),Yi=this.tb.tooltip({text:mt.properties.name||mt.id||mt.type,mapboxStyle:!0,feature:mt});Yi.setCoords(Ot),this.tb.add(Yi,mt.layer.id),mt.tooltip=Yi,mt.tooltip.tooltip.visible=!0},this.removeTooltip=function(mt){mt.tooltip&&(mt.tooltip.visibility=!1,this.tb.remove(mt.tooltip),mt.tooltip=null)},Me.onContextMenu=function(mt){alert("contextMenu")},this.onClick=function(mt){let Ot,Yi=[];if(Me.tb.enableSelectingObjects&&(Yi=this.tb.queryRenderedFeatures(mt.point)),Ot=typeof Yi[0]=="object",Ot){let Gi=fi.prototype.findParent3DObject(Yi[0]);if(Gi){if(this.selectedFeature&&this.unselectFeature(this.selectedFeature),!this.selectedObject)this.selectedObject=Gi,this.selectedObject.selected=!0;else if(this.selectedObject.uuid!=Gi.uuid)this.selectedObject.selected=!1,Gi.selected=!0,this.selectedObject=Gi;else if(this.selectedObject.uuid==Gi.uuid){this.unselectObject();return}this.selectedObject.dispatchEvent({type:"Wireframed",detail:this.selectedObject}),this.selectedObject.dispatchEvent({type:"IsPlayingChanged",detail:this.selectedObject}),this.repaint=!0,mt.preventDefault()}}else{let Gi=[];if(Me.tb.enableSelectingFeatures&&(Gi=this.queryRenderedFeatures(mt.point)),Gi.length>0&&Gi[0].layer.type=="fill-extrusion"&&typeof Gi[0].id<"u"){if(this.selectedObject&&this.unselectObject(),!this.selectedFeature)this.selectFeature(Gi[0]);else if(this.selectedFeature.id!=Gi[0].id)this.unselectFeature(this.selectedFeature),this.selectFeature(Gi[0]);else if(this.selectedFeature.id==Gi[0].id){this.unselectFeature(this.selectedFeature);return}}}},this.onMouseMove=function(mt){let Ot=ce(mt);if(this.getCanvasContainer().style.cursor=this.tb.defaultCursor,mt.originalEvent.altKey&&this.draggedObject){if(!Me.tb.enableRotatingObjects)return;Mi="rotate",this.getCanvasContainer().style.cursor="move",Math.min(Ze.x,Ot.x),Math.max(Ze.x,Ot.x),Math.min(Ze.y,Ot.y),Math.max(Ze.y,Ot.y);let an={x:0,y:0,z:Math.round(Y[2]+~~((Ot.x-Ze.x)/this.tb.rotationStep)%360*this.tb.rotationStep%360)};this.draggedObject.setRotation(an),Me.tb.enableHelpTooltips&&this.draggedObject.addHelp("rot: "+an.z+"&#176;");return}if(mt.originalEvent.shiftKey&&this.draggedObject){if(!Me.tb.enableDraggingObjects)return;Mi="translate",this.getCanvasContainer().style.cursor="move";let an=mt.lngLat,sr=[Number((an.lng+Kt).toFixed(this.tb.gridStep)),Number((an.lat+ji).toFixed(this.tb.gridStep)),this.draggedObject.modelHeight];this.draggedObject.setCoords(sr),Me.tb.enableHelpTooltips&&this.draggedObject.addHelp("lng: "+sr[0]+"&#176;, lat: "+sr[1]+"&#176;");return}if(mt.originalEvent.ctrlKey&&this.draggedObject){if(!Me.tb.enableDraggingObjects)return;Mi="altitude",this.getCanvasContainer().style.cursor="move";let an=mt.point.y*this.tb.altitudeStep,sr=[this.draggedObject.coordinates[0],this.draggedObject.coordinates[1],Number((-an-oi).toFixed(this.tb.gridStep))];this.draggedObject.setCoords(sr),Me.tb.enableHelpTooltips&&this.draggedObject.addHelp("alt: "+sr[2]+"m");return}let Yi,Gi=[];if(Me.tb.enableSelectingObjects&&(Gi=this.tb.queryRenderedFeatures(mt.point)),Yi=typeof Gi[0]=="object",Yi){let an=fi.prototype.findParent3DObject(Gi[0]);an&&(this.outFeature(this.overedFeature),this.getCanvasContainer().style.cursor="pointer",!this.selectedObject||an.uuid!=this.selectedObject.uuid?(this.overedObject&&this.overedObject.uuid!=an.uuid&&this.outObject(),an.over=!0,this.overedObject=an):this.selectedObject&&an.uuid==this.selectedObject.uuid&&(an.over=!0,this.overedObject=an),this.repaint=!0,mt.preventDefault())}else{this.overedObject&&this.outObject();let an=[];Me.tb.enableSelectingFeatures&&(an=this.queryRenderedFeatures(mt.point)),an.length>0&&(this.outFeature(an[0]),an[0].layer.type=="fill-extrusion"&&typeof an[0].id<"u"&&(!this.selectedFeature||this.selectedFeature.id!=an[0].id)&&(this.getCanvasContainer().style.cursor="pointer",this.overedFeature=an[0],this.setFeatureState({source:this.overedFeature.source,sourceLayer:this.overedFeature.sourceLayer,id:this.overedFeature.id},{hover:!0}),this.overedFeature=Me.queryRenderedFeatures({layers:[this.overedFeature.layer.id],filter:["==",["id"],this.overedFeature.id]})[0],this.addTooltip(this.overedFeature)))}},this.onMouseDown=function(mt){!((mt.originalEvent.shiftKey||mt.originalEvent.altKey||mt.originalEvent.ctrlKey)&&mt.originalEvent.button===0&&this.selectedObject)||!Me.tb.enableDraggingObjects&&!Me.tb.enableRotatingObjects||(mt.preventDefault(),Me.getCanvasContainer().style.cursor="move",Me.once("mouseup",this.onMouseUp),this.draggedObject=this.selectedObject,Ze=ce(mt),ze=this.draggedObject.coordinates,Y=G.degreeify(this.draggedObject.rotation),Kt=ze[0]-mt.lngLat.lng,ji=ze[1]-mt.lngLat.lat,oi=-this.draggedObject.modelHeight-mt.point.y*this.tb.altitudeStep)},this.onMouseUp=function(mt){this.getCanvasContainer().style.cursor=this.tb.defaultCursor,this.off("mouseup",this.onMouseUp),this.off("mouseout",this.onMouseUp),this.dragPan.enable(),this.draggedObject&&(this.draggedObject.dispatchEvent({type:"ObjectDragged",detail:{draggedObject:this.draggedObject,draggedAction:Mi}}),this.draggedObject.removeHelp(),this.draggedObject=null,Mi=null)},this.onMouseOut=function(mt){if(this.overedFeature){let Ot=this.queryRenderedFeatures(mt.point);Ot.length>0&&this.overedFeature.id!=Ot[0].id&&(this.getCanvasContainer().style.cursor=this.tb.defaultCursor,this.outFeature(Ot[0]))}},this.onZoom=function(mt){this.tb.zoomLayers.forEach(Ot=>{this.tb.toggleLayer(Ot)}),this.tb.setObjectsScale()};let de=!1,be=17,xe=91,nt=16,dt=83;function yt(mt){mt.which===be||mt.which,mt.which===nt&&(de=!0);let Ot=this.selectedObject;if(de&&mt.which===dt&&Ot){let Yi=G.toDecimal;if(Ot.help)Ot.removeHelp();else{let Gi=Ot.modelSize,an=1;Ot.userData.units!=="meters"&&(an=G.projectedUnitsPerMeter(Ot.coordinates[1]),an||(an=1),an=Yi(an,7)),Me.tb.enableHelpTooltips&&Ot.addHelp("size(m): "+Yi(Gi.x/an,3)+" W, "+Yi(Gi.y/an,3)+" L, "+Yi(Gi.z/an,3)+" H"),this.repaint=!0}return!1}}function Vt(mt){mt.which==be||mt.which==xe,mt.which===nt&&(de=!1)}this.on("click",this.onClick),this.on("mousemove",this.onMouseMove),this.on("mouseout",this.onMouseOut),this.on("mousedown",this.onMouseDown),this.on("zoom",this.onZoom),this.on("zoomend",this.onZoom),document.addEventListener("keydown",yt.bind(this),!0),document.addEventListener("keyup",Vt.bind(this))})},get sky(){return this.options.sky},set sky(Me){Me?this.createSkyLayer():this.removeLayer(this.skyLayerName),this.options.sky=Me},get terrain(){return this.options.terrain},set terrain(Me){if(this.terrainLayerName="",Me)this.createTerrainLayer();else{if(this.mapboxVersion<2){console.warn("Terrain layer are only supported by Mapbox-gl-js > v2.0");return}this.map.getTerrain()&&(this.map.setTerrain(null),this.map.removeSource(this.terrainSourceName))}this.options.terrain=Me},get fov(){return this.options.fov},set fov(Me){this.camera instanceof g.PerspectiveCamera&&this.options.fov!==Me&&(this.map.transform.fov=Me,this.camera.fov=this.map.transform.fov,this.cameraSync.setupCamera(),this.map.repaint=!0,this.options.fov=Me)},get orthographic(){return this.options.orthographic},set orthographic(Me){const it=this.map.getCanvas().clientHeight,ri=this.map.getCanvas().clientWidth;Me?(this.map.transform.fov=0,this.camera=new g.OrthographicCamera(ri/-2,ri/2,it/2,it/-2,.1,1e21)):(this.map.transform.fov=this.fov,this.camera=new g.PerspectiveCamera(this.map.transform.fov,ri/it,.1,1e21)),this.camera.layers.enable(0),this.camera.layers.enable(1),this.cameraSync=new L(this.map,this.camera,this.world),this.map.repaint=!0,this.options.orthographic=Me},createSkyLayer:function(){if(this.mapboxVersion<2){console.warn("Sky layer are only supported by Mapbox-gl-js > v2.0"),this.options.sky=!1;return}this.map.getLayer(this.skyLayerName)||(this.map.addLayer({id:this.skyLayerName,type:"sky",paint:{"sky-opacity":["interpolate",["linear"],["zoom"],0,0,5,.3,8,1],"sky-type":"atmosphere","sky-atmosphere-sun":this.getSunSky(this.lightDateTime),"sky-atmosphere-sun-intensity":10}}),this.map.once("idle",()=>{this.setSunlight(),this.repaint()}))},createTerrainLayer:function(){if(this.mapboxVersion<2){console.warn("Terrain layer are only supported by Mapbox-gl-js > v2.0"),this.options.terrain=!1;return}this.map.getTerrain()||(this.map.addSource(this.terrainSourceName,{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),this.map.setTerrain({source:this.terrainSourceName,exaggeration:this.terrainExaggeration}),this.map.once("idle",()=>{this.cameraSync.updateCamera(),this.repaint()}))},sphere:function(Me){return this.setDefaultView(Me,this.options),Z(Me,this.world)},line:Se,label:me,tooltip:rt,tube:function(Me){return this.setDefaultView(Me,this.options),Be(Me,this.world)},extrusion:function(Me){return this.setDefaultView(Me,this.options),ye(Me)},Object3D:function(Me){return this.setDefaultView(Me,this.options),Ht(Me)},loadObj:async function(it,ri){if(this.setDefaultView(it,this.options),it.clone===!1)return new Promise(async Mi=>{ht(it,ri,async si=>{Mi(si)})});{let Mi=this.objectsCache.get(it.obj);Mi?Mi.promise.then(si=>{ri(si.duplicate(it))}).catch(si=>{this.objectsCache.delete(it.obj),console.error("Could not load model file: "+it.obj)}):this.objectsCache.set(it.obj,{promise:new Promise(async(si,Ze)=>{ht(it,ri,async ze=>{ze.duplicate?si(ze.duplicate()):Ze(ze)})})})}},material:function(Me){return j(Me)},initLights:{ambientLight:null,dirLight:null,dirLightBack:null,dirLightHelper:null,hemiLight:null,pointLight:null},utils:G,SunCalc:J,Constants:O,projectToWorld:function(Me){return this.utils.projectToWorld(Me)},unprojectFromWorld:function(Me){return this.utils.unprojectFromWorld(Me)},projectedUnitsPerMeter:function(Me){return this.utils.projectedUnitsPerMeter(Me)},getFeatureCenter:function(it,ri,Mi){return G.getFeatureCenter(it,ri,Mi)},getObjectHeightOnFloor:function(Me,it,ri){return G.getObjectHeightOnFloor(Me,it,ri)},queryRenderedFeatures:function(Me){let it=new g.Vector2;return it.x=Me.x/this.map.transform.width*2-1,it.y=1-Me.y/this.map.transform.height*2,this.raycaster.setFromCamera(it,this.camera),this.raycaster.intersectObjects(this.world.children,!0)},findParent3DObject:function(Me){var it;return Me.object.traverseAncestors(function(ri){ri.parent&&ri.parent.type=="Group"&&ri.userData.obj&&(it=ri)}),it},setLayoutProperty:function(Me,it,ri){this.map.setLayoutProperty(Me,it,ri),ri!=null&&it==="visibility"&&this.world.children.filter(Mi=>Mi.layer===Me).forEach(Mi=>{Mi.visibility=ri})},setLayerZoomRange:function(Me,it,ri){this.map.getLayer(Me)&&(this.map.setLayerZoomRange(Me,it,ri),this.zoomLayers.includes(Me)||this.zoomLayers.push(Me),this.toggleLayer(Me))},setLayerHeigthProperty:function(Me,it){let ri=this.map.getLayer(Me);if(!!ri)if(ri.type=="fill-extrusion"){let Mi=this.map.getStyle().sources[ri.source].data;Mi.features.forEach(function(Ze){Ze.properties.level=it}),this.map.getSource(ri.source).setData(Mi)}else ri.type=="custom"&&this.world.children.forEach(function(Mi){let si=Mi.userData.feature;if(si&&si.layer===Me){let Ze=this.tb.getFeatureCenter(si,Mi,it);Mi.setCoords(Ze)}})},setObjectsScale:function(){this.world.children.filter(Me=>Me.fixedZoom!=null).forEach(Me=>{Me.setObjectScale(this.map.transform.scale)})},setStyle:function(Me,it){this.clear().then(()=>{this.map.setStyle(Me,it)})},toggleLayer:function(Me,it=!0){let ri=this.map.getLayer(Me);if(ri){if(!it){this.toggle(ri.id,!1);return}let Mi=this.map.getZoom();if(ri.minzoom&&Mi<ri.minzoom){this.toggle(ri.id,!1);return}if(ri.maxzoom&&Mi>=ri.maxzoom){this.toggle(ri.id,!1);return}this.toggle(ri.id,!0)}},toggle:function(Me,it){this.setLayoutProperty(Me,"visibility",it?"visible":"none"),this.labelRenderer.toggleLabels(Me,it)},update:function(){this.map.repaint&&(this.map.repaint=!1);var Me=Date.now();this.objects.animationManager.update(Me),this.updateLightHelper(),this.renderer.resetState(),this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera),this.options.passiveRendering===!1&&this.map.triggerRepaint()},add:function(Me,it,ri){if(!this.enableTooltips&&Me.tooltip&&(Me.tooltip.visibility=!1),this.world.add(Me),it){Me.layer=it,Me.source=ri;let Mi=this.map.getLayer(it);if(Mi){let si=Mi.visibility,Ze=typeof si>"u";Me.visibility=!!(Ze||si==="visible")}}},removeByName:function(Me){let it=this.world.getObjectByName(Me);it&&this.remove(it)},remove:function(Me){this.map.selectedObject&&Me.uuid==this.map.selectedObject.uuid&&this.map.unselectObject(),this.map.draggedObject&&Me.uuid==this.map.draggedObject.uuid&&(this.map.draggedObject=null),Me.dispose&&Me.dispose(),this.world.remove(Me),Me=null},clear:async function(Me=null,it=!1){return new Promise((ri,Mi)=>{let si=[];this.world.children.forEach(function(Ze){si.push(Ze)});for(let Ze=0;Ze<si.length;Ze++){let ze=si[Ze];(ze.layer===Me||!Me)&&this.remove(ze)}it&&this.objectsCache.forEach(Ze=>{Ze.promise.then(ze=>{ze.dispose(),ze=null})}),ri("clear")})},removeLayer:function(Me){this.clear(Me,!0).then(()=>{this.map.removeLayer(Me)})},getSunPosition:function(Me,it){return J.getPosition(Me||Date.now(),it[1],it[0])},getSunTimes:function(Me,it){return J.getTimes(Me,it[1],it[0],it[2]?it[2]:0)},setBuildingShadows:function(Me){if(this.map.getLayer(Me.buildingsLayerId)){let it=new xt(Me,this);this.map.addLayer(it,Me.buildingsLayerId)}else console.warn("The layer '"+Me.buildingsLayerId+"' does not exist in the map.")},setSunlight:function(Me=new Date,it){if(!this.lights.dirLight||!this.options.realSunlight){console.warn("To use setSunlight it's required to set realSunlight : true in Threebox initial options.");return}var ri=new Date(Me.getTime());if(it?it.lng&&it.lat?this.mapCenter=it:this.mapCenter={lng:it[0],lat:it[1]}:this.mapCenter=this.map.getCenter(),this.lightDateTime&&this.lightDateTime.getTime()===ri.getTime()&&this.lightLng===this.mapCenter.lng&&this.lightLat===this.mapCenter.lat)return;this.lightDateTime=ri,this.lightLng=this.mapCenter.lng,this.lightLat=this.mapCenter.lat,this.sunPosition=this.getSunPosition(ri,[this.mapCenter.lng,this.mapCenter.lat]);let Mi=this.sunPosition.altitude,si=Math.PI+this.sunPosition.azimuth,Ze=O.WORLD_SIZE/2,ze=Math.sin(Mi),Kt=Math.cos(Mi),ji=Math.cos(si)*Kt,oi=Math.sin(si)*Kt;this.lights.dirLight.position.set(oi,ji,ze),this.lights.dirLight.position.multiplyScalar(Ze),this.lights.dirLight.intensity=Math.max(ze,0),this.lights.hemiLight.intensity=Math.max(ze*1,.1),this.lights.dirLight.updateMatrixWorld(),this.updateLightHelper(),this.map.loaded()&&(this.updateSunGround(this.sunPosition),this.map.setLight({anchor:"map",position:[3,180+this.sunPosition.azimuth*180/Math.PI,90-this.sunPosition.altitude*180/Math.PI],intensity:Math.cos(this.sunPosition.altitude),color:`hsl(40, ${50*Math.cos(this.sunPosition.altitude)}%, ${Math.max(20,20+96*Math.sin(this.sunPosition.altitude))}%)`},{duration:0}),this.sky&&this.updateSunSky(this.getSunSky(ri,this.sunPosition)))},getSunSky:function(Me,it){if(!it){var ri=this.map.getCenter();it=this.getSunPosition(Me||Date.now(),[ri.lng,ri.lat])}var Mi=180+it.azimuth*180/Math.PI,si=90-it.altitude*180/Math.PI;return[Mi,si]},updateSunSky:function(Me){this.sky&&this.map.setPaintProperty(this.skyLayerName,"sky-atmosphere-sun",Me)},updateSunGround:function(Me){this.terrainLayerName!=""&&this.map.setPaintProperty(this.terrainLayerName,"raster-opacity",Math.max(Math.min(1,Me.altitude*4),.25))},updateLightHelper:function(){this.lights.dirLightHelper&&(this.lights.dirLightHelper.position.setFromMatrixPosition(this.lights.dirLight.matrixWorld),this.lights.dirLightHelper.updateMatrix(),this.lights.dirLightHelper.update())},dispose:async function(){return console.log(this.memory()),new Promise(Me=>{Me(this.clear(null,!0).then(it=>(this.map.remove(),this.map={},this.scene.remove(this.world),this.world.children=[],this.world=null,this.objectsCache.clear(),this.labelRenderer.dispose(),console.log(this.memory()),this.renderer.dispose(),it)))})},defaultLights:function(){this.lights.ambientLight=new g.AmbientLight(new g.Color("hsl(0, 0%, 100%)"),.75),this.scene.add(this.lights.ambientLight),this.lights.dirLightBack=new g.DirectionalLight(new g.Color("hsl(0, 0%, 100%)"),.25),this.lights.dirLightBack.position.set(30,100,100),this.scene.add(this.lights.dirLightBack),this.lights.dirLight=new g.DirectionalLight(new g.Color("hsl(0, 0%, 100%)"),.25),this.lights.dirLight.position.set(-30,100,-100),this.scene.add(this.lights.dirLight)},realSunlight:function(Me=!1){this.renderer.shadowMap.enabled=!0,this.lights.dirLight=new g.DirectionalLight(16777215,1),this.scene.add(this.lights.dirLight),Me&&(this.lights.dirLightHelper=new g.DirectionalLightHelper(this.lights.dirLight,5),this.scene.add(this.lights.dirLightHelper));let it=1e3,ri=2,Mi=8192;this.lights.dirLight.castShadow=!0,this.lights.dirLight.shadow.radius=ri,this.lights.dirLight.shadow.mapSize.width=Mi,this.lights.dirLight.shadow.mapSize.height=Mi,this.lights.dirLight.shadow.camera.top=this.lights.dirLight.shadow.camera.right=it,this.lights.dirLight.shadow.camera.bottom=this.lights.dirLight.shadow.camera.left=-it,this.lights.dirLight.shadow.camera.near=1,this.lights.dirLight.shadow.camera.visible=!0,this.lights.dirLight.shadow.camera.far=4e8,this.lights.hemiLight=new g.HemisphereLight(new g.Color(16777215),new g.Color(16777215),.6),this.lights.hemiLight.color.setHSL(.661,.96,.12),this.lights.hemiLight.groundColor.setHSL(.11,.96,.14),this.lights.hemiLight.position.set(0,0,50),this.scene.add(this.lights.hemiLight),this.setSunlight(),this.map.once("idle",()=>{this.setSunlight(),this.repaint()})},setDefaultView:function(Me,it){Me.bbox=(Me.bbox||Me.bbox==null)&&it.enableSelectingObjects,Me.tooltip=(Me.tooltip||Me.tooltip==null)&&it.enableTooltips,Me.mapScale=this.map.transform.scale},memory:function(){return this.renderer.info.memory},programs:function(){return this.renderer.info.programs.length},version:"2.2.7"};var Fi={defaultLights:!1,realSunlight:!1,realSunlightHelper:!1,passiveRendering:!0,preserveDrawingBuffer:!1,enableSelectingFeatures:!1,enableSelectingObjects:!1,enableDraggingObjects:!1,enableRotatingObjects:!1,enableTooltips:!1,enableHelpTooltips:!1,multiLayer:!1,orthographic:!1,fov:O.FOV_DEGREES,sky:!1,terrain:!1};k.exports=fi})(um);(function(k,H){k.exports={Threebox:um.exports,THREE:La.exports}})(Yu);var r4={exports:{}};(function(k,H){(function(g,L){k.exports=L()})(P2,function(){for(var g=function(z,ne,fe){return ne===void 0&&(ne=0),fe===void 0&&(fe=1),z<ne?ne:z>fe?fe:z},L=g,G=function(z){z._clipped=!1,z._unclipped=z.slice(0);for(var ne=0;ne<=3;ne++)ne<3?((z[ne]<0||z[ne]>255)&&(z._clipped=!0),z[ne]=L(z[ne],0,255)):ne===3&&(z[ne]=L(z[ne],0,1));return z},J={},O=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];O<a.length;O+=1){var j=a[O];J["[object "+j+"]"]=j.toLowerCase()}var Z=function(z){return J[Object.prototype.toString.call(z)]||"object"},ye=Z,me=function(z,ne){return ne===void 0&&(ne=null),z.length>=3?Array.prototype.slice.call(z):ye(z[0])=="object"&&ne?ne.split("").filter(function(fe){return z[0][fe]!==void 0}).map(function(fe){return z[0][fe]}):z[0]},rt=Z,ht=function(z){if(z.length<2)return null;var ne=z.length-1;return rt(z[ne])=="string"?z[ne].toLowerCase():null},Ht=Math.PI,Se={clip_rgb:G,limit:g,type:Z,unpack:me,last:ht,PI:Ht,TWOPI:Ht*2,PITHIRD:Ht/3,DEG2RAD:Ht/180,RAD2DEG:180/Ht},Be={format:{},autodetect:[]},Gt=Se.last,xt=Se.clip_rgb,fi=Se.type,Fi=Be,Me=function(){for(var ne=[],fe=arguments.length;fe--;)ne[fe]=arguments[fe];var qe=this;if(fi(ne[0])==="object"&&ne[0].constructor&&ne[0].constructor===this.constructor)return ne[0];var St=Gt(ne),Mt=!1;if(!St){Mt=!0,Fi.sorted||(Fi.autodetect=Fi.autodetect.sort(function(Ji,Gn){return Gn.p-Ji.p}),Fi.sorted=!0);for(var At=0,Jt=Fi.autodetect;At<Jt.length;At+=1){var Zt=Jt[At];if(St=Zt.test.apply(Zt,ne),St)break}}if(Fi.format[St]){var Oi=Fi.format[St].apply(null,Mt?ne:ne.slice(0,-1));qe._rgb=xt(Oi)}else throw new Error("unknown format: "+ne);qe._rgb.length===3&&qe._rgb.push(1)};Me.prototype.toString=function(){return fi(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var it=Me,ri=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(ri.Color,[null].concat(z)))};ri.Color=it,ri.version="2.4.2";var Mi=ri,si=Se.unpack,Ze=Math.max,ze=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=si(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2];qe=qe/255,St=St/255,Mt=Mt/255;var At=1-Ze(qe,Ze(St,Mt)),Jt=At<1?1/(1-At):0,Zt=(1-qe-At)*Jt,Oi=(1-St-At)*Jt,Ji=(1-Mt-At)*Jt;return[Zt,Oi,Ji,At]},Kt=ze,ji=Se.unpack,oi=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=ji(z,"cmyk");var fe=z[0],qe=z[1],St=z[2],Mt=z[3],At=z.length>4?z[4]:1;return Mt===1?[0,0,0,At]:[fe>=1?0:255*(1-fe)*(1-Mt),qe>=1?0:255*(1-qe)*(1-Mt),St>=1?0:255*(1-St)*(1-Mt),At]},Y=oi,ce=Mi,de=it,be=Be,xe=Se.unpack,nt=Se.type,dt=Kt;de.prototype.cmyk=function(){return dt(this._rgb)},ce.cmyk=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(de,[null].concat(z,["cmyk"])))},be.format.cmyk=Y,be.autodetect.push({p:2,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=xe(z,"cmyk"),nt(z)==="array"&&z.length===4)return"cmyk"}});var yt=Se.unpack,Vt=Se.last,mt=function(z){return Math.round(z*100)/100},Ot=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=yt(z,"hsla"),qe=Vt(z)||"lsa";return fe[0]=mt(fe[0]||0),fe[1]=mt(fe[1]*100)+"%",fe[2]=mt(fe[2]*100)+"%",qe==="hsla"||fe.length>3&&fe[3]<1?(fe[3]=fe.length>3?fe[3]:1,qe="hsla"):fe.length=3,qe+"("+fe.join(",")+")"},Yi=Ot,Gi=Se.unpack,an=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=Gi(z,"rgba");var fe=z[0],qe=z[1],St=z[2];fe/=255,qe/=255,St/=255;var Mt=Math.min(fe,qe,St),At=Math.max(fe,qe,St),Jt=(At+Mt)/2,Zt,Oi;return At===Mt?(Zt=0,Oi=Number.NaN):Zt=Jt<.5?(At-Mt)/(At+Mt):(At-Mt)/(2-At-Mt),fe==At?Oi=(qe-St)/(At-Mt):qe==At?Oi=2+(St-fe)/(At-Mt):St==At&&(Oi=4+(fe-qe)/(At-Mt)),Oi*=60,Oi<0&&(Oi+=360),z.length>3&&z[3]!==void 0?[Oi,Zt,Jt,z[3]]:[Oi,Zt,Jt]},sr=an,Er=Se.unpack,Ir=Se.last,_r=Yi,Ar=sr,Wn=Math.round,Li=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=Er(z,"rgba"),qe=Ir(z)||"rgb";return qe.substr(0,3)=="hsl"?_r(Ar(fe),qe):(fe[0]=Wn(fe[0]),fe[1]=Wn(fe[1]),fe[2]=Wn(fe[2]),(qe==="rgba"||fe.length>3&&fe[3]<1)&&(fe[3]=fe.length>3?fe[3]:1,qe="rgba"),qe+"("+fe.slice(0,qe==="rgb"?3:4).join(",")+")")},Ie=Li,Ne=Se.unpack,st=Math.round,Je=function(){for(var z,ne=[],fe=arguments.length;fe--;)ne[fe]=arguments[fe];ne=Ne(ne,"hsl");var qe=ne[0],St=ne[1],Mt=ne[2],At,Jt,Zt;if(St===0)At=Jt=Zt=Mt*255;else{var Oi=[0,0,0],Ji=[0,0,0],Gn=Mt<.5?Mt*(1+St):Mt+St-Mt*St,un=2*Mt-Gn,Kn=qe/360;Oi[0]=Kn+1/3,Oi[1]=Kn,Oi[2]=Kn-1/3;for(var $n=0;$n<3;$n++)Oi[$n]<0&&(Oi[$n]+=1),Oi[$n]>1&&(Oi[$n]-=1),6*Oi[$n]<1?Ji[$n]=un+(Gn-un)*6*Oi[$n]:2*Oi[$n]<1?Ji[$n]=Gn:3*Oi[$n]<2?Ji[$n]=un+(Gn-un)*(2/3-Oi[$n])*6:Ji[$n]=un;z=[st(Ji[0]*255),st(Ji[1]*255),st(Ji[2]*255)],At=z[0],Jt=z[1],Zt=z[2]}return ne.length>3?[At,Jt,Zt,ne[3]]:[At,Jt,Zt,1]},ot=Je,Tt=ot,Pt=Be,bt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ii=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ui=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,zi=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Mn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Hn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,zn=Math.round,Ln=function(z){z=z.toLowerCase().trim();var ne;if(Pt.format.named)try{return Pt.format.named(z)}catch{}if(ne=z.match(bt)){for(var fe=ne.slice(1,4),qe=0;qe<3;qe++)fe[qe]=+fe[qe];return fe[3]=1,fe}if(ne=z.match(ii)){for(var St=ne.slice(1,5),Mt=0;Mt<4;Mt++)St[Mt]=+St[Mt];return St}if(ne=z.match(Ui)){for(var At=ne.slice(1,4),Jt=0;Jt<3;Jt++)At[Jt]=zn(At[Jt]*2.55);return At[3]=1,At}if(ne=z.match(zi)){for(var Zt=ne.slice(1,5),Oi=0;Oi<3;Oi++)Zt[Oi]=zn(Zt[Oi]*2.55);return Zt[3]=+Zt[3],Zt}if(ne=z.match(Mn)){var Ji=ne.slice(1,4);Ji[1]*=.01,Ji[2]*=.01;var Gn=Tt(Ji);return Gn[3]=1,Gn}if(ne=z.match(Hn)){var un=ne.slice(1,4);un[1]*=.01,un[2]*=.01;var Kn=Tt(un);return Kn[3]=+ne[4],Kn}};Ln.test=function(z){return bt.test(z)||ii.test(z)||Ui.test(z)||zi.test(z)||Mn.test(z)||Hn.test(z)};var In=Ln,tr=Mi,ss=it,Or=Be,_o=Se.type,fo=Ie,Vi=In;ss.prototype.css=function(z){return fo(this._rgb,z)},tr.css=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(ss,[null].concat(z,["css"])))},Or.format.css=Vi,Or.autodetect.push({p:5,test:function(z){for(var ne=[],fe=arguments.length-1;fe-- >0;)ne[fe]=arguments[fe+1];if(!ne.length&&_o(z)==="string"&&Vi.test(z))return"css"}});var Mr=it,bs=Mi,Ks=Be,yo=Se.unpack;Ks.format.gl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=yo(z,"rgba");return fe[0]*=255,fe[1]*=255,fe[2]*=255,fe},bs.gl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(Mr,[null].concat(z,["gl"])))},Mr.prototype.gl=function(){var z=this._rgb;return[z[0]/255,z[1]/255,z[2]/255,z[3]]};var es=Se.unpack,Ns=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=es(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2],At=Math.min(qe,St,Mt),Jt=Math.max(qe,St,Mt),Zt=Jt-At,Oi=Zt*100/255,Ji=At/(255-Zt)*100,Gn;return Zt===0?Gn=Number.NaN:(qe===Jt&&(Gn=(St-Mt)/Zt),St===Jt&&(Gn=2+(Mt-qe)/Zt),Mt===Jt&&(Gn=4+(qe-St)/Zt),Gn*=60,Gn<0&&(Gn+=360)),[Gn,Oi,Ji]},dr=Ns,Rs=Se.unpack,$s=Math.floor,ro=function(){for(var z,ne,fe,qe,St,Mt,At=[],Jt=arguments.length;Jt--;)At[Jt]=arguments[Jt];At=Rs(At,"hcg");var Zt=At[0],Oi=At[1],Ji=At[2],Gn,un,Kn;Ji=Ji*255;var $n=Oi*255;if(Oi===0)Gn=un=Kn=Ji;else{Zt===360&&(Zt=0),Zt>360&&(Zt-=360),Zt<0&&(Zt+=360),Zt/=60;var Fr=$s(Zt),Lr=Zt-Fr,ds=Ji*(1-Oi),Ps=ds+$n*(1-Lr),Bs=ds+$n*Lr,Lo=ds+$n;switch(Fr){case 0:z=[Lo,Bs,ds],Gn=z[0],un=z[1],Kn=z[2];break;case 1:ne=[Ps,Lo,ds],Gn=ne[0],un=ne[1],Kn=ne[2];break;case 2:fe=[ds,Lo,Bs],Gn=fe[0],un=fe[1],Kn=fe[2];break;case 3:qe=[ds,Ps,Lo],Gn=qe[0],un=qe[1],Kn=qe[2];break;case 4:St=[Bs,ds,Lo],Gn=St[0],un=St[1],Kn=St[2];break;case 5:Mt=[Lo,ds,Ps],Gn=Mt[0],un=Mt[1],Kn=Mt[2];break}}return[Gn,un,Kn,At.length>3?At[3]:1]},vs=ro,Ue=Se.unpack,Fe=Se.type,oe=Mi,he=it,De=Be,$e=dr;he.prototype.hcg=function(){return $e(this._rgb)},oe.hcg=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(he,[null].concat(z,["hcg"])))},De.format.hcg=vs,De.autodetect.push({p:1,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=Ue(z,"hcg"),Fe(z)==="array"&&z.length===3)return"hcg"}});var ft=Se.unpack,Dt=Se.last,It=Math.round,vt=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=ft(z,"rgba"),qe=fe[0],St=fe[1],Mt=fe[2],At=fe[3],Jt=Dt(z)||"auto";At===void 0&&(At=1),Jt==="auto"&&(Jt=At<1?"rgba":"rgb"),qe=It(qe),St=It(St),Mt=It(Mt);var Zt=qe<<16|St<<8|Mt,Oi="000000"+Zt.toString(16);Oi=Oi.substr(Oi.length-6);var Ji="0"+It(At*255).toString(16);switch(Ji=Ji.substr(Ji.length-2),Jt.toLowerCase()){case"rgba":return"#"+Oi+Ji;case"argb":return"#"+Ji+Oi;default:return"#"+Oi}},Rt=vt,vi=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,on=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Di=function(z){if(z.match(vi)){(z.length===4||z.length===7)&&(z=z.substr(1)),z.length===3&&(z=z.split(""),z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]);var ne=parseInt(z,16),fe=ne>>16,qe=ne>>8&255,St=ne&255;return[fe,qe,St,1]}if(z.match(on)){(z.length===5||z.length===9)&&(z=z.substr(1)),z.length===4&&(z=z.split(""),z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]);var Mt=parseInt(z,16),At=Mt>>24&255,Jt=Mt>>16&255,Zt=Mt>>8&255,Oi=Math.round((Mt&255)/255*100)/100;return[At,Jt,Zt,Oi]}throw new Error("unknown hex color: "+z)},Vn=Di,Jn=Mi,Dn=it,ir=Se.type,Cr=Be,Br=Rt;Dn.prototype.hex=function(z){return Br(this._rgb,z)},Jn.hex=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(Dn,[null].concat(z,["hex"])))},Cr.format.hex=Vn,Cr.autodetect.push({p:4,test:function(z){for(var ne=[],fe=arguments.length-1;fe-- >0;)ne[fe]=arguments[fe+1];if(!ne.length&&ir(z)==="string"&&[3,4,5,6,7,8,9].indexOf(z.length)>=0)return"hex"}});var On=Se.unpack,$r=Se.TWOPI,Gr=Math.min,us=Math.sqrt,Ao=Math.acos,Hs=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=On(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2];qe/=255,St/=255,Mt/=255;var At,Jt=Gr(qe,St,Mt),Zt=(qe+St+Mt)/3,Oi=Zt>0?1-Jt/Zt:0;return Oi===0?At=NaN:(At=(qe-St+(qe-Mt))/2,At/=us((qe-St)*(qe-St)+(qe-Mt)*(St-Mt)),At=Ao(At),Mt>St&&(At=$r-At),At/=$r),[At*360,Oi,Zt]},ui=Hs,jo=Se.unpack,Ss=Se.limit,uo=Se.TWOPI,ia=Se.PITHIRD,Tn=Math.cos,bo=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=jo(z,"hsi");var fe=z[0],qe=z[1],St=z[2],Mt,At,Jt;return isNaN(fe)&&(fe=0),isNaN(qe)&&(qe=0),fe>360&&(fe-=360),fe<0&&(fe+=360),fe/=360,fe<1/3?(Jt=(1-qe)/3,Mt=(1+qe*Tn(uo*fe)/Tn(ia-uo*fe))/3,At=1-(Jt+Mt)):fe<2/3?(fe-=1/3,Mt=(1-qe)/3,At=(1+qe*Tn(uo*fe)/Tn(ia-uo*fe))/3,Jt=1-(Mt+At)):(fe-=2/3,At=(1-qe)/3,Jt=(1+qe*Tn(uo*fe)/Tn(ia-uo*fe))/3,Mt=1-(At+Jt)),Mt=Ss(St*Mt*3),At=Ss(St*At*3),Jt=Ss(St*Jt*3),[Mt*255,At*255,Jt*255,z.length>3?z[3]:1]},vo=bo,Fs=Se.unpack,pn=Se.type,br=Mi,xr=it,Es=Be,Da=ui;xr.prototype.hsi=function(){return Da(this._rgb)},br.hsi=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(xr,[null].concat(z,["hsi"])))},Es.format.hsi=vo,Es.autodetect.push({p:2,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=Fs(z,"hsi"),pn(z)==="array"&&z.length===3)return"hsi"}});var Pr=Se.unpack,na=Se.type,ma=Mi,xs=it,Zs=Be,cs=sr;xs.prototype.hsl=function(){return cs(this._rgb)},ma.hsl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(xs,[null].concat(z,["hsl"])))},Zs.format.hsl=ot,Zs.autodetect.push({p:2,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=Pr(z,"hsl"),na(z)==="array"&&z.length===3)return"hsl"}});var ae=Se.unpack,se=Math.min,ge=Math.max,Ye=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=ae(z,"rgb");var fe=z[0],qe=z[1],St=z[2],Mt=se(fe,qe,St),At=ge(fe,qe,St),Jt=At-Mt,Zt,Oi,Ji;return Ji=At/255,At===0?(Zt=Number.NaN,Oi=0):(Oi=Jt/At,fe===At&&(Zt=(qe-St)/Jt),qe===At&&(Zt=2+(St-fe)/Jt),St===At&&(Zt=4+(fe-qe)/Jt),Zt*=60,Zt<0&&(Zt+=360)),[Zt,Oi,Ji]},Qt=Ye,Ti=Se.unpack,Wt=Math.floor,Ni=function(){for(var z,ne,fe,qe,St,Mt,At=[],Jt=arguments.length;Jt--;)At[Jt]=arguments[Jt];At=Ti(At,"hsv");var Zt=At[0],Oi=At[1],Ji=At[2],Gn,un,Kn;if(Ji*=255,Oi===0)Gn=un=Kn=Ji;else{Zt===360&&(Zt=0),Zt>360&&(Zt-=360),Zt<0&&(Zt+=360),Zt/=60;var $n=Wt(Zt),Fr=Zt-$n,Lr=Ji*(1-Oi),ds=Ji*(1-Oi*Fr),Ps=Ji*(1-Oi*(1-Fr));switch($n){case 0:z=[Ji,Ps,Lr],Gn=z[0],un=z[1],Kn=z[2];break;case 1:ne=[ds,Ji,Lr],Gn=ne[0],un=ne[1],Kn=ne[2];break;case 2:fe=[Lr,Ji,Ps],Gn=fe[0],un=fe[1],Kn=fe[2];break;case 3:qe=[Lr,ds,Ji],Gn=qe[0],un=qe[1],Kn=qe[2];break;case 4:St=[Ps,Lr,Ji],Gn=St[0],un=St[1],Kn=St[2];break;case 5:Mt=[Ji,Lr,ds],Gn=Mt[0],un=Mt[1],Kn=Mt[2];break}}return[Gn,un,Kn,At.length>3?At[3]:1]},te=Ni,Q=Se.unpack,le=Se.type,Ae=Mi,Te=it,wt=Be,Bt=Qt;Te.prototype.hsv=function(){return Bt(this._rgb)},Ae.hsv=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(Te,[null].concat(z,["hsv"])))},wt.format.hsv=te,wt.autodetect.push({p:2,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=Q(z,"hsv"),le(z)==="array"&&z.length===3)return"hsv"}});var di={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},qi=di,_n=Se.unpack,mi=Math.pow,gi=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=_n(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2],At=rn(qe,St,Mt),Jt=At[0],Zt=At[1],Oi=At[2],Ji=116*Zt-16;return[Ji<0?0:Ji,500*(Jt-Zt),200*(Zt-Oi)]},vn=function(z){return(z/=255)<=.04045?z/12.92:mi((z+.055)/1.055,2.4)},Ii=function(z){return z>qi.t3?mi(z,1/3):z/qi.t2+qi.t0},rn=function(z,ne,fe){z=vn(z),ne=vn(ne),fe=vn(fe);var qe=Ii((.4124564*z+.3575761*ne+.1804375*fe)/qi.Xn),St=Ii((.2126729*z+.7151522*ne+.072175*fe)/qi.Yn),Mt=Ii((.0193339*z+.119192*ne+.9503041*fe)/qi.Zn);return[qe,St,Mt]},Ci=gi,wn=di,Bn=Se.unpack,nr=Math.pow,rr=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=Bn(z,"lab");var fe=z[0],qe=z[1],St=z[2],Mt,At,Jt,Zt,Oi,Ji;return At=(fe+16)/116,Mt=isNaN(qe)?At:At+qe/500,Jt=isNaN(St)?At:At-St/200,At=wn.Yn*Nr(At),Mt=wn.Xn*Nr(Mt),Jt=wn.Zn*Nr(Jt),Zt=Rr(3.2404542*Mt-1.5371385*At-.4985314*Jt),Oi=Rr(-.969266*Mt+1.8760108*At+.041556*Jt),Ji=Rr(.0556434*Mt-.2040259*At+1.0572252*Jt),[Zt,Oi,Ji,z.length>3?z[3]:1]},Rr=function(z){return 255*(z<=.00304?12.92*z:1.055*nr(z,1/2.4)-.055)},Nr=function(z){return z>wn.t1?z*z*z:wn.t2*(z-wn.t0)},Ki=rr,ls=Se.unpack,pr=Se.type,Os=Mi,or=it,So=Be,Ms=Ci;or.prototype.lab=function(){return Ms(this._rgb)},Os.lab=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(or,[null].concat(z,["lab"])))},So.format.lab=Ki,So.autodetect.push({p:2,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=ls(z,"lab"),pr(z)==="array"&&z.length===3)return"lab"}});var xo=Se.unpack,Yo=Se.RAD2DEG,qo=Math.sqrt,Eo=Math.atan2,Qs=Math.round,C0=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=xo(z,"lab"),qe=fe[0],St=fe[1],Mt=fe[2],At=qo(St*St+Mt*Mt),Jt=(Eo(Mt,St)*Yo+360)%360;return Qs(At*1e4)===0&&(Jt=Number.NaN),[qe,At,Jt]},Fn=C0,fa=Se.unpack,$0=Ci,Ql=Fn,ga=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=fa(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2],At=$0(qe,St,Mt),Jt=At[0],Zt=At[1],Oi=At[2];return Ql(Jt,Zt,Oi)},Z0=ga,Mo=Se.unpack,os=Se.DEG2RAD,X0=Math.sin,Bo=Math.cos,K0=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=Mo(z,"lch"),qe=fe[0],St=fe[1],Mt=fe[2];return isNaN(Mt)&&(Mt=0),Mt=Mt*os,[qe,Bo(Mt)*St,X0(Mt)*St]},eo=K0,mr=Se.unpack,bl=eo,s0=Ki,e_=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=mr(z,"lch");var fe=z[0],qe=z[1],St=z[2],Mt=bl(fe,qe,St),At=Mt[0],Jt=Mt[1],Zt=Mt[2],Oi=s0(At,Jt,Zt),Ji=Oi[0],Gn=Oi[1],un=Oi[2];return[Ji,Gn,un,z.length>3?z[3]:1]},Ra=e_,ua=Se.unpack,Ta=Ra,vl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=ua(z,"hcl").reverse();return Ta.apply(void 0,fe)},Q0=vl,Sl=Se.unpack,Vr=Se.type,P0=Mi,o0=it,el=Be,tl=Z0;o0.prototype.lch=function(){return tl(this._rgb)},o0.prototype.hcl=function(){return tl(this._rgb).reverse()},P0.lch=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(o0,[null].concat(z,["lch"])))},P0.hcl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(o0,[null].concat(z,["hcl"])))},el.format.lch=Ra,el.format.hcl=Q0,["lch","hcl"].forEach(function(z){return el.autodetect.push({p:2,test:function(){for(var ne=[],fe=arguments.length;fe--;)ne[fe]=arguments[fe];if(ne=Sl(ne,z),Vr(ne)==="array"&&ne.length===3)return z}})});var il={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},t_=il,i_=it,co=Be,nl=Se.type,$o=t_,N0=Vn,Io=Rt;i_.prototype.name=function(){for(var z=Io(this._rgb,"rgb"),ne=0,fe=Object.keys($o);ne<fe.length;ne+=1){var qe=fe[ne];if($o[qe]===z)return qe.toLowerCase()}return z},co.format.named=function(z){if(z=z.toLowerCase(),$o[z])return N0($o[z]);throw new Error("unknown color name: "+z)},co.autodetect.push({p:5,test:function(z){for(var ne=[],fe=arguments.length-1;fe-- >0;)ne[fe]=arguments[fe+1];if(!ne.length&&nl(z)==="string"&&$o[z.toLowerCase()])return"named"}});var su=Se.unpack,t0=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=su(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2];return(qe<<16)+(St<<8)+Mt},n_=t0,ao=Se.type,Va=function(z){if(ao(z)=="number"&&z>=0&&z<=16777215){var ne=z>>16,fe=z>>8&255,qe=z&255;return[ne,fe,qe,1]}throw new Error("unknown num color: "+z)},r_=Va,a0=Mi,rl=it,ya=Be,v_=Se.type,ou=n_;rl.prototype.num=function(){return ou(this._rgb)},a0.num=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(rl,[null].concat(z,["num"])))},ya.format.num=r_,ya.autodetect.push({p:5,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z.length===1&&v_(z[0])==="number"&&z[0]>=0&&z[0]<=16777215)return"num"}});var Aa=Mi,l0=it,sl=Be,ol=Se.unpack,xl=Se.type,au=Math.round;l0.prototype.rgb=function(z){return z===void 0&&(z=!0),z===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(au)},l0.prototype.rgba=function(z){return z===void 0&&(z=!0),this._rgb.slice(0,4).map(function(ne,fe){return fe<3?z===!1?ne:au(ne):ne})},Aa.rgb=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(l0,[null].concat(z,["rgb"])))},sl.format.rgb=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=ol(z,"rgba");return fe[3]===void 0&&(fe[3]=1),fe},sl.autodetect.push({p:3,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=ol(z,"rgba"),xl(z)==="array"&&(z.length===3||z.length===4&&xl(z[3])=="number"&&z[3]>=0&&z[3]<=1))return"rgb"}});var ba=Math.log,Zr=function(z){var ne=z/100,fe,qe,St;return ne<66?(fe=255,qe=ne<6?0:-155.25485562709179-.44596950469579133*(qe=ne-2)+104.49216199393888*ba(qe),St=ne<20?0:-254.76935184120902+.8274096064007395*(St=ne-10)+115.67994401066147*ba(St)):(fe=351.97690566805693+.114206453784165*(fe=ne-55)-40.25366309332127*ba(fe),qe=325.4494125711974+.07943456536662342*(qe=ne-50)-28.0852963507957*ba(qe),St=255),[fe,qe,St,1]},Rn=Zr,Ja=Rn,Cl=Se.unpack,Zu=Math.round,s_=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];for(var fe=Cl(z,"rgb"),qe=fe[0],St=fe[2],Mt=1e3,At=4e4,Jt=.4,Zt;At-Mt>Jt;){Zt=(At+Mt)*.5;var Oi=Ja(Zt);Oi[2]/Oi[0]>=St/qe?At=Zt:Mt=Zt}return Zu(Zt)},Bc=s_,S_=Mi,o_=it,va=Be,al=Bc;o_.prototype.temp=o_.prototype.kelvin=o_.prototype.temperature=function(){return al(this._rgb)},S_.temp=S_.kelvin=S_.temperature=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(o_,[null].concat(z,["temp"])))},va.format.temp=va.format.kelvin=va.format.temperature=Rn;var ja=Se.unpack,Pl=Math.cbrt,Xu=Math.pow,x_=Math.sign,i0=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=ja(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2],At=[_0(qe/255),_0(St/255),_0(Mt/255)],Jt=At[0],Zt=At[1],Oi=At[2],Ji=Pl(.4122214708*Jt+.5363325363*Zt+.0514459929*Oi),Gn=Pl(.2119034982*Jt+.6806995451*Zt+.1073969566*Oi),un=Pl(.0883024619*Jt+.2817188376*Zt+.6299787005*Oi);return[.2104542553*Ji+.793617785*Gn-.0040720468*un,1.9779984951*Ji-2.428592205*Gn+.4505937099*un,.0259040371*Ji+.7827717662*Gn-.808675766*un]},Nl=i0;function _0(z){var ne=Math.abs(z);return ne<.04045?z/12.92:(x_(z)||1)*Xu((ne+.055)/1.055,2.4)}var lu=Se.unpack,w0=Math.pow,C_=Math.sign,wl=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=lu(z,"lab");var fe=z[0],qe=z[1],St=z[2],Mt=w0(fe+.3963377774*qe+.2158037573*St,3),At=w0(fe-.1055613458*qe-.0638541728*St,3),Jt=w0(fe-.0894841775*qe-1.291485548*St,3);return[255*Ha(4.0767416621*Mt-3.3077115913*At+.2309699292*Jt),255*Ha(-1.2684380046*Mt+2.6097574011*At-.3413193965*Jt),255*Ha(-.0041960863*Mt-.7034186147*At+1.707614701*Jt),z.length>3?z[3]:1]},Go=wl;function Ha(z){var ne=Math.abs(z);return ne>.0031308?(C_(z)||1)*(1.055*w0(ne,1/2.4)-.055):z*12.92}var _u=Se.unpack,ca=Se.type,ll=Mi,E0=it,a_=Be,ts=Nl;E0.prototype.oklab=function(){return ts(this._rgb)},ll.oklab=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(E0,[null].concat(z,["oklab"])))},a_.format.oklab=Go,a_.autodetect.push({p:3,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=_u(z,"oklab"),ca(z)==="array"&&z.length===3)return"oklab"}});var El=Se.unpack,Ku=Nl,Ml=Fn,M0=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];var fe=El(z,"rgb"),qe=fe[0],St=fe[1],Mt=fe[2],At=Ku(qe,St,Mt),Jt=At[0],Zt=At[1],Oi=At[2];return Ml(Jt,Zt,Oi)},uu=M0,Qu=Se.unpack,cu=eo,hu=Go,P_=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];z=Qu(z,"lch");var fe=z[0],qe=z[1],St=z[2],Mt=cu(fe,qe,St),At=Mt[0],Jt=Mt[1],Zt=Mt[2],Oi=hu(At,Jt,Zt),Ji=Oi[0],Gn=Oi[1],un=Oi[2];return[Ji,Gn,un,z.length>3?z[3]:1]},l_=P_,I0=Se.unpack,k0=Se.type,N_=Mi,Il=it,u0=Be,kl=uu;Il.prototype.oklch=function(){return kl(this._rgb)},N_.oklch=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];return new(Function.prototype.bind.apply(Il,[null].concat(z,["oklch"])))},u0.format.oklch=l_,u0.autodetect.push({p:3,test:function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];if(z=I0(z,"oklch"),k0(z)==="array"&&z.length===3)return"oklch"}});var Sn=it,Fa=Se.type;Sn.prototype.alpha=function(z,ne){return ne===void 0&&(ne=!1),z!==void 0&&Fa(z)==="number"?ne?(this._rgb[3]=z,this):new Sn([this._rgb[0],this._rgb[1],this._rgb[2],z],"rgb"):this._rgb[3]};var Ll=it;Ll.prototype.clipped=function(){return this._rgb._clipped||!1};var c0=it,du=di;c0.prototype.darken=function(z){z===void 0&&(z=1);var ne=this,fe=ne.lab();return fe[0]-=du.Kn*z,new c0(fe,"lab").alpha(ne.alpha(),!0)},c0.prototype.brighten=function(z){return z===void 0&&(z=1),this.darken(-z)},c0.prototype.darker=c0.prototype.darken,c0.prototype.brighter=c0.prototype.brighten;var _l=it;_l.prototype.get=function(z){var ne=z.split("."),fe=ne[0],qe=ne[1],St=this[fe]();if(qe){var Mt=fe.indexOf(qe)-(fe.substr(0,2)==="ok"?2:0);if(Mt>-1)return St[Mt];throw new Error("unknown channel "+qe+" in mode "+fe)}else return St};var L0=it,__=Se.type,Ya=Math.pow,ho=1e-7,Is=20;L0.prototype.luminance=function(z){if(z!==void 0&&__(z)==="number"){if(z===0)return new L0([0,0,0,this._rgb[3]],"rgb");if(z===1)return new L0([255,255,255,this._rgb[3]],"rgb");var ne=this.luminance(),fe="rgb",qe=Is,St=function(At,Jt){var Zt=At.interpolate(Jt,.5,fe),Oi=Zt.luminance();return Math.abs(z-Oi)<ho||!qe--?Zt:Oi>z?St(At,Zt):St(Zt,Jt)},Mt=(ne>z?St(new L0([0,0,0]),this):St(this,new L0([255,255,255]))).rgb();return new L0(Mt.concat([this._rgb[3]]))}return Dl.apply(void 0,this._rgb.slice(0,3))};var Dl=function(z,ne,fe){return z=D0(z),ne=D0(ne),fe=D0(fe),.2126*z+.7152*ne+.0722*fe},D0=function(z){return z/=255,z<=.03928?z/12.92:Ya((z+.055)/1.055,2.4)},Sa={},ec=it,pu=Se.type,h0=Sa,w_=function(z,ne,fe){fe===void 0&&(fe=.5);for(var qe=[],St=arguments.length-3;St-- >0;)qe[St]=arguments[St+3];var Mt=qe[0]||"lrgb";if(!h0[Mt]&&!qe.length&&(Mt=Object.keys(h0)[0]),!h0[Mt])throw new Error("interpolation mode "+Mt+" is not defined");return pu(z)!=="object"&&(z=new ec(z)),pu(ne)!=="object"&&(ne=new ec(ne)),h0[Mt](z,ne,fe).alpha(z.alpha()+fe*(ne.alpha()-z.alpha()))},u_=it,tc=w_;u_.prototype.mix=u_.prototype.interpolate=function(z,ne){ne===void 0&&(ne=.5);for(var fe=[],qe=arguments.length-2;qe-- >0;)fe[qe]=arguments[qe+2];return tc.apply(void 0,[this,z,ne].concat(fe))};var c_=it;c_.prototype.premultiply=function(z){z===void 0&&(z=!1);var ne=this._rgb,fe=ne[3];return z?(this._rgb=[ne[0]*fe,ne[1]*fe,ne[2]*fe,fe],this):new c_([ne[0]*fe,ne[1]*fe,ne[2]*fe,fe],"rgb")};var ul=it,ic=di;ul.prototype.saturate=function(z){z===void 0&&(z=1);var ne=this,fe=ne.lch();return fe[1]+=ic.Kn*z,fe[1]<0&&(fe[1]=0),new ul(fe,"lch").alpha(ne.alpha(),!0)},ul.prototype.desaturate=function(z){return z===void 0&&(z=1),this.saturate(-z)};var E_=it,M_=Se.type;E_.prototype.set=function(z,ne,fe){fe===void 0&&(fe=!1);var qe=z.split("."),St=qe[0],Mt=qe[1],At=this[St]();if(Mt){var Jt=St.indexOf(Mt)-(St.substr(0,2)==="ok"?2:0);if(Jt>-1){if(M_(ne)=="string")switch(ne.charAt(0)){case"+":At[Jt]+=+ne;break;case"-":At[Jt]+=+ne;break;case"*":At[Jt]*=+ne.substr(1);break;case"/":At[Jt]/=+ne.substr(1);break;default:At[Jt]=+ne}else if(M_(ne)==="number")At[Jt]=ne;else throw new Error("unsupported value for Color.set");var Zt=new E_(At,St);return fe?(this._rgb=Zt._rgb,this):Zt}throw new Error("unknown channel "+Mt+" in mode "+St)}else return At};var nc=it,I_=function(z,ne,fe){var qe=z._rgb,St=ne._rgb;return new nc(qe[0]+fe*(St[0]-qe[0]),qe[1]+fe*(St[1]-qe[1]),qe[2]+fe*(St[2]-qe[2]),"rgb")};Sa.rgb=I_;var d0=it,h_=Math.sqrt,cl=Math.pow,rc=function(z,ne,fe){var qe=z._rgb,St=qe[0],Mt=qe[1],At=qe[2],Jt=ne._rgb,Zt=Jt[0],Oi=Jt[1],Ji=Jt[2];return new d0(h_(cl(St,2)*(1-fe)+cl(Zt,2)*fe),h_(cl(Mt,2)*(1-fe)+cl(Oi,2)*fe),h_(cl(At,2)*(1-fe)+cl(Ji,2)*fe),"rgb")};Sa.lrgb=rc;var sc=it,k_=function(z,ne,fe){var qe=z.lab(),St=ne.lab();return new sc(qe[0]+fe*(St[0]-qe[0]),qe[1]+fe*(St[1]-qe[1]),qe[2]+fe*(St[2]-qe[2]),"lab")};Sa.lab=k_;var mu=it,hl=function(z,ne,fe,qe){var St,Mt,At,Jt;qe==="hsl"?(At=z.hsl(),Jt=ne.hsl()):qe==="hsv"?(At=z.hsv(),Jt=ne.hsv()):qe==="hcg"?(At=z.hcg(),Jt=ne.hcg()):qe==="hsi"?(At=z.hsi(),Jt=ne.hsi()):qe==="lch"||qe==="hcl"?(qe="hcl",At=z.hcl(),Jt=ne.hcl()):qe==="oklch"&&(At=z.oklch().reverse(),Jt=ne.oklch().reverse());var Zt,Oi,Ji,Gn,un,Kn;(qe.substr(0,1)==="h"||qe==="oklch")&&(St=At,Zt=St[0],Ji=St[1],un=St[2],Mt=Jt,Oi=Mt[0],Gn=Mt[1],Kn=Mt[2]);var $n,Fr,Lr,ds;return!isNaN(Zt)&&!isNaN(Oi)?(Oi>Zt&&Oi-Zt>180?ds=Oi-(Zt+360):Oi<Zt&&Zt-Oi>180?ds=Oi+360-Zt:ds=Oi-Zt,Fr=Zt+fe*ds):isNaN(Zt)?isNaN(Oi)?Fr=Number.NaN:(Fr=Oi,(un==1||un==0)&&qe!="hsv"&&($n=Gn)):(Fr=Zt,(Kn==1||Kn==0)&&qe!="hsv"&&($n=Ji)),$n===void 0&&($n=Ji+fe*(Gn-Ji)),Lr=un+fe*(Kn-un),qe==="oklch"?new mu([Lr,$n,Fr],qe):new mu([Fr,$n,Lr],qe)},Zo=hl,oc=function(z,ne,fe){return Zo(z,ne,fe,"lch")};Sa.lch=oc,Sa.hcl=oc;var fu=it,Gc=function(z,ne,fe){var qe=z.num(),St=ne.num();return new fu(qe+fe*(St-qe),"num")};Sa.num=Gc;var Wc=hl,p0=function(z,ne,fe){return Wc(z,ne,fe,"hcg")};Sa.hcg=p0;var ac=hl,Rl=function(z,ne,fe){return ac(z,ne,fe,"hsi")};Sa.hsi=Rl;var n0=hl,L_=function(z,ne,fe){return n0(z,ne,fe,"hsl")};Sa.hsl=L_;var En=hl,lc=function(z,ne,fe){return En(z,ne,fe,"hsv")};Sa.hsv=lc;var _c=it,R0=function(z,ne,fe){var qe=z.oklab(),St=ne.oklab();return new _c(qe[0]+fe*(St[0]-qe[0]),qe[1]+fe*(St[1]-qe[1]),qe[2]+fe*(St[2]-qe[2]),"oklab")};Sa.oklab=R0;var Hl=hl,D_=function(z,ne,fe){return Hl(z,ne,fe,"oklch")};Sa.oklch=D_;var Fl=it,R_=Se.clip_rgb,d_=Math.pow,Oa=Math.sqrt,Ol=Math.PI,dl=Math.cos,pl=Math.sin,p_=Math.atan2,ml=function(z,ne,fe){ne===void 0&&(ne="lrgb"),fe===void 0&&(fe=null);var qe=z.length;fe||(fe=Array.from(new Array(qe)).map(function(){return 1}));var St=qe/fe.reduce(function(Fr,Lr){return Fr+Lr});if(fe.forEach(function(Fr,Lr){fe[Lr]*=St}),z=z.map(function(Fr){return new Fl(Fr)}),ne==="lrgb")return gu(z,fe);for(var Mt=z.shift(),At=Mt.get(ne),Jt=[],Zt=0,Oi=0,Ji=0;Ji<At.length;Ji++)if(At[Ji]=(At[Ji]||0)*fe[0],Jt.push(isNaN(At[Ji])?0:fe[0]),ne.charAt(Ji)==="h"&&!isNaN(At[Ji])){var Gn=At[Ji]/180*Ol;Zt+=dl(Gn)*fe[0],Oi+=pl(Gn)*fe[0]}var un=Mt.alpha()*fe[0];z.forEach(function(Fr,Lr){var ds=Fr.get(ne);un+=Fr.alpha()*fe[Lr+1];for(var Ps=0;Ps<At.length;Ps++)if(!isNaN(ds[Ps]))if(Jt[Ps]+=fe[Lr+1],ne.charAt(Ps)==="h"){var Bs=ds[Ps]/180*Ol;Zt+=dl(Bs)*fe[Lr+1],Oi+=pl(Bs)*fe[Lr+1]}else At[Ps]+=ds[Ps]*fe[Lr+1]});for(var Kn=0;Kn<At.length;Kn++)if(ne.charAt(Kn)==="h"){for(var $n=p_(Oi/Jt[Kn],Zt/Jt[Kn])/Ol*180;$n<0;)$n+=360;for(;$n>=360;)$n-=360;At[Kn]=$n}else At[Kn]=At[Kn]/Jt[Kn];return un/=qe,new Fl(At,ne).alpha(un>.99999?1:un,!0)},gu=function(z,ne){for(var fe=z.length,qe=[0,0,0,0],St=0;St<z.length;St++){var Mt=z[St],At=ne[St]/fe,Jt=Mt._rgb;qe[0]+=d_(Jt[0],2)*At,qe[1]+=d_(Jt[1],2)*At,qe[2]+=d_(Jt[2],2)*At,qe[3]+=Jt[3]*At}return qe[0]=Oa(qe[0]),qe[1]=Oa(qe[1]),qe[2]=Oa(qe[2]),qe[3]>.9999999&&(qe[3]=1),new Fl(R_(qe))},Ba=Mi,qa=Se.type,Tu=Math.pow,m_=function(z){var ne="rgb",fe=Ba("#ccc"),qe=0,St=[0,1],Mt=[],At=[0,0],Jt=!1,Zt=[],Oi=!1,Ji=0,Gn=1,un=!1,Kn={},$n=!0,Fr=1,Lr=function(cn){if(cn=cn||["#fff","#000"],cn&&qa(cn)==="string"&&Ba.brewer&&Ba.brewer[cn.toLowerCase()]&&(cn=Ba.brewer[cn.toLowerCase()]),qa(cn)==="array"){cn.length===1&&(cn=[cn[0],cn[0]]),cn=cn.slice(0);for(var yr=0;yr<cn.length;yr++)cn[yr]=Ba(cn[yr]);Mt.length=0;for(var jr=0;jr<cn.length;jr++)Mt.push(jr/(cn.length-1))}return so(),Zt=cn},ds=function(cn){if(Jt!=null){for(var yr=Jt.length-1,jr=0;jr<yr&&cn>=Jt[jr];)jr++;return jr-1}return 0},Ps=function(cn){return cn},Bs=function(cn){return cn},Lo=function(cn,yr){var jr,Dr;if(yr==null&&(yr=!1),isNaN(cn)||cn===null)return fe;if(yr)Dr=cn;else if(Jt&&Jt.length>2){var Uo=ds(cn);Dr=Uo/(Jt.length-2)}else Gn!==Ji?Dr=(cn-Ji)/(Gn-Ji):Dr=1;Dr=Bs(Dr),yr||(Dr=Ps(Dr)),Fr!==1&&(Dr=Tu(Dr,Fr)),Dr=At[0]+Dr*(1-At[0]-At[1]),Dr=Math.min(1,Math.max(0,Dr));var Us=Math.floor(Dr*1e4);if($n&&Kn[Us])jr=Kn[Us];else{if(qa(Zt)==="array")for(var ns=0;ns<Mt.length;ns++){var rs=Mt[ns];if(Dr<=rs){jr=Zt[ns];break}if(Dr>=rs&&ns===Mt.length-1){jr=Zt[ns];break}if(Dr>rs&&Dr<Mt[ns+1]){Dr=(Dr-rs)/(Mt[ns+1]-rs),jr=Ba.interpolate(Zt[ns],Zt[ns+1],Dr,ne);break}}else qa(Zt)==="function"&&(jr=Zt(Dr));$n&&(Kn[Us]=jr)}return jr},so=function(){return Kn={}};Lr(z);var _s=function(cn){var yr=Ba(Lo(cn));return Oi&&yr[Oi]?yr[Oi]():yr};return _s.classes=function(cn){if(cn!=null){if(qa(cn)==="array")Jt=cn,St=[cn[0],cn[cn.length-1]];else{var yr=Ba.analyze(St);cn===0?Jt=[yr.min,yr.max]:Jt=Ba.limits(yr,"e",cn)}return _s}return Jt},_s.domain=function(cn){if(!arguments.length)return St;Ji=cn[0],Gn=cn[cn.length-1],Mt=[];var yr=Zt.length;if(cn.length===yr&&Ji!==Gn)for(var jr=0,Dr=Array.from(cn);jr<Dr.length;jr+=1){var Uo=Dr[jr];Mt.push((Uo-Ji)/(Gn-Ji))}else{for(var Us=0;Us<yr;Us++)Mt.push(Us/(yr-1));if(cn.length>2){var ns=cn.map(function(ys,ms){return ms/(cn.length-1)}),rs=cn.map(function(ys){return(ys-Ji)/(Gn-Ji)});rs.every(function(ys,ms){return ns[ms]===ys})||(Bs=function(ys){if(ys<=0||ys>=1)return ys;for(var ms=0;ys>=rs[ms+1];)ms++;var zo=(ys-rs[ms])/(rs[ms+1]-rs[ms]),$a=ns[ms]+zo*(ns[ms+1]-ns[ms]);return $a})}}return St=[Ji,Gn],_s},_s.mode=function(cn){return arguments.length?(ne=cn,so(),_s):ne},_s.range=function(cn,yr){return Lr(cn),_s},_s.out=function(cn){return Oi=cn,_s},_s.spread=function(cn){return arguments.length?(qe=cn,_s):qe},_s.correctLightness=function(cn){return cn==null&&(cn=!0),un=cn,so(),un?Ps=function(yr){for(var jr=Lo(0,!0).lab()[0],Dr=Lo(1,!0).lab()[0],Uo=jr>Dr,Us=Lo(yr,!0).lab()[0],ns=jr+(Dr-jr)*yr,rs=Us-ns,ys=0,ms=1,zo=20;Math.abs(rs)>.01&&zo-- >0;)(function(){return Uo&&(rs*=-1),rs<0?(ys=yr,yr+=(ms-yr)*.5):(ms=yr,yr+=(ys-yr)*.5),Us=Lo(yr,!0).lab()[0],rs=Us-ns})();return yr}:Ps=function(yr){return yr},_s},_s.padding=function(cn){return cn!=null?(qa(cn)==="number"&&(cn=[cn,cn]),At=cn,_s):At},_s.colors=function(cn,yr){arguments.length<2&&(yr="hex");var jr=[];if(arguments.length===0)jr=Zt.slice(0);else if(cn===1)jr=[_s(.5)];else if(cn>1){var Dr=St[0],Uo=St[1]-Dr;jr=uc(0,cn,!1).map(function(ms){return _s(Dr+ms/(cn-1)*Uo)})}else{z=[];var Us=[];if(Jt&&Jt.length>2)for(var ns=1,rs=Jt.length,ys=1<=rs;ys?ns<rs:ns>rs;ys?ns++:ns--)Us.push((Jt[ns-1]+Jt[ns])*.5);else Us=St;jr=Us.map(function(ms){return _s(ms)})}return Ba[yr]&&(jr=jr.map(function(ms){return ms[yr]()})),jr},_s.cache=function(cn){return cn!=null?($n=cn,_s):$n},_s.gamma=function(cn){return cn!=null?(Fr=cn,_s):Fr},_s.nodata=function(cn){return cn!=null?(fe=Ba(cn),_s):fe},_s};function uc(z,ne,fe){for(var qe=[],St=z<ne,Mt=fe?St?ne+1:ne-1:ne,At=z;St?At<Mt:At>Mt;St?At++:At--)qe.push(At);return qe}var m0=it,cc=m_,hc=function(z){for(var ne=[1,1],fe=1;fe<z;fe++){for(var qe=[1],St=1;St<=ne.length;St++)qe[St]=(ne[St]||0)+ne[St-1];ne=qe}return ne},yu=function(z){var ne,fe,qe,St,Mt,At,Jt;if(z=z.map(function(un){return new m0(un)}),z.length===2)ne=z.map(function(un){return un.lab()}),Mt=ne[0],At=ne[1],St=function(un){var Kn=[0,1,2].map(function($n){return Mt[$n]+un*(At[$n]-Mt[$n])});return new m0(Kn,"lab")};else if(z.length===3)fe=z.map(function(un){return un.lab()}),Mt=fe[0],At=fe[1],Jt=fe[2],St=function(un){var Kn=[0,1,2].map(function($n){return(1-un)*(1-un)*Mt[$n]+2*(1-un)*un*At[$n]+un*un*Jt[$n]});return new m0(Kn,"lab")};else if(z.length===4){var Zt;qe=z.map(function(un){return un.lab()}),Mt=qe[0],At=qe[1],Jt=qe[2],Zt=qe[3],St=function(un){var Kn=[0,1,2].map(function($n){return(1-un)*(1-un)*(1-un)*Mt[$n]+3*(1-un)*(1-un)*un*At[$n]+3*(1-un)*un*un*Jt[$n]+un*un*un*Zt[$n]});return new m0(Kn,"lab")}}else if(z.length>=5){var Oi,Ji,Gn;Oi=z.map(function(un){return un.lab()}),Gn=z.length-1,Ji=hc(Gn),St=function(un){var Kn=1-un,$n=[0,1,2].map(function(Fr){return Oi.reduce(function(Lr,ds,Ps){return Lr+Ji[Ps]*Math.pow(Kn,Gn-Ps)*Math.pow(un,Ps)*ds[Fr]},0)});return new m0($n,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return St},Bl=function(z){var ne=yu(z);return ne.scale=function(){return cc(ne)},ne},d=Mi,r=function(z,ne,fe){if(!r[fe])throw new Error("unknown blend mode "+fe);return r[fe](z,ne)},c=function(z){return function(ne,fe){var qe=d(fe).rgb(),St=d(ne).rgb();return d.rgb(z(qe,St))}},f=function(z){return function(ne,fe){var qe=[];return qe[0]=z(ne[0],fe[0]),qe[1]=z(ne[1],fe[1]),qe[2]=z(ne[2],fe[2]),qe}},A=function(z){return z},S=function(z,ne){return z*ne/255},E=function(z,ne){return z>ne?ne:z},M=function(z,ne){return z>ne?z:ne},F=function(z,ne){return 255*(1-(1-z/255)*(1-ne/255))},$=function(z,ne){return ne<128?2*z*ne/255:255*(1-2*(1-z/255)*(1-ne/255))},q=function(z,ne){return 255*(1-(1-ne/255)/(z/255))},_e=function(z,ne){return z===255?255:(z=255*(ne/255)/(1-z/255),z>255?255:z)};r.normal=c(f(A)),r.multiply=c(f(S)),r.screen=c(f(F)),r.overlay=c(f($)),r.darken=c(f(E)),r.lighten=c(f(M)),r.dodge=c(f(_e)),r.burn=c(f(q));for(var ve=r,Le=Se.type,ke=Se.clip_rgb,He=Se.TWOPI,Ce=Math.pow,we=Math.sin,Ge=Math.cos,Oe=Mi,Xe=function(z,ne,fe,qe,St){z===void 0&&(z=300),ne===void 0&&(ne=-1.5),fe===void 0&&(fe=1),qe===void 0&&(qe=1),St===void 0&&(St=[0,1]);var Mt=0,At;Le(St)==="array"?At=St[1]-St[0]:(At=0,St=[St,St]);var Jt=function(Zt){var Oi=He*((z+120)/360+ne*Zt),Ji=Ce(St[0]+At*Zt,qe),Gn=Mt!==0?fe[0]+Zt*Mt:fe,un=Gn*Ji*(1-Ji)/2,Kn=Ge(Oi),$n=we(Oi),Fr=Ji+un*(-.14861*Kn+1.78277*$n),Lr=Ji+un*(-.29227*Kn-.90649*$n),ds=Ji+un*(1.97294*Kn);return Oe(ke([Fr*255,Lr*255,ds*255,1]))};return Jt.start=function(Zt){return Zt==null?z:(z=Zt,Jt)},Jt.rotations=function(Zt){return Zt==null?ne:(ne=Zt,Jt)},Jt.gamma=function(Zt){return Zt==null?qe:(qe=Zt,Jt)},Jt.hue=function(Zt){return Zt==null?fe:(fe=Zt,Le(fe)==="array"?(Mt=fe[1]-fe[0],Mt===0&&(fe=fe[1])):Mt=0,Jt)},Jt.lightness=function(Zt){return Zt==null?St:(Le(Zt)==="array"?(St=Zt,At=Zt[1]-Zt[0]):(St=[Zt,Zt],At=0),Jt)},Jt.scale=function(){return Oe.scale(Jt)},Jt.hue(fe),Jt},pt=it,_t="0123456789abcdef",Nt=Math.floor,Xt=Math.random,zt=function(){for(var z="#",ne=0;ne<6;ne++)z+=_t.charAt(Nt(Xt()*16));return new pt(z,"hex")},Lt=Z,Qi=Math.log,Et=Math.pow,bi=Math.floor,qt=Math.abs,Wi=function(z,ne){ne===void 0&&(ne=null);var fe={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Lt(z)==="object"&&(z=Object.values(z)),z.forEach(function(qe){ne&&Lt(qe)==="object"&&(qe=qe[ne]),qe!=null&&!isNaN(qe)&&(fe.values.push(qe),fe.sum+=qe,qe<fe.min&&(fe.min=qe),qe>fe.max&&(fe.max=qe),fe.count+=1)}),fe.domain=[fe.min,fe.max],fe.limits=function(qe,St){return ei(fe,qe,St)},fe},ei=function(z,ne,fe){ne===void 0&&(ne="equal"),fe===void 0&&(fe=7),Lt(z)=="array"&&(z=Wi(z));var qe=z.min,St=z.max,Mt=z.values.sort(function(go,Wa){return go-Wa});if(fe===1)return[qe,St];var At=[];if(ne.substr(0,1)==="c"&&(At.push(qe),At.push(St)),ne.substr(0,1)==="e"){At.push(qe);for(var Jt=1;Jt<fe;Jt++)At.push(qe+Jt/fe*(St-qe));At.push(St)}else if(ne.substr(0,1)==="l"){if(qe<=0)throw new Error("Logarithmic scales are only possible for values > 0");var Zt=Math.LOG10E*Qi(qe),Oi=Math.LOG10E*Qi(St);At.push(qe);for(var Ji=1;Ji<fe;Ji++)At.push(Et(10,Zt+Ji/fe*(Oi-Zt)));At.push(St)}else if(ne.substr(0,1)==="q"){At.push(qe);for(var Gn=1;Gn<fe;Gn++){var un=(Mt.length-1)*Gn/fe,Kn=bi(un);if(Kn===un)At.push(Mt[Kn]);else{var $n=un-Kn;At.push(Mt[Kn]*(1-$n)+Mt[Kn+1]*$n)}}At.push(St)}else if(ne.substr(0,1)==="k"){var Fr,Lr=Mt.length,ds=new Array(Lr),Ps=new Array(fe),Bs=!0,Lo=0,so=null;so=[],so.push(qe);for(var _s=1;_s<fe;_s++)so.push(qe+_s/fe*(St-qe));for(so.push(St);Bs;){for(var cn=0;cn<fe;cn++)Ps[cn]=0;for(var yr=0;yr<Lr;yr++)for(var jr=Mt[yr],Dr=Number.MAX_VALUE,Uo=void 0,Us=0;Us<fe;Us++){var ns=qt(so[Us]-jr);ns<Dr&&(Dr=ns,Uo=Us),Ps[Uo]++,ds[yr]=Uo}for(var rs=new Array(fe),ys=0;ys<fe;ys++)rs[ys]=null;for(var ms=0;ms<Lr;ms++)Fr=ds[ms],rs[Fr]===null?rs[Fr]=Mt[ms]:rs[Fr]+=Mt[ms];for(var zo=0;zo<fe;zo++)rs[zo]*=1/Ps[zo];Bs=!1;for(var $a=0;$a<fe;$a++)if(rs[$a]!==so[$a]){Bs=!0;break}so=rs,Lo++,Lo>200&&(Bs=!1)}for(var ra={},f0=0;f0<fe;f0++)ra[f0]=[];for(var g0=0;g0<Lr;g0++)Fr=ds[g0],ra[Fr].push(Mt[g0]);for(var da=[],Ga=0;Ga<fe;Ga++)da.push(ra[Ga][0]),da.push(ra[Ga][ra[Ga].length-1]);da=da.sort(function(go,Wa){return go-Wa}),At.push(da[0]);for(var pa=1;pa<da.length;pa+=2){var Vo=da[pa];!isNaN(Vo)&&At.indexOf(Vo)===-1&&At.push(Vo)}}return At},Pi={analyze:Wi,limits:ei},wi=it,kt=function(z,ne){z=new wi(z),ne=new wi(ne);var fe=z.luminance(),qe=ne.luminance();return fe>qe?(fe+.05)/(qe+.05):(qe+.05)/(fe+.05)},Yt=it,yn=Math.sqrt,An=Math.pow,kn=Math.min,Qn=Math.max,vr=Math.atan2,Yn=Math.abs,bn=Math.cos,as=Math.sin,Jr=Math.exp,hs=Math.PI,fs=function(z,ne,fe,qe,St){fe===void 0&&(fe=1),qe===void 0&&(qe=1),St===void 0&&(St=1);var Mt=function(Vo){return 360*Vo/(2*hs)},At=function(Vo){return 2*hs*Vo/360};z=new Yt(z),ne=new Yt(ne);var Jt=Array.from(z.lab()),Zt=Jt[0],Oi=Jt[1],Ji=Jt[2],Gn=Array.from(ne.lab()),un=Gn[0],Kn=Gn[1],$n=Gn[2],Fr=(Zt+un)/2,Lr=yn(An(Oi,2)+An(Ji,2)),ds=yn(An(Kn,2)+An($n,2)),Ps=(Lr+ds)/2,Bs=.5*(1-yn(An(Ps,7)/(An(Ps,7)+An(25,7)))),Lo=Oi*(1+Bs),so=Kn*(1+Bs),_s=yn(An(Lo,2)+An(Ji,2)),cn=yn(An(so,2)+An($n,2)),yr=(_s+cn)/2,jr=Mt(vr(Ji,Lo)),Dr=Mt(vr($n,so)),Uo=jr>=0?jr:jr+360,Us=Dr>=0?Dr:Dr+360,ns=Yn(Uo-Us)>180?(Uo+Us+360)/2:(Uo+Us)/2,rs=1-.17*bn(At(ns-30))+.24*bn(At(2*ns))+.32*bn(At(3*ns+6))-.2*bn(At(4*ns-63)),ys=Us-Uo;ys=Yn(ys)<=180?ys:Us<=Uo?ys+360:ys-360,ys=2*yn(_s*cn)*as(At(ys)/2);var ms=un-Zt,zo=cn-_s,$a=1+.015*An(Fr-50,2)/yn(20+An(Fr-50,2)),ra=1+.045*yr,f0=1+.015*yr*rs,g0=30*Jr(-An((ns-275)/25,2)),da=2*yn(An(yr,7)/(An(yr,7)+An(25,7))),Ga=-da*as(2*At(g0)),pa=yn(An(ms/(fe*$a),2)+An(zo/(qe*ra),2)+An(ys/(St*f0),2)+Ga*(zo/(qe*ra))*(ys/(St*f0)));return Qn(0,kn(100,pa))},Wo=it,ha=function(z,ne,fe){fe===void 0&&(fe="lab"),z=new Wo(z),ne=new Wo(ne);var qe=z.get(fe),St=ne.get(fe),Mt=0;for(var At in qe){var Jt=(qe[At]||0)-(St[At]||0);Mt+=Jt*Jt}return Math.sqrt(Mt)},ko=it,xa=function(){for(var z=[],ne=arguments.length;ne--;)z[ne]=arguments[ne];try{return new(Function.prototype.bind.apply(ko,[null].concat(z))),!0}catch{return!1}},gs=Mi,Ts=m_,is={cool:function(){return Ts([gs.hsl(180,1,.9),gs.hsl(250,.7,.4)])},hot:function(){return Ts(["#000","#f00","#ff0","#fff"]).mode("rgb")}},js={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Co=0,Cs=Object.keys(js);Co<Cs.length;Co+=1){var Xo=Cs[Co];js[Xo.toLowerCase()]=js[Xo]}var Gl=js,ks=Mi;ks.average=ml,ks.bezier=Bl,ks.blend=ve,ks.cubehelix=Xe,ks.mix=ks.interpolate=w_,ks.random=zt,ks.scale=m_,ks.analyze=Pi.analyze,ks.contrast=kt,ks.deltaE=fs,ks.distance=ha,ks.limits=Pi.limits,ks.valid=xa,ks.scales=is,ks.colors=t_,ks.brewer=Gl;var Po=ks;return Po})})(r4);const v1=(k,H)=>{k.getLayer(H)&&k.removeLayer(H),k.getSource(H)&&k.removeSource(H)},Em=k=>{const H=k.getStyle().layers;for(const g of H)if(g.type==="symbol")return g.id;return null},s4=k=>{const H="jurisdiction-layer";v1(k,H);let g=vh(Sh);g=g.jurisdiction,k.addSource(H,{type:"geojson",data:g}),k.addLayer({id:H,source:H,type:"line",paint:{"line-color":"#000","line-width":2}})},o4=k=>{const H="demographic-layer";v1(k,H);let g=vh(Sh),L=vh(sm),G=g.tracts;G.features=G.features.map(O=>{const a=O.properties.TRACT_ID,j=L.data.find(Z=>Z.TRACT_ID===a);return O.properties.color=j?j.color:"#f00",O});let J=Em(k);k.addSource(H,{type:"geojson",data:G}),k.addLayer({id:H,source:H,type:"fill",paint:{"fill-color":["get","color"]}},J)},a4=k=>{let H=vh(Sh);const L=vh(C2).data.map(ye=>ye.STATION_ID);let G=JSON.parse(JSON.stringify(H.stations));G.features=G.features.filter(ye=>L.includes(ye.properties.STATION_ID));let J="stations-layer";v1(k,J),k.addSource(J,{type:"geojson",data:G}),k.addLayer({id:J,source:J,type:"circle",paint:{"circle-color":"#000","circle-radius":7,"circle-pitch-alignment":"map"}}),J="stations-area-layer",v1(k,J);let O=.5,a=G.features.map(ye=>{let me=ye.geometry.coordinates;return Lf(me,O,{steps:30,units:"miles",properties:ye.properties})}),j=a[0];for(let ye of a)j=n4(j,ye);G.features=[j];let Z=Em(k);k.addSource(J,{type:"geojson",data:G}),k.addLayer({id:J,source:J,type:"fill",paint:{"fill-color":"rgba(255,255,0,.3)"}},Z)},l4=k=>{let H=vh(yp),L=vh(C2).data.map(J=>{let O=+J.baseline_under_zoning,a=+J[H]-O,j=[+J.lat,+J.long];return{baseline:O,additional:a,coords:j,...J}});const G="housing-layer";v1(k,G),k.addLayer({id:G,type:"custom",renderingMode:"3d",onAdd:function(J,O){window.tb=new Yu.exports.Threebox(J,O,{defaultLights:!0}),L.forEach(a=>{const j=new Yu.exports.THREE.Group;let Z=.03,ye=a.baseline*Z;const me=new Yu.exports.THREE.Mesh(new Yu.exports.THREE.BoxGeometry(100,100,ye),new Yu.exports.THREE.MeshStandardMaterial({color:"#696969",opacity:1,roughness:1}));if(me.position.set(0,0,0),j.add(me),a.additional>0){const ht=a.additional*Z,Ht=new Yu.exports.THREE.Mesh(new Yu.exports.THREE.BoxGeometry(100,100,ht),new Yu.exports.THREE.MeshStandardMaterial({color:"#FDC11B",opacity:1,roughness:1}));let Se=.5*(ye+ht);Ht.position.set(0,0,Se),j.add(Ht)}let rt=tb.Object3D({obj:j,units:"meters",anchor:"center"});rt.setCoords(a.coords),tb.add(rt)})},render:function(J,O){tb.update()}}),console.log("housing data",L)},_4="pk.eyJ1IjoiamVmZm1hY2lubmVzIiwiYSI6ImNqa2J4YzFodTBmanczcW55eHpja2swajMifQ.7fId2nnniqWGQiMPqIEv_g",f1={longitude:-122.3321,latitude:47.6062,zoom:11,pitch:20,bearing:0};function u4(k){let H,g;return{c(){H=eu("div"),g=eu("div"),this.h()},l(L){H=tu(L,"DIV",{class:!0});var G=qu(H);g=tu(G,"DIV",{id:!0,class:!0}),qu(g).forEach(za),G.forEach(za),this.h()},h(){$u(g,"id","map"),$u(g,"class","svelte-7koo58"),$u(H,"class","map-container svelte-7koo58")},m(L,G){bh(L,H,G),iu(H,g),k[6](g)},p:yh,i:yh,o:yh,d(L){L&&za(H),k[6](null)}}}let c4="mapbox://styles/jeffmacinnes/cka6el67h0hng1imogwwb9mkc";function h4(k,H,g){let L,G,J,O,a;Al(k,Sh,ht=>g(1,L=ht)),Al(k,yp,ht=>g(2,G=ht)),Al(k,C2,ht=>g(3,J=ht)),Al(k,sm,ht=>g(4,O=ht)),Al(k,yf,ht=>g(5,a=ht));let j=null,Z;d5(()=>{j=new Pf.Map({accessToken:_4,container:Z,antialias:!0,interactive:!0,style:c4,center:[f1.longitude,f1.latitude],zoom:f1.zoom,pitch:f1.pitch,bearing:f1.bearing}),j.on("load",function(){j.resize(),console.log("mounted and loaded  "),me(["jurisdiction","demographic","stations","housing"]),ye()})});const ye=()=>{if(!j||Object.keys(a).length===0)return;let{lng:ht,lat:Ht,zoom:Se,pitch:Be,bearing:Gt}=a;j.flyTo({center:[ht,Ht],zoom:Se,pitch:Be,bearing:Gt,speed:.5,essential:!0})},me=ht=>{!j||Object.keys(L).length!==0&&(console.log("updating layers: ",ht),ht.forEach(Ht=>{switch(Ht){case"jurisdiction":s4(j);break;case"demographic":o4(j);break;case"stations":a4(j);break;case"housing":l4(j);break;default:console.log("Can not find a layer that matches ",Ht)}}))};function rt(ht){q3[ht?"unshift":"push"](()=>{Z=ht,g(0,Z)})}return k.$$.update=()=>{k.$$.dirty&32&&ye(),k.$$.dirty&2&&me(["jurisdiction","demographic"]),k.$$.dirty&16&&me(["demographic"]),k.$$.dirty&8&&me(["stations","housing"]),k.$$.dirty&4&&me(["housing"]),k.$$.dirty&2&&console.log(L)},[Z,L,G,J,O,a,rt]}let d4=class extends S1{constructor(H){super(),x1(this,H,h4,u4,C1,{})}};function p4(k){let H,g,L,G,J;return g=new Cf({}),G=new d4({}),{c(){H=eu("div"),hh(g.$$.fragment),L=nd(),hh(G.$$.fragment),this.h()},l(O){H=tu(O,"DIV",{class:!0});var a=qu(H);dh(g.$$.fragment,a),L=rd(a),dh(G.$$.fragment,a),a.forEach(za),this.h()},h(){$u(H,"class","wrapper svelte-dde2tm")},m(O,a){bh(O,H,a),ph(g,H,null),iu(H,L),ph(G,H,null),J=!0},p:yh,i(O){J||(mh(g.$$.fragment,O),mh(G.$$.fragment,O),J=!0)},o(O){fh(g.$$.fragment,O),fh(G.$$.fragment,O),J=!1},d(O){O&&za(H),gh(g),gh(G)}}}class m4 extends S1{constructor(H){super(),x1(this,H,null,p4,C1,{})}}function f4(k){let H,g,L,G,J;return G=new m4({}),{c(){H=eu("meta"),g=nd(),L=eu("section"),hh(G.$$.fragment),this.h()},l(O){const a=p5("svelte-155cx0z",document.head);H=tu(a,"META",{name:!0,content:!0}),a.forEach(za),g=rd(O),L=tu(O,"SECTION",{});var j=qu(L);dh(G.$$.fragment,j),j.forEach(za),this.h()},h(){document.title="Urban - Amz Puget Sound",$u(H,"name","description"),$u(H,"content","Svelte demo app")},m(O,a){iu(document.head,H),bh(O,g,a),bh(O,L,a),ph(G,L,null),J=!0},p:yh,i(O){J||(mh(G.$$.fragment,O),J=!0)},o(O){fh(G.$$.fragment,O),J=!1},d(O){za(H),O&&za(g),O&&za(L),gh(G)}}}class A4 extends S1{constructor(H){super(),x1(this,H,null,f4,C1,{})}}export{A4 as default};
